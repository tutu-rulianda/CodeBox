/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n((t=t||self).tf=t.tf||{})}(this,(function(t){"use strict";var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(t,e)};function e(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}function r(t,n,e,r){return new(e||(e=Promise))((function(o,a){function i(t){try{s(r.next(t))}catch(t){a(t)}}function u(t){try{s(r.throw(t))}catch(t){a(t)}}function s(t){t.done?o(t.value):new e((function(n){n(t.value)})).then(i,u)}s((r=r.apply(t,n||[])).next())}))}function o(t,n){var e,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(e)throw new TypeError("Generator is already executing.");for(;i;)try{if(e=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=n.call(t,i)}catch(t){a=[6,t],r=0}finally{e=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}var a=function(){function t(t,n){this.backend=t,this.dataMover=n,this.data=new WeakMap,this.dataIdsCount=0}return t.prototype.get=function(t){return this.data.has(t)||this.dataMover.moveData(this.backend,t),this.data.get(t)},t.prototype.set=function(t,n){this.dataIdsCount++,this.data.set(t,n)},t.prototype.has=function(t){return this.data.has(t)},t.prototype.delete=function(t){return this.dataIdsCount--,this.data.delete(t)},t.prototype.numDataIds=function(){return this.dataIdsCount},t}(),i=function(){function t(){}return t.prototype.time=function(t){return u("time")},t.prototype.read=function(t){return u("read")},t.prototype.readSync=function(t){return u("readSync")},t.prototype.numDataIds=function(){return u("numDataIds")},t.prototype.disposeData=function(t){return u("disposeData")},t.prototype.write=function(t,n,e){return u("write")},t.prototype.move=function(t,n,e,r){return u("move")},t.prototype.memory=function(){return u("memory")},t.prototype.floatPrecision=function(){return u("floatPrecision")},t.prototype.epsilon=function(){return 32===this.floatPrecision()?1e-7:1e-4},t.prototype.batchMatMul=function(t,n,e,r){return u("batchMatMul")},t.prototype.fusedBatchMatMul=function(t){t.a,t.b,t.transposeA,t.transposeB,t.bias,t.activation,t.preluActivationWeights;return u("fusedBatchMatMul")},t.prototype.slice=function(t,n,e){return u("slice")},t.prototype.stridedSlice=function(t,n,e,r){return u("stridedSlice")},t.prototype.unstack=function(t,n){return u("unstack")},t.prototype.reverse=function(t,n){return u("reverse")},t.prototype.concat=function(t,n){return u("concat")},t.prototype.neg=function(t){return u("neg")},t.prototype.add=function(t,n){return u("add")},t.prototype.addN=function(t){return u("addN")},t.prototype.subtract=function(t,n){return u("subtract")},t.prototype.multiply=function(t,n){return u("multiply")},t.prototype.realDivide=function(t,n){return u("realDivide")},t.prototype.floorDiv=function(t,n){return u("floorDiv")},t.prototype.sum=function(t,n){return u("sum")},t.prototype.prod=function(t,n){return u("prod")},t.prototype.unsortedSegmentSum=function(t,n,e){return u("unsortedSegmentSum")},t.prototype.argMin=function(t,n){return u("argMin")},t.prototype.argMax=function(t,n){return u("argMax")},t.prototype.equal=function(t,n){return u("equal")},t.prototype.notEqual=function(t,n){return u("notEqual")},t.prototype.less=function(t,n){return u("less")},t.prototype.lessEqual=function(t,n){return u("lessEqual")},t.prototype.greater=function(t,n){return u("greater")},t.prototype.greaterEqual=function(t,n){return u("greaterEqual")},t.prototype.logicalNot=function(t){return u("logicalNot")},t.prototype.logicalAnd=function(t,n){return u("logicalAnd")},t.prototype.logicalOr=function(t,n){return u("logicalOr")},t.prototype.where=function(t){return u("where")},t.prototype.select=function(t,n,e){return u("select")},t.prototype.topk=function(t,n,e){return u("topk")},t.prototype.min=function(t,n){return u("min")},t.prototype.minimum=function(t,n){return u("minimum")},t.prototype.mod=function(t,n){return u("mod")},t.prototype.max=function(t,n){return u("max")},t.prototype.maximum=function(t,n){return u("maximum")},t.prototype.all=function(t,n){return u("all")},t.prototype.any=function(t,n){return u("any")},t.prototype.squaredDifference=function(t,n){return u("squaredDifference")},t.prototype.ceil=function(t){return u("ceil")},t.prototype.floor=function(t){return u("floor")},t.prototype.round=function(t){return u("round")},t.prototype.sign=function(t){return u("sign")},t.prototype.isNaN=function(t){return u("isNaN")},t.prototype.isInf=function(t){return u("isInf")},t.prototype.isFinite=function(t){return u("isFinite")},t.prototype.pow=function(t,n){return u("pow")},t.prototype.exp=function(t){return u("exp")},t.prototype.expm1=function(t){return u("expm1")},t.prototype.softmax=function(t,n){return u("softmax")},t.prototype.log=function(t){return u("log")},t.prototype.log1p=function(t){return u("log1p")},t.prototype.sqrt=function(t){return u("sqrt")},t.prototype.rsqrt=function(t){return u("rsqrt")},t.prototype.square=function(t){return u("square")},t.prototype.reciprocal=function(t){return u("reciprocal")},t.prototype.relu=function(t){return u("relu")},t.prototype.relu6=function(t){return u("relu6")},t.prototype.prelu=function(t,n){return u("prelu")},t.prototype.elu=function(t){return u("elu")},t.prototype.eluDer=function(t,n){return u("eluDer")},t.prototype.selu=function(t){return u("selu")},t.prototype.int=function(t){return u("int")},t.prototype.clip=function(t,n,e){return u("clip")},t.prototype.abs=function(t){return u("abs")},t.prototype.complexAbs=function(t){return u("complexAbs")},t.prototype.sigmoid=function(t){return u("sigmoid")},t.prototype.softplus=function(t){return u("softplus")},t.prototype.sin=function(t){return u("sin")},t.prototype.cos=function(t){return u("cos")},t.prototype.tan=function(t){return u("tan")},t.prototype.asin=function(t){return u("asin")},t.prototype.acos=function(t){return u("acos")},t.prototype.atan=function(t){return u("atan")},t.prototype.atan2=function(t,n){return u("atan2")},t.prototype.sinh=function(t){return u("sinh")},t.prototype.cosh=function(t){return u("cosh")},t.prototype.tanh=function(t){return u("tanh")},t.prototype.asinh=function(t){return u("asinh")},t.prototype.acosh=function(t){return u("acosh")},t.prototype.atanh=function(t){return u("atanh")},t.prototype.erf=function(t){return u("erf")},t.prototype.step=function(t,n){return u("step")},t.prototype.fusedConv2d=function(t){t.input,t.filter,t.convInfo,t.bias,t.activation,t.preluActivationWeights;return u("fusedConv2d")},t.prototype.conv2d=function(t,n,e){return u("conv2d")},t.prototype.conv2dDerInput=function(t,n,e){return u("conv2dDerInput")},t.prototype.conv2dDerFilter=function(t,n,e){return u("conv2dDerFilter")},t.prototype.fusedDepthwiseConv2D=function(t){t.input,t.filter,t.convInfo,t.bias,t.activation,t.preluActivationWeights;return u("fusedDepthwiseConv2D")},t.prototype.depthwiseConv2D=function(t,n,e){return u("depthwiseConv2D")},t.prototype.depthwiseConv2DDerInput=function(t,n,e){return u("depthwiseConv2DDerInput")},t.prototype.depthwiseConv2DDerFilter=function(t,n,e){return u("depthwiseConv2DDerFilter")},t.prototype.conv3d=function(t,n,e){return u("conv3d")},t.prototype.conv3dDerInput=function(t,n,e){return u("conv3dDerInput")},t.prototype.conv3dDerFilter=function(t,n,e){return u("conv3dDerFilter")},t.prototype.maxPool=function(t,n){return u("maxPool")},t.prototype.maxPoolBackprop=function(t,n,e,r){return u("maxPoolBackprop")},t.prototype.avgPool=function(t,n){return u("avgPool")},t.prototype.avgPoolBackprop=function(t,n,e){return u("avgPoolBackprop")},t.prototype.avgPool3d=function(t,n){return u("avgPool3d")},t.prototype.avgPool3dBackprop=function(t,n,e){return u("avgPool3dBackprop")},t.prototype.maxPool3d=function(t,n){return u("maxPool3d")},t.prototype.maxPool3dBackprop=function(t,n,e,r){return u("maxPool3dBackprop")},t.prototype.reshape=function(t,n){return u("reshape")},t.prototype.cast=function(t,n){return u("cast")},t.prototype.tile=function(t,n){return u("tile")},t.prototype.pad=function(t,n,e){return u("pad")},t.prototype.transpose=function(t,n){return u("transpose")},t.prototype.gather=function(t,n,e){return u("gather")},t.prototype.gatherND=function(t,n){return u("gatherND")},t.prototype.scatterND=function(t,n,e){return u("scatterND")},t.prototype.batchToSpaceND=function(t,n,e){return u("batchToSpaceND")},t.prototype.spaceToBatchND=function(t,n,e){return u("spaceToBatchND")},t.prototype.resizeBilinear=function(t,n,e,r){return u("resizeBilinear")},t.prototype.resizeBilinearBackprop=function(t,n,e){return u("resizeBilinearBackprop")},t.prototype.resizeNearestNeighbor=function(t,n,e,r){return u("resizeNearestNeighbor")},t.prototype.resizeNearestNeighborBackprop=function(t,n,e){return u("resizeNearestNeighborBackprop")},t.prototype.batchNorm=function(t,n,e,r,o,a){return u("batchNorm")},t.prototype.localResponseNormalization4D=function(t,n,e,r,o){return u("localResponseNormalization4D")},t.prototype.LRNGrad=function(t,n,e,r,o,a,i){return u("LRNGrad")},t.prototype.multinomial=function(t,n,e,r){return u("multinomial")},t.prototype.oneHot=function(t,n,e,r){return u("oneHot")},t.prototype.cumsum=function(t,n,e,r){return u("cumsum")},t.prototype.nonMaxSuppression=function(t,n,e,r,o){return u("nonMaxSuppression")},t.prototype.fft=function(t){return u("fft")},t.prototype.ifft=function(t){return u("ifft")},t.prototype.complex=function(t,n){return u("complex")},t.prototype.real=function(t){return u("real")},t.prototype.imag=function(t){return u("imag")},t.prototype.cropAndResize=function(t,n,e,r,o,a){return u("cropAndResize")},t.prototype.depthToSpace=function(t,n,e){return u("depthToSpace")},t.prototype.split=function(t,n,e){return u("split")},t.prototype.sparseToDense=function(t,n,e,r){return u("sparseToDense")},t.prototype.diag=function(t){return u("diag")},t.prototype.fill=function(t,n,e){return u("fill")},t.prototype.onesLike=function(t){return u("onesLike")},t.prototype.zerosLike=function(t){return u("zerosLike")},t.prototype.linspace=function(t,n,e){return u("linspace")},t.prototype.dispose=function(){return u("dispose")},t}();function u(t){throw new Error("'"+t+"' not yet implemented or not found in the registry. This kernel may not be supported by the tfjs backend you have chosen")}var s,c=function(){function t(t){this.global=t,this.flags={},this.flagRegistry={},this.urlFlags={},this.populateURLFlags()}return t.prototype.setPlatform=function(t,n){null!=this.platform&&console.warn("Platform "+this.platformName+" has already been set. Overwriting the platform with "+n+"."),this.platformName=t,this.platform=n},t.prototype.registerFlag=function(t,n,e){if(this.flagRegistry[t]={evaluationFn:n,setHook:e},null!=this.urlFlags[t]){var r=this.urlFlags[t];console.warn("Setting feature override from URL "+t+": "+r+"."),this.set(t,r)}},t.prototype.getAsync=function(t){return r(this,void 0,void 0,(function(){var n,e;return o(this,(function(r){switch(r.label){case 0:return t in this.flags?[2,this.flags[t]]:(n=this.flags,e=t,[4,this.evaluateFlag(t)]);case 1:return n[e]=r.sent(),[2,this.flags[t]]}}))}))},t.prototype.get=function(t){if(t in this.flags)return this.flags[t];var n=this.evaluateFlag(t);if(n instanceof Promise)throw new Error("Flag "+t+" cannot be synchronously evaluated. Please use getAsync() instead.");return this.flags[t]=n,this.flags[t]},t.prototype.getNumber=function(t){return this.get(t)},t.prototype.getBool=function(t){return this.get(t)},t.prototype.getFlags=function(){return this.flags},Object.defineProperty(t.prototype,"features",{get:function(){return this.flags},enumerable:!0,configurable:!0}),t.prototype.set=function(t,n){if(null==this.flagRegistry[t])throw new Error("Cannot set flag "+t+" as it has not been registered.");this.flags[t]=n,null!=this.flagRegistry[t].setHook&&this.flagRegistry[t].setHook(n)},t.prototype.evaluateFlag=function(t){if(null==this.flagRegistry[t])throw new Error("Cannot evaluate flag '"+t+"': no evaluation function found.");return this.flagRegistry[t].evaluationFn()},t.prototype.setFlags=function(t){this.flags=Object.assign({},t)},t.prototype.reset=function(){this.flags={},this.urlFlags={},this.populateURLFlags()},t.prototype.populateURLFlags=function(){var t=this;if(void 0!==this.global&&void 0!==this.global.location&&void 0!==this.global.location.search){var n,e,r=(n=this.global.location.search,e={},n.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,(function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return l(e,n[0],n[1]),n.join("=")})),e);if("tfjsflags"in r)r.tfjsflags.split(",").forEach((function(n){var e=n.split(":"),r=e[0],o=e[1];t.urlFlags[r]=function(t,n){if("true"===(n=n.toLowerCase())||"false"===n)return"true"===n;if(""+ +n===n)return+n;throw new Error("Could not parse value flag value "+n+" for flag "+t+".")}(r,o)}))}},t}();function l(t,n,e){t[decodeURIComponent(n)]=decodeURIComponent(e||"")}function f(){return t.ENV}function p(){if(null==s){var t=void 0;if("undefined"!=typeof window)t=window;else if("undefined"!=typeof global)t=global;else if("undefined"!=typeof process)t=process;else{if("undefined"==typeof self)throw new Error("Could not find a global object");t=self}s=t}return s}function h(t,n){var e,r=(null==(e=p())._tfGlobals&&(e._tfGlobals=new Map),e._tfGlobals);if(r.has(t))return r.get(t);var o=n();return r.set(t,o),r.get(t)}t.ENV=null;var d=h("kernelRegistry",(function(){return new Map})),v=h("gradRegistry",(function(){return new Map}));function m(t,n){var e=k(t,n);return d.get(e)}function g(t){return v.get(t)}function y(t){for(var n=d.entries(),e=[];;){var r=n.next(),o=r.done,a=r.value;if(o)break;var i=a[0],u=a[1];i.split("_")[0]===t&&e.push(u)}return e}function b(t){var n=t.kernelName,e=t.backendName,r=k(n,e);d.has(r)&&console.warn("The kernel '"+n+"' for backend '"+e+"' is already registered"),d.set(r,t)}function w(t){var n=t.kernelName;v.has(n)&&f().getBool("DEBUG")&&console.warn("Overriding the gradient for '"+n+"'"),v.set(n,t)}function k(t,n){return n+"_"+t}function x(t){for(var n=t.length,e=0,r=0;n>0;)r=Math.random()*n|0,e=t[--n],t[n]=t[r],t[r]=e}function S(t,n,e){return Math.max(t,Math.min(n,e))}function E(t,n){if(!t)throw new Error("string"==typeof n?n:n())}function D(t,n,e){void 0===e&&(e=""),E(A(t,n),(function(){return e+" Shapes "+t+" and "+n+" must match"}))}function N(t){E(null!=t,(function(){return"The input to the tensor constructor must be a non-null value."}))}function I(t,n,e){if(void 0===n&&(n=[]),void 0===e&&(e=!1),null==n&&(n=[]),Array.isArray(t)||O(t)&&!e)for(var r=0;r<t.length;++r)I(t[r],n,e);else n.push(t);return n}function F(t){if(0===t.length)return 1;for(var n=t[0],e=1;e<t.length;e++)n*=t[e];return n}function A(t,n){if(t===n)return!0;if(null==t||null==n)return!1;if(t.length!==n.length)return!1;for(var e=0;e<t.length;e++)if(t[e]!==n[e])return!1;return!0}function T(t){return t%1==0}function M(t,n){return n<=t.length?t:t+" ".repeat(n-t.length)}function _(t,n){for(var e=1,r=-1,o=0;o<t.length;++o)if(t[o]>=0)e*=t[o];else if(-1===t[o]){if(-1!==r)throw Error("Shapes can only have 1 implicit size. Found -1 at dim "+r+" and dim "+o);r=o}else if(t[o]<0)throw Error("Shapes can not be < 0. Found "+t[o]+" at dim "+o);if(-1===r){if(n>0&&n!==e)throw Error("Size("+n+") must match the product of shape "+t);return t}if(0===e)throw Error("Cannot infer the missing size in ["+t+"] when there are 0 elements");if(n%e!=0)throw Error("The implicit shape can't be a fractional number. Got "+n+" / "+e);var a=t.slice();return a[r]=n/e,a}function B(t,n){var e=n.length;return E((t=null==t?n.map((function(t,n){return n})):[].concat(t)).every((function(t){return t>=-e&&t<e})),(function(){return"All values in axis param must be in range [-"+e+", "+e+") but got axis "+t})),E(t.every((function(t){return T(t)})),(function(){return"All values in axis param must be integers but got axis "+t})),t.map((function(t){return t<0?e+t:t}))}function R(t,n){for(var e=[],r=[],o=null!=n&&Array.isArray(n)&&0===n.length,a=null==n||o?null:B(n,t).sort(),i=0,u=0;u<t.length;++u){if(null!=a){if(a[i]===u&&1!==t[u])throw new Error("Can't squeeze axis "+u+" since its dim '"+t[u]+"' is not 1");(null==a[i]||a[i]>u)&&1===t[u]&&(e.push(t[u]),r.push(u)),a[i]<=u&&i++}1!==t[u]&&(e.push(t[u]),r.push(u))}return{newShape:e,keptDims:r}}function C(t,n){var e=null;if(null==t||"float32"===t)e=new Float32Array(n);else if("int32"===t)e=new Int32Array(n);else{if("bool"!==t)throw new Error("Unknown data type "+t);e=new Uint8Array(n)}return e}function P(t,n){var e=null;if(null==t||"float32"===t)e=new Float32Array(n);else if("int32"===t)e=new Int32Array(n);else if("bool"===t)e=new Uint8Array(n);else{if("string"!==t)throw new Error("Unknown data type "+t);e=new Array(n)}return e}function L(t,n){for(var e=0;e<t.length;e++){var r=t[e];if(isNaN(r)||!isFinite(r))throw Error("A tensor of type "+n+" being uploaded contains "+r+".")}}function z(t){return"bool"===t||"complex64"===t||"float32"===t||"int32"===t||"string"===t}function q(t,n){return"complex64"!==n&&(("float32"!==n||"complex64"===t)&&(("int32"!==n||"float32"===t||"complex64"===t)&&("bool"!==n||"bool"!==t)))}function O(t){return t instanceof Float32Array||t instanceof Int32Array||t instanceof Uint8Array}function W(t){if("float32"===t||"int32"===t)return 4;if("complex64"===t)return 8;if("bool"===t)return 1;throw new Error("Unknown dtype "+t)}function K(t){if(null==t)return 0;var n=0;return t.forEach((function(t){return n+=t.length})),n}function U(t){return"string"==typeof t||t instanceof String}function G(t){return"boolean"==typeof t}function V(t){return"number"==typeof t}function H(t){return Array.isArray(t)?H(t[0]):t instanceof Float32Array?"float32":t instanceof Int32Array||t instanceof Uint8Array?"int32":V(t)?"float32":U(t)?"string":G(t)?"bool":"float32"}function j(t){return!!(t&&t.constructor&&t.call&&t.apply)}function J(t,n){for(var e=n;e<t;++e)if(t%e==0)return e;return t}function Y(t){var n=t.length;if(n<2)return[];var e=new Array(n-1);e[n-2]=t[n-1];for(var r=n-3;r>=0;--r)e[r]=e[r+1]*t[r+1];return e}function Z(t,n){if("string"===n)throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(t)&&(t=I(t)),f().getBool("DEBUG")&&L(t,n),function(t,n){return t instanceof Float32Array&&"float32"===n||t instanceof Int32Array&&"int32"===n||t instanceof Uint8Array&&"bool"===n}(t,n))return t;if(null==n||"float32"===n||"complex64"===n)return new Float32Array(t);if("int32"===n)return new Int32Array(t);if("bool"===n){for(var e=new Uint8Array(t.length),r=0;r<e.length;++r)0!==Math.round(t[r])&&(e[r]=1);return e}throw new Error("Unknown data type "+n)}function X(t,n){if(0===t.length)return n[0];var e=t.reduce((function(t,n){return t*n}));if(0===e)return[];if(e!==n.length)throw new Error("["+t+"] does not match the input size "+n.length+".");return function t(n,e,r){var o=new Array;if(1===e.length)for(var a=e[0],i=0;i<a;i++)o[i]=r[n+i];else{a=e[0];var u=e.slice(1),s=u.reduce((function(t,n){return t*n}));for(i=0;i<a;i++)o[i]=t(n+i*s,u,r)}return o}(0,t,n)}function $(t,n){for(var e=Q(t,n),r=0;r<e.length;r++)e[r]=1;return e}function Q(t,n){if(null==n||"float32"===n||"complex64"===n)return new Float32Array(t);if("int32"===n)return new Int32Array(t);if("bool"===n)return new Uint8Array(t);throw new Error("Unknown data type "+n)}function tt(){return f().platform.now()}function nt(t){t.forEach((function(n){E(Number.isInteger(n)&&n>=0,(function(){return"Tensor must have a shape comprised of positive integers but got shape ["+t+"]."}))}))}function et(t,n){return void 0===n&&(n="utf-8"),n=n||"utf-8",f().platform.encode(t,n)}function rt(t,n){return void 0===n&&(n="utf-8"),n=n||"utf-8",f().platform.decode(t,n)}var ot={__proto__:null,shuffle:x,clamp:S,nearestLargerEven:function(t){return t%2==0?t:t+1},sum:function(t){for(var n=0,e=0;e<t.length;e++)n+=t[e];return n},randUniform:function(t,n){var e=Math.random();return n*e+(1-e)*t},distSquared:function(t,n){for(var e=0,r=0;r<t.length;r++){var o=Number(t[r])-Number(n[r]);e+=o*o}return e},assert:E,assertShapesMatch:D,assertNonNull:N,flatten:I,sizeFromShape:F,isScalarShape:function(t){return 0===t.length},arraysEqual:A,isInt:T,tanh:function(t){if(null!=Math.tanh)return Math.tanh(t);if(t===1/0)return 1;if(t===-1/0)return-1;var n=Math.exp(2*t);return(n-1)/(n+1)},sizeToSquarishShape:function(t){var n=Math.ceil(Math.sqrt(t));return[n,Math.ceil(t/n)]},createShuffledIndices:function(t){for(var n=new Uint32Array(t),e=0;e<t;++e)n[e]=e;return x(n),n},rightPad:M,repeatedTry:function(t,n,e){return void 0===n&&(n=function(t){return 0}),new Promise((function(r,o){var a=0,i=function(){if(t())r();else{a++;var u=n(a);null!=e&&a>=e?o():setTimeout(i,u)}};i()}))},inferFromImplicitShape:_,parseAxisParam:B,squeezeShape:R,getTypedArrayFromDType:C,getArrayFromDType:P,checkConversionForErrors:L,isValidDtype:z,hasEncodingLoss:q,isTypedArray:O,bytesPerElement:W,bytesFromStringArray:K,isString:U,isBoolean:G,isNumber:V,inferDtype:H,isFunction:j,nearestDivisor:J,computeStrides:Y,createScalarValue:function(t,n){return"string"===n?et(t):Z([t],n)},toTypedArray:Z,toNestedArray:X,makeOnesTypedArray:$,makeZerosTypedArray:Q,makeZerosNestedTypedArray:function(t,n){var e=t.reduce((function(t,n){return t*n}),1);if(null==n||"float32"===n)return X(t,new Float32Array(e));if("int32"===n)return X(t,new Int32Array(e));if("bool"===n)return X(t,new Uint8Array(e));throw new Error("Unknown data type "+n)},now:tt,assertNonNegativeIntegerDimensions:nt,fetch:function(t,n){return f().platform.fetch(t,n)},encodeString:et,decodeString:rt,locToIndex:function(t,n,e){if(0===n)return 0;if(1===n)return t[0];for(var r=t[t.length-1],o=0;o<t.length-1;++o)r+=e[o]*t[o];return r},indexToLoc:function(t,n,e){if(0===n)return[];if(1===n)return[t];for(var r=new Array(n),o=0;o<r.length-1;++o)r[o]=Math.floor(t/e[o]),t-=r[o]*e[o];return r[r.length-1]=t,r}},at=function(){function t(t,n){this.backendTimer=t,this.logger=n,null==n&&(this.logger=new it)}return t.prototype.profileKernel=function(t,n,e){for(var r,o=this.backendTimer.time((function(){r=e()})),a=function(n){var e=r[n];e.data().then((function(n){!function(t,n,e){if("float32"!==n)return!1;for(var r=0;r<t.length;r++){var o=t[r];if(isNaN(o)||!isFinite(o))return console.warn("Found "+o+" in the result of '"+e+"'"),!0}}(n,e.dtype,t)}))},i=0;i<r.length;i++)a(i);return{kernelName:t,outputs:r,inputs:n,timeMs:o.then((function(t){return t.kernelMs})),extraInfo:o.then((function(t){return null!=t.getExtraProfileInfo?t.getExtraProfileInfo():""}))}},t.prototype.logKernelProfile=function(t){var n=this,e=t.kernelName,r=t.outputs,o=t.timeMs,a=t.inputs,i=t.extraInfo;r.forEach((function(t){Promise.all([t.data(),o,i]).then((function(r){n.logger.logKernelProfile(e,t,r[0],r[1],a,r[2])}))}))},t}();var it=function(){function t(){}return t.prototype.logKernelProfile=function(t,n,e,r,o,a){var i="number"==typeof r?M(r+"ms",9):r.error,u=M(t,25),s=n.rank,c=n.size,l=M(n.shape.toString(),14),f="";for(var p in o){var h=o[p];if(null!=h){var d=h.shape||n.shape,v=d.length;f+=p+": "+v+"D "+(v>0?d:"")+" "}}console.log("%c"+u+"\t%c"+i+"\t%c"+s+"D "+l+"\t%c"+c+"\t%c"+f+"\t%c"+a,"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")},t}();function ut(t,n,e,r){var o=Y(n),a=function(t,n,e,r){var o=F(n),a=r[r.length-1],i=new Array(a).fill(0),u=n.length,s="complex64"===e?lt(t):t;if(u>1)for(var c=0;c<o/a;c++)for(var l=c*a,f=0;f<a;f++)i[f]=Math.max(i[f],st(s[l+f],0,e).length);return i}(t,n,e,o),i=n.length,u=function t(n,e,r,o,a,i){void 0===i&&(i=!0);var u="complex64"===r?2:1,s=e[0],c=e.length;if(0===c){return"complex64"===r?[st(lt(n)[0],0,r)]:"bool"===r?[ct(n[0])]:[n[0].toString()]}if(1===c){if(s>20){var l=3*u,f=Array.from(n.slice(0,l)),p=Array.from(n.slice((s-3)*u,s*u));return"complex64"===r&&(f=lt(f),p=lt(p)),["["+f.map((function(t,n){return st(t,a[n],r)})).join(", ")+", ..., "+p.map((function(t,n){return st(t,a[s-3+n],r)})).join(", ")+"]"]}return["["+("complex64"===r?lt(n):Array.from(n)).map((function(t,n){return st(t,a[n],r)})).join(", ")+"]"]}var h=e.slice(1),d=o.slice(1),v=o[0]*u,m=[];if(s>20){for(var g=0;g<3;g++){var y=(b=g*v)+v;m.push.apply(m,t(n.slice(b,y),h,r,d,a,!1))}m.push("...");for(g=s-3;g<s;g++){y=(b=g*v)+v;m.push.apply(m,t(n.slice(b,y),h,r,d,a,g===s-1))}}else for(g=0;g<s;g++){var b;y=(b=g*v)+v;m.push.apply(m,t(n.slice(b,y),h,r,d,a,g===s-1))}var w=2===c?",":"";m[0]="["+m[0]+w;for(g=1;g<m.length-1;g++)m[g]=" "+m[g]+w;var k=",\n";for(g=2;g<c;g++)k+="\n";return m[m.length-1]=" "+m[m.length-1]+"]"+(i?"":k),m}(t,n,e,o,a),s=["Tensor"];return r&&(s.push("  dtype: "+e),s.push("  rank: "+i),s.push("  shape: ["+n+"]"),s.push("  values:")),s.push(u.map((function(t){return"    "+t})).join("\n")),s.join("\n")}function st(t,n,e){return M(Array.isArray(t)?parseFloat(t[0].toFixed(7))+" + "+parseFloat(t[1].toFixed(7))+"j":U(t)?"'"+t+"'":"bool"===e?ct(t):parseFloat(t.toFixed(7)).toString(),n)}function ct(t){return 0===t?"false":"true"}function lt(t){for(var n=[],e=0;e<t.length;e+=2)n.push([t[e],t[e+1]]);return n}var ft=function(){function t(t,n,e){var r=this;if(this.dtype=n,this.shape=t.slice(),this.size=F(t),null!=e){var o=e.length;E(o===this.size,(function(){return"Length of values '"+o+"' does not match the size inferred by the shape '"+r.size+"'."}))}if("complex64"===n)throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=e||P(n,this.size),this.strides=Y(t)}return t.prototype.set=function(t){for(var n=this,e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];0===e.length&&(e=[0]),E(e.length===this.rank,(function(){return"The number of provided coordinates ("+e.length+") must match the rank ("+n.rank+")"}));var o=this.locToIndex(e);this.values[o]=t},t.prototype.get=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];0===t.length&&(t=[0]);for(var e=0,r=0,o=t;r<o.length;r++){var a=o[r];if(a<0||a>=this.shape[e]){var i="Requested out of range element at "+t+".   Buffer shape="+this.shape;throw new Error(i)}e++}for(var u=t[t.length-1],s=0;s<t.length-1;++s)u+=this.strides[s]*t[s];return this.values[u]},t.prototype.locToIndex=function(t){if(0===this.rank)return 0;if(1===this.rank)return t[0];for(var n=t[t.length-1],e=0;e<t.length-1;++e)n+=this.strides[e]*t[e];return n},t.prototype.indexToLoc=function(t){if(0===this.rank)return[];if(1===this.rank)return[t];for(var n=new Array(this.shape.length),e=0;e<n.length-1;++e)n[e]=Math.floor(t/this.strides[e]),t-=n[e]*this.strides[e];return n[n.length-1]=t,n},Object.defineProperty(t.prototype,"rank",{get:function(){return this.shape.length},enumerable:!0,configurable:!0}),t.prototype.toTensor=function(){return pt().makeTensor(this.values,this.shape,this.dtype)},t}(),pt=null,ht=null;var dt=function(){function t(t,n,e,r){this.kept=!1,this.isDisposedInternal=!1,this.shape=t.slice(),this.dtype=n||"float32",this.size=F(t),this.strides=Y(t),this.dataId=e,this.id=r,this.rankType=this.rank<5?this.rank.toString():"higher"}return Object.defineProperty(t.prototype,"rank",{get:function(){return this.shape.length},enumerable:!0,configurable:!0}),t.prototype.buffer=function(){return r(this,void 0,void 0,(function(){var t;return o(this,(function(n){switch(n.label){case 0:return[4,this.data()];case 1:return t=n.sent(),[2,ht.buffer(this.shape,this.dtype,t)]}}))}))},t.prototype.bufferSync=function(){return ht.buffer(this.shape,this.dtype,this.dataSync())},t.prototype.array=function(){return r(this,void 0,void 0,(function(){var t;return o(this,(function(n){switch(n.label){case 0:return[4,this.data()];case 1:return t=n.sent(),[2,X(this.shape,t)]}}))}))},t.prototype.arraySync=function(){return X(this.shape,this.dataSync())},t.prototype.data=function(){return r(this,void 0,void 0,(function(){var t,n;return o(this,(function(e){switch(e.label){case 0:return this.throwIfDisposed(),t=pt().read(this.dataId),"string"!==this.dtype?[3,2]:[4,t];case 1:n=e.sent();try{return[2,n.map((function(t){return rt(t)}))]}catch(t){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}e.label=2;case 2:return[2,t]}}))}))},t.prototype.dataSync=function(){this.throwIfDisposed();var t=pt().readSync(this.dataId);if("string"===this.dtype)try{return t.map((function(t){return rt(t)}))}catch(t){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return t},t.prototype.bytes=function(){return r(this,void 0,void 0,(function(){var t;return o(this,(function(n){switch(n.label){case 0:return this.throwIfDisposed(),[4,pt().read(this.dataId)];case 1:return t=n.sent(),"string"===this.dtype?[2,t]:[2,new Uint8Array(t.buffer)]}}))}))},t.prototype.dispose=function(){this.isDisposed||(pt().disposeTensor(this),this.isDisposedInternal=!0)},Object.defineProperty(t.prototype,"isDisposed",{get:function(){return this.isDisposedInternal},enumerable:!0,configurable:!0}),t.prototype.throwIfDisposed=function(){if(this.isDisposed)throw new Error("Tensor is disposed.")},t.prototype.print=function(t){return void 0===t&&(t=!1),ht.print(this,t)},t.prototype.clone=function(){return this.throwIfDisposed(),ht.clone(this)},t.prototype.toString=function(t){return void 0===t&&(t=!1),ut(this.dataSync(),this.shape,this.dtype,t)},t.prototype.cast=function(t){return this.throwIfDisposed(),ht.cast(this,t)},t.prototype.variable=function(t,n,e){return void 0===t&&(t=!0),this.throwIfDisposed(),pt().makeVariable(this,t,n,e)},t}();Object.defineProperty(dt,Symbol.hasInstance,{value:function(t){return!!t&&null!=t.data&&null!=t.dataSync&&null!=t.throwIfDisposed}});var vt,mt,gt,yt,bt,wt=function(t){function n(n,e,r,o){var a=t.call(this,n.shape,n.dtype,n.dataId,o)||this;return a.trainable=e,a.name=r,a}return e(n,t),n.prototype.assign=function(t){if(t.dtype!==this.dtype)throw new Error("dtype of the new value ("+t.dtype+") and previous value ("+this.dtype+") must match");if(!A(t.shape,this.shape))throw new Error("shape of the new value ("+t.shape+") and previous value ("+this.shape+") must match");pt().disposeTensor(this),this.dataId=t.dataId,pt().incRef(this,null)},n.prototype.dispose=function(){pt().disposeVariable(this),this.isDisposedInternal=!0},n}(dt);Object.defineProperty(wt,Symbol.hasInstance,{value:function(t){return t instanceof dt&&null!=t.assign&&t.assign instanceof Function}}),(vt=t.Rank||(t.Rank={})).R0="R0",vt.R1="R1",vt.R2="R2",vt.R3="R3",vt.R4="R4",vt.R5="R5",vt.R6="R6",function(t){t.float32="float32",t.int32="int32",t.bool="int32",t.complex64="complex64"}(mt||(mt={})),function(t){t.float32="float32",t.int32="int32",t.bool="bool",t.complex64="complex64"}(gt||(gt={})),function(t){t.float32="float32",t.int32="float32",t.bool="float32",t.complex64="complex64"}(yt||(yt={})),function(t){t.float32="complex64",t.int32="complex64",t.bool="complex64",t.complex64="complex64"}(bt||(bt={}));var kt={float32:yt,int32:mt,bool:gt,complex64:bt};function xt(t,n){if("string"===t||"string"===n){if("string"===t&&"string"===n)return"string";throw new Error("Can not upcast "+t+" with "+n)}return kt[t][n]}function St(t,n){if(t.dtype===n.dtype)return[t,n];var e=xt(t.dtype,n.dtype);return[t.cast(e),n.cast(e)]}function Et(t,n){E(t.dtype===n.dtype,(function(){return"The dtypes of the first("+t.dtype+") and second("+n.dtype+") input must match"}))}function Dt(t){var n=[];return function t(n,e,r){if(null==n)return;if(n instanceof dt)return void e.push(n);if(o=n,!Array.isArray(o)&&"object"!=typeof o)return;var o;var a=n;for(var i in a){var u=a[i];r.has(u)||(r.add(u),t(u,e,r))}}(t,n,new Set),n}var Nt={__proto__:null,makeTypesMatch:St,assertTypesMatch:Et,isTensorInList:function(t,n){return n.some((function(n){return n.id===t.id}))},getTensorsInContainer:Dt},It=function(){function t(){this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null}}return t.prototype.dispose=function(){for(var t in this.registeredVariables)this.registeredVariables[t].dispose()},t}(),Ft=function(){function t(t){this.ENV=t,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new It}return t.prototype.ready=function(){return r(this,void 0,void 0,(function(){var t,n,e;return o(this,(function(r){switch(r.label){case 0:if(null!=this.pendingBackendInit)return[2,this.pendingBackendInit.then((function(){}))];if(null!=this.backendInstance)return[2];t=this.getSortedBackends(),n=0,r.label=1;case 1:return n<t.length?(e=t[n],[4,this.initializeBackend(e).success]):[3,5];case 2:return r.sent()?[4,this.setBackend(e)]:[3,4];case 3:return r.sent(),[2];case 4:return n++,[3,1];case 5:throw new Error("Could not initialize any backends, all backend initializations failed.")}}))}))},Object.defineProperty(t.prototype,"backend",{get:function(){if(null!=this.pendingBackendInit)throw new Error("Backend '"+this.backendName+"' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods");if(null==this.backendInstance){var t=this.initializeBackendsAndReturnBest(),n=t.name;if(t.asyncInit)throw new Error("The highest priority backend '"+n+"' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods");this.setBackend(n)}return this.backendInstance},enumerable:!0,configurable:!0}),t.prototype.backendNames=function(){return Object.keys(this.registryFactory)},t.prototype.findBackend=function(t){if(!(t in this.registry)){if(!(t in this.registryFactory))return null;if(this.initializeBackend(t).asyncInit)return null}return this.registry[t]},t.prototype.findBackendFactory=function(t){return t in this.registryFactory?this.registryFactory[t].factory:null},t.prototype.registerBackend=function(t,n,e){return void 0===e&&(e=1),t in this.registryFactory?(console.warn(t+" backend was already registered. Reusing existing backend factory."),!1):(this.registryFactory[t]={factory:n,priority:e},!0)},t.prototype.setBackend=function(t){return r(this,void 0,void 0,(function(){var n,e,r;return o(this,(function(o){switch(o.label){case 0:if(null==this.registryFactory[t])throw new Error("Backend name '"+t+"' not found in registry");return this.backendName=t,null!=this.registry[t]?[3,4]:(this.backendInstance=null,n=this.initializeBackend(t),e=n.success,n.asyncInit?[4,e]:[3,2]);case 1:return r=o.sent(),[3,3];case 2:r=e,o.label=3;case 3:if(!r)return[2,!1];o.label=4;case 4:return this.backendInstance=this.registry[t],this.setupRegisteredKernels(),this.profiler=new at(this.backendInstance),[2,!0]}}))}))},t.prototype.setupRegisteredKernels=function(){var t=this;y(this.backendName).forEach((function(n){null!=n.setupFunc&&n.setupFunc(t.backendInstance)}))},t.prototype.disposeRegisteredKernels=function(t){var n=this;y(t).forEach((function(e){null!=e.disposeFunc&&e.disposeFunc(n.registry[t])}))},t.prototype.initializeBackend=function(t){var n=this,e=this.registryFactory[t];if(null==e)throw new Error("Cannot initialize backend "+t+", no registration found.");try{var r=e.factory();if(!r||r instanceof i||"function"!=typeof r.then)return this.registry[t]=r,{success:!0,asyncInit:!1};var o=++this.pendingBackendInitId,a=r.then((function(e){return!(o<n.pendingBackendInitId)&&(n.registry[t]=e,n.pendingBackendInit=null,!0)})).catch((function(e){return o<n.pendingBackendInitId||(n.pendingBackendInit=null,console.warn("Initialization of backend "+t+" failed"),console.warn(e.stack||e.message)),!1}));return this.pendingBackendInit=a,{success:a,asyncInit:!0}}catch(n){return console.warn("Initialization of backend "+t+" failed"),console.warn(n.stack||n.message),{success:!1,asyncInit:!1}}},t.prototype.removeBackend=function(t){if(!(t in this.registryFactory))throw new Error(t+" backend not found in registry");this.backendName===t&&null!=this.pendingBackendInit&&this.pendingBackendInitId++,t in this.registry&&(this.disposeRegisteredKernels(t),this.registry[t].dispose(),delete this.registry[t]),delete this.registryFactory[t],this.backendName===t&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)},t.prototype.getSortedBackends=function(){var t=this;if(0===Object.keys(this.registryFactory).length)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort((function(n,e){return t.registryFactory[e].priority-t.registryFactory[n].priority}))},t.prototype.initializeBackendsAndReturnBest=function(){for(var t=this.getSortedBackends(),n=0;n<t.length;n++){var e=t[n],r=this.initializeBackend(e),o=r.success,a=r.asyncInit;if(a||o)return{name:e,asyncInit:a}}throw new Error("Could not initialize any backends, all backend initializations failed.")},t.prototype.moveData=function(t,n){var e=this.state.tensorInfo.get(n),r=e.backend,o=this.readSync(n);r.disposeData(n),e.backend=t,t.move(n,o,e.shape,e.dtype),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++},t.prototype.tidy=function(t,n){var e,r=this,o=null;if(null==n){if("function"!=typeof t)throw new Error("Please provide a function to tidy()");n=t}else{if("string"!=typeof t&&!(t instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if("function"!=typeof n)throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");o=t}return this.scopedRun((function(){return r.startScope(o)}),(function(){return r.endScope(e)}),(function(){return(e=n())instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),e}))},t.prototype.scopedRun=function(t,n,e){t();try{var r=e();return n(),r}catch(t){throw n(),t}},t.prototype.nextTensorId=function(){return t.nextTensorId++},t.prototype.nextVariableId=function(){return t.nextVariableId++},t.prototype.clone=function(t){var n=this.makeTensorFromDataId(t.dataId,t.shape,t.dtype),e={x:t};return this.addTapeNode(this.state.activeScope.name,e,[n],(function(t){return{x:function(){var n={x:t},e={dtype:"float32"};return Tt.runKernelFunc((function(n){return n.cast(t,"float32")}),n,null,"Cast",e)}}}),[],{}),n},t.prototype.runKernel=function(t,n,e,r,o){return this.runKernelFunc(null,n,null,t,e,r,o)},t.prototype.shouldCheckForMemLeaks=function(){return this.ENV.getBool("IS_TEST")},t.prototype.checkKernelForMemLeak=function(t,n,e){var r=this.backend.numDataIds(),o=0;e.forEach((function(t){o+="complex64"===t.dtype?3:1}));var a=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],i=r-n-o-a;if(i>0)throw new Error("Backend '"+this.backendName+"' has an internal memory leak ("+i+" data ids) after running '"+t+"'")},t.prototype.runKernelFunc=function(t,n,e,r,o,a,i){var u,s=this,c=[],l=this.isTapeOn();null==r&&(r=null!=this.state.activeScope?this.state.activeScope.name:"");var f,p=this.state.numBytes,h=this.state.numTensors;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0);var d,v,g=m(r,this.backendName);if(null!=g)f=function(){var t=s.backend.numDataIds();d=g.kernelFunc({inputs:n,attrs:o,backend:s.backend});var e=Array.isArray(d)?d:[d];s.shouldCheckForMemLeaks()&&s.checkKernelForMemLeak(r,t,e);var u=e.map((function(t){var n=t.dataId,e=t.shape,r=t.dtype;return s.makeTensorFromDataId(n,e,r)}));if(l){var f=s.getTensorsForGradient(r,n,u);if(null==f){null==i&&(i=[]);var p=u.filter((function(t,n){return i[n]}));f=(a||[]).slice().concat(p)}c=s.saveTensorsForBackwardMode(f)}return u};else{var y=function(t){l&&(c=t.map((function(t){return s.keep(s.clone(t))})))};f=function(){var n=s.backend.numDataIds();d=s.tidy((function(){return t(s.backend,y)}));var e=Array.isArray(d)?d:[d];return s.shouldCheckForMemLeaks()&&s.checkKernelForMemLeak(r,n,e),e}}return this.scopedRun((function(){return s.state.kernelDepth++}),(function(){return s.state.kernelDepth--}),(function(){s.ENV.getBool("DEBUG")||s.state.profiling?(v=s.profiler.profileKernel(r,n,(function(){return f()})),s.ENV.getBool("DEBUG")&&s.profiler.logKernelProfile(v),u=v.outputs):u=f()})),l&&this.addTapeNode(r,n,u,e,c,o),this.state.profiling&&this.state.activeProfile.kernels.push({name:r,bytesAdded:this.state.numBytes-p,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-h,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(n).map((function(t){return null!=n[t]?n[t].shape:null})),outputShapes:u.map((function(t){return t.shape})),kernelTimeMs:v.timeMs,extraInfo:v.extraInfo}),Array.isArray(d)?u:u[0]},t.prototype.saveTensorsForBackwardMode=function(t){var n=this;return t.map((function(t){return n.keep(n.clone(t))}))},t.prototype.getTensorsForGradient=function(t,n,e){var r=g(t);if(null!=r){var o=r.inputsToSave||[],a=r.outputsToSave||[],i=void 0;r.saveAllInputs?(E(Array.isArray(n),(function(){return"saveAllInputs is true, expected inputs to be an array."})),i=Object.keys(n).map((function(t){return n[t]}))):i=o.map((function(t){return n[t]}));var u=e.filter((function(t,n){return a[n]}));return i.concat(u)}return null},t.prototype.makeTensor=function(t,n,e,r){if(null==t)throw new Error("Values passed to engine.makeTensor() are null");e=e||"float32",r=r||this.backend;var o=t;"string"===e&&U(t[0])&&(o=t.map((function(t){return et(t)})));var a=r.write(o,n,e),i=new dt(n,e,a,this.nextTensorId());if(this.incRef(i,r),"string"===e){var u=this.state.tensorInfo.get(a),s=K(o);this.state.numBytes+=s-u.bytes,u.bytes=s}return i},t.prototype.makeTensorFromDataId=function(t,n,e,r){var o=new dt(n,e=e||"float32",t,this.nextTensorId());return this.incRef(o,r),o},t.prototype.makeVariable=function(t,n,e,r){void 0===n&&(n=!0),e=e||this.nextVariableId().toString(),null!=r&&r!==t.dtype&&(t=t.cast(r));var o=new wt(t,n,e,this.nextTensorId());if(null!=this.state.registeredVariables[o.name])throw new Error("Variable with name "+o.name+" was already registered");return this.state.registeredVariables[o.name]=o,this.incRef(o,this.backend),o},t.prototype.incRef=function(t,n){var e=this.state.tensorInfo.has(t.dataId)?this.state.tensorInfo.get(t.dataId).refCount:0;if(this.state.numTensors++,"string"===t.dtype&&this.state.numStringTensors++,0===e){this.state.numDataBuffers++;var r=0;"complex64"!==t.dtype&&"string"!==t.dtype&&(r=t.size*W(t.dtype)),this.state.tensorInfo.set(t.dataId,{backend:n||this.backend,dtype:t.dtype,shape:t.shape,bytes:r,refCount:0}),this.state.numBytes+=r}this.state.tensorInfo.get(t.dataId).refCount++,t instanceof wt||this.track(t)},t.prototype.disposeTensor=function(t){if(this.state.tensorInfo.has(t.dataId)){this.state.numTensors--,"string"===t.dtype&&this.state.numStringTensors--;var n=this.state.tensorInfo.get(t.dataId);n.refCount<=1?("complex64"!==t.dtype&&(this.state.numBytes-=n.bytes),this.state.numDataBuffers--,n.backend.disposeData(t.dataId),this.state.tensorInfo.delete(t.dataId)):this.state.tensorInfo.get(t.dataId).refCount--}},t.prototype.disposeVariables=function(){for(var t in this.state.registeredVariables){var n=this.state.registeredVariables[t];this.disposeVariable(n)}},t.prototype.disposeVariable=function(t){this.disposeTensor(t),null!=this.state.registeredVariables[t.name]&&delete this.state.registeredVariables[t.name]},t.prototype.memory=function(){var t=this.backend.memory();return t.numTensors=this.state.numTensors,t.numDataBuffers=this.state.numDataBuffers,t.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(t.unreliable=!0,null==t.reasons&&(t.reasons=[]),t.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),t},t.prototype.profile=function(t){return r(this,void 0,void 0,(function(){var n,e,r,a,i,u,s,c;return o(this,(function(o){switch(o.label){case 0:return this.state.profiling=!0,n=this.state.numBytes,e=this.state.numTensors,this.state.activeProfile.kernels=[],r=this.state.activeProfile,[4,t()];case 1:r.result=o.sent(),this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max.apply(Math,this.state.activeProfile.kernels.map((function(t){return t.totalBytesSnapshot}))),this.state.activeProfile.newBytes=this.state.numBytes-n,this.state.activeProfile.newTensors=this.state.numTensors-e,a=0,i=this.state.activeProfile.kernels,o.label=2;case 2:return a<i.length?(u=i[a],s=u,[4,u.kernelTimeMs]):[3,6];case 3:return s.kernelTimeMs=o.sent(),c=u,[4,u.extraInfo];case 4:c.extraInfo=o.sent(),o.label=5;case 5:return a++,[3,2];case 6:return[2,this.state.activeProfile]}}))}))},t.prototype.isTapeOn=function(){return this.state.gradientDepth>0&&0===this.state.kernelDepth},t.prototype.addTapeNode=function(t,n,e,r,o,a){var i=this,u={id:this.state.nextTapeNodeId++,kernelName:t,inputs:n,outputs:e,saved:o},s=g(t);null!=s&&(r=s.gradFunc),null!=r&&(u.gradient=function(t){return t=t.map((function(t,n){if(null==t){var r=e[n],o=Q(r.size,r.dtype);return i.makeTensor(o,r.shape,r.dtype)}return t})),r(t.length>1?t:t[0],o,a)}),this.state.activeTape.push(u)},t.prototype.keep=function(t){return t.kept=!0,t},t.prototype.startTape=function(){0===this.state.gradientDepth&&(this.state.activeTape=[]),this.state.gradientDepth++},t.prototype.endTape=function(){this.state.gradientDepth--},t.prototype.startScope=function(t){var n={track:[],name:"unnamed scope",id:this.state.nextScopeId++};t&&(n.name=t),this.state.scopeStack.push(n),this.state.activeScope=n},t.prototype.endScope=function(t){for(var n=this,e=Dt(t),r=new Set(e.map((function(t){return t.id}))),o=0;o<this.state.activeScope.track.length;o++){var a=this.state.activeScope.track[o];a.kept||r.has(a.id)||a.dispose()}var i=this.state.scopeStack.pop();this.state.activeScope=0===this.state.scopeStack.length?null:this.state.scopeStack[this.state.scopeStack.length-1],e.forEach((function(t){t.kept||t.scopeId!==i.id||n.track(t)}))},t.prototype.gradients=function(t,n,e,r){var o=this;if(void 0===r&&(r=!1),E(n.length>0,(function(){return"gradients() received an empty list of xs."})),null!=e&&"float32"!==e.dtype)throw new Error("dy must have 'float32' dtype, but has '"+e.dtype+"'");var a=this.scopedRun((function(){return o.startTape()}),(function(){return o.endTape()}),(function(){return o.tidy("forward",t)}));E(a instanceof dt,(function(){return"The result y returned by f() must be a tensor."}));var i=function(t,n,e){for(var r={},o={},a=0;a<n.length;a++)r[n[a].id]=!0;for(a=0;a<t.length;a++){var i=(d=t[a]).inputs;for(var u in i){for(var s=i[u],c=!1,l=0;l<n.length;l++)if(r[s.id]){d.outputs.forEach((function(t){return r[t.id]=!0})),c=!0,o[d.id]=!0;break}if(c)break}}var f={};f[e.id]=!0;var p={};for(a=t.length-1;a>=0;a--)for(i=(d=t[a]).inputs,l=0;l<d.outputs.length;l++)if(f[d.outputs[l].id]){for(var u in i)f[i[u].id]=!0,p[d.id]=!0;break}var h=[];for(a=0;a<t.length;a++){var d;if(o[(d=t[a]).id]&&p[d.id]){var v={};for(var u in d.inputs){var m=d.inputs[u];r[m.id]&&(v[u]=m)}var g=Object.assign({},d);g.inputs=v,g.outputs=d.outputs,h.push(g)}}return h}(this.state.activeTape,n,a);if(!r&&0===i.length&&n.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",(function(){var t,r,u={};u[a.id]=null==e?(t=a.shape,r=$(F(t),"float32"),Tt.makeTensor(r,t,"float32")):e,function(t,n,e,r){for(var o=function(o){var a=n[o],i=[];if(a.outputs.forEach((function(n){var e=t[n.id];null!=e?i.push(e):i.push(null)})),null==a.gradient)throw new Error("Cannot compute gradient: gradient function not found for "+a.kernelName+".");var u=a.gradient(i),s=function(n){if(!(n in u))throw new Error("Cannot backprop through input "+n+". Available gradients found: "+Object.keys(u)+".");var o=e((function(){return u[n]()}));if("float32"!==o.dtype)throw new Error("Error in gradient for op "+a.kernelName+". The gradient of input "+n+" must have 'float32' dtype, but has '"+o.dtype+"'");var i=a.inputs[n];if(!A(o.shape,i.shape))throw new Error("Error in gradient for op "+a.kernelName+". The gradient of input '"+n+"' has shape '"+o.shape+"', which does not match the shape of the input '"+i.shape+"'");if(null==t[i.id])t[i.id]=o;else{var s=t[i.id];t[i.id]=r(s,o),s.dispose()}};for(var c in a.inputs)s(c)},a=n.length-1;a>=0;a--)o(a)}(u,i,(function(t){return o.tidy(t)}),Mt);var s=n.map((function(t){return u[t.id]}));return 0===o.state.gradientDepth&&(o.state.activeTape.forEach((function(t){for(var n=0,e=t.saved;n<e.length;n++){e[n].dispose()}})),o.state.activeTape=null),{value:a,grads:s}}))},t.prototype.customGrad=function(t){var n=this;return E(j(t),(function(){return"The f passed in customGrad(f) must be a function."})),function(){for(var e,r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];E(r.every((function(t){return t instanceof dt})),(function(){return"The args passed in customGrad(f)(x1, x2,...) must all be tensors"}));var a={};return r.forEach((function(t,n){a[n]=t})),n.runKernelFunc((function(n,o){return E((e=t.apply(void 0,r.concat([o]))).value instanceof dt,(function(){return"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor"})),E(j(e.gradFunc),(function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function."})),e.value}),a,(function(t,n){var o=e.gradFunc(t,n),a=Array.isArray(o)?o:[o];E(a.length===r.length,(function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...)."})),E(a.every((function(t){return t instanceof dt})),(function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors."}));var i={};return a.forEach((function(t,n){i[n]=function(){return t}})),i}))}},t.prototype.readSync=function(t){return this.state.tensorInfo.get(t).backend.readSync(t)},t.prototype.read=function(t){return this.state.tensorInfo.get(t).backend.read(t)},t.prototype.time=function(t){return r(this,void 0,void 0,(function(){var n,e;return o(this,(function(r){switch(r.label){case 0:return n=tt(),[4,this.backend.time(t)];case 1:return(e=r.sent()).wallMs=tt()-n,[2,e]}}))}))},t.prototype.track=function(t){return null!=this.state.activeScope&&(t.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(t)),t},Object.defineProperty(t.prototype,"registeredVariables",{get:function(){return this.state.registeredVariables},enumerable:!0,configurable:!0}),t.prototype.reset=function(){for(var t in this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new It,this.registry)this.disposeRegisteredKernels(t),this.registry[t].dispose(),delete this.registry[t];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null},t.nextTensorId=0,t.nextVariableId=0,t}();function At(){var n=p();if(null==n._tfengine){var e=new c(n);n._tfengine=new Ft(e)}return function(n){t.ENV=n}(n._tfengine.ENV),pt=function(){return n._tfengine},n._tfengine}var Tt=At();function Mt(t,n){var e={a:t,b:n};return Tt.runKernelFunc((function(e,r){var o=e.add(t,n);return r([t,n]),o}),e,null,"Add")}function _t(){return"undefined"!=typeof window&&null!=window.document||"undefined"!=typeof WorkerGlobalScope}var Bt={__proto__:null,isMobile:function(){if("undefined"!=typeof navigator&&null!=navigator){var t=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4))}return!1},isBrowser:_t},Rt=f();function Ct(t,n){var e=t;if(O(t))return"string"===n?[]:[t.length];if(!Array.isArray(t))return[];for(var r=[];Array.isArray(e)||O(e)&&"string"!==n;)r.push(e.length),e=e[0];return Array.isArray(t)&&f().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&function t(n,e,r){if(r=r||[],!Array.isArray(n)&&!O(n))return void E(0===e.length,(function(){return"Element arr["+r.join("][")+"] is a primitive, but should be an array/TypedArray of "+e[0]+" elements"}));E(e.length>0,(function(){return"Element arr["+r.join("][")+"] should be a primitive, but is an array of "+n.length+" elements"})),E(n.length===e[0],(function(){return"Element arr["+r.join("][")+"] should have "+e[0]+" elements, but has "+n.length+" elements"}));for(var o=e.slice(1),a=0;a<n.length;++a)t(n[a],o,r.concat(a))}(t,r,[]),r}function Pt(t,n,e,r){if(null!=t&&("numeric"!==t&&t!==n||"numeric"===t&&"string"===n))throw new Error("Argument '"+e+"' passed to '"+r+"' must be "+t+" tensor, but got "+n+" tensor")}function Lt(t,n,e,r){if(void 0===r&&(r="numeric"),t instanceof dt)return Pt(r,t.dtype,n,e),t;var o=H(t);if("string"!==o&&["bool","int32","float32"].indexOf(r)>=0&&(o=r),Pt(r,o,n,e),null==t||!O(t)&&!Array.isArray(t)&&"number"!=typeof t&&"boolean"!=typeof t&&"string"!=typeof t){var a=null==t?"null":t.constructor.name;throw new Error("Argument '"+n+"' passed to '"+e+"' must be a Tensor or TensorLike, but got '"+a+"'")}var i=Ct(t,o);O(t)||Array.isArray(t)||(t=[t]);var u="string"!==o?Z(t,o):I(t,[],!0);return Tt.makeTensor(u,i,o)}function zt(t,n,e,r){if(void 0===r&&(r="numeric"),!Array.isArray(t))throw new Error("Argument "+n+" passed to "+e+" must be a `Tensor[]` or `TensorLike[]`");return t.map((function(t,r){return Lt(t,n+"["+r+"]",e)}),r)}Rt.registerFlag("DEBUG",(function(){return!1}),(function(t){t&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")})),Rt.registerFlag("IS_BROWSER",(function(){return _t()})),Rt.registerFlag("IS_NODE",(function(){return"undefined"!=typeof process&&void 0!==process.versions&&void 0!==process.versions.node})),Rt.registerFlag("IS_CHROME",(function(){return"undefined"!=typeof navigator&&null!=navigator&&null!=navigator.userAgent&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)})),Rt.registerFlag("PROD",(function(){return!1})),Rt.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",(function(){return Rt.getBool("DEBUG")})),Rt.registerFlag("DEPRECATION_WARNINGS_ENABLED",(function(){return!0})),Rt.registerFlag("IS_TEST",(function(){return!1}));function qt(t){var n=Object.keys(t);if(1!==n.length)throw new Error("Please provide an object with a single key (operation name) mapping to a function. Got an object with "+n.length+" keys.");var e=n[0],r=t[e];e.endsWith("_")&&(e=e.substring(0,e.length-1)),e+="__op";var o=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Tt.startScope(e);try{var o=r.apply(void 0,t);return o instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),Tt.endScope(o),o}catch(t){throw Tt.endScope(null),t}};return Object.defineProperty(o,"name",{value:e,configurable:!0}),o}var Ot=qt({complex_:function(t,n){var e=Lt(t,"real","complex"),r=Lt(n,"imag","complex");D(e.shape,r.shape,"real and imag shapes, "+e.shape+" and "+r.shape+", must match in call to tf.complex().");var o={real:e,imag:r};return Tt.runKernelFunc((function(t){return t.complex(e,r)}),o,null,"Complex")}});function Wt(t,n,e,r){if(null==r&&(r=H(t)),"complex64"===r)throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(!O(t)&&!Array.isArray(t)&&"number"!=typeof t&&"boolean"!=typeof t&&"string"!=typeof t)throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(null!=n){nt(n);var o=F(n),a=F(e);E(o===a,(function(){return"Based on the provided shape, ["+n+"], the tensor should have "+o+" values but has "+a}));for(var i=0;i<e.length;++i){var u=e[i],s=i!==e.length-1||u!==F(n.slice(i));E(e[i]===n[i]||!s,(function(){return"Error creating a new Tensor. Inferred shape ("+e+") does not match the provided shape ("+n+"). "}))}}return O(t)||Array.isArray(t)||(t=[t]),n=n||e,t="string"!==r?Z(t,r):I(t,[],!0),Tt.makeTensor(t,n,r)}function Kt(t,n,e){return Wt(t,n,Ct(t,e),e)}var Ut={float32:4,float16:2,int32:4,uint16:2,uint8:1,bool:1,complex64:8};function Gt(t,n){for(var e,r={},o=0,a=0,i=n;a<i.length;a++){var u=i[a],s=u.name,c=u.dtype,l=u.shape,f=F(l),p=void 0;if("quantization"in u){var h=u.quantization;if("uint8"===h.dtype||"uint16"===h.dtype){if(!("min"in h)||!("scale"in h))throw new Error("Weight "+u.name+" with quantization "+h.dtype+" doesn't have corresponding metadata min and scale.")}else{if("float16"!==h.dtype)throw new Error("Weight "+u.name+" has unknown quantization dtype "+h.dtype+". Supported quantization dtypes are: 'uint8', 'uint16', and 'float16'.");if("float32"!==c)throw new Error("Weight "+u.name+" is quantized with "+h.dtype+" which only supports weights of type float32 not "+c+".")}var d=Ut[h.dtype],v=t.slice(o,o+f*d),m="uint8"===h.dtype?new Uint8Array(v):new Uint16Array(v);if("float32"===c)if("uint8"===h.dtype||"uint16"===h.dtype){p=new Float32Array(m.length);for(var g=0;g<m.length;g++){var y=m[g];p[g]=y*h.scale+h.min}}else{if("float16"!==h.dtype)throw new Error("Unsupported quantization type "+h.dtype+" for weight type float32.");void 0===e&&(e=Xt()),p=e(m)}else{if("int32"!==c)throw new Error("Unsupported dtype in weight '"+s+"': "+c);if("uint8"!==h.dtype&&"uint16"!==h.dtype)throw new Error("Unsupported quantization type "+h.dtype+" for weight type int32.");p=new Int32Array(m.length);for(g=0;g<m.length;g++){y=m[g];p[g]=Math.round(y*h.scale+h.min)}}o+=f*d}else if("string"===c){var b=F(u.shape);p=[];for(g=0;g<b;g++){var w=new Uint32Array(t.slice(o,o+4))[0];o+=4;var k=new Uint8Array(t.slice(o,o+w));p.push(k),o+=w}}else{var x=Ut[c];v=t.slice(o,o+f*x);if("float32"===c)p=new Float32Array(v);else if("int32"===c)p=new Int32Array(v);else if("bool"===c)p=new Uint8Array(v);else{if("complex64"!==c)throw new Error("Unsupported dtype in weight '"+s+"': "+c);p=new Float32Array(v);var S=new Float32Array(p.length/2),E=new Float32Array(p.length/2);for(g=0;g<S.length;g++)S[g]=p[2*g],E[g]=p[2*g+1];var D=Kt(S,l,"float32"),N=Kt(E,l,"float32");r[s]=Ot(D,N)}o+=f*x}"complex64"!==c&&(r[s]=Kt(p,l,c))}return r}function Vt(t){if(null===t)throw new Error("Invalid input value: "+JSON.stringify(t));var n=0,e=[];t.forEach((function(t){if(n+=t.byteLength,e.push(t.byteLength===t.buffer.byteLength?t:new t.constructor(t)),!(t instanceof Float32Array||t instanceof Int32Array||t instanceof Uint8Array))throw new Error("Unsupported TypedArray subtype: "+t.constructor.name)}));var r=new Uint8Array(n),o=0;return e.forEach((function(t){r.set(new Uint8Array(t.buffer),o),o+=t.byteLength})),r.buffer}var Ht="undefined"!=typeof Buffer&&("undefined"==typeof Blob||"undefined"==typeof atob||"undefined"==typeof btoa);function jt(t){return Ht?Buffer.byteLength(t):new Blob([t]).size}function Jt(t){if(1===t.length)return t[0];var n=0;t.forEach((function(t){n+=t.byteLength}));var e=new Uint8Array(n),r=0;return t.forEach((function(t){e.set(new Uint8Array(t),r),r+=t.byteLength})),e.buffer}function Yt(t){for(t=t.trim();t.endsWith("/");)t=t.slice(0,t.length-1);var n=t.split("/");return n[n.length-1]}function Zt(t){if(t.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:null==t.modelTopology?0:jt(JSON.stringify(t.modelTopology)),weightSpecsBytes:null==t.weightSpecs?0:jt(JSON.stringify(t.weightSpecs)),weightDataBytes:null==t.weightData?0:t.weightData.byteLength}}function Xt(){var t=function(){var t=function(t){for(var n=t<<13,e=0;0==(8388608&n);)e-=8388608,n<<=1;return(n&=-8388609)|(e+=947912704)},n=new Uint32Array(2048);n[0]=0;for(var e=1;e<1024;e++)n[e]=t(e);for(e=1024;e<2048;e++)n[e]=939524096+(e-1024<<13);return n}(),n=function(){var t=new Uint32Array(64);t[0]=0,t[31]=1199570944,t[32]=2147483648,t[63]=3347054592;for(var n=1;n<31;n++)t[n]=n<<23;for(n=33;n<63;n++)t[n]=2147483648+(n-32<<23);return t}(),e=function(){for(var t=new Uint32Array(64),n=0;n<64;n++)t[n]=1024;return t[0]=t[32]=0,t}();return function(r){for(var o=new ArrayBuffer(4*r.length),a=new Uint32Array(o),i=0;i<r.length;i++){var u=r[i],s=t[e[u>>10]+(1023&u)]+n[u>>10];a[i]=s}return new Float32Array(o)}}var $t=function(){function t(){this.saveRouters=[],this.loadRouters=[]}return t.getInstance=function(){return null==t.instance&&(t.instance=new t),t.instance},t.registerSaveRouter=function(n){t.getInstance().saveRouters.push(n)},t.registerLoadRouter=function(n){t.getInstance().loadRouters.push(n)},t.getSaveHandlers=function(n){return t.getHandlers(n,"save")},t.getLoadHandlers=function(n,e){return t.getHandlers(n,"load",e)},t.getHandlers=function(n,e,r){var o=[];return("load"===e?t.getInstance().loadRouters:t.getInstance().saveRouters).forEach((function(t){var e=t(n,r);null!==e&&o.push(e)})),o},t}();function Qt(){if(!f().getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");var t="undefined"==typeof window?self:window,n=t.indexedDB||t.mozIndexedDB||t.webkitIndexedDB||t.msIndexedDB||t.shimIndexedDB;if(null==n)throw new Error("The current browser does not appear to support IndexedDB.");return n}function tn(t){var n=t.result;n.createObjectStore("models_store",{keyPath:"modelPath"}),n.createObjectStore("model_info_store",{keyPath:"modelPath"})}var nn=function(){function t(t){if(this.indexedDB=Qt(),null==t||!t)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=t}return t.prototype.save=function(t){return r(this,void 0,void 0,(function(){return o(this,(function(n){if(t.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return[2,this.databaseAction(this.modelPath,t)]}))}))},t.prototype.load=function(){return r(this,void 0,void 0,(function(){return o(this,(function(t){return[2,this.databaseAction(this.modelPath)]}))}))},t.prototype.databaseAction=function(t,n){var e=this;return new Promise((function(t,r){var o=e.indexedDB.open("tensorflowjs",1);o.onupgradeneeded=function(){return tn(o)},o.onsuccess=function(){var a=o.result;if(null==n){var i=a.transaction("models_store","readonly"),u=i.objectStore("models_store").get(e.modelPath);u.onsuccess=function(){if(null==u.result)return a.close(),r(new Error("Cannot find model with path '"+e.modelPath+"' in IndexedDB."));t(u.result.modelArtifacts)},u.onerror=function(t){return a.close(),r(u.error)},i.oncomplete=function(){return a.close()}}else{var s,c=Zt(n),l=a.transaction("model_info_store","readwrite"),f=l.objectStore("model_info_store"),p=f.put({modelPath:e.modelPath,modelArtifactsInfo:c});p.onsuccess=function(){var o=(s=a.transaction("models_store","readwrite")).objectStore("models_store").put({modelPath:e.modelPath,modelArtifacts:n,modelArtifactsInfo:c});o.onsuccess=function(){return t({modelArtifactsInfo:c})},o.onerror=function(t){var n=(f=l.objectStore("model_info_store")).delete(e.modelPath);n.onsuccess=function(){return a.close(),r(o.error)},n.onerror=function(t){return a.close(),r(o.error)}}},p.onerror=function(t){return a.close(),r(p.error)},l.oncomplete=function(){null==s?a.close():s.oncomplete=function(){return a.close()}}}},o.onerror=function(t){return r(o.error)}}))},t.URL_SCHEME="indexeddb://",t}(),en=function(t){return f().getBool("IS_BROWSER")&&!Array.isArray(t)&&t.startsWith(nn.URL_SCHEME)?(n=t.slice(nn.URL_SCHEME.length),new nn(n)):null;var n};$t.registerSaveRouter(en),$t.registerLoadRouter(en);var rn=function(){function t(){this.indexedDB=Qt()}return t.prototype.listModels=function(){return r(this,void 0,void 0,(function(){var t=this;return o(this,(function(n){return[2,new Promise((function(n,e){var r=t.indexedDB.open("tensorflowjs",1);r.onupgradeneeded=function(){return tn(r)},r.onsuccess=function(){var t=r.result,o=t.transaction("model_info_store","readonly"),a=o.objectStore("model_info_store").getAll();a.onsuccess=function(){for(var t={},e=0,r=a.result;e<r.length;e++){var o=r[e];t[o.modelPath]=o.modelArtifactsInfo}n(t)},a.onerror=function(n){return t.close(),e(a.error)},o.oncomplete=function(){return t.close()}},r.onerror=function(t){return e(r.error)}}))]}))}))},t.prototype.removeModel=function(t){return r(this,void 0,void 0,(function(){var n=this;return o(this,(function(e){var r;return t=(r=t).startsWith(nn.URL_SCHEME)?r.slice(nn.URL_SCHEME.length):r,[2,new Promise((function(e,r){var o=n.indexedDB.open("tensorflowjs",1);o.onupgradeneeded=function(){return tn(o)},o.onsuccess=function(){var n,a=o.result,i=a.transaction("model_info_store","readwrite"),u=i.objectStore("model_info_store"),s=u.get(t);s.onsuccess=function(){if(null==s.result)return a.close(),r(new Error("Cannot find model with path '"+t+"' in IndexedDB."));var o=u.delete(t),i=function(){var o=(n=a.transaction("models_store","readwrite")).objectStore("models_store").delete(t);o.onsuccess=function(){return e(s.result.modelArtifactsInfo)},o.onerror=function(t){return r(s.error)}};o.onsuccess=i,o.onerror=function(t){return i(),a.close(),r(s.error)}},s.onerror=function(t){return a.close(),r(s.error)},i.oncomplete=function(){null==n?a.close():n.oncomplete=function(){return a.close()}}},o.onerror=function(t){return r(o.error)}}))]}))}))},t}(),on="tensorflowjs_models",an="info",un="model_topology",sn="weight_specs",cn="weight_data",ln="model_metadata";function fn(t){return{info:[on,t,an].join("/"),topology:[on,t,un].join("/"),weightSpecs:[on,t,sn].join("/"),weightData:[on,t,cn].join("/"),modelMetadata:[on,t,ln].join("/")}}function pn(t){var n=t.split("/");if(n.length<3)throw new Error("Invalid key format: "+t);return n.slice(1,n.length-1).join("/")}var hn=function(){function t(t){if(!f().getBool("IS_BROWSER")||"undefined"==typeof window||void 0===window.localStorage)throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,null==t||!t)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=t,this.keys=fn(this.modelPath)}return t.prototype.save=function(t){return r(this,void 0,void 0,(function(){var n,e,r;return o(this,(function(o){if(t.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");n=JSON.stringify(t.modelTopology),e=JSON.stringify(t.weightSpecs),r=Zt(t);try{return this.LS.setItem(this.keys.info,JSON.stringify(r)),this.LS.setItem(this.keys.topology,n),this.LS.setItem(this.keys.weightSpecs,e),this.LS.setItem(this.keys.weightData,function(t){if(Ht)return Buffer.from(t).toString("base64");for(var n=new Uint8Array(t),e="",r=0,o=n.length;r<o;r++)e+=String.fromCharCode(n[r]);return btoa(e)}(t.weightData)),this.LS.setItem(this.keys.modelMetadata,JSON.stringify({format:t.format,generatedBy:t.generatedBy,convertedBy:t.convertedBy,userDefinedMetadata:t.userDefinedMetadata})),[2,{modelArtifactsInfo:r}]}catch(t){throw this.LS.removeItem(this.keys.info),this.LS.removeItem(this.keys.topology),this.LS.removeItem(this.keys.weightSpecs),this.LS.removeItem(this.keys.weightData),this.LS.removeItem(this.keys.modelMetadata),new Error("Failed to save model '"+this.modelPath+"' to local storage: size quota being exceeded is a possible cause of this failure: modelTopologyBytes="+r.modelTopologyBytes+", weightSpecsBytes="+r.weightSpecsBytes+", weightDataBytes="+r.weightDataBytes+".")}return[2]}))}))},t.prototype.load=function(){return r(this,void 0,void 0,(function(){var t,n,e,r,a,i,u;return o(this,(function(o){if(null==(t=JSON.parse(this.LS.getItem(this.keys.info))))throw new Error("In local storage, there is no model with name '"+this.modelPath+"'");if("JSON"!==t.modelTopologyType)throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");if(n={},null==(e=JSON.parse(this.LS.getItem(this.keys.topology))))throw new Error("In local storage, the topology of model '"+this.modelPath+"' is missing.");if(n.modelTopology=e,null==(r=JSON.parse(this.LS.getItem(this.keys.weightSpecs))))throw new Error("In local storage, the weight specs of model '"+this.modelPath+"' are missing.");if(n.weightSpecs=r,null!=(a=this.LS.getItem(this.keys.modelMetadata))&&(i=JSON.parse(a),n.format=i.format,n.generatedBy=i.generatedBy,n.convertedBy=i.convertedBy,n.userDefinedMetadata=i.userDefinedMetadata),null==(u=this.LS.getItem(this.keys.weightData)))throw new Error("In local storage, the binary weight values of model '"+this.modelPath+"' are missing.");return n.weightData=function(t){if(Ht){var n=Buffer.from(t,"base64");return n.buffer.slice(n.byteOffset,n.byteOffset+n.byteLength)}for(var e=atob(t),r=new Uint8Array(e.length),o=0;o<e.length;++o)r.set([e.charCodeAt(o)],o);return r.buffer}(u),[2,n]}))}))},t.URL_SCHEME="localstorage://",t}(),dn=function(t){return f().getBool("IS_BROWSER")&&!Array.isArray(t)&&t.startsWith(hn.URL_SCHEME)?(n=t.slice(hn.URL_SCHEME.length),new hn(n)):null;var n};$t.registerSaveRouter(dn),$t.registerLoadRouter(dn);var vn=function(){function t(){E(f().getBool("IS_BROWSER"),(function(){return"Current environment is not a web browser"})),E("undefined"==typeof window||void 0!==window.localStorage,(function(){return"Current browser does not appear to support localStorage"})),this.LS=window.localStorage}return t.prototype.listModels=function(){return r(this,void 0,void 0,(function(){var t,n,e,r,a,i;return o(this,(function(o){for(t={},n=on+"/",e="/"+an,r=0;r<this.LS.length;++r)(a=this.LS.key(r)).startsWith(n)&&a.endsWith(e)&&(i=pn(a),t[i]=JSON.parse(this.LS.getItem(a)));return[2,t]}))}))},t.prototype.removeModel=function(t){return r(this,void 0,void 0,(function(){var n,e;return o(this,(function(r){var o;if(t=(o=t).startsWith(hn.URL_SCHEME)?o.slice(hn.URL_SCHEME.length):o,n=fn(t),null==this.LS.getItem(n.info))throw new Error("Cannot find model at path '"+t+"'");return e=JSON.parse(this.LS.getItem(n.info)),this.LS.removeItem(n.info),this.LS.removeItem(n.topology),this.LS.removeItem(n.weightSpecs),this.LS.removeItem(n.weightData),[2,e]}))}))},t}(),mn=function(){function t(){this.managers={}}return t.getInstance=function(){return null==t.instance&&(t.instance=new t),t.instance},t.registerManager=function(n,e){E(null!=n,(function(){return"scheme must not be undefined or null."})),n.endsWith("://")&&(n=n.slice(0,n.indexOf("://"))),E(n.length>0,(function(){return"scheme must not be an empty string."}));var r=t.getInstance();E(null==r.managers[n],(function(){return"A model store manager is already registered for scheme '"+n+"'."})),r.managers[n]=e},t.getManager=function(t){var n=this.getInstance().managers[t];if(null==n)throw new Error("Cannot find model manager for scheme '"+t+"'");return n},t.getSchemes=function(){return Object.keys(this.getInstance().managers)},t}();function gn(t){if(-1===t.indexOf("://"))throw new Error("The url string provided does not contain a scheme. Supported schemes are: "+mn.getSchemes().join(","));return{scheme:t.split("://")[0],path:t.split("://")[1]}}function yn(t,n,e){return void 0===e&&(e=!1),r(this,void 0,void 0,(function(){var r,a,i,u,s,c,l,f,p;return o(this,(function(o){switch(o.label){case 0:return E(t!==n,(function(){return"Old path and new path are the same: '"+t+"'"})),E((r=$t.getLoadHandlers(t)).length>0,(function(){return"Copying failed because no load handler is found for source URL "+t+"."})),E(r.length<2,(function(){return"Copying failed because more than one ("+r.length+") load handlers for source URL "+t+"."})),a=r[0],E((i=$t.getSaveHandlers(n)).length>0,(function(){return"Copying failed because no save handler is found for destination URL "+n+"."})),E(i.length<2,(function(){return"Copying failed because more than one ("+r.length+") save handlers for destination URL "+n+"."})),u=i[0],s=gn(t).scheme,c=gn(t).path,l=s===gn(t).scheme,[4,a.load()];case 1:return f=o.sent(),e&&l?[4,mn.getManager(s).removeModel(c)]:[3,3];case 2:o.sent(),o.label=3;case 3:return[4,u.save(f)];case 4:return p=o.sent(),!e||l?[3,6]:[4,mn.getManager(s).removeModel(c)];case 5:o.sent(),o.label=6;case 6:return[2,p.modelArtifactsInfo]}}))}))}var bn=function(){function t(){}return t.prototype.fetch=function(t,n){return fetch(t,n)},t.prototype.now=function(){return performance.now()},t.prototype.encode=function(t,n){if("utf-8"!==n&&"utf8"!==n)throw new Error("Browser's encoder only supports utf-8, but got "+n);return null==this.textEncoder&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(t)},t.prototype.decode=function(t,n){return new TextDecoder(n).decode(t)},t}();if(f().get("IS_BROWSER")){f().setPlatform("browser",new bn);try{mn.registerManager(hn.URL_SCHEME,new vn)}catch(t){}try{mn.registerManager(nn.URL_SCHEME,new rn)}catch(t){}}var wn,kn=function(){return require("node-fetch")},xn=function(){function t(){this.util=require("util"),this.textEncoder=new this.util.TextEncoder}return t.prototype.fetch=function(t,n){return null!=f().global.fetch?f().global.fetch(t,n):(null==wn&&(wn=kn()),wn(t,n))},t.prototype.now=function(){var t=process.hrtime();return 1e3*t[0]+t[1]/1e6},t.prototype.encode=function(t,n){if("utf-8"!==n&&"utf8"!==n)throw new Error("Node built-in encoder only supports utf-8, but got "+n);return this.textEncoder.encode(t)},t.prototype.decode=function(t,n){return 0===t.length?"":new this.util.TextDecoder(n).decode(t)},t}();function Sn(t,n,e){return void 0===n&&(n="float32"),n=n||"float32",nt(t),new ft(t,n,e)}f().get("IS_NODE")&&f().setPlatform("node",new xn);var En=qt({cast_:function(t,n){var e=Lt(t,"x","cast");if(!z(n))throw new Error("Failed to cast to unknown dtype "+n);if("string"===n&&"string"!==e.dtype||"string"!==n&&"string"===e.dtype)throw new Error("Only strings can be casted to strings");var r={x:e},o={dtype:n};return Tt.runKernelFunc((function(t){return t.cast(e,n)}),r,null,"Cast",o)}});var Dn=qt({clone_:function(t){var n=Lt(t,"x","clone",null),e={x:n};return Tt.runKernelFunc((function(){return Tt.makeTensorFromDataId(n.dataId,n.shape,n.dtype)}),e,null,"Identity")}});function Nn(t,n){void 0===n&&(n=!1),console.log(t.toString(n))}At(),ht={buffer:Sn,cast:En,clone:Dn,print:Nn};function In(t){return new Promise((function(t){return setTimeout(t)})).then(t)}var Fn=function(){function t(n){if(!f().getBool("IS_BROWSER"))throw new Error("browserDownloads() cannot proceed because the current environment is not a browser.");n.startsWith(t.URL_SCHEME)&&(n=n.slice(t.URL_SCHEME.length)),null!=n&&0!==n.length||(n="model"),this.modelTopologyFileName=n+".json",this.weightDataFileName=n+".weights.bin"}return t.prototype.save=function(t){return r(this,void 0,void 0,(function(){var n,e,r,a,i,u;return o(this,(function(o){switch(o.label){case 0:if("undefined"==typeof document)throw new Error("Browser downloads are not supported in this environment since `document` is not present");if(n=window.URL.createObjectURL(new Blob([t.weightData],{type:"application/octet-stream"})),!(t.modelTopology instanceof ArrayBuffer))return[3,1];throw new Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");case 1:return e=[{paths:["./"+this.weightDataFileName],weights:t.weightSpecs}],r={modelTopology:t.modelTopology,format:t.format,generatedBy:t.generatedBy,convertedBy:t.convertedBy,weightsManifest:e},a=window.URL.createObjectURL(new Blob([JSON.stringify(r)],{type:"application/json"})),(i=null==this.jsonAnchor?document.createElement("a"):this.jsonAnchor).download=this.modelTopologyFileName,i.href=a,[4,In((function(){return i.dispatchEvent(new MouseEvent("click"))}))];case 2:return o.sent(),null==t.weightData?[3,4]:((u=null==this.weightDataAnchor?document.createElement("a"):this.weightDataAnchor).download=this.weightDataFileName,u.href=n,[4,In((function(){return u.dispatchEvent(new MouseEvent("click"))}))]);case 3:o.sent(),o.label=4;case 4:return[2,{modelArtifactsInfo:Zt(t)}]}}))}))},t.URL_SCHEME="downloads://",t}(),An=function(){function t(t){if(null==t||t.length<1)throw new Error("When calling browserFiles, at least 1 file is required, but received "+t);this.files=t}return t.prototype.load=function(){return r(this,void 0,void 0,(function(){var t,n,e=this;return o(this,(function(r){return t=this.files[0],n=this.files.slice(1),[2,new Promise((function(r,o){var a=new FileReader;a.onload=function(a){var i=JSON.parse(a.target.result),u=i.modelTopology;if(null!=u){0===n.length&&r({modelTopology:u});var s=i.weightsManifest;if(null!=s){var c;try{c=e.checkManifestAndWeightFiles(s,n)}catch(t){return void o(t)}var l=[],f=[],p=[];s.forEach((function(t){t.paths.forEach((function(t){f.push(t),p.push(null)})),l.push.apply(l,t.weights)})),s.forEach((function(t){t.paths.forEach((function(t){var n=new FileReader;n.onload=function(n){var e=n.target.result,o=f.indexOf(t);p[o]=e,-1===p.indexOf(null)&&r({modelTopology:u,weightSpecs:l,weightData:Jt(p),format:i.format,generatedBy:i.generatedBy,convertedBy:i.convertedBy,userDefinedMetadata:i.userDefinedMetadata})},n.onerror=function(n){return o("Failed to weights data from file of path '"+t+"'.")},n.readAsArrayBuffer(c[t])}))}))}else o(new Error("weightManifest field is missing from file "+t.name))}else o(new Error("modelTopology field is missing from file "+t.name))},a.onerror=function(n){return o("Failed to read model topology and weights manifest JSON from file '"+t.name+"'. BrowserFiles supports loading Keras-style tf.Model artifacts only.")},a.readAsText(t)}))]}))}))},t.prototype.checkManifestAndWeightFiles=function(t,n){for(var e=[],r=n.map((function(t){return Yt(t.name)})),o={},a=0,i=t;a<i.length;a++){i[a].paths.forEach((function(t){var a=Yt(t);if(-1!==e.indexOf(a))throw new Error("Duplicate file basename found in weights manifest: '"+a+"'");if(e.push(a),-1===r.indexOf(a))throw new Error("Weight file with basename '"+a+"' is not provided.");o[t]=n[r.indexOf(a)]}))}if(e.length!==n.length)throw new Error("Mismatch in the number of files in weights manifest ("+e.length+") and the number of weight files provided ("+n.length+").");return o},t}();function Tn(t,n,e,r){!function(t){E(null!=t&&Array.isArray(t)&&t.length>0,(function(){return"promises must be a none empty array"}))}(t),function(t,n){E(t>=0&&t<=1,(function(){return"Progress fraction must be in range [0, 1], but got startFraction "+t})),E(n>=0&&n<=1,(function(){return"Progress fraction must be in range [0, 1], but got endFraction "+n})),E(n>=t,(function(){return"startFraction must be no more than endFraction, but got startFraction "+t+" and endFraction "+n}))}(e=null==e?0:e,r=null==r?1:r);var o=0;return Promise.all(t.map((function(a){return a.then((function(a){var i=e+ ++o/t.length*(r-e);return n(i),a})),a})))}function Mn(t,n){return r(this,void 0,void 0,(function(){var e,r,a,i,u,s,c,l,p;return o(this,(function(o){switch(o.label){case 0:return null==n&&(n={}),e=null==n.fetchFunc?f().platform.fetch:n.fetchFunc,r=t.map((function(t){return e(t,n.requestInit,{isBinary:!0})})),a=0,i=.5,null!=n.onProgress?[3,2]:[4,Promise.all(r)];case 1:return u=o.sent(),[3,4];case 2:return[4,Tn(r,n.onProgress,a,i)];case 3:u=o.sent(),o.label=4;case 4:return s=u.map((function(t){return t.arrayBuffer()})),c=.5,l=1,null!=n.onProgress?[3,6]:[4,Promise.all(s)];case 5:return p=o.sent(),[3,8];case 6:return[4,Tn(s,n.onProgress,c,l)];case 7:p=o.sent(),o.label=8;case 8:return[2,p]}}))}))}function _n(t){var n=this;return function(e,a,i){return void 0===a&&(a=""),r(n,void 0,void 0,(function(){var n,r,u,s,c,l,f,p,h,d;return o(this,(function(o){switch(o.label){case 0:if(n=e.map((function(){return!1})),r={},u=null!=i?i.map((function(){return!1})):[],s=[],e.forEach((function(t,e){var o=0;t.weights.forEach((function(t){var a="quantization"in t?t.quantization.dtype:t.dtype,c=Ut[a]*F(t.shape),l=function(){n[e]=!0,null==r[e]&&(r[e]=[]),r[e].push({manifestEntry:t,groupOffset:o,sizeBytes:c})};null!=i?i.forEach((function(n,e){n===t.name&&(l(),u[e]=!0)})):l(),s.push(t.name),o+=c}))})),!u.every((function(t){return t})))throw c=i.filter((function(t,n){return!u[n]})),new Error("Could not find weights in manifest with names: "+c.join(", ")+". \nManifest JSON has weights with names: "+s.join(", ")+".");return l=n.reduce((function(t,n,e){return n&&t.push(e),t}),[]),f=[],l.forEach((function(t){e[t].paths.forEach((function(t){var n=a+(a.endsWith("/")?"":"/")+t;f.push(n)}))})),[4,t(f)];case 1:return p=o.sent(),h={},d=0,l.forEach((function(t){for(var n=e[t].paths.length,o=0,a=0;a<n;a++)o+=p[d+a].byteLength;for(var i=new ArrayBuffer(o),u=new Uint8Array(i),s=0,c=0;c<n;c++){var l=new Uint8Array(p[d+c]);u.set(l,s),s+=l.byteLength}r[t].forEach((function(t){var n=Gt(i.slice(t.groupOffset,t.groupOffset+t.sizeBytes),[t.manifestEntry]);for(var e in n)h[e]=n[e]})),d+=n})),[2,h]}}))}))}}$t.registerSaveRouter((function(t){return f().getBool("IS_BROWSER")&&!Array.isArray(t)&&t.startsWith(Fn.URL_SCHEME)?function(t){void 0===t&&(t="model");return new Fn(t)}(t.slice(Fn.URL_SCHEME.length)):null}));var Bn=function(){function t(t,n){if(this.DEFAULT_METHOD="POST",null==n&&(n={}),this.weightPathPrefix=n.weightPathPrefix,this.onProgress=n.onProgress,this.weightUrlConverter=n.weightUrlConverter,null!=n.fetchFunc?(E("function"==typeof n.fetchFunc,(function(){return"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)"})),this.fetch=n.fetchFunc):this.fetch=f().platform.fetch,E(null!=t&&t.length>0,(function(){return"URL path for http must not be null, undefined or empty."})),Array.isArray(t)&&E(2===t.length,(function(){return"URL paths for http must have a length of 2, (actual length is "+t.length+")."})),this.path=t,null!=n.requestInit&&null!=n.requestInit.body)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=n.requestInit||{}}return t.prototype.save=function(t){return r(this,void 0,void 0,(function(){var n,e,r,a;return o(this,(function(o){switch(o.label){case 0:if(t.modelTopology instanceof ArrayBuffer)throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");return(n=Object.assign({method:this.DEFAULT_METHOD},this.requestInit)).body=new FormData,e=[{paths:["./model.weights.bin"],weights:t.weightSpecs}],r={modelTopology:t.modelTopology,format:t.format,generatedBy:t.generatedBy,convertedBy:t.convertedBy,userDefinedMetadata:t.userDefinedMetadata,weightsManifest:e},n.body.append("model.json",new Blob([JSON.stringify(r)],{type:"application/json"}),"model.json"),null!=t.weightData&&n.body.append("model.weights.bin",new Blob([t.weightData],{type:"application/octet-stream"}),"model.weights.bin"),[4,this.fetch(this.path,n)];case 1:if((a=o.sent()).ok)return[2,{modelArtifactsInfo:Zt(t),responses:[a]}];throw new Error("BrowserHTTPRequest.save() failed due to HTTP response status "+a.status+".")}}))}))},t.prototype.load=function(){return r(this,void 0,void 0,(function(){var t,n,e,r,a,i,u,s,c,l,f,p,h,d;return o(this,(function(o){switch(o.label){case 0:return[4,this.fetch(this.path,this.requestInit)];case 1:if(!(t=o.sent()).ok)throw new Error("Request to "+this.path+" failed with status code "+t.status+". Please verify this URL points to the model JSON of the model to load.");o.label=2;case 2:return o.trys.push([2,4,,5]),[4,t.json()];case 3:return n=o.sent(),[3,5];case 4:throw o.sent(),e="Failed to parse model JSON of response from "+this.path+".",this.path.endsWith(".pb")?e+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":e+=" Please make sure the server is serving valid JSON for this request.",new Error(e);case 5:if(r=n.modelTopology,a=n.weightsManifest,i=n.generatedBy,u=n.convertedBy,s=n.format,c=n.userDefinedMetadata,null==r&&null==a)throw new Error("The JSON from HTTP path "+this.path+" contains neither model topology or manifest for weights.");return null==a?[3,7]:[4,this.loadWeights(a)];case 6:p=o.sent(),l=p[0],f=p[1],o.label=7;case 7:return h={modelTopology:r,weightSpecs:l,weightData:f,userDefinedMetadata:c,generatedBy:i,convertedBy:u,format:s},(d=n.modelInitializer)&&(h.modelInitializer=d),[2,h]}}))}))},t.prototype.loadWeights=function(t){return r(this,void 0,void 0,(function(){var n,e,r,a,i,u,s,c,l,f,p,h,d,v,m,g,y,b,w,k,x;return o(this,(function(o){switch(o.label){case 0:for(n=Array.isArray(this.path)?this.path[1]:this.path,e=function(t){var n=t.lastIndexOf("/"),e=t.lastIndexOf("?"),r=t.substring(0,n),o=e>n?t.substring(e):"";return[r+"/",o]}(n),r=e[0],a=e[1],i=this.weightPathPrefix||r,u=[],s=0,c=t;s<c.length;s++)l=c[s],u.push.apply(u,l.weights);for(f=[],p=[],h=0,d=t;h<d.length;h++)for(v=d[h],m=0,g=v.paths;m<g.length;m++)y=g[m],null!=this.weightUrlConverter?p.push(this.weightUrlConverter(y)):f.push(i+y+a);return this.weightUrlConverter?(w=(b=f.push).apply,k=[f],[4,Promise.all(p)]):[3,2];case 1:w.apply(b,k.concat([o.sent()])),o.label=2;case 2:return[4,Mn(f,{requestInit:this.requestInit,fetchFunc:this.fetch,onProgress:this.onProgress})];case 3:return x=o.sent(),[2,[u,Jt(x)]]}}))}))},t.URL_SCHEME_REGEX=/^https?:\/\//,t}();function Rn(t){return null!=t.match(Bn.URL_SCHEME_REGEX)}var Cn=function(t,n){if("undefined"==typeof fetch&&(null==n||null==n.fetchFunc))return null;return(Array.isArray(t)?t.every((function(t){return Rn(t)})):Rn(t))?Pn(t,n):null};function Pn(t,n){return new Bn(t,n)}$t.registerSaveRouter(Cn),$t.registerLoadRouter(Cn);var Ln=function(){function t(t){this.modelArtifacts=t}return t.prototype.load=function(){return r(this,void 0,void 0,(function(){return o(this,(function(t){return[2,this.modelArtifacts]}))}))},t}(),zn=function(){function t(t){this.saveHandler=t}return t.prototype.save=function(t){return r(this,void 0,void 0,(function(){return o(this,(function(n){return[2,this.saveHandler(t)]}))}))},t}();var qn={__proto__:null,browserFiles:function(t){return new An(t)},browserHTTPRequest:function(t,n){return Pn(t,n)},concatenateArrayBuffers:Jt,decodeWeights:Gt,encodeWeights:function(t,n){return r(this,void 0,void 0,(function(){var e,a,i,u,s,c=this;return o(this,(function(l){switch(l.label){case 0:for(e=[],a=[],i=Array.isArray(t)?t.map((function(t){return t.name})):Object.keys(t),u=function(u){var s=i[u],l=Array.isArray(t)?t[u].tensor:t[s];if("float32"!==l.dtype&&"int32"!==l.dtype&&"bool"!==l.dtype&&"string"!==l.dtype&&"complex64"!==l.dtype)throw new Error("Unsupported dtype in weight '"+s+"': "+l.dtype);var f={name:s,shape:l.shape,dtype:l.dtype};if("string"===l.dtype){var p=new Promise((function(t){return r(c,void 0,void 0,(function(){var n,e,r,a,i,u,s;return o(this,(function(o){switch(o.label){case 0:return[4,l.bytes()];case 1:for(n=o.sent(),e=n.reduce((function(t,n){return t+n.length}),0)+4*n.length,r=new Uint8Array(e),a=0,i=0;i<n.length;i++)u=n[i],s=new Uint8Array(new Uint32Array([u.length]).buffer),r.set(s,a),a+=4,r.set(u,a),a+=u.length;return t(r),[2]}}))}))}));a.push(p)}else a.push(l.data());null!=n&&(f.group=n),e.push(f)},s=0;s<i.length;++s)u(s);return[4,Promise.all(a)];case 1:return[2,{data:Vt(l.sent()),specs:e}]}}))}))},fromMemory:function(t,n,e,r){if(1===arguments.length){var o=null!=t.modelTopology||null!=t.weightSpecs;return o?new Ln(t):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new Ln({modelTopology:t}))}return console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new Ln({modelTopology:t,weightSpecs:n,weightData:e,trainingConfig:r})},getLoadHandlers:function(t,n){return $t.getLoadHandlers(t,n)},getModelArtifactsInfoForJSON:Zt,getSaveHandlers:function(t){return $t.getSaveHandlers(t)},http:Pn,isHTTPScheme:Rn,loadWeights:function(t,n,e,a){return void 0===n&&(n=""),r(this,void 0,void 0,(function(){return o(this,(function(r){return[2,_n((function(t){return Mn(t,{requestInit:a})}))(t,n,e)]}))}))},registerLoadRouter:function(t){return $t.registerLoadRouter(t)},registerSaveRouter:function(t){return $t.registerSaveRouter(t)},weightsLoaderFactory:_n,withSaveHandler:function(t){return new zn(t)},copyModel:function(t,n){return r(this,void 0,void 0,(function(){return o(this,(function(e){return!1,[2,yn(t,n,!1)]}))}))},listModels:function(){return r(this,void 0,void 0,(function(){var t,n,e,r,a,i,u;return o(this,(function(o){switch(o.label){case 0:t=mn.getSchemes(),n={},e=0,r=t,o.label=1;case 1:return e<r.length?(a=r[e],[4,mn.getManager(a).listModels()]):[3,4];case 2:for(u in i=o.sent())n[a+"://"+u]=i[u];o.label=3;case 3:return e++,[3,1];case 4:return[2,n]}}))}))},moveModel:function(t,n){return r(this,void 0,void 0,(function(){return o(this,(function(e){return!0,[2,yn(t,n,!0)]}))}))},removeModel:function(t){return r(this,void 0,void 0,(function(){var n;return o(this,(function(e){return n=gn(t),[2,mn.getManager(n.scheme).removeModel(n.path)]}))}))}};var On=qt({reshape_:function(t,n){var e=Lt(t,"x","reshape",null),r={x:e},o={shape:n};return Tt.runKernelFunc((function(t,r){return n=_(n,e.size),E(e.size===F(n),(function(){return"new shape and old shape must have the same number of elements."})),r([e]),t.reshape(e,n)}),r,null,"Reshape",o)}});var Wn=qt({matMul_:function(t,n,e,r){var o;void 0===e&&(e=!1),void 0===r&&(r=!1);var a=Lt(t,"a","matMul"),i=Lt(n,"b","matMul");o=St(a,i),a=o[0],i=o[1],E(a.rank>=2&&i.rank>=2&&a.rank===i.rank,(function(){return"Error in matMul: inputs must have the same rank of at least 2, got ranks "+a.rank+" and "+i.rank+"."}));var u=e?a.shape[a.rank-2]:a.shape[a.rank-1],s=r?i.shape[i.rank-1]:i.shape[i.rank-2],c=e?a.shape[a.rank-1]:a.shape[a.rank-2],l=r?i.shape[i.rank-2]:i.shape[i.rank-1],f=a.shape.slice(0,-2),p=i.shape.slice(0,-2),h=F(f),d=F(p);E(A(f,p),(function(){return"Error in matMul: outer dimensions ("+f+") and ("+p+") of Tensors with shapes "+a.shape+" and "+i.shape+" must match."})),E(u===s,(function(){return"Error in matMul: inner shapes ("+u+") and ("+s+") of Tensors with shapes "+a.shape+" and "+i.shape+" and transposeA="+e+" and transposeB="+r+" must match."}));var v=a.shape.slice(0,-2).concat([c,l]),m=On(a,e?[h,u,c]:[h,c,u]),g=On(i,r?[d,l,s]:[d,s,l]),y={a:m,b:g},b={transposeA:e,transposeB:r},w=Tt.runKernelFunc((function(t,n){return n([m,g]),t.batchMatMul(m,g,e,r)}),y,null,"BatchMatMul",b);return On(w,v)}});var Kn=qt({oneHot_:function(t,n,e,r){if(void 0===e&&(e=1),void 0===r&&(r=0),n<2)throw new Error("Error in oneHot: depth must be >=2, but it is "+n);var o=Lt(t,"indices","oneHot","int32"),a=o.shape.concat([n]),i={indices:o},u={depth:n,onValue:e,offValue:r};return Tt.runKernelFunc((function(t,i){return i([o]),On(t.oneHot(On(o,[o.size]),n,e,r),a)}),i,null,"OneHot",u)}});var Un=qt({transpose_:function(t,n){var e=Lt(t,"x","transpose");if(null==n&&(n=e.shape.map((function(t,n){return n})).reverse()),E(e.rank===n.length,(function(){return"Error in transpose: rank of input "+e.rank+" must match length of perm "+n+"."})),n.forEach((function(t){E(t>=0&&t<e.rank,(function(){return"All entries in 'perm' must be between 0 and "+(e.rank-1)+" but got "+n}))})),e.rank<=1)return e.clone();var r={x:e},o={perm:n};return Tt.runKernelFunc((function(t){return t.transpose(e,n)}),r,null,"Transpose",o)}});var Gn,Vn={__proto__:null,confusionMatrix:qt({confusionMatrix_:function(t,n,e){var r=Lt(t,"labels","confusionMatrix"),o=Lt(n,"predictions","confusionMatrix");E(null==e||e>0&&Number.isInteger(e),(function(){return"If provided, numClasses must be a positive integer, but got "+e})),E(1===r.rank,(function(){return"Expected the rank of labels to be 1, but got "+r.rank})),E(1===o.rank,(function(){return"Expected the rank of predictions to be 1, but got "+o.rank})),E(r.shape[0]===o.shape[0],(function(){return"Mismatch in the number of examples: "+r.shape[0]+" vs. "+o.shape[0]+". Labels and predictions should have the same number of elements."})),E(e>0&&Number.isInteger(e),(function(){return"numClasses is required to be a positive integer, but got "+e}));var a=Kn(En(r,"int32"),e),i=Kn(En(o,"int32"),e),u=Un(a);return En(Wn(u,i),"int32")}})};function Hn(t,n,e){if(N(t),null!=n&&3!==n.length)throw new Error("tensor3d() requires shape to have three numbers");var r=Ct(t,e);if(3!==r.length&&1!==r.length)throw new Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(1===r.length&&null==n)throw new Error("tensor3d() requires shape to be provided when `values` are a flat array");return Wt(t,n,r,e)}var jn={__proto__:null,toPixels:function(t,n){return r(this,void 0,void 0,(function(){var e,r,a,i,u,s,c,l,f,p,h,d,v,m,g,y;return o(this,(function(o){switch(o.label){case 0:if(e=Lt(t,"img","toPixels"),t instanceof dt||(e=En(r=e,"int32"),r.dispose()),2!==e.rank&&3!==e.rank)throw new Error("toPixels only supports rank 2 or 3 tensors, got rank "+e.rank+".");if(a=e.shape.slice(0,2),i=a[0],u=a[1],(s=2===e.rank?1:e.shape[2])>4||2===s)throw new Error("toPixels only supports depth of size 1, 3 or 4 but got "+s);if("float32"!==e.dtype&&"int32"!==e.dtype)throw new Error("Unsupported type for toPixels: "+e.dtype+". Please use float32 or int32 tensors.");return[4,e.data()];case 1:for(c=o.sent(),l="float32"===e.dtype?255:1,f=new Uint8ClampedArray(u*i*4),p=0;p<i*u;++p){for(h=[0,0,0,255],d=0;d<s;d++){if(v=c[p*s+d],"float32"===e.dtype){if(v<0||v>1)throw new Error("Tensor values for a float32 Tensor must be in the range [0 - 1] but encountered "+v+".")}else if("int32"===e.dtype&&(v<0||v>255))throw new Error("Tensor values for a int32 Tensor must be in the range [0 - 255] but encountered "+v+".");1===s?(h[0]=v*l,h[1]=v*l,h[2]=v*l):h[d]=v*l}f[(m=4*p)+0]=Math.round(h[0]),f[m+1]=Math.round(h[1]),f[m+2]=Math.round(h[2]),f[m+3]=Math.round(h[3])}return null!=n&&(n.width=u,n.height=i,g=n.getContext("2d"),y=new ImageData(f,u,i),g.putImageData(y,0,0)),e!==t&&e.dispose(),[2,f]}}))}))},fromPixels:qt({fromPixels_:function(t,n){if(void 0===n&&(n=3),n>4)throw new Error("Cannot construct Tensor with more than 4 channels from pixels.");if(null==t)throw new Error("pixels passed to tf.browser.fromPixels() can not be null");var e=!1,r=!1,o=!1,a=!1,i=!1;if(t.data instanceof Uint8Array)e=!0;else if("undefined"!=typeof ImageData&&t instanceof ImageData)r=!0;else if("undefined"!=typeof HTMLVideoElement&&t instanceof HTMLVideoElement)o=!0;else if("undefined"!=typeof HTMLImageElement&&t instanceof HTMLImageElement)a=!0;else{if(null==t.getContext)throw new Error("pixels passed to tf.browser.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement, ImageData in browser, or OffscreenCanvas, ImageData in webworker or {data: Uint32Array, width: number, height: number}, but was "+t.constructor.name);i=!0}if(o){if(o&&t.readyState<2)throw new Error("The video element has not loaded data yet. Please wait for `loadeddata` event on the <video> element.")}if(null!=m("FromPixels",Tt.backendName)){var u={pixels:t},s={numChannels:n};return Tt.runKernel("FromPixels",u,s)}var c,l,f=o?[t.videoWidth,t.videoHeight]:[t.width,t.height],p=f[0],h=f[1];if(i?c=t.getContext("2d").getImageData(0,0,p,h).data:r||e?c=t.data:(a||o)&&(null==Gn&&(Gn=document.createElement("canvas").getContext("2d")),Gn.canvas.width=p,Gn.canvas.height=h,Gn.drawImage(t,0,0,p,h),c=Gn.getImageData(0,0,p,h).data),4===n)l=new Int32Array(c);else{var d=p*h;l=new Int32Array(d*n);for(var v=0;v<d;v++)for(var g=0;g<n;++g)l[v*n+g]=c[4*v+g]}return Hn(l,[h,p,n],"int32")}})};function Jn(t,n){if(t.rank<1)throw new Error("tf.gatherND() expects the input to be rank 1 or higher, but the rank was "+t.rank+".");if(n.rank<1)throw new Error("tf.gatherND() expects the indices to be rank 1 or higher, but the rank was "+n.rank+".");if("int32"!==n.dtype)throw new Error("tf.gatherND() expects the indices to be int32 type, but the dtype was "+n.dtype+".");if(n.shape[n.rank-1]>t.rank)throw new Error("index innermost dimension length must be <= tensor rank; saw: "+n.shape[n.rank-1]+" vs. "+t.rank);if(0===t.size)throw new Error("Requested more than 0 entries, but input is empty. Input shape: "+t.shape+".");for(var e=n.shape,r=e[e.length-1],o=1,a=0;a<e.length-1;++a)o*=e[a];var i=t.shape,u=e.slice();u.pop();var s=1;for(a=r;a<t.rank;++a)s*=i[a],u.push(i[a]);var c=Y(t.shape).map((function(t){return t/s})).concat([1]).slice(0,r);return[u,o,s,c]}var Yn={__proto__:null,prepareAndValidate:Jn};function Zn(t,n,e){var r=n.rank>1?n.shape[n.rank-1]:1,o=n.rank>1?n.rank-1:1,a="Must have updates.shape = indices.shape[:batchDim] + shape[sliceDim:], got updates.shape: "+e.shape+", indices.shape: "+n.shape+", shape: "+t+", sliceDim: "+r+", and batchDim: "+o+".";if(e.rank<o)throw new Error(a+" update.rank < "+o+". ");if(t.length<r+(e.rank-o))throw new Error(a+" Output shape length < "+(r+(e.rank-o)));if(e.rank!==o+t.length-r)throw new Error(a+" update.rank != "+(o+t.length-r));for(var i=0;i<o;++i)if(e.shape[i]!==n.shape[i])throw new Error(a+" updates.shape["+i+"] ("+e.shape[i]+") != indices.shape["+i+"] ("+n.shape[i]+").");for(i=0;i<e.rank-o;++i)if(e.shape[i+o]!==t[i+r])throw new Error(a+" updates.shape["+(i+o)+"] ("+e.shape[i+o]+") != shape["+(i+o)+"] ("+t[i+o]+")")}function Xn(t,n,e){if(n.rank<1)throw new Error("tf.scatterND() expects the indices to be rank 1 or higher, but the rank was "+n.rank+".");if(t.rank<1)throw new Error("tf.scatterND() expects the updates to be rank 1 or higher, but the rank was "+t.rank+".");if("int32"!==n.dtype)throw new Error("The dtype of 'indices' should be int32, but got dtype: "+n.dtype);if(e.length<1)throw new Error("Output rank must be greater or equal to 1, but got shape: "+e);if(0===e.length){if(0===n.size)throw new Error("Indices specified for empty output. indices shape: "+n.shape);if(0===t.size)throw new Error("Updates specified for empty output. updates shape: "+t.shape)}Zn(e,n,t)}function $n(t,n,e){for(var r=n.shape.length,o=r>1?n.shape[r-1]:1,a=e.length,i=1,u=o;u<a;++u)i*=e[u];var s=o<1?1:o;return{sliceRank:o,numUpdates:F(n.shape)/s,sliceSize:i,strides:Y(e.slice(0,o)).concat([1]),outputSize:F(e)}}var Qn={__proto__:null,validateUpdateShape:Zn,validateInput:Xn,calculateShapes:$n};function te(t,n,e){var r=t.shape.length;E(r===n.length,(function(){return"Error in slice"+r+"D: Length of begin "+n+" must match the rank of the array ("+r+")."})),E(r===e.length,(function(){return"Error in slice"+r+"D: Length of size "+e+" must match the rank of the array ("+r+")."}));for(var o=function(o){E(n[o]+e[o]<=t.shape[o],(function(){return"Error in slice"+r+"D: begin["+o+"] + size["+o+"] ("+(n[o]+e[o])+") would overflow input.shape["+o+"] ("+t.shape[o]+")"}))},a=0;a<r;++a)o(a)}function ne(t){for(var n=[],e=0;t>0;)1&t&&n.push(e),t/=2,e++;return n}function ee(t,n,e){for(var r=[],o=0;o<t.length;o++)r[o]=Math.ceil((n[o]-t[o])/e[o]);return r}function re(t,n,e,r){for(var o=t.slice(),a=o.length;a<r.length;a++)o.push(1);for(a=0;a<e;a++)0===a?o[n]=1:(o.splice(n,0,1),o.pop());return o}function oe(t,n,e){return e<=t?e:e-(n-1)}function ae(t,n){for(var e=[],r=0;r<t;r++)e.push(n+r);return e}function ie(t,n,e,r,o,a,i,u,s){var c=t.length,l=new Array(c),f=new Array(c),p=new Array(c);if(n.length&&e>0){var h=n[0],d=e+1;l=ue(i,h,d,r,t),f=se(u,h,d,o,t),p=re(a,h,d,t)}else for(var v=0;v<c;v++)l[v]=le(i,r,a,t,v,s),f[v]=fe(u,o,a,t,v,s),p[v]=ce(a,v,s);return{begin:l,end:f,strides:p}}function ue(t,n,e,r,o){for(var a=o.slice(),i=ae(e,n),u=0;u<a.length;u++)if(i.indexOf(u)>-1)a[u]=0;else{var s=oe(n,e,u),c=r[s];t&1<<s&&(c=0),a[u]=c}return a}function se(t,n,e,r,o){for(var a=o.slice(),i=ae(e,n),u=0;u<a.length;u++)if(i.indexOf(u)>-1)a[u]=Number.MAX_SAFE_INTEGER;else{var s=oe(n,e,u),c=r[s];t&1<<s&&(c=Number.MAX_SAFE_INTEGER),a[u]=c}for(var l=0;l<a.length;l++){var f=o[l];a[l]<0&&(a[l]+=f),a[l]=S(0,a[l],o[l])}return a}function ce(t,n,e){var r=t[n];return(e&1<<n||null==r)&&(r=1),r}function le(t,n,e,r,o,a){var i=n[o],u=e[o]||1;(t&1<<o||a&1<<o||null==i)&&(i=u>0?Number.MIN_SAFE_INTEGER:Number.MAX_SAFE_INTEGER);var s=r[o];return i<0&&(i+=s),i=S(0,i,s-1)}function fe(t,n,e,r,o,a){var i=n[o],u=e[o]||1;(t&1<<o||a&1<<o||null==i)&&(i=u>0?Number.MAX_SAFE_INTEGER:Number.MIN_SAFE_INTEGER);var s=r[o];return i<0&&(i+=s),i=u>0?S(0,i,s):S(-1,i,s-1)}function pe(t,n,e){var r,o,a=t.shape.length;return(r="number"==typeof n?[n].concat(new Array(a-1).fill(0)):n.length<a?n.concat(new Array(a-n.length).fill(0)):n.slice()).forEach((function(t){E(-1!==t,(function(){return"slice() does not support negative begin indexing."}))})),o=(o=null==e?new Array(a).fill(-1):"number"==typeof e?[e].concat(new Array(a-1).fill(-1)):e.length<a?e.concat(new Array(a-e.length).fill(-1)):e).map((function(n,e){return n>=0?n:(E(-1===n,(function(){return"Negative size values should be exactly -1 but got "+n+" for the slice() size at index "+e+"."})),t.shape[e]-r[e])})),[r,o]}var he={__proto__:null,assertParamsValid:te,maskToAxes:ne,computeOutShape:ee,stridesWithElidedDims:re,getNormalizedAxes:ie,startIndicesWithElidedDims:ue,stopIndicesWithElidedDims:se,stridesForAxis:ce,startForAxis:le,stopForAxis:fe,isSliceContinous:function(t,n,e){for(var r=e.length,o=0;o<e.length;o++)if(e[o]>1){r=o;break}for(o=r+1;o<e.length;o++)if(n[o]>0||e[o]!==t[o])return!1;return!0},computeFlatOffset:function(t,n){for(var e=t.length>0?t[t.length-1]:1,r=0;r<t.length-1;r++)e+=t[r]*n[r];return e},parseSliceParams:pe},de=function(){function t(){}return t.prototype.getClassName=function(){return this.constructor.className},t.fromConfig=function(t,n){return new t(n)},t}(),ve=function(){function t(){this.classNameMap={}}return t.getMap=function(){return null==t.instance&&(t.instance=new t),t.instance},t.register=function(n){t.getMap().classNameMap[n.className]=[n,n.fromConfig]},t}();function me(t){E(null!=t.className,(function(){return"Class being registered does not have the static className property defined."})),E("string"==typeof t.className,(function(){return"className is required to be a string, but got type "+typeof t.className})),E(t.className.length>0,(function(){return"Class being registered has an empty-string as its className, which is disallowed."})),ve.register(t)}var ge={__proto__:null,Serializable:de,SerializationMap:ve,registerClass:me};function ye(){return 32===Tt.backend.floatPrecision()?.001:.1}function be(t,n,e){var r=!0;if((O(t)||O(n))&&(r=!1),O(t)&&O(n)&&(r=!0),r){var o=t.constructor.name,a=n.constructor.name;if(o!==a)throw new Error("Arrays are of different type. Actual: "+o+". Expected: "+a)}if(Array.isArray(t)&&Array.isArray(n)){var i=Ct(t),u=Ct(n);if(!A(i,u))throw new Error("Arrays have different shapes. Actual: ["+i+"]. Expected: ["+u+"]")}var s=O(t)?t:I(t),c=O(n)?n:I(n);if(s.length!==c.length)throw new Error("Arrays have different lengths actual: "+s.length+" vs expected: "+c.length+".\nActual:   "+s+".\nExpected: "+c+".");for(var l=0;l<c.length;++l){var f=s[l],p=c[l];if(!e(f,p))throw new Error("Arrays differ: actual["+l+"] = "+f+", expected["+l+"] = "+p+".\nActual:   "+s+".\nExpected: "+c+".")}}function we(t,n,e){return!isFinite(t)&&!isFinite(n)||!(isNaN(t)||isNaN(n)||Math.abs(t-n)>e)}var ke={__proto__:null,TEST_EPSILON_FLOAT16:.1,expectArraysClose:function(t,n,e){return null==e&&(e=ye()),be(t,n,(function(t,n){return we(t,n,e)}))},testEpsilon:ye,expectPromiseToFail:function(t,n){t().then((function(){return n.fail()}),(function(){return n()}))},expectArraysEqual:function(t,n){var e="string"==typeof n||"number"==typeof n||"boolean"==typeof n?[n]:n;return U(t)||U(t[0])||U(n)||U(n[0])?be(t,e,(function(t,n){return t==n})):be(t,n,(function(t,n){return we(t,n,0)}))},expectNumbersClose:function(t,n,e){if(null==e&&(e=ye()),!we(t,n,e))throw new Error("Numbers differ: actual === "+t+", expected === "+n)},expectValuesInRange:function(t,n,e){for(var r=0;r<t.length;r++)if(t[r]<n||t[r]>e)throw new Error("Value out of range:"+t[r]+" low: "+n+", high: "+e)},expectArrayBuffersEqual:function(t,n){expect(new Float32Array(t)).toEqual(new Float32Array(n))}};function xe(t){f().getBool("DEPRECATION_WARNINGS_ENABLED")&&console.warn(t+" You can disable deprecation warnings with tf.disableDeprecationWarnings().")}function Se(t,n){return Tt.tidy(t,n)}function Ee(t){Dt(t).forEach((function(t){return t.dispose()}))}function De(t){return Tt.keep(t)}var Ne=qt({add_:function(t,n){var e,r=Lt(t,"a","add"),o=Lt(n,"b","add");e=St(r,o),r=e[0],o=e[1];var a={a:r,b:o};return Tt.runKernelFunc((function(t,n){var e=t.add(r,o);return n([r,o]),e}),a,null,"Add")}});var Ie=qt({floorDiv_:function(t,n){var e,r=Lt(t,"a","floorDiv"),o=Lt(n,"b","floorDiv");e=St(r,o),r=e[0],o=e[1];var a={a:r,b:o};return Tt.runKernelFunc((function(t,n){var e=t.floorDiv(r,o);return n([r,o]),e}),a,null,"FloorDiv")}});var Fe=qt({div_:function(t,n){var e,r=Lt(t,"a","div"),o=Lt(n,"b","div");if(e=St(r,o),r=e[0],o=e[1],"int32"===r.dtype&&"int32"===o.dtype)return Ie(r,o);var a={a:r,b:o};return Tt.runKernelFunc((function(t,n){var e=t.realDivide(r,o);return n([r,o]),e}),a,null,"Div",{})}});var Ae=qt({mul_:function(t,n){var e,r=Lt(t,"a","mul"),o=Lt(n,"b","mul");e=St(r,o),r=e[0],o=e[1];var a={a:r,b:o};return Tt.runKernelFunc((function(t,n){var e=t.multiply(r,o);return n([r,o]),e}),a,null,"Multiply")}});var Te=qt({abs_:function(t){var n=Lt(t,"x","abs"),e={x:n};return Tt.runKernelFunc((function(t,e){return e([n]),"complex64"===n.dtype?t.complexAbs(n):t.abs(n)}),e,null,"Abs")}});var Me=qt({acos_:function(t){var n=Lt(t,"x","acos"),e={x:n};return Tt.runKernelFunc((function(t,e){var r=t.acos(n);return e([n]),r}),e,null,"Acos")}});var _e=qt({acosh_:function(t){var n=Lt(t,"x","acosh"),e={x:n};return Tt.runKernelFunc((function(t,e){var r=t.acosh(n);return e([n]),r}),e,null,"Acosh")}});var Be=qt({addN_:function(t){E(Array.isArray(t),(function(){return"The argument passed to tf.addN() must be a list of tensors"})),E(t.length>=1,(function(){return"Must pass at least one tensor to tf.addN(), but got "+t.length}));var n=t.map((function(t,n){return Lt(t,"tensors"+n,"addN")})),e=n[0];n.forEach((function(t){if(t.dtype!==e.dtype)throw new Error("All tensors passed to tf.addN() must have the same dtype")})),n.forEach((function(t){if(!A(t.shape,e.shape))throw new Error("All tensors passed to tf.addN() must have the same shape")}));var r=n;return Tt.runKernelFunc((function(t,e){var r=t.addN(n);return e(n),r}),r,null,"AddN")}});function Re(t,n){for(var e=0;e<t.length;++e)if(t[t.length-e-1]!==n-1-e)return!1;return!0}function Ce(t,n,e){for(var r=t.length+n.length,o=[],a=0,i=0,u=0;u<r;u++)-1===e.indexOf(u)?o.push(t[a++]):o.push(n[i++]);return o}function Pe(t,n){for(var e=[],r=t.length,o=0;o<r;o++)-1===n.indexOf(o)&&e.push(t[o]);return[e,n.map((function(n){return t[n]}))]}function Le(t,n){return Ce(t,n.map((function(t){return 1})),n)}function ze(t,n){if(Re(t,n))return null;for(var e=[],r=0;r<n;++r)-1===t.indexOf(r)&&e.push(r);return t.forEach((function(t){return e.push(t)})),e}function qe(t){return t.map((function(t,n){return[n,t]})).sort((function(t,n){return t[1]-n[1]})).map((function(t){return t[0]}))}function Oe(t,n){for(var e=[],r=n-t;r<n;++r)e.push(r);return e}var We=qt({all_:function(t,n,e){void 0===n&&(n=null),void 0===e&&(e=!1);var r=Lt(t,"x","all","bool"),o={x:r},a={axis:n,keepDims:e};return Tt.runKernelFunc((function(t){var o=B(n,r.shape),a=o,i=ze(a,r.rank);null!=i&&(r=Un(r,i),a=Oe(a.length,r.rank));var u=t.all(r,a);if(e){var s=Le(u.shape,o);return On(u,s)}return u}),o,null,"All",a)}});var Ke=qt({any_:function(t,n,e){void 0===n&&(n=null),void 0===e&&(e=!1);var r=Lt(t,"x","any","bool"),o={x:r},a={axis:n,keepDims:e};return Tt.runKernelFunc((function(t){var o=B(n,r.shape),a=o,i=ze(a,r.rank);null!=i&&(r=Un(r,i),a=Oe(a.length,r.rank));var u=t.any(r,a);if(e){var s=Le(u.shape,o);return On(u,s)}return u}),o,null,"Any",a)}});var Ue=qt({argMax_:function(t,n){void 0===n&&(n=0);var e=Lt(t,"x","argMax"),r={x:e},o={axis:n};return Tt.runKernelFunc((function(t,r){r([e]);var o=B(n,e.shape),a=ze(o,e.rank);return null!=a&&(e=Un(e,a),o=Oe(o.length,e.rank)),t.argMax(e,o[0])}),r,null,"ArgMax",o)}});var Ge=qt({argMin_:function(t,n){void 0===n&&(n=0);var e=Lt(t,"x","argMin"),r={x:e},o={axis:n};return Tt.runKernelFunc((function(t,r){r([e]),null==n&&(n=0);var o=B(n,e.shape),a=ze(o,e.rank);return null!=a&&(e=Un(e,a),o=Oe(o.length,e.rank)),t.argMin(e,o[0])}),r,null,"ArgMin",o)}});var Ve=qt({asin_:function(t){var n=Lt(t,"x","asin"),e={x:n};return Tt.runKernelFunc((function(t,e){var r=t.asin(n);return e([n]),r}),e,null,"Asin")}});var He=qt({asinh_:function(t){var n=Lt(t,"x","asinh"),e={x:n};return Tt.runKernelFunc((function(t,e){var r=t.asinh(n);return e([n]),r}),e,null,"Asinh")}});var je=qt({atan_:function(t){var n=Lt(t,"x","atan"),e={x:n};return Tt.runKernelFunc((function(t,e){var r=t.atan(n);return e([n]),r}),e,null,"Atan")}});var Je=qt({atan2_:function(t,n){var e,r=Lt(t,"a","atan2"),o=Lt(n,"b","atan2");e=St(r,o),r=e[0],o=e[1];var a={a:r,b:o};return Tt.runKernelFunc((function(t,n){var e=t.atan2(r,o);return n([r,o]),e}),a,null,"Atan2")}});var Ye=qt({atanh_:function(t){var n=Lt(t,"x","atanh"),e={x:n};return Tt.runKernelFunc((function(t,e){var r=t.atanh(n);return e([n]),r}),e,null,"Atanh")}});function Ze(t,n,e,r,o,a,i){void 0===i&&(i="channelsLast");var u,s=nr(n),c=s[0],l=s[1];if("channelsLast"===i)u=[c,l,t[3],t[3]];else{if("channelsFirst"!==i)throw new Error("Unknown dataFormat "+i);u=[c,l,t[1],t[1]]}return $e(t,u,e,r,o,a,!1,i)}function Xe(t,n,e,r,o,a,i){void 0===i&&(i="NDHWC");var u,s,c=er(n),l=c[0],f=c[1],p=c[2];if("NDHWC"===i)s="channelsLast",u=[l,f,p,t[4],t[4]];else{if("NCDHW"!==i)throw new Error("Unknown dataFormat "+i);s="channelsFirst",u=[l,f,p,t[1],t[1]]}return Qe(t,u,e,r,o,!1,s,a)}function $e(t,n,e,r,o,a,i,u){void 0===i&&(i=!1),void 0===u&&(u="channelsLast");var s=[-1,-1,-1,-1],c=s[0],l=s[1],f=s[2],p=s[3];if("channelsLast"===u)c=t[0],l=t[1],f=t[2],p=t[3];else{if("channelsFirst"!==u)throw new Error("Unknown dataFormat "+u);c=t[0],p=t[1],l=t[2],f=t[3]}var h,d=n[0],v=n[1],m=n[3],g=nr(e),y=g[0],b=g[1],w=nr(r),k=w[0],x=w[1],S=rr(d,k),D=rr(v,x),N=function(t,n,e,r,o,a,i,u,s){var c,l,f;if("number"==typeof t){c={top:t,bottom:t,left:t,right:t,type:0===t?"VALID":"NUMBER"};var p=function(t,n,e,r,o){null==r&&(r=tr(t,n,e));var a=t[0],i=t[1],u=or((a-n+2*r)/e+1,o);E(T(u),(function(){return"The output # of rows ("+u+") must be an integer. Change the stride and/or zero pad parameters"}));var s=or((i-n+2*r)/e+1,o);return E(T(s),(function(){return"The output # of columns ("+s+") must be an integer. Change the stride and/or zero pad parameters"})),[u,s]}([n,e],a,r,t,u);l=p[0],f=p[1]}else if("same"===t){l=Math.ceil(n/r),f=Math.ceil(e/o);var h=Math.max(0,(l-1)*r+a-n),d=Math.max(0,(f-1)*o+i-e),v=Math.floor(h/2),m=h-v,g=Math.floor(d/2);c={top:v,bottom:m,left:g,right:b=d-g,type:"SAME"}}else if("valid"===t)c={top:0,bottom:0,left:0,right:0,type:"VALID"},l=Math.ceil((n-a+1)/r),f=Math.ceil((e-i+1)/o);else{if("object"!=typeof t)throw Error("Unknown padding parameter: "+t);var y="channelsLast"===s?t[1][0]:t[2][0],b=(m="channelsLast"===s?t[1][1]:t[2][1],g="channelsLast"===s?t[2][0]:t[3][0],"channelsLast"===s?t[2][1]:t[3][1]);c={top:y,bottom:m,left:g,right:b,type:0===y&&0===m&&0===g&&0===b?"VALID":"EXPLICIT"},l=or((n-a+y+m)/r+1,u),f=or((e-i+g+b)/o+1,u)}return{padInfo:c,outHeight:l,outWidth:f}}(o,l,f,y,b,S,D,a,u),I=N.padInfo,F=N.outHeight,A=N.outWidth,M=i?m*p:m;return"channelsFirst"===u?h=[c,M,F,A]:"channelsLast"===u&&(h=[c,F,A,M]),{batchSize:c,dataFormat:u,inHeight:l,inWidth:f,inChannels:p,outHeight:F,outWidth:A,outChannels:M,padInfo:I,strideHeight:y,strideWidth:b,filterHeight:d,filterWidth:v,effectiveFilterHeight:S,effectiveFilterWidth:D,dilationHeight:k,dilationWidth:x,inShape:t,outShape:h,filterShape:n}}function Qe(t,n,e,r,o,a,i,u){void 0===a&&(a=!1),void 0===i&&(i="channelsLast");var s=[-1,-1,-1,-1,-1],c=s[0],l=s[1],f=s[2],p=s[3],h=s[4];if("channelsLast"===i)c=t[0],l=t[1],f=t[2],p=t[3],h=t[4];else{if("channelsFirst"!==i)throw new Error("Unknown dataFormat "+i);c=t[0],h=t[1],l=t[2],f=t[3],p=t[4]}var d,v=n[0],m=n[1],g=n[2],y=n[4],b=er(e),w=b[0],k=b[1],x=b[2],S=er(r),D=S[0],N=S[1],I=S[2],F=rr(v,D),A=rr(m,N),M=rr(g,I),_=function(t,n,e,r,o,a,i,u,s,c,l){var f,p,h,d;if("number"==typeof t){f={top:t,bottom:t,left:t,right:t,front:t,back:t,type:0===t?"VALID":"NUMBER"};var v=function(t,n,e,r,o,a){null==o&&(o=tr(t,n,r));var i=t[0],u=t[1],s=t[2],c=or((i-n+2*o)/r+1,a);E(T(c),(function(){return"The output # of depths ("+c+") must be an integer. Change the stride and/or zero pad parameters"}));var l=or((u-n+2*o)/r+1,a);E(T(l),(function(){return"The output # of rows ("+l+") must be an integer. Change the stride and/or zero pad parameters"}));var f=or((s-n+2*o)/r+1,a);return E(T(f),(function(){return"The output # of columns ("+f+") must be an integer. Change the stride and/or zero pad parameters"})),[c,l,f,e]}([n,e,r,1],u,1,o,t,l);p=v[0],h=v[1],d=v[2]}else if("same"===t){p=Math.ceil(n/o),h=Math.ceil(e/a),d=Math.ceil(r/i);var m=(p-1)*o+u-n,g=(h-1)*a+s-e,y=(d-1)*i+c-r,b=Math.floor(m/2),w=m-b,k=Math.floor(g/2),x=g-k,S=Math.floor(y/2);f={top:k,bottom:x,left:S,right:y-S,front:b,back:w,type:"SAME"}}else{if("valid"!==t)throw Error("Unknown padding parameter: "+t);f={top:0,bottom:0,left:0,right:0,front:0,back:0,type:"VALID"},p=Math.ceil((n-u+1)/o),h=Math.ceil((e-s+1)/a),d=Math.ceil((r-c+1)/i)}return{padInfo:f,outDepth:p,outHeight:h,outWidth:d}}(o,l,f,p,w,k,x,F,A,M,u),B=_.padInfo,R=_.outDepth,C=_.outHeight,P=_.outWidth,L=a?y*h:y;return"channelsFirst"===i?d=[c,L,R,C,P]:"channelsLast"===i&&(d=[c,R,C,P,L]),{batchSize:c,dataFormat:i,inDepth:l,inHeight:f,inWidth:p,inChannels:h,outDepth:R,outHeight:C,outWidth:P,outChannels:L,padInfo:B,strideDepth:w,strideHeight:k,strideWidth:x,filterDepth:v,filterHeight:m,filterWidth:g,effectiveFilterDepth:F,effectiveFilterHeight:A,effectiveFilterWidth:M,dilationDepth:D,dilationHeight:N,dilationWidth:I,inShape:t,outShape:d,filterShape:n}}function tr(t,n,e,r){void 0===r&&(r=1);var o=rr(n,r);return Math.floor((t[0]*(e-1)-e+o)/2)}function nr(t){return"number"==typeof t?[t,t,t]:2===t.length?[t[0],t[1],1]:t}function er(t){return"number"==typeof t?[t,t,t]:t}function rr(t,n){return n<=1?t:t+(t-1)*(n-1)}function or(t,n){if(!n)return t;switch(n){case"round":return Math.round(t);case"ceil":return Math.ceil(t);case"floor":return Math.floor(t);default:throw new Error("Unknown roundingMode "+n)}}function ar(t){var n=nr(t),e=n[0],r=n[1],o=n[2];return 1===e&&1===r&&1===o}function ir(t,n){return ar(t)||ar(n)}function ur(t){if("NHWC"===t)return"channelsLast";if("NCHW"===t)return"channelsFirst";throw new Error("Unknown dataFormat "+t)}var sr=qt({avgPool_:function(t,n,e,r,o){var a=Lt(t,"x","avgPool","float32");E(ir(e,1),(function(){return"Error in avgPool: Either strides or dilations must be 1. Got strides "+e+" and dilations '1'"}));var i=a,u=!1;3===a.rank&&(u=!0,i=On(a,[1,a.shape[0],a.shape[1],a.shape[2]])),E(4===i.rank,(function(){return"Error in avgPool: x must be rank 4 but got rank "+i.rank+"."})),null!=o&&E(T(r),(function(){return"Error in avgPool: pad must be an integer when using, dimRoundingMode "+o+" but got pad "+r+"."}));var s={x:i},c={filterSize:n,strides:e,pad:r,dimRoundingMode:o},l=Tt.runKernelFunc((function(t,a){var u=Ze(i.shape,n,e,1,r,o);return a([i]),1===u.filterWidth&&1===u.filterHeight&&A(u.inShape,u.outShape)?i.clone():t.avgPool(i,u)}),s,null,"AvgPool",c);return l=En(l,a.dtype),u?On(l,[l.shape[1],l.shape[2],l.shape[3]]):l}});var cr=qt({avgPool3d_:function(t,n,e,r,o,a,i){void 0===a&&(a="NDHWC"),null==i?i=[1,1,1]:xe("dilations is deprecated, this field will be gone in v3.0.0.");var u=Lt(t,"x","avgPool3d","float32"),s=u,c=!1;4===u.rank&&(c=!0,s=On(u,[1,u.shape[0],u.shape[1],u.shape[2],u.shape[3]])),E(5===s.rank,(function(){return"Error in avgPool3d: x must be rank 5 but got rank "+s.rank+"."})),E("NDHWC"===a,(function(){return"Error in avgPool3d: Only NDHWC is currently supported, but got dataFormat of "+a})),E(ir(e,i),(function(){return"Error in avgPool3d: Either strides or dilations must be 1. Got strides "+e+" and dilations '"+i+"'"})),null!=o&&E(T(r),(function(){return"Error in avgPool3d: pad must be an integer when using, dimRoundingMode "+o+" but got pad "+r+"."}));var l={x:s},f={filterSize:n,strides:e,pad:r,dimRoundingMode:o,dataFormat:a,dilations:i},p=Tt.runKernelFunc((function(t,u){null==i&&(i=[1,1,1]);var c=Xe(s.shape,n,e,i,r,o,a);return u([s]),t.avgPool3d(s,c)}),l,null,"AvgPool3D",f);return p=En(p,s.dtype),c?On(p,[p.shape[1],p.shape[2],p.shape[3],p.shape[4]]):p}});function lr(t,n){var e=t[0].length;t.forEach((function(t,n){E(t.length===e,(function(){return"Error in concat"+e+"D: rank of tensors["+n+"] must be the same as the rank of the rest ("+e+")"}))})),E(n>=0&&n<e,(function(){return"Error in concat"+e+"D: axis must be between 0 and "+(e-1)+"."}));var r=t[0];t.forEach((function(t,o){for(var a=0;a<e;a++)E(a===n||t[a]===r[a],(function(){return"Error in concat"+e+"D: Shape of tensors["+o+"] ("+t+") does not match the shape of the rest ("+r+") along the non-concatenated axis "+o+"."}))}))}function fr(t,n){for(var e=t[0].slice(),r=1;r<t.length;r++)e[n]+=t[r][n];return e}var pr=qt({concat_:function(t,n){void 0===n&&(n=0),E(t.length>=1,(function(){return"Pass at least one tensor to concat"}));var e=zt(t,"tensors","concat");"complex64"===e[0].dtype&&e.forEach((function(t){if("complex64"!==t.dtype)throw new Error("Cannot concatenate complex64 tensors with a tensor\n          with dtype "+t.dtype+". ")}));var r=e,o={axis:n};return Tt.runKernelFunc((function(t,r){var o=B(n,e[0].shape)[0],a=fr(e.map((function(t){return t.shape})),o);if(0===F(a))return Kt([],a);if(1===(e=e.filter((function(t){return t.size>0}))).length)return e[0];lr(e.map((function(t){return t.shape})),o);var i=t.concat(e,o);return r(e),i}),r,null,"Concat",o)}});var hr=qt({sigmoid_:function(t){var n=Lt(t,"x","sigmoid"),e={x:n};return Tt.runKernelFunc((function(t,e){var r=t.sigmoid(n);return e([r]),r}),e,null,"Sigmoid")}});var dr=qt({slice_:function(t,n,e){var r=Lt(t,"x","slice");if(0===r.rank)throw new Error("Slicing scalar is not possible");var o={x:r},a={begin:n,size:e};return Tt.runKernelFunc((function(t,o){var a=pe(r,n,e),i=a[0],u=a[1];return te(r,i,u),o([r]),t.slice(r,i,u)}),o,null,"Slice",a)}});var vr=qt({tanh_:function(t){var n=Lt(t,"x","tanh"),e={x:n};return Tt.runKernelFunc((function(t,e){var r=t.tanh(n);return e([r]),r}),e,null,"Tanh")}});var mr=qt({basicLSTMCell_:function(t,n,e,r,o,a){var i=Lt(t,"forgetBias","basicLSTMCell"),u=Lt(n,"lstmKernel","basicLSTMCell"),s=Lt(e,"lstmBias","basicLSTMCell"),c=Lt(r,"data","basicLSTMCell"),l=Lt(o,"c","basicLSTMCell"),f=Lt(a,"h","basicLSTMCell"),p=pr([c,f],1),h=Wn(p,u),d=Ne(h,s),v=d.shape[0],m=d.shape[1]/4,g=[v,m],y=dr(d,[0,0],g),b=dr(d,[0,m],g),w=dr(d,[0,2*m],g),k=dr(d,[0,3*m],g),x=Ne(Ae(hr(y),vr(b)),Ae(l,hr(Ne(i,w))));return[x,Ae(vr(x),hr(k))]}});var gr=qt({batchToSpaceND_:function(t,n,e){var r=Lt(t,"x","batchToSpaceND"),o=n.reduce((function(t,n){return t*n}));E(r.rank>=1+n.length,(function(){return"input rank is "+r.rank+" but should be > than blockShape.length "+n.length})),E(e.length===n.length,(function(){return"crops.length is "+e.length+" but should be equal to blockShape.length  "+n.length})),E(r.shape[0]%o==0,(function(){return"input tensor batch is "+r.shape[0]+" but is not divisible by the product of the elements of blockShape "+n.join(" * ")+" === "+o}));var a={x:r},i={blockShape:n,crops:e};return Tt.runKernelFunc((function(t){return t.batchToSpaceND(r,n,e)}),a,null,"BatchToSpaceND",i)}});function yr(t){return null==t?null:0===t.rank?On(t,[t.size]):1===t.rank?t:2===t.rank?On(t,[1,1,t.shape[0],t.shape[1]]):3===t.rank?On(t,[1,t.shape[0],t.shape[1],t.shape[2]]):t}var br=qt({batchNorm_:function(t,n,e,r,o,a){null==a&&(a=.001);var i,u,s=Lt(t,"x","batchNorm"),c=Lt(n,"mean","batchNorm"),l=Lt(e,"variance","batchNorm");null!=o&&(i=Lt(o,"scale","batchNorm")),null!=r&&(u=Lt(r,"offset","batchNorm")),E(c.rank===l.rank,(function(){return"Batch normalization gradient requires mean and variance to have equal ranks."})),E(null==u||c.rank===u.rank,(function(){return"Batch normalization gradient requires mean and offset to have equal ranks."})),E(null==i||c.rank===i.rank,(function(){return"Batch normalization gradient requires mean and scale to have equal ranks."}));var f=function(t){return 0===t.rank||1===t.rank?On(t,[1,1,1,t.size]):2===t.rank?On(t,[1,1,t.shape[0],t.shape[1]]):3===t.rank?On(t,[1,t.shape[0],t.shape[1],t.shape[2]]):t}(s),p={x:f,scale:i,offset:u,mean:c,variance:l},h={varianceEpsilon:a},d=Tt.runKernelFunc((function(t,n){return n([f,c,l,i]),t.batchNorm(f,yr(c),yr(l),yr(u),yr(i),a)}),p,null,"FusedBatchNorm",h);return On(d,s.shape)}});var wr=qt({batchNorm2d_:function(t,n,e,r,o,a){var i,u,s=Lt(t,"x","batchNorm"),c=Lt(n,"mean","batchNorm"),l=Lt(e,"variance","batchNorm");return null!=o&&(i=Lt(o,"scale","batchNorm")),null!=r&&(u=Lt(r,"offset","batchNorm")),E(2===s.rank,(function(){return"Error in batchNorm2D: x must be rank 2 but got rank "+s.rank+"."})),E(2===c.rank||1===c.rank,(function(){return"Error in batchNorm2D: mean must be rank 2 or rank 1 but got rank "+c.rank+"."})),E(2===l.rank||1===l.rank,(function(){return"Error in batchNorm2D: variance must be rank 2 or rank 1 but got rank "+l.rank+"."})),null!=i&&E(2===i.rank||1===i.rank,(function(){return"Error in batchNorm2D: scale must be rank 2 or rank 1 but got rank "+i.rank+"."})),null!=u&&E(2===u.rank||1===u.rank,(function(){return"Error in batchNorm2D: offset must be rank 2 or rank 1 but got rank "+u.rank+"."})),br(s,c,l,u,i,a)}});var kr=qt({batchNorm3d_:function(t,n,e,r,o,a){var i,u,s=Lt(t,"x","batchNorm"),c=Lt(n,"mean","batchNorm"),l=Lt(e,"variance","batchNorm");return null!=o&&(i=Lt(o,"scale","batchNorm")),null!=r&&(u=Lt(r,"offset","batchNorm")),E(3===s.rank,(function(){return"Error in batchNorm3D: x must be rank 3 but got rank "+s.rank+"."})),E(3===c.rank||1===c.rank,(function(){return"Error in batchNorm3D: mean must be rank 3 or rank 1 but got rank "+c.rank+"."})),E(3===l.rank||1===l.rank,(function(){return"Error in batchNorm3D: variance must be rank 3 or rank 1 but got rank "+l.rank+"."})),null!=i&&E(3===i.rank||1===i.rank,(function(){return"Error in batchNorm3D: scale must be rank 3 or rank 1 but got rank "+i.rank+"."})),null!=u&&E(3===u.rank||1===u.rank,(function(){return"Error in batchNorm3D: offset must be rank 3 or rank 1 but got rank "+u.rank+"."})),br(s,c,l,u,i,a)}});var xr=qt({batchNorm4d_:function(t,n,e,r,o,a){var i,u,s=Lt(t,"x","batchNorm"),c=Lt(n,"mean","batchNorm"),l=Lt(e,"variance","batchNorm");return null!=o&&(i=Lt(o,"scale","batchNorm")),null!=r&&(u=Lt(r,"offset","batchNorm")),E(4===s.rank,(function(){return"Error in batchNorm4D: x must be rank 4 but got rank "+s.rank+"."})),E(4===c.rank||1===c.rank,(function(){return"Error in batchNorm4D: mean must be rank 4 or rank 1 but got rank "+c.rank+"."})),E(4===l.rank||1===l.rank,(function(){return"Error in batchNorm4D: variance must be rank 4 or rank 1 but got rank "+l.rank+"."})),null!=i&&E(4===i.rank||1===i.rank,(function(){return"Error in batchNorm4D: scale must be rank 4 or rank 1 but got rank "+i.rank+"."})),null!=u&&E(4===u.rank||1===u.rank,(function(){return"Error in batchNorm4D: offset must be rank 4 or rank 1 but got rank "+u.rank+"."})),br(s,c,l,u,i,a)}});var Sr=qt({broadcastTo_:function(t,n){var e=Lt(t,"broadcastTo","x"),r=e.shape;if(n.some((function(t){return!(t>0)||t%1!=0})))throw new Error("broadcastTo(): Invalid broadcast shape ["+n+"].");if(n.length<e.rank)throw new Error("broadcastTo(): shape.length="+n.length+" < input.rank="+e.rank+".");if(n.length>e.rank){for(var o=e.shape.slice();o.length<n.length;)o.unshift(1);e=On(e,o)}for(var a=e.shape,i=Array.from(n),u=n.length-1;u>=0;u--)if(a[u]===n[u])i[u]=1;else if(1!==e.shape[u])throw new Error("broadcastTo(): ["+r+"] cannot be broadcast to ["+n+"].");if(0===i.map((function(t,n){return t>1?n:-1})).filter((function(t){return t>=0})).length)return Dn(e);var s={x:e},c={shape:n,inputShape:a};return Tt.runKernelFunc((function(t){return t.tile(e,i)}),s,null,"BroadcastTo",c)}});var Er=qt({ceil_:function(t){var n=Lt(t,"x","ceil"),e={x:n};return Tt.runKernelFunc((function(t){return t.ceil(n)}),e,null,"Ceil")}});var Dr=qt({clipByValue_:function(t,n,e){var r=Lt(t,"x","clipByValue");E(n<=e,(function(){return"Error in clip: min ("+n+") must be less than or equal to max ("+e+")."}));var o={x:r},a={clipValueMin:n,clipValueMax:e};return Tt.runKernelFunc((function(t,o){var a=t.clip(r,n,e);return o([r]),a}),o,null,"ClipByValue",a)}});var Nr=qt({concat1d_:function(t){return pr(t,0)}});var Ir=qt({concat2d_:function(t,n){return pr(t,n)}});var Fr=qt({concat3d_:function(t,n){return pr(t,n)}});var Ar=qt({concat4d_:function(t,n){return pr(t,n)}});var Tr=qt({conv2d_:function(t,n,e,r,o,a,i){void 0===o&&(o="NHWC"),void 0===a&&(a=[1,1]);var u=Lt(t,"x","conv2d"),s=Lt(n,"filter","conv2d"),c=u,l=!1;3===u.rank&&(l=!0,c=On(u,[1,u.shape[0],u.shape[1],u.shape[2]])),E(4===c.rank,(function(){return"Error in conv2d: input must be rank 4, but got rank "+c.rank+"."})),E(4===s.rank,(function(){return"Error in conv2d: filter must be rank 4, but got rank "+s.rank+"."})),null!=i&&E(T(r),(function(){return"Error in conv2d: pad must be an integer when using, dimRoundingMode "+i+" but got pad "+r+"."}));var f="NHWC"===o?c.shape[3]:c.shape[1];E(f===s.shape[2],(function(){return"Error in conv2d: depth of input ("+f+") must match input depth for filter "+s.shape[2]+"."})),E(ir(e,a),(function(){return"Error in conv2D: Either strides or dilations must be 1. Got strides "+e+" and dilations '"+a+"'"}));var p={x:c,filter:s},h={strides:e,pad:r,dataFormat:o,dilations:a,dimRoundingMode:i},d=Tt.runKernelFunc((function(t,n){var u=ur(o),l=$e(c.shape,s.shape,e,a,r,i,!1,u),f=t.conv2d(c,s,l);return n([c,s]),f}),p,null,"Conv2D",h);return l?On(d,[d.shape[1],d.shape[2],d.shape[3]]):d}});var Mr=qt({conv1d_:function(t,n,e,r,o,a,i){void 0===o&&(o="NWC"),void 0===a&&(a=1);var u=Lt(t,"x","conv1d"),s=Lt(n,"filter","conv1d"),c=u,l=!1;2===u.rank&&(l=!0,c=On(u,[1,u.shape[0],u.shape[1]])),E(3===c.rank,(function(){return"Error in conv1d: input must be rank 3, but got rank "+c.rank+"."})),E(3===s.rank,(function(){return"Error in conv1d: filter must be rank 3, but got rank "+s.rank+"."})),null!=i&&E(T(r),(function(){return"Error in conv1d: pad must be an integer when using, dimRoundingMode "+i+" but got pad "+r+"."})),E(c.shape[2]===s.shape[1],(function(){return"Error in conv1d: depth of input ("+c.shape[2]+") must match input depth for filter "+s.shape[1]+"."})),E(ir(e,a),(function(){return"Error in conv1D: Either stride or dilation must be 1. Got stride "+e+" and dilation '"+a+"'"})),E("NWC"===o,(function(){return"Error in conv1d: got dataFormat of "+o+" but only NWC is currently supported."}));var f=On(s,[1,s.shape[0],s.shape[1],s.shape[2]]),p=On(c,[c.shape[0],1,c.shape[1],c.shape[2]]),h=Tr(p,f,[1,e],r,"NHWC",[1,a],i);return On(h,l?[h.shape[2],h.shape[3]]:[h.shape[0],h.shape[2],h.shape[3]])}});var _r=qt({conv2DBackpropInput_:function(t,n,e,r,o,a,i){void 0===a&&(a="NHWC"),E(t.length===n.rank,(function(){return"Length of inShape ("+t.length+") and rank of dy ("+n.rank+") must match"}));var u=t,s=n,c=!1;3===n.rank&&(c=!0,s=On(n,[1,n.shape[0],n.shape[1],n.shape[2]]),u=[1,t[0],t[1],t[2]]),E(4===u.length,(function(){return"Error in conv2dDerInput: inShape must be length 4, but got length "+u.length+"."})),E(4===s.rank,(function(){return"Error in conv2dDerInput: dy must be rank 4, but got rank "+s.rank})),E(4===e.rank,(function(){return"Error in conv2dDerInput: filter must be rank 4, but got rank "+e.rank}));var l="NHWC"===a?u[3]:u[1],f="NHWC"===a?s.shape[3]:s.shape[1];E(l===e.shape[2],(function(){return"Error in conv2dDerInput: depth of input ("+l+") must match input depth for filter "+e.shape[2]+"."})),E(f===e.shape[3],(function(){return"Error in conv2dDerInput: depth of output ("+f+") must match output depth for filter "+e.shape[3]+"."})),null!=i&&E(T(o),(function(){return"Error in conv2dDerInput: pad must be an integer when using, dimRoundingMode "+i+" but got pad "+o+"."}));var p={dy:s,filter:e},h={strides:r,pad:o,dataFormat:a,dimRoundingMode:i,inputShape:u},d=Tt.runKernelFunc((function(t,n){var c=ur(a),l=$e(u,e.shape,r,1,o,i,!1,c),f=t.conv2dDerInput(s,e,l);return n([s,e]),f}),p,null,"Conv2DBackpropInput",h);return c?On(d,[d.shape[1],d.shape[2],d.shape[3]]):d}});var Br=qt({conv2dTranspose_:function(t,n,e,r,o,a){var i=Lt(t,"x","conv2dTranspose"),u=Lt(n,"filter","conv2dTranspose");return _r(e,i,u,r,o,"NHWC",a)}});var Rr=qt({conv3d_:function(t,n,e,r,o,a){void 0===o&&(o="NDHWC"),void 0===a&&(a=[1,1,1]);var i=Lt(t,"x","conv3d"),u=Lt(n,"filter","conv3d"),s=i,c=!1;4===i.rank&&(c=!0,s=On(i,[1,i.shape[0],i.shape[1],i.shape[2],i.shape[3]])),E(5===s.rank,(function(){return"Error in conv3d: input must be rank 5, but got rank "+s.rank+"."})),E(5===u.rank,(function(){return"Error in conv3d: filter must be rank 5, but got rank "+u.rank+"."})),E(s.shape[4]===u.shape[3],(function(){return"Error in conv3d: depth of input ("+s.shape[4]+") must match input depth for filter "+u.shape[3]+"."})),E(ir(e,a),(function(){return"Error in conv3D: Either strides or dilations must be 1. Got strides "+e+" and dilations '"+a+"'"})),E("NDHWC"===o,(function(){return"Error in conv3d: got dataFormat of "+o+" but only NDHWC is currently supported."}));var l={x:s,filter:u},f={strides:e,pad:r,dataFormat:o,dilations:a},p=Tt.runKernelFunc((function(t,n){var o=Qe(s.shape,u.shape,e,a,r),i=t.conv3d(s,u,o);return n([s,u]),i}),l,null,"Conv3D",f);return c?On(p,[p.shape[1],p.shape[2],p.shape[3],p.shape[4]]):p}});var Cr=qt({conv3DBackpropInput_:function(t,n,e,r,o){E(t.length===n.rank,(function(){return"Length of inShape ("+t.length+") and rank of dy ("+n.rank+") must match"}));var a=t,i=n,u=!1;4===n.rank&&(u=!0,i=On(n,[1,n.shape[0],n.shape[1],n.shape[2],n.shape[3]]),a=[1,t[0],t[1],t[2],t[3]]);var s=a[4],c=i.shape[4];E(5===a.length,(function(){return"Error in conv3dDerInput: inShape must be length 5, but got length "+a.length+"."})),E(5===i.rank,(function(){return"Error in conv3dDerInput: dy must be rank 5, but got rank "+i.rank})),E(5===e.rank,(function(){return"Error in conv3dDerInput: filter must be rank 5, but got rank "+e.rank})),E(s===e.shape[3],(function(){return"Error in conv3dDerInput: depth of input ("+s+") must match input depth for filter "+e.shape[3]+"."})),E(c===e.shape[4],(function(){return"Error in conv3dDerInput: depth of output ("+c+") must match output depth for filter "+e.shape[4]+"."}));var l={dy:i},f={pad:o},p=Tt.runKernelFunc((function(t){var n=Qe(a,e.shape,r,1,o);return t.conv3dDerInput(i,e,n)}),l,null,"Conv3DBackpropInputV2",f);return u?On(p,[p.shape[1],p.shape[2],p.shape[3],p.shape[4]]):p}});var Pr=qt({conv3dTranspose_:function(t,n,e,r,o){var a=Lt(t,"x","conv3dTranspose"),i=Lt(n,"filter","conv3dTranspose");return Cr(e,a,i,r,o)}});var Lr=qt({cos_:function(t){var n=Lt(t,"x","cos"),e={x:n};return Tt.runKernelFunc((function(t,e){var r=t.cos(n);return e([n]),r}),e,null,"Cos")}});var zr=qt({cosh_:function(t){var n=Lt(t,"x","cosh"),e={x:n};return Tt.runKernelFunc((function(t,e){var r=t.cosh(n);return e([n]),r}),e,null,"Cosh")}});var qr=qt({cumsum_:function(t,n,e,r){void 0===n&&(n=0),void 0===e&&(e=!1),void 0===r&&(r=!1);var o=Lt(t,"x","cumsum"),a={x:o},i={axis:n,exclusive:e,reverse:r};return Tt.runKernelFunc((function(t,a){var i=ze([n],o.rank),u=o;null!=i&&(u=Un(o,i));var s=Oe(1,o.rank)[0],c=t.cumsum(u,s,e,r);if(a([o]),null!=i){var l=qe(i);c=Un(c,l)}return c}),a,null,"Cumsum",i)}});var Or=qt({depthToSpace_:function(t,n,e){void 0===e&&(e="NHWC");var r=Lt(t,"x","depthToSpace"),o="NHWC"===e?r.shape[1]:r.shape[2],a="NHWC"===e?r.shape[2]:r.shape[3],i="NHWC"===e?r.shape[3]:r.shape[1];E(o*n>=0,(function(){return"Negative dimension size caused by overflow when multiplying\n    "+o+" and "+n+"  for depthToSpace with input shape\n    "+r.shape})),E(a*n>=0,(function(){return"Negative dimension size caused by overflow when multiplying\n    "+a+" and "+n+" for depthToSpace with input shape\n        "+r.shape})),E(i%(n*n)==0,(function(){return"Dimension size must be evenly divisible by "+n*n+" but is "+i+" for depthToSpace with input shape "+r.shape}));var u={x:r},s={blockSize:n,dataFormat:e};return Tt.runKernelFunc((function(t){return t.depthToSpace(r,n,e)}),u,null,"DepthToSpace",s)}});var Wr=qt({depthwiseConv2d_:function(t,n,e,r,o,a,i){void 0===o&&(o="NHWC"),void 0===a&&(a=[1,1]);var u=Lt(t,"x","depthwiseConv2d"),s=Lt(n,"filter","depthwiseConv2d"),c=u,l=!1;3===u.rank&&(l=!0,c=On(u,[1,u.shape[0],u.shape[1],u.shape[2]])),E(4===c.rank,(function(){return"Error in depthwiseConv2d: input must be rank 4, but got rank "+c.rank+"."})),E(4===s.rank,(function(){return"Error in depthwiseConv2d: filter must be rank 4, but got rank "+s.rank+"."})),E(c.shape[3]===s.shape[2],(function(){return"Error in depthwiseConv2d: number of input channels ("+c.shape[3]+") must match the inChannels dimension in filter "+s.shape[2]+"."})),null!=i&&E(T(r),(function(){return"Error in depthwiseConv2d: pad must be an integer when using, dimRoundingMode "+i+" but got pad "+r+"."}));var f={x:c,filter:s},p={strides:e,pad:r,dataFormat:o,dilations:a,dimRoundingMode:i},h=Tt.runKernelFunc((function(t,n){null==a&&(a=[1,1]),E(ir(e,a),(function(){return"Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides "+e+" and dilations '"+a+"'"}));var o=$e(c.shape,s.shape,e,a,r,i,!0),u=t.depthwiseConv2D(c,s,o);return n([c,s]),u}),f,null,"DepthwiseConv2dNative",p);return l?On(h,[h.shape[1],h.shape[2],h.shape[3]]):h}});var Kr=qt({diag_:function(t){var n=Lt(t,"x","diag"),e={x:n};return Tt.runKernelFunc((function(e){var r=On(n,[n.size]),o=e.diag(r),a=t.shape.concat(t.shape);return On(o,a)}),e,null,"Diag")}});var Ur=qt({dilation2d_:function(t,n,e,r,o,a){void 0===o&&(o=[1,1]),void 0===a&&(a="NHWC");var i=Lt(t,"x","dilation2d"),u=Lt(n,"filter","dilation2d");E(3===i.rank||4===i.rank,(function(){return"Error in dilation2d: input must be rank 3 or 4, but got rank "+i.rank+"."})),E(3===u.rank,(function(){return"Error in dilation2d: filter must be rank 3, but got rank "+u.rank+"."})),E("NHWC"===a,(function(){return"Error in dilation2d: Only NHWC is currently supported, but got dataFormat of "+a}));var s=i,c=!1;3===i.rank&&(s=On(i,[1,i.shape[0],i.shape[1],i.shape[2]]),c=!0);var l={x:s,filter:u},f={strides:e,pad:r,dilations:o},p=Tt.runKernel("Dilation2D",l,f);return c?On(p,[p.shape[1],p.shape[2],p.shape[3]]):p}});function Gr(t,n){for(var e=[],r=0;r<n.length;r++){var o=t[t.length-r-1],a=n.length-r-1,i=n[a];(null==o||1===o&&i>1)&&e.unshift(a)}return e}function Vr(t,n){for(var e=[],r=Math.max(t.length,n.length),o=0;o<r;o++){var a=t[t.length-o-1];null==a&&(a=1);var i=n[n.length-o-1];if(null==i&&(i=1),1===a)e.unshift(i);else if(1===i)e.unshift(a);else{if(a!==i)throw Error("Operands could not be broadcast together with shapes "+t+" and "+n+".");e.unshift(a)}}return e}var Hr=qt({equal_:function(t,n){var e,r=Lt(t,"a","equal"),o=Lt(n,"b","equal");e=St(r,o),r=e[0],o=e[1],Vr(r.shape,o.shape);var a={a:r,b:o};return Tt.runKernelFunc((function(t){return t.equal(r,o)}),a,null,"Equal")}});var jr=qt({where_:function(t,n,e){var r=Lt(n,"a","where"),o=Lt(e,"b","where"),a=Lt(t,"condition","where","bool"),i=Vr(r.shape,o.shape),u=Sr(r,i),s=Sr(o,i);1===a.rank&&E(a.shape[0]===r.shape[0],(function(){return"The first dimension of `a` must match the size of `condition`."})),1!==a.rank&&D(a.shape,s.shape,"Error in where: ");var c={condition:a,t:u,e:s};return Tt.runKernelFunc((function(t,n){var e=t.select(a,u,s);return n([a]),e}),c,null,"SelectV2")}});var Jr=qt({zerosLike_:function(t){var n=Lt(t,"x","zerosLike"),e={x:n};return Tt.runKernelFunc((function(t){return t.zerosLike(n)}),e,null,"ZerosLike")}});var Yr=qt({divNoNan_:function(t,n){var e,r=Lt(t,"a","div"),o=Lt(n,"b","div");r=(e=St(r,o))[0],o=e[1];var a=Fe(r,o),i=Jr(a),u=Hr(o,i);return jr(u,i,a)}});var Zr=qt({dot_:function(t,n){var e=Lt(t,"t1","dot"),r=Lt(n,"t2","dot");E(!(1!==e.rank&&2!==e.rank||1!==r.rank&&2!==r.rank),(function(){return"Error in dot: inputs must all be rank 1 or 2, but got ranks "+e.rank+" and "+r.rank+"."}));var o=1===e.rank?e.size:e.shape[1],a=1===r.rank?r.size:r.shape[0];if(E(o===a,(function(){return"Error in dot: inner dimensions of inputs must match, but got "+o+" and "+a+"."})),1===e.rank&&1===r.rank){var i=On(e,[1,-1]),u=On(r,[-1,1]),s=Wn(i,u);return On(s,[])}if(1===e.rank&&2===r.rank){i=On(e,[1,-1]),u=On(r,[r.shape[0],r.shape[1]]),s=Wn(i,u);return On(s,[s.size])}if(2===e.rank&&1===r.rank){u=On(r,[-1,1]),s=Wn(e,u);return On(s,[s.size])}return u=On(r,[r.shape[0],r.shape[1]]),s=Wn(e,u)}});var Xr=qt({elu_:function(t){var n=Lt(t,"x","elu"),e={x:n};return Tt.runKernelFunc((function(t,e){var r=t.elu(n);return e([r]),r}),e,null,"Elu")}});var $r=qt({erf_:function(t){var n=Lt(t,"x","erf");E("int32"===n.dtype||"float32"===n.dtype,(function(){return"Input dtype must be `int32` or `float32`."})),"int32"===n.dtype&&(n=En(n,"float32"));var e={x:n};return Tt.runKernelFunc((function(t,e){var r=t.erf(n);return e([n]),r}),e,null,"Erf")}});var Qr=qt({exp_:function(t){var n=Lt(t,"x","exp"),e={x:n};return Tt.runKernelFunc((function(t,e){var r=t.exp(n);return e([r]),r}),e,null,"Exp")}});var to=qt({expandDims_:function(t,n){void 0===n&&(n=0);var e=Lt(t,"x","expandDims",null);E(n<=e.rank,(function(){return"Axis must be <= rank of the tensor"}));var r=e.shape.slice();return n<0&&(E(-(e.rank+1)<=n,(function(){return"Axis must be in the interval ["+-(e.rank+1)+", "+e.rank+"]"})),n=e.rank+n+1),r.splice(n,0,1),On(e,r)}});var no=qt({expm1_:function(t){var n=Lt(t,"x","expm1"),e={x:n};return Tt.runKernelFunc((function(t,e){var r=t.expm1(n);return e([n]),r}),e,null,"Expm1")}});var eo=qt({tile_:function(t,n){var e=Lt(t,"x","tile",null);E(e.rank===n.length,(function(){return"Error in transpose: rank of input "+e.rank+" must match length of reps "+n+"."}));var r=[e],o={x:e},a={reps:n};return Tt.runKernelFunc((function(t,r){var o=t.tile(e,n);return r([e]),o}),o,null,"Tile",a,r)}});var ro=qt({eye_:function(t,n,e,r){void 0===r&&(r="float32"),null==n&&(n=t);for(var o=Sn([t,n],r),a=t<=n?t:n,i=0;i<a;++i)o.set(1,i,i);var u=On(o.toTensor(),[t,n]);if(null==e)return u;if(1===e.length)return eo(to(u,0),[e[0],1,1]);if(2===e.length)return eo(to(to(u,0),0),[e[0],e[1],1,1]);if(3===e.length)return eo(to(to(to(u,0),0),0),[e[0],e[1],e[2],1,1]);throw new Error("eye() currently supports only 1D and 2D batchShapes, but received "+e.length+"D.")}});function oo(t,n,e){var r={shape:t,value:n,dtype:e};return Tt.runKernelFunc((function(r){return r.fill(t,n,e)}),{},null,"Fill",r)}var ao=qt({floor_:function(t){var n=Lt(t,"x","floor"),e={x:n};return Tt.runKernelFunc((function(t){return t.floor(n)}),e,null,"Floor")}});function io(t,n,e){for(var r=t.shape[e],o=[],a=1,i=1,u=0;u<e;u++)o.push(t.shape[u]),a*=t.shape[u];for(u=0;u<n.rank;u++)o.push(n.shape[u]);for(u=e+1;u<t.rank;u++)o.push(t.shape[u]),i*=t.shape[u];return{batchSize:a,sliceSize:i,dimSize:r,outputShape:o}}var uo={__proto__:null,segOpComputeOptimalWindowSize:function(t,n){var e,r=!1;for(t<=30?(e=t,r=!0):e=J(t,Math.floor(Math.sqrt(t)));!r;)e>n||e===t?r=!0:e=J(t,e+1);return e},computeOutShape:function(t,n,e){for(var r=[],o=t.length,a=0;a<o;a++)a!==n?r.push(t[a]):r.push(e);return r},collectGatherOpShapeInfo:io};var so=qt({gather_:function(t,n,e){void 0===e&&(e=0);var r=Lt(t,"x","gather"),o=Lt(n,"indices","gather","int32"),a={x:r,indices:o},i={axis:e};return Tt.runKernelFunc((function(t,n){var a=B(e,r.shape)[0],i=io(r,o,a),u=t.gather(r,On(o,[o.size]),a);return n([r,o]),On(u,i.outputShape)}),a,null,"GatherV2",i)}});var co=qt({greater_:function(t,n){var e,r=Lt(t,"a","greater"),o=Lt(n,"b","greater");e=St(r,o),r=e[0],o=e[1],Vr(r.shape,o.shape);var a={a:r,b:o};return Tt.runKernelFunc((function(t){return t.greater(r,o)}),a,null,"Greater")}});var lo=qt({greaterEqual_:function(t,n){var e,r=Lt(t,"a","greaterEqual"),o=Lt(n,"b","greaterEqual");e=St(r,o),r=e[0],o=e[1],Vr(r.shape,o.shape);var a={a:r,b:o};return Tt.runKernelFunc((function(t,n){var e=t.greaterEqual(r,o);return n([r,o]),e}),a,null,"GreaterEqual")}});var fo=qt({imag_:function(t){var n=Lt(t,"input","imag"),e={input:n};return Tt.runKernelFunc((function(t){return t.imag(n)}),e,null,"Imag")}});var po=qt({isFinite_:function(t){var n=Lt(t,"x","isFinite"),e={x:n};return Tt.runKernelFunc((function(t){return t.isFinite(n)}),e,null,"IsFinite")}});var ho=qt({isInf_:function(t){var n=Lt(t,"x","isInf"),e={x:n};return Tt.runKernelFunc((function(t){return t.isInf(n)}),e,null,"IsInf")}});var vo=qt({isNaN_:function(t){var n=Lt(t,"x","isNaN"),e={x:n};return Tt.runKernelFunc((function(t){return t.isNaN(n)}),e,null,"IsNan")}});var mo=qt({maximum_:function(t,n){var e,r=Lt(t,"a","maximum"),o=Lt(n,"b","maximum");e=St(r,o),r=e[0],o=e[1],"bool"===r.dtype&&(r=En(r,"int32"),o=En(o,"int32")),Vr(r.shape,o.shape);var a={a:r,b:o};return Tt.runKernelFunc((function(t,n){var e=t.maximum(r,o);return n([r,o]),e}),a,null,"Maximum")}});function go(t,n){if((O(t)&&"string"!==n||Array.isArray(t))&&"complex64"!==n)throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if("string"===n&&O(t)&&!(t instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return Wt(t,[],[],n)}var yo=qt({leakyRelu_:function(t,n){void 0===n&&(n=.2);var e=Lt(t,"x","leakyRelu");return mo(Ae(go(n),e),e)}});var bo=qt({less_:function(t,n){var e,r=Lt(t,"a","less"),o=Lt(n,"b","less");e=St(r,o),r=e[0],o=e[1],Vr(r.shape,o.shape);var a={a:r,b:o};return Tt.runKernelFunc((function(t){return t.less(r,o)}),a,null,"Less")}});var wo=qt({lessEqual_:function(t,n){var e,r=Lt(t,"a","lessEqual"),o=Lt(n,"b","lessEqual");e=St(r,o),r=e[0],o=e[1],Vr(r.shape,o.shape);var a={a:r,b:o};return Tt.runKernelFunc((function(t,n){var e=t.lessEqual(r,o);return n([r,o]),e}),a,null,"LessEqual")}});var ko=qt({localResponseNormalization_:function(t,n,e,r,o){void 0===n&&(n=5),void 0===e&&(e=1),void 0===r&&(r=1),void 0===o&&(o=.5);var a=Lt(t,"x","localResponseNormalization");E(4===a.rank||3===a.rank,(function(){return"Error in localResponseNormalization: x must be rank 3 or 4 but got\n               rank "+a.rank+"."})),E(T(n),(function(){return"Error in localResponseNormalization: depthRadius must be an integer but got depthRadius "+n+"."}));var i=a,u=!1;3===a.rank&&(u=!0,i=On(a,[1,a.shape[0],a.shape[1],a.shape[2]]));var s={x:i},c={depthRadius:n,bias:e,alpha:r,beta:o},l=Tt.runKernelFunc((function(t,a){var u=t.localResponseNormalization4D(i,n,e,r,o);return a([i,u]),u}),s,null,"LRN",c);return u?On(l,[l.shape[1],l.shape[2],l.shape[3]]):l}});var xo=qt({log_:function(t){var n=Lt(t,"x","log"),e={x:n};return Tt.runKernelFunc((function(t,e){var r=t.log(n);return e([n]),r}),e,null,"Log")}});var So=qt({log1p_:function(t){var n=Lt(t,"x","log1p"),e={x:n};return Tt.runKernelFunc((function(t,e){var r=t.log1p(n);return e([n]),r}),e,null,"Log1p")}});function Eo(t,n){E(j(t),(function(){return"The f passed in variableGrads(f) must be a function"})),E(null==n||Array.isArray(n)&&n.every((function(t){return t instanceof wt})),(function(){return"The varList passed in variableGrads(f, varList) must be an array of variables"}));var e=null!=n;if(!e)for(var r in n=[],Tt.registeredVariables)n.push(Tt.registeredVariables[r]);var o=e?n.filter((function(t){return!t.trainable})):null,a=n.length;E((n=n.filter((function(t){return t.trainable}))).length>0,(function(){return"variableGrads() expects at least one of the input variables to be trainable, but none of the "+a+" variables is trainable."}));var i=Tt.gradients(t,n,null,!0),u=i.value,s=i.grads;E(s.some((function(t){return null!=t})),(function(){return"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize()."})),E(0===u.rank,(function(){return"The f passed in variableGrads(f) must return a scalar, but it returned a rank-"+u.rank+" tensor"}));var c={};return n.forEach((function(t,n){null!=s[n]&&(c[t.name]=s[n])})),null!=o&&o.forEach((function(t){return c[t.name]=null})),{value:u,grads:c}}function Do(t){return Tt.customGrad(t)}function No(t){if(t.filter((function(t){return null==t})).length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that\n    the f you passed encloses all operations that lead from x to y.")}var Io=qt({neg_:function(t){var n=Lt(t,"x","neg"),e={x:n};return Tt.runKernelFunc((function(t){return t.neg(n)}),e,null,"Negate")}});var Fo=qt({softplus_:function(t){var n=Lt(t,"x","softplus"),e={x:n};return Tt.runKernelFunc((function(t,e){var r=t.softplus(n);return e([n]),r}),e,null,"Softplus")}});var Ao=qt({logSigmoid_:function(t){var n=Lt(t,"x","logSigmoid");return Do((function(t){return{value:Io(Fo(Io(t))),gradFunc:function(n){return Ae(n,hr(Io(t)))}}}))(n)}});var To=qt({max_:function(t,n,e){void 0===n&&(n=null),void 0===e&&(e=!1);var r=Lt(t,"x","max"),o={x:r},a={reductionIndices:n,keepDims:e};return Tt.runKernelFunc((function(t,o){var a=B(n,r.shape),i=ze(a,r.rank),u=r;null!=i&&(u=Un(r,i),a=Oe(a.length,u.rank));var s=t.max(u,a);null!=i&&u.dispose();var c=s;if(e){var l=Le(c.shape,B(n,r.shape));c=On(c,l),s.dispose()}return o([r,c]),c}),o,null,"Max",a)}});var Mo=qt({sub_:function(t,n){var e,r=Lt(t,"a","sub"),o=Lt(n,"b","sub");e=St(r,o),r=e[0],o=e[1];var a={a:r,b:o};return Tt.runKernelFunc((function(t,n){var e=t.subtract(r,o);return n([r,o]),e}),a,null,"Sub")}});var _o=qt({sum_:function(t,n,e){void 0===n&&(n=null),void 0===e&&(e=!1);var r=Lt(t,"x","sum");"bool"===r.dtype&&(r=En(r,"int32"));var o={x:r},a={axis:n,keepDims:e};return Tt.runKernelFunc((function(t,o){o([r]);var a=B(n,r.shape),i=ze(a,r.rank),u=a,s=r;null!=i&&(s=Un(r,i),u=Oe(u.length,r.rank));var c=t.sum(s,u);if(e){var l=Le(c.shape,a);c=On(c,l)}return c}),o,null,"Sum",a)}});var Bo=qt({logSoftmax_:function(t,n){void 0===n&&(n=-1);var e=Lt(t,"logits","logSoftmax");if(-1===n&&(n=e.rank-1),n!==e.rank-1)throw Error("Log Softmax along a non-last dimension is not yet supported. Logits was rank "+e.rank+" and axis was "+n);var r={logits:e},o={axis:n};return Tt.runKernelFunc((function(e,r){var o=To(t,n,!0),a=Mo(t,o),i=Mo(En(a,"float32"),xo(_o(Qr(a),n,!0)));return r([i]),i}),r,null,"LogSoftmax",o)}});var Ro=qt({logSumExp_:function(t,n,e){void 0===n&&(n=null),void 0===e&&(e=!1);var r=Lt(t,"x","logSumExp"),o=B(n,r.shape),a=To(r,o,!0),i=Mo(r,a),u=Qr(i),s=_o(u,o),c=xo(s),l=Ne(On(a,c.shape),c);if(e){var f=Le(l.shape,o);return On(l,f)}return l}});var Co=qt({logicalAnd_:function(t,n){var e=Lt(t,"a","logicalAnd","bool"),r=Lt(n,"b","logicalAnd","bool");Vr(e.shape,r.shape);var o={a:e,b:r};return Tt.runKernelFunc((function(t){return t.logicalAnd(e,r)}),o,null,"LogicalAnd")}});var Po=qt({logicalNot_:function(t){var n=Lt(t,"x","logicalNot","bool"),e={x:n};return Tt.runKernelFunc((function(t){return t.logicalNot(n)}),e,null,"LogicalNot")}});var Lo=qt({logicalOr_:function(t,n){var e=Lt(t,"a","logicalOr","bool"),r=Lt(n,"b","logicalOr","bool");Vr(e.shape,r.shape);var o={a:e,b:r};return Tt.runKernelFunc((function(t){return t.logicalOr(e,r)}),o,null,"LogicalOr")}});var zo=qt({logicalXor_:function(t,n){var e=Lt(t,"a","logicalXor","bool"),r=Lt(n,"b","logicalXor","bool");return Vr(e.shape,r.shape),Co(Lo(t,n),Po(Co(t,n)))}});var qo=qt({maxPool_:function(t,n,e,r,o){var a=Lt(t,"x","maxPool"),i=a,u=!1;3===a.rank&&(u=!0,i=On(a,[1,a.shape[0],a.shape[1],a.shape[2]])),E(4===i.rank,(function(){return"Error in maxPool: input must be rank 4 but got rank "+i.rank+"."})),E(ir(e,1),(function(){return"Error in maxPool: Either strides or dilations must be 1. Got strides "+e+" and dilations '1'"})),null!=o&&E(T(r),(function(){return"Error in maxPool: pad must be an integer when using, dimRoundingMode "+o+" but got pad "+r+"."}));var s={x:i},c={filterSize:n,strides:e,pad:r,dimRoundingMode:o},l=Tt.runKernelFunc((function(t,a){var u,s=Ze(i.shape,n,e,1,r,o);return u=1===s.filterWidth&&1===s.filterHeight&&A(s.inShape,s.outShape)?i.clone():t.maxPool(i,s),a([i,u]),u}),s,null,"MaxPool",c);return u?On(l,[l.shape[1],l.shape[2],l.shape[3]]):l}});var Oo=qt({maxPool3d_:function(t,n,e,r,o,a,i){void 0===n&&(n=[1,1,1]),void 0===a&&(a="NDHWC"),null==i?i=[1,1,1]:xe("dilations is deprecated, this field will be gone in v3.0.0.");var u=Lt(t,"x","maxPool3d"),s=u,c=!1;4===u.rank&&(c=!0,s=On(u,[1,u.shape[0],u.shape[1],u.shape[2],u.shape[3]])),E(5===s.rank,(function(){return"Error in maxPool3d: x must be rank 5 but got rank "+s.rank+"."})),E("NDHWC"===a,(function(){return"Error in maxPool3d: Only NDHWC is currently supported, but got dataFormat of "+a})),E(ir(e,i),(function(){return"Error in maxPool3d: Either strides or dilations must be 1. Got strides "+e+" and dilations '"+i+"'"})),null!=o&&E(T(r),(function(){return"Error in maxPool3d: pad must be an integer when using, dimRoundingMode "+o+" but got pad "+r+"."}));var l={x:s},f={filterSize:n,strides:e,pad:r,dimRoundingMode:o,dataFormat:a,dilations:i},p=Tt.runKernelFunc((function(t,u){null==i&&(i=[1,1,1]);var c=Xe(s.shape,n,e,i,r,o,a),l=t.maxPool3d(s,c);return u([s,l]),l}),l,null,"MaxPool3D",f);return c?On(p,[p.shape[1],p.shape[2],p.shape[3],p.shape[4]]):p}});var Wo=qt({maxPoolWithArgmax_:function(t,n,e,r,o){void 0===o&&(o=!1);var a={x:Lt(t,"x","maxPoolWithArgmax")},i={filterSize:n,strides:e,pad:r,includeBatchInIndex:o},u=Tt.runKernel("MaxPoolWithArgmax",a,i);return{result:u[0],indexes:u[1]}}});function Ko(t,n){if(void 0===n&&(n="float32"),"complex64"===n){var e=Ko(t,"float32"),r=Ko(t,"float32");return Ot(e,r)}var o=Q(F(t),n);return Tt.makeTensor(o,t,n)}function Uo(t,n){if(void 0===n&&(n="float32"),"complex64"===n){var e=Uo(t,"float32"),r=Ko(t,"float32");return Ot(e,r)}var o=$(F(t),n);return Tt.makeTensor(o,t,n)}var Go=qt({mean_:function(t,n,e){void 0===n&&(n=null),void 0===e&&(e=!1);var r=Lt(t,"x","mean"),o=B(n,r.shape),a=F(Pe(r.shape,o)[1]);return Do((function(t){var r=go(a),i=r.dtype===t.dtype?t:En(t,r.dtype),u=Fe(i,r);return{value:_o(u,n,e),gradFunc:function(n){var e=t.shape.slice();o.forEach((function(t){e[t]=1}));var r=On(n,e);return Fe(Ae(r,Uo(t.shape,"float32")),a)}}}))(r)}});var Vo=qt({min_:function(t,n,e){void 0===n&&(n=null),void 0===e&&(e=!1);var r=Lt(t,"x","min"),o={x:r},a={axis:n,keepDims:e};return Tt.runKernelFunc((function(t,o){var a=B(n,r.shape),i=a,u=ze(i,r.rank),s=r;null!=u&&(s=Un(r,u),i=Oe(i.length,r.rank));var c=t.min(s,i);null!=u&&s.dispose();var l=c;if(e){var f=Le(l.shape,a);l=On(c,f),c.dispose()}return o([r,l]),l}),o,null,"Min",a)}});var Ho=qt({minimum_:function(t,n){var e,r=Lt(t,"a","minimum"),o=Lt(n,"b","minimum");e=St(r,o),r=e[0],o=e[1],"bool"===r.dtype&&(r=En(r,"int32"),o=En(o,"int32")),Vr(r.shape,o.shape);var a={a:r,b:o};return Tt.runKernelFunc((function(t,n){var e=t.minimum(r,o);return n([r,o]),e}),a,null,"Minimum")}});var jo=qt({mod_:function(t,n){var e,r=Lt(t,"a","mod"),o=Lt(n,"b","mod");e=St(r,o),r=e[0],o=e[1];var a={a:r,b:o};return Tt.runKernelFunc((function(t,n){var e=t.mod(r,o);return n([r,o]),e}),a,null,"Mod")}});var Jo=qt({square_:function(t){var n=Lt(t,"x","square"),e=[n];return Tt.runKernelFunc((function(t,e){return e([n]),t.square(n)}),{x:n},null,"Square",{},e,[])}});var Yo=qt({moments_:function(t,n,e){void 0===n&&(n=null),void 0===e&&(e=!1);var r=B(n,(t=Lt(t,"x","moments")).shape),o=Go(t,r,e),a=o.shape;e||(a=Le(o.shape,r));var i=Jo(Mo(En(t,"float32"),On(o,a)));return{mean:o,variance:Go(i,r,e)}}});var Zo=qt({multiRNNCell_:function(t,n,e,r){for(var o=Lt(n,"data","multiRNNCell"),a=zt(e,"c","multiRNNCell"),i=zt(r,"h","multiRNNCell"),u=o,s=[],c=0;c<t.length;c++){var l=t[c](u,a[c],i[c]);s.push(l[0]),s.push(l[1]),u=l[1]}var f=[],p=[];for(c=0;c<s.length;c+=2)f.push(s[c]),p.push(s[c+1]);return[f,p]}});var Xo=qt({multinomial_:function(t,n,e,r){void 0===r&&(r=!1);var o=Lt(t,"logits","multinomial"),a=o.size,i=o.rank;if(a<2)throw new Error("Error in multinomial: you need at least 2 outcomes, but got "+a+".");if(i>2)throw new Error("Rank of probabilities must be 1 or 2, but is "+i);e=e||Math.random();var u=1===i?On(o,[1,-1]):o,s=Tt.runKernelFunc((function(t){return t.multinomial(u,r,n,e)}),{logits2D:u});return 1===i?On(s,[s.size]):s}});var $o=qt({notEqual_:function(t,n){var e,r=Lt(t,"a","notEqual"),o=Lt(n,"b","notEqual");e=St(r,o),r=e[0],o=e[1],Vr(r.shape,o.shape);var a={a:r,b:o};return Tt.runKernelFunc((function(t){return t.notEqual(r,o)}),a,null,"NotEqual")}});var Qo=qt({real_:function(t){var n=Lt(t,"input","real"),e={input:n};return Tt.runKernelFunc((function(t){return t.real(n)}),e,null,"Real")}});var ta=qt({onesLike_:function(t){var n=Lt(t,"x","onesLike"),e={x:n};return Tt.runKernelFunc((function(t,e){if("complex64"===n.dtype){var r=ta(Qo(n)),o=Jr(fo(n));return Ot(r,o)}return t.onesLike(n)}),e,null,"OnesLike")}});var na=qt({outerProduct_:function(t,n){var e=Lt(t,"v1","outerProduct"),r=Lt(n,"v2","outerProduct");E(1===e.rank&&1===r.rank,(function(){return"Error in outerProduct: inputs must be rank 1, but got ranks "+e.rank+" and "+r.rank+"."}));var o=On(e,[-1,1]),a=On(r,[1,-1]);return Wn(o,a)}});var ea=qt({pad_:function(t,n,e){void 0===e&&(e=0);var r=Lt(t,"x","pad");if(0===r.rank)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");var o={paddings:n,constantValue:e},a={x:r};return Tt.runKernelFunc((function(t,o){return o([r]),t.pad(r,n,e)}),a,null,"PadV2",o)}});var ra=qt({pad1d_:function(t,n,e){return void 0===e&&(e=0),E(2===n.length,(function(){return"Invalid number of paddings. Must be length of 2."})),ea(t,[n],e)}});var oa=qt({pad2d_:function(t,n,e){return void 0===e&&(e=0),E(2===n.length&&2===n[0].length&&2===n[1].length,(function(){return"Invalid number of paddings. Must be length of 2 each."})),ea(t,n,e)}});var aa=qt({pad3d_:function(t,n,e){return void 0===e&&(e=0),E(3===n.length&&2===n[0].length&&2===n[1].length&&2===n[2].length,(function(){return"Invalid number of paddings. Must be length of 2 each."})),ea(t,n,e)}});var ia=qt({pad4d_:function(t,n,e){return void 0===e&&(e=0),E(4===n.length&&2===n[0].length&&2===n[1].length&&2===n[2].length&&2===n[3].length,(function(){return"Invalid number of paddings. Must be length of 2 each."})),ea(t,n,e)}});var ua=qt({spaceToBatchND_:function(t,n,e){var r=Lt(t,"x","spaceToBatchND");E(r.rank>=1+n.length,(function(){return"input rank "+r.rank+" should be > than [blockShape] "+n.length})),E(e.length===n.length,(function(){return"paddings.shape[0] "+e.length+" must be equal to [blockShape] "+n.length})),E(r.shape.reduce((function(t,r,o){return o>0&&o<=n.length?t&&(r+e[o-1][0]+e[o-1][1])%n[o-1]==0:t}),!0),(function(){return"input spatial dimensions "+r.shape.slice(1)+" with paddings "+e.toString()+" must be divisible by blockShapes "+n.toString()}));var o={x:r},a={blockShape:n,paddings:e};return Tt.runKernelFunc((function(t){return t.spaceToBatchND(r,n,e)}),o,null,"SpaceToBatchND",a)}});var sa=qt({pool_:function(t,n,e,r,o,a){null==o&&(o=[1,1]),null==a&&(a=1),0===r&&(r="valid");var i=Lt(t,"x","maxPool"),u=i,s=!1;3===i.rank&&(s=!0,u=On(i,[1,i.shape[0],i.shape[1],i.shape[2]])),E(ir(a,o),(function(){return"Error in pool: Either strides or dilations must be 1. Got strides "+a+" and dilations '"+o+"'"}));var c,l=Ze(u.shape,n,a,o,r),f=[l.dilationHeight,l.dilationWidth];c="same"===r?function(t,n){var e=t.map((function(t,e){return t+(t-1)*(n[e]-1)})).map((function(t){return t-1})),r=e.map((function(t){return Math.floor(t/2)})),o=e.map((function(t,n){return t-r[n]}));return e.map((function(t,n){return[r[n],o[n]]}))}([l.filterHeight,l.filterWidth],f):[[0,0],[0,0]];var p=1===f[0]&&1===f[1],h=function(t,n,e){var r=e.map((function(t){return t[0]})),o=e.map((function(t){return t[1]})),a=t.concat(r,o),i=n.map((function(t,n){return(t-a[n]%t)%t})),u=o.map((function(t,n){return t+i[n]})),s=n.map((function(t,n){return[r[n],u[n]]})),c=n.map((function(t,n){return[0,i[n]]}));return[s,c]}([l.inHeight,l.inWidth],f,c),d=h[0],v=h[1],m=p?r:"valid",g=p?u:ua(u,f,d),y=("avg"===e?function(){return sr(g,n,a,m)}:function(){return qo(g,n,a,m)})(),b=p?y:gr(y,f,v);return s?On(b,[b.shape[1],b.shape[2],b.shape[3]]):b}});var ca=qt({pow_:function(t,n){var e,r=Lt(t,"base","pow"),o=Lt(n,"exp","pow");e=St(r,o),r=e[0],o=e[1];var a={a:r,b:o};return Tt.runKernelFunc((function(t,n){var e=t.pow(r,o);return n([r,o,e]),e}),a,null,"Pow")}});var la=qt({prelu_:function(t,n){var e=Lt(t,"x","prelu"),r=Lt(n,"alpha","prelu"),o={x:e,alpha:r};return Tt.runKernelFunc((function(t,n){var o=t.prelu(e,r);return n([e,r]),o}),o,null,"Prelu")}});var fa=qt({prod_:function(t,n,e){void 0===n&&(n=null),void 0===e&&(e=!1);var r=Lt(t,"x","prod"),o={x:r},a={axis:n,keepDims:e};return Tt.runKernelFunc((function(t){"bool"===r.dtype&&(r=En(r,"int32"));var o=B(n,r.shape),a=ze(o,r.rank),i=o,u=r;null!=a&&(u=Un(r,a),i=Oe(i.length,r.rank));var s=t.prod(u,i);if(e){var c=Le(s.shape,o);s=On(s,c)}return s}),o,null,"Prod",a)}});var pa=qt({rand_:function(t,n,e){var r=F(t),o=null;if(null==e||"float32"===e)o=new Float32Array(r);else if("int32"===e)o=new Int32Array(r);else{if("bool"!==e)throw new Error("Unknown data type "+e);o=new Uint8Array(r)}for(var a=0;a<r;a++)o[a]=n();return Tt.makeTensor(o,t,e)}});"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;function ha(t,n){return t(n={exports:{}},n.exports),n.exports}var da=ha((function(t){!function(t,n,e){function r(t){var n,e=this,r=(n=4022871197,function(t){t=t.toString();for(var e=0;e<t.length;e++){var r=.02519603282416938*(n+=t.charCodeAt(e));r-=n=r>>>0,n=(r*=n)>>>0,n+=4294967296*(r-=n)}return 2.3283064365386963e-10*(n>>>0)});e.next=function(){var t=2091639*e.s0+2.3283064365386963e-10*e.c;return e.s0=e.s1,e.s1=e.s2,e.s2=t-(e.c=0|t)},e.c=1,e.s0=r(" "),e.s1=r(" "),e.s2=r(" "),e.s0-=r(t),e.s0<0&&(e.s0+=1),e.s1-=r(t),e.s1<0&&(e.s1+=1),e.s2-=r(t),e.s2<0&&(e.s2+=1),r=null}function o(t,n){return n.c=t.c,n.s0=t.s0,n.s1=t.s1,n.s2=t.s2,n}function a(t,n){var e=new r(t),a=n&&n.state,i=e.next;return i.int32=function(){return 4294967296*e.next()|0},i.double=function(){return i()+11102230246251565e-32*(2097152*i()|0)},i.quick=i,a&&("object"==typeof a&&o(a,e),i.state=function(){return o(e,{})}),i}n&&n.exports?n.exports=a:e&&e.amd?e((function(){return a})):this.alea=a}(0,t,!1)})),va=ha((function(t){!function(t,n,e){function r(t){var n=this,e="";n.x=0,n.y=0,n.z=0,n.w=0,n.next=function(){var t=n.x^n.x<<11;return n.x=n.y,n.y=n.z,n.z=n.w,n.w^=n.w>>>19^t^t>>>8},t===(0|t)?n.x=t:e+=t;for(var r=0;r<e.length+64;r++)n.x^=0|e.charCodeAt(r),n.next()}function o(t,n){return n.x=t.x,n.y=t.y,n.z=t.z,n.w=t.w,n}function a(t,n){var e=new r(t),a=n&&n.state,i=function(){return(e.next()>>>0)/4294967296};return i.double=function(){do{var t=((e.next()>>>11)+(e.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},i.int32=e.next,i.quick=i,a&&("object"==typeof a&&o(a,e),i.state=function(){return o(e,{})}),i}n&&n.exports?n.exports=a:e&&e.amd?e((function(){return a})):this.xor128=a}(0,t,!1)})),ma=ha((function(t){!function(t,n,e){function r(t){var n=this,e="";n.next=function(){var t=n.x^n.x>>>2;return n.x=n.y,n.y=n.z,n.z=n.w,n.w=n.v,(n.d=n.d+362437|0)+(n.v=n.v^n.v<<4^t^t<<1)|0},n.x=0,n.y=0,n.z=0,n.w=0,n.v=0,t===(0|t)?n.x=t:e+=t;for(var r=0;r<e.length+64;r++)n.x^=0|e.charCodeAt(r),r==e.length&&(n.d=n.x<<10^n.x>>>4),n.next()}function o(t,n){return n.x=t.x,n.y=t.y,n.z=t.z,n.w=t.w,n.v=t.v,n.d=t.d,n}function a(t,n){var e=new r(t),a=n&&n.state,i=function(){return(e.next()>>>0)/4294967296};return i.double=function(){do{var t=((e.next()>>>11)+(e.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},i.int32=e.next,i.quick=i,a&&("object"==typeof a&&o(a,e),i.state=function(){return o(e,{})}),i}n&&n.exports?n.exports=a:e&&e.amd?e((function(){return a})):this.xorwow=a}(0,t,!1)})),ga=ha((function(t){!function(t,n,e){function r(t){var n=this;n.next=function(){var t,e,r=n.x,o=n.i;return t=r[o],e=(t^=t>>>7)^t<<24,e^=(t=r[o+1&7])^t>>>10,e^=(t=r[o+3&7])^t>>>3,e^=(t=r[o+4&7])^t<<7,t=r[o+7&7],e^=(t^=t<<13)^t<<9,r[o]=e,n.i=o+1&7,e},function(t,n){var e,r=[];if(n===(0|n))r[0]=n;else for(n=""+n,e=0;e<n.length;++e)r[7&e]=r[7&e]<<15^n.charCodeAt(e)+r[e+1&7]<<13;for(;r.length<8;)r.push(0);for(e=0;e<8&&0===r[e];++e);for(8==e?r[7]=-1:r[e],t.x=r,t.i=0,e=256;e>0;--e)t.next()}(n,t)}function o(t,n){return n.x=t.x.slice(),n.i=t.i,n}function a(t,n){null==t&&(t=+new Date);var e=new r(t),a=n&&n.state,i=function(){return(e.next()>>>0)/4294967296};return i.double=function(){do{var t=((e.next()>>>11)+(e.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},i.int32=e.next,i.quick=i,a&&(a.x&&o(a,e),i.state=function(){return o(e,{})}),i}n&&n.exports?n.exports=a:e&&e.amd?e((function(){return a})):this.xorshift7=a}(0,t,!1)})),ya=ha((function(t){!function(t,n,e){function r(t){var n=this;n.next=function(){var t,e,r=n.w,o=n.X,a=n.i;return n.w=r=r+1640531527|0,e=o[a+34&127],t=o[a=a+1&127],e^=e<<13,t^=t<<17,e^=e>>>15,t^=t>>>12,e=o[a]=e^t,n.i=a,e+(r^r>>>16)|0},function(t,n){var e,r,o,a,i,u=[],s=128;for(n===(0|n)?(r=n,n=null):(n+="\0",r=0,s=Math.max(s,n.length)),o=0,a=-32;a<s;++a)n&&(r^=n.charCodeAt((a+32)%n.length)),0===a&&(i=r),r^=r<<10,r^=r>>>15,r^=r<<4,r^=r>>>13,a>=0&&(i=i+1640531527|0,o=0==(e=u[127&a]^=r+i)?o+1:0);for(o>=128&&(u[127&(n&&n.length||0)]=-1),o=127,a=512;a>0;--a)r=u[o+34&127],e=u[o=o+1&127],r^=r<<13,e^=e<<17,r^=r>>>15,e^=e>>>12,u[o]=r^e;t.w=i,t.X=u,t.i=o}(n,t)}function o(t,n){return n.i=t.i,n.w=t.w,n.X=t.X.slice(),n}function a(t,n){null==t&&(t=+new Date);var e=new r(t),a=n&&n.state,i=function(){return(e.next()>>>0)/4294967296};return i.double=function(){do{var t=((e.next()>>>11)+(e.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},i.int32=e.next,i.quick=i,a&&(a.X&&o(a,e),i.state=function(){return o(e,{})}),i}n&&n.exports?n.exports=a:e&&e.amd?e((function(){return a})):this.xor4096=a}(0,t,!1)})),ba=ha((function(t){!function(t,n,e){function r(t){var n=this,e="";n.next=function(){var t=n.b,e=n.c,r=n.d,o=n.a;return t=t<<25^t>>>7^e,e=e-r|0,r=r<<24^r>>>8^o,o=o-t|0,n.b=t=t<<20^t>>>12^e,n.c=e=e-r|0,n.d=r<<16^e>>>16^o,n.a=o-t|0},n.a=0,n.b=0,n.c=-1640531527,n.d=1367130551,t===Math.floor(t)?(n.a=t/4294967296|0,n.b=0|t):e+=t;for(var r=0;r<e.length+20;r++)n.b^=0|e.charCodeAt(r),n.next()}function o(t,n){return n.a=t.a,n.b=t.b,n.c=t.c,n.d=t.d,n}function a(t,n){var e=new r(t),a=n&&n.state,i=function(){return(e.next()>>>0)/4294967296};return i.double=function(){do{var t=((e.next()>>>11)+(e.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},i.int32=e.next,i.quick=i,a&&("object"==typeof a&&o(a,e),i.state=function(){return o(e,{})}),i}n&&n.exports?n.exports=a:e&&e.amd?e((function(){return a})):this.tychei=a}(0,t,!1)})),wa=ha((function(t){!function(n,e){var r,o=this,a=e.pow(256,6),i=e.pow(2,52),u=2*i;function s(t,s,h){var d=[],v=f(function t(n,e){var r,o=[],a=typeof n;if(e&&"object"==a)for(r in n)try{o.push(t(n[r],e-1))}catch(t){}return o.length?o:"string"==a?n:n+"\0"}((s=1==s?{entropy:!0}:s||{}).entropy?[t,p(n)]:null==t?function(){try{var t;return r&&(t=r.randomBytes)?t=t(256):(t=new Uint8Array(256),(o.crypto||o.msCrypto).getRandomValues(t)),p(t)}catch(t){var e=o.navigator,a=e&&e.plugins;return[+new Date,o,a,o.screen,p(n)]}}():t,3),d),m=new c(d),g=function(){for(var t=m.g(6),n=a,e=0;t<i;)t=256*(t+e),n*=256,e=m.g(1);for(;t>=u;)t/=2,n/=2,e>>>=1;return(t+e)/n};return g.int32=function(){return 0|m.g(4)},g.quick=function(){return m.g(4)/4294967296},g.double=g,f(p(m.S),n),(s.pass||h||function(t,n,r,o){return o&&(o.S&&l(o,m),t.state=function(){return l(m,{})}),r?(e.random=t,n):t})(g,v,"global"in s?s.global:this==e,s.state)}function c(t){var n,e=t.length,r=this,o=0,a=r.i=r.j=0,i=r.S=[];for(e||(t=[e++]);o<256;)i[o]=o++;for(o=0;o<256;o++)i[o]=i[a=255&a+t[o%e]+(n=i[o])],i[a]=n;(r.g=function(t){for(var n,e=0,o=r.i,a=r.j,i=r.S;t--;)n=i[o=255&o+1],e=256*e+i[255&(i[o]=i[a=255&a+n])+(i[a]=n)];return r.i=o,r.j=a,e})(256)}function l(t,n){return n.i=t.i,n.j=t.j,n.S=t.S.slice(),n}function f(t,n){for(var e,r=t+"",o=0;o<r.length;)n[255&o]=255&(e^=19*n[255&o])+r.charCodeAt(o++);return p(n)}function p(t){return String.fromCharCode.apply(0,t)}if(e.seedrandom=s,f(e.random(),n),t.exports){t.exports=s;try{r=require("crypto")}catch(t){}}}([],Math)}));wa.alea=da,wa.xor128=va,wa.xorwow=ma,wa.xorshift7=ga,wa.xor4096=ya,wa.tychei=ba;var ka=wa.alea,xa=function(){function t(t,n,e,r,o){this.mean=t,this.stdDev=n,this.dtype=e,this.nextVal=NaN,this.truncated=r,this.truncated&&(this.upper=this.mean+2*this.stdDev,this.lower=this.mean-2*this.stdDev);var a=o||Math.random();this.random=ka(a.toString())}return t.prototype.nextValue=function(){if(!isNaN(this.nextVal)){var t=this.nextVal;return this.nextVal=NaN,t}for(var n,e,r=!1;!r;){var o=void 0,a=void 0,i=void 0;do{i=(o=2*this.random()-1)*o+(a=2*this.random()-1)*a}while(i>=1||0===i);var u=Math.sqrt(-2*Math.log(i)/i);n=this.mean+this.stdDev*o*u,e=this.mean+this.stdDev*a*u,this.truncated&&!this.isValidTruncated(n)||(r=!0)}return this.truncated&&!this.isValidTruncated(e)||(this.nextVal=this.convertValue(e)),this.convertValue(n)},t.prototype.convertValue=function(t){return null==this.dtype||"float32"===this.dtype?t:Math.round(t)},t.prototype.isValidTruncated=function(t){return t<=this.upper&&t>=this.lower},t}(),Sa=function(){function t(t,n,e,r){this.alpha=t,this.beta=1/n,this.dtype=e;var o=r||Math.random();this.randu=ka(o.toString()),this.randn=new xa(0,1,e,!1,this.randu()),this.d=t<1?t+2/3:t-1/3,this.c=1/Math.sqrt(9*this.d)}return t.prototype.nextValue=function(){for(var t,n,e,r,o,a;;){do{r=this.randn.nextValue(),a=1+this.c*r}while(a<=0);if(a*=a*a,n=1-.331*(t=r*r)*t,e=.5*t+this.d*(1-a+Math.log(a)),(o=this.randu())<n||Math.log(o)<e)break}return a=1/this.beta*this.d*a,this.alpha<1&&(a*=Math.pow(this.randu(),1/this.alpha)),this.convertValue(a)},t.prototype.convertValue=function(t){return"float32"===this.dtype?t:Math.round(t)},t}(),Ea=function(){function t(t,n,e,r){var o=this;if(void 0===t&&(t=0),void 0===n&&(n=1),this.canReturnFloat=function(){return null==o.dtype||"float32"===o.dtype},this.min=t,this.range=n-t,this.dtype=e,null==r&&(r=Math.random()),"number"==typeof r&&(r=r.toString()),!this.canReturnFloat()&&this.range<=1)throw new Error("The difference between "+t+" - "+n+" <= 1 and dtype is not float");this.random=ka(r)}return t.prototype.convertValue=function(t){return this.canReturnFloat()?t:Math.round(t)},t.prototype.nextValue=function(){return this.convertValue(this.min+this.range*this.random())},t}();var Da=qt({randomGamma_:function(t,n,e,r,o){if(void 0===e&&(e=1),void 0===r&&(r="float32"),null==e&&(e=1),null==r&&(r="float32"),"float32"!==r&&"int32"!==r)throw new Error("Unsupported data type "+r);for(var a=new Sa(n,e,r,o),i=Sn(t,r),u=0;u<i.values.length;u++)i.values[u]=a.nextValue();return i.toTensor()}});var Na=qt({randomNormal_:function(t,n,e,r,o){if(void 0===n&&(n=0),void 0===e&&(e=1),null!=r&&"bool"===r)throw new Error("Unsupported data type "+r);for(var a=new xa(n,e,r,!1,o),i=Sn(t,r),u=0;u<i.values.length;u++)i.values[u]=a.nextValue();return i.toTensor()}});var Ia=qt({randomUniform_:function(t,n,e,r,o){void 0===n&&(n=0),void 0===e&&(e=1),void 0===r&&(r="float32");for(var a=Sn(t,r),i=new Ea(n,e,null,o),u=0;u<a.values.length;u++)a.values[u]=i.nextValue();return a.toTensor()}});function Fa(t,n){N(t);var e=Ct(t,n);if(1!==e.length)throw new Error("tensor1d() requires values to be a flat/TypedArray");return Wt(t,null,e,n)}function Aa(t,n,e,r){if(void 0===e&&(e=1),void 0===r&&(r="float32"),0===e)throw new Error("Cannot have a step of zero");var o={start:t,stop:n,step:e,dtype:r};return Tt.runKernelFunc((function(){if(t===n||t<n&&e<0||n<t&&e>1)return Ko([0],r);var o=Q(Math.abs(Math.ceil((n-t)/e)),r);n<t&&1===e&&(e=-1),o[0]=t;for(var a=1;a<o.length;a++)o[a]=o[a-1]+e;return Fa(o,r)}),{},null,"Range",o)}var Ta=qt({reciprocal_:function(t){var n=Lt(t,"x","reciprocal"),e={x:n};return Tt.runKernelFunc((function(t,e){var r=t.reciprocal(n);return e([n]),r}),e,null,"Reciprocal")}});var Ma=qt({relu_:function(t){var n=Lt(t,"x","relu"),e={x:n};return Tt.runKernelFunc((function(t,e){return e([n]),"bool"===n.dtype?En(n,"int32"):t.relu(n)}),e,null,"Relu")}});var _a=qt({relu6_:function(t){var n=Lt(t,"x","relu6"),e={x:n};return Tt.runKernelFunc((function(t,e){return e([n]),"bool"===n.dtype?En(n,"int32"):t.relu6(n)}),e,null,"Relu6")}});var Ba=qt({reverse_:function(t,n){var e=Lt(t,"x","reverse"),r={x:e},o={dims:n};return Tt.runKernelFunc((function(t){var r=B(n,e.shape);if(0===e.rank)return Dn(e);var o=t.reverse(e,r);return On(o,e.shape)}),r,null,"Reverse",o)}});var Ra=qt({reverse1d_:function(t){var n=Lt(t,"x","reverse");return E(1===n.rank,(function(){return"Error in reverse1D: x must be rank 1 but got rank "+n.rank+"."})),Ba(n,0)}});var Ca=qt({reverse2d_:function(t,n){var e=Lt(t,"x","reverse");return E(2===e.rank,(function(){return"Error in reverse2D: x must be rank 2 but got rank "+e.rank+"."})),Ba(e,n)}});var Pa=qt({reverse3d_:function(t,n){var e=Lt(t,"x","reverse");return E(3===e.rank,(function(){return"Error in reverse3D: x must be rank 3 but got rank "+e.rank+"."})),Ba(e,n)}});var La=qt({reverse4d_:function(t,n){var e=Lt(t,"x","reverse");return E(4===e.rank,(function(){return"Error in reverse4D: x must be rank 4 but got rank "+e.rank+"."})),Ba(e,n)}});var za=qt({round_:function(t){var n=Lt(t,"x","round"),e={x:n};return Tt.runKernelFunc((function(t){return t.round(n)}),e,null,"Round")}});var qa=qt({rsqrt_:function(t){var n=Lt(t,"x","rsqrt"),e={x:n};return Tt.runKernelFunc((function(t,e){var r=t.rsqrt(n);return e([n]),r}),e,null,"Rsqrt")}});var Oa=qt({selu_:function(t){var n=Lt(t,"x","selu"),e={x:n};return Tt.runKernelFunc((function(t,e){var r=t.selu(n);return e([n]),r}),e,null,"Selu")}});var Wa=qt({separableConv2d_:function(t,n,e,r,o,a,i){void 0===a&&(a=[1,1]),void 0===i&&(i="NHWC");var u=Lt(t,"x","separableConv2d"),s=Lt(n,"depthwiseFilter","separableConv2d"),c=Lt(e,"pointwiseFilter","separableConv2d"),l=u,f=!1;if(3===u.rank&&(f=!0,l=On(u,[1,u.shape[0],u.shape[1],u.shape[2]])),"NCHW"===i)throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");E(4===l.rank,(function(){return"Error in separableConv2d: input must be rank 4, but got rank "+l.rank+"."})),E(4===s.rank,(function(){return"Error in separableConv2d: depthwise filter must be rank 4, but got rank "+s.rank+"."})),E(4===c.rank,(function(){return"Error in separableConv2d: pointwise filter must be rank 4, but got rank "+s.rank+"."})),E(1===c.shape[0],(function(){return"Error in separableConv2d: the first dimension of pointwise filter  must be 1, but got "+c.shape[0]+"."})),E(1===c.shape[1],(function(){return"Error in separableConv2d: the second dimension of pointwise filter must be 1, but got "+c.shape[1]+"."}));var p=s.shape[2],h=s.shape[3];E(c.shape[2]===p*h,(function(){return"Error in separableConv2d: the third dimension of pointwise filter must be "+p*h+", but got "+c.shape[2]+"."}));var d=Wr(l,s,r,o,i,a),v=Tr(d,c,1,"valid",i);return f?On(v,[v.shape[1],v.shape[2],v.shape[3]]):v}});var Ka=function(t,n){return r(this,void 0,void 0,(function(){var e,r,a,i,u,s,c,l,f,p;return o(this,(function(o){switch(o.label){case 0:return e=Lt(t,"x","setdiff1d"),r=Lt(n,"y","setdiff1d"),E(e.dtype===r.dtype,(function(){return"x and y should have the same dtype, but got x ("+e.dtype+") and y ("+r.dtype+")."})),E(1===e.rank,(function(){return"x should be 1D tensor, but got x ("+e.shape+")."})),E(1===r.rank,(function(){return"y should be 1D tensor, but got y ("+r.shape+")."})),[4,e.data()];case 1:return a=o.sent(),[4,r.data()];case 2:for(i=o.sent(),u=new Set(i),s=0,f=0;f<a.length;f++)u.has(a[f])||s++;for(c=new ft([s],e.dtype),l=new ft([s],"int32"),f=0,p=0;f<a.length;f++)u.has(a[f])||(c.values[p]=a[f],l.values[p]=f,p++);return[2,[c.toTensor(),l.toTensor()]]}}))}))};var Ua=qt({sign_:function(t){var n=Lt(t,"x","sign"),e={x:n};return Tt.runKernelFunc((function(t){return t.sign(n)}),e,null,"Sign")}});var Ga=qt({sin_:function(t){var n=Lt(t,"x","sin"),e={x:n};return Tt.runKernelFunc((function(t,e){var r=t.sin(n);return e([n]),r}),e,null,"Sin")}});var Va=qt({sinh_:function(t){var n=Lt(t,"x","sinh"),e={x:n};return Tt.runKernelFunc((function(t,e){var r=t.sinh(n);return e([n]),r}),e,null,"Sinh")}});var Ha=qt({slice1d_:function(t,n,e){var r=Lt(t,"x","slice1d");return E(1===r.rank,(function(){return"slice1d expects a rank-1 tensor, but got a rank-"+r.rank+" tensor"})),dr(r,[n],[e])}});var ja=qt({slice2d_:function(t,n,e){var r=Lt(t,"x","slice2d");return E(2===r.rank,(function(){return"slice2d expects a rank-2 tensor, but got a rank-"+r.rank+" tensor"})),dr(r,n,e)}});var Ja=qt({slice3d_:function(t,n,e){var r=Lt(t,"x","slice3d");return E(3===r.rank,(function(){return"slice3d expects a rank-3 tensor, but got a rank-"+r.rank+" tensor"})),dr(r,n,e)}});var Ya=qt({slice4d_:function(t,n,e){var r=Lt(t,"x","slice4d");return E(4===r.rank,(function(){return"slice4d expects a rank-4 tensor, but got a rank-"+r.rank+" tensor"})),dr(r,n,e)}});var Za=qt({softmax_:function(t,n){void 0===n&&(n=-1);var e=Lt(t,"logits","softmax","float32");if(-1===n&&(n=e.rank-1),n!==e.rank-1)throw Error("Softmax along a non-last dimension is not yet supported. Logits was rank "+e.rank+" and dim was "+n);var r={logits:e},o={dim:n};return Tt.runKernelFunc((function(t,r){var o=t.softmax(e,n);return r([o]),o}),r,null,"Softmax",o)}});var Xa=qt({fft_:function(t){E("complex64"===t.dtype,(function(){return"The dtype for tf.spectral.fft() must be complex64 but got "+t.dtype+"."}));var n={input:t};return Tt.runKernelFunc((function(n){var e=t.shape[t.shape.length-1],r=t.size/e,o=t.as2D(r,e);return n.fft(o).reshape(t.shape)}),n,null,"FFT")}});var $a=qt({ifft_:function(t){E("complex64"===t.dtype,(function(){return"The dtype for tf.spectral.ifft() must be complex64 but got "+t.dtype+"."}));var n={input:t};return Tt.runKernelFunc((function(n){var e=t.shape[t.shape.length-1],r=t.size/e,o=On(t,[r,e]),a=n.ifft(o);return On(a,t.shape)}),n,null,"IFFT")}});var Qa=qt({irfft_:function(t){var n,e=t.shape[t.shape.length-1],r=t.size/e;if(e<=2){var o=On(t,[r,e]);n=$a(o)}else{var a=[r,2*(e-1)],i=On(Qo(t),[r,e]),u=On(fo(t),[r,e]),s=Ba(dr(i,[0,1],[r,e-2]),1),c=Ae(Ba(dr(u,[0,1],[r,e-2]),1),go(-1)),l=pr([i,s],1),f=pr([u,c],1);o=On(Ot(l,f),[a[0],a[1]]);n=$a(o)}if(n=Qo(n),3===t.rank&&0!==t.shape[0]){var p=n,h=t.shape[0];n=On(n,[h,n.shape[0]/h,n.shape[1]]),p.dispose()}return n}});function ti(t,n,e){void 0===e&&(e=0);var r=[];if("number"==typeof n)E(t.shape[e]%n==0,(function(){return"Number of splits must evenly divide the axis."})),r=new Array(n).fill(t.shape[e]/n);else{E(n.reduce((function(t,n){return-1===n&&(t+=1),t}),0)<=1,(function(){return"There should be only one negative value in split array."}));var o=n.indexOf(-1);if(-1!==o){var a=n.reduce((function(t,n){return n>0?t+n:t}));n[o]=t.shape[e]-a}E(t.shape[e]===n.reduce((function(t,n){return t+n})),(function(){return"The sum of sizes must match the size of the axis dimension."})),r=n}return r}var ni=qt({split_:function(t,n,e){void 0===e&&(e=0);var r=Lt(t,"x","split"),o={x:r},a={numOrSizeSplits:n,axis:e};return Tt.runKernelFunc((function(t,o){var a=B(e,r.shape)[0],i=ti(r,n,a);return t.split(r,i,a)}),o,null,"SplitV",a)}});var ei=qt({rfft_:function(t,n){E("float32"===t.dtype,(function(){return"The dtype for rfft() must be real value but got "+t.dtype}));var e,r=t.shape[t.shape.length-1],o=t.size/r;if(null!=n&&n<r){var a=t.shape.map((function(t){return 0})),i=t.shape.map((function(t){return t}));i[t.shape.length-1]=n,e=dr(t,a,i),r=n}else if(null!=n&&n>r){var u=t.shape.map((function(t){return t}));u[t.shape.length-1]=n-r,e=pr([t,Ko(u)],t.shape.length-1),r=n}else e=t;var s=Jr(e),c=On(Ot(e,s),[o,r]),l=Xa(c),f=Math.floor(r/2)+1,p=Qo(l),h=fo(l),d=ni(p,[f,r-f],p.shape.length-1),v=ni(h,[f,r-f],h.shape.length-1),m=e.shape.slice();return m[e.shape.length-1]=f,On(Ot(d[0],v[0]),m)}});var ri=qt({sqrt_:function(t){var n=Lt(t,"x","sqrt"),e={x:n};return Tt.runKernelFunc((function(t,e){var r=t.sqrt(n);return e([n]),r}),e,null,"Sqrt")}});var oi=qt({squaredDifference_:function(t,n){var e,r=Lt(t,"a","squaredDifference"),o=Lt(n,"b","squaredDifference");e=St(r,o),r=e[0],o=e[1],Vr(r.shape,o.shape);var a={a:r,b:o};return Tt.runKernelFunc((function(t,n){var e=t.squaredDifference(r,o);return n([r,o]),e}),a,null,"SquaredDifference",{})}});var ai=qt({squeeze_:function(t,n){var e=Lt(t,"x","squeeze");return On(e,R(e.shape,n).newShape)}});var ii=qt({stack_:function(t,n){void 0===n&&(n=0);var e=zt(t,"tensors","stack");if(E(e.length>=1,(function(){return"Pass at least one tensor to tf.stack"})),1===e.length)return to(e[0],n);var r=e[0].rank,o=e[0].shape,a=e[0].dtype;E(n<=r,(function(){return"Axis must be <= rank of the tensor"})),e.forEach((function(t){D(o,t.shape,"All tensors passed to stack must have matching shapes"),E(a===t.dtype,(function(){return"All tensors passed to stack must have matching dtypes"}))}));var i=e.map((function(t){return to(t,n)}));return pr(i,n)}});var ui=qt({step_:function(t,n){void 0===n&&(n=0);var e=Lt(t,"x","step"),r={x:e},o={alpha:n};return Tt.runKernelFunc((function(t){return t.step(e,n)}),r,null,"Step",o)}});var si=qt({stridedSlice_:function(t,n,e,r,o,a,i,u,s){void 0===o&&(o=0),void 0===a&&(a=0),void 0===i&&(i=0),void 0===u&&(u=0),void 0===s&&(s=0);var c=Lt(t,"x","stridedSlice"),l={x:c},f={begin:n,end:e,strides:r,beginMask:o,endMask:a,ellipsisMask:i,newAxisMask:u,shrinkAxisMask:s};return Tt.runKernelFunc((function(t){null==r&&(r=new Array(n.length));var l=ne(i);if(l.length>1)throw new Error("Multiple ellipses in slice is not allowed.");if(0!==i&&0!==u)throw new Error("Using both ellipsisMask and newAxisMask is not yet supported.");if(0!==i&&0!==s)throw new Error("Using both ellipsisMask and shrinkAxisMask is not yet supported.");var f=c.rank-n.length,p=ne(u),h=c.shape.slice();p.forEach((function(t){n[t]=0,e[t]=1,h.splice(t,0,1)}));var d=ie((c=On(c,h)).shape,l,f,n,e,r,o,a,i),v=d.begin,m=d.end,g=d.strides;n=v,e=m,r=g;var y=ne(s);y.forEach((function(t){e[t]=n[t]+1,r[t]=1}));var b=ee(n,e,r),w=b.filter((function(t,n){return-1===y.indexOf(n)}));if(r.every((function(t){return 1===t})))return On(dr(c,n,b),w);var k=t.stridedSlice(c,n,e,r);return On(k,w)}),l,null,"StridedSlice",f)}});var ci=qt({tan_:function(t){var n=Lt(t,"x","tan"),e={x:n};return Tt.runKernelFunc((function(t,e){var r=t.tan(n);return e([n]),r}),e,null,"Tan")}});function li(t,n,e){if(N(t),null!=n&&2!==n.length)throw new Error("tensor2d() requires shape to have two numbers");var r=Ct(t,e);if(2!==r.length&&1!==r.length)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(1===r.length&&null==n)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return Wt(t,n,r,e)}var fi=qt({topk_:function(t,n,e){void 0===n&&(n=1),void 0===e&&(e=!0);var r=Lt(t,"x","topk");if(0===r.rank)throw new Error("topk() expects the input to be of rank 1 or higher");var o=r.shape[r.shape.length-1];if(n>o)throw new Error("'k' passed to topk() must be <= the last dimension ("+o+") but got "+n);var a={x:r},i={k:n,sorted:e},u=Tt.runKernelFunc((function(t){return t.topk(r,n,e)}),a,null,"TopK",i);return{values:u[0],indices:u[1]}}});var pi=qt({truncatedNormal_:function(t,n,e,r,o){if(void 0===n&&(n=0),void 0===e&&(e=1),null!=r&&"bool"===r)throw new Error("Unsupported data type $ { dtype }");for(var a=new xa(n,e,r,!0,o),i=Sn(t,r),u=0;u<i.values.length;u++)i.values[u]=a.nextValue();return i.toTensor()}});var hi=qt({unique_:function(t,n){void 0===n&&(n=0);var e=Lt(t,"x","unique",null);E(e.rank>0,(function(){return"The input tensor must be at least 1D"}));var r={x:e},o={axis:n},a=Tt.runKernel("Unique",r,o);return{values:a[0],indices:a[1]}}});var di=qt({unsortedSegmentSum_:function(t,n,e){var r=Lt(t,"x","unsortedSegmentSum"),o=Lt(n,"segmentIds","unsortedSegmentSum","int32");E(T(e),(function(){return"numSegments must be of dtype int"}));var a={x:r,segmentIds:o},i={numSegments:e};return Tt.runKernelFunc((function(t,n){var a=t.unsortedSegmentSum(r,o,e);return n([o]),a}),a,null,"UnsortedSegmentSum",i)}});var vi=qt({unstack_:function(t,n){void 0===n&&(n=0);var e=Lt(t,"x","unstack");E(n>=-e.shape.length&&n<e.shape.length,(function(){return"Axis = "+n+" is not in [-"+e.shape.length+", "+e.shape.length+")"})),n<0&&(n+=e.shape.length);var r={value:e},o={axis:n};return Tt.runKernelFunc((function(t){return t.unstack(e,n)}),r,null,"Unpack",o)}});function mi(t,n){for(var e=[],r=0;r<n.length;r++)n[r]&&e.push(r);var o=Sn(t,"int32"),a=Sn([e.length,t.length],"int32");for(r=0;r<e.length;r++){var i=o.indexToLoc(e[r]),u=r*t.length;a.values.set(i,u)}return a.toTensor()}var gi=function(t){return r(this,void 0,void 0,(function(){var n,e,r;return o(this,(function(o){switch(o.label){case 0:return[4,(n=Lt(t,"condition","whereAsync","bool")).data()];case 1:return e=o.sent(),r=mi(n.shape,e),t!==n&&n.dispose(),[2,r]}}))}))};var yi=function(t,n,e){return r(this,void 0,void 0,(function(){var r,a,i,u,s,c,l,f,p,h,d,v,m;return o(this,(function(o){switch(o.label){case 0:for(r=Lt(t,"tensor","boolMask"),a=Lt(n,"mask","boolMask","bool"),i=null==e?0:e,u=a.rank,s=r.shape,E(u>0,(function(){return"mask cannot be scalar"})),D(s.slice(i,i+u),a.shape,"mask's shape must match the first K dimensions of tensor's shape,"),c=1,l=i;l<i+u;l++)c*=s[l];return f=s.slice(0,i).concat([c],s.slice(i+u)),p=On(r,f),h=On(a,[-1]),[4,gi(h)];case 1:return d=o.sent(),v=ai(d,[1]),m=so(p,v,i),t!==r&&r.dispose(),n!==a&&a.dispose(),v.dispose(),p.dispose(),h.dispose(),d.dispose(),[2,m]}}))}))};var bi=qt({equalStrict_:function(t,n){xe("strict variants of ops have been deprecated and will be removed in future");var e=Lt(t,"a","equalStrict"),r=Lt(n,"b","equalStrict");return D(e.shape,r.shape,"Error in equalStrict: "),Hr(e,r)}}),wi=qt({greaterEqualStrict_:function(t,n){xe("strict variants of ops have been deprecated and will be removed in future");var e=Lt(t,"a","greaterEqualStrict"),r=Lt(n,"b","greaterEqualStrict");return D(e.shape,r.shape,"Error in greaterEqualStrict: "),lo(e,r)}}),ki=qt({greaterStrict_:function(t,n){xe("strict variants of ops have been deprecated and will be removed in future");var e=Lt(t,"a","greaterStrict"),r=Lt(n,"b","greaterStrict");return D(e.shape,r.shape,"Error in greaterStrict: "),co(e,r)}}),xi=qt({lessEqualStrict_:function(t,n){xe("strict variants of ops have been deprecated and will be removed in future");var e=Lt(t,"a","lessEqualStrict"),r=Lt(n,"b","lessEqualStrict");return D(e.shape,r.shape,"Error in lessEqualStrict: "),wo(e,r)}}),Si=qt({lessStrict_:function(t,n){xe("strict variants of ops have been deprecated and will be removed in future");var e=Lt(t,"a","lessStrict"),r=Lt(n,"b","lessStrict");return D(e.shape,r.shape,"Error in lessStrict: "),bo(e,r)}}),Ei=qt({notEqualStrict_:function(t,n){xe("strict variants of ops have been deprecated and will be removed in future");var e=Lt(t,"a","notEqualStrict"),r=Lt(n,"b","notEqualStrict");return D(e.shape,r.shape,"Error in notEqualStrict: "),$o(e,r)}});var Di=qt({addStrict_:function(t,n){xe("strict variants of ops have been deprecated and will be removed in future");var e=Lt(t,"a","addStrict"),r=Lt(n,"b","addStrict");return D(e.shape,r.shape,"Error in addStrict: "),Ne(e,r)}}),Ni=qt({divStrict_:function(t,n){xe("strict variants of ops have been deprecated and will be removed in future");var e=Lt(t,"a","div"),r=Lt(n,"b","div");return D(e.shape,r.shape,"Error in divideStrict: "),Fe(e,r)}}),Ii=qt({maximumStrict_:function(t,n){xe("strict variants of ops have been deprecated and will be removed in future");var e=Lt(t,"a","maximumStrict"),r=Lt(n,"b","maximumStrict");return D(e.shape,r.shape,"Error in maximumStrict: "),mo(e,r)}}),Fi=qt({minimumStrict_:function(t,n){xe("strict variants of ops have been deprecated and will be removed in future");var e=Lt(t,"a","minimumStrict"),r=Lt(n,"b","minimumStrict");return D(e.shape,r.shape,"Error in minimumStrict: "),Ho(e,r)}}),Ai=qt({modStrict_:function(t,n){xe("strict variants of ops have been deprecated and will be removed in future");var e=Lt(t,"a","modStrict"),r=Lt(n,"b","modStrict");return D(e.shape,r.shape,"Error in modStrict: "),jo(e,r)}}),Ti=qt({mulStrict_:function(t,n){xe("strict variants of ops have been deprecated and will be removed in future");var e=Lt(t,"a","mul"),r=Lt(n,"b","mul");return D(e.shape,r.shape,"Error in multiplyStrict: "),Ae(e,r)}}),Mi=qt({powStrict_:function(t,n){return xe("strict variants of ops have been deprecated and will be removed in future"),D(t.shape,n.shape,"Error in powStrict: "),ca(t,n)}}),_i=qt({squaredDifferenceStrict_:function(t,n){xe("strict variants of ops have been deprecated and will be removed in future");var e=Lt(t,"a","squaredDifferenceStrict"),r=Lt(n,"b","squaredDifferenceStrict");return D(e.shape,r.shape,"Error in squaredDifferenceStrict: "),oi(e,r)}}),Bi=qt({subStrict_:function(t,n){xe("strict variants of ops have been deprecated and will be removed in future");var e=Lt(t,"a","subStrict"),r=Lt(n,"b","subStrict");return D(e.shape,r.shape,"Error in subStrict: "),Mo(e,r)}});var Ri=qt({norm_:function(t,n,e,r){void 0===n&&(n="euclidean"),void 0===e&&(e=null),void 0===r&&(r=!1);var o=function t(n,e,r){void 0===r&&(r=null);if(0===n.rank)return Te(n);if(1!==n.rank&&null===r)return t(On(n,[-1]),e,r);if(1===n.rank||"number"==typeof r||Array.isArray(r)&&1===r.length){if(1===e)return _o(Te(n),r);if(e===1/0)return To(Te(n),r);if(e===-1/0)return Vo(Te(n),r);if("euclidean"===e||2===e)return ri(_o(ca(Te(n),go(2,"int32")),r));throw new Error("Error in norm: invalid ord value: "+e)}if(Array.isArray(r)&&2===r.length){if(1===e)return To(_o(Te(n),r[0]),r[1]-1);if(e===1/0)return To(_o(Te(n),r[1]),r[0]);if(e===-1/0)return Vo(_o(Te(n),r[1]),r[0]);if("fro"===e||"euclidean"===e)return ri(_o(Jo(n),r));throw new Error("Error in norm: invalid ord value: "+e)}throw new Error("Error in norm: invalid axis: "+r)}(t=Lt(t,"x","norm"),n,e),a=o.shape;if(r){var i=B(e,t.shape);a=Le(o.shape,i)}return On(o,a)}});var Ci=qt({movingAverage_:function(t,n,e,r,o){void 0===o&&(o=!0);var a=Lt(t,"v","movingAverage"),i=Lt(n,"x","movingAverage"),u=Lt(e,"decay","movingAverage");Et(a,i),E(A(a.shape,i.shape),(function(){return"Shape mismatch in v and x"}));var s=go(1),c=Mo(s,u),l=Ae(Mo(i,a),c);if(o){E(null!=r,(function(){return"When using zeroDebias: true, step is required."}));var f=Lt(r,"step","movingAverage");l=Fe(l,Mo(s,ca(u,f)))}return Ne(a,l)}});var Pi=qt({scatterND_:function(t,n,e){var r=Lt(t,"indices","scatterND","int32"),o=Lt(n,"updates","scatterND");Xn(o,r,e);var a={indices:r,updates:o},i={shape:e};return Tt.runKernelFunc((function(t){return t.scatterND(r,o,e)}),a,null,"ScatterNd",i)}});var Li=qt({sparseToDense_:function(t,n,e,r){void 0===r&&(r=0);var o=Lt(t,"sparseIndices","sparseToDense","int32"),a=Lt(n,"sparseValues","sparseToDense"),i=Lt(r,"defaultValue","sparseToDense",a.dtype);!function(t,n,e,r){if("int32"!==t.dtype)throw new Error("tf.sparseToDense() expects the indices to be int32 type, but the dtype was "+t.dtype+".");if(t.rank>2)throw new Error("sparseIndices should be a scalar, vector, or matrix, but got shape "+t.shape+".");var o=t.rank>0?t.shape[0]:1,a=t.rank>1?t.shape[1]:1;if(e.length!==a)throw new Error("outputShape has incorrect number of elements:, "+e.length+", should be: "+a+".");var i=n.size;if(0!==n.rank&&(1!==n.rank||i!==o))throw new Error("sparseValues has incorrect shape "+n.shape+", should be [] or ["+o+"]");if(n.dtype!==r.dtype)throw new Error("sparseValues.dtype must match defaultValues.dtype")}(o,a,e,i);var u={sparseIndices:o,sparseValues:a,defaultValue:i},s={outputShape:e};return Tt.runKernelFunc((function(t){return t.sparseToDense(o,a,e,i)}),u,null,"SparseToDense",s)}});var zi=qt({gatherND_:function(t,n){var e=Lt(n,"indices","gatherND","int32"),r=Lt(t,"x","gatherND"),o={params:r,indices:e};return Tt.runKernelFunc((function(t){return t.gatherND(r,e)}),o,null,"GatherNd")}});var qi=qt({dropout_:function(t,n,e,r){var o=Lt(t,"x","dropout");if(E("float32"===o.dtype,(function(){return"x has to be a floating point tensor since it's going to be scaled, but got a "+o.dtype+" tensor instead."})),E(n>=0&&n<1,(function(){return"rate must be a float in the range [0, 1), but got "+n+"."})),0===n)return t instanceof dt?o.clone():o;var a=function(t,n){if(null==n)return t.shape.slice();if(A(t.shape,n))return n;if(t.shape.length===n.length){for(var e=[],r=0;r<t.shape.length;r++)null==n[r]&&null!=t.shape[r]?e.push(t.shape[r]):e.push(n[r]);return e}return n}(o,e),i=1-n,u=Fe(ao(Ne(Ia(a,0,1,"float32",r),i)),i);return Ae(o,u)}});function Oi(t){return Math.floor(Math.pow(2,Math.ceil(Math.log(t)/Math.log(2))))}function Wi(t,n,e){for(var r=1-t%2,o=new Float32Array(t),a=0;a<t;++a){var i=2*Math.PI*a/(t+r-1);o[a]=n-e*Math.cos(i)}return Fa(o,"float32")}var Ki=function(t,n,e){return void 0===e&&(e=1),r(this,void 0,void 0,(function(){var r,a,i,u,s,c,l,f,p,h,d,v,m,g;return o(this,(function(o){switch(o.label){case 0:return r=Lt(t,"predictions","inTopK"),a=Lt(n,"targets","inTopK"),E(r.rank>1,(function(){return"inTopK() expects the predictions to be of rank 2 or higher, but got "+r.rank})),E(r.rank-1===a.rank,(function(){return"predictions rank should be 1 larger than targets rank, but got predictions rank "+r.rank+" and targets rank "+a.rank})),D(r.shape.slice(0,r.shape.length-1),a.shape,"predictions's shape should be align with the targets' shape, except the last dimension."),i=r.shape[r.shape.length-1],E(e>0&&e<=i,(function(){return"'k' passed to inTopK() must be > 0 && <= the predictions last dimension ("+i+"), but got "+e})),[4,r.data()];case 1:return u=o.sent(),[4,a.data()];case 2:for(s=o.sent(),c=[u.length/i,i],f=c[1],p=C("bool",l=c[0]),h=0;h<l;h++){for(d=h*f,v=u.subarray(d,d+f),m=[],g=0;g<v.length;g++)m.push({value:v[g],index:g});for(m.sort((function(t,n){return n.value-t.value})),p[h]=0,g=0;g<e;g++)if(m[g].index===s[h]){p[h]=1;break}}return t!==r&&r.dispose(),n!==a&&a.dispose(),[2,Kt(p,a.shape,"bool")]}}))}))};var Ui=qt({conv2DBackpropFilter_:function(t,n,e,r,o,a,i){void 0===a&&(a="NHWC");var u=t;3===t.rank&&(u=On(t,[1,t.shape[0],t.shape[1],t.shape[2]]));var s=n;3===s.rank&&(s=On(n,[1,n.shape[0],n.shape[1],n.shape[2]])),E(4===u.rank,(function(){return"Error in conv2dDerFilter: input must be rank 4, but got shape "+u.shape+"."})),E(4===s.rank,(function(){return"Error in conv2dDerFilter: dy must be rank 4, but got shape "+s.shape+"."})),E(4===e.length,(function(){return"Error in conv2dDerFilter: filterShape must be length 4, but got "+e+"."}));var c="NHWC"===a?u.shape[3]:u.shape[1],l="NHWC"===a?s.shape[3]:s.shape[1];E(c===e[2],(function(){return"Error in conv2dDerFilter: depth of input "+c+") must match input depth in filter ("+e[2]+"."})),E(l===e[3],(function(){return"Error in conv2dDerFilter: depth of dy ("+l+") must match output depth for filter ("+e[3]+")."})),null!=i&&E(T(o),(function(){return"Error in conv2dDerFilter: pad must be an integer when using, dimRoundingMode "+i+" but got pad "+o+"."}));var f={x:u,dy:s},p={strides:r,pad:o,dataFormat:a,dimRoundingMode:i};return Tt.runKernelFunc((function(t){var n=ur(a),c=$e(u.shape,e,r,1,o,i,!1,n);return t.conv2dDerFilter(u,s,c)}),f,null,"Conv2DBackpropFilter",p)}});function Gi(t,n,e){if(null==e||"linear"===e)return t;if("relu"===e)return Ae(t,ui(n));throw new Error("Cannot compute gradient for fused activation "+e+".")}function Vi(t,n){var e=n,r=Gr(t.shape,n.shape);return r.length>0&&(e=_o(e,r)),On(e,t.shape)}function Hi(t,n,e){if("linear"===n)return t;if("relu"===n)return Ma(t);if("elu"===n)return Xr(t);if("relu6"===n)return _a(t);if("prelu"===n)return la(t,e);throw new Error("Unknown fused activation "+n+".")}var ji=function(t,n){return!(t>0)||"linear"===n};var Ji=qt({fusedConv2d_:function(t){var n=t.x,e=t.filter,r=t.strides,o=t.pad,a=t.dataFormat,i=void 0===a?"NHWC":a,u=t.dilations,s=void 0===u?[1,1]:u,c=t.dimRoundingMode,l=t.bias,f=t.activation,p=void 0===f?"linear":f,h=t.preluActivationWeights;if(p=p||"linear",!1===ji(Tt.state.gradientDepth,p)){var d=Tr(n,e,r,o,i,s,c);return null!=l&&(d=Ne(d,l)),Hi(d,p,h)}var v=Lt(n,"x","conv2d"),m=Lt(e,"filter","conv2d"),g=v,y=!1;3===v.rank&&(y=!0,g=On(v,[1,v.shape[0],v.shape[1],v.shape[2]])),E(4===g.rank,(function(){return"Error in fused conv2d: input must be rank 4, but got rank "+g.rank+"."})),E(4===m.rank,(function(){return"Error in fused conv2d: filter must be rank 4, but got rank "+m.rank+"."})),null!=c&&E(T(o),(function(){return"Error in fused conv2d: pad must be an integer when using, dimRoundingMode "+c+" but got pad "+o+"."})),E(g.shape[3]===m.shape[2],(function(){return"Error in conv2d: depth of input ("+g.shape[3]+") must match input depth for filter "+m.shape[2]+"."})),E(ir(r,s),(function(){return"Error in conv2D: Either strides or dilations must be 1. Got strides "+r+" and dilations '"+s+"'"})),E("NHWC"===i,(function(){return"Error in conv2d: got dataFormat of "+i+" but only NHWC is currently supported."}));var b,w,k=$e(g.shape,m.shape,r,s,o,c);null!=l&&(b=St(b=Lt(l,"bias","fused conv2d"),v)[0],Vr(k.outShape,b.shape)),null!=h&&(w=Lt(h,"prelu weights","fused conv2d"));var x=function(t,n){var e=n,a=e[0],i=e[1],u=e[2],c=e[3],l=Gi(t,u,p);E(ar(s),(function(){return"Error in gradient of fused conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '"+s+"'"}));var f=[_r(i.shape,l,a,r,o),Ui(i,l,a.shape,r,o)];if(null!=c){var h=Vi(c,l);f.push(h)}return f},S=function(t){return t.fusedConv2d({input:g,filter:m,convInfo:k,bias:b,activation:p,preluActivationWeights:w})},D={x:g,filter:m,bias:b,preluActivationWeights:w},N={strides:r,pad:o,dataFormat:i,dilations:s,dimRoundingMode:c,activation:p};return null==l?Do((function(t,n,e){var r=Tt.runKernelFunc(S,D,null,"FusedConv2D",N);return e([n,t,r]),y&&(r=On(r,[r.shape[1],r.shape[2],r.shape[3]])),{value:r,gradFunc:x}}))(g,m):Do((function(t,n,e,r){var o=Tt.runKernelFunc(S,D,null,"FusedConv2D",N);return r([n,t,o,e]),y&&(o=On(o,[o.shape[1],o.shape[2],o.shape[3]])),{value:o,gradFunc:x}}))(g,m,b)}});var Yi=qt({depthwiseConv2dNativeBackpropFilter_:function(t,n,e,r){var o=t;3===t.rank&&(o=On(t,[1,t.shape[0],t.shape[1],t.shape[2]]));var a=n;3===a.rank&&(a=On(n,[1,n.shape[0],n.shape[1],n.shape[2]]));var i={x:o,dy:a};return Tt.runKernelFunc((function(t){return t.depthwiseConv2DDerFilter(o,a,r)}),i,null,"DepthwiseConv2dNativeBackpropFilter")}});var Zi=qt({depthwiseConv2dNativeBackpropInput_:function(t,n,e,r){var o=n,a=!1;3===n.rank&&(a=!0,o=On(n,[1,n.shape[0],n.shape[1],n.shape[2]]));var i={dy:o},u=Tt.runKernelFunc((function(t){return t.depthwiseConv2DDerInput(o,e,r)}),i,null,"DepthwiseConv2dNativeBackpropInput");return a?On(u,[u.shape[1],u.shape[2],u.shape[3]]):u}});var Xi={__proto__:null,conv2d:Ji,depthwiseConv2d:qt({fusedDepthwiseConv2d_:function(t){var n=t.x,e=t.filter,r=t.strides,o=t.pad,a=t.dataFormat,i=void 0===a?"NHWC":a,u=t.dilations,s=void 0===u?[1,1]:u,c=t.dimRoundingMode,l=t.bias,f=t.activation,p=void 0===f?"linear":f,h=t.preluActivationWeights;if(!1===ji(Tt.state.gradientDepth,p)){var d=Wr(n,e,r,o,i,s,c);return null!=l&&(d=Ne(d,l)),Hi(d,p,h)}var v=Lt(n,"x","depthwiseConv2d"),m=Lt(e,"filter","depthwiseConv2d"),g=v,y=!1;3===v.rank&&(y=!0,g=On(v,[1,v.shape[0],v.shape[1],v.shape[2]])),E(4===g.rank,(function(){return"Error in fused depthwiseConv2d: input must be rank 4, but got rank "+g.rank+"."})),E(4===m.rank,(function(){return"Error in fused depthwiseConv2d: filter must be rank 4, but got rank "+m.rank+"."})),E(g.shape[3]===m.shape[2],(function(){return"Error in fused depthwiseConv2d: number of input channels ("+g.shape[3]+") must match the inChannels dimension in filter "+m.shape[2]+"."})),null==s&&(s=[1,1]),E(ir(r,s),(function(){return"Error in fused depthwiseConv2d: Either strides or dilations must be 1. Got strides "+r+" and dilations '"+s+"'"})),null!=c&&E(T(o),(function(){return"Error in fused depthwiseConv2d: pad must be an integer when using dimRoundingMode "+c+" but got pad "+o+"."}));var b,w,k=$e(g.shape,m.shape,r,s,o,c,!0);null!=l&&(b=St(b=Lt(l,"bias","fused conv2d"),v)[0],Vr(k.outShape,b.shape)),null!=h&&(w=Lt(h,"prelu weights","fused depthwiseConv2d"));var x=function(t,n){E(ar(s),(function(){return"Error in gradient of fused depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '"+s+"'"}));var e=n[0],r=n[1],o=n[2],a=n[3],i=Gi(t,o,p),u=Zi(r.shape,i,e,k),c=Yi(r,i,e.shape,k);return null!=a?[u,c,Vi(b,i)]:[u,c]},S=function(t){return t.fusedDepthwiseConv2D({input:g,filter:m,convInfo:k,bias:b,activation:p,preluActivationWeights:w})},D={x:g,filter:m,bias:b,preluActivationWeights:w},N={strides:r,pad:o,dataFormat:i,dilations:s,dimRoundingMode:c,activation:p};return null==l?Do((function(t,n,e){var r=Tt.runKernelFunc(S,D,null,"FusedDepthwiseConv2D",N);return e([n,t,r]),y&&(r=On(r,[r.shape[1],r.shape[2],r.shape[3]])),{value:r,gradFunc:x}}))(g,m):Do((function(t,n,e,r){var o=Tt.runKernelFunc(S,D,null,"FusedDepthwiseConv2D",N);return r([n,t,o,e]),y&&(o=On(o,[o.shape[1],o.shape[2],o.shape[3]])),{value:o,gradFunc:x}}))(g,m,b)}}),matMul:qt({fusedMatMul_:function(t){var n,e=t.a,r=t.b,o=t.transposeA,a=void 0!==o&&o,i=t.transposeB,u=void 0!==i&&i,s=t.bias,c=t.activation,l=void 0===c?"linear":c,f=t.preluActivationWeights;if(!1===ji(Tt.state.gradientDepth,l)){var p=Wn(e,r,a,u);return null!=s&&(p=Ne(p,s)),Hi(p,l,f)}var h=Lt(e,"a","fused matMul"),d=Lt(r,"b","fused matMul");n=St(h,d),h=n[0],d=n[1];var v=a?h.shape[h.rank-2]:h.shape[h.rank-1],m=u?d.shape[d.rank-1]:d.shape[d.rank-2],g=a?h.shape[h.rank-1]:h.shape[h.rank-2],y=u?d.shape[d.rank-2]:d.shape[d.rank-1],b=h.shape.slice(0,-2),w=d.shape.slice(0,-2),k=F(b),x=F(w);E(h.rank>=2&&d.rank>=2&&h.rank===d.rank,(function(){return"Error in fused matMul: inputs must have the same rank of at least 2, got ranks "+h.rank+" and "+d.rank+"."})),E(A(b,w),(function(){return"Error in fused matMul: outer dimensions ("+b+") and ("+w+") of Tensors with shapes "+h.shape+" and "+d.shape+" must match."})),E(v===m,(function(){return"Error in fused matMul: inner shapes ("+v+") and ("+m+") of Tensors with shapes "+h.shape+" and "+d.shape+" and transposeA="+a+" and transposeB="+u+" must match."}));var S,D,N=h.shape.slice(0,-2).concat([g,y]),I=On(h,a?[k,v,g]:[k,g,v]),T=On(d,u?[x,y,m]:[x,m,y]);null!=s&&(S=St(S=Lt(s,"bias","fused matMul"),h)[0],Vr(N,S.shape)),null!=f&&(D=Lt(f,"prelu weights","fused matMul"));var M=function(t,n){var e,r,o=n[0],i=n[1],c=n[2],f=n[3],p=Gi(On(t,c.shape),c,l);return a||u?!a&&u?(e=Wn(p,i,!1,!1),r=Wn(p,o,!0,!1)):a&&!u?(e=Wn(i,p,!1,!0),r=Wn(o,p,!1,!1)):(e=Wn(i,p,!0,!0),r=Wn(p,o,!0,!0)):(e=Wn(p,i,!1,!0),r=Wn(o,p,!0,!1)),null!=s?[e,r,Vi(f,p)]:[e,r]},_=function(t){return t.fusedBatchMatMul({a:I,b:T,transposeA:a,transposeB:u,bias:S,activation:l,preluActivationWeights:D})},B={a:I,b:T,bias:S,preluActivationWeights:D},R={transposeA:a,transposeB:u,activation:l};return null==s?Do((function(t,n,e){var r=Tt.runKernelFunc(_,B,null,"_FusedMatMul",R);return e([t,n,r]),{value:On(r,N),gradFunc:M}}))(I,T):Do((function(t,n,e,r){var o=Tt.runKernelFunc(_,B,null,"_FusedMatMul",R);return r([t,n,o,e]),{value:On(o,N),gradFunc:M}}))(I,T,S)}})};var $i=qt({hammingWindow_:function(t){return Wi(t,.54,.46)}});var Qi=qt({hannWindow_:function(t){return Wi(t,.5,.5)}});var tu=qt({frame_:function(t,n,e,r,o){void 0===r&&(r=!1),void 0===o&&(o=0);for(var a=0,i=[];a+n<=t.size;)i.push(dr(t,a,n)),a+=e;if(r)for(;a<t.size;){var u=a+n-t.size,s=pr([dr(t,a,n-u),oo([u],o)]);i.push(s),a+=e}return 0===i.length?li([],[0,n]):On(pr(i),[i.length,n])}});var nu=qt({stft_:function(t,n,e,r,o){void 0===o&&(o=Qi),null==r&&(r=Oi(n));for(var a=tu(t,n,e),i=Ae(a,o(n)),u=[],s=0;s<a.shape[0];s++)u.push(ei(dr(i,[s,0],[1,n]),r));return pr(u)}});var eu=qt({cropAndResize_:function(t,n,e,r,o,a){var i=Lt(t,"image","cropAndResize"),u=Lt(n,"boxes","cropAndResize","float32"),s=Lt(e,"boxInd","cropAndResize","int32");o=o||"bilinear",a=a||0;var c=u.shape[0];E(4===i.rank,(function(){return"Error in cropAndResize: image must be rank 4,but got rank "+i.rank+"."})),E(2===u.rank&&4===u.shape[1],(function(){return"Error in cropAndResize: boxes must be have size ["+c+",4] but had shape "+u.shape+"."})),E(1===s.rank&&s.shape[0]===c,(function(){return"Error in cropAndResize: boxInd must be have size ["+c+"] but had shape "+u.shape+"."})),E(2===r.length,(function(){return"Error in cropAndResize: cropSize must be of length 2, but got length "+r.length+"."})),E(r[0]>=1&&r[1]>=1,(function(){return"cropSize must be atleast [1,1], but was "+r})),E("bilinear"===o||"nearest"===o,(function(){return"method must be bilinear or nearest, but was "+o}));var l={image:i,boxes:u,boxInd:s},f={method:o,extrapolationValue:a,cropSize:r};return Tt.runKernelFunc((function(t){return t.cropAndResize(i,u,s,r,o,a)}),l,null,"CropAndResize",f)}});var ru=qt({flipLeftRight_:function(t){var n=Lt(t,"image","flipLeftRight","float32");E(4===n.rank,(function(){return"Error in flipLeftRight: image must be rank 4,but got rank "+n.rank+"."}));var e={image:n};return Tt.runKernel("FlipLeftRight",e,{})}});var ou=qt({rotateWithOffset_:function(t,n,e,r){void 0===e&&(e=0),void 0===r&&(r=.5);var o=Lt(t,"image","rotateWithOffset","float32");E(4===o.rank,(function(){return"Error in rotateWithOffset: image must be rank 4,but got rank "+o.rank+"."}));var a={image:o},i={radians:n,fillValue:e,center:r};return Tt.runKernel("RotateWithOffset",a,i)}});function au(t,n,e,r,o,a){null==r&&(r=.5),null==o&&(o=Number.NEGATIVE_INFINITY),null==a&&(a=0);var i=t.shape[0];return e=Math.min(e,i),E(0<=r&&r<=1,(function(){return"iouThreshold must be in [0, 1], but was '"+r+"'"})),E(2===t.rank,(function(){return"boxes must be a 2D tensor, but was of rank '"+t.rank+"'"})),E(4===t.shape[1],(function(){return"boxes must have 4 columns, but 2nd dimension was "+t.shape[1]})),E(1===n.rank,(function(){return"scores must be a 1D tensor"})),E(n.shape[0]===i,(function(){return"scores has incompatible shape with boxes. Expected "+i+", but was "+n.shape[0]})),E(0<=a&&a<=1,(function(){return"softNmsSigma must be in [0, 1], but was '"+a+"'"})),{maxOutputSize:e,iouThreshold:r,scoreThreshold:o,softNmsSigma:a}}var iu=qt({nonMaxSuppression_:function(t,n,e,r,o){void 0===r&&(r=.5),void 0===o&&(o=Number.NEGATIVE_INFINITY);var a=Lt(t,"boxes","nonMaxSuppression"),i=Lt(n,"scores","nonMaxSuppression"),u=au(a,i,e,r,o);e=u.maxOutputSize,r=u.iouThreshold,o=u.scoreThreshold;var s={maxOutputSize:e,iouThreshold:r,scoreThreshold:o};return Tt.runKernelFunc((function(t){return t.nonMaxSuppression(a,i,e,r,o)}),{boxes:a,scores:i},null,"NonMaxSuppressionV3",s)}});function uu(t,n,e){var r=function(t,n,e){return function(t,n,e){var r=0,o=t.length,a=0,i=!1;for(;r<o;){var u=e(n,t[a=r+(o-r>>>1)]);u>0?r=a+1:(o=a,i=!u)}return i?r:-r-1}(t,n,e||su)}(t,n,e),o=r<0?-(r+1):r;t.splice(o,0,n)}function su(t,n){return t>n?1:t<n?-1:0}function cu(t,n,e,r,o){return pu(t,n,e,r,o,0).selectedIndices}function lu(t,n,e,r,o,a){return pu(t,n,e,r,o,0,!1,a,!0)}function fu(t,n,e,r,o,a){return pu(t,n,e,r,o,a,!0)}function pu(t,n,e,r,o,a,i,u,s){void 0===i&&(i=!1),void 0===u&&(u=!1),void 0===s&&(s=!1);for(var c=[],l=0;l<n.length;l++)n[l]>o&&c.push({score:n[l],boxIndex:l,suppressBeginIndex:0});c.sort(vu);for(var f=a>0?-.5/a:0,p=[],h=[];p.length<e&&c.length>0;){var d=c.pop(),v=d.score,m=d.boxIndex,g=d.suppressBeginIndex;if(v<o)break;for(var y=!1,b=p.length-1;b>=g;--b){var w=hu(t,m,p[b]);if(w>=r){y=!0;break}if(d.score=d.score*du(r,f,w),d.score<=o)break}d.suppressBeginIndex=p.length,y||(d.score===v?(p.push(m),h.push(d.score)):d.score>o&&uu(c,d,vu))}var k=p.length,x=e-k;u&&x>0&&(p.push.apply(p,new Array(x).fill(0)),h.push.apply(h,new Array(x).fill(0)));var S={selectedIndices:Fa(p,"int32")};return i&&(S.selectedScores=Fa(h,"float32")),s&&(S.validOutputs=go(k,"int32")),S}function hu(t,n,e){var r=t.subarray(4*n,4*n+4),o=t.subarray(4*e,4*e+4),a=Math.min(r[0],r[2]),i=Math.min(r[1],r[3]),u=Math.max(r[0],r[2]),s=Math.max(r[1],r[3]),c=Math.min(o[0],o[2]),l=Math.min(o[1],o[3]),f=Math.max(o[0],o[2]),p=Math.max(o[1],o[3]),h=(u-a)*(s-i),d=(f-c)*(p-l);if(h<=0||d<=0)return 0;var v=Math.max(a,c),m=Math.max(i,l),g=Math.min(u,f),y=Math.min(s,p),b=Math.max(g-v,0)*Math.max(y-m,0);return b/(h+d-b)}function du(t,n,e){var r=Math.exp(n*e*e);return e<=t?r:0}function vu(t,n){return t.score-n.score||t.score===n.score&&n.boxIndex-t.boxIndex}var mu=function(t,n,e,a,i){return void 0===a&&(a=.5),void 0===i&&(i=Number.NEGATIVE_INFINITY),r(this,void 0,void 0,(function(){var r,u,s,c,l,f,p;return o(this,(function(o){switch(o.label){case 0:return r=Lt(t,"boxes","nonMaxSuppressionAsync"),u=Lt(n,"scores","nonMaxSuppressionAsync"),s=au(r,u,e,a,i),e=s.maxOutputSize,a=s.iouThreshold,i=s.scoreThreshold,[4,Promise.all([r.data(),u.data()])];case 1:return c=o.sent(),l=c[0],f=c[1],p=cu(l,f,e,a,i),r!==t&&r.dispose(),u!==n&&u.dispose(),[2,p]}}))}))};var gu=qt({nonMaxSuppressionWithScore_:function(t,n,e,r,o,a){void 0===r&&(r=.5),void 0===o&&(o=Number.NEGATIVE_INFINITY),void 0===a&&(a=0);var i=Lt(t,"boxes","nonMaxSuppression"),u=Lt(n,"scores","nonMaxSuppression"),s=au(i,u,e,r,o,a),c={boxes:i,scores:u},l={maxOutputSize:e=s.maxOutputSize,iouThreshold:r=s.iouThreshold,scoreThreshold:o=s.scoreThreshold,softNmsSigma:a=s.softNmsSigma},f=Tt.runKernel("NonMaxSuppressionV5",c,l);return{selectedIndices:f[0],selectedScores:f[1]}}});var yu=function(t,n,e,a,i,u){return void 0===a&&(a=.5),void 0===i&&(i=Number.NEGATIVE_INFINITY),void 0===u&&(u=0),r(this,void 0,void 0,(function(){var r,s,c,l,f,p,h;return o(this,(function(o){switch(o.label){case 0:return r=Lt(t,"boxes","nonMaxSuppressionAsync"),s=Lt(n,"scores","nonMaxSuppressionAsync"),c=au(r,s,e,a,i,u),e=c.maxOutputSize,a=c.iouThreshold,i=c.scoreThreshold,u=c.softNmsSigma,[4,Promise.all([r.data(),s.data()])];case 1:return l=o.sent(),f=l[0],p=l[1],h=fu(f,p,e,a,i,u),r!==t&&r.dispose(),s!==n&&s.dispose(),[2,h]}}))}))};var bu=qt({nonMaxSuppressionPadded_:function(t,n,e,r,o,a){void 0===r&&(r=.5),void 0===o&&(o=Number.NEGATIVE_INFINITY),void 0===a&&(a=!1);var i=Lt(t,"boxes","nonMaxSuppression"),u=Lt(n,"scores","nonMaxSuppression"),s=au(i,u,e,r,o,null),c={boxes:i,scores:u},l={maxOutputSize:s.maxOutputSize,iouThreshold:s.iouThreshold,scoreThreshold:s.scoreThreshold,padToMaxOutputSize:a},f=Tt.runKernel("NonMaxSuppressionV4",c,l);return{selectedIndices:f[0],validOutputs:f[1]}}});var wu=function(t,n,e,a,i,u){return void 0===a&&(a=.5),void 0===i&&(i=Number.NEGATIVE_INFINITY),void 0===u&&(u=!1),r(this,void 0,void 0,(function(){var r,s,c,l,f,p,h,d,v,m;return o(this,(function(o){switch(o.label){case 0:return r=Lt(t,"boxes","nonMaxSuppressionAsync"),s=Lt(n,"scores","nonMaxSuppressionAsync"),c=au(r,s,e,a,i,null),l=c.maxOutputSize,f=c.iouThreshold,p=c.scoreThreshold,[4,Promise.all([r.data(),s.data()])];case 1:return h=o.sent(),d=h[0],v=h[1],m=lu(d,v,l,f,p,u),r!==t&&r.dispose(),s!==n&&s.dispose(),[2,m]}}))}))};var ku=qt({resizeBilinear_:function(t,n,e){void 0===e&&(e=!1);var r=Lt(t,"images","resizeBilinear");E(3===r.rank||4===r.rank,(function(){return"Error in resizeBilinear: x must be rank 3 or 4, but got rank "+r.rank+"."})),E(2===n.length,(function(){return"Error in resizeBilinear: new shape must 2D, but got shape "+n+"."}));var o=r,a=!1;3===r.rank&&(a=!0,o=On(r,[1,r.shape[0],r.shape[1],r.shape[2]]));var i=n[0],u=n[1],s={images:o},c={alignCorners:e,size:n},l=Tt.runKernelFunc((function(t,n){return n([o]),t.resizeBilinear(o,i,u,e)}),s,null,"ResizeBilinear",c);return a?On(l,[l.shape[1],l.shape[2],l.shape[3]]):l}});var xu=qt({resizeNearestNeighbor_:function(t,n,e){void 0===e&&(e=!1);var r=Lt(t,"images","resizeNearestNeighbor");E(3===r.rank||4===r.rank,(function(){return"Error in resizeNearestNeighbor: x must be rank 3 or 4, but got rank "+r.rank+"."})),E(2===n.length,(function(){return"Error in resizeNearestNeighbor: new shape must 2D, but got shape "+n+"."})),E("float32"===r.dtype||"int32"===r.dtype,(function(){return"`images` must have `int32` or `float32` as dtype"}));var o=r,a=!1;3===r.rank&&(a=!0,o=On(r,[1,r.shape[0],r.shape[1],r.shape[2]]));var i=n[0],u=n[1],s={images:o},c={alignCorners:e,size:n},l=Tt.runKernelFunc((function(t,n){return n([o]),t.resizeNearestNeighbor(o,i,u,e)}),s,null,"ResizeNearestNeighbor",c);return a?On(l,[l.shape[1],l.shape[2],l.shape[3]]):l}});var Su=qt({bandPart_:function(t,n,e){E(n%1==0,(function(){return"bandPart(): numLower must be an integer, got "+n+"."})),E(e%1==0,(function(){return"bandPart(): numUpper must be an integer, got "+e+"."}));var r=Lt(t,"a","bandPart");E(r.rank>=2,(function(){return"bandPart(): Rank must be at least 2, got "+r.rank+"."}));var o=r.shape,a=r.shape.slice(-2),i=a[0],u=a[1];if(!(n<=i))throw new Error("bandPart(): numLower ("+n+") must not be greater than the number of rows ("+i+").");if(!(e<=u))throw new Error("bandPart(): numUpper ("+e+") must not be greater than the number of columns ("+u+").");n<0&&(n=i),e<0&&(e=u);var s=On(Aa(0,i,1,"int32"),[-1,1]),c=Aa(0,u,1,"int32"),l=Mo(s,c),f=Co(wo(l,go(+n,"int32")),lo(l,go(-e,"int32"))),p=Ko([i,u],r.dtype);return On(ii(vi(On(r,[-1,i,u])).map((function(t){return jr(f,t,p)}))),o)}});var Eu=qt({gramSchmidt_:function(t){var n;if(Array.isArray(t)){n=!1,E(null!=t&&t.length>0,(function(){return"Gram-Schmidt process: input must not be null, undefined, or empty"}));for(var e=t[0].shape[0],r=function(n){E(t[n].shape[0]===e,(function(){return"Gram-Schmidt: Non-unique lengths found in the input vectors: ("+t[n].shape[0]+" vs. "+e+")"}))},o=1;o<t.length;++o)r(o)}else n=!0,t=ni(t,t.shape[0],0).map((function(t){return ai(t,[0])}));E(t.length<=t[0].shape[0],(function(){return"Gram-Schmidt: Number of vectors ("+t.length+") exceeds number of dimensions ("+t[0].shape[0]+")."}));var a=[],i=t,u=function(t){a.push(Tt.tidy((function(){var n=i[t];if(t>0)for(var e=0;e<t;++e){var r=Ae(_o(Ae(a[e],n)),a[e]);n=Mo(n,r)}return Fe(n,Ri(n,"euclidean"))})))};for(o=0;o<t.length;++o)u(o);return n?ii(a,0):a}});function Du(t,n){return void 0===n&&(n=!1),Tt.tidy((function(){E(2===t.shape.length,(function(){return"qr2d() requires a 2D Tensor, but got a "+t.shape.length+"D Tensor."}));for(var e=t.shape[0],r=t.shape[1],o=ro(e),a=Dn(t),i=li([[1]],[1,1]),u=Dn(i),s=e>=r?r:e,c=function(t){var n,s=a,c=u,l=o;n=Tt.tidy((function(){var n=dr(a,[t,t],[e-t,1]),s=Ri(n),c=dr(a,[t,t],[1,1]),l=jr(co(c,0),li([[-1]]),li([[1]])),f=Mo(c,Ae(l,s)),p=Fe(n,f);u=1===p.shape[0]?Dn(i):pr([i,dr(p,[1,0],[p.shape[0]-1,p.shape[1]])],0);var h=Io(Fe(Wn(l,f),s)),d=dr(a,[t,0],[e-t,r]),v=Ae(h,u),m=Un(u);if(0===t)a=Mo(d,Wn(v,Wn(m,d)));else{var g=Mo(d,Wn(v,Wn(m,d)));a=pr([dr(a,[0,0],[t,r]),g],0)}var y=Un(v),b=dr(o,[0,t],[e,o.shape[1]-t]);if(0===t)o=Mo(b,Wn(Wn(b,u),y));else{var w=Mo(b,Wn(Wn(b,u),y));o=pr([dr(o,[0,0],[e,t]),w],1)}return[u,a,o]})),u=n[0],a=n[1],o=n[2],Ee([s,c,l])},l=0;l<s;++l)c(l);return!n&&e>r&&(o=dr(o,[0,0],[e,r]),a=dr(a,[0,0],[r,r])),[o,a]}))}var Nu,Iu=qt({qr_:function(t,n){if(void 0===n&&(n=!1),E(t.rank>=2,(function(){return"qr() requires input tensor to have a rank >= 2, but got rank "+t.rank})),2===t.rank)return Du(t,n);var e=t.shape.slice(0,t.shape.length-2).reduce((function(t,n){return t*n})),r=vi(On(t,[e,t.shape[t.shape.length-2],t.shape[t.shape.length-1]]),0),o=[],a=[];return r.forEach((function(t){var e=Du(t,n),r=e[0],i=e[1];o.push(r),a.push(i)})),[On(ii(o,0),t.shape),On(ii(a,0),t.shape)]}});(Nu=t.Reduction||(t.Reduction={}))[Nu.NONE=0]="NONE",Nu[Nu.MEAN=1]="MEAN",Nu[Nu.SUM=2]="SUM",Nu[Nu.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS";var Fu=qt({computeWeightedLoss_:function(n,e,r){void 0===r&&(r=t.Reduction.SUM_BY_NONZERO_WEIGHTS);var o=Lt(n,"losses","computeWeightedLoss"),a=null;null!=e&&(a=Lt(e,"weights","computeWeightedLoss"));var i=null==a?o:Ae(o,a);if(r===t.Reduction.NONE)return i;if(r===t.Reduction.SUM)return _o(i);if(r===t.Reduction.MEAN){if(null==a)return Go(i);var u=o.size/a.size,s=Fe(_o(i),_o(a));return u>1?Fe(s,go(u)):s}if(r===t.Reduction.SUM_BY_NONZERO_WEIGHTS){if(null==a)return Fe(_o(i),go(o.size));var c=Ae(a,Uo(o.shape)),l=En(_o($o(c,go(0))),"float32");return Fe(_o(i),l)}throw Error("Unknown reduction: "+r)}});var Au=qt({absoluteDifference_:function(n,e,r,o){void 0===o&&(o=t.Reduction.SUM_BY_NONZERO_WEIGHTS);var a=Lt(n,"labels","absoluteDifference"),i=Lt(e,"predictions","absoluteDifference"),u=null;null!=r&&(u=Lt(r,"weights","absoluteDifference")),D(a.shape,i.shape,"Error in absoluteDifference: ");var s=Te(Mo(a,i));return Fu(s,u,o)}});var Tu=qt({cosineDistance_:function(n,e,r,o,a){void 0===a&&(a=t.Reduction.SUM_BY_NONZERO_WEIGHTS);var i=Lt(n,"labels","cosineDistance"),u=Lt(e,"predictions","cosineDistance"),s=null;null!=o&&(s=Lt(o,"weights","cosineDistance")),D(i.shape,u.shape,"Error in cosineDistance: ");var c=go(1),l=Mo(c,_o(Ae(i,u),r,!0));return Fu(l,s,a)}});var Mu=qt({hingeLoss_:function(n,e,r,o){void 0===o&&(o=t.Reduction.SUM_BY_NONZERO_WEIGHTS);var a=Lt(n,"labels","hingeLoss"),i=Lt(e,"predictions","hingeLoss"),u=null;null!=r&&(u=Lt(r,"weights","hingeLoss")),D(a.shape,i.shape,"Error in hingeLoss: ");var s=go(1);a=Mo(Ae(go(2),a),s);var c=Ma(Mo(s,Ae(a,i)));return Fu(c,u,o)}});var _u=qt({huberLoss_:function(n,e,r,o,a){void 0===o&&(o=1),void 0===a&&(a=t.Reduction.SUM_BY_NONZERO_WEIGHTS);var i=Lt(n,"labels","huberLoss"),u=Lt(e,"predictions","huberLoss"),s=null;null!=r&&(s=Lt(r,"weights","huberLoss")),D(i.shape,u.shape,"Error in huberLoss: ");var c=go(o),l=Te(Mo(u,i)),f=Ho(l,c),p=Mo(l,f),h=Ne(Ae(go(.5),Jo(f)),Ae(c,p));return Fu(h,s,a)}});var Bu=qt({logLoss_:function(n,e,r,o,a){void 0===o&&(o=1e-7),void 0===a&&(a=t.Reduction.SUM_BY_NONZERO_WEIGHTS);var i=Lt(n,"labels","logLoss"),u=Lt(e,"predictions","logLoss"),s=null;null!=r&&(s=Lt(r,"weights","logLoss")),D(i.shape,u.shape,"Error in logLoss: ");var c=go(1),l=go(o),f=Io(Ae(i,xo(Ne(u,l)))),p=Ae(Mo(c,i),xo(Ne(Mo(c,u),l))),h=Mo(f,p);return Fu(h,s,a)}});var Ru=qt({meanSquaredError_:function(n,e,r,o){void 0===o&&(o=t.Reduction.SUM_BY_NONZERO_WEIGHTS);var a=Lt(n,"labels","meanSquaredError"),i=Lt(e,"predictions","meanSquaredError"),u=null;null!=r&&(u=Lt(r,"weights","meanSquaredError")),D(a.shape,i.shape,"Error in meanSquaredError: ");var s=oi(a,i);return Fu(s,u,o)}});var Cu=qt({sigmoidCrossEntropy_:function(n,e,r,o,a){void 0===o&&(o=0),void 0===a&&(a=t.Reduction.SUM_BY_NONZERO_WEIGHTS);var i=Lt(n,"multiClassLabels","sigmoidCrossEntropy"),u=Lt(e,"logits","sigmoidCrossEntropy"),s=null;if(null!=r&&(s=Lt(r,"weights","sigmoidCrossEntropy")),D(i.shape,u.shape,"Error in sigmoidCrossEntropy: "),o>0){var c=go(o),l=go(1),f=go(.5);i=Ne(Ae(i,Mo(l,c)),Ae(f,c))}var p=function(t,n){var e=Lt(t,"labels","sigmoidCrossEntropyWithLogits"),r=Lt(n,"logits","sigmoidCrossEntropyWithLogits");D(e.shape,r.shape,"Error in sigmoidCrossEntropyWithLogits: ");var o=Ma(r),a=Ae(r,e),i=So(Qr(Io(Te(r))));return Ne(Mo(o,a),i)}(i,u);return Fu(p,s,a)}});var Pu=qt({softmaxCrossEntropy_:function(n,e,r,o,a){void 0===o&&(o=0),void 0===a&&(a=t.Reduction.SUM_BY_NONZERO_WEIGHTS);var i=Lt(n,"onehotLabels","softmaxCrossEntropy"),u=Lt(e,"logits","softmaxCrossEntropy"),s=null;if(null!=r&&(s=Lt(r,"weights","softmaxCrossEntropy")),D(i.shape,u.shape,"Error in softmaxCrossEntropy: "),o>0){var c=go(o),l=go(1),f=go(i.shape[1]);i=Ne(Ae(i,Mo(l,c)),Fe(c,f))}var p=function(t,n,e){if(void 0===e&&(e=-1),-1===e&&(e=n.rank-1),e!==n.rank-1)throw Error("Softmax cross entropy along a non-last dimension is not yet supported. Labels / logits was rank "+n.rank+" and dim was "+e);return Do((function(t,n,r){var o=Ro(n,[e],!0),a=Mo(En(n,"float32"),o);r([t,a]);var i=Io(Ae(a,t));return{value:_o(i,[e]),gradFunc:function(t,n){var r=n[0],o=n[1],a=Le(t.shape,[e]);return[Ae(On(t,a),Mo(En(r,"float32"),Qr(o))),Ae(On(t,a),Mo(Qr(o),En(r,"float32")))]}}}))(t,n)}(i,u);return Fu(p,s,a)}}),Lu={fft:Xa,ifft:$a,rfft:ei,irfft:Qa},zu={hammingWindow:$i,hannWindow:Qi,frame:tu,stft:nu},qu={flipLeftRight:ru,resizeNearestNeighbor:xu,resizeBilinear:ku,rotateWithOffset:ou,cropAndResize:eu,nonMaxSuppression:iu,nonMaxSuppressionAsync:mu,nonMaxSuppressionWithScore:gu,nonMaxSuppressionWithScoreAsync:yu,nonMaxSuppressionPadded:bu,nonMaxSuppressionPaddedAsync:wu},Ou={bandPart:Su,gramSchmidt:Eu,qr:Iu},Wu={absoluteDifference:Au,computeWeightedLoss:Fu,cosineDistance:Tu,hingeLoss:Mu,huberLoss:_u,logLoss:Bu,meanSquaredError:Ru,sigmoidCrossEntropy:Cu,softmaxCrossEntropy:Pu},Ku=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n.prototype.minimize=function(t,n,e){void 0===n&&(n=!1);var r=this.computeGradients(t,e),o=r.value,a=r.grads;if(null!=e){var i=e.map((function(t){return{name:t.name,tensor:a[t.name]}}));this.applyGradients(i)}else this.applyGradients(a);return Ee(a),n?o:(o.dispose(),null)},Object.defineProperty(n.prototype,"iterations",{get:function(){return null==this.iterations_&&(this.iterations_=0),this.iterations_},enumerable:!0,configurable:!0}),n.prototype.incrementIterations=function(){this.iterations_=this.iterations+1},n.prototype.computeGradients=function(t,n){return Eo(t,n)},n.prototype.dispose=function(){null!=this.iterations_&&Ee(this.iterations_)},n.prototype.saveIterations=function(){return r(this,void 0,void 0,(function(){return o(this,(function(t){return null==this.iterations_&&(this.iterations_=0),[2,{name:"iter",tensor:go(this.iterations_,"int32")}]}))}))},n.prototype.getWeights=function(){return r(this,void 0,void 0,(function(){return o(this,(function(t){throw new Error("getWeights() is not implemented for this optimizer yet.")}))}))},n.prototype.setWeights=function(t){return r(this,void 0,void 0,(function(){return o(this,(function(t){throw new Error("setWeights() is not implemented for this optimizer class "+this.getClassName())}))}))},n.prototype.extractIterations=function(t){return r(this,void 0,void 0,(function(){var n;return o(this,(function(e){switch(e.label){case 0:return n=this,[4,t[0].tensor.data()];case 1:return n.iterations_=e.sent()[0],[2,t.slice(1)]}}))}))},n}(de);Object.defineProperty(Ku,Symbol.hasInstance,{value:function(t){return null!=t.minimize&&null!=t.computeGradients&&null!=t.applyGradients}});var Uu=function(t){function n(n,e,r){void 0===r&&(r=null);var o=t.call(this)||this;return o.learningRate=n,o.rho=e,o.epsilon=r,o.accumulatedGrads=[],o.accumulatedUpdates=[],null==r&&(o.epsilon=Tt.backend.epsilon()),o}return e(n,t),n.prototype.applyGradients=function(t){var n=this;(Array.isArray(t)?t.map((function(t){return t.name})):Object.keys(t)).forEach((function(e,r){var o=Tt.registeredVariables[e];null==n.accumulatedGrads[r]&&(n.accumulatedGrads[r]={originalName:e+"/accum_grad",variable:Se((function(){return Jr(o).variable(!1)}))}),null==n.accumulatedUpdates[r]&&(n.accumulatedUpdates[r]={originalName:e+"/accum_var",variable:Se((function(){return Jr(o).variable(!1)}))});var a=Array.isArray(t)?t[r].tensor:t[e];if(null!=a){var i=n.accumulatedGrads[r].variable,u=n.accumulatedUpdates[r].variable;Se((function(){var t=Ne(Ae(i,n.rho),Ae(Jo(a),1-n.rho)),e=Ae(Fe(ri(Ne(u,n.epsilon)),ri(Ne(i,n.epsilon))),a),r=Ne(Ae(u,n.rho),Ae(Jo(e),1-n.rho));i.assign(t),u.assign(r);var s=Ne(Ae(e,-n.learningRate),o);o.assign(s)}))}})),this.incrementIterations()},n.prototype.dispose=function(){null!=this.accumulatedUpdates&&(Ee(this.accumulatedGrads.map((function(t){return t.variable}))),Ee(this.accumulatedUpdates.map((function(t){return t.variable}))))},n.prototype.getWeights=function(){return r(this,void 0,void 0,(function(){var t;return o(this,(function(n){switch(n.label){case 0:return t=this.accumulatedGrads.concat(this.accumulatedUpdates),[4,this.saveIterations()];case 1:return[2,[n.sent()].concat(t.map((function(t){return{name:t.originalName,tensor:t.variable}})))]}}))}))},n.prototype.setWeights=function(t){return r(this,void 0,void 0,(function(){var n;return o(this,(function(e){switch(e.label){case 0:return[4,this.extractIterations(t)];case 1:return t=e.sent(),n=t.length/2,!1,this.accumulatedGrads=t.slice(0,n).map((function(t){return{originalName:t.name,variable:t.tensor.variable(!1)}})),this.accumulatedUpdates=t.slice(n,2*n).map((function(t){return{originalName:t.name,variable:t.tensor.variable(!1)}})),[2]}}))}))},n.prototype.getConfig=function(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}},n.fromConfig=function(t,n){return new t(n.learningRate,n.rho,n.epsilon)},n.className="Adadelta",n}(Ku);me(Uu);var Gu=function(t){function n(n,e){void 0===e&&(e=.1);var r=t.call(this)||this;return r.learningRate=n,r.initialAccumulatorValue=e,r.accumulatedGrads=[],r}return e(n,t),n.prototype.applyGradients=function(t){var n=this;(Array.isArray(t)?t.map((function(t){return t.name})):Object.keys(t)).forEach((function(e,r){var o=Tt.registeredVariables[e];if(null==n.accumulatedGrads[r]){n.accumulatedGrads[r]={originalName:e+"/accumulator",variable:Se((function(){return oo(o.shape,n.initialAccumulatorValue).variable(!1)}))}}var a=Array.isArray(t)?t[r].tensor:t[e];if(null!=a){var i=n.accumulatedGrads[r].variable;Se((function(){var t=Ne(i,Jo(a));i.assign(t);var e=Ne(Ae(Fe(a,ri(Ne(t,Tt.backend.epsilon()))),-n.learningRate),o);o.assign(e)}))}})),this.incrementIterations()},n.prototype.dispose=function(){null!=this.accumulatedGrads&&Ee(this.accumulatedGrads.map((function(t){return t.variable})))},n.prototype.getWeights=function(){return r(this,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return[4,this.saveIterations()];case 1:return[2,[t.sent()].concat(this.accumulatedGrads.map((function(t){return{name:t.originalName,tensor:t.variable}})))]}}))}))},n.prototype.setWeights=function(t){return r(this,void 0,void 0,(function(){return o(this,(function(n){switch(n.label){case 0:return[4,this.extractIterations(t)];case 1:return t=n.sent(),!1,this.accumulatedGrads=t.map((function(t){return{originalName:t.name,variable:t.tensor.variable(!1)}})),[2]}}))}))},n.prototype.getConfig=function(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}},n.fromConfig=function(t,n){return new t(n.learningRate,n.initialAccumulatorValue)},n.className="Adagrad",n}(Ku);me(Gu);var Vu=function(t){function n(n,e,r,o){void 0===o&&(o=null);var a=t.call(this)||this;return a.learningRate=n,a.beta1=e,a.beta2=r,a.epsilon=o,a.accumulatedFirstMoment=[],a.accumulatedSecondMoment=[],Se((function(){a.accBeta1=go(e).variable(),a.accBeta2=go(r).variable()})),null==o&&(a.epsilon=Tt.backend.epsilon()),a}return e(n,t),n.prototype.applyGradients=function(t){var n=this,e=Array.isArray(t)?t.map((function(t){return t.name})):Object.keys(t);Se((function(){var r=Mo(1,n.accBeta1),o=Mo(1,n.accBeta2);e.forEach((function(e,a){var i=Tt.registeredVariables[e];null==n.accumulatedFirstMoment[a]&&(n.accumulatedFirstMoment[a]={originalName:e+"/m",variable:Se((function(){return Jr(i).variable(!1)}))}),null==n.accumulatedSecondMoment[a]&&(n.accumulatedSecondMoment[a]={originalName:e+"/v",variable:Se((function(){return Jr(i).variable(!1)}))});var u=Array.isArray(t)?t[a].tensor:t[e];if(null!=u){var s=n.accumulatedFirstMoment[a].variable,c=n.accumulatedSecondMoment[a].variable,l=Ne(Ae(s,n.beta1),Ae(u,1-n.beta1)),f=Ne(Ae(c,n.beta2),Ae(Jo(u),1-n.beta2)),p=Fe(l,r),h=Fe(f,o);s.assign(l),c.assign(f);var d=Ne(Ae(Fe(p,Ne(ri(h),n.epsilon)),-n.learningRate),i);i.assign(d)}})),n.accBeta1.assign(Ae(n.accBeta1,n.beta1)),n.accBeta2.assign(Ae(n.accBeta2,n.beta2))})),this.incrementIterations()},n.prototype.dispose=function(){this.accBeta1.dispose(),this.accBeta2.dispose(),null!=this.accumulatedFirstMoment&&Ee(this.accumulatedFirstMoment.map((function(t){return t.variable}))),null!=this.accumulatedSecondMoment&&Ee(this.accumulatedSecondMoment.map((function(t){return t.variable})))},n.prototype.getWeights=function(){return r(this,void 0,void 0,(function(){var t;return o(this,(function(n){switch(n.label){case 0:return t=this.accumulatedFirstMoment.concat(this.accumulatedSecondMoment),[4,this.saveIterations()];case 1:return[2,[n.sent()].concat(t.map((function(t){return{name:t.originalName,tensor:t.variable}})))]}}))}))},n.prototype.setWeights=function(t){return r(this,void 0,void 0,(function(){var n,e=this;return o(this,(function(r){switch(r.label){case 0:return[4,this.extractIterations(t)];case 1:return t=r.sent(),Se((function(){e.accBeta1.assign(ca(e.beta1,e.iterations_+1)),e.accBeta2.assign(ca(e.beta2,e.iterations_+1))})),n=t.length/2,!1,this.accumulatedFirstMoment=t.slice(0,n).map((function(t){return{originalName:t.name,variable:t.tensor.variable(!1)}})),this.accumulatedSecondMoment=t.slice(n,2*n).map((function(t){return{originalName:t.name,variable:t.tensor.variable(!1)}})),[2]}}))}))},n.prototype.getConfig=function(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}},n.fromConfig=function(t,n){return new t(n.learningRate,n.beta1,n.beta2,n.epsilon)},n.className="Adam",n}(Ku);me(Vu);var Hu=function(t){function n(n,e,r,o,a){void 0===o&&(o=null),void 0===a&&(a=0);var i=t.call(this)||this;return i.learningRate=n,i.beta1=e,i.beta2=r,i.epsilon=o,i.decay=a,i.accumulatedFirstMoment=[],i.accumulatedWeightedInfNorm=[],Se((function(){i.iteration=go(0).variable(),i.accBeta1=go(e).variable()})),null==o&&(i.epsilon=Tt.backend.epsilon()),i}return e(n,t),n.prototype.applyGradients=function(t){var n=this,e=Array.isArray(t)?t.map((function(t){return t.name})):Object.keys(t);Se((function(){var r=Mo(1,n.accBeta1),o=Fe(-n.learningRate,Ne(Ae(n.iteration,n.decay),1));e.forEach((function(e,a){var i=Tt.registeredVariables[e];null==n.accumulatedFirstMoment[a]&&(n.accumulatedFirstMoment[a]={originalName:e+"/m",variable:Jr(i).variable(!1)}),null==n.accumulatedWeightedInfNorm[a]&&(n.accumulatedWeightedInfNorm[a]={originalName:e+"/v",variable:Jr(i).variable(!1)});var u=Array.isArray(t)?t[a].tensor:t[e];if(null!=u){var s=n.accumulatedFirstMoment[a].variable,c=n.accumulatedWeightedInfNorm[a].variable,l=Ne(Ae(s,n.beta1),Ae(u,1-n.beta1)),f=Ae(c,n.beta2),p=Te(u),h=mo(f,p);s.assign(l),c.assign(h);var d=Ne(Ae(Fe(o,r),Fe(l,Ne(h,n.epsilon))),i);i.assign(d)}})),n.iteration.assign(Ne(n.iteration,1)),n.accBeta1.assign(Ae(n.accBeta1,n.beta1))})),this.incrementIterations()},n.prototype.dispose=function(){this.accBeta1.dispose(),this.iteration.dispose(),null!=this.accumulatedFirstMoment&&Ee(this.accumulatedFirstMoment.map((function(t){return t.variable}))),null!=this.accumulatedWeightedInfNorm&&Ee(this.accumulatedWeightedInfNorm.map((function(t){return t.variable})))},n.prototype.getWeights=function(){return r(this,void 0,void 0,(function(){return o(this,(function(t){throw new Error("getWeights() is not implemented for Adamax yet.")}))}))},n.prototype.setWeights=function(t){return r(this,void 0,void 0,(function(){return o(this,(function(t){throw new Error("setWeights() is not implemented for Adamax yet.")}))}))},n.prototype.getConfig=function(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}},n.fromConfig=function(t,n){return new t(n.learningRate,n.beta1,n.beta2,n.epsilon,n.decay)},n.className="Adamax",n}(Ku);me(Hu);var ju=function(t){function n(n){var e=t.call(this)||this;return e.learningRate=n,e.setLearningRate(n),e}return e(n,t),n.prototype.applyGradients=function(t){var n=this;(Array.isArray(t)?t.map((function(t){return t.name})):Object.keys(t)).forEach((function(e,r){var o=Array.isArray(t)?t[r].tensor:t[e];if(null!=o){var a=Tt.registeredVariables[e];Se((function(){var t=Ne(Ae(n.c,o),a);a.assign(t)}))}})),this.incrementIterations()},n.prototype.setLearningRate=function(t){this.learningRate=t,null!=this.c&&this.c.dispose(),this.c=De(go(-t))},n.prototype.dispose=function(){this.c.dispose()},n.prototype.getWeights=function(){return r(this,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return[4,this.saveIterations()];case 1:return[2,[t.sent()]]}}))}))},n.prototype.setWeights=function(t){return r(this,void 0,void 0,(function(){return o(this,(function(n){switch(n.label){case 0:return[4,this.extractIterations(t)];case 1:if(0!==(t=n.sent()).length)throw new Error("SGD optimizer does not have settable weights.");return[2]}}))}))},n.prototype.getConfig=function(){return{learningRate:this.learningRate}},n.fromConfig=function(t,n){return new t(n.learningRate)},n.className="SGD",n}(Ku);me(ju);var Ju=function(t){function n(n,e,r){void 0===r&&(r=!1);var o=t.call(this,n)||this;return o.learningRate=n,o.momentum=e,o.useNesterov=r,o.accumulations=[],o.m=go(o.momentum),o}return e(n,t),n.prototype.applyGradients=function(t){var n=this;(Array.isArray(t)?t.map((function(t){return t.name})):Object.keys(t)).forEach((function(e,r){var o=Tt.registeredVariables[e];if(null==n.accumulations[r]){n.accumulations[r]={originalName:e+"/momentum",variable:Se((function(){return Jr(o).variable(!1)}))}}var a=n.accumulations[r].variable,i=Array.isArray(t)?t[r].tensor:t[e];null!=i&&Se((function(){var t,e=Ne(Ae(n.m,a),i);t=n.useNesterov?Ne(Ae(n.c,Ne(i,Ae(e,n.m))),o):Ne(Ae(n.c,e),o),a.assign(e),o.assign(t)}))})),this.incrementIterations()},n.prototype.dispose=function(){this.m.dispose(),null!=this.accumulations&&Ee(this.accumulations.map((function(t){return t.variable})))},n.prototype.setMomentum=function(t){this.momentum=t},n.prototype.getWeights=function(){return r(this,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return[4,this.saveIterations()];case 1:return[2,[t.sent()].concat(this.accumulations.map((function(t){return{name:t.originalName,tensor:t.variable}})))]}}))}))},n.prototype.setWeights=function(t){return r(this,void 0,void 0,(function(){return o(this,(function(n){switch(n.label){case 0:return[4,this.extractIterations(t)];case 1:return t=n.sent(),!1,this.accumulations=t.map((function(t){return{originalName:t.name,variable:t.tensor.variable(!1)}})),[2]}}))}))},n.prototype.getConfig=function(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}},n.fromConfig=function(t,n){return new t(n.learningRate,n.momentum,n.useNesterov)},n.className="Momentum",n}(ju);me(Ju);var Yu=function(t){function n(n,e,r,o,a){void 0===e&&(e=.9),void 0===r&&(r=0),void 0===o&&(o=null),void 0===a&&(a=!1);var i=t.call(this)||this;if(i.learningRate=n,i.decay=e,i.momentum=r,i.epsilon=o,i.accumulatedMeanSquares=[],i.accumulatedMoments=[],i.accumulatedMeanGrads=[],i.centered=a,null==o&&(i.epsilon=Tt.backend.epsilon()),null==n)throw new Error("learningRate for RMSPropOptimizer must be defined.");return i}return e(n,t),n.prototype.applyGradients=function(t){var n=this;(Array.isArray(t)?t.map((function(t){return t.name})):Object.keys(t)).forEach((function(e,r){var o=Tt.registeredVariables[e];null==n.accumulatedMeanSquares[r]&&(n.accumulatedMeanSquares[r]={originalName:e+"/rms",variable:Se((function(){return Jr(o).variable(!1)}))}),null==n.accumulatedMoments[r]&&(n.accumulatedMoments[r]={originalName:e+"/momentum",variable:Se((function(){return Jr(o).variable(!1)}))}),null==n.accumulatedMeanGrads[r]&&n.centered&&(n.accumulatedMeanGrads[r]={originalName:e+"/mg",variable:Se((function(){return Jr(o).variable(!1)}))});var a=Array.isArray(t)?t[r].tensor:t[e];if(null!=a){var i=n.accumulatedMeanSquares[r].variable,u=n.accumulatedMoments[r].variable;Se((function(){var t=Ne(Ae(i,n.decay),Ae(Jo(a),1-n.decay));if(n.centered){var e=n.accumulatedMeanGrads[r].variable,s=Ne(Ae(e,n.decay),Ae(a,1-n.decay)),c=Fe(Ae(a,n.learningRate),ri(Mo(t,Ne(Jo(s),n.epsilon)))),l=Ne(Ae(u,n.momentum),c);i.assign(t),e.assign(s),u.assign(l);var f=Mo(o,l);o.assign(f)}else{var p=Ne(Ae(i,n.decay),Ae(Jo(a),1-n.decay));l=Ne(Ae(u,n.momentum),Fe(Ae(a,n.learningRate),ri(Ne(p,n.epsilon))));i.assign(p),u.assign(l);f=Mo(o,l);o.assign(f)}}))}})),this.incrementIterations()},n.prototype.dispose=function(){null!=this.accumulatedMeanSquares&&Ee(this.accumulatedMeanSquares.map((function(t){return t.variable}))),null!=this.accumulatedMeanGrads&&this.centered&&Ee(this.accumulatedMeanGrads.map((function(t){return t.variable}))),null!=this.accumulatedMoments&&Ee(this.accumulatedMoments.map((function(t){return t.variable})))},n.prototype.getWeights=function(){return r(this,void 0,void 0,(function(){var t;return o(this,(function(n){switch(n.label){case 0:return t=this.accumulatedMeanSquares.concat(this.accumulatedMoments),this.centered&&t.push.apply(t,this.accumulatedMeanGrads),[4,this.saveIterations()];case 1:return[2,[n.sent()].concat(t.map((function(t){return{name:t.originalName,tensor:t.variable}})))]}}))}))},n.prototype.setWeights=function(t){return r(this,void 0,void 0,(function(){var n;return o(this,(function(e){switch(e.label){case 0:return[4,this.extractIterations(t)];case 1:return t=e.sent(),n=this.centered?t.length/3:t.length/2,!1,this.accumulatedMeanSquares=t.slice(0,n).map((function(t){return{originalName:t.name,variable:t.tensor.variable(!1)}})),this.accumulatedMoments=t.slice(n,2*n).map((function(t){return{originalName:t.name,variable:t.tensor.variable(!1)}})),this.centered&&(this.accumulatedMeanGrads=t.slice(2*n,3*n).map((function(t){return{originalName:t.name,variable:t.tensor.variable(!1)}}))),[2]}}))}))},n.prototype.getConfig=function(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}},n.fromConfig=function(t,n){return new t(n.learningRate,n.decay,n.momentum,n.epsilon,n.centered)},n.className="RMSProp",n}(Ku);me(Yu);var Zu=function(){function t(){}return t.sgd=function(t){return new ju(t)},t.momentum=function(t,n,e){return void 0===e&&(e=!1),new Ju(t,n,e)},t.rmsprop=function(t,n,e,r,o){return void 0===n&&(n=.9),void 0===e&&(e=0),void 0===r&&(r=null),void 0===o&&(o=!1),new Yu(t,n,e,r,o)},t.adam=function(t,n,e,r){return void 0===t&&(t=.001),void 0===n&&(n=.9),void 0===e&&(e=.999),void 0===r&&(r=null),new Vu(t,n,e,r)},t.adadelta=function(t,n,e){return void 0===t&&(t=.001),void 0===n&&(n=.95),void 0===e&&(e=null),new Uu(t,n,e)},t.adamax=function(t,n,e,r,o){return void 0===t&&(t=.002),void 0===n&&(n=.9),void 0===e&&(e=.999),void 0===r&&(r=null),void 0===o&&(o=0),new Hu(t,n,e,r,o)},t.adagrad=function(t,n){return void 0===n&&(n=.1),new Gu(t,n)},t}(),Xu={sgd:Zu.sgd,momentum:Zu.momentum,adadelta:Zu.adadelta,adagrad:Zu.adagrad,rmsprop:Zu.rmsprop,adamax:Zu.adamax,adam:Zu.adam},$u="undefined"!=typeof requestAnimationFrame?requestAnimationFrame:"undefined"!=typeof setImmediate?setImmediate:function(t){return t()};var Qu={__proto__:null,slice_util:he,segment_util:uo,castTensor:function(t,n,e){if("complex64"===n){if("complex64"===t.dtype)return t.clone();var r=Ko(t.shape),o=En(t,"float32"),a=e.complex(o,r);return r.dispose(),o.dispose(),a}if(!q(t.dtype,n))return Tt.makeTensorFromDataId(t.dataId,t.shape,n);if("complex64"===t.dtype){var i=e.real(t);a=En(i,n);return i.dispose(),a}if("int32"===n)return e.int(t);if("bool"===n){var u=go(0,t.dtype);a=e.notEqual(t,u);return u.dispose(),a}throw new Error("Error in Cast: failed to cast "+t.dtype+" to "+n)},reshapeTensor:function(t,n){return Tt.makeTensorFromDataId(t.dataId,n,t.dtype)},linspaceImpl:function(t,n,e){var r=(n-t)/(e-1),o=Q(e,"float32");o[0]=t;for(var a=1;a<o.length;a++)o[a]=o[a-1]+r;return Fa(o,"float32")},upcastType:xt,axesAreInnerMostDims:Re,combineLocations:Ce,computeOutAndReduceShapes:Pe,expandShapeToKeepDim:Le,assertAxesAreInnerMostDims:function(t,n,e){E(Re(n,e),(function(){return t+" supports only inner-most axes for now. Got axes "+n+" and rank-"+e+" input."}))},getAxesPermutation:ze,getUndoAxesPermutation:qe,getInnerMostAxes:Oe,getBroadcastDims:function(t,n){for(var e=t.length,r=[],o=0;o<e;o++){var a=e-1-o,i=t[a]||1;(n[n.length-1-o]||1)>1&&1===i&&r.unshift(a)}return r},getReductionAxes:Gr,assertAndGetBroadcastShape:Vr,assertParamsConsistent:lr,computeOutShape:fr,computeDilation2DInfo:function(t,n,e,r,o,a){void 0===o&&(o="NHWC");var i=t[3];return $e(t,n.concat([i]),e,a,r,null,null,ur(o))},computePool2DInfo:Ze,computePool3DInfo:Xe,computeConv2DInfo:$e,computeConv3DInfo:Qe,computeDefaultPad:tr,tupleValuesAreOne:ar,eitherStridesOrDilationsAreOne:ir,convertConv2DDataFormat:ur,getFusedDyActivation:Gi,getFusedBiasGradient:Vi,applyActivation:Hi,shouldFuse:ji,PARALLELIZE_THRESHOLD:30,computeOptimalWindowSize:function(t){return t<=30?t:J(t,Math.floor(Math.sqrt(t)))},getImageCenter:function(t,n,e){return[e*("number"==typeof t?t:t[0]),n*("number"==typeof t?t:t[1])]},getReshaped:function(t,n,e,r){void 0===r&&(r=!0);var o=[];if(r)(o=o.concat(n.slice(0))).push(t[0]/e),o=o.concat(t.slice(1));else{o=o.concat(t[0]);for(var a=n.length,i=0;i<a;++i)o=o.concat([t[i+1]/n[i],n[i]]);o=o.concat(t.slice(a+1))}return o},getPermuted:function(t,n,e){void 0===e&&(e=!0);var r=[];if(e){r.push(n);for(var o=n+1;o<t;++o)o<=2*n?(r.push(o),r.push(o-(n+1))):r.push(o)}else{var a=[],i=[];for(o=1;o<t;++o)o>=2*n+1||o%2==1?i.push(o):a.push(o);r.push.apply(r,a),r.push(0),r.push.apply(r,i)}return r},getReshapedPermuted:function(t,n,e,r){void 0===r&&(r=!0);var o=[];r?o.push(t[0]/e):o.push(t[0]*e);for(var a=1;a<t.length;++a)a<=n.length?r?o.push(n[a-1]*t[a]):o.push(t[a]/n[a-1]):o.push(t[a]);return o},getSliceBeginCoords:function(t,n){for(var e=[0],r=0;r<n;++r)e.push(t[r][0]);return e},getSliceSize:function(t,n,e){for(var r=t.slice(0,1),o=0;o<e;++o)r.push(t[o+1]-n[o][0]-n[o][1]);return r},prepareAndValidate:Jn,validateUpdateShape:Zn,validateInput:Xn,calculateShapes:$n,SELU_SCALEALPHA:1.7580993408473768,SELU_SCALE:1.0507009873554805,ERF_P:.3275911,ERF_A1:.254829592,ERF_A2:-.284496736,ERF_A3:1.421413741,ERF_A4:-1.453152027,ERF_A5:1.061405429,warn:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];f().getBool("IS_TEST")||console.warn.apply(console,t)},log:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];f().getBool("IS_TEST")||console.log.apply(console,t)},mergeRealAndImagArrays:function(t,n){if(t.length!==n.length)throw new Error("Cannot merge real and imag arrays of different lengths. real:"+t.length+", imag: "+n.length+".");for(var e=new Float32Array(2*t.length),r=0;r<e.length;r+=2)e[r]=t[r/2],e[r+1]=n[r/2];return e},splitRealAndImagArrays:function(t){for(var n=new Float32Array(t.length/2),e=new Float32Array(t.length/2),r=0;r<t.length;r+=2)n[r/2]=t[r],e[r/2]=t[r+1];return{real:n,imag:e}},complexWithEvenIndex:function(t){for(var n=Math.ceil(t.length/4),e=new Float32Array(n),r=new Float32Array(n),o=0;o<t.length;o+=4)e[Math.floor(o/4)]=t[o],r[Math.floor(o/4)]=t[o+1];return{real:e,imag:r}},complexWithOddIndex:function(t){for(var n=Math.floor(t.length/4),e=new Float32Array(n),r=new Float32Array(n),o=2;o<t.length;o+=4)e[Math.floor(o/4)]=t[o],r[Math.floor(o/4)]=t[o+1];return{real:e,imag:r}},getComplexWithIndex:function(t,n){return{real:t[2*n],imag:t[2*n+1]}},assignToTypedArray:function(t,n,e,r){t[2*r]=n,t[2*r+1]=e},exponents:function(t,n){for(var e=new Float32Array(t/2),r=new Float32Array(t/2),o=0;o<Math.ceil(t/2);o++){var a=(n?2:-2)*Math.PI*(o/t);e[o]=Math.cos(a),r[o]=Math.sin(a)}return{real:e,imag:r}},exponent:function(t,n,e){var r=(e?2:-2)*Math.PI*(t/n);return{real:Math.cos(r),imag:Math.sin(r)}},prepareSplitSize:ti};var ts={__proto__:null,nonMaxSuppressionV3Impl:cu,nonMaxSuppressionV4Impl:lu,nonMaxSuppressionV5Impl:fu,split:function(t,n,e){var r=new Array(t.rank).fill(0),o=t.shape.slice();return n.map((function(n){var a=o.slice();a[e]=n;var i=dr(t,r,a);return r[e]+=n,i}))},tile:function(t,n){for(var e=new Array(t.rank),r=0;r<e.length;r++)e[r]=t.shape[r]*n[r];var o=Sn(e,t.dtype);for(r=0;r<o.values.length;++r){for(var a=o.indexToLoc(r),i=new Array(t.rank),u=0;u<i.length;u++)i[u]=a[u]%t.shape[u];var s=t.locToIndex(i);o.values[r]=t.values[s]}return o.toTensor()},topkImpl:function(t,n,e,r,o){for(var a=n[n.length-1],i=[t.length/a,a],u=i[0],s=i[1],c=C(e,u*r),l=C("int32",u*r),f=0;f<u;f++){for(var p=f*s,h=t.subarray(p,p+s),d=[],v=0;v<h.length;v++)d.push({value:h[v],index:v});d.sort((function(t,n){return n.value-t.value}));var m=f*r,g=c.subarray(m,m+r),y=l.subarray(m,m+r);for(v=0;v<r;v++)g[v]=d[v].value,y[v]=d[v].index}var b=n.slice();return b[b.length-1]=r,[Kt(c,b,e),Kt(l,b,"int32")]},whereImpl:mi},ns={kernelName:"Abs",inputsToSave:["x"],gradFunc:function(t,n){var e=n[0];return{x:function(){return Ae(t,ui(En(e,"float32"),-1))}}}},es={kernelName:"Acos",inputsToSave:["x"],gradFunc:function(t,n){var e=n[0];return{x:function(){var n=Jo(En(e,"float32")),r=ri(Mo(go(1),n));return Io(Fe(t,r))}}}},rs={kernelName:"Acosh",inputsToSave:["x"],gradFunc:function(t,n){var e=n[0];return{x:function(){var n=ri(Mo(Jo(En(e,"float32")),1));return Fe(t,n)}}}},os={kernelName:"Add",inputsToSave:["a","b"],gradFunc:function(t,n){var e=n[0],r=n[1],o=Vr(e.shape,r.shape);return{a:function(){var n=t,r=Gr(e.shape,o);return r.length>0&&(n=_o(n,r)),On(n,e.shape)},b:function(){var n=t,e=Gr(r.shape,o);return e.length>0&&(n=_o(n,e)),On(n,r.shape)}}}},as={kernelName:"AddN",saveAllInputs:!0,gradFunc:function(t,n){var e={};return n.forEach((function(n,r){e[r]=function(){return t.clone()}})),e}},is={kernelName:"ArgMax",inputsToSave:["x"],gradFunc:function(t,n){var e=n[0];return{x:function(){return Jr(e)}}}},us={kernelName:"ArgMin",inputsToSave:["x"],gradFunc:function(t,n){var e=n[0];return{x:function(){return Jr(e)}}}},ss={kernelName:"Asin",inputsToSave:["x"],gradFunc:function(t,n){var e=n[0];return{x:function(){return Fe(t,ri(Mo(go(1),Jo(En(e,"float32")))))}}}},cs={kernelName:"Asinh",inputsToSave:["x"],gradFunc:function(t,n){var e=n[0];return{x:function(){var n=ri(Ne(go(1),Jo(En(e,"float32"))));return Fe(t,n)}}}},ls={kernelName:"Atan2",inputsToSave:["a","b"],gradFunc:function(t,n){var e=n[0],r=n[1],o=Vr(e.shape,r.shape);return{a:function(){var n=Ne(Jo(e),Jo(r)),a=Ae(t,Fe(r,n)),i=Gr(e.shape,o);return i.length>0&&(a=_o(a,i)),On(a,e.shape)},b:function(){var n=Ne(Jo(e),Jo(r)),a=Io(Ae(t,Fe(e,n))),i=Gr(r.shape,o);return i.length>0&&(a=_o(a,i)),On(a,r.shape)}}}},fs={kernelName:"Atan",inputsToSave:["x"],gradFunc:function(t,n){var e=n[0];return{x:function(){return Fe(t,Ne(Jo(En(e,"float32")),1))}}}},ps={kernelName:"Atanh",inputsToSave:["x"],gradFunc:function(t,n){var e=n[0];return{x:function(){return Fe(t,Mo(go(1),Jo(En(e,"float32"))))}}}};var hs=qt({avgPool3dBackprop_:function(t,n,e,r,o,a,i){void 0===o&&(o=[1,1,1]);var u=Lt(t,"dy","avgPool3dBackprop"),s=Lt(n,"input","avgPool3dBackprop"),c=u,l=s,f=!1;4===s.rank&&(f=!0,c=On(u,[1,u.shape[0],u.shape[1],u.shape[2],u.shape[3]]),l=On(s,[1,s.shape[0],s.shape[1],s.shape[2],s.shape[3]])),E(5===c.rank,(function(){return"Error in avgPool3dBackprop: dy must be rank 5 but got rank "+c.rank+"."})),E(5===l.rank,(function(){return"Error in avgPool3dBackprop: input must be rank 5 but got rank "+l.rank+"."})),E(ir(r,o),(function(){return"Error in avgPool3dBackprop: Either strides or dilations must be 1. Got strides "+r+" and dilations '"+o+"'"})),null!=i&&E(T(a),(function(){return"Error in maxPool3dBackprop: pad must be an integer when using, dimRoundingMode "+i+" but got pad "+a+"."}));var p={dy:c,input:l},h={filterSize:e,strides:r,dilations:o,pad:a,dimRoundingMode:i},d=Tt.runKernelFunc((function(t){var n=Xe(l.shape,e,r,o,a,i);return t.avgPool3dBackprop(c,l,n)}),p,null,"AvgPool3DBackprop",h);return f?On(d,[d.shape[1],d.shape[2],d.shape[3],d.shape[4]]):d}}),ds={kernelName:"AvgPool3D",inputsToSave:["x"],gradFunc:function(t,n,e){var r=n[0],o=e,a=o.filterSize,i=o.strides,u=o.dilations,s=o.pad,c=o.dimRoundingMode,l=null==u?[1,1,1]:u;return{x:function(){return hs(t,r,a,i,l,s,c)}}}};var vs=qt({avgPoolBackprop_:function(t,n,e,r,o){var a=Lt(t,"dy","avgPoolBackprop"),i=Lt(n,"input","avgPoolBackprop");E(i.rank===a.rank,(function(){return"Rank of input ("+i.rank+") does not match rank of dy ("+a.rank+")"}));var u=i,s=a,c=!1;3===i.rank&&(c=!0,u=On(i,[1,i.shape[0],i.shape[1],i.shape[2]]),s=On(a,[1,a.shape[0],a.shape[1],a.shape[2]])),E(4===s.rank,(function(){return"Error in avgPoolBackprop: dy must be rank 4 but got rank "+s.rank+"."})),E(4===u.rank,(function(){return"Error in avgPoolBackprop: input must be rank 4 but got rank "+u.rank+"."}));var l={dy:s,input:u},f={filterSize:e,strides:r,pad:o},p=Tt.runKernelFunc((function(t){var n=Ze(u.shape,e,r,1,o);return t.avgPoolBackprop(s,u,n)}),l,null,"AvgPoolBackprop",f);return c?On(p,[p.shape[1],p.shape[2],p.shape[3]]):p}}),ms={kernelName:"AvgPool",inputsToSave:["x"],gradFunc:function(t,n,e){var r=n[0],o=e,a=o.filterSize,i=o.strides,u=o.pad;return{x:function(){return vs(t,r,a,i,u)}}}},gs={kernelName:"BatchMatMul",inputsToSave:["a","b"],gradFunc:function(t,n,e){var r=n,o=r[0],a=r[1],i=e,u=i.transposeA,s=i.transposeB;return u||s?!u&&s?{a:function(){return Wn(t,a,!1,!1)},b:function(){return Wn(t,o,!0,!1)}}:u&&!s?{a:function(){return Wn(a,t,!1,!0)},b:function(){return Wn(o,t,!1,!1)}}:{a:function(){return Wn(a,t,!0,!0)},b:function(){return Wn(t,o,!0,!0)}}:{a:function(){return Wn(t,a,!1,!0)},b:function(){return Wn(o,t,!0,!1)}}}},ys={kernelName:"BatchToSpaceND",gradFunc:function(t,n,e){var r=e,o=r.blockShape,a=r.crops;return{x:function(){return ua(t,o,a)}}}},bs={kernelName:"BroadcastTo",gradFunc:function(t,n,e){for(var r=e,o=r.inputShape,a=r.shape,i=Array.from(a),u=o.length-1;u>=0;u--)if(o[u]===a[u])i[u]=1;else if(1!==o[u])throw new Error("broadcastTo(): ["+o+"] cannot be broadcast to ["+a+"].");var s=[];for(u=0;u<i.length;u++)i[u]>1&&s.push(u);return{x:function(){return _o(t,s,!0)}}}},ws={kernelName:"Cast",gradFunc:function(t){return{x:function(){return t.clone()}}}},ks={kernelName:"Ceil",gradFunc:function(t){return{x:function(){return Jr(t)}}}},xs={kernelName:"ClipByValue",inputsToSave:["x"],gradFunc:function(t,n,e){var r=n[0],o=e,a=o.clipValueMin,i=o.clipValueMax;return{x:function(){return jr(Co(lo(r,a),wo(r,i)),t,Jr(t))}}}},Ss={kernelName:"Concat",saveAllInputs:!0,gradFunc:function(t,n,e){var r=n.map((function(t){return t.shape})),o=B(e.axis,n[0].shape)[0],a=r.map((function(t){return t[o]}));return ni(t,a,o).map((function(t){return function(){return t}}))}},Es={kernelName:"Conv2D",inputsToSave:["x","filter"],gradFunc:function(t,n,e){var r=n,o=r[0],a=r[1],i=e,u=i.dilations,s=i.strides,c=i.pad,l=i.dataFormat;return E(ar(u),(function(){return"Error in gradient of conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '"+u+"'"})),{x:function(){return _r(o.shape,t,a,s,c,l)},filter:function(){return Ui(o,t,a.shape,s,c,l)}}}},Ds={kernelName:"Conv2DBackpropInput",inputsToSave:["dy","filter"],gradFunc:function(t,n,e){var r=n,o=r[0],a=r[1],i=e,u=i.strides,s=i.pad,c=i.dataFormat,l=i.dimRoundingMode;return{dy:function(){return Tr(t,a,u,s,c,1,l)},filter:function(){return Ui(t,o,a.shape,u,s,c,l)}}}};var Ns=qt({conv3DBackpropFilter_:function(t,n,e,r,o){var a=t;4===t.rank&&(a=On(t,[1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]]));var i=n;4===i.rank&&(i=On(n,[1,n.shape[0],n.shape[1],n.shape[2],n.shape[3]])),E(5===a.rank,(function(){return"Error in conv3dDerFilter: input must be rank 5, but got shape "+a.shape+"."})),E(5===i.rank,(function(){return"Error in conv3dDerFilter: dy must be rank 5, but got shape "+i.shape+"."})),E(5===e.length,(function(){return"Error in conv3dDerFilter: filterShape must be length 5, but got "+e+"."})),E(a.shape[4]===e[3],(function(){return"Error in conv3dDerFilter: depth of input "+a.shape[4]+") must match input depth in filter ("+e[3]+"."})),E(i.shape[4]===e[4],(function(){return"Error in conv3dDerFilter: depth of dy ("+i.shape[4]+") must match output depth for filter ("+e[4]+")."}));var u={x:a,y:i},s={strides:r,pad:o};return Tt.runKernelFunc((function(t){var n=Qe(a.shape,e,r,1,o);return t.conv3dDerFilter(a,i,n)}),u,null,"Conv3DBackpropFilterV2",s)}}),Is={kernelName:"Conv3D",inputsToSave:["x","filter"],gradFunc:function(t,n,e){var r=e,o=r.dilations,a=r.strides,i=r.pad;E(ar(o),(function(){return"Error in gradient of conv3D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '"+o+"'"}));var u=n[0],s=n[1];return{x:function(){return Cr(u.shape,t,s,a,i)},filter:function(){return Ns(u,t,s.shape,a,i)}}}},Fs={kernelName:"Cos",inputsToSave:["x"],gradFunc:function(t,n){var e=n[0];return{x:function(){return Ae(Io(Ga(En(e,"float32"))),t)}}}},As={kernelName:"Cosh",inputsToSave:["x"],gradFunc:function(t,n){var e=n[0];return{x:function(){return Ae(Va(En(e,"float32")),t)}}}},Ts={kernelName:"Cumsum",inputsToSave:["x"],gradFunc:function(t,n,e){var r=n[0],o=e,a=o.axis,i=o.exclusive,u=o.reverse;return{x:function(){var n=ze([a],r.rank),e=qr(t,a,i,!u);return null!=n&&(e=Un(e,n)),e}}}},Ms={kernelName:"DepthwiseConv2dNative",inputsToSave:["x","filter"],gradFunc:function(t,n,e){var r=e,o=r.dilations,a=r.strides,i=r.pad,u=r.dimRoundingMode,s=null==o?[1,1]:o;E(ar(s),(function(){return"Error in gradient of depthwiseConv2dNative: dilation rates greater than 1 are not yet supported. Got dilations '"+s+"'"}));var c=n,l=c[0],f=c[1];E(4===l.rank,(function(){return"Error in gradient of depthwiseConv2dNative: input must be rank 4, but got rank "+l.rank+"."})),E(4===f.rank,(function(){return"Error in gradient of depthwiseConv2dNative: filter must be rank 4, but got rank "+f.rank+"."})),E(l.shape[3]===f.shape[2],(function(){return"Error in gradient of depthwiseConv2d: number of input channels ("+l.shape[3]+") must match the inChannels dimension in filter "+f.shape[2]+"."})),E(ir(a,s),(function(){return"Error in gradient of depthwiseConv2d: Either strides or dilations must be  1. Got strides "+a+" and dilations '"+s+"'."})),null!=u&&E(T(i),(function(){return"Error in depthwiseConv2d: pad must be an integer when using, dimRoundingMode "+u+" but got pad "+i+"."}));var p=$e(l.shape,f.shape,a,s,i,u,!0);return{x:function(){return Zi(l.shape,t,f,p)},filter:function(){return Yi(l,t,f.shape,p)}}}},_s={kernelName:"Dilation2D",inputsToSave:["x","filter"],gradFunc:function(t,n,e){var r=n,o=r[0],a=r[1],i={x:o,filter:a,dy:t},u={x:o,filter:a,dy:t};return{x:function(){return Tt.runKernel("Dilation2DBackpropInput",i,e)},filter:function(){return Tt.runKernel("Dilation2DBackpropFilter",u,e)}}}},Bs={kernelName:"Div",inputsToSave:["a","b"],gradFunc:function(t,n){var e=n[0],r=n[1],o=Vr(e.shape,r.shape);return{a:function(){var n=Fe(t,En(r,"float32")),a=Gr(e.shape,o);return a.length>0?On(_o(n,a),e.shape):n},b:function(){var n=Ae(t,En(e,"float32")),a=Gr(r.shape,o);a.length>0&&(n=On(_o(n,a),r.shape));var i=Jo(r);return Io(Fe(n,En(i,"float32")))}}}},Rs={kernelName:"Elu",outputsToSave:[!0],gradFunc:function(t,n){var e=n[0],r=function(n){return n.eluDer(t,e)},o={dy:t,y:e};return{x:function(){return Tt.runKernelFunc(r,o,null,"EluGrad")}}}},Cs={kernelName:"Erf",inputsToSave:["x"],gradFunc:function(t,n){var e=n[0],r=Ae(Qr(Io(Jo(e))),2/Math.sqrt(Math.PI));return{x:function(){return Ae(t,r)}}}},Ps={kernelName:"Exp",outputsToSave:[!0],gradFunc:function(t,n){var e=n[0];return{x:function(){return Ae(t,e)}}}},Ls={kernelName:"Expm1",inputsToSave:["x"],gradFunc:function(t,n){var e=n[0];return{x:function(){return Ae(t,Qr(e))}}}},zs={kernelName:"Floor",gradFunc:function(t){return{x:function(){return Jr(t)}}}},qs={kernelName:"FloorDiv",inputsToSave:["a","b"],gradFunc:function(t,n){var e=n[0],r=n[1],o=Vr(e.shape,r.shape);return{a:function(){var n=Fe(t,En(r,"float32")),a=Gr(e.shape,o);return a.length>0?On(_o(n,a),e.shape):n},b:function(){var n=Ae(t,En(e,"float32")),a=Gr(r.shape,o);a.length>0&&(n=On(_o(n,a),r.shape));var i=Jo(r);return Io(Fe(n,En(i,"float32")))}}}},Os={kernelName:"FusedBatchNorm",inputsToSave:["x","mean","variance","scale"],gradFunc:function(t,n,e){var r=e.varianceEpsilon,o=n[0],a=n[1],i=n[2],u=n[3],s=null==u?go(1):u,c=Gr(a.shape,o.shape),l=[];if(1===a.rank){for(var f=0;f<o.shape.length-1;++f)l.push(o.shape[f]);l.push(1)}var p=Mo(o,a),h=Ae(t,s),d=qa(Ne(i,go(r))),v=Ae(Ae(Ae(d,d),d),go(-.5));return{x:function(){return 1===a.rank?On(Ae(Ae(t,eo(On(d,[1,1,1,a.shape[0]]),l)),s),o.shape):On(Ae(Ae(t,d),s),o.shape)},mean:function(){var t=Ae(Ae(d,go(-1)),h);return 1===a.rank&&(t=_o(t,c)),On(t,a.shape)},variance:function(){var t=Ae(Ae(v,p),h);return 1===a.rank&&(t=_o(t,c)),On(t,a.shape)},scale:function(){var n=Ae(p,d),e=Ae(t,n);return 1===a.rank&&(e=_o(e,c)),On(e,a.shape)},offset:function(){var n=t;return 1===a.rank&&(n=_o(n,c)),On(n,a.shape)}}}},Ws={kernelName:"GatherV2",inputsToSave:["x","indices"],gradFunc:function(t,n,e){var r=n[0],o=n[1],a=e.axis,i=B(a,r.shape)[0];return{x:function(){var n=r.shape,e=o.size,u=n.slice(0,i),s=u.length,c=n.slice(a,n.length).slice(1),l=c.length,f=Ks(0,s),p=Ks(s+1,s+1+l),h=Us([u,[e],c]),d=On(t,h),v=On(o,[e]),m=Us([[s],f,p]),g=Un(d,m),y=di(g,v,r.shape[i]),b=qe(m);return y=Un(y,b)},indices:function(){return o}}}};function Ks(t,n){for(var e=[],r=t;r<n;++r)e.push(r);return e}function Us(t){for(var n=[],e=0;e<t.length;++e)for(var r=0;r<t[e].length;++r)n.push(t[e][r]);return n}var Gs={kernelName:"GreaterEqual",inputsToSave:["a","b"],gradFunc:function(t,n){var e=n[0],r=n[1];return{a:function(){return Jr(e)},b:function(){return Jr(r)}}}},Vs={kernelName:"Identity",gradFunc:function(t){return{x:function(){return En(t,"float32")}}}},Hs={kernelName:"IsFinite",gradFunc:function(t){return{x:function(){return Jr(t)}}}},js={kernelName:"IsInf",gradFunc:function(t){return{x:function(){return Jr(t)}}}},Js={kernelName:"IsNan",gradFunc:function(t){return{x:function(){return Jr(t)}}}},Ys={kernelName:"Log1p",inputsToSave:["x"],gradFunc:function(t,n){var e=n[0];return{x:function(){return Fe(t,Ne(e,1))}}}},Zs={kernelName:"Log",inputsToSave:["x"],gradFunc:function(t,n){var e=n[0];return{x:function(){return Fe(t,En(e,"float32"))}}}},Xs={kernelName:"LogSoftmax",inputsToSave:[],outputsToSave:[!0],gradFunc:function(t,n,e){var r=n[0],o=e.axis;return{logits:function(){var n=Qr(r);return Mo(t,Ae(_o(t,o,!0),n))}}}};var $s=qt({localResponseNormalizationBackprop_:function(t,n,e,r,o,a,i){void 0===r&&(r=5),void 0===o&&(o=1),void 0===a&&(a=1),void 0===i&&(i=.5);var u={x:t,y:n,dy:e},s={depthRadius:r,bias:o,alpha:a,beta:i};return Tt.runKernelFunc((function(u){return u.LRNGrad(e,t,n,r,o,a,i)}),u,null,"LRNBackprop",s)}}),Qs={kernelName:"LRN",inputsToSave:["x"],outputsToSave:[!0],gradFunc:function(t,n,e){var r=n,o=r[0],a=r[1],i=e,u=i.depthRadius,s=i.bias,c=i.alpha,l=i.beta;return{x:function(){return $s(o,a,t,u,s,c,l)}}}};function tc(t,n,e,r,o){return n.rank<e.rank&&(n=On(n,Le(n.shape,r))),t.rank<e.rank&&(t=On(t,Le(t.shape,r))),{x:function(){var r=Ae(t,En(Hr(e,n),t.dtype));return null==o?r:Un(r,o)}}}var nc={kernelName:"Max",inputsToSave:["x"],outputsToSave:[!0],gradFunc:function(t,n,e){var r=e.reductionIndices,o=n[0],a=n[1],i=B(r,o.shape),u=ze(i,o.rank),s=tc(t,a,o,i,u);return{x:function(){var t=s.x();return null!=u&&(t=Un(t)),t}}}},ec={kernelName:"Maximum",inputsToSave:["a","b"],gradFunc:function(t,n){var e=n[0],r=n[1];return{a:function(){return Ae(t,En(lo(e,r),"float32"))},b:function(){return Ae(t,En(bo(e,r),"float32"))}}}};var rc=qt({maxPool3dBackprop_:function(t,n,e,r,o,a,i,u){void 0===a&&(a=[1,1,1]);var s=Lt(t,"dy","maxPool3dBackprop"),c=Lt(n,"input","maxPool3dBackprop"),l=Lt(e,"output","maxPool3dBackprop"),f=s,p=c,h=l,d=!1;4===c.rank&&(d=!0,f=On(s,[1,s.shape[0],s.shape[1],s.shape[2],s.shape[3]]),p=On(c,[1,c.shape[0],c.shape[1],c.shape[2],c.shape[3]]),h=On(l,[1,l.shape[0],l.shape[1],l.shape[2],l.shape[3]])),E(5===f.rank,(function(){return"Error in maxPool3dBackprop: dy must be rank 5 but got rank "+f.rank+"."})),E(5===p.rank,(function(){return"Error in maxPool3dBackprop: input must be rank 5 but got rank "+p.rank+"."})),E(5===h.rank,(function(){return"Error in maxPool3dBackprop: output must be rank 5 but got rank "+h.rank+"."})),E(ir(o,a),(function(){return"Error in maxPool3dBackprop: Either strides or dilations must be 1. Got strides "+o+" and dilations '"+a+"'"})),null!=u&&E(T(i),(function(){return"Error in maxPool3dBackprop: pad must be an integer when using, dimRoundingMode "+u+" but got pad "+i+"."}));var v={dy:f,input:p,output:h},m={filterSize:r,strides:o,dilations:a,pad:i,dimRoundingMode:u},g=Tt.runKernelFunc((function(t){var n=Xe(p.shape,r,o,a,i,u);return t.maxPool3dBackprop(f,p,h,n)}),v,null,"MaxPool3DBackprop",m);return d?On(g,[g.shape[1],g.shape[2],g.shape[3],g.shape[4]]):g}}),oc={kernelName:"MaxPool3D",inputsToSave:["x"],outputsToSave:[!0],gradFunc:function(t,n,e){var r=n,o=r[0],a=r[1],i=e,u=i.filterSize,s=i.strides,c=i.dilations,l=i.pad,f=i.dimRoundingMode,p=null==c?[1,1,1]:c;return{x:function(){return rc(t,o,a,u,s,p,l,f)}}}};var ac=qt({maxPoolBackprop_:function(t,n,e,r,o,a,i){var u=Lt(t,"dy","maxPoolBackprop"),s=Lt(n,"input","maxPoolBackprop"),c=Lt(e,"output","maxPoolBackprop");E(s.rank===u.rank,(function(){return"Rank of input ("+s.rank+") does not match rank of dy ("+u.rank+")"})),E(4===u.rank,(function(){return"Error in maxPoolBackprop: dy must be rank 4 but got rank "+u.rank+"."})),E(4===s.rank,(function(){return"Error in maxPoolBackprop: input must be rank 4 but got rank "+s.rank+"."})),null!=i&&E(T(a),(function(){return"Error in maxPoolBackprop: pad must be an integer when using, dimRoundingMode "+i+" but got pad "+a+"."}));var l={dy:u,input:s,output:c},f={filterSize:r,strides:o,pad:a,dimRoundingMode:i};return Tt.runKernelFunc((function(t){var n=Ze(s.shape,r,o,1,a,i);return t.maxPoolBackprop(u,s,c,n)}),l,null,"MaxPoolBackprop",f)}}),ic={kernelName:"PadV2",inputsToSave:["x"],gradFunc:function(t,n,e){var r=n[0],o=e.paddings.map((function(t){return t[0]}));return{x:function(){return dr(t,o,r.shape)}}}},uc={kernelName:"SpaceToBatchND",gradFunc:function(t,n,e){var r=e,o=r.blockShape,a=r.paddings;return{x:function(){return gr(t,o,a)}}}},sc={kernelName:"SplitV",gradFunc:function(t,n,e){var r=e.axis;return{x:function(){return pr(t,r)}}}};for(var cc=0,lc=[ns,es,rs,os,as,is,us,ss,cs,ls,fs,ps,ds,ms,gs,ys,bs,ws,ks,xs,Ss,Ds,Es,Is,Fs,As,Ts,Ms,_s,Bs,Rs,Cs,Ps,Ls,qs,zs,Os,Ws,Gs,Vs,Hs,js,Js,Ys,Zs,Xs,Qs,nc,nc,ec,oc,{kernelName:"MaxPool",inputsToSave:["x"],outputsToSave:[!0],gradFunc:function(t,n,e){var r=n,o=r[0],a=r[1],i=e,u=i.filterSize,s=i.strides,c=i.pad;return{x:function(){return ac(t,o,a,u,s,c)}}}},{kernelName:"Min",inputsToSave:["x"],outputsToSave:[!0],gradFunc:function(t,n,e){var r=e.axis,o=n[0],a=n[1],i=B(r,o.shape),u=ze(i,o.rank),s=tc(t,a,o,i,u);return{x:function(){var t=s.x();return null!=u&&(t=Un(t)),t}}}},{kernelName:"Minimum",inputsToSave:["a","b"],gradFunc:function(t,n){var e=n[0],r=n[1];return{a:function(){return Ae(t,En(wo(e,r),"float32"))},b:function(){return Ae(t,En(co(e,r),"float32"))}}}},{kernelName:"Mod",inputsToSave:["a","b"],gradFunc:function(t,n){var e=n[0],r=n[1],o=Vr(e.shape,r.shape);return{a:function(){var n=Gr(e.shape,o);return n.length>0?On(_o(t,n),e.shape):t},b:function(){var n=Ae(t,Io(ao(Fe(e,r)))),a=Gr(r.shape,o);return a.length>0?On(_o(n,a),r.shape):n}}}},{kernelName:"Multiply",inputsToSave:["a","b"],gradFunc:function(t,n){var e=n[0],r=n[1],o=Vr(e.shape,r.shape);return{a:function(){var n=Ae(t,En(r,"float32")),a=Gr(e.shape,o);return a.length>0?On(_o(n,a),e.shape):n},b:function(){var n=Ae(t,En(e,"float32")),a=Gr(r.shape,o);return a.length>0?On(_o(n,a),r.shape):n}}}},{kernelName:"Negate",gradFunc:function(t){return{x:function(){return Io(t)}}}},{kernelName:"OneHot",inputsToSave:["indices"],gradFunc:function(t,n){var e=n[0];return{indices:function(){return Ko(e.shape,"float32")}}}},{kernelName:"OnesLike",gradFunc:function(t){return{x:function(){return Jr(t)}}}},ic,ic,{kernelName:"Pow",inputsToSave:["a","b"],outputsToSave:[!0],gradFunc:function(t,n){var e=n[0],r=n[1],o=n[2],a=e,i=r,u=Vr(a.shape,i.shape);return{a:function(){var n=En(i,"float32"),e=Ae(t,Ae(n,ca(a,Mo(n,go(1))))),r=Gr(a.shape,u);return r.length>0&&(e=_o(e,r)),On(e,a.shape)},b:function(){var n=co(a,0),e=jr(n,xo(a),Jr(a)),r=Ae(t,Ae(o,e)),s=Gr(i.shape,u);return s.length>0&&(r=_o(r,s)),On(r,i.shape)}}}},{kernelName:"Prelu",inputsToSave:["x","alpha"],gradFunc:function(t,n){var e=n[0],r=n[1],o=co(e,0);return{x:function(){return jr(o,t,Ae(t,r))},alpha:function(){var n=jr(o,Jr(t),Ae(t,e)),a=Gr(r.shape,t.shape);return a.length>0&&(n=_o(n,a)),On(n,r.shape)}}}},{kernelName:"Reciprocal",inputsToSave:["x"],gradFunc:function(t,n){var e=n[0];return{x:function(){return Fe(t,Io(Jo(e)))}}}},{kernelName:"Relu6",inputsToSave:["x"],gradFunc:function(t,n){var e=n[0],r=Ae(wo(e,6),ui(e));return{x:function(){return Ae(t,En(r,"float32"))}}}},{kernelName:"Relu",inputsToSave:["x"],gradFunc:function(t,n){var e=n[0];return{x:function(){return Ae(t,En(ui(e),"float32"))}}}},{kernelName:"Reshape",inputsToSave:["x"],gradFunc:function(t,n){var e=n[0];return{x:function(){return On(t,e.shape)}}}},{kernelName:"ResizeBilinear",inputsToSave:["images"],gradFunc:function(t,n,e){var r=n[0],o=function(n){var o=e.alignCorners;return n.resizeBilinearBackprop(t,r,o)},a={images:r};return{images:function(){return Tt.runKernelFunc(o,a,null,"ResizeBilinearGrad",e)}}}},{kernelName:"ResizeNearestNeighbor",inputsToSave:["images"],gradFunc:function(t,n,e){var r=n[0],o=function(n){var o=e.alignCorners;return n.resizeNearestNeighborBackprop(t,r,o)},a={images:r};return{images:function(){return Tt.runKernelFunc(o,a,null,"ResizeNearestNeighborGrad",e)}}}},{kernelName:"Reverse",gradFunc:function(t,n,e){var r=B(e.dims,t.shape);return{x:function(){return Ba(t,r)}}}},{kernelName:"Round",gradFunc:function(t){return{x:function(){return Jr(t)}}}},{kernelName:"Rsqrt",inputsToSave:["x"],gradFunc:function(t,n){var e=n[0];return{x:function(){return Io(Fe(t,Ae(ca(e,1.5),2)))}}}},{kernelName:"SelectV2",inputsToSave:["condition"],gradFunc:function(t,n){var e=n[0];return{condition:function(){return En(Jr(e),"float32")},t:function(){return Ae(t,En(e,t.dtype))},e:function(){return Ae(t,En(Po(e),t.dtype))}}}},{kernelName:"Selu",inputsToSave:["x"],gradFunc:function(t,n){var e=n[0];return{x:function(){var n=co(e,go(0)),r=go(1.7580993408473768),o=go(1.0507009873554805),a=Ae(t,o),i=Ae(Ae(t,r),Qr(En(e,"float32")));return jr(n,a,i)}}}},{kernelName:"Sigmoid",outputsToSave:[!0],gradFunc:function(t,n){var e=n[0];return{x:function(){return Ae(t,Ae(e,Mo(go(1),e)))}}}},{kernelName:"Sign",gradFunc:function(t){return{x:function(){return Jr(t)}}}},{kernelName:"Sin",inputsToSave:["x"],gradFunc:function(t,n){var e=n[0];return{x:function(){return Ae(Lr(En(e,"float32")),t)}}}},{kernelName:"Sinh",inputsToSave:["x"],gradFunc:function(t,n){var e=n[0];return{x:function(){return Ae(zr(En(e,"float32")),t)}}}},{kernelName:"Slice",inputsToSave:["x"],gradFunc:function(t,n,e){for(var r=n[0],o=e,a=o.begin,i=o.size,u=r.shape,s=pe(r,a,i),c=s[0],l=s[1],f=[],p=0;p<t.rank;p++)f.push([c[p],u[p]-c[p]-l[p]]);return{x:function(){return ea(t,f)}}}},{kernelName:"Softmax",outputsToSave:[!0],gradFunc:function(t,n,e){var r=n[0],o=e.dim,a=Ae(t,r);return{logits:function(){return Mo(a,Ae(_o(a,[o],!0),r))}}}},{kernelName:"Softplus",inputsToSave:["x"],gradFunc:function(t,n){var e=n[0];return{x:function(){return Ae(t,hr(e))}}}},uc,uc,sc,sc,{kernelName:"Sqrt",inputsToSave:["x"],gradFunc:function(t,n){var e=n[0];return{x:function(){return Fe(t,Ae(ri(En(e,"float32")),2))}}}},{kernelName:"SquaredDifference",inputsToSave:["a","b"],gradFunc:function(t,n){var e=n[0],r=n[1],o=go(2);return{a:function(){return Ae(t,Ae(o,Mo(e,r)))},b:function(){return Ae(t,Ae(o,Mo(r,e)))}}}},{kernelName:"Square",inputsToSave:["x"],gradFunc:function(t,n){var e=n[0];return{x:function(){return Ae(t,Ae(En(e,"float32"),2))}}}},{kernelName:"Step",gradFunc:function(t){return{x:function(){return Jr(t)}}}},{kernelName:"Sub",inputsToSave:["a","b"],gradFunc:function(t,n){var e=n[0],r=n[1],o=Vr(e.shape,r.shape);return{a:function(){var n=t,r=Gr(e.shape,o);return r.length>0&&(n=_o(n,r)),On(n,e.shape)},b:function(){var n=t,e=Gr(r.shape,o);return e.length>0&&(n=_o(n,e)),On(Io(n),r.shape)}}}},{kernelName:"Sum",inputsToSave:["x"],gradFunc:function(t,n,e){var r=n[0],o=r.shape.slice();B(e.axis,r.shape).forEach((function(t){o[t]=1}));var a=On(t,o),i=Ae(a,Uo(r.shape,"float32"));return{x:function(){return i}}}},{kernelName:"Tan",inputsToSave:["x"],gradFunc:function(t,n){var e=n[0];return{x:function(){return Fe(t,Jo(Lr(e)))}}}},{kernelName:"Tanh",outputsToSave:[!0],gradFunc:function(t,n){var e=n[0];return{x:function(){return Ae(Mo(go(1),Jo(e)),t)}}}},{kernelName:"Tile",inputsToSave:["x"],gradFunc:function(t,n,e){var r=n[0],o=e.reps;return{x:function(){var n=Jr(r);if(1===r.rank)for(var e=0;e<o[0];++e)n=Ne(n,dr(t,[e*r.shape[0]],[r.shape[0]]));else if(2===r.rank)for(e=0;e<o[0];++e)for(var a=0;a<o[1];++a)n=Ne(n,dr(t,[e*r.shape[0],a*r.shape[1]],[r.shape[0],r.shape[1]]));else if(3===r.rank)for(e=0;e<o[0];++e)for(a=0;a<o[1];++a)for(var i=0;i<o[2];++i)n=Ne(n,dr(t,[e*r.shape[0],a*r.shape[1],i*r.shape[2]],[r.shape[0],r.shape[1],r.shape[2]]));else{if(4!==r.rank)throw new Error("Gradient for tile operation is not implemented for rank-"+r.rank+" tensors yet.");for(e=0;e<o[0];++e)for(a=0;a<o[1];++a)for(i=0;i<o[2];++i)for(var u=0;u<o[3];++u)n=Ne(n,dr(t,[e*r.shape[0],a*r.shape[1],i*r.shape[2],u*r.shape[3]],[r.shape[0],r.shape[1],r.shape[2],r.shape[3]]))}return n}}}},{kernelName:"Transpose",gradFunc:function(t,n,e){var r=qe(e.perm);return{x:function(){return Un(t,r)}}}},{kernelName:"Unpack",gradFunc:function(t,n,e){var r=e.axis;return{value:function(){return ii(t,r)}}}},{kernelName:"UnsortedSegmentSum",inputsToSave:["segmentIds"],gradFunc:function(t,n){var e=n[0];return{x:function(){return function(t,n){for(var e=mo(n,Jr(n)),r=so(t,e),o=lo(n,go(0,"int32")),a=r.rank-o.rank,i=0;i<a;++i)o=to(o,i+1);o=Co(o,Uo(r.shape,"bool"));var u=Jr(r);return jr(o,r,u)}(t,e)}}}},{kernelName:"ZerosLike",gradFunc:function(t){return{x:function(){return Jr(t)}}}}];cc<lc.length;cc++){w(lc[cc])}dt.prototype.abs=function(){return this.throwIfDisposed(),Te(this)},dt.prototype.acos=function(){return this.throwIfDisposed(),Me(this)},dt.prototype.acosh=function(){return this.throwIfDisposed(),_e(this)},dt.prototype.addStrict=function(t){return this.throwIfDisposed(),Di(this,t)},dt.prototype.add=function(t){return this.throwIfDisposed(),Ne(this,t)},dt.prototype.all=function(t,n){return this.throwIfDisposed(),We(this,t,n)},dt.prototype.any=function(t,n){return this.throwIfDisposed(),Ke(this,t,n)},dt.prototype.argMax=function(t){return this.throwIfDisposed(),Ue(this,t)},dt.prototype.argMin=function(t){return this.throwIfDisposed(),Ge(this,t)},dt.prototype.asScalar=function(){return this.throwIfDisposed(),E(1===this.size,(function(){return"The array must have only 1 element."})),On(this,[])},dt.prototype.asType=function(t){return this.throwIfDisposed(),En(this,t)},dt.prototype.as1D=function(){return this.throwIfDisposed(),On(this,[this.size])},dt.prototype.as2D=function(t,n){return this.throwIfDisposed(),On(this,[t,n])},dt.prototype.as3D=function(t,n,e){return this.throwIfDisposed(),On(this,[t,n,e])},dt.prototype.as4D=function(t,n,e,r){return this.throwIfDisposed(),On(this,[t,n,e,r])},dt.prototype.as5D=function(t,n,e,r,o){return this.throwIfDisposed(),On(this,[t,n,e,r,o])},dt.prototype.asin=function(){return this.throwIfDisposed(),Ve(this)},dt.prototype.asinh=function(){return this.throwIfDisposed(),He(this)},dt.prototype.atan=function(){return this.throwIfDisposed(),je(this)},dt.prototype.atan2=function(t){return this.throwIfDisposed(),Je(this,t)},dt.prototype.atanh=function(){return this.throwIfDisposed(),Ye(this)},dt.prototype.avgPool=function(t,n,e,r){return this.throwIfDisposed(),sr(this,t,n,e,r)},dt.prototype.batchToSpaceND=function(t,n){return this.throwIfDisposed(),gr(this,t,n)},dt.prototype.batchNorm=function(t,n,e,r,o){return this.throwIfDisposed(),br(this,t,n,e,r,o)},dt.prototype.broadcastTo=function(t){return this.throwIfDisposed(),Sr(this,t)},dt.prototype.cast=function(t){return this.throwIfDisposed(),En(this,t)},dt.prototype.ceil=function(){return this.throwIfDisposed(),Er(this)},dt.prototype.clipByValue=function(t,n){return this.throwIfDisposed(),Dr(this,t,n)},dt.prototype.concat=function(t,n){return this.throwIfDisposed(),t instanceof dt&&(t=[t]),pr([this].concat(t),n)},dt.prototype.conv1d=function(t,n,e,r,o,a){return this.throwIfDisposed(),Mr(this,t,n,e,r,o,a)},dt.prototype.conv2dTranspose=function(t,n,e,r,o){return this.throwIfDisposed(),Br(this,t,n,e,r,o)},dt.prototype.conv2d=function(t,n,e,r,o,a){return this.throwIfDisposed(),Tr(this,t,n,e,r,o,a)},dt.prototype.cos=function(){return this.throwIfDisposed(),Lr(this)},dt.prototype.cosh=function(){return this.throwIfDisposed(),zr(this)},dt.prototype.cumsum=function(t,n,e){return this.throwIfDisposed(),qr(this,t,n,e)},dt.prototype.depthToSpace=function(t,n){return this.throwIfDisposed(),Or(this,t,n)},dt.prototype.depthwiseConv2D=function(t,n,e,r,o,a){return xe("depthwiseConv2D is deprecated, use depthwiseConv2d instead"),this.throwIfDisposed(),Wr(this,t,n,e,r,o,a)},dt.prototype.depthwiseConv2d=function(t,n,e,r,o,a){return this.throwIfDisposed(),Wr(this,t,n,e,r,o,a)},dt.prototype.dilation2d=function(t,n,e,r,o){return this.throwIfDisposed(),Ur(this,t,n,e,r,o)},dt.prototype.divNoNan=function(t){return this.throwIfDisposed(),Yr(this,t)},dt.prototype.divStrict=function(t){return this.throwIfDisposed(),Ni(this,t)},dt.prototype.div=function(t){return this.throwIfDisposed(),Fe(this,t)},dt.prototype.dot=function(t){return this.throwIfDisposed(),Zr(this,t)},dt.prototype.elu=function(){return this.throwIfDisposed(),Xr(this)},dt.prototype.equalStrict=function(t){return this.throwIfDisposed(),bi(this,t)},dt.prototype.equal=function(t){return this.throwIfDisposed(),Hr(this,t)},dt.prototype.erf=function(){return this.throwIfDisposed(),$r(this)},dt.prototype.exp=function(){return this.throwIfDisposed(),Qr(this)},dt.prototype.expandDims=function(t){return this.throwIfDisposed(),to(this,t)},dt.prototype.expm1=function(){return this.throwIfDisposed(),no(this)},dt.prototype.fft=function(){return this.throwIfDisposed(),Xa(this)},dt.prototype.flatten=function(){return this.throwIfDisposed(),On(this,[this.size])},dt.prototype.floor=function(){return this.throwIfDisposed(),ao(this)},dt.prototype.floorDiv=function(t){return this.throwIfDisposed(),Ie(this,t)},dt.prototype.gather=function(t,n){return this.throwIfDisposed(),so(this,t,n)},dt.prototype.greaterEqualStrict=function(t){return this.throwIfDisposed(),wi(this,t)},dt.prototype.greaterEqual=function(t){return this.throwIfDisposed(),lo(this,t)},dt.prototype.greaterStrict=function(t){return this.throwIfDisposed(),ki(this,t)},dt.prototype.greater=function(t){return this.throwIfDisposed(),co(this,t)},dt.prototype.ifft=function(){return this.throwIfDisposed(),$a(this)},dt.prototype.irfft=function(){return this.throwIfDisposed(),Qa(this)},dt.prototype.isFinite=function(){return this.throwIfDisposed(),po(this)},dt.prototype.isInf=function(){return this.throwIfDisposed(),ho(this)},dt.prototype.isNaN=function(){return this.throwIfDisposed(),vo(this)},dt.prototype.leakyRelu=function(t){return this.throwIfDisposed(),yo(this,t)},dt.prototype.lessEqualStrict=function(t){return this.throwIfDisposed(),xi(this,t)},dt.prototype.lessEqual=function(t){return this.throwIfDisposed(),wo(this,t)},dt.prototype.lessStrict=function(t){return this.throwIfDisposed(),Si(this,t)},dt.prototype.less=function(t){return this.throwIfDisposed(),bo(this,t)},dt.prototype.localResponseNormalization=function(t,n,e,r){return this.throwIfDisposed(),ko(this,t,n,e,r)},dt.prototype.logSigmoid=function(){return this.throwIfDisposed(),Ao(this)},dt.prototype.logSoftmax=function(t){return this.throwIfDisposed(),Bo(this,t)},dt.prototype.logSumExp=function(t,n){return this.throwIfDisposed(),Ro(this,t,n)},dt.prototype.log=function(){return this.throwIfDisposed(),xo(this)},dt.prototype.log1p=function(){return this.throwIfDisposed(),So(this)},dt.prototype.logicalAnd=function(t){return this.throwIfDisposed(),Co(this,t)},dt.prototype.logicalNot=function(){return this.throwIfDisposed(),Po(this)},dt.prototype.logicalOr=function(t){return this.throwIfDisposed(),Lo(this,t)},dt.prototype.logicalXor=function(t){return this.throwIfDisposed(),zo(this,t)},dt.prototype.matMul=function(t,n,e){return this.throwIfDisposed(),Wn(this,t,n,e)},dt.prototype.maxPool=function(t,n,e,r){return this.throwIfDisposed(),qo(this,t,n,e,r)},dt.prototype.max=function(t,n){return this.throwIfDisposed(),To(this,t,n)},dt.prototype.maximumStrict=function(t){return this.throwIfDisposed(),Ii(this,t)},dt.prototype.maximum=function(t){return this.throwIfDisposed(),mo(this,t)},dt.prototype.mean=function(t,n){return this.throwIfDisposed(),Go(this,t,n)},dt.prototype.min=function(t,n){return this.throwIfDisposed(),Vo(this,t,n)},dt.prototype.minimumStrict=function(t){return this.throwIfDisposed(),Fi(this,t)},dt.prototype.minimum=function(t){return this.throwIfDisposed(),Ho(this,t)},dt.prototype.modStrict=function(t){return this.throwIfDisposed(),Ai(this,t)},dt.prototype.mod=function(t){return this.throwIfDisposed(),jo(this,t)},dt.prototype.mulStrict=function(t){return this.throwIfDisposed(),Ti(this,t)},dt.prototype.mul=function(t){return this.throwIfDisposed(),Ae(this,t)},dt.prototype.neg=function(){return this.throwIfDisposed(),Io(this)},dt.prototype.norm=function(t,n,e){return this.throwIfDisposed(),Ri(this,t,n,e)},dt.prototype.notEqualStrict=function(t){return this.throwIfDisposed(),Ei(this,t)},dt.prototype.notEqual=function(t){return this.throwIfDisposed(),$o(this,t)},dt.prototype.oneHot=function(t,n,e){return void 0===n&&(n=1),void 0===e&&(e=0),this.throwIfDisposed(),Kn(this,t,n,e)},dt.prototype.onesLike=function(){return this.throwIfDisposed(),ta(this)},dt.prototype.pad=function(t,n){return this.throwIfDisposed(),ea(this,t,n)},dt.prototype.pool=function(t,n,e,r,o){return this.throwIfDisposed(),sa(this,t,n,e,r,o)},dt.prototype.powStrict=function(t){return this.throwIfDisposed(),Mi(this,t)},dt.prototype.pow=function(t){return this.throwIfDisposed(),ca(this,t)},dt.prototype.prelu=function(t){return this.throwIfDisposed(),la(this,t)},dt.prototype.prod=function(t,n){return this.throwIfDisposed(),fa(this,t,n)},dt.prototype.reciprocal=function(){return this.throwIfDisposed(),Ta(this)},dt.prototype.relu=function(){return this.throwIfDisposed(),Ma(this)},dt.prototype.relu6=function(){return this.throwIfDisposed(),_a(this)},dt.prototype.reshapeAs=function(t){return this.throwIfDisposed(),On(this,t.shape)},dt.prototype.reshape=function(t){return this.throwIfDisposed(),On(this,t)},dt.prototype.resizeBilinear=function(t,n){return this.throwIfDisposed(),ku(this,t,n)},dt.prototype.resizeNearestNeighbor=function(t,n){return this.throwIfDisposed(),xu(this,t,n)},dt.prototype.reverse=function(t){return this.throwIfDisposed(),Ba(this,t)},dt.prototype.rfft=function(){return this.throwIfDisposed(),ei(this)},dt.prototype.round=function(){return this.throwIfDisposed(),za(this)},dt.prototype.rsqrt=function(){return this.throwIfDisposed(),qa(this)},dt.prototype.selu=function(){return this.throwIfDisposed(),Oa(this)},dt.prototype.separableConv2d=function(t,n,e,r,o,a){return this.throwIfDisposed(),Wa(this,t,n,e,r,o,a)},dt.prototype.sigmoid=function(){return this.throwIfDisposed(),hr(this)},dt.prototype.sign=function(){return this.throwIfDisposed(),Ua(this)},dt.prototype.sin=function(){return this.throwIfDisposed(),Ga(this)},dt.prototype.sinh=function(){return this.throwIfDisposed(),Va(this)},dt.prototype.slice=function(t,n){return this.throwIfDisposed(),dr(this,t,n)},dt.prototype.softmax=function(t){return this.throwIfDisposed(),Za(this,t)},dt.prototype.softplus=function(){return this.throwIfDisposed(),Fo(this)},dt.prototype.spaceToBatchND=function(t,n){return this.throwIfDisposed(),ua(this,t,n)},dt.prototype.split=function(t,n){return this.throwIfDisposed(),ni(this,t,n)},dt.prototype.sqrt=function(){return this.throwIfDisposed(),ri(this)},dt.prototype.square=function(){return this.throwIfDisposed(),Jo(this)},dt.prototype.squaredDifference=function(t){return this.throwIfDisposed(),oi(this,t)},dt.prototype.squaredDifferenceStrict=function(t){return this.throwIfDisposed(),_i(this,t)},dt.prototype.squeeze=function(t){return this.throwIfDisposed(),ai(this,t)},dt.prototype.stack=function(t,n){this.throwIfDisposed();var e=t instanceof dt?[this,t]:[this].concat(t);return ii(e,n)},dt.prototype.step=function(t){return this.throwIfDisposed(),ui(this,t)},dt.prototype.stridedSlice=function(t,n,e,r,o,a,i,u){return this.throwIfDisposed(),si(this,t,n,e,r,o,a,i,u)},dt.prototype.subStrict=function(t){return this.throwIfDisposed(),Bi(this,t)},dt.prototype.sub=function(t){return this.throwIfDisposed(),Mo(this,t)},dt.prototype.sum=function(t,n){return this.throwIfDisposed(),_o(this,t,n)},dt.prototype.tan=function(){return this.throwIfDisposed(),ci(this)},dt.prototype.tanh=function(){return this.throwIfDisposed(),vr(this)},dt.prototype.tile=function(t){return this.throwIfDisposed(),eo(this,t)},dt.prototype.toBool=function(){return this.throwIfDisposed(),En(this,"bool")},dt.prototype.toFloat=function(){return this.throwIfDisposed(),En(this,"float32")},dt.prototype.toInt=function(){return this.throwIfDisposed(),En(this,"int32")},dt.prototype.topk=function(t,n){return this.throwIfDisposed(),fi(this,t,n)},dt.prototype.transpose=function(t){return this.throwIfDisposed(),Un(this,t)},dt.prototype.unique=function(t){return this.throwIfDisposed(),hi(this,t)},dt.prototype.unsortedSegmentSum=function(t,n){return this.throwIfDisposed(),di(this,t,n)},dt.prototype.unstack=function(t){return this.throwIfDisposed(),vi(this,t)},dt.prototype.where=function(t,n){return this.throwIfDisposed(),jr(t,this,n)},dt.prototype.zerosLike=function(){return this.throwIfDisposed(),Jr(this)},t.Abs="Abs",t.Acos="Acos",t.Acosh="Acosh",t.AdadeltaOptimizer=Uu,t.AdagradOptimizer=Gu,t.AdamOptimizer=Vu,t.AdamaxOptimizer=Hu,t.Add="Add",t.AddN="AddN",t.All="All",t.Any="Any",t.ArgMax="ArgMax",t.ArgMin="ArgMin",t.Asin="Asin",t.Asinh="Asinh",t.Atan="Atan",t.Atan2="Atan2",t.Atanh="Atanh",t.AvgPool="AvgPool",t.AvgPool3D="AvgPool3D",t.AvgPool3DBackprop="AvgPool3DBackprop",t.AvgPoolBackprop="AvgPoolBackprop",t.BatchMatMul="BatchMatMul",t.BatchToSpaceND="BatchToSpaceND",t.BroadcastTo="BroadcastTo",t.Cast="Cast",t.Ceil="Ceil",t.ClipByValue="ClipByValue",t.Complex="Complex",t.Concat="Concat",t.Conv2D="Conv2D",t.Conv2DBackpropFilter="Conv2DBackpropFilter",t.Conv2DBackpropInput="Conv2DBackpropInput",t.Conv3D="Conv3D",t.Conv3DBackpropFilterV2="Conv3DBackpropFilterV2",t.Conv3DBackpropInputV2="Conv3DBackpropInputV2",t.Cos="Cos",t.Cosh="Cosh",t.CropAndResize="CropAndResize",t.Cumsum="Cumsum",t.DataStorage=a,t.DepthToSpace="DepthToSpace",t.DepthwiseConv2dNative="DepthwiseConv2dNative",t.DepthwiseConv2dNativeBackpropFilter="DepthwiseConv2dNativeBackpropFilter",t.DepthwiseConv2dNativeBackpropInput="DepthwiseConv2dNativeBackpropInput",t.Diag="Diag",t.Dilation2D="Dilation2D",t.Dilation2DBackpropFilter="Dilation2DBackpropFilter",t.Dilation2DBackpropInput="Dilation2DBackpropInput",t.Div="Div",t.Elu="Elu",t.EluGrad="EluGrad",t.Environment=c,t.Equal="Equal",t.Erf="Erf",t.Exp="Exp",t.Expm1="Expm1",t.FFT="FFT",t.Fill="Fill",t.FlipLeftRight="FlipLeftRight",t.Floor="Floor",t.FloorDiv="FloorDiv",t.FromPixels="FromPixels",t.FusedBatchNorm="FusedBatchNorm",t.FusedConv2D="FusedConv2D",t.FusedDepthwiseConv2D="FusedDepthwiseConv2D",t.GatherNd="GatherNd",t.GatherV2="GatherV2",t.Greater="Greater",t.GreaterEqual="GreaterEqual",t.IFFT="IFFT",t.Identity="Identity",t.Imag="Imag",t.IsFinite="IsFinite",t.IsInf="IsInf",t.IsNan="IsNan",t.KernelBackend=i,t.LRN="LRN",t.LRNBackprop="LRNBackprop",t.Less="Less",t.LessEqual="LessEqual",t.LinSpace="LinSpace",t.Log="Log",t.Log1p="Log1p",t.LogSoftmax="LogSoftmax",t.LogicalAnd="LogicalAnd",t.LogicalNot="LogicalNot",t.LogicalOr="LogicalOr",t.Max="Max",t.MaxPool="MaxPool",t.MaxPool3D="MaxPool3D",t.MaxPool3DBackprop="MaxPool3DBackprop",t.MaxPoolBackprop="MaxPoolBackprop",t.MaxPoolWithArgmax="MaxPoolWithArgmax",t.Maximum="Maximum",t.Mean="Mean",t.Min="Min",t.Minimum="Minimum",t.Mod="Mod",t.MomentumOptimizer=Ju,t.Multiply="Multiply",t.Negate="Negate",t.NonMaxSuppressionV3="NonMaxSuppressionV3",t.NonMaxSuppressionV4="NonMaxSuppressionV4",t.NonMaxSuppressionV5="NonMaxSuppressionV5",t.NotEqual="NotEqual",t.OP_SCOPE_SUFFIX="__op",t.OneHot="OneHot",t.OnesLike="OnesLike",t.Optimizer=Ku,t.PadV2="PadV2",t.Pool="Pool",t.Pow="Pow",t.Prelu="Prelu",t.Prod="Prod",t.RMSPropOptimizer=Yu,t.Range="Range",t.Real="Real",t.Reciprocal="Reciprocal",t.Relu="Relu",t.Relu6="Relu6",t.Reshape="Reshape",t.ResizeBilinear="ResizeBilinear",t.ResizeBilinearGrad="ResizeBilinearGrad",t.ResizeNearestNeighbor="ResizeNearestNeighbor",t.ResizeNearestNeighborGrad="ResizeNearestNeighborGrad",t.Reverse="Reverse",t.RotateWithOffset="RotateWithOffset",t.Round="Round",t.Rsqrt="Rsqrt",t.SGDOptimizer=ju,t.ScatterNd="ScatterNd",t.SelectV2="SelectV2",t.Selu="Selu",t.Sigmoid="Sigmoid",t.Sign="Sign",t.Sin="Sin",t.Sinh="Sinh",t.Slice="Slice",t.Softmax="Softmax",t.Softplus="Softplus",t.SpaceToBatchND="SpaceToBatchND",t.SparseToDense="SparseToDense",t.SplitV="SplitV",t.Sqrt="Sqrt",t.Square="Square",t.SquaredDifference="SquaredDifference",t.Step="Step",t.StridedSlice="StridedSlice",t.Sub="Sub",t.Sum="Sum",t.Tan="Tan",t.Tanh="Tanh",t.Tensor=dt,t.TensorBuffer=ft,t.Tile="Tile",t.TopK="TopK",t.Transpose="Transpose",t.Unique="Unique",t.Unpack="Unpack",t.UnsortedSegmentSum="UnsortedSegmentSum",t.Variable=wt,t.ZerosLike="ZerosLike",t._FusedMatMul="_FusedMatMul",t.abs=Te,t.acos=Me,t.acosh=_e,t.add=Ne,t.addN=Be,t.addStrict=Di,t.all=We,t.any=Ke,t.argMax=Ue,t.argMin=Ge,t.asin=Ve,t.asinh=He,t.atan=je,t.atan2=Je,t.atanh=Ye,t.avgPool=sr,t.avgPool3d=cr,t.backend=function(){return Tt.backend},t.backend_util=Qu,t.basicLSTMCell=mr,t.batchNorm=br,t.batchNorm2d=wr,t.batchNorm3d=kr,t.batchNorm4d=xr,t.batchToSpaceND=gr,t.booleanMaskAsync=yi,t.broadcastTo=Sr,t.browser=jn,t.buffer=Sn,t.cast=En,t.ceil=Er,t.clipByValue=Dr,t.clone=Dn,t.complex=Ot,t.concat=pr,t.concat1d=Nr,t.concat2d=Ir,t.concat3d=Fr,t.concat4d=Ar,t.conv1d=Mr,t.conv2d=Tr,t.conv2dTranspose=Br,t.conv3d=Rr,t.conv3dTranspose=Pr,t.copyRegisteredKernels=function(t,n){y(t).forEach((function(t){b(Object.assign({},t,{backendName:n}))}))},t.cos=Lr,t.cosh=zr,t.cosineWindow=Wi,t.cumsum=qr,t.customGrad=Do,t.deprecationWarn=xe,t.depthToSpace=Or,t.depthwiseConv2d=Wr,t.device_util=Bt,t.diag=Kr,t.dilation2d=Ur,t.disableDeprecationWarnings=function(){f().set("DEPRECATION_WARNINGS_ENABLED",!1),console.warn("TensorFlow.js deprecation warnings have been disabled.")},t.dispose=Ee,t.disposeVariables=function(){Tt.disposeVariables()},t.div=Fe,t.divNoNan=Yr,t.divStrict=Ni,t.dot=Zr,t.dropout=qi,t.elu=Xr,t.enableDebugMode=function(){f().set("DEBUG",!0)},t.enableProdMode=function(){f().set("PROD",!0)},t.enclosingPowerOfTwo=Oi,t.engine=function(){return Tt},t.env=f,t.equal=Hr,t.equalStrict=bi,t.erf=$r,t.exp=Qr,t.expandDims=to,t.expm1=no,t.eye=ro,t.fft=Xa,t.fill=oo,t.findBackend=function(t){return Tt.findBackend(t)},t.findBackendFactory=function(t){return Tt.findBackendFactory(t)},t.floor=ao,t.floorDiv=Ie,t.fused=Xi,t.gather=so,t.gatherND=zi,t.gather_util=Yn,t.getBackend=function(){return Tt.backendName},t.getGradient=g,t.getKernel=m,t.getKernelsForBackend=y,t.grad=function(t){return E(j(t),(function(){return"The f passed in grad(f) must be a function"})),function(n,e){var r=Lt(n,"x","tf.grad",null),o=null!=e?Lt(e,"dy","tf.grad"):null;return Tt.tidy((function(){var n=Tt.gradients((function(){return t(r)}),[r],o),e=n.value,a=n.grads;return null!=o&&D(e.shape,o.shape,"The shape of dy passed in grad(f)(x, dy) must match the shape returned by f(x)"),No(a),a[0]}))}},t.grads=function(t){return E(j(t),(function(){return"The f passed in grads(f) must be a function"})),function(n,e){E(Array.isArray(n),(function(){return"The args passed in grads(f)(args) must be an array of `Tensor`s or `TensorLike`s"}));var r=zt(n,"args","tf.grads",null),o=null!=e?Lt(e,"dy","tf.grads"):null;return Tt.tidy((function(){var n=Tt.gradients((function(){return t.apply(void 0,r)}),r,o),e=n.value,a=n.grads;return null!=o&&D(e.shape,o.shape,"The shape of dy passed in grads(f)([x1,...], dy) must match the shape returned by f([x1,...])"),No(a),a}))}},t.greater=co,t.greaterEqual=lo,t.greaterEqualStrict=wi,t.greaterStrict=ki,t.ifft=$a,t.imag=fo,t.image=qu,t.inTopKAsync=Ki,t.io=qn,t.irfft=Qa,t.isFinite=po,t.isInf=ho,t.isNaN=vo,t.keep=De,t.kernel_impls=ts,t.leakyRelu=yo,t.less=bo,t.lessEqual=wo,t.lessEqualStrict=xi,t.lessStrict=Si,t.linalg=Ou,t.linspace=function(t,n,e){if(e<=0)throw new Error("The number of values should be positive.");var r={start:t,stop:n,num:e};return Tt.runKernelFunc((function(r){return r.linspace(t,n,e)}),{},null,"LinSpace",r)},t.localResponseNormalization=ko,t.log=xo,t.log1p=So,t.logSigmoid=Ao,t.logSoftmax=Bo,t.logSumExp=Ro,t.logicalAnd=Co,t.logicalNot=Po,t.logicalOr=Lo,t.logicalXor=zo,t.losses=Wu,t.matMul=Wn,t.math=Vn,t.max=To,t.maxPool=qo,t.maxPool3d=Oo,t.maxPoolWithArgmax=Wo,t.maximum=mo,t.maximumStrict=Ii,t.mean=Go,t.memory=function(){return Tt.memory()},t.min=Vo,t.minimum=Ho,t.minimumStrict=Fi,t.mod=jo,t.modStrict=Ai,t.moments=Yo,t.movingAverage=Ci,t.mul=Ae,t.mulStrict=Ti,t.multiRNNCell=Zo,t.multinomial=Xo,t.neg=Io,t.nextFrame=function(){return new Promise((function(t){return $u((function(){return t()}))}))},t.norm=Ri,t.notEqual=$o,t.notEqualStrict=Ei,t.oneHot=Kn,t.ones=Uo,t.onesLike=ta,t.op=qt,t.outerProduct=na,t.pad=ea,t.pad1d=ra,t.pad2d=oa,t.pad3d=aa,t.pad4d=ia,t.pool=sa,t.pow=ca,t.powStrict=Mi,t.prelu=la,t.print=Nn,t.prod=fa,t.profile=function(t){return Tt.profile(t)},t.rand=pa,t.randomGamma=Da,t.randomNormal=Na,t.randomUniform=Ia,t.range=Aa,t.ready=function(){return Tt.ready()},t.real=Qo,t.reciprocal=Ta,t.registerBackend=function(t,n,e){return void 0===e&&(e=1),Tt.registerBackend(t,n,e)},t.registerGradient=w,t.registerKernel=b,t.relu=Ma,t.relu6=_a,t.removeBackend=function(t){Tt.removeBackend(t)},t.reshape=On,t.reverse=Ba,t.reverse1d=Ra,t.reverse2d=Ca,t.reverse3d=Pa,t.reverse4d=La,t.rfft=ei,t.round=za,t.rsqrt=qa,t.scalar=go,t.scatterND=Pi,t.scatter_util=Qn,t.selu=Oa,t.separableConv2d=Wa,t.serialization=ge,t.setBackend=function(t){return Tt.setBackend(t)},t.setPlatform=function(t,n){f().setPlatform(t,n)},t.setdiff1dAsync=Ka,t.sigmoid=hr,t.sign=Ua,t.signal=zu,t.sin=Ga,t.sinh=Va,t.slice=dr,t.slice1d=Ha,t.slice2d=ja,t.slice3d=Ja,t.slice4d=Ya,t.slice_util=he,t.softmax=Za,t.softplus=Fo,t.spaceToBatchND=ua,t.sparseToDense=Li,t.spectral=Lu,t.split=ni,t.sqrt=ri,t.square=Jo,t.squaredDifference=oi,t.squaredDifferenceStrict=_i,t.squeeze=ai,t.stack=ii,t.step=ui,t.stridedSlice=si,t.sub=Mo,t.subStrict=Bi,t.sum=_o,t.sumOutType=function(t){return xt(t,"int32")},t.tan=ci,t.tanh=vr,t.tensor=Kt,t.tensor1d=Fa,t.tensor2d=li,t.tensor3d=Hn,t.tensor4d=function(t,n,e){if(N(t),null!=n&&4!==n.length)throw new Error("tensor4d() requires shape to have four numbers");var r=Ct(t,e);if(4!==r.length&&1!==r.length)throw new Error("tensor4d() requires values to be number[][][][] or flat/TypedArray");if(1===r.length&&null==n)throw new Error("tensor4d() requires shape to be provided when `values` are a flat array");return Wt(t,n,r,e)},t.tensor5d=function(t,n,e){if(N(t),null!=n&&5!==n.length)throw new Error("tensor5d() requires shape to have five numbers");var r=Ct(t,e);if(5!==r.length&&1!==r.length)throw new Error("tensor5d() requires values to be number[][][][][] or flat/TypedArray");if(1===r.length&&null==n)throw new Error("tensor5d() requires shape to be provided when `values` are a flat array");return Wt(t,n,r,e)},t.tensor6d=function(t,n,e){if(N(t),null!=n&&6!==n.length)throw new Error("tensor6d() requires shape to have six numbers");var r=Ct(t,e);if(6!==r.length&&1!==r.length)throw new Error("tensor6d() requires values to be number[][][][][][] or flat/TypedArray");if(1===r.length&&null==n)throw new Error("tensor6d() requires shape to be provided when `values` are a flat array");return Wt(t,n=n||r,r,e)},t.tensor_util=Nt,t.test_util=ke,t.tidy=Se,t.tile=eo,t.time=function(t){return Tt.time(t)},t.topk=fi,t.train=Xu,t.transpose=Un,t.truncatedNormal=pi,t.unique=hi,t.unregisterGradient=function(t){if(!v.has(t))throw new Error("The gradient '"+t+"' for backend is not registered");v.delete(t)},t.unregisterKernel=function(t,n){var e=k(t,n);if(!d.has(e))throw new Error("The kernel '"+t+"' for backend '"+n+"' is not registered");d.delete(e)},t.unsortedSegmentSum=di,t.unstack=vi,t.upcastType=xt,t.util=ot,t.valueAndGrad=function(t){return E(j(t),(function(){return"The f passed in valueAndGrad(f) must be a function"})),function(n,e){E(n instanceof dt,(function(){return"The x passed in valueAndGrad(f)(x) must be a tensor"})),E(null==e||e instanceof dt,(function(){return"The dy passed in valueAndGrad(f)(x, dy) must be a tensor"}));var r=Tt.gradients((function(){return t(n)}),[n],e),o=r.grads,a=r.value;return No(o),{grad:o[0],value:a}}},t.valueAndGrads=function(t){return E(j(t),(function(){return"The f passed in valueAndGrads(f) must be a function"})),function(n,e){E(Array.isArray(n)&&n.every((function(t){return t instanceof dt})),(function(){return"The args passed in valueAndGrads(f)(args) must be array of tensors"})),E(null==e||e instanceof dt,(function(){return"The dy passed in valueAndGrads(f)(args, dy) must be a tensor"}));var r=Tt.gradients((function(){return t.apply(void 0,n)}),n,e);return null!=e&&D(r.value.shape,e.shape,"The shape of dy passed in valueAndGrads(f)([x1,...], dy) must match the shape returned by f([x1,...])"),No(r.grads),r}},t.variable=function(t,n,e,r){return void 0===n&&(n=!0),Tt.makeVariable(t,n,e,r)},t.variableGrads=Eo,t.version_core="2.6.0",t.where=jr,t.whereAsync=gi,t.zeros=Ko,t.zerosLike=Jr,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGYtY29yZS5taW4uanMiLCJzb3VyY2VzIjpbIi4uL3NyYy9iYWNrZW5kcy9iYWNrZW5kLnRzIiwiLi4vc3JjL2Vudmlyb25tZW50LnRzIiwiLi4vc3JjL2dsb2JhbF91dGlsLnRzIiwiLi4vc3JjL2tlcm5lbF9yZWdpc3RyeS50cyIsIi4uL3NyYy91dGlsLnRzIiwiLi4vc3JjL3Byb2ZpbGVyLnRzIiwiLi4vc3JjL3RlbnNvcl9mb3JtYXQudHMiLCIuLi9zcmMvdGVuc29yLnRzIiwiLi4vc3JjL3R5cGVzLnRzIiwiLi4vc3JjL3RlbnNvcl91dGlsLnRzIiwiLi4vc3JjL2VuZ2luZS50cyIsIi4uL3NyYy9rZXJuZWxfbmFtZXMudHMiLCIuLi9zcmMvdGFwZS50cyIsIi4uL3NyYy9kZXZpY2VfdXRpbC50cyIsIi4uL3NyYy9mbGFncy50cyIsIi4uL3NyYy90ZW5zb3JfdXRpbF9lbnYudHMiLCIuLi9zcmMvb3BzL29wZXJhdGlvbi50cyIsIi4uL3NyYy9vcHMvY29tcGxleC50cyIsIi4uL3NyYy9vcHMvdGVuc29yX29wc191dGlsLnRzIiwiLi4vc3JjL29wcy90ZW5zb3IudHMiLCIuLi9zcmMvaW8vdHlwZXMudHMiLCIuLi9zcmMvaW8vaW9fdXRpbHMudHMiLCIuLi9zcmMvaW8vcm91dGVyX3JlZ2lzdHJ5LnRzIiwiLi4vc3JjL2lvL2luZGV4ZWRfZGIudHMiLCIuLi9zcmMvaW8vbG9jYWxfc3RvcmFnZS50cyIsIi4uL3NyYy9pby9tb2RlbF9tYW5hZ2VtZW50LnRzIiwiLi4vc3JjL3BsYXRmb3Jtcy9wbGF0Zm9ybV9icm93c2VyLnRzIiwiLi4vc3JjL3BsYXRmb3Jtcy9wbGF0Zm9ybV9ub2RlLnRzIiwiLi4vc3JjL29wcy9idWZmZXIudHMiLCIuLi9zcmMvb3BzL2Nhc3QudHMiLCIuLi9zcmMvb3BzL2Nsb25lLnRzIiwiLi4vc3JjL29wcy9wcmludC50cyIsIi4uL3NyYy9iYXNlX3NpZGVfZWZmZWN0cy50cyIsIi4uL3NyYy9pby9icm93c2VyX2ZpbGVzLnRzIiwiLi4vc3JjL2lvL3Byb2dyZXNzLnRzIiwiLi4vc3JjL2lvL3dlaWdodHNfbG9hZGVyLnRzIiwiLi4vc3JjL2lvL2h0dHAudHMiLCIuLi9zcmMvaW8vcGFzc3Rocm91Z2gudHMiLCIuLi9zcmMvb3BzL3Jlc2hhcGUudHMiLCIuLi9zcmMvb3BzL21hdF9tdWwudHMiLCIuLi9zcmMvb3BzL29uZV9ob3QudHMiLCIuLi9zcmMvb3BzL3RyYW5zcG9zZS50cyIsIi4uL3NyYy9vcHMvY29uZnVzaW9uX21hdHJpeC50cyIsIi4uL3NyYy9vcHMvYnJvd3Nlci50cyIsIi4uL3NyYy9vcHMvdGVuc29yM2QudHMiLCIuLi9zcmMvb3BzL2dhdGhlcl9uZF91dGlsLnRzIiwiLi4vc3JjL29wcy9zY2F0dGVyX25kX3V0aWwudHMiLCIuLi9zcmMvb3BzL3NsaWNlX3V0aWwudHMiLCIuLi9zcmMvc2VyaWFsaXphdGlvbi50cyIsIi4uL3NyYy90ZXN0X3V0aWwudHMiLCIuLi9zcmMvZ2xvYmFscy50cyIsIi4uL3NyYy9vcHMvYWRkLnRzIiwiLi4vc3JjL29wcy9mbG9vckRpdi50cyIsIi4uL3NyYy9vcHMvZGl2LnRzIiwiLi4vc3JjL29wcy9tdWwudHMiLCIuLi9zcmMvb3BzL2Ficy50cyIsIi4uL3NyYy9vcHMvYWNvcy50cyIsIi4uL3NyYy9vcHMvYWNvc2gudHMiLCIuLi9zcmMvb3BzL2FkZF9uLnRzIiwiLi4vc3JjL29wcy9heGlzX3V0aWwudHMiLCIuLi9zcmMvb3BzL2FsbC50cyIsIi4uL3NyYy9vcHMvYW55LnRzIiwiLi4vc3JjL29wcy9hcmdfbWF4LnRzIiwiLi4vc3JjL29wcy9hcmdfbWluLnRzIiwiLi4vc3JjL29wcy9hc2luLnRzIiwiLi4vc3JjL29wcy9hc2luaC50cyIsIi4uL3NyYy9vcHMvYXRhbi50cyIsIi4uL3NyYy9vcHMvYXRhbjIudHMiLCIuLi9zcmMvb3BzL2F0YW5oLnRzIiwiLi4vc3JjL29wcy9jb252X3V0aWwudHMiLCIuLi9zcmMvb3BzL2F2Z19wb29sLnRzIiwiLi4vc3JjL29wcy9hdmdfcG9vbF8zZC50cyIsIi4uL3NyYy9vcHMvY29uY2F0X3V0aWwudHMiLCIuLi9zcmMvb3BzL2NvbmNhdC50cyIsIi4uL3NyYy9vcHMvc2lnbW9pZC50cyIsIi4uL3NyYy9vcHMvc2xpY2UudHMiLCIuLi9zcmMvb3BzL3RhbmgudHMiLCIuLi9zcmMvb3BzL2Jhc2ljX2xzdG1fY2VsbC50cyIsIi4uL3NyYy9vcHMvYmF0Y2hfdG9fc3BhY2VfbmQudHMiLCIuLi9zcmMvb3BzL2JhdGNobm9ybS50cyIsIi4uL3NyYy9vcHMvYmF0Y2hub3JtX3V0aWwudHMiLCIuLi9zcmMvb3BzL2JhdGNobm9ybTJkLnRzIiwiLi4vc3JjL29wcy9iYXRjaG5vcm0zZC50cyIsIi4uL3NyYy9vcHMvYmF0Y2hub3JtNGQudHMiLCIuLi9zcmMvb3BzL2Jyb2FkY2FzdF90by50cyIsIi4uL3NyYy9vcHMvY2VpbC50cyIsIi4uL3NyYy9vcHMvY2xpcF9ieV92YWx1ZS50cyIsIi4uL3NyYy9vcHMvY29uY2F0XzFkLnRzIiwiLi4vc3JjL29wcy9jb25jYXRfMmQudHMiLCIuLi9zcmMvb3BzL2NvbmNhdF8zZC50cyIsIi4uL3NyYy9vcHMvY29uY2F0XzRkLnRzIiwiLi4vc3JjL29wcy9jb252MmQudHMiLCIuLi9zcmMvb3BzL2NvbnYxZC50cyIsIi4uL3NyYy9vcHMvY29udjJkX2JhY2twcm9wX2lucHV0LnRzIiwiLi4vc3JjL29wcy9jb252MmRfdHJhbnNwb3NlLnRzIiwiLi4vc3JjL29wcy9jb252M2QudHMiLCIuLi9zcmMvb3BzL2NvbnYzZF9iYWNrcHJvcF9pbnB1dC50cyIsIi4uL3NyYy9vcHMvY29udjNkX3RyYW5zcG9zZS50cyIsIi4uL3NyYy9vcHMvY29zLnRzIiwiLi4vc3JjL29wcy9jb3NoLnRzIiwiLi4vc3JjL29wcy9jdW1zdW0udHMiLCIuLi9zcmMvb3BzL2RlcHRoX3RvX3NwYWNlLnRzIiwiLi4vc3JjL29wcy9kZXB0aHdpc2VfY29udjJkLnRzIiwiLi4vc3JjL29wcy9kaWFnLnRzIiwiLi4vc3JjL29wcy9kaWxhdGlvbjJkLnRzIiwiLi4vc3JjL29wcy9icm9hZGNhc3RfdXRpbC50cyIsIi4uL3NyYy9vcHMvZXF1YWwudHMiLCIuLi9zcmMvb3BzL3doZXJlLnRzIiwiLi4vc3JjL29wcy96ZXJvc19saWtlLnRzIiwiLi4vc3JjL29wcy9kaXZfbm9fbmFuLnRzIiwiLi4vc3JjL29wcy9kb3QudHMiLCIuLi9zcmMvb3BzL2VsdS50cyIsIi4uL3NyYy9vcHMvZXJmLnRzIiwiLi4vc3JjL29wcy9leHAudHMiLCIuLi9zcmMvb3BzL2V4cGFuZF9kaW1zLnRzIiwiLi4vc3JjL29wcy9leHBtMS50cyIsIi4uL3NyYy9vcHMvdGlsZS50cyIsIi4uL3NyYy9vcHMvZXllLnRzIiwiLi4vc3JjL29wcy9maWxsLnRzIiwiLi4vc3JjL29wcy9mbG9vci50cyIsIi4uL3NyYy9vcHMvc2VnbWVudF91dGlsLnRzIiwiLi4vc3JjL29wcy9yZWR1Y2VfdXRpbC50cyIsIi4uL3NyYy9vcHMvZ2F0aGVyLnRzIiwiLi4vc3JjL29wcy9ncmVhdGVyLnRzIiwiLi4vc3JjL29wcy9ncmVhdGVyX2VxdWFsLnRzIiwiLi4vc3JjL29wcy9pbWFnLnRzIiwiLi4vc3JjL29wcy9pc19maW5pdGUudHMiLCIuLi9zcmMvb3BzL2lzX2luZi50cyIsIi4uL3NyYy9vcHMvaXNfbmFuLnRzIiwiLi4vc3JjL29wcy9tYXhpbXVtLnRzIiwiLi4vc3JjL29wcy9zY2FsYXIudHMiLCIuLi9zcmMvb3BzL2xlYWt5X3JlbHUudHMiLCIuLi9zcmMvb3BzL2xlc3MudHMiLCIuLi9zcmMvb3BzL2xlc3NfZXF1YWwudHMiLCIuLi9zcmMvb3BzL2xvY2FsX3Jlc3BvbnNlX25vcm1hbGl6YXRpb24udHMiLCIuLi9zcmMvb3BzL2xvZy50cyIsIi4uL3NyYy9vcHMvbG9nMXAudHMiLCIuLi9zcmMvZ3JhZGllbnRzLnRzIiwiLi4vc3JjL29wcy9uZWcudHMiLCIuLi9zcmMvb3BzL3NvZnRwbHVzLnRzIiwiLi4vc3JjL29wcy9sb2dfc2lnbW9pZC50cyIsIi4uL3NyYy9vcHMvbWF4LnRzIiwiLi4vc3JjL29wcy9zdWIudHMiLCIuLi9zcmMvb3BzL3N1bS50cyIsIi4uL3NyYy9vcHMvbG9nX3NvZnRtYXgudHMiLCIuLi9zcmMvb3BzL2xvZ19zdW1fZXhwLnRzIiwiLi4vc3JjL29wcy9sb2dpY2FsX2FuZC50cyIsIi4uL3NyYy9vcHMvbG9naWNhbF9ub3QudHMiLCIuLi9zcmMvb3BzL2xvZ2ljYWxfb3IudHMiLCIuLi9zcmMvb3BzL2xvZ2ljYWxfeG9yLnRzIiwiLi4vc3JjL29wcy9tYXhfcG9vbC50cyIsIi4uL3NyYy9vcHMvbWF4X3Bvb2xfM2QudHMiLCIuLi9zcmMvb3BzL21heF9wb29sX3dpdGhfYXJnbWF4LnRzIiwiLi4vc3JjL29wcy96ZXJvcy50cyIsIi4uL3NyYy9vcHMvb25lcy50cyIsIi4uL3NyYy9vcHMvbWVhbi50cyIsIi4uL3NyYy9vcHMvbWluLnRzIiwiLi4vc3JjL29wcy9taW5pbXVtLnRzIiwiLi4vc3JjL29wcy9tb2QudHMiLCIuLi9zcmMvb3BzL3NxdWFyZS50cyIsIi4uL3NyYy9vcHMvbW9tZW50cy50cyIsIi4uL3NyYy9vcHMvbXVsdGlfcm5uX2NlbGwudHMiLCIuLi9zcmMvb3BzL211bHRpbm9taWFsLnRzIiwiLi4vc3JjL29wcy9ub3RfZXF1YWwudHMiLCIuLi9zcmMvb3BzL3JlYWwudHMiLCIuLi9zcmMvb3BzL29uZXNfbGlrZS50cyIsIi4uL3NyYy9vcHMvb3V0ZXJfcHJvZHVjdC50cyIsIi4uL3NyYy9vcHMvcGFkLnRzIiwiLi4vc3JjL29wcy9wYWQxZC50cyIsIi4uL3NyYy9vcHMvcGFkMmQudHMiLCIuLi9zcmMvb3BzL3BhZDNkLnRzIiwiLi4vc3JjL29wcy9wYWQ0ZC50cyIsIi4uL3NyYy9vcHMvc3BhY2VfdG9fYmF0Y2hfbmQudHMiLCIuLi9zcmMvb3BzL3Bvb2wudHMiLCIuLi9zcmMvb3BzL3Bvdy50cyIsIi4uL3NyYy9vcHMvcHJlbHUudHMiLCIuLi9zcmMvb3BzL3Byb2QudHMiLCIuLi9zcmMvb3BzL3JhbmQudHMiLCIuLi9ub2RlX21vZHVsZXMvc2VlZHJhbmRvbS9saWIvYWxlYS5qcyIsIi4uL25vZGVfbW9kdWxlcy9zZWVkcmFuZG9tL2xpYi94b3IxMjguanMiLCIuLi9ub2RlX21vZHVsZXMvc2VlZHJhbmRvbS9saWIveG9yd293LmpzIiwiLi4vbm9kZV9tb2R1bGVzL3NlZWRyYW5kb20vbGliL3hvcnNoaWZ0Ny5qcyIsIi4uL25vZGVfbW9kdWxlcy9zZWVkcmFuZG9tL2xpYi94b3I0MDk2LmpzIiwiLi4vbm9kZV9tb2R1bGVzL3NlZWRyYW5kb20vbGliL3R5Y2hlaS5qcyIsIi4uL25vZGVfbW9kdWxlcy9zZWVkcmFuZG9tL3NlZWRyYW5kb20uanMiLCIuLi9ub2RlX21vZHVsZXMvc2VlZHJhbmRvbS9pbmRleC5qcyIsIi4uL3NyYy9vcHMvcmFuZF91dGlsLnRzIiwiLi4vc3JjL29wcy9yYW5kb21fZ2FtbWEudHMiLCIuLi9zcmMvb3BzL3JhbmRvbV9ub3JtYWwudHMiLCIuLi9zcmMvb3BzL3JhbmRvbV91bmlmb3JtLnRzIiwiLi4vc3JjL29wcy90ZW5zb3IxZC50cyIsIi4uL3NyYy9vcHMvcmFuZ2UudHMiLCIuLi9zcmMvb3BzL3JlY2lwcm9jYWwudHMiLCIuLi9zcmMvb3BzL3JlbHUudHMiLCIuLi9zcmMvb3BzL3JlbHU2LnRzIiwiLi4vc3JjL29wcy9yZXZlcnNlLnRzIiwiLi4vc3JjL29wcy9yZXZlcnNlXzFkLnRzIiwiLi4vc3JjL29wcy9yZXZlcnNlXzJkLnRzIiwiLi4vc3JjL29wcy9yZXZlcnNlXzNkLnRzIiwiLi4vc3JjL29wcy9yZXZlcnNlXzRkLnRzIiwiLi4vc3JjL29wcy9yb3VuZC50cyIsIi4uL3NyYy9vcHMvcnNxcnQudHMiLCIuLi9zcmMvb3BzL3NlbHUudHMiLCIuLi9zcmMvb3BzL3NlcGFyYWJsZV9jb252MmQudHMiLCIuLi9zcmMvb3BzL3NldGRpZmYxZF9hc3luYy50cyIsIi4uL3NyYy9vcHMvc2lnbi50cyIsIi4uL3NyYy9vcHMvc2luLnRzIiwiLi4vc3JjL29wcy9zaW5oLnRzIiwiLi4vc3JjL29wcy9zbGljZTFkLnRzIiwiLi4vc3JjL29wcy9zbGljZTJkLnRzIiwiLi4vc3JjL29wcy9zbGljZTNkLnRzIiwiLi4vc3JjL29wcy9zbGljZTRkLnRzIiwiLi4vc3JjL29wcy9zb2Z0bWF4LnRzIiwiLi4vc3JjL29wcy9zcGVjdHJhbC9mZnQudHMiLCIuLi9zcmMvb3BzL3NwZWN0cmFsL2lmZnQudHMiLCIuLi9zcmMvb3BzL3NwZWN0cmFsL2lyZmZ0LnRzIiwiLi4vc3JjL29wcy9zcGxpdF91dGlsLnRzIiwiLi4vc3JjL29wcy9zcGxpdC50cyIsIi4uL3NyYy9vcHMvc3BlY3RyYWwvcmZmdC50cyIsIi4uL3NyYy9vcHMvc3FydC50cyIsIi4uL3NyYy9vcHMvc3F1YXJlZF9kaWZmZXJlbmNlLnRzIiwiLi4vc3JjL29wcy9zcXVlZXplLnRzIiwiLi4vc3JjL29wcy9zdGFjay50cyIsIi4uL3NyYy9vcHMvc3RlcC50cyIsIi4uL3NyYy9vcHMvc3RyaWRlZF9zbGljZS50cyIsIi4uL3NyYy9vcHMvdGFuLnRzIiwiLi4vc3JjL29wcy90ZW5zb3IyZC50cyIsIi4uL3NyYy9vcHMvdG9way50cyIsIi4uL3NyYy9vcHMvdHJ1bmNhdGVkX25vcm1hbC50cyIsIi4uL3NyYy9vcHMvdW5pcXVlLnRzIiwiLi4vc3JjL29wcy91bnNvcnRlZF9zZWdtZW50X3N1bS50cyIsIi4uL3NyYy9vcHMvdW5zdGFjay50cyIsIi4uL3NyYy9iYWNrZW5kcy93aGVyZV9pbXBsLnRzIiwiLi4vc3JjL29wcy93aGVyZV9hc3luYy50cyIsIi4uL3NyYy9vcHMvYm9vbGVhbl9tYXNrLnRzIiwiLi4vc3JjL29wcy9jb21wYXJlLnRzIiwiLi4vc3JjL29wcy9iaW5hcnlfb3BzLnRzIiwiLi4vc3JjL29wcy9ub3JtLnRzIiwiLi4vc3JjL29wcy9tb3ZpbmdfYXZlcmFnZS50cyIsIi4uL3NyYy9vcHMvc2NhdHRlcl9uZC50cyIsIi4uL3NyYy9vcHMvc3BhcnNlX3RvX2RlbnNlLnRzIiwiLi4vc3JjL29wcy9zcGFyc2VfdG9fZGVuc2VfdXRpbC50cyIsIi4uL3NyYy9vcHMvZ2F0aGVyX25kLnRzIiwiLi4vc3JjL29wcy9kcm9wb3V0LnRzIiwiLi4vc3JjL29wcy9kcm9wb3V0X3V0aWwudHMiLCIuLi9zcmMvb3BzL3NpZ25hbF9vcHNfdXRpbC50cyIsIi4uL3NyYy9vcHMvaW5fdG9wX2sudHMiLCIuLi9zcmMvb3BzL2NvbnYyZF9iYWNrcHJvcF9maWx0ZXIudHMiLCIuLi9zcmMvb3BzL2Z1c2VkX3V0aWwudHMiLCIuLi9zcmMvb3BzL2Z1c2VkL2NvbnYyZC50cyIsIi4uL3NyYy9vcHMvZGVwdGh3aXNlX2NvbnYyZF9uYXRpdmVfYmFja3Byb3BfZmlsdGVyLnRzIiwiLi4vc3JjL29wcy9kZXB0aHdpc2VfY29udjJkX25hdGl2ZV9iYWNrcHJvcF9pbnB1dC50cyIsIi4uL3NyYy9vcHMvZnVzZWQvbWF0X211bC50cyIsIi4uL3NyYy9vcHMvZnVzZWQvZGVwdGh3aXNlX2NvbnYyZC50cyIsIi4uL3NyYy9vcHMvc2lnbmFsL2hhbW1pbmdfd2luZG93LnRzIiwiLi4vc3JjL29wcy9zaWduYWwvaGFubl93aW5kb3cudHMiLCIuLi9zcmMvb3BzL3NpZ25hbC9mcmFtZS50cyIsIi4uL3NyYy9vcHMvc2lnbmFsL3N0ZnQudHMiLCIuLi9zcmMvb3BzL2ltYWdlL2Nyb3BfYW5kX3Jlc2l6ZS50cyIsIi4uL3NyYy9vcHMvaW1hZ2UvZmxpcF9sZWZ0X3JpZ2h0LnRzIiwiLi4vc3JjL29wcy9pbWFnZS9yb3RhdGVfd2l0aF9vZmZzZXQudHMiLCIuLi9zcmMvb3BzL25vbm1heF91dGlsLnRzIiwiLi4vc3JjL29wcy9pbWFnZS9ub25fbWF4X3N1cHByZXNzaW9uLnRzIiwiLi4vc3JjL2JhY2tlbmRzL2FycmF5X3V0aWwudHMiLCIuLi9zcmMvYmFja2VuZHMvbm9uX21heF9zdXBwcmVzc2lvbl9pbXBsLnRzIiwiLi4vc3JjL29wcy9pbWFnZS9ub25fbWF4X3N1cHByZXNzaW9uX2FzeW5jLnRzIiwiLi4vc3JjL29wcy9pbWFnZS9ub25fbWF4X3N1cHByZXNzaW9uX3dpdGhfc2NvcmUudHMiLCIuLi9zcmMvb3BzL2ltYWdlL25vbl9tYXhfc3VwcHJlc3Npb25fd2l0aF9zY29yZV9hc3luYy50cyIsIi4uL3NyYy9vcHMvaW1hZ2Uvbm9uX21heF9zdXBwcmVzc2lvbl9wYWRkZWQudHMiLCIuLi9zcmMvb3BzL2ltYWdlL25vbl9tYXhfc3VwcHJlc3Npb25fcGFkZGVkX2FzeW5jLnRzIiwiLi4vc3JjL29wcy9pbWFnZS9yZXNpemVfYmlsaW5lYXIudHMiLCIuLi9zcmMvb3BzL2ltYWdlL3Jlc2l6ZV9uZWFyZXN0X25laWdoYm9yLnRzIiwiLi4vc3JjL29wcy9saW5hbGcvYmFuZF9wYXJ0LnRzIiwiLi4vc3JjL29wcy9saW5hbGcvZ3JhbV9zY2htaWR0LnRzIiwiLi4vc3JjL29wcy9saW5hbGcvcXIudHMiLCIuLi9zcmMvb3BzL2xvc3Nfb3BzX3V0aWxzLnRzIiwiLi4vc3JjL29wcy9sb3NzZXMvY29tcHV0ZV93ZWlnaHRlZF9sb3NzLnRzIiwiLi4vc3JjL29wcy9sb3NzZXMvYWJzb2x1dGVfZGlmZmVyZW5jZS50cyIsIi4uL3NyYy9vcHMvbG9zc2VzL2Nvc2luZV9kaXN0YW5jZS50cyIsIi4uL3NyYy9vcHMvbG9zc2VzL2hpbmdlX2xvc3MudHMiLCIuLi9zcmMvb3BzL2xvc3Nlcy9odWJlcl9sb3NzLnRzIiwiLi4vc3JjL29wcy9sb3NzZXMvbG9nX2xvc3MudHMiLCIuLi9zcmMvb3BzL2xvc3Nlcy9tZWFuX3NxdWFyZWRfZXJyb3IudHMiLCIuLi9zcmMvb3BzL2xvc3Nlcy9zaWdtb2lkX2Nyb3NzX2VudHJvcHkudHMiLCIuLi9zcmMvb3BzL2xvc3Nlcy9zb2Z0bWF4X2Nyb3NzX2VudHJvcHkudHMiLCIuLi9zcmMvb3BzL29wcy50cyIsIi4uL3NyYy9vcHRpbWl6ZXJzL29wdGltaXplci50cyIsIi4uL3NyYy9vcHRpbWl6ZXJzL2FkYWRlbHRhX29wdGltaXplci50cyIsIi4uL3NyYy9vcHRpbWl6ZXJzL2FkYWdyYWRfb3B0aW1pemVyLnRzIiwiLi4vc3JjL29wdGltaXplcnMvYWRhbV9vcHRpbWl6ZXIudHMiLCIuLi9zcmMvb3B0aW1pemVycy9hZGFtYXhfb3B0aW1pemVyLnRzIiwiLi4vc3JjL29wdGltaXplcnMvc2dkX29wdGltaXplci50cyIsIi4uL3NyYy9vcHRpbWl6ZXJzL21vbWVudHVtX29wdGltaXplci50cyIsIi4uL3NyYy9vcHRpbWl6ZXJzL3Jtc3Byb3Bfb3B0aW1pemVyLnRzIiwiLi4vc3JjL29wdGltaXplcnMvb3B0aW1pemVyX2NvbnN0cnVjdG9ycy50cyIsIi4uL3NyYy90cmFpbi50cyIsIi4uL3NyYy9icm93c2VyX3V0aWwudHMiLCIuLi9zcmMvYmFja2VuZHMvYmFja2VuZF91dGlsLnRzIiwiLi4vc3JjL29wcy9yb3RhdGVfdXRpbC50cyIsIi4uL3NyYy9vcHMvYXJyYXlfb3BzX3V0aWwudHMiLCIuLi9zcmMvb3BzL3NlbHVfdXRpbC50cyIsIi4uL3NyYy9vcHMvZXJmX3V0aWwudHMiLCIuLi9zcmMvbG9nLnRzIiwiLi4vc3JjL2JhY2tlbmRzL2NvbXBsZXhfdXRpbC50cyIsIi4uL3NyYy9iYWNrZW5kcy9zcGxpdF9zaGFyZWQudHMiLCIuLi9zcmMvYmFja2VuZHMvdGlsZV9pbXBsLnRzIiwiLi4vc3JjL2JhY2tlbmRzL3RvcGtfaW1wbC50cyIsIi4uL3NyYy9ncmFkaWVudHMvQWJzX2dyYWQudHMiLCIuLi9zcmMvZ3JhZGllbnRzL0Fjb3NfZ3JhZC50cyIsIi4uL3NyYy9ncmFkaWVudHMvQWNvc2hfZ3JhZC50cyIsIi4uL3NyYy9ncmFkaWVudHMvQWRkX2dyYWQudHMiLCIuLi9zcmMvZ3JhZGllbnRzL0FkZE5fZ3JhZC50cyIsIi4uL3NyYy9ncmFkaWVudHMvQXJnTWF4X2dyYWQudHMiLCIuLi9zcmMvZ3JhZGllbnRzL0FyZ01pbl9ncmFkLnRzIiwiLi4vc3JjL2dyYWRpZW50cy9Bc2luX2dyYWQudHMiLCIuLi9zcmMvZ3JhZGllbnRzL0FzaW5oX2dyYWQudHMiLCIuLi9zcmMvZ3JhZGllbnRzL0F0YW4yX2dyYWQudHMiLCIuLi9zcmMvZ3JhZGllbnRzL0F0YW5fZ3JhZC50cyIsIi4uL3NyYy9ncmFkaWVudHMvQXRhbmhfZ3JhZC50cyIsIi4uL3NyYy9vcHMvYXZnX3Bvb2xfM2RfYmFja3Byb3AudHMiLCIuLi9zcmMvZ3JhZGllbnRzL0F2Z1Bvb2wzRF9ncmFkLnRzIiwiLi4vc3JjL29wcy9hdmdfcG9vbF9iYWNrcHJvcC50cyIsIi4uL3NyYy9ncmFkaWVudHMvQXZnUG9vbF9ncmFkLnRzIiwiLi4vc3JjL2dyYWRpZW50cy9CYXRjaE1hdE11bF9ncmFkLnRzIiwiLi4vc3JjL2dyYWRpZW50cy9CYXRjaFRvU3BhY2VORF9ncmFkLnRzIiwiLi4vc3JjL2dyYWRpZW50cy9Ccm9hZGNhc3RUb19ncmFkLnRzIiwiLi4vc3JjL2dyYWRpZW50cy9DYXN0X2dyYWQudHMiLCIuLi9zcmMvZ3JhZGllbnRzL0NlaWxfZ3JhZC50cyIsIi4uL3NyYy9ncmFkaWVudHMvQ2xpcEJ5VmFsdWVfZ3JhZC50cyIsIi4uL3NyYy9ncmFkaWVudHMvQ29uY2F0X2dyYWQudHMiLCIuLi9zcmMvZ3JhZGllbnRzL0NvbnYyRF9ncmFkLnRzIiwiLi4vc3JjL2dyYWRpZW50cy9Db252MkRCYWNrcHJvcElucHV0X2dyYWQudHMiLCIuLi9zcmMvb3BzL2NvbnYzZF9iYWNrcHJvcF9maWx0ZXIudHMiLCIuLi9zcmMvZ3JhZGllbnRzL0NvbnYzRF9ncmFkLnRzIiwiLi4vc3JjL2dyYWRpZW50cy9Db3NfZ3JhZC50cyIsIi4uL3NyYy9ncmFkaWVudHMvQ29zaF9ncmFkLnRzIiwiLi4vc3JjL2dyYWRpZW50cy9DdW1zdW1fZ3JhZC50cyIsIi4uL3NyYy9ncmFkaWVudHMvRGVwdGh3aXNlQ29udjJkTmF0aXZlX2dyYWQudHMiLCIuLi9zcmMvZ3JhZGllbnRzL0RpbGF0aW9uMkRfZ3JhZC50cyIsIi4uL3NyYy9ncmFkaWVudHMvRGl2X2dyYWQudHMiLCIuLi9zcmMvZ3JhZGllbnRzL0VsdV9ncmFkLnRzIiwiLi4vc3JjL2dyYWRpZW50cy9FcmZfZ3JhZC50cyIsIi4uL3NyYy9ncmFkaWVudHMvRXhwX2dyYWQudHMiLCIuLi9zcmMvZ3JhZGllbnRzL0V4cG0xX2dyYWQudHMiLCIuLi9zcmMvZ3JhZGllbnRzL0Zsb29yX2dyYWQudHMiLCIuLi9zcmMvZ3JhZGllbnRzL0Zsb29yRGl2X2dyYWQudHMiLCIuLi9zcmMvZ3JhZGllbnRzL0Z1c2VkQmF0Y2hOb3JtX2dyYWQudHMiLCIuLi9zcmMvZ3JhZGllbnRzL0dhdGhlclYyX2dyYWQudHMiLCIuLi9zcmMvZ3JhZGllbnRzL0dyZWF0ZXJFcXVhbF9ncmFkLnRzIiwiLi4vc3JjL2dyYWRpZW50cy9JZGVudGl0eV9ncmFkLnRzIiwiLi4vc3JjL2dyYWRpZW50cy9Jc0Zpbml0ZV9ncmFkLnRzIiwiLi4vc3JjL2dyYWRpZW50cy9Jc0luZl9ncmFkLnRzIiwiLi4vc3JjL2dyYWRpZW50cy9Jc05hbl9ncmFkLnRzIiwiLi4vc3JjL2dyYWRpZW50cy9Mb2cxcF9ncmFkLnRzIiwiLi4vc3JjL2dyYWRpZW50cy9Mb2dfZ3JhZC50cyIsIi4uL3NyYy9ncmFkaWVudHMvTG9nU29mdG1heF9ncmFkLnRzIiwiLi4vc3JjL29wcy9sb2NhbF9yZXNwb25zZV9ub3JtYWxpemF0aW9uX2JhY2twcm9wLnRzIiwiLi4vc3JjL2dyYWRpZW50cy9MUk5fZ3JhZC50cyIsIi4uL3NyYy9ncmFkaWVudHMvbWluX21heF9ncmFkX3V0aWwudHMiLCIuLi9zcmMvZ3JhZGllbnRzL01heF9ncmFkLnRzIiwiLi4vc3JjL2dyYWRpZW50cy9NYXhpbXVtX2dyYWQudHMiLCIuLi9zcmMvb3BzL21heF9wb29sXzNkX2JhY2twcm9wLnRzIiwiLi4vc3JjL2dyYWRpZW50cy9NYXhQb29sM0RfZ3JhZC50cyIsIi4uL3NyYy9vcHMvbWF4X3Bvb2xfYmFja3Byb3AudHMiLCIuLi9zcmMvZ3JhZGllbnRzL1BhZFYyX2dyYWQudHMiLCIuLi9zcmMvZ3JhZGllbnRzL1NwYWNlVG9CYXRjaE5EX2dyYWQudHMiLCIuLi9zcmMvZ3JhZGllbnRzL1NwbGl0Vl9ncmFkLnRzIiwiLi4vc3JjL3JlZ2lzdGVyX2FsbF9ncmFkaWVudHMudHMiLCIuLi9zcmMvZ3JhZGllbnRzL1plcm9zTGlrZV9ncmFkLnRzIiwiLi4vc3JjL2dyYWRpZW50cy9NYXhQb29sX2dyYWQudHMiLCIuLi9zcmMvZ3JhZGllbnRzL01pbl9ncmFkLnRzIiwiLi4vc3JjL2dyYWRpZW50cy9NaW5pbXVtX2dyYWQudHMiLCIuLi9zcmMvZ3JhZGllbnRzL01vZF9ncmFkLnRzIiwiLi4vc3JjL2dyYWRpZW50cy9NdWx0aXBseV9ncmFkLnRzIiwiLi4vc3JjL2dyYWRpZW50cy9OZWdhdGVfZ3JhZC50cyIsIi4uL3NyYy9ncmFkaWVudHMvT25lSG90X2dyYWQudHMiLCIuLi9zcmMvZ3JhZGllbnRzL09uZXNMaWtlX2dyYWQudHMiLCIuLi9zcmMvZ3JhZGllbnRzL1Bvd19ncmFkLnRzIiwiLi4vc3JjL2dyYWRpZW50cy9QcmVsdV9ncmFkLnRzIiwiLi4vc3JjL2dyYWRpZW50cy9SZWNpcHJvY2FsX2dyYWQudHMiLCIuLi9zcmMvZ3JhZGllbnRzL1JlbHU2X2dyYWQudHMiLCIuLi9zcmMvZ3JhZGllbnRzL1JlbHVfZ3JhZC50cyIsIi4uL3NyYy9ncmFkaWVudHMvUmVzaGFwZV9ncmFkLnRzIiwiLi4vc3JjL2dyYWRpZW50cy9SZXNpemVCaWxpbmVhcl9ncmFkLnRzIiwiLi4vc3JjL2dyYWRpZW50cy9SZXNpemVOZWFyZXN0TmVpZ2hib3JfZ3JhZC50cyIsIi4uL3NyYy9ncmFkaWVudHMvUmV2ZXJzZV9ncmFkLnRzIiwiLi4vc3JjL2dyYWRpZW50cy9Sb3VuZF9ncmFkLnRzIiwiLi4vc3JjL2dyYWRpZW50cy9Sc3FydF9ncmFkLnRzIiwiLi4vc3JjL2dyYWRpZW50cy9TZWxlY3RWMl9ncmFkLnRzIiwiLi4vc3JjL2dyYWRpZW50cy9TZWx1X2dyYWQudHMiLCIuLi9zcmMvZ3JhZGllbnRzL1NpZ21vaWRfZ3JhZC50cyIsIi4uL3NyYy9ncmFkaWVudHMvU2lnbl9ncmFkLnRzIiwiLi4vc3JjL2dyYWRpZW50cy9TaW5fZ3JhZC50cyIsIi4uL3NyYy9ncmFkaWVudHMvU2luaF9ncmFkLnRzIiwiLi4vc3JjL2dyYWRpZW50cy9TbGljZV9ncmFkLnRzIiwiLi4vc3JjL2dyYWRpZW50cy9Tb2Z0bWF4X2dyYWQudHMiLCIuLi9zcmMvZ3JhZGllbnRzL1NvZnRwbHVzX2dyYWQudHMiLCIuLi9zcmMvZ3JhZGllbnRzL1NxcnRfZ3JhZC50cyIsIi4uL3NyYy9ncmFkaWVudHMvU3F1YXJlZERpZmZlcmVuY2VfZ3JhZC50cyIsIi4uL3NyYy9ncmFkaWVudHMvU3F1YXJlX2dyYWQudHMiLCIuLi9zcmMvZ3JhZGllbnRzL1N0ZXBfZ3JhZC50cyIsIi4uL3NyYy9ncmFkaWVudHMvU3ViX2dyYWQudHMiLCIuLi9zcmMvZ3JhZGllbnRzL1N1bV9ncmFkLnRzIiwiLi4vc3JjL2dyYWRpZW50cy9UYW5fZ3JhZC50cyIsIi4uL3NyYy9ncmFkaWVudHMvVGFuaF9ncmFkLnRzIiwiLi4vc3JjL2dyYWRpZW50cy9UaWxlX2dyYWQudHMiLCIuLi9zcmMvZ3JhZGllbnRzL1RyYW5zcG9zZV9ncmFkLnRzIiwiLi4vc3JjL2dyYWRpZW50cy9VbnBhY2tfZ3JhZC50cyIsIi4uL3NyYy9ncmFkaWVudHMvVW5zb3J0ZWRTZWdtZW50U3VtX2dyYWQudHMiLCIuLi9zcmMvcHVibGljL2NoYWluZWRfb3BzL2Ficy50cyIsIi4uL3NyYy9wdWJsaWMvY2hhaW5lZF9vcHMvYWNvcy50cyIsIi4uL3NyYy9wdWJsaWMvY2hhaW5lZF9vcHMvYWNvc2gudHMiLCIuLi9zcmMvcHVibGljL2NoYWluZWRfb3BzL2FkZF9zdHJpY3QudHMiLCIuLi9zcmMvcHVibGljL2NoYWluZWRfb3BzL2FkZC50cyIsIi4uL3NyYy9wdWJsaWMvY2hhaW5lZF9vcHMvYWxsLnRzIiwiLi4vc3JjL3B1YmxpYy9jaGFpbmVkX29wcy9hbnkudHMiLCIuLi9zcmMvcHVibGljL2NoYWluZWRfb3BzL2FyZ19tYXgudHMiLCIuLi9zcmMvcHVibGljL2NoYWluZWRfb3BzL2FyZ19taW4udHMiLCIuLi9zcmMvcHVibGljL2NoYWluZWRfb3BzL2FzX3NjYWxhci50cyIsIi4uL3NyYy9wdWJsaWMvY2hhaW5lZF9vcHMvYXNfdHlwZS50cyIsIi4uL3NyYy9wdWJsaWMvY2hhaW5lZF9vcHMvYXMxZC50cyIsIi4uL3NyYy9wdWJsaWMvY2hhaW5lZF9vcHMvYXMyZC50cyIsIi4uL3NyYy9wdWJsaWMvY2hhaW5lZF9vcHMvYXMzZC50cyIsIi4uL3NyYy9wdWJsaWMvY2hhaW5lZF9vcHMvYXM0ZC50cyIsIi4uL3NyYy9wdWJsaWMvY2hhaW5lZF9vcHMvYXM1ZC50cyIsIi4uL3NyYy9wdWJsaWMvY2hhaW5lZF9vcHMvYXNpbi50cyIsIi4uL3NyYy9wdWJsaWMvY2hhaW5lZF9vcHMvYXNpbmgudHMiLCIuLi9zcmMvcHVibGljL2NoYWluZWRfb3BzL2F0YW4udHMiLCIuLi9zcmMvcHVibGljL2NoYWluZWRfb3BzL2F0YW4yLnRzIiwiLi4vc3JjL3B1YmxpYy9jaGFpbmVkX29wcy9hdGFuaC50cyIsIi4uL3NyYy9wdWJsaWMvY2hhaW5lZF9vcHMvYXZnX3Bvb2wudHMiLCIuLi9zcmMvcHVibGljL2NoYWluZWRfb3BzL2JhdGNoX3RvX3NwYWNlX25kLnRzIiwiLi4vc3JjL3B1YmxpYy9jaGFpbmVkX29wcy9iYXRjaG5vcm0udHMiLCIuLi9zcmMvcHVibGljL2NoYWluZWRfb3BzL2Jyb2FkY2FzdF90by50cyIsIi4uL3NyYy9wdWJsaWMvY2hhaW5lZF9vcHMvY2FzdC50cyIsIi4uL3NyYy9wdWJsaWMvY2hhaW5lZF9vcHMvY2VpbC50cyIsIi4uL3NyYy9wdWJsaWMvY2hhaW5lZF9vcHMvY2xpcF9ieV92YWx1ZS50cyIsIi4uL3NyYy9wdWJsaWMvY2hhaW5lZF9vcHMvY29uY2F0LnRzIiwiLi4vc3JjL3B1YmxpYy9jaGFpbmVkX29wcy9jb252MWQudHMiLCIuLi9zcmMvcHVibGljL2NoYWluZWRfb3BzL2NvbnYyZF90cmFuc3Bvc2UudHMiLCIuLi9zcmMvcHVibGljL2NoYWluZWRfb3BzL2NvbnYyZC50cyIsIi4uL3NyYy9wdWJsaWMvY2hhaW5lZF9vcHMvY29zLnRzIiwiLi4vc3JjL3B1YmxpYy9jaGFpbmVkX29wcy9jb3NoLnRzIiwiLi4vc3JjL3B1YmxpYy9jaGFpbmVkX29wcy9jdW1zdW0udHMiLCIuLi9zcmMvcHVibGljL2NoYWluZWRfb3BzL2RlcHRoX3RvX3NwYWNlLnRzIiwiLi4vc3JjL3B1YmxpYy9jaGFpbmVkX29wcy9kZXB0aHdpc2VfY29udjJEX2RlcHJlY2F0ZWQudHMiLCIuLi9zcmMvcHVibGljL2NoYWluZWRfb3BzL2RlcHRod2lzZV9jb252MmQudHMiLCIuLi9zcmMvcHVibGljL2NoYWluZWRfb3BzL2RpbGF0aW9uMmQudHMiLCIuLi9zcmMvcHVibGljL2NoYWluZWRfb3BzL2Rpdl9ub19uYW4udHMiLCIuLi9zcmMvcHVibGljL2NoYWluZWRfb3BzL2Rpdl9zdHJpY3QudHMiLCIuLi9zcmMvcHVibGljL2NoYWluZWRfb3BzL2Rpdi50cyIsIi4uL3NyYy9wdWJsaWMvY2hhaW5lZF9vcHMvZG90LnRzIiwiLi4vc3JjL3B1YmxpYy9jaGFpbmVkX29wcy9lbHUudHMiLCIuLi9zcmMvcHVibGljL2NoYWluZWRfb3BzL2VxdWFsX3N0cmljdC50cyIsIi4uL3NyYy9wdWJsaWMvY2hhaW5lZF9vcHMvZXF1YWwudHMiLCIuLi9zcmMvcHVibGljL2NoYWluZWRfb3BzL2VyZi50cyIsIi4uL3NyYy9wdWJsaWMvY2hhaW5lZF9vcHMvZXhwLnRzIiwiLi4vc3JjL3B1YmxpYy9jaGFpbmVkX29wcy9leHBhbmRfZGltcy50cyIsIi4uL3NyYy9wdWJsaWMvY2hhaW5lZF9vcHMvZXhwbTEudHMiLCIuLi9zcmMvcHVibGljL2NoYWluZWRfb3BzL2ZmdC50cyIsIi4uL3NyYy9wdWJsaWMvY2hhaW5lZF9vcHMvZmxhdHRlbi50cyIsIi4uL3NyYy9wdWJsaWMvY2hhaW5lZF9vcHMvZmxvb3IudHMiLCIuLi9zcmMvcHVibGljL2NoYWluZWRfb3BzL2Zsb29yRGl2LnRzIiwiLi4vc3JjL3B1YmxpYy9jaGFpbmVkX29wcy9nYXRoZXIudHMiLCIuLi9zcmMvcHVibGljL2NoYWluZWRfb3BzL2dyZWF0ZXJfZXF1YWxfc3RyaWN0LnRzIiwiLi4vc3JjL3B1YmxpYy9jaGFpbmVkX29wcy9ncmVhdGVyX2VxdWFsLnRzIiwiLi4vc3JjL3B1YmxpYy9jaGFpbmVkX29wcy9ncmVhdGVyX3N0cmljdC50cyIsIi4uL3NyYy9wdWJsaWMvY2hhaW5lZF9vcHMvZ3JlYXRlci50cyIsIi4uL3NyYy9wdWJsaWMvY2hhaW5lZF9vcHMvaWZmdC50cyIsIi4uL3NyYy9wdWJsaWMvY2hhaW5lZF9vcHMvaXJmZnQudHMiLCIuLi9zcmMvcHVibGljL2NoYWluZWRfb3BzL2lzX2Zpbml0ZS50cyIsIi4uL3NyYy9wdWJsaWMvY2hhaW5lZF9vcHMvaXNfaW5mLnRzIiwiLi4vc3JjL3B1YmxpYy9jaGFpbmVkX29wcy9pc19uYW4udHMiLCIuLi9zcmMvcHVibGljL2NoYWluZWRfb3BzL2xlYWt5X3JlbHUudHMiLCIuLi9zcmMvcHVibGljL2NoYWluZWRfb3BzL2xlc3NfZXF1YWxfc3RyaWN0LnRzIiwiLi4vc3JjL3B1YmxpYy9jaGFpbmVkX29wcy9sZXNzX2VxdWFsLnRzIiwiLi4vc3JjL3B1YmxpYy9jaGFpbmVkX29wcy9sZXNzX3N0cmljdC50cyIsIi4uL3NyYy9wdWJsaWMvY2hhaW5lZF9vcHMvbGVzcy50cyIsIi4uL3NyYy9wdWJsaWMvY2hhaW5lZF9vcHMvbG9jYWxfcmVzcG9uc2Vfbm9ybWFsaXphdGlvbi50cyIsIi4uL3NyYy9wdWJsaWMvY2hhaW5lZF9vcHMvbG9nX3NpZ21vaWQudHMiLCIuLi9zcmMvcHVibGljL2NoYWluZWRfb3BzL2xvZ19zb2Z0bWF4LnRzIiwiLi4vc3JjL3B1YmxpYy9jaGFpbmVkX29wcy9sb2dfc3VtX2V4cC50cyIsIi4uL3NyYy9wdWJsaWMvY2hhaW5lZF9vcHMvbG9nLnRzIiwiLi4vc3JjL3B1YmxpYy9jaGFpbmVkX29wcy9sb2cxcC50cyIsIi4uL3NyYy9wdWJsaWMvY2hhaW5lZF9vcHMvbG9naWNhbF9hbmQudHMiLCIuLi9zcmMvcHVibGljL2NoYWluZWRfb3BzL2xvZ2ljYWxfbm90LnRzIiwiLi4vc3JjL3B1YmxpYy9jaGFpbmVkX29wcy9sb2dpY2FsX29yLnRzIiwiLi4vc3JjL3B1YmxpYy9jaGFpbmVkX29wcy9sb2dpY2FsX3hvci50cyIsIi4uL3NyYy9wdWJsaWMvY2hhaW5lZF9vcHMvbWF0X211bC50cyIsIi4uL3NyYy9wdWJsaWMvY2hhaW5lZF9vcHMvbWF4X3Bvb2wudHMiLCIuLi9zcmMvcHVibGljL2NoYWluZWRfb3BzL21heC50cyIsIi4uL3NyYy9wdWJsaWMvY2hhaW5lZF9vcHMvbWF4aW11bV9zdHJpY3QudHMiLCIuLi9zcmMvcHVibGljL2NoYWluZWRfb3BzL21heGltdW0udHMiLCIuLi9zcmMvcHVibGljL2NoYWluZWRfb3BzL21lYW4udHMiLCIuLi9zcmMvcHVibGljL2NoYWluZWRfb3BzL21pbi50cyIsIi4uL3NyYy9wdWJsaWMvY2hhaW5lZF9vcHMvbWluaW11bV9zdHJpY3QudHMiLCIuLi9zcmMvcHVibGljL2NoYWluZWRfb3BzL21pbmltdW0udHMiLCIuLi9zcmMvcHVibGljL2NoYWluZWRfb3BzL21vZF9zdHJpY3QudHMiLCIuLi9zcmMvcHVibGljL2NoYWluZWRfb3BzL21vZC50cyIsIi4uL3NyYy9wdWJsaWMvY2hhaW5lZF9vcHMvbXVsX3N0cmljdC50cyIsIi4uL3NyYy9wdWJsaWMvY2hhaW5lZF9vcHMvbXVsLnRzIiwiLi4vc3JjL3B1YmxpYy9jaGFpbmVkX29wcy9uZWcudHMiLCIuLi9zcmMvcHVibGljL2NoYWluZWRfb3BzL25vcm0udHMiLCIuLi9zcmMvcHVibGljL2NoYWluZWRfb3BzL25vdF9lcXVhbF9zdHJpY3QudHMiLCIuLi9zcmMvcHVibGljL2NoYWluZWRfb3BzL25vdF9lcXVhbC50cyIsIi4uL3NyYy9wdWJsaWMvY2hhaW5lZF9vcHMvb25lX2hvdC50cyIsIi4uL3NyYy9wdWJsaWMvY2hhaW5lZF9vcHMvb25lc19saWtlLnRzIiwiLi4vc3JjL3B1YmxpYy9jaGFpbmVkX29wcy9wYWQudHMiLCIuLi9zcmMvcHVibGljL2NoYWluZWRfb3BzL3Bvb2wudHMiLCIuLi9zcmMvcHVibGljL2NoYWluZWRfb3BzL3Bvd19zdHJpY3QudHMiLCIuLi9zcmMvcHVibGljL2NoYWluZWRfb3BzL3Bvdy50cyIsIi4uL3NyYy9wdWJsaWMvY2hhaW5lZF9vcHMvcHJlbHUudHMiLCIuLi9zcmMvcHVibGljL2NoYWluZWRfb3BzL3Byb2QudHMiLCIuLi9zcmMvcHVibGljL2NoYWluZWRfb3BzL3JlY2lwcm9jYWwudHMiLCIuLi9zcmMvcHVibGljL2NoYWluZWRfb3BzL3JlbHUudHMiLCIuLi9zcmMvcHVibGljL2NoYWluZWRfb3BzL3JlbHU2LnRzIiwiLi4vc3JjL3B1YmxpYy9jaGFpbmVkX29wcy9yZXNoYXBlX2FzLnRzIiwiLi4vc3JjL3B1YmxpYy9jaGFpbmVkX29wcy9yZXNoYXBlLnRzIiwiLi4vc3JjL3B1YmxpYy9jaGFpbmVkX29wcy9yZXNpemVfYmlsaW5lYXIudHMiLCIuLi9zcmMvcHVibGljL2NoYWluZWRfb3BzL3Jlc2l6ZV9uZWFyZXN0X25laWdoYm9yLnRzIiwiLi4vc3JjL3B1YmxpYy9jaGFpbmVkX29wcy9yZXZlcnNlLnRzIiwiLi4vc3JjL3B1YmxpYy9jaGFpbmVkX29wcy9yZmZ0LnRzIiwiLi4vc3JjL3B1YmxpYy9jaGFpbmVkX29wcy9yb3VuZC50cyIsIi4uL3NyYy9wdWJsaWMvY2hhaW5lZF9vcHMvcnNxcnQudHMiLCIuLi9zcmMvcHVibGljL2NoYWluZWRfb3BzL3NlbHUudHMiLCIuLi9zcmMvcHVibGljL2NoYWluZWRfb3BzL3NlcGFyYWJsZV9jb252MmQudHMiLCIuLi9zcmMvcHVibGljL2NoYWluZWRfb3BzL3NpZ21vaWQudHMiLCIuLi9zcmMvcHVibGljL2NoYWluZWRfb3BzL3NpZ24udHMiLCIuLi9zcmMvcHVibGljL2NoYWluZWRfb3BzL3Npbi50cyIsIi4uL3NyYy9wdWJsaWMvY2hhaW5lZF9vcHMvc2luaC50cyIsIi4uL3NyYy9wdWJsaWMvY2hhaW5lZF9vcHMvc2xpY2UudHMiLCIuLi9zcmMvcHVibGljL2NoYWluZWRfb3BzL3NvZnRtYXgudHMiLCIuLi9zcmMvcHVibGljL2NoYWluZWRfb3BzL3NvZnRwbHVzLnRzIiwiLi4vc3JjL3B1YmxpYy9jaGFpbmVkX29wcy9zcGFjZV90b19iYXRjaF9uZC50cyIsIi4uL3NyYy9wdWJsaWMvY2hhaW5lZF9vcHMvc3BsaXQudHMiLCIuLi9zcmMvcHVibGljL2NoYWluZWRfb3BzL3NxcnQudHMiLCIuLi9zcmMvcHVibGljL2NoYWluZWRfb3BzL3NxdWFyZS50cyIsIi4uL3NyYy9wdWJsaWMvY2hhaW5lZF9vcHMvc3F1YXJlZF9kaWZmZXJlbmNlLnRzIiwiLi4vc3JjL3B1YmxpYy9jaGFpbmVkX29wcy9zcXVhcmVkX2RpZmZlcmVuY2Vfc3RyaWN0LnRzIiwiLi4vc3JjL3B1YmxpYy9jaGFpbmVkX29wcy9zcXVlZXplLnRzIiwiLi4vc3JjL3B1YmxpYy9jaGFpbmVkX29wcy9zdGFjay50cyIsIi4uL3NyYy9wdWJsaWMvY2hhaW5lZF9vcHMvc3RlcC50cyIsIi4uL3NyYy9wdWJsaWMvY2hhaW5lZF9vcHMvc3RyaWRlZF9zbGljZS50cyIsIi4uL3NyYy9wdWJsaWMvY2hhaW5lZF9vcHMvc3ViX3N0cmljdC50cyIsIi4uL3NyYy9wdWJsaWMvY2hhaW5lZF9vcHMvc3ViLnRzIiwiLi4vc3JjL3B1YmxpYy9jaGFpbmVkX29wcy9zdW0udHMiLCIuLi9zcmMvcHVibGljL2NoYWluZWRfb3BzL3Rhbi50cyIsIi4uL3NyYy9wdWJsaWMvY2hhaW5lZF9vcHMvdGFuaC50cyIsIi4uL3NyYy9wdWJsaWMvY2hhaW5lZF9vcHMvdGlsZS50cyIsIi4uL3NyYy9wdWJsaWMvY2hhaW5lZF9vcHMvdG9fYm9vbC50cyIsIi4uL3NyYy9wdWJsaWMvY2hhaW5lZF9vcHMvdG9fZmxvYXQudHMiLCIuLi9zcmMvcHVibGljL2NoYWluZWRfb3BzL3RvX2ludC50cyIsIi4uL3NyYy9wdWJsaWMvY2hhaW5lZF9vcHMvdG9way50cyIsIi4uL3NyYy9wdWJsaWMvY2hhaW5lZF9vcHMvdHJhbnNwb3NlLnRzIiwiLi4vc3JjL3B1YmxpYy9jaGFpbmVkX29wcy91bmlxdWUudHMiLCIuLi9zcmMvcHVibGljL2NoYWluZWRfb3BzL3Vuc29ydGVkX3NlZ21lbnRfc3VtLnRzIiwiLi4vc3JjL3B1YmxpYy9jaGFpbmVkX29wcy91bnN0YWNrLnRzIiwiLi4vc3JjL3B1YmxpYy9jaGFpbmVkX29wcy93aGVyZS50cyIsIi4uL3NyYy9wdWJsaWMvY2hhaW5lZF9vcHMvemVyb3NfbGlrZS50cyIsIi4uL3NyYy9vcHMvbGluc3BhY2UudHMiLCIuLi9zcmMvb3BzL3RlbnNvcjRkLnRzIiwiLi4vc3JjL29wcy90ZW5zb3I1ZC50cyIsIi4uL3NyYy9vcHMvdGVuc29yNmQudHMiLCIuLi9zcmMvb3BzL3ZhcmlhYmxlLnRzIiwiLi4vc3JjL3ZlcnNpb24udHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTggR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG5pbXBvcnQge0NvbnYyREluZm8sIENvbnYzREluZm99IGZyb20gJy4uL29wcy9jb252X3V0aWwnO1xuaW1wb3J0IHtGdXNlZEJhdGNoTWF0TXVsQ29uZmlnLCBGdXNlZENvbnYyRENvbmZpZ30gZnJvbSAnLi4vb3BzL2Z1c2VkX3R5cGVzJztcbmltcG9ydCB7QmFja2VuZCwgRGF0YUlkLCBTY2FsYXIsIFRlbnNvciwgVGVuc29yMUQsIFRlbnNvcjJELCBUZW5zb3IzRCwgVGVuc29yNEQsIFRlbnNvcjVEfSBmcm9tICcuLi90ZW5zb3InO1xuaW1wb3J0IHtCYWNrZW5kVmFsdWVzLCBEYXRhVHlwZSwgUmFuaywgU2hhcGVNYXB9IGZyb20gJy4uL3R5cGVzJztcblxuZXhwb3J0IGNvbnN0IEVQU0lMT05fRkxPQVQzMiA9IDFlLTc7XG5leHBvcnQgY29uc3QgRVBTSUxPTl9GTE9BVDE2ID0gMWUtNDtcblxuLy8gUmVxdWlyZWQgaW5mb3JtYXRpb24gZm9yIGFsbCBiYWNrZW5kcy5cbmV4cG9ydCBpbnRlcmZhY2UgQmFja2VuZFRpbWluZ0luZm8ge1xuICBrZXJuZWxNczogbnVtYmVyfHtlcnJvcjogc3RyaW5nfTtcbiAgZ2V0RXh0cmFQcm9maWxlSW5mbz8oKTogc3RyaW5nOyAgLy8gYSBmaWVsZCBmb3IgYWRkaXRpb25hbCB0aW1pbmcgaW5mb3JtYXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZS5nLiBwYWNraW5nIC8gdW5wYWNraW5nIGZvciBXZWJHTCBiYWNrZW5kXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVGVuc29yU3RvcmFnZSB7XG4gIHJlYWQoZGF0YUlkOiBEYXRhSWQpOiBQcm9taXNlPEJhY2tlbmRWYWx1ZXM+O1xuICByZWFkU3luYyhkYXRhSWQ6IERhdGFJZCk6IEJhY2tlbmRWYWx1ZXM7XG4gIGRpc3Bvc2VEYXRhKGRhdGFJZDogRGF0YUlkKTogdm9pZDtcbiAgd3JpdGUodmFsdWVzOiBCYWNrZW5kVmFsdWVzLCBzaGFwZTogbnVtYmVyW10sIGR0eXBlOiBEYXRhVHlwZSk6IERhdGFJZDtcbiAgbW92ZShkYXRhSWQ6IERhdGFJZCwgdmFsdWVzOiBCYWNrZW5kVmFsdWVzLCBzaGFwZTogbnVtYmVyW10sIGR0eXBlOiBEYXRhVHlwZSk6XG4gICAgICB2b2lkO1xuICBtZW1vcnkoKToge3VucmVsaWFibGU6IGJvb2xlYW47fTsgIC8vIEJhY2tlbmQtc3BlY2lmaWMgaW5mb3JtYXRpb24uXG4gIC8qKiBSZXR1cm5zIG51bWJlciBvZiBkYXRhIGlkcyBjdXJyZW50bHkgaW4gdGhlIHN0b3JhZ2UuICovXG4gIG51bURhdGFJZHMoKTogbnVtYmVyO1xufVxuXG4vKiogQ29udmVuaWVudCBjbGFzcyBmb3Igc3RvcmluZyB0ZW5zb3ItcmVsYXRlZCBkYXRhLiAqL1xuZXhwb3J0IGNsYXNzIERhdGFTdG9yYWdlPFQ+IHtcbiAgcHJpdmF0ZSBkYXRhID0gbmV3IFdlYWtNYXA8RGF0YUlkLCBUPigpO1xuICBwcml2YXRlIGRhdGFJZHNDb3VudCA9IDA7XG5cbiAgY29uc3RydWN0b3IocHJpdmF0ZSBiYWNrZW5kOiBLZXJuZWxCYWNrZW5kLCBwcml2YXRlIGRhdGFNb3ZlcjogRGF0YU1vdmVyKSB7fVxuXG4gIGdldChkYXRhSWQ6IERhdGFJZCkge1xuICAgIGlmICghdGhpcy5kYXRhLmhhcyhkYXRhSWQpKSB7XG4gICAgICB0aGlzLmRhdGFNb3Zlci5tb3ZlRGF0YSh0aGlzLmJhY2tlbmQsIGRhdGFJZCk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmRhdGEuZ2V0KGRhdGFJZCk7XG4gIH1cblxuICBzZXQoZGF0YUlkOiBEYXRhSWQsIHZhbHVlOiBUKTogdm9pZCB7XG4gICAgdGhpcy5kYXRhSWRzQ291bnQrKztcbiAgICB0aGlzLmRhdGEuc2V0KGRhdGFJZCwgdmFsdWUpO1xuICB9XG5cbiAgaGFzKGRhdGFJZDogRGF0YUlkKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuZGF0YS5oYXMoZGF0YUlkKTtcbiAgfVxuXG4gIGRlbGV0ZShkYXRhSWQ6IERhdGFJZCk6IGJvb2xlYW4ge1xuICAgIHRoaXMuZGF0YUlkc0NvdW50LS07XG4gICAgcmV0dXJuIHRoaXMuZGF0YS5kZWxldGUoZGF0YUlkKTtcbiAgfVxuXG4gIG51bURhdGFJZHMoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5kYXRhSWRzQ291bnQ7XG4gIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBEYXRhTW92ZXIge1xuICAvKipcbiAgICogVG8gYmUgY2FsbGVkIGJ5IGJhY2tlbmRzIHdoZW5ldmVyIHRoZXkgc2VlIGEgZGF0YUlkIHRoYXQgdGhleSBkb24ndCBvd24uXG4gICAqIFVwb24gY2FsbGluZyB0aGlzIG1ldGhvZCwgdGhlIG1vdmVyIHdpbGwgZmV0Y2ggdGhlIHRlbnNvciBmcm9tIGFub3RoZXJcbiAgICogYmFja2VuZCBhbmQgcmVnaXN0ZXIgaXQgd2l0aCB0aGUgY3VycmVudCBhY3RpdmUgYmFja2VuZC5cbiAgICovXG4gIG1vdmVEYXRhKGJhY2tlbmQ6IEtlcm5lbEJhY2tlbmQsIGRhdGFJZDogRGF0YUlkKTogdm9pZDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCYWNrZW5kVGltZXIge1xuICB0aW1lKGY6ICgpID0+IHZvaWQpOiBQcm9taXNlPEJhY2tlbmRUaW1pbmdJbmZvPjtcbn1cblxuLyoqXG4gKiBUaGUgaW50ZXJmYWNlIHRoYXQgZGVmaW5lcyB0aGUga2VybmVscyB0aGF0IHNob3VsZCBiZSBpbXBsZW1lbnRlZCB3aGVuXG4gKiBhZGRpbmcgYSBuZXcgYmFja2VuZC4gTmV3IGJhY2tlbmRzIGRvbid0IG5lZWQgdG8gaW1wbGVtZW50IGV2ZXJ5IG9uZSBvZiB0aGVcbiAqIG1ldGhvZHMsIHRoaXMgY2FuIGJlIGRvbmUgZ3JhZHVhbGx5ICh0aHJvdyBhbiBlcnJvciBmb3IgdW5pbXBsZW1lbnRlZFxuICogbWV0aG9kcykuXG4gKi9cbmV4cG9ydCBjbGFzcyBLZXJuZWxCYWNrZW5kIGltcGxlbWVudHMgVGVuc29yU3RvcmFnZSwgQmFja2VuZCwgQmFja2VuZFRpbWVyIHtcbiAgdGltZShmOiAoKSA9PiB2b2lkKTogUHJvbWlzZTxCYWNrZW5kVGltaW5nSW5mbz4ge1xuICAgIHJldHVybiBub3RZZXRJbXBsZW1lbnRlZCgndGltZScpO1xuICB9XG4gIHJlYWQoZGF0YUlkOiBvYmplY3QpOiBQcm9taXNlPEJhY2tlbmRWYWx1ZXM+IHtcbiAgICByZXR1cm4gbm90WWV0SW1wbGVtZW50ZWQoJ3JlYWQnKTtcbiAgfVxuICByZWFkU3luYyhkYXRhSWQ6IG9iamVjdCk6IEJhY2tlbmRWYWx1ZXMge1xuICAgIHJldHVybiBub3RZZXRJbXBsZW1lbnRlZCgncmVhZFN5bmMnKTtcbiAgfVxuICBudW1EYXRhSWRzKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIG5vdFlldEltcGxlbWVudGVkKCdudW1EYXRhSWRzJyk7XG4gIH1cbiAgZGlzcG9zZURhdGEoZGF0YUlkOiBvYmplY3QpOiB2b2lkIHtcbiAgICByZXR1cm4gbm90WWV0SW1wbGVtZW50ZWQoJ2Rpc3Bvc2VEYXRhJyk7XG4gIH1cbiAgd3JpdGUodmFsdWVzOiBCYWNrZW5kVmFsdWVzLCBzaGFwZTogbnVtYmVyW10sIGR0eXBlOiBEYXRhVHlwZSk6IERhdGFJZCB7XG4gICAgcmV0dXJuIG5vdFlldEltcGxlbWVudGVkKCd3cml0ZScpO1xuICB9XG4gIG1vdmUoZGF0YUlkOiBEYXRhSWQsIHZhbHVlczogQmFja2VuZFZhbHVlcywgc2hhcGU6IG51bWJlcltdLCBkdHlwZTogRGF0YVR5cGUpOlxuICAgICAgdm9pZCB7XG4gICAgcmV0dXJuIG5vdFlldEltcGxlbWVudGVkKCdtb3ZlJyk7XG4gIH1cbiAgbWVtb3J5KCk6IHt1bnJlbGlhYmxlOiBib29sZWFuOyByZWFzb25zPzogc3RyaW5nW119IHtcbiAgICByZXR1cm4gbm90WWV0SW1wbGVtZW50ZWQoJ21lbW9yeScpO1xuICB9XG4gIC8qKiBSZXR1cm5zIHRoZSBoaWdoZXN0IHByZWNpc2lvbiBmb3IgZmxvYXRzIGluIGJpdHMgKGUuZy4gMTYgb3IgMzIpICovXG4gIGZsb2F0UHJlY2lzaW9uKCk6IDE2fDMyIHtcbiAgICByZXR1cm4gbm90WWV0SW1wbGVtZW50ZWQoJ2Zsb2F0UHJlY2lzaW9uJyk7XG4gIH1cbiAgLyoqIFJldHVybnMgdGhlIHNtYWxsZXN0IHJlcHJlc2VudGFibGUgbnVtYmVyLiAgKi9cbiAgZXBzaWxvbigpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLmZsb2F0UHJlY2lzaW9uKCkgPT09IDMyID8gRVBTSUxPTl9GTE9BVDMyIDogRVBTSUxPTl9GTE9BVDE2O1xuICB9XG5cbiAgYmF0Y2hNYXRNdWwoXG4gICAgICBhOiBUZW5zb3IzRCwgYjogVGVuc29yM0QsIHRyYW5zcG9zZUE6IGJvb2xlYW4sXG4gICAgICB0cmFuc3Bvc2VCOiBib29sZWFuKTogVGVuc29yM0Qge1xuICAgIHJldHVybiBub3RZZXRJbXBsZW1lbnRlZCgnYmF0Y2hNYXRNdWwnKTtcbiAgfVxuXG4gIGZ1c2VkQmF0Y2hNYXRNdWwoXG4gICAgICB7YSwgYiwgdHJhbnNwb3NlQSwgdHJhbnNwb3NlQiwgYmlhcywgYWN0aXZhdGlvbiwgcHJlbHVBY3RpdmF0aW9uV2VpZ2h0c306XG4gICAgICAgICAgRnVzZWRCYXRjaE1hdE11bENvbmZpZyk6IFRlbnNvcjNEIHtcbiAgICByZXR1cm4gbm90WWV0SW1wbGVtZW50ZWQoJ2Z1c2VkQmF0Y2hNYXRNdWwnKTtcbiAgfVxuXG4gIHNsaWNlPFQgZXh0ZW5kcyBUZW5zb3I+KHg6IFQsIGJlZ2luOiBudW1iZXJbXSwgc2l6ZTogbnVtYmVyW10pOiBUIHtcbiAgICByZXR1cm4gbm90WWV0SW1wbGVtZW50ZWQoJ3NsaWNlJyk7XG4gIH1cbiAgc3RyaWRlZFNsaWNlPFQgZXh0ZW5kcyBUZW5zb3I+KFxuICAgICAgeDogVCwgYmVnaW46IG51bWJlcltdLCBlbmQ6IG51bWJlcltdLCBzdHJpZGVzOiBudW1iZXJbXSk6IFQge1xuICAgIHJldHVybiBub3RZZXRJbXBsZW1lbnRlZCgnc3RyaWRlZFNsaWNlJyk7XG4gIH1cbiAgdW5zdGFjayh4OiBUZW5zb3IsIGF4aXM6IG51bWJlcik6IFRlbnNvcltdIHtcbiAgICByZXR1cm4gbm90WWV0SW1wbGVtZW50ZWQoJ3Vuc3RhY2snKTtcbiAgfVxuICByZXZlcnNlPFQgZXh0ZW5kcyBUZW5zb3I+KGE6IFQsIGF4aXM6IG51bWJlcltdKTogVCB7XG4gICAgcmV0dXJuIG5vdFlldEltcGxlbWVudGVkKCdyZXZlcnNlJyk7XG4gIH1cblxuICBjb25jYXQodGVuc29yczogVGVuc29yW10sIGF4aXM6IG51bWJlcik6IFRlbnNvciB7XG4gICAgcmV0dXJuIG5vdFlldEltcGxlbWVudGVkKCdjb25jYXQnKTtcbiAgfVxuXG4gIG5lZzxUIGV4dGVuZHMgVGVuc29yPihhOiBUKTogVCB7XG4gICAgcmV0dXJuIG5vdFlldEltcGxlbWVudGVkKCduZWcnKTtcbiAgfVxuXG4gIGFkZChhOiBUZW5zb3IsIGI6IFRlbnNvcik6IFRlbnNvciB7XG4gICAgcmV0dXJuIG5vdFlldEltcGxlbWVudGVkKCdhZGQnKTtcbiAgfVxuICBhZGROPFQgZXh0ZW5kcyBUZW5zb3I+KHRlbnNvcnM6IFRbXSk6IFQge1xuICAgIHJldHVybiBub3RZZXRJbXBsZW1lbnRlZCgnYWRkTicpO1xuICB9XG4gIHN1YnRyYWN0KGE6IFRlbnNvciwgYjogVGVuc29yKTogVGVuc29yIHtcbiAgICByZXR1cm4gbm90WWV0SW1wbGVtZW50ZWQoJ3N1YnRyYWN0Jyk7XG4gIH1cbiAgbXVsdGlwbHkoYTogVGVuc29yLCBiOiBUZW5zb3IpOiBUZW5zb3Ige1xuICAgIHJldHVybiBub3RZZXRJbXBsZW1lbnRlZCgnbXVsdGlwbHknKTtcbiAgfVxuICByZWFsRGl2aWRlKGE6IFRlbnNvciwgYjogVGVuc29yKTogVGVuc29yIHtcbiAgICByZXR1cm4gbm90WWV0SW1wbGVtZW50ZWQoJ3JlYWxEaXZpZGUnKTtcbiAgfVxuICBmbG9vckRpdihhOiBUZW5zb3IsIGI6IFRlbnNvcik6IFRlbnNvciB7XG4gICAgcmV0dXJuIG5vdFlldEltcGxlbWVudGVkKCdmbG9vckRpdicpO1xuICB9XG5cbiAgc3VtKHg6IFRlbnNvciwgYXhlczogbnVtYmVyW10pOiBUZW5zb3Ige1xuICAgIHJldHVybiBub3RZZXRJbXBsZW1lbnRlZCgnc3VtJyk7XG4gIH1cbiAgcHJvZCh4OiBUZW5zb3IsIGF4ZXM6IG51bWJlcltdKTogVGVuc29yIHtcbiAgICByZXR1cm4gbm90WWV0SW1wbGVtZW50ZWQoJ3Byb2QnKTtcbiAgfVxuXG4gIHVuc29ydGVkU2VnbWVudFN1bTxUIGV4dGVuZHMgVGVuc29yPihcbiAgICAgIHg6IFQsIHNlZ21lbnRJZHM6IFRlbnNvcjFELCBudW1TZWdtZW50czogbnVtYmVyKTogVGVuc29yIHtcbiAgICByZXR1cm4gbm90WWV0SW1wbGVtZW50ZWQoJ3Vuc29ydGVkU2VnbWVudFN1bScpO1xuICB9XG5cbiAgYXJnTWluKHg6IFRlbnNvciwgYXhpczogbnVtYmVyKTogVGVuc29yIHtcbiAgICByZXR1cm4gbm90WWV0SW1wbGVtZW50ZWQoJ2FyZ01pbicpO1xuICB9XG4gIGFyZ01heCh4OiBUZW5zb3IsIGF4aXM6IG51bWJlcik6IFRlbnNvciB7XG4gICAgcmV0dXJuIG5vdFlldEltcGxlbWVudGVkKCdhcmdNYXgnKTtcbiAgfVxuXG4gIGVxdWFsKGE6IFRlbnNvciwgYjogVGVuc29yKTogVGVuc29yIHtcbiAgICByZXR1cm4gbm90WWV0SW1wbGVtZW50ZWQoJ2VxdWFsJyk7XG4gIH1cbiAgbm90RXF1YWwoYTogVGVuc29yLCBiOiBUZW5zb3IpOiBUZW5zb3Ige1xuICAgIHJldHVybiBub3RZZXRJbXBsZW1lbnRlZCgnbm90RXF1YWwnKTtcbiAgfVxuXG4gIGxlc3MoYTogVGVuc29yLCBiOiBUZW5zb3IpOiBUZW5zb3Ige1xuICAgIHJldHVybiBub3RZZXRJbXBsZW1lbnRlZCgnbGVzcycpO1xuICB9XG4gIGxlc3NFcXVhbChhOiBUZW5zb3IsIGI6IFRlbnNvcik6IFRlbnNvciB7XG4gICAgcmV0dXJuIG5vdFlldEltcGxlbWVudGVkKCdsZXNzRXF1YWwnKTtcbiAgfVxuXG4gIGdyZWF0ZXIoYTogVGVuc29yLCBiOiBUZW5zb3IpOiBUZW5zb3Ige1xuICAgIHJldHVybiBub3RZZXRJbXBsZW1lbnRlZCgnZ3JlYXRlcicpO1xuICB9XG4gIGdyZWF0ZXJFcXVhbChhOiBUZW5zb3IsIGI6IFRlbnNvcik6IFRlbnNvciB7XG4gICAgcmV0dXJuIG5vdFlldEltcGxlbWVudGVkKCdncmVhdGVyRXF1YWwnKTtcbiAgfVxuXG4gIGxvZ2ljYWxOb3Q8VCBleHRlbmRzIFRlbnNvcj4oYTogVCk6IFQge1xuICAgIHJldHVybiBub3RZZXRJbXBsZW1lbnRlZCgnbG9naWNhbE5vdCcpO1xuICB9XG4gIGxvZ2ljYWxBbmQoYTogVGVuc29yLCBiOiBUZW5zb3IpOiBUZW5zb3Ige1xuICAgIHJldHVybiBub3RZZXRJbXBsZW1lbnRlZCgnbG9naWNhbEFuZCcpO1xuICB9XG4gIGxvZ2ljYWxPcihhOiBUZW5zb3IsIGI6IFRlbnNvcik6IFRlbnNvciB7XG4gICAgcmV0dXJuIG5vdFlldEltcGxlbWVudGVkKCdsb2dpY2FsT3InKTtcbiAgfVxuXG4gIHdoZXJlKGNvbmRpdGlvbjogVGVuc29yKTogVGVuc29yMkQge1xuICAgIHJldHVybiBub3RZZXRJbXBsZW1lbnRlZCgnd2hlcmUnKTtcbiAgfVxuICBzZWxlY3QoY29uZGl0aW9uOiBUZW5zb3IsIGE6IFRlbnNvciwgYjogVGVuc29yKTogVGVuc29yIHtcbiAgICByZXR1cm4gbm90WWV0SW1wbGVtZW50ZWQoJ3NlbGVjdCcpO1xuICB9XG5cbiAgdG9wazxUIGV4dGVuZHMgVGVuc29yPih4OiBULCBrOiBudW1iZXIsIHNvcnRlZDogYm9vbGVhbik6IFtULCBUXSB7XG4gICAgcmV0dXJuIG5vdFlldEltcGxlbWVudGVkKCd0b3BrJyk7XG4gIH1cblxuICBtaW4oeDogVGVuc29yLCBheGVzOiBudW1iZXJbXSk6IFRlbnNvciB7XG4gICAgcmV0dXJuIG5vdFlldEltcGxlbWVudGVkKCdtaW4nKTtcbiAgfVxuICBtaW5pbXVtKGE6IFRlbnNvciwgYjogVGVuc29yKTogVGVuc29yIHtcbiAgICByZXR1cm4gbm90WWV0SW1wbGVtZW50ZWQoJ21pbmltdW0nKTtcbiAgfVxuXG4gIG1vZChhOiBUZW5zb3IsIGI6IFRlbnNvcik6IFRlbnNvciB7XG4gICAgcmV0dXJuIG5vdFlldEltcGxlbWVudGVkKCdtb2QnKTtcbiAgfVxuXG4gIG1heCh4OiBUZW5zb3IsIGF4ZXM6IG51bWJlcltdKTogVGVuc29yIHtcbiAgICByZXR1cm4gbm90WWV0SW1wbGVtZW50ZWQoJ21heCcpO1xuICB9XG4gIG1heGltdW0oYTogVGVuc29yLCBiOiBUZW5zb3IpOiBUZW5zb3Ige1xuICAgIHJldHVybiBub3RZZXRJbXBsZW1lbnRlZCgnbWF4aW11bScpO1xuICB9XG5cbiAgYWxsKHg6IFRlbnNvciwgYXhlczogbnVtYmVyW10pOiBUZW5zb3Ige1xuICAgIHJldHVybiBub3RZZXRJbXBsZW1lbnRlZCgnYWxsJyk7XG4gIH1cbiAgYW55KHg6IFRlbnNvciwgYXhlczogbnVtYmVyW10pOiBUZW5zb3Ige1xuICAgIHJldHVybiBub3RZZXRJbXBsZW1lbnRlZCgnYW55Jyk7XG4gIH1cblxuICBzcXVhcmVkRGlmZmVyZW5jZShhOiBUZW5zb3IsIGI6IFRlbnNvcik6IFRlbnNvciB7XG4gICAgcmV0dXJuIG5vdFlldEltcGxlbWVudGVkKCdzcXVhcmVkRGlmZmVyZW5jZScpO1xuICB9XG5cbiAgY2VpbDxUIGV4dGVuZHMgVGVuc29yPih4OiBUKTogVCB7XG4gICAgcmV0dXJuIG5vdFlldEltcGxlbWVudGVkKCdjZWlsJyk7XG4gIH1cbiAgZmxvb3I8VCBleHRlbmRzIFRlbnNvcj4oeDogVCk6IFQge1xuICAgIHJldHVybiBub3RZZXRJbXBsZW1lbnRlZCgnZmxvb3InKTtcbiAgfVxuICByb3VuZDxUIGV4dGVuZHMgVGVuc29yPih4OiBUKTogVCB7XG4gICAgcmV0dXJuIG5vdFlldEltcGxlbWVudGVkKCdyb3VuZCcpO1xuICB9XG5cbiAgc2lnbjxUIGV4dGVuZHMgVGVuc29yPih4OiBUKTogVCB7XG4gICAgcmV0dXJuIG5vdFlldEltcGxlbWVudGVkKCdzaWduJyk7XG4gIH1cblxuICBpc05hTjxUIGV4dGVuZHMgVGVuc29yPih4OiBUKTogVCB7XG4gICAgcmV0dXJuIG5vdFlldEltcGxlbWVudGVkKCdpc05hTicpO1xuICB9XG4gIGlzSW5mPFQgZXh0ZW5kcyBUZW5zb3I+KHg6IFQpOiBUIHtcbiAgICByZXR1cm4gbm90WWV0SW1wbGVtZW50ZWQoJ2lzSW5mJyk7XG4gIH1cbiAgaXNGaW5pdGU8VCBleHRlbmRzIFRlbnNvcj4oeDogVCk6IFQge1xuICAgIHJldHVybiBub3RZZXRJbXBsZW1lbnRlZCgnaXNGaW5pdGUnKTtcbiAgfVxuXG4gIHBvdzxUIGV4dGVuZHMgVGVuc29yPihhOiBULCBiOiBUZW5zb3IpOiBUIHtcbiAgICByZXR1cm4gbm90WWV0SW1wbGVtZW50ZWQoJ3BvdycpO1xuICB9XG4gIGV4cDxUIGV4dGVuZHMgVGVuc29yPih4OiBUKTogVCB7XG4gICAgcmV0dXJuIG5vdFlldEltcGxlbWVudGVkKCdleHAnKTtcbiAgfVxuICBleHBtMTxUIGV4dGVuZHMgVGVuc29yPih4OiBUKTogVCB7XG4gICAgcmV0dXJuIG5vdFlldEltcGxlbWVudGVkKCdleHBtMScpO1xuICB9XG4gIHNvZnRtYXg8VCBleHRlbmRzIFRlbnNvcj4oeDogVCwgZGltOiBudW1iZXIpOiBUIHtcbiAgICByZXR1cm4gbm90WWV0SW1wbGVtZW50ZWQoJ3NvZnRtYXgnKTtcbiAgfVxuICBsb2c8VCBleHRlbmRzIFRlbnNvcj4oeDogVCk6IFQge1xuICAgIHJldHVybiBub3RZZXRJbXBsZW1lbnRlZCgnbG9nJyk7XG4gIH1cbiAgbG9nMXA8VCBleHRlbmRzIFRlbnNvcj4oeDogVCk6IFQge1xuICAgIHJldHVybiBub3RZZXRJbXBsZW1lbnRlZCgnbG9nMXAnKTtcbiAgfVxuICBzcXJ0PFQgZXh0ZW5kcyBUZW5zb3I+KHg6IFQpOiBUIHtcbiAgICByZXR1cm4gbm90WWV0SW1wbGVtZW50ZWQoJ3NxcnQnKTtcbiAgfVxuICByc3FydDxUIGV4dGVuZHMgVGVuc29yPih4OiBUKTogVCB7XG4gICAgcmV0dXJuIG5vdFlldEltcGxlbWVudGVkKCdyc3FydCcpO1xuICB9XG4gIHNxdWFyZTxUIGV4dGVuZHMgVGVuc29yPih4OiBUKTogVCB7XG4gICAgcmV0dXJuIG5vdFlldEltcGxlbWVudGVkKCdzcXVhcmUnKTtcbiAgfVxuICByZWNpcHJvY2FsPFQgZXh0ZW5kcyBUZW5zb3I+KHg6IFQpOiBUIHtcbiAgICByZXR1cm4gbm90WWV0SW1wbGVtZW50ZWQoJ3JlY2lwcm9jYWwnKTtcbiAgfVxuICByZWx1PFQgZXh0ZW5kcyBUZW5zb3I+KHg6IFQpOiBUIHtcbiAgICByZXR1cm4gbm90WWV0SW1wbGVtZW50ZWQoJ3JlbHUnKTtcbiAgfVxuICByZWx1NjxUIGV4dGVuZHMgVGVuc29yPih4OiBUKTogVCB7XG4gICAgcmV0dXJuIG5vdFlldEltcGxlbWVudGVkKCdyZWx1NicpO1xuICB9XG4gIHByZWx1PFQgZXh0ZW5kcyBUZW5zb3I+KHg6IFQsIGE6IFQpOiBUIHtcbiAgICByZXR1cm4gbm90WWV0SW1wbGVtZW50ZWQoJ3ByZWx1Jyk7XG4gIH1cbiAgZWx1PFQgZXh0ZW5kcyBUZW5zb3I+KHg6IFQpOiBUIHtcbiAgICByZXR1cm4gbm90WWV0SW1wbGVtZW50ZWQoJ2VsdScpO1xuICB9XG4gIGVsdURlcjxUIGV4dGVuZHMgVGVuc29yPihkeTogVCwgeTogVCk6IFQge1xuICAgIHJldHVybiBub3RZZXRJbXBsZW1lbnRlZCgnZWx1RGVyJyk7XG4gIH1cbiAgc2VsdTxUIGV4dGVuZHMgVGVuc29yPih4OiBUKTogVCB7XG4gICAgcmV0dXJuIG5vdFlldEltcGxlbWVudGVkKCdzZWx1Jyk7XG4gIH1cbiAgaW50PFQgZXh0ZW5kcyBUZW5zb3I+KHg6IFQpOiBUIHtcbiAgICByZXR1cm4gbm90WWV0SW1wbGVtZW50ZWQoJ2ludCcpO1xuICB9XG5cbiAgY2xpcDxUIGV4dGVuZHMgVGVuc29yPih4OiBULCBtaW46IG51bWJlciwgbWF4OiBudW1iZXIpOiBUIHtcbiAgICByZXR1cm4gbm90WWV0SW1wbGVtZW50ZWQoJ2NsaXAnKTtcbiAgfVxuXG4gIGFiczxUIGV4dGVuZHMgVGVuc29yPih4OiBUKTogVCB7XG4gICAgcmV0dXJuIG5vdFlldEltcGxlbWVudGVkKCdhYnMnKTtcbiAgfVxuICBjb21wbGV4QWJzPFQgZXh0ZW5kcyBUZW5zb3I+KHg6IFQpOiBUIHtcbiAgICByZXR1cm4gbm90WWV0SW1wbGVtZW50ZWQoJ2NvbXBsZXhBYnMnKTtcbiAgfVxuXG4gIHNpZ21vaWQ8VCBleHRlbmRzIFRlbnNvcj4oeDogVCk6IFQge1xuICAgIHJldHVybiBub3RZZXRJbXBsZW1lbnRlZCgnc2lnbW9pZCcpO1xuICB9XG5cbiAgc29mdHBsdXM8VCBleHRlbmRzIFRlbnNvcj4oeDogVCk6IFQge1xuICAgIHJldHVybiBub3RZZXRJbXBsZW1lbnRlZCgnc29mdHBsdXMnKTtcbiAgfVxuXG4gIHNpbjxUIGV4dGVuZHMgVGVuc29yPih4OiBUKTogVCB7XG4gICAgcmV0dXJuIG5vdFlldEltcGxlbWVudGVkKCdzaW4nKTtcbiAgfVxuICBjb3M8VCBleHRlbmRzIFRlbnNvcj4oeDogVCk6IFQge1xuICAgIHJldHVybiBub3RZZXRJbXBsZW1lbnRlZCgnY29zJyk7XG4gIH1cbiAgdGFuPFQgZXh0ZW5kcyBUZW5zb3I+KHg6IFQpOiBUIHtcbiAgICByZXR1cm4gbm90WWV0SW1wbGVtZW50ZWQoJ3RhbicpO1xuICB9XG5cbiAgYXNpbjxUIGV4dGVuZHMgVGVuc29yPih4OiBUKTogVCB7XG4gICAgcmV0dXJuIG5vdFlldEltcGxlbWVudGVkKCdhc2luJyk7XG4gIH1cbiAgYWNvczxUIGV4dGVuZHMgVGVuc29yPih4OiBUKTogVCB7XG4gICAgcmV0dXJuIG5vdFlldEltcGxlbWVudGVkKCdhY29zJyk7XG4gIH1cbiAgYXRhbjxUIGV4dGVuZHMgVGVuc29yPih4OiBUKTogVCB7XG4gICAgcmV0dXJuIG5vdFlldEltcGxlbWVudGVkKCdhdGFuJyk7XG4gIH1cbiAgYXRhbjI8VCBleHRlbmRzIFRlbnNvcj4oYTogVCwgYjogVCk6IFQge1xuICAgIHJldHVybiBub3RZZXRJbXBsZW1lbnRlZCgnYXRhbjInKTtcbiAgfVxuXG4gIHNpbmg8VCBleHRlbmRzIFRlbnNvcj4oeDogVCk6IFQge1xuICAgIHJldHVybiBub3RZZXRJbXBsZW1lbnRlZCgnc2luaCcpO1xuICB9XG4gIGNvc2g8VCBleHRlbmRzIFRlbnNvcj4oeDogVCk6IFQge1xuICAgIHJldHVybiBub3RZZXRJbXBsZW1lbnRlZCgnY29zaCcpO1xuICB9XG4gIHRhbmg8VCBleHRlbmRzIFRlbnNvcj4oeDogVCk6IFQge1xuICAgIHJldHVybiBub3RZZXRJbXBsZW1lbnRlZCgndGFuaCcpO1xuICB9XG5cbiAgYXNpbmg8VCBleHRlbmRzIFRlbnNvcj4oeDogVCk6IFQge1xuICAgIHJldHVybiBub3RZZXRJbXBsZW1lbnRlZCgnYXNpbmgnKTtcbiAgfVxuICBhY29zaDxUIGV4dGVuZHMgVGVuc29yPih4OiBUKTogVCB7XG4gICAgcmV0dXJuIG5vdFlldEltcGxlbWVudGVkKCdhY29zaCcpO1xuICB9XG4gIGF0YW5oPFQgZXh0ZW5kcyBUZW5zb3I+KHg6IFQpOiBUIHtcbiAgICByZXR1cm4gbm90WWV0SW1wbGVtZW50ZWQoJ2F0YW5oJyk7XG4gIH1cblxuICBlcmY8VCBleHRlbmRzIFRlbnNvcj4oeDogVCk6IFQge1xuICAgIHJldHVybiBub3RZZXRJbXBsZW1lbnRlZCgnZXJmJyk7XG4gIH1cblxuICBzdGVwPFQgZXh0ZW5kcyBUZW5zb3I+KHg6IFQsIGFscGhhOiBudW1iZXIpOiBUIHtcbiAgICByZXR1cm4gbm90WWV0SW1wbGVtZW50ZWQoJ3N0ZXAnKTtcbiAgfVxuXG4gIGZ1c2VkQ29udjJkKFxuICAgICAge2lucHV0LCBmaWx0ZXIsIGNvbnZJbmZvLCBiaWFzLCBhY3RpdmF0aW9uLCBwcmVsdUFjdGl2YXRpb25XZWlnaHRzfTpcbiAgICAgICAgICBGdXNlZENvbnYyRENvbmZpZyk6IFRlbnNvcjREIHtcbiAgICByZXR1cm4gbm90WWV0SW1wbGVtZW50ZWQoJ2Z1c2VkQ29udjJkJyk7XG4gIH1cblxuICBjb252MmQoeDogVGVuc29yNEQsIGZpbHRlcjogVGVuc29yNEQsIGNvbnZJbmZvOiBDb252MkRJbmZvKTogVGVuc29yNEQge1xuICAgIHJldHVybiBub3RZZXRJbXBsZW1lbnRlZCgnY29udjJkJyk7XG4gIH1cbiAgY29udjJkRGVySW5wdXQoZHk6IFRlbnNvcjRELCBmaWx0ZXI6IFRlbnNvcjRELCBjb252SW5mbzogQ29udjJESW5mbyk6XG4gICAgICBUZW5zb3I0RCB7XG4gICAgcmV0dXJuIG5vdFlldEltcGxlbWVudGVkKCdjb252MmREZXJJbnB1dCcpO1xuICB9XG4gIGNvbnYyZERlckZpbHRlcih4OiBUZW5zb3I0RCwgZFk6IFRlbnNvcjRELCBjb252SW5mbzogQ29udjJESW5mbyk6IFRlbnNvcjREIHtcbiAgICByZXR1cm4gbm90WWV0SW1wbGVtZW50ZWQoJ2NvbnYyZERlckZpbHRlcicpO1xuICB9XG5cbiAgZnVzZWREZXB0aHdpc2VDb252MkQoXG4gICAgICB7aW5wdXQsIGZpbHRlciwgY29udkluZm8sIGJpYXMsIGFjdGl2YXRpb24sIHByZWx1QWN0aXZhdGlvbldlaWdodHN9OlxuICAgICAgICAgIEZ1c2VkQ29udjJEQ29uZmlnKTogVGVuc29yNEQge1xuICAgIHJldHVybiBub3RZZXRJbXBsZW1lbnRlZCgnZnVzZWREZXB0aHdpc2VDb252MkQnKTtcbiAgfVxuXG4gIGRlcHRod2lzZUNvbnYyRChpbnB1dDogVGVuc29yNEQsIGZpbHRlcjogVGVuc29yNEQsIGNvbnZJbmZvOiBDb252MkRJbmZvKTpcbiAgICAgIFRlbnNvcjREIHtcbiAgICByZXR1cm4gbm90WWV0SW1wbGVtZW50ZWQoJ2RlcHRod2lzZUNvbnYyRCcpO1xuICB9XG4gIGRlcHRod2lzZUNvbnYyRERlcklucHV0KGR5OiBUZW5zb3I0RCwgZmlsdGVyOiBUZW5zb3I0RCwgY29udkluZm86IENvbnYyREluZm8pOlxuICAgICAgVGVuc29yNEQge1xuICAgIHJldHVybiBub3RZZXRJbXBsZW1lbnRlZCgnZGVwdGh3aXNlQ29udjJERGVySW5wdXQnKTtcbiAgfVxuICBkZXB0aHdpc2VDb252MkREZXJGaWx0ZXIoeDogVGVuc29yNEQsIGRZOiBUZW5zb3I0RCwgY29udkluZm86IENvbnYyREluZm8pOlxuICAgICAgVGVuc29yNEQge1xuICAgIHJldHVybiBub3RZZXRJbXBsZW1lbnRlZCgnZGVwdGh3aXNlQ29udjJERGVyRmlsdGVyJyk7XG4gIH1cbiAgY29udjNkKHg6IFRlbnNvcjVELCBmaWx0ZXI6IFRlbnNvcjVELCBjb252SW5mbzogQ29udjNESW5mbyk6IFRlbnNvcjVEIHtcbiAgICByZXR1cm4gbm90WWV0SW1wbGVtZW50ZWQoJ2NvbnYzZCcpO1xuICB9XG4gIGNvbnYzZERlcklucHV0KGR5OiBUZW5zb3I1RCwgZmlsdGVyOiBUZW5zb3I1RCwgY29udkluZm86IENvbnYzREluZm8pOlxuICAgICAgVGVuc29yNUQge1xuICAgIHJldHVybiBub3RZZXRJbXBsZW1lbnRlZCgnY29udjNkRGVySW5wdXQnKTtcbiAgfVxuICBjb252M2REZXJGaWx0ZXIoeDogVGVuc29yNUQsIGRZOiBUZW5zb3I1RCwgY29udkluZm86IENvbnYzREluZm8pOiBUZW5zb3I1RCB7XG4gICAgcmV0dXJuIG5vdFlldEltcGxlbWVudGVkKCdjb252M2REZXJGaWx0ZXInKTtcbiAgfVxuICBtYXhQb29sKHg6IFRlbnNvcjRELCBjb252SW5mbzogQ29udjJESW5mbyk6IFRlbnNvcjREIHtcbiAgICByZXR1cm4gbm90WWV0SW1wbGVtZW50ZWQoJ21heFBvb2wnKTtcbiAgfVxuICBtYXhQb29sQmFja3Byb3AoZHk6IFRlbnNvcjRELCB4OiBUZW5zb3I0RCwgeTogVGVuc29yNEQsIGNvbnZJbmZvOiBDb252MkRJbmZvKTpcbiAgICAgIFRlbnNvcjREIHtcbiAgICByZXR1cm4gbm90WWV0SW1wbGVtZW50ZWQoJ21heFBvb2xCYWNrcHJvcCcpO1xuICB9XG4gIGF2Z1Bvb2woeDogVGVuc29yNEQsIGNvbnZJbmZvOiBDb252MkRJbmZvKTogVGVuc29yNEQge1xuICAgIHJldHVybiBub3RZZXRJbXBsZW1lbnRlZCgnYXZnUG9vbCcpO1xuICB9XG4gIGF2Z1Bvb2xCYWNrcHJvcChkeTogVGVuc29yNEQsIHg6IFRlbnNvcjRELCBjb252SW5mbzogQ29udjJESW5mbyk6IFRlbnNvcjREIHtcbiAgICByZXR1cm4gbm90WWV0SW1wbGVtZW50ZWQoJ2F2Z1Bvb2xCYWNrcHJvcCcpO1xuICB9XG4gIGF2Z1Bvb2wzZCh4OiBUZW5zb3I1RCwgY29udkluZm86IENvbnYzREluZm8pOiBUZW5zb3I1RCB7XG4gICAgcmV0dXJuIG5vdFlldEltcGxlbWVudGVkKCdhdmdQb29sM2QnKTtcbiAgfVxuICBhdmdQb29sM2RCYWNrcHJvcChkeTogVGVuc29yNUQsIHg6IFRlbnNvcjVELCBjb252SW5mbzogQ29udjNESW5mbyk6IFRlbnNvcjVEIHtcbiAgICByZXR1cm4gbm90WWV0SW1wbGVtZW50ZWQoJ2F2Z1Bvb2wzZEJhY2twcm9wJyk7XG4gIH1cbiAgbWF4UG9vbDNkKHg6IFRlbnNvcjVELCBjb252SW5mbzogQ29udjNESW5mbyk6IFRlbnNvcjVEIHtcbiAgICByZXR1cm4gbm90WWV0SW1wbGVtZW50ZWQoJ21heFBvb2wzZCcpO1xuICB9XG4gIG1heFBvb2wzZEJhY2twcm9wKFxuICAgICAgZHk6IFRlbnNvcjVELCB4OiBUZW5zb3I1RCwgeTogVGVuc29yNUQsIGNvbnZJbmZvOiBDb252M0RJbmZvKTogVGVuc29yNUQge1xuICAgIHJldHVybiBub3RZZXRJbXBsZW1lbnRlZCgnbWF4UG9vbDNkQmFja3Byb3AnKTtcbiAgfVxuXG4gIHJlc2hhcGU8VCBleHRlbmRzIFRlbnNvciwgUiBleHRlbmRzIFJhbms+KHg6IFQsIHNoYXBlOiBTaGFwZU1hcFtSXSk6XG4gICAgICBUZW5zb3I8Uj4ge1xuICAgIHJldHVybiBub3RZZXRJbXBsZW1lbnRlZCgncmVzaGFwZScpO1xuICB9XG4gIGNhc3Q8VCBleHRlbmRzIFRlbnNvcj4oeDogVCwgZHR5cGU6IERhdGFUeXBlKTogVCB7XG4gICAgcmV0dXJuIG5vdFlldEltcGxlbWVudGVkKCdjYXN0Jyk7XG4gIH1cblxuICB0aWxlPFQgZXh0ZW5kcyBUZW5zb3I+KHg6IFQsIHJlcHM6IG51bWJlcltdKTogVCB7XG4gICAgcmV0dXJuIG5vdFlldEltcGxlbWVudGVkKCd0aWxlJyk7XG4gIH1cblxuICBwYWQ8VCBleHRlbmRzIFRlbnNvcj4oXG4gICAgICB4OiBULCBwYWRkaW5nczogQXJyYXk8W251bWJlciwgbnVtYmVyXT4sIGNvbnN0YW50VmFsdWU6IG51bWJlcik6IFQge1xuICAgIHJldHVybiBub3RZZXRJbXBsZW1lbnRlZCgncGFkJyk7XG4gIH1cblxuICB0cmFuc3Bvc2U8VCBleHRlbmRzIFRlbnNvcj4oeDogVCwgcGVybTogbnVtYmVyW10pOiBUIHtcbiAgICByZXR1cm4gbm90WWV0SW1wbGVtZW50ZWQoJ3RyYW5zcG9zZScpO1xuICB9XG5cbiAgZ2F0aGVyPFQgZXh0ZW5kcyBUZW5zb3I+KHg6IFQsIGluZGljZXM6IFRlbnNvcjFELCBheGlzOiBudW1iZXIpOiBUIHtcbiAgICByZXR1cm4gbm90WWV0SW1wbGVtZW50ZWQoJ2dhdGhlcicpO1xuICB9XG5cbiAgZ2F0aGVyTkQoeDogVGVuc29yLCBpbmRpY2VzOiBUZW5zb3IpOiBUZW5zb3Ige1xuICAgIHJldHVybiBub3RZZXRJbXBsZW1lbnRlZCgnZ2F0aGVyTkQnKTtcbiAgfVxuXG4gIHNjYXR0ZXJORDxSIGV4dGVuZHMgUmFuaz4oXG4gICAgICBpbmRpY2VzOiBUZW5zb3IsIHVwZGF0ZXM6IFRlbnNvciwgc2hhcGU6IFNoYXBlTWFwW1JdKTogVGVuc29yPFI+IHtcbiAgICByZXR1cm4gbm90WWV0SW1wbGVtZW50ZWQoJ3NjYXR0ZXJORCcpO1xuICB9XG5cbiAgYmF0Y2hUb1NwYWNlTkQ8VCBleHRlbmRzIFRlbnNvcj4oXG4gICAgICB4OiBULCBibG9ja1NoYXBlOiBudW1iZXJbXSwgY3JvcHM6IG51bWJlcltdW10pOiBUIHtcbiAgICByZXR1cm4gbm90WWV0SW1wbGVtZW50ZWQoJ2JhdGNoVG9TcGFjZU5EJyk7XG4gIH1cblxuICBzcGFjZVRvQmF0Y2hORDxUIGV4dGVuZHMgVGVuc29yPihcbiAgICAgIHg6IFQsIGJsb2NrU2hhcGU6IG51bWJlcltdLCBwYWRkaW5nczogbnVtYmVyW11bXSk6IFQge1xuICAgIHJldHVybiBub3RZZXRJbXBsZW1lbnRlZCgnc3BhY2VUb0JhdGNoTkQnKTtcbiAgfVxuXG4gIHJlc2l6ZUJpbGluZWFyKFxuICAgICAgeDogVGVuc29yNEQsIG5ld0hlaWdodDogbnVtYmVyLCBuZXdXaWR0aDogbnVtYmVyLFxuICAgICAgYWxpZ25Db3JuZXJzOiBib29sZWFuKTogVGVuc29yNEQge1xuICAgIHJldHVybiBub3RZZXRJbXBsZW1lbnRlZCgncmVzaXplQmlsaW5lYXInKTtcbiAgfVxuXG4gIHJlc2l6ZUJpbGluZWFyQmFja3Byb3AoZHk6IFRlbnNvcjRELCB4OiBUZW5zb3I0RCwgYWxpZ25Db3JuZXJzOiBib29sZWFuKTpcbiAgICAgIFRlbnNvcjREIHtcbiAgICByZXR1cm4gbm90WWV0SW1wbGVtZW50ZWQoJ3Jlc2l6ZUJpbGluZWFyQmFja3Byb3AnKTtcbiAgfVxuXG4gIHJlc2l6ZU5lYXJlc3ROZWlnaGJvcihcbiAgICAgIHg6IFRlbnNvcjRELCBuZXdIRWlnaHQ6IG51bWJlciwgbmV3V2lkdGg6IG51bWJlcixcbiAgICAgIGFsaWduQ29ybmVyczogYm9vbGVhbik6IFRlbnNvcjREIHtcbiAgICByZXR1cm4gbm90WWV0SW1wbGVtZW50ZWQoJ3Jlc2l6ZU5lYXJlc3ROZWlnaGJvcicpO1xuICB9XG5cbiAgcmVzaXplTmVhcmVzdE5laWdoYm9yQmFja3Byb3AoXG4gICAgICBkeTogVGVuc29yNEQsIHg6IFRlbnNvcjRELCBhbGlnbkNvcm5lcnM6IGJvb2xlYW4pOiBUZW5zb3I0RCB7XG4gICAgcmV0dXJuIG5vdFlldEltcGxlbWVudGVkKCdyZXNpemVOZWFyZXN0TmVpZ2hib3JCYWNrcHJvcCcpO1xuICB9XG5cbiAgYmF0Y2hOb3JtKFxuICAgICAgeDogVGVuc29yNEQsIG1lYW46IFRlbnNvcjREfFRlbnNvcjFELCB2YXJpYW5jZTogVGVuc29yNER8VGVuc29yMUQsXG4gICAgICBvZmZzZXQ/OiBUZW5zb3I0RHxUZW5zb3IxRCwgc2NhbGU/OiBUZW5zb3I0RHxUZW5zb3IxRCxcbiAgICAgIHZhcmlhbmNlRXBzaWxvbj86IG51bWJlcik6IFRlbnNvcjREIHtcbiAgICByZXR1cm4gbm90WWV0SW1wbGVtZW50ZWQoJ2JhdGNoTm9ybScpO1xuICB9XG5cbiAgbG9jYWxSZXNwb25zZU5vcm1hbGl6YXRpb240RChcbiAgICAgIHg6IFRlbnNvcjRELCByYWRpdXM6IG51bWJlciwgYmlhczogbnVtYmVyLCBhbHBoYTogbnVtYmVyLFxuICAgICAgYmV0YTogbnVtYmVyKTogVGVuc29yNEQge1xuICAgIHJldHVybiBub3RZZXRJbXBsZW1lbnRlZCgnbG9jYWxSZXNwb25zZU5vcm1hbGl6YXRpb240RCcpO1xuICB9XG5cbiAgTFJOR3JhZChcbiAgICAgIGR5OiBUZW5zb3I0RCwgaW5wdXRJbWFnZTogVGVuc29yNEQsIG91dHB1dEltYWdlOiBUZW5zb3I0RCwgcmFkaXVzOiBudW1iZXIsXG4gICAgICBiaWFzOiBudW1iZXIsIGFscGhhOiBudW1iZXIsIGJldGE6IG51bWJlcik6IFRlbnNvcjREIHtcbiAgICByZXR1cm4gbm90WWV0SW1wbGVtZW50ZWQoJ0xSTkdyYWQnKTtcbiAgfVxuXG4gIG11bHRpbm9taWFsKFxuICAgICAgbG9naXRzOiBUZW5zb3IyRCwgbm9ybWFsaXplZDogYm9vbGVhbiwgbnVtU2FtcGxlczogbnVtYmVyLFxuICAgICAgc2VlZDogbnVtYmVyKTogVGVuc29yMkQge1xuICAgIHJldHVybiBub3RZZXRJbXBsZW1lbnRlZCgnbXVsdGlub21pYWwnKTtcbiAgfVxuXG4gIG9uZUhvdChpbmRpY2VzOiBUZW5zb3IxRCwgZGVwdGg6IG51bWJlciwgb25WYWx1ZTogbnVtYmVyLCBvZmZWYWx1ZTogbnVtYmVyKTpcbiAgICAgIFRlbnNvcjJEIHtcbiAgICByZXR1cm4gbm90WWV0SW1wbGVtZW50ZWQoJ29uZUhvdCcpO1xuICB9XG5cbiAgY3Vtc3VtKHg6IFRlbnNvciwgYXhpczogbnVtYmVyLCBleGNsdXNpdmU6IGJvb2xlYW4sIHJldmVyc2U6IGJvb2xlYW4pOlxuICAgICAgVGVuc29yIHtcbiAgICByZXR1cm4gbm90WWV0SW1wbGVtZW50ZWQoJ2N1bXN1bScpO1xuICB9XG5cbiAgbm9uTWF4U3VwcHJlc3Npb24oXG4gICAgICBib3hlczogVGVuc29yMkQsIHNjb3JlczogVGVuc29yMUQsIG1heE91dHB1dFNpemU6IG51bWJlcixcbiAgICAgIGlvdVRocmVzaG9sZDogbnVtYmVyLCBzY29yZVRocmVzaG9sZD86IG51bWJlcik6IFRlbnNvcjFEIHtcbiAgICByZXR1cm4gbm90WWV0SW1wbGVtZW50ZWQoJ25vbk1heFN1cHByZXNzaW9uJyk7XG4gIH1cblxuICBmZnQoeDogVGVuc29yMkQpOiBUZW5zb3IyRCB7XG4gICAgcmV0dXJuIG5vdFlldEltcGxlbWVudGVkKCdmZnQnKTtcbiAgfVxuICBpZmZ0KHg6IFRlbnNvcjJEKTogVGVuc29yMkQge1xuICAgIHJldHVybiBub3RZZXRJbXBsZW1lbnRlZCgnaWZmdCcpO1xuICB9XG4gIGNvbXBsZXg8VCBleHRlbmRzIFRlbnNvcj4ocmVhbDogVCwgaW1hZzogVCk6IFQge1xuICAgIHJldHVybiBub3RZZXRJbXBsZW1lbnRlZCgnY29tcGxleCcpO1xuICB9XG4gIHJlYWw8VCBleHRlbmRzIFRlbnNvcj4oaW5wdXQ6IFQpOiBUIHtcbiAgICByZXR1cm4gbm90WWV0SW1wbGVtZW50ZWQoJ3JlYWwnKTtcbiAgfVxuICBpbWFnPFQgZXh0ZW5kcyBUZW5zb3I+KGlucHV0OiBUKTogVCB7XG4gICAgcmV0dXJuIG5vdFlldEltcGxlbWVudGVkKCdpbWFnJyk7XG4gIH1cblxuICBjcm9wQW5kUmVzaXplKFxuICAgICAgaW1hZ2U6IFRlbnNvcjRELCBib3hlczogVGVuc29yMkQsIGJveEluZGV4OiBUZW5zb3IxRCxcbiAgICAgIGNyb3BTaXplOiBbbnVtYmVyLCBudW1iZXJdLCBtZXRob2Q6ICdiaWxpbmVhcid8J25lYXJlc3QnLFxuICAgICAgZXh0cmFwb2xhdGlvblZhbHVlOiBudW1iZXIpOiBUZW5zb3I0RCB7XG4gICAgcmV0dXJuIG5vdFlldEltcGxlbWVudGVkKCdjcm9wQW5kUmVzaXplJyk7XG4gIH1cblxuICBkZXB0aFRvU3BhY2UoeDogVGVuc29yNEQsIGJsb2NrU2l6ZTogbnVtYmVyLCBkYXRhRm9ybWF0OiBzdHJpbmcpOiBUZW5zb3I0RCB7XG4gICAgcmV0dXJuIG5vdFlldEltcGxlbWVudGVkKCdkZXB0aFRvU3BhY2UnKTtcbiAgfVxuXG4gIC8vIEFsaWducyB3aXRoIHRoZSBcIlNwbGl0VlwiIGtlcm5lbCBpbiBUZW5zb3JGbG93LlxuICBzcGxpdDxUIGV4dGVuZHMgVGVuc29yPih2YWx1ZTogVCwgc2l6ZVNwbGl0czogbnVtYmVyW10sIGF4aXM6IG51bWJlcik6IFRbXSB7XG4gICAgcmV0dXJuIG5vdFlldEltcGxlbWVudGVkKCdzcGxpdCcpO1xuICB9XG5cbiAgc3BhcnNlVG9EZW5zZTxSIGV4dGVuZHMgUmFuaz4oXG4gICAgICBzcGFyc2VJbmRpY2VzOiBUZW5zb3IsIHNwYXJzZVZhbHVlczogVGVuc29yLCBvdXRwdXRTaGFwZTogU2hhcGVNYXBbUl0sXG4gICAgICBkZWZhdWx0VmFsdWU6IFNjYWxhcik6IFRlbnNvcjxSPiB7XG4gICAgcmV0dXJuIG5vdFlldEltcGxlbWVudGVkKCdzcGFyc2VUb0RlbnNlJyk7XG4gIH1cblxuICBkaWFnKHg6IFRlbnNvcik6IFRlbnNvciB7XG4gICAgcmV0dXJuIG5vdFlldEltcGxlbWVudGVkKCdkaWFnJyk7XG4gIH1cblxuICBmaWxsPFIgZXh0ZW5kcyBSYW5rPihcbiAgICAgIHNoYXBlOiBTaGFwZU1hcFtSXSwgdmFsdWU6IG51bWJlcnxzdHJpbmcsIGR0eXBlPzogRGF0YVR5cGUpOiBUZW5zb3I8Uj4ge1xuICAgIHJldHVybiBub3RZZXRJbXBsZW1lbnRlZCgnZmlsbCcpO1xuICB9XG5cbiAgb25lc0xpa2U8UiBleHRlbmRzIFJhbms+KHg6IFRlbnNvcjxSPik6IFRlbnNvcjxSPiB7XG4gICAgcmV0dXJuIG5vdFlldEltcGxlbWVudGVkKCdvbmVzTGlrZScpO1xuICB9XG5cbiAgemVyb3NMaWtlPFIgZXh0ZW5kcyBSYW5rPih4OiBUZW5zb3I8Uj4pOiBUZW5zb3I8Uj4ge1xuICAgIHJldHVybiBub3RZZXRJbXBsZW1lbnRlZCgnemVyb3NMaWtlJyk7XG4gIH1cblxuICBsaW5zcGFjZShzdGFydDogbnVtYmVyLCBzdG9wOiBudW1iZXIsIG51bTogbnVtYmVyKTogVGVuc29yMUQge1xuICAgIHJldHVybiBub3RZZXRJbXBsZW1lbnRlZCgnbGluc3BhY2UnKTtcbiAgfVxuXG4gIGRpc3Bvc2UoKTogdm9pZCB7XG4gICAgcmV0dXJuIG5vdFlldEltcGxlbWVudGVkKCdkaXNwb3NlJyk7XG4gIH1cbn1cblxuZnVuY3Rpb24gbm90WWV0SW1wbGVtZW50ZWQoa2VybmVsTmFtZTogc3RyaW5nKTogbmV2ZXIge1xuICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBgJyR7a2VybmVsTmFtZX0nIG5vdCB5ZXQgaW1wbGVtZW50ZWQgb3Igbm90IGZvdW5kIGluIHRoZSByZWdpc3RyeS4gYCArXG4gICAgICBgVGhpcyBrZXJuZWwgbWF5IG5vdCBiZSBzdXBwb3J0ZWQgYnkgdGhlIHRmanMgYmFja2VuZCB5b3UgaGF2ZSBjaG9zZW5gKTtcbn1cbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuaW1wb3J0IHtQbGF0Zm9ybX0gZnJvbSAnLi9wbGF0Zm9ybXMvcGxhdGZvcm0nO1xuXG4vLyBFeHBlY3RzIGZsYWdzIGZyb20gVVJMIGluIHRoZSBmb3JtYXQgP3RmanNmbGFncz1GTEFHMToxLEZMQUcyOnRydWUuXG5jb25zdCBURU5TT1JGTE9XSlNfRkxBR1NfUFJFRklYID0gJ3RmanNmbGFncyc7XG5cbnR5cGUgRmxhZ1ZhbHVlID0gbnVtYmVyfGJvb2xlYW47XG50eXBlIEZsYWdFdmFsdWF0aW9uRm4gPSAoKCkgPT4gRmxhZ1ZhbHVlKXwoKCkgPT4gUHJvbWlzZTxGbGFnVmFsdWU+KTtcbmV4cG9ydCB0eXBlIEZsYWdzID0ge1xuICBbZmVhdHVyZU5hbWU6IHN0cmluZ106IEZsYWdWYWx1ZVxufTtcbmV4cG9ydCB0eXBlIEZsYWdSZWdpc3RyeUVudHJ5ID0ge1xuICBldmFsdWF0aW9uRm46IEZsYWdFdmFsdWF0aW9uRm47XG4gIHNldEhvb2s/OiAodmFsdWU6IEZsYWdWYWx1ZSkgPT4gdm9pZDtcbn07XG5cbi8qKlxuICogVGhlIGVudmlyb25tZW50IGNvbnRhaW5zIGV2YWx1YXRlZCBmbGFncyBhcyB3ZWxsIGFzIHRoZSByZWdpc3RlcmVkIHBsYXRmb3JtLlxuICogVGhpcyBpcyBhbHdheXMgdXNlZCBhcyBhIGdsb2JhbCBzaW5nbGV0b24gYW5kIGNhbiBiZSByZXRyaWV2ZWQgd2l0aFxuICogYHRmLmVudigpYC5cbiAqXG4gKiBAZG9jIHtoZWFkaW5nOiAnRW52aXJvbm1lbnQnfVxuICovXG5leHBvcnQgY2xhc3MgRW52aXJvbm1lbnQge1xuICBwcml2YXRlIGZsYWdzOiBGbGFncyA9IHt9O1xuICBwcml2YXRlIGZsYWdSZWdpc3RyeToge1tmbGFnTmFtZTogc3RyaW5nXTogRmxhZ1JlZ2lzdHJ5RW50cnl9ID0ge307XG5cbiAgcHJpdmF0ZSB1cmxGbGFnczogRmxhZ3MgPSB7fTtcblxuICBwbGF0Zm9ybU5hbWU6IHN0cmluZztcbiAgcGxhdGZvcm06IFBsYXRmb3JtO1xuXG4gIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTogbm8tYW55XG4gIGNvbnN0cnVjdG9yKHB1YmxpYyBnbG9iYWw6IGFueSkge1xuICAgIHRoaXMucG9wdWxhdGVVUkxGbGFncygpO1xuICB9XG5cbiAgc2V0UGxhdGZvcm0ocGxhdGZvcm1OYW1lOiBzdHJpbmcsIHBsYXRmb3JtOiBQbGF0Zm9ybSkge1xuICAgIGlmICh0aGlzLnBsYXRmb3JtICE9IG51bGwpIHtcbiAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICBgUGxhdGZvcm0gJHt0aGlzLnBsYXRmb3JtTmFtZX0gaGFzIGFscmVhZHkgYmVlbiBzZXQuIGAgK1xuICAgICAgICAgIGBPdmVyd3JpdGluZyB0aGUgcGxhdGZvcm0gd2l0aCAke3BsYXRmb3JtfS5gKTtcbiAgICB9XG4gICAgdGhpcy5wbGF0Zm9ybU5hbWUgPSBwbGF0Zm9ybU5hbWU7XG4gICAgdGhpcy5wbGF0Zm9ybSA9IHBsYXRmb3JtO1xuICB9XG5cbiAgcmVnaXN0ZXJGbGFnKFxuICAgICAgZmxhZ05hbWU6IHN0cmluZywgZXZhbHVhdGlvbkZuOiBGbGFnRXZhbHVhdGlvbkZuLFxuICAgICAgc2V0SG9vaz86ICh2YWx1ZTogRmxhZ1ZhbHVlKSA9PiB2b2lkKSB7XG4gICAgdGhpcy5mbGFnUmVnaXN0cnlbZmxhZ05hbWVdID0ge2V2YWx1YXRpb25Gbiwgc2V0SG9va307XG5cbiAgICAvLyBPdmVycmlkZSB0aGUgZmxhZyB2YWx1ZSBmcm9tIHRoZSBVUkwuIFRoaXMgaGFzIHRvIGhhcHBlbiBoZXJlIGJlY2F1c2UgdGhlXG4gICAgLy8gZW52aXJvbm1lbnQgaXMgaW5pdGlhbGl6ZWQgYmVmb3JlIGZsYWdzIGdldCByZWdpc3RlcmVkLlxuICAgIGlmICh0aGlzLnVybEZsYWdzW2ZsYWdOYW1lXSAhPSBudWxsKSB7XG4gICAgICBjb25zdCBmbGFnVmFsdWUgPSB0aGlzLnVybEZsYWdzW2ZsYWdOYW1lXTtcbiAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICBgU2V0dGluZyBmZWF0dXJlIG92ZXJyaWRlIGZyb20gVVJMICR7ZmxhZ05hbWV9OiAke2ZsYWdWYWx1ZX0uYCk7XG4gICAgICB0aGlzLnNldChmbGFnTmFtZSwgZmxhZ1ZhbHVlKTtcbiAgICB9XG4gIH1cblxuICBhc3luYyBnZXRBc3luYyhmbGFnTmFtZTogc3RyaW5nKTogUHJvbWlzZTxGbGFnVmFsdWU+IHtcbiAgICBpZiAoZmxhZ05hbWUgaW4gdGhpcy5mbGFncykge1xuICAgICAgcmV0dXJuIHRoaXMuZmxhZ3NbZmxhZ05hbWVdO1xuICAgIH1cblxuICAgIHRoaXMuZmxhZ3NbZmxhZ05hbWVdID0gYXdhaXQgdGhpcy5ldmFsdWF0ZUZsYWcoZmxhZ05hbWUpO1xuICAgIHJldHVybiB0aGlzLmZsYWdzW2ZsYWdOYW1lXTtcbiAgfVxuXG4gIGdldChmbGFnTmFtZTogc3RyaW5nKTogRmxhZ1ZhbHVlIHtcbiAgICBpZiAoZmxhZ05hbWUgaW4gdGhpcy5mbGFncykge1xuICAgICAgcmV0dXJuIHRoaXMuZmxhZ3NbZmxhZ05hbWVdO1xuICAgIH1cblxuICAgIGNvbnN0IGZsYWdWYWx1ZSA9IHRoaXMuZXZhbHVhdGVGbGFnKGZsYWdOYW1lKTtcbiAgICBpZiAoZmxhZ1ZhbHVlIGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgIGBGbGFnICR7ZmxhZ05hbWV9IGNhbm5vdCBiZSBzeW5jaHJvbm91c2x5IGV2YWx1YXRlZC4gYCArXG4gICAgICAgICAgYFBsZWFzZSB1c2UgZ2V0QXN5bmMoKSBpbnN0ZWFkLmApO1xuICAgIH1cblxuICAgIHRoaXMuZmxhZ3NbZmxhZ05hbWVdID0gZmxhZ1ZhbHVlO1xuXG4gICAgcmV0dXJuIHRoaXMuZmxhZ3NbZmxhZ05hbWVdO1xuICB9XG5cbiAgZ2V0TnVtYmVyKGZsYWdOYW1lOiBzdHJpbmcpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLmdldChmbGFnTmFtZSkgYXMgbnVtYmVyO1xuICB9XG5cbiAgZ2V0Qm9vbChmbGFnTmFtZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0KGZsYWdOYW1lKSBhcyBib29sZWFuO1xuICB9XG5cbiAgZ2V0RmxhZ3MoKTogRmxhZ3Mge1xuICAgIHJldHVybiB0aGlzLmZsYWdzO1xuICB9XG4gIC8vIEZvciBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eS5cbiAgZ2V0IGZlYXR1cmVzKCk6IEZsYWdzIHtcbiAgICByZXR1cm4gdGhpcy5mbGFncztcbiAgfVxuXG4gIHNldChmbGFnTmFtZTogc3RyaW5nLCB2YWx1ZTogRmxhZ1ZhbHVlKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuZmxhZ1JlZ2lzdHJ5W2ZsYWdOYW1lXSA9PSBudWxsKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgYENhbm5vdCBzZXQgZmxhZyAke2ZsYWdOYW1lfSBhcyBpdCBoYXMgbm90IGJlZW4gcmVnaXN0ZXJlZC5gKTtcbiAgICB9XG4gICAgdGhpcy5mbGFnc1tmbGFnTmFtZV0gPSB2YWx1ZTtcbiAgICBpZiAodGhpcy5mbGFnUmVnaXN0cnlbZmxhZ05hbWVdLnNldEhvb2sgIT0gbnVsbCkge1xuICAgICAgdGhpcy5mbGFnUmVnaXN0cnlbZmxhZ05hbWVdLnNldEhvb2sodmFsdWUpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgZXZhbHVhdGVGbGFnKGZsYWdOYW1lOiBzdHJpbmcpOiBGbGFnVmFsdWV8UHJvbWlzZTxGbGFnVmFsdWU+IHtcbiAgICBpZiAodGhpcy5mbGFnUmVnaXN0cnlbZmxhZ05hbWVdID09IG51bGwpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICBgQ2Fubm90IGV2YWx1YXRlIGZsYWcgJyR7ZmxhZ05hbWV9Jzogbm8gZXZhbHVhdGlvbiBmdW5jdGlvbiBmb3VuZC5gKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuZmxhZ1JlZ2lzdHJ5W2ZsYWdOYW1lXS5ldmFsdWF0aW9uRm4oKTtcbiAgfVxuXG4gIHNldEZsYWdzKGZsYWdzOiBGbGFncykge1xuICAgIHRoaXMuZmxhZ3MgPSBPYmplY3QuYXNzaWduKHt9LCBmbGFncyk7XG4gIH1cblxuICByZXNldCgpIHtcbiAgICB0aGlzLmZsYWdzID0ge307XG4gICAgdGhpcy51cmxGbGFncyA9IHt9O1xuICAgIHRoaXMucG9wdWxhdGVVUkxGbGFncygpO1xuICB9XG5cbiAgcHJpdmF0ZSBwb3B1bGF0ZVVSTEZsYWdzKCk6IHZvaWQge1xuICAgIGlmICh0eXBlb2YgdGhpcy5nbG9iYWwgPT09ICd1bmRlZmluZWQnIHx8XG4gICAgICAgIHR5cGVvZiB0aGlzLmdsb2JhbC5sb2NhdGlvbiA9PT0gJ3VuZGVmaW5lZCcgfHxcbiAgICAgICAgdHlwZW9mIHRoaXMuZ2xvYmFsLmxvY2F0aW9uLnNlYXJjaCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCB1cmxQYXJhbXMgPSBnZXRRdWVyeVBhcmFtcyh0aGlzLmdsb2JhbC5sb2NhdGlvbi5zZWFyY2gpO1xuICAgIGlmIChURU5TT1JGTE9XSlNfRkxBR1NfUFJFRklYIGluIHVybFBhcmFtcykge1xuICAgICAgY29uc3Qga2V5VmFsdWVzID0gdXJsUGFyYW1zW1RFTlNPUkZMT1dKU19GTEFHU19QUkVGSVhdLnNwbGl0KCcsJyk7XG4gICAgICBrZXlWYWx1ZXMuZm9yRWFjaChrZXlWYWx1ZSA9PiB7XG4gICAgICAgIGNvbnN0IFtrZXksIHZhbHVlXSA9IGtleVZhbHVlLnNwbGl0KCc6JykgYXMgW3N0cmluZywgc3RyaW5nXTtcbiAgICAgICAgdGhpcy51cmxGbGFnc1trZXldID0gcGFyc2VWYWx1ZShrZXksIHZhbHVlKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0UXVlcnlQYXJhbXMocXVlcnlTdHJpbmc6IHN0cmluZyk6IHtba2V5OiBzdHJpbmddOiBzdHJpbmd9IHtcbiAgY29uc3QgcGFyYW1zID0ge307XG4gIHF1ZXJ5U3RyaW5nLnJlcGxhY2UoL1s/Jl0oW149PyZdKykoPzo9KFteJl0qKSk/L2csIChzLCAuLi50KSA9PiB7XG4gICAgZGVjb2RlUGFyYW0ocGFyYW1zLCB0WzBdLCB0WzFdKTtcbiAgICByZXR1cm4gdC5qb2luKCc9Jyk7XG4gIH0pO1xuICByZXR1cm4gcGFyYW1zO1xufVxuXG5mdW5jdGlvbiBkZWNvZGVQYXJhbShcbiAgICBwYXJhbXM6IHtba2V5OiBzdHJpbmddOiBzdHJpbmd9LCBuYW1lOiBzdHJpbmcsIHZhbHVlPzogc3RyaW5nKSB7XG4gIHBhcmFtc1tkZWNvZGVVUklDb21wb25lbnQobmFtZSldID0gZGVjb2RlVVJJQ29tcG9uZW50KHZhbHVlIHx8ICcnKTtcbn1cblxuZnVuY3Rpb24gcGFyc2VWYWx1ZShmbGFnTmFtZTogc3RyaW5nLCB2YWx1ZTogc3RyaW5nKTogRmxhZ1ZhbHVlIHtcbiAgdmFsdWUgPSB2YWx1ZS50b0xvd2VyQ2FzZSgpO1xuICBpZiAodmFsdWUgPT09ICd0cnVlJyB8fCB2YWx1ZSA9PT0gJ2ZhbHNlJykge1xuICAgIHJldHVybiB2YWx1ZSA9PT0gJ3RydWUnO1xuICB9IGVsc2UgaWYgKGAkeysgdmFsdWV9YCA9PT0gdmFsdWUpIHtcbiAgICByZXR1cm4gK3ZhbHVlO1xuICB9XG4gIHRocm93IG5ldyBFcnJvcihcbiAgICAgIGBDb3VsZCBub3QgcGFyc2UgdmFsdWUgZmxhZyB2YWx1ZSAke3ZhbHVlfSBmb3IgZmxhZyAke2ZsYWdOYW1lfS5gKTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBjdXJyZW50IGVudmlyb25tZW50IChhIGdsb2JhbCBzaW5nbGV0b24pLlxuICpcbiAqIFRoZSBlbnZpcm9ubWVudCBvYmplY3QgY29udGFpbnMgdGhlIGV2YWx1YXRlZCBmZWF0dXJlIHZhbHVlcyBhcyB3ZWxsIGFzIHRoZVxuICogYWN0aXZlIHBsYXRmb3JtLlxuICpcbiAqIEBkb2Mge2hlYWRpbmc6ICdFbnZpcm9ubWVudCd9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlbnYoKSB7XG4gIHJldHVybiBFTlY7XG59XG5cbmV4cG9ydCBsZXQgRU5WOiBFbnZpcm9ubWVudCA9IG51bGw7XG5leHBvcnQgZnVuY3Rpb24gc2V0RW52aXJvbm1lbnRHbG9iYWwoZW52aXJvbm1lbnQ6IEVudmlyb25tZW50KSB7XG4gIEVOViA9IGVudmlyb25tZW50O1xufVxuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG4vLyBOb3RlIHRoYXQgdGhlIGlkZW50aWZpZXIgZ2xvYmFsTmFtZVNwYWNlIGlzIHNjb3BlZCB0byB0aGlzIG1vZHVsZSwgYnV0IHdpbGxcbi8vIGFsd2F5cyByZXNvbHZlIHRvIHRoZSBzYW1lIGdsb2JhbCBvYmplY3QgcmVnYXJkbGVzcyBvZiBob3cgdGhlIG1vZHVsZSBpc1xuLy8gcmVzb2x2ZWQuXG4vLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tYW55XG5sZXQgZ2xvYmFsTmFtZVNwYWNlOiB7X3RmR2xvYmFsczogTWFwPHN0cmluZywgYW55Pn07XG4vLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tYW55XG5leHBvcnQgZnVuY3Rpb24gZ2V0R2xvYmFsTmFtZXNwYWNlKCk6IHtfdGZHbG9iYWxzOiBNYXA8c3RyaW5nLCBhbnk+fSB7XG4gIGlmIChnbG9iYWxOYW1lU3BhY2UgPT0gbnVsbCkge1xuICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1hbnlcbiAgICBsZXQgbnM6IGFueTtcbiAgICBpZiAodHlwZW9mICh3aW5kb3cpICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgbnMgPSB3aW5kb3c7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgKGdsb2JhbCkgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBucyA9IGdsb2JhbDtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiAocHJvY2VzcykgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBucyA9IHByb2Nlc3M7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgKHNlbGYpICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgbnMgPSBzZWxmO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NvdWxkIG5vdCBmaW5kIGEgZ2xvYmFsIG9iamVjdCcpO1xuICAgIH1cbiAgICBnbG9iYWxOYW1lU3BhY2UgPSBucztcbiAgfVxuICByZXR1cm4gZ2xvYmFsTmFtZVNwYWNlO1xufVxuXG4vLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tYW55XG5mdW5jdGlvbiBnZXRHbG9iYWxNYXAoKTogTWFwPHN0cmluZywgYW55PiB7XG4gIGNvbnN0IG5zID0gZ2V0R2xvYmFsTmFtZXNwYWNlKCk7XG4gIGlmIChucy5fdGZHbG9iYWxzID09IG51bGwpIHtcbiAgICBucy5fdGZHbG9iYWxzID0gbmV3IE1hcCgpO1xuICB9XG4gIHJldHVybiBucy5fdGZHbG9iYWxzO1xufVxuXG4vKipcbiAqIFJldHVybnMgYSBnbG9iYWxseSBhY2Nlc3NpYmxlICdzaW5nbGV0b24nIG9iamVjdC5cbiAqXG4gKiBAcGFyYW0ga2V5IHRoZSBuYW1lIG9mIHRoZSBvYmplY3RcbiAqIEBwYXJhbSBpbml0IGEgZnVuY3Rpb24gdG8gaW5pdGlhbGl6ZSB0byBpbml0aWFsaXplIHRoaXMgb2JqZWN0XG4gKiAgICAgICAgICAgICB0aGUgZmlyc3QgdGltZSBpdCBpcyBmZXRjaGVkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0R2xvYmFsPFQ+KGtleTogc3RyaW5nLCBpbml0OiAoKSA9PiBUKTogVCB7XG4gIGNvbnN0IGdsb2JhbE1hcCA9IGdldEdsb2JhbE1hcCgpO1xuICBpZiAoZ2xvYmFsTWFwLmhhcyhrZXkpKSB7XG4gICAgcmV0dXJuIGdsb2JhbE1hcC5nZXQoa2V5KTtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCBzaW5nbGV0b24gPSBpbml0KCk7XG4gICAgZ2xvYmFsTWFwLnNldChrZXksIHNpbmdsZXRvbik7XG4gICAgcmV0dXJuIGdsb2JhbE1hcC5nZXQoa2V5KTtcbiAgfVxufVxuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuaW1wb3J0IHtlbnZ9IGZyb20gJy4vZW52aXJvbm1lbnQnO1xuXG5pbXBvcnQge2dldEdsb2JhbH0gZnJvbSAnLi9nbG9iYWxfdXRpbCc7XG5pbXBvcnQge05hbWVkR3JhZGllbnRNYXB9IGZyb20gJy4vdGFwZSc7XG5pbXBvcnQge1RlbnNvcn0gZnJvbSAnLi90ZW5zb3InO1xuaW1wb3J0IHtEYXRhVHlwZSwgUmVjdXJzaXZlQXJyYXl9IGZyb20gJy4vdHlwZXMnO1xuXG5jb25zdCBrZXJuZWxSZWdpc3RyeSA9XG4gICAgZ2V0R2xvYmFsKCdrZXJuZWxSZWdpc3RyeScsICgpID0+IG5ldyBNYXA8c3RyaW5nLCBLZXJuZWxDb25maWc+KCkpO1xuY29uc3QgZ3JhZFJlZ2lzdHJ5ID1cbiAgICBnZXRHbG9iYWwoJ2dyYWRSZWdpc3RyeScsICgpID0+IG5ldyBNYXA8c3RyaW5nLCBHcmFkQ29uZmlnPigpKTtcblxuZXhwb3J0IHR5cGUgRGF0YUlkID0gb2JqZWN0O1xuXG50eXBlIEF0dHJpYnV0ZVZhbHVlID1cbiAgICBudW1iZXJ8bnVtYmVyW118Ym9vbGVhbnxib29sZWFuW118c3RyaW5nfHN0cmluZ1tdfE5hbWVkQXR0ck1hcDtcblxuLyoqIFRoZXNlIGFyZSBleHRyYSBub24tdGVuc29yL3ByaW1pdGl2ZSBwYXJhbXMgcGFzc2VkIHRvIGtlcm5lbCBmdW5jdGlvbnMuICovXG5leHBvcnQgdHlwZSBBdHRyaWJ1dGUgPSBBdHRyaWJ1dGVWYWx1ZXxSZWN1cnNpdmVBcnJheTxBdHRyaWJ1dGVWYWx1ZT47XG5cbi8qKiBTcGVjaWZpZXMgdGhlIGNvZGUgdG8gcnVuIHdoZW4gZXhlY3V0aW5nIGEga2VybmVsLiAqL1xuZXhwb3J0IHR5cGUgS2VybmVsRnVuYyA9IChwYXJhbXM6IHtcbiAgaW5wdXRzOiBOYW1lZFRlbnNvckluZm9NYXAsXG4gIGJhY2tlbmQ6IHt9LFxuICBhdHRycz86IE5hbWVkQXR0ck1hcCxcbn0pID0+IFRlbnNvckluZm98VGVuc29ySW5mb1tdO1xuXG4vKiogVGhlIGZ1bmN0aW9uIHRvIHJ1biB3aGVuIGNvbXB1dGluZyBhIGdyYWRpZW50IGR1cmluZyBiYWNrcHJvcC4gKi9cbmV4cG9ydCB0eXBlIEdyYWRGdW5jID1cbiAgICAoZHk6IFRlbnNvcnxUZW5zb3JbXSwgc2F2ZWQ6IFRlbnNvcltdLCBhdHRyczogTmFtZWRBdHRyTWFwKSA9PlxuICAgICAgICBOYW1lZEdyYWRpZW50TWFwO1xuXG4vKiogRnVuY3Rpb24gdGhhdCBnZXRzIGNhbGxlZCBhZnRlciB0aGUgYmFja2VuZCBpbml0aWFsaXplcy4gKi9cbmV4cG9ydCB0eXBlIEtlcm5lbFNldHVwRnVuYyA9IChiYWNrZW5kOiB7fSkgPT4gdm9pZDtcbi8qKiBGdW5jdGlvbiB0aGF0IGdldHMgY2FsbGVkIHJpZ2h0IGJlZm9yZSB0aGUgYmFja2VuZCBpcyBkaXNwb3NlZC4gKi9cbmV4cG9ydCB0eXBlIEtlcm5lbERpc3Bvc2VGdW5jID0gS2VybmVsU2V0dXBGdW5jO1xuXG4vKiogQ29uZmlnIG9iamVjdCBmb3IgcmVnaXN0ZXJpbmcgYSBrZXJuZWwgaW4gdGhlIGdsb2JhbCByZWdpc3RyeS4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgS2VybmVsQ29uZmlnIHtcbiAga2VybmVsTmFtZTogc3RyaW5nO1xuICBiYWNrZW5kTmFtZTogc3RyaW5nO1xuICBrZXJuZWxGdW5jOiBLZXJuZWxGdW5jO1xuICBzZXR1cEZ1bmM/OiBLZXJuZWxTZXR1cEZ1bmM7XG4gIGRpc3Bvc2VGdW5jPzogS2VybmVsRGlzcG9zZUZ1bmM7XG59XG5cbi8qKiBDb25maWcgb2JqZWN0IGZvciByZWdpc3RlcmluZyBhIGdyYWRpZW50IGluIHRoZSBnbG9iYWwgcmVnaXN0cnkuICovXG5leHBvcnQgaW50ZXJmYWNlIEdyYWRDb25maWcge1xuICBrZXJuZWxOYW1lOiBzdHJpbmc7XG4gIGlucHV0c1RvU2F2ZT86IHN0cmluZ1tdO1xuICAvLyBXaGVuIHNhdmVBbGxJbnB1dHMgaXMgdHJ1ZSwgYWxsIGlucHV0cyB3aWxsIGJlIHNhdmVkLiBPbmx5IHVzZSB0aGlzIGZsYWdcbiAgLy8gaWYgaW5wdXRzIGlzIGFuIGFycmF5IG9mIFRlbnNvcnMuXG4gIHNhdmVBbGxJbnB1dHM/OiBib29sZWFuO1xuICBvdXRwdXRzVG9TYXZlPzogYm9vbGVhbltdO1xuICBncmFkRnVuYzogR3JhZEZ1bmM7XG59XG5cbi8qKiBIb2xkcyBtZXRhZGF0YSBmb3IgYSBnaXZlbiB0ZW5zb3IuICovXG5leHBvcnQgaW50ZXJmYWNlIFRlbnNvckluZm8ge1xuICBkYXRhSWQ6IERhdGFJZDtcbiAgc2hhcGU6IG51bWJlcltdO1xuICBkdHlwZTogRGF0YVR5cGU7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTmFtZWRUZW5zb3JJbmZvTWFwIHtcbiAgW25hbWU6IHN0cmluZ106IFRlbnNvckluZm87XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTmFtZWRBdHRyTWFwIHtcbiAgW25hbWU6IHN0cmluZ106IEF0dHJpYnV0ZTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBrZXJuZWwgZnVuY3Rpb24gKGNvZGUpIGFzc29jaWF0ZWQgd2l0aCB0aGUgcHJvdmlkZWQgbmFtZXMuXG4gKlxuICogQHBhcmFtIGtlcm5lbE5hbWUgVGhlIG9mZmljaWFsIG5hbWUgb2YgdGhlIGtlcm5lbC5cbiAqIEBwYXJhbSBiYWNrZW5kTmFtZSBUaGUgb2ZmaWNpYWwgbmFtZSBvZiB0aGUgYmFja2VuZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEtlcm5lbChcbiAgICBrZXJuZWxOYW1lOiBzdHJpbmcsIGJhY2tlbmROYW1lOiBzdHJpbmcpOiBLZXJuZWxDb25maWcge1xuICBjb25zdCBrZXkgPSBtYWtlS2V5KGtlcm5lbE5hbWUsIGJhY2tlbmROYW1lKTtcbiAgcmV0dXJuIGtlcm5lbFJlZ2lzdHJ5LmdldChrZXkpO1xufVxuXG4vKipcbiAqIFJldHVybnMgdGhlIHJlZ2lzdGVyZWQgZ3JhZGllbnQgaW5mbyBhc3NvY2lhdGVkIHdpdGggdGhlIHByb3ZpZGVkIGtlcm5lbC5cbiAqIEBwYXJhbSBrZXJuZWxOYW1lIFRoZSBvZmZpY2lhbCBURiBrZXJuZWwgbmFtZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEdyYWRpZW50KGtlcm5lbE5hbWU6IHN0cmluZyk6IEdyYWRDb25maWcge1xuICByZXR1cm4gZ3JhZFJlZ2lzdHJ5LmdldChrZXJuZWxOYW1lKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEtlcm5lbHNGb3JCYWNrZW5kKGJhY2tlbmROYW1lOiBzdHJpbmcpOiBLZXJuZWxDb25maWdbXSB7XG4gIGNvbnN0IGl0ID0ga2VybmVsUmVnaXN0cnkuZW50cmllcygpO1xuICBjb25zdCByZXN1bHQ6IEtlcm5lbENvbmZpZ1tdID0gW107XG5cbiAgd2hpbGUgKHRydWUpIHtcbiAgICBjb25zdCB7ZG9uZSwgdmFsdWV9ID0gaXQubmV4dCgpO1xuICAgIGlmIChkb25lKSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgY29uc3QgW2tleSwgY29uZmlnXSA9IHZhbHVlO1xuICAgIGNvbnN0IFtiYWNrZW5kLCBdID0ga2V5LnNwbGl0KCdfJyk7XG4gICAgaWYgKGJhY2tlbmQgPT09IGJhY2tlbmROYW1lKSB7XG4gICAgICByZXN1bHQucHVzaChjb25maWcpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIFJlZ2lzdGVycyB0aGUgZnVuY3Rpb24gKGZvcndhcmQgcGFzcykgZm9yIHRoZSBrZXJuZWwgaW4gYSBnbG9iYWwgcmVnaXN0cnkuXG4gKlxuICogQHBhcmFtIGNvbmZpZyBBIGNvbmZpZyBvYmplY3Qgd2l0aCB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXM6XG4gKiAtIGBrZXJuZWxOYW1lYCBUaGUgb2ZmaWNpYWwgbmFtZSBvZiB0aGUga2VybmVsLlxuICogLSBgYmFja2VuZE5hbWVgIFRoZSBvZmZpY2lhbCBuYW1lIG9mIHRoZSBiYWNrZW5kLlxuICogLSBga2VybmVsRnVuY2AgVGhlIGZ1bmN0aW9uIHRvIHJ1biBkdXJpbmcgdGhlIGZvcndhcmQgcGFzcyBvZiB0aGUga2VybmVsLlxuICogLSBgc2V0dXBGdW5jYCBPcHRpb25hbC4gR2V0cyBjYWxsZWQgb25jZSwgYWZ0ZXIgdGhlIGJhY2tlbmQgaW5pdGlhbGl6ZXMuXG4gKiAtIGBkaXNwb3NlRnVuY2AgT3B0aW9uYWwuIEdldHMgY2FsbGVkIG9uY2UsIHJpZ2h0IGJlZm9yZSB0aGUgYmFja2VuZCBpc1xuICogZGlzcG9zZWQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZWdpc3Rlcktlcm5lbChjb25maWc6IEtlcm5lbENvbmZpZykge1xuICBjb25zdCB7a2VybmVsTmFtZSwgYmFja2VuZE5hbWV9ID0gY29uZmlnO1xuICBjb25zdCBrZXkgPSBtYWtlS2V5KGtlcm5lbE5hbWUsIGJhY2tlbmROYW1lKTtcbiAgaWYgKGtlcm5lbFJlZ2lzdHJ5LmhhcyhrZXkpKSB7XG4gICAgY29uc29sZS53YXJuKFxuICAgICAgICBgVGhlIGtlcm5lbCAnJHtrZXJuZWxOYW1lfScgZm9yIGJhY2tlbmQgYCArXG4gICAgICAgIGAnJHtiYWNrZW5kTmFtZX0nIGlzIGFscmVhZHkgcmVnaXN0ZXJlZGApO1xuICB9XG4gIGtlcm5lbFJlZ2lzdHJ5LnNldChrZXksIGNvbmZpZyk7XG59XG5cbi8qKlxuICogUmVnaXN0ZXJzIGEgZ3JhZGllbnQgZnVuY3Rpb24gZm9yIGEgZ2l2ZW4ga2VybmVsIGluIHRoZSBnbG9iYWwgcmVnaXN0cnksXG4gKiB0byBiZSB1c2VkIGR1cmluZyB0aGUgYmFjay1wcm9wYWdhdGlvbiBvZiB0aGF0IGtlcm5lbC5cbiAqXG4gKiBAcGFyYW0gY29uZmlnIEFuIG9iamVjdCB3aXRoIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllczpcbiAqIC0gYGtlcm5lbE5hbWVgIFRoZSBuYW1lIG9mIHRoZSBrZXJuZWwgdGhhdCB0aGUgZ3JhZGllbnQgZnVuY3Rpb24gaXMgZm9yLlxuICogLSBgZ3JhZEZ1bmNgIFRoZSBmdW5jdGlvbiB0byBydW4gZHVyaW5nIGJhY2stcHJvcGFnYXRpb24uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZWdpc3RlckdyYWRpZW50KGNvbmZpZzogR3JhZENvbmZpZykge1xuICBjb25zdCB7a2VybmVsTmFtZX0gPSBjb25maWc7XG5cbiAgaWYgKGdyYWRSZWdpc3RyeS5oYXMoa2VybmVsTmFtZSkpIHtcbiAgICAvLyBUT0RPICh5YXNzb2diYSkgYWZ0ZXIgMy4wIGFzc2VzcyB3aGV0aGVyIHdlIG5lZWQgdG8ga2VlcCB0aGlzIGdhdGVkXG4gICAgLy8gdG8gZGVidWcgbW9kZS5cbiAgICBpZiAoZW52KCkuZ2V0Qm9vbCgnREVCVUcnKSkge1xuICAgICAgY29uc29sZS53YXJuKGBPdmVycmlkaW5nIHRoZSBncmFkaWVudCBmb3IgJyR7a2VybmVsTmFtZX0nYCk7XG4gICAgfVxuICB9XG4gIGdyYWRSZWdpc3RyeS5zZXQoa2VybmVsTmFtZSwgY29uZmlnKTtcbn1cblxuLyoqXG4gKiBSZW1vdmVzIHRoZSBrZXJuZWwgZnVuY3Rpb24gZnJvbSB0aGUgcmVnaXN0cnkuXG4gKlxuICogQHBhcmFtIGtlcm5lbE5hbWUgVGhlIG9mZmljaWFsIG5hbWUgb2YgdGhlIGtlcm5lbC5cbiAqIEBwYXJhbSBiYWNrZW5kTmFtZSBUaGUgb2ZmaWNpYWwgbmFtZSBvZiB0aGUgYmFja2VuZC5cbiAqXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1bnJlZ2lzdGVyS2VybmVsKFxuICAgIGtlcm5lbE5hbWU6IHN0cmluZywgYmFja2VuZE5hbWU6IHN0cmluZyk6IHZvaWQge1xuICBjb25zdCBrZXkgPSBtYWtlS2V5KGtlcm5lbE5hbWUsIGJhY2tlbmROYW1lKTtcbiAgaWYgKCFrZXJuZWxSZWdpc3RyeS5oYXMoa2V5KSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgYFRoZSBrZXJuZWwgJyR7a2VybmVsTmFtZX0nIGZvciBiYWNrZW5kIGAgK1xuICAgICAgICBgJyR7YmFja2VuZE5hbWV9JyBpcyBub3QgcmVnaXN0ZXJlZGApO1xuICB9XG4gIGtlcm5lbFJlZ2lzdHJ5LmRlbGV0ZShrZXkpO1xufVxuXG4vKiogUmVtb3ZlcyB0aGUgcmVnaXN0ZXJlZCBncmFkaWVudCBmcm9tIHRoZSBnbG9iYWwgcmVnaXN0cnkuICovXG5leHBvcnQgZnVuY3Rpb24gdW5yZWdpc3RlckdyYWRpZW50KGtlcm5lbE5hbWU6IHN0cmluZyk6IHZvaWQge1xuICBpZiAoIWdyYWRSZWdpc3RyeS5oYXMoa2VybmVsTmFtZSkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIGBUaGUgZ3JhZGllbnQgJyR7a2VybmVsTmFtZX0nIGZvciBiYWNrZW5kIGlzIG5vdCByZWdpc3RlcmVkYCk7XG4gIH1cbiAgZ3JhZFJlZ2lzdHJ5LmRlbGV0ZShrZXJuZWxOYW1lKTtcbn1cblxuLyoqXG4gKiBGaW5kcyBrZXJuZWxzIHRoYXQgaGF2ZSBhbHJlYWR5IGJlZW4gcmVnaXN0ZXJlZCB0byBhIGJhY2tlbmQgYW5kIHJlLXJlZ2lzdGVyc1xuICogdGhlbSBmb3IgYSBuZXcgYmFja2VuZC4gVXNlZnVsIGZvciByZWdpc3RlcmluZyBjdXN0b20gYmFja2VuZHMuXG4gKiBAcGFyYW0gcmVnaXN0ZXJlZEJhY2tlbmROYW1lIEFscmVhZHkgcmVnaXN0ZXJlZCBiYWNrZW5kLlxuICogQHBhcmFtIG5ld0JhY2tlbmROYW1lIE5ldyBiYWNrZW5kLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY29weVJlZ2lzdGVyZWRLZXJuZWxzKFxuICAgIHJlZ2lzdGVyZWRCYWNrZW5kTmFtZTogc3RyaW5nLCBuZXdCYWNrZW5kTmFtZTogc3RyaW5nKTogdm9pZCB7XG4gIGNvbnN0IGtlcm5lbHMgPSBnZXRLZXJuZWxzRm9yQmFja2VuZChyZWdpc3RlcmVkQmFja2VuZE5hbWUpO1xuICBrZXJuZWxzLmZvckVhY2goa2VybmVsQ29uZmlnID0+IHtcbiAgICBjb25zdCBuZXdLZXJuZWxDb25maWcgPVxuICAgICAgICBPYmplY3QuYXNzaWduKHt9LCBrZXJuZWxDb25maWcsIHtiYWNrZW5kTmFtZTogbmV3QmFja2VuZE5hbWV9KTtcbiAgICByZWdpc3Rlcktlcm5lbChuZXdLZXJuZWxDb25maWcpO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gbWFrZUtleShrZXJuZWxOYW1lOiBzdHJpbmcsIGJhY2tlbmROYW1lOiBzdHJpbmcpIHtcbiAgcmV0dXJuIGAke2JhY2tlbmROYW1lfV8ke2tlcm5lbE5hbWV9YDtcbn1cbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuaW1wb3J0IHtlbnZ9IGZyb20gJy4vZW52aXJvbm1lbnQnO1xuaW1wb3J0IHtCYWNrZW5kVmFsdWVzLCBEYXRhVHlwZSwgRGF0YVR5cGVNYXAsIEZsYXRWZWN0b3IsIE51bWVyaWNEYXRhVHlwZSwgUmVjdXJzaXZlQXJyYXksIFRlbnNvckxpa2UsIFR5cGVkQXJyYXl9IGZyb20gJy4vdHlwZXMnO1xuXG4vKipcbiAqIFNodWZmbGVzIHRoZSBhcnJheSBpbi1wbGFjZSB1c2luZyBGaXNoZXItWWF0ZXMgYWxnb3JpdGhtLlxuICpcbiAqIGBgYGpzXG4gKiBjb25zdCBhID0gWzEsIDIsIDMsIDQsIDVdO1xuICogdGYudXRpbC5zaHVmZmxlKGEpO1xuICogY29uc29sZS5sb2coYSk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gYXJyYXkgVGhlIGFycmF5IHRvIHNodWZmbGUgaW4tcGxhY2UuXG4gKlxuICogQGRvYyB7aGVhZGluZzogJ1V0aWwnLCBuYW1lc3BhY2U6ICd1dGlsJ31cbiAqL1xuLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWFueVxuZXhwb3J0IGZ1bmN0aW9uIHNodWZmbGUoYXJyYXk6IGFueVtdfFVpbnQzMkFycmF5fEludDMyQXJyYXl8XG4gICAgICAgICAgICAgICAgICAgICAgICBGbG9hdDMyQXJyYXkpOiB2b2lkIHtcbiAgbGV0IGNvdW50ZXIgPSBhcnJheS5sZW5ndGg7XG4gIGxldCB0ZW1wID0gMDtcbiAgbGV0IGluZGV4ID0gMDtcbiAgLy8gV2hpbGUgdGhlcmUgYXJlIGVsZW1lbnRzIGluIHRoZSBhcnJheVxuICB3aGlsZSAoY291bnRlciA+IDApIHtcbiAgICAvLyBQaWNrIGEgcmFuZG9tIGluZGV4XG4gICAgaW5kZXggPSAoTWF0aC5yYW5kb20oKSAqIGNvdW50ZXIpIHwgMDtcbiAgICAvLyBEZWNyZWFzZSBjb3VudGVyIGJ5IDFcbiAgICBjb3VudGVyLS07XG4gICAgLy8gQW5kIHN3YXAgdGhlIGxhc3QgZWxlbWVudCB3aXRoIGl0XG4gICAgdGVtcCA9IGFycmF5W2NvdW50ZXJdO1xuICAgIGFycmF5W2NvdW50ZXJdID0gYXJyYXlbaW5kZXhdO1xuICAgIGFycmF5W2luZGV4XSA9IHRlbXA7XG4gIH1cbn1cblxuLyoqIENsYW1wcyBhIHZhbHVlIHRvIGEgc3BlY2lmaWVkIHJhbmdlLiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNsYW1wKG1pbjogbnVtYmVyLCB4OiBudW1iZXIsIG1heDogbnVtYmVyKTogbnVtYmVyIHtcbiAgcmV0dXJuIE1hdGgubWF4KG1pbiwgTWF0aC5taW4oeCwgbWF4KSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBuZWFyZXN0TGFyZ2VyRXZlbih2YWw6IG51bWJlcik6IG51bWJlciB7XG4gIHJldHVybiB2YWwgJSAyID09PSAwID8gdmFsIDogdmFsICsgMTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHN1bShhcnI6IG51bWJlcltdKTogbnVtYmVyIHtcbiAgbGV0IHN1bSA9IDA7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgc3VtICs9IGFycltpXTtcbiAgfVxuICByZXR1cm4gc3VtO1xufVxuXG4vKipcbiAqIFJldHVybnMgYSBzYW1wbGUgZnJvbSBhIHVuaWZvcm0gW2EsIGIpIGRpc3RyaWJ1dGlvbi5cbiAqXG4gKiBAcGFyYW0gYSBUaGUgbWluaW11bSBzdXBwb3J0IChpbmNsdXNpdmUpLlxuICogQHBhcmFtIGIgVGhlIG1heGltdW0gc3VwcG9ydCAoZXhjbHVzaXZlKS5cbiAqIEByZXR1cm4gQSBwc2V1ZG9yYW5kb20gbnVtYmVyIG9uIHRoZSBoYWxmLW9wZW4gaW50ZXJ2YWwgW2EsYikuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByYW5kVW5pZm9ybShhOiBudW1iZXIsIGI6IG51bWJlcikge1xuICBjb25zdCByID0gTWF0aC5yYW5kb20oKTtcbiAgcmV0dXJuIChiICogcikgKyAoMSAtIHIpICogYTtcbn1cblxuLyoqIFJldHVybnMgdGhlIHNxdWFyZWQgRXVjbGlkZWFuIGRpc3RhbmNlIGJldHdlZW4gdHdvIHZlY3RvcnMuICovXG5leHBvcnQgZnVuY3Rpb24gZGlzdFNxdWFyZWQoYTogRmxhdFZlY3RvciwgYjogRmxhdFZlY3Rvcik6IG51bWJlciB7XG4gIGxldCByZXN1bHQgPSAwO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGEubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBkaWZmID0gTnVtYmVyKGFbaV0pIC0gTnVtYmVyKGJbaV0pO1xuICAgIHJlc3VsdCArPSBkaWZmICogZGlmZjtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEFzc2VydHMgdGhhdCB0aGUgZXhwcmVzc2lvbiBpcyB0cnVlLiBPdGhlcndpc2UgdGhyb3dzIGFuIGVycm9yIHdpdGggdGhlXG4gKiBwcm92aWRlZCBtZXNzYWdlLlxuICpcbiAqIGBgYGpzXG4gKiBjb25zdCB4ID0gMjtcbiAqIHRmLnV0aWwuYXNzZXJ0KHggPT09IDIsICd4IGlzIG5vdCAyJyk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gZXhwciBUaGUgZXhwcmVzc2lvbiB0byBhc3NlcnQgKGFzIGEgYm9vbGVhbikuXG4gKiBAcGFyYW0gbXNnIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSBtZXNzYWdlIHRvIHJlcG9ydCB3aGVuIHRocm93aW5nIGFuXG4gKiAgICAgZXJyb3IuIFdlIHVzZSBhIGZ1bmN0aW9uIGZvciBwZXJmb3JtYW5jZSByZWFzb25zLlxuICpcbiAqIEBkb2Mge2hlYWRpbmc6ICdVdGlsJywgbmFtZXNwYWNlOiAndXRpbCd9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnQoZXhwcjogYm9vbGVhbiwgbXNnOiAoKSA9PiBzdHJpbmcpIHtcbiAgaWYgKCFleHByKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKHR5cGVvZiBtc2cgPT09ICdzdHJpbmcnID8gbXNnIDogbXNnKCkpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnRTaGFwZXNNYXRjaChcbiAgICBzaGFwZUE6IG51bWJlcltdLCBzaGFwZUI6IG51bWJlcltdLCBlcnJvck1lc3NhZ2VQcmVmaXggPSAnJyk6IHZvaWQge1xuICBhc3NlcnQoXG4gICAgICBhcnJheXNFcXVhbChzaGFwZUEsIHNoYXBlQiksXG4gICAgICAoKSA9PiBlcnJvck1lc3NhZ2VQcmVmaXggKyBgIFNoYXBlcyAke3NoYXBlQX0gYW5kICR7c2hhcGVCfSBtdXN0IG1hdGNoYCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnROb25OdWxsKGE6IFRlbnNvckxpa2UpOiB2b2lkIHtcbiAgYXNzZXJ0KFxuICAgICAgYSAhPSBudWxsLFxuICAgICAgKCkgPT4gYFRoZSBpbnB1dCB0byB0aGUgdGVuc29yIGNvbnN0cnVjdG9yIG11c3QgYmUgYSBub24tbnVsbCB2YWx1ZS5gKTtcbn1cblxuLy8gTk9URTogV2UgZXhwbGljaXRseSB0eXBlIG91dCB3aGF0IFQgZXh0ZW5kcyBpbnN0ZWFkIG9mIGFueSBzbyB0aGF0XG4vLyB1dGlsLmZsYXR0ZW4gb24gYSBuZXN0ZWQgYXJyYXkgb2YgbnVtYmVyIGRvZXNuJ3QgdHJ5IHRvIGluZmVyIFQgYXMgYVxuLy8gbnVtYmVyW11bXSwgY2F1c2luZyB1cyB0byBleHBsaWNpdGx5IHR5cGUgdXRpbC5mbGF0dGVuPG51bWJlcj4oKS5cbi8qKlxuICogIEZsYXR0ZW5zIGFuIGFyYml0cmFyaWx5IG5lc3RlZCBhcnJheS5cbiAqXG4gKiBgYGBqc1xuICogY29uc3QgYSA9IFtbMSwgMl0sIFszLCA0XSwgWzUsIFs2LCBbN11dXV07XG4gKiBjb25zdCBmbGF0ID0gdGYudXRpbC5mbGF0dGVuKGEpO1xuICogY29uc29sZS5sb2coZmxhdCk7XG4gKiBgYGBcbiAqXG4gKiAgQHBhcmFtIGFyciBUaGUgbmVzdGVkIGFycmF5IHRvIGZsYXR0ZW4uXG4gKiAgQHBhcmFtIHJlc3VsdCBUaGUgZGVzdGluYXRpb24gYXJyYXkgd2hpY2ggaG9sZHMgdGhlIGVsZW1lbnRzLlxuICogIEBwYXJhbSBza2lwVHlwZWRBcnJheSBJZiB0cnVlLCBhdm9pZHMgZmxhdHRlbmluZyB0aGUgdHlwZWQgYXJyYXlzLiBEZWZhdWx0c1xuICogICAgICB0byBmYWxzZS5cbiAqXG4gKiBAZG9jIHtoZWFkaW5nOiAnVXRpbCcsIG5hbWVzcGFjZTogJ3V0aWwnfVxuICovXG5leHBvcnQgZnVuY3Rpb25cbmZsYXR0ZW48VCBleHRlbmRzIG51bWJlcnxib29sZWFufHN0cmluZ3xQcm9taXNlPG51bWJlcj58VHlwZWRBcnJheT4oXG4gICAgYXJyOiBUfFJlY3Vyc2l2ZUFycmF5PFQ+LCByZXN1bHQ6IFRbXSA9IFtdLCBza2lwVHlwZWRBcnJheSA9IGZhbHNlKTogVFtdIHtcbiAgaWYgKHJlc3VsdCA9PSBudWxsKSB7XG4gICAgcmVzdWx0ID0gW107XG4gIH1cbiAgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSB8fCBpc1R5cGVkQXJyYXkoYXJyKSAmJiAhc2tpcFR5cGVkQXJyYXkpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFyci5sZW5ndGg7ICsraSkge1xuICAgICAgZmxhdHRlbihhcnJbaV0sIHJlc3VsdCwgc2tpcFR5cGVkQXJyYXkpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICByZXN1bHQucHVzaChhcnIgYXMgVCk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBzaXplIChudW1iZXIgb2YgZWxlbWVudHMpIG9mIHRoZSB0ZW5zb3IgZ2l2ZW4gaXRzIHNoYXBlLlxuICpcbiAqIGBgYGpzXG4gKiBjb25zdCBzaGFwZSA9IFszLCA0LCAyXTtcbiAqIGNvbnN0IHNpemUgPSB0Zi51dGlsLnNpemVGcm9tU2hhcGUoc2hhcGUpO1xuICogY29uc29sZS5sb2coc2l6ZSk7XG4gKiBgYGBcbiAqXG4gKiBAZG9jIHtoZWFkaW5nOiAnVXRpbCcsIG5hbWVzcGFjZTogJ3V0aWwnfVxuICovXG5leHBvcnQgZnVuY3Rpb24gc2l6ZUZyb21TaGFwZShzaGFwZTogbnVtYmVyW10pOiBudW1iZXIge1xuICBpZiAoc2hhcGUubGVuZ3RoID09PSAwKSB7XG4gICAgLy8gU2NhbGFyLlxuICAgIHJldHVybiAxO1xuICB9XG4gIGxldCBzaXplID0gc2hhcGVbMF07XG4gIGZvciAobGV0IGkgPSAxOyBpIDwgc2hhcGUubGVuZ3RoOyBpKyspIHtcbiAgICBzaXplICo9IHNoYXBlW2ldO1xuICB9XG4gIHJldHVybiBzaXplO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNTY2FsYXJTaGFwZShzaGFwZTogbnVtYmVyW10pOiBib29sZWFuIHtcbiAgcmV0dXJuIHNoYXBlLmxlbmd0aCA9PT0gMDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFycmF5c0VxdWFsKG4xOiBGbGF0VmVjdG9yLCBuMjogRmxhdFZlY3Rvcikge1xuICBpZiAobjEgPT09IG4yKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgaWYgKG4xID09IG51bGwgfHwgbjIgPT0gbnVsbCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGlmIChuMS5sZW5ndGggIT09IG4yLmxlbmd0aCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBmb3IgKGxldCBpID0gMDsgaSA8IG4xLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKG4xW2ldICE9PSBuMltpXSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzSW50KGE6IG51bWJlcik6IGJvb2xlYW4ge1xuICByZXR1cm4gYSAlIDEgPT09IDA7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0YW5oKHg6IG51bWJlcik6IG51bWJlciB7XG4gIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1hbnlcbiAgaWYgKChNYXRoIGFzIGFueSkudGFuaCAhPSBudWxsKSB7XG4gICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWFueVxuICAgIHJldHVybiAoTWF0aCBhcyBhbnkpLnRhbmgoeCk7XG4gIH1cbiAgaWYgKHggPT09IEluZmluaXR5KSB7XG4gICAgcmV0dXJuIDE7XG4gIH0gZWxzZSBpZiAoeCA9PT0gLUluZmluaXR5KSB7XG4gICAgcmV0dXJuIC0xO1xuICB9IGVsc2Uge1xuICAgIGNvbnN0IGUyeCA9IE1hdGguZXhwKDIgKiB4KTtcbiAgICByZXR1cm4gKGUyeCAtIDEpIC8gKGUyeCArIDEpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzaXplVG9TcXVhcmlzaFNoYXBlKHNpemU6IG51bWJlcik6IFtudW1iZXIsIG51bWJlcl0ge1xuICBjb25zdCB3aWR0aCA9IE1hdGguY2VpbChNYXRoLnNxcnQoc2l6ZSkpO1xuICByZXR1cm4gW3dpZHRoLCBNYXRoLmNlaWwoc2l6ZSAvIHdpZHRoKV07XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBhcnJheSB3aXRoIHJhbmRvbWl6ZWQgaW5kaWNpZXMgdG8gYSBnaXZlbiBxdWFudGl0eS5cbiAqXG4gKiBgYGBqc1xuICogY29uc3QgcmFuZG9tVGVuID0gdGYudXRpbC5jcmVhdGVTaHVmZmxlZEluZGljZXMoMTApO1xuICogY29uc29sZS5sb2cocmFuZG9tVGVuKTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBudW1iZXIgUXVhbnRpdHkgb2YgaG93IG1hbnkgc2h1ZmZsZWQgaW5kaWNpZXMgdG8gY3JlYXRlLlxuICpcbiAqIEBkb2Mge2hlYWRpbmc6ICdVdGlsJywgbmFtZXNwYWNlOiAndXRpbCd9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVTaHVmZmxlZEluZGljZXMobjogbnVtYmVyKTogVWludDMyQXJyYXkge1xuICBjb25zdCBzaHVmZmxlZEluZGljZXMgPSBuZXcgVWludDMyQXJyYXkobik7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbjsgKytpKSB7XG4gICAgc2h1ZmZsZWRJbmRpY2VzW2ldID0gaTtcbiAgfVxuICBzaHVmZmxlKHNodWZmbGVkSW5kaWNlcyk7XG4gIHJldHVybiBzaHVmZmxlZEluZGljZXM7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByaWdodFBhZChhOiBzdHJpbmcsIHNpemU6IG51bWJlcik6IHN0cmluZyB7XG4gIGlmIChzaXplIDw9IGEubGVuZ3RoKSB7XG4gICAgcmV0dXJuIGE7XG4gIH1cbiAgcmV0dXJuIGEgKyAnICcucmVwZWF0KHNpemUgLSBhLmxlbmd0aCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZXBlYXRlZFRyeShcbiAgICBjaGVja0ZuOiAoKSA9PiBib29sZWFuLCBkZWxheUZuID0gKGNvdW50ZXI6IG51bWJlcikgPT4gMCxcbiAgICBtYXhDb3VudGVyPzogbnVtYmVyKTogUHJvbWlzZTx2b2lkPiB7XG4gIHJldHVybiBuZXcgUHJvbWlzZTx2b2lkPigocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgbGV0IHRyeUNvdW50ID0gMDtcblxuICAgIGNvbnN0IHRyeUZuID0gKCkgPT4ge1xuICAgICAgaWYgKGNoZWNrRm4oKSkge1xuICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdHJ5Q291bnQrKztcblxuICAgICAgY29uc3QgbmV4dEJhY2tvZmYgPSBkZWxheUZuKHRyeUNvdW50KTtcblxuICAgICAgaWYgKG1heENvdW50ZXIgIT0gbnVsbCAmJiB0cnlDb3VudCA+PSBtYXhDb3VudGVyKSB7XG4gICAgICAgIHJlamVjdCgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBzZXRUaW1lb3V0KHRyeUZuLCBuZXh0QmFja29mZik7XG4gICAgfTtcblxuICAgIHRyeUZuKCk7XG4gIH0pO1xufVxuXG4vKipcbiAqIEdpdmVuIHRoZSBmdWxsIHNpemUgb2YgdGhlIGFycmF5IGFuZCBhIHNoYXBlIHRoYXQgbWF5IGNvbnRhaW4gLTEgYXMgdGhlXG4gKiBpbXBsaWNpdCBkaW1lbnNpb24sIHJldHVybnMgdGhlIGluZmVycmVkIHNoYXBlIHdoZXJlIC0xIGlzIHJlcGxhY2VkLlxuICogRS5nLiBGb3Igc2hhcGU9WzIsIC0xLCAzXSBhbmQgc2l6ZT0yNCwgaXQgd2lsbCByZXR1cm4gWzIsIDQsIDNdLlxuICpcbiAqIEBwYXJhbSBzaGFwZSBUaGUgc2hhcGUsIHdoaWNoIG1heSBjb250YWluIC0xIGluIHNvbWUgZGltZW5zaW9uLlxuICogQHBhcmFtIHNpemUgVGhlIGZ1bGwgc2l6ZSAobnVtYmVyIG9mIGVsZW1lbnRzKSBvZiB0aGUgYXJyYXkuXG4gKiBAcmV0dXJuIFRoZSBpbmZlcnJlZCBzaGFwZSB3aGVyZSAtMSBpcyByZXBsYWNlZCB3aXRoIHRoZSBpbmZlcnJlZCBzaXplLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5mZXJGcm9tSW1wbGljaXRTaGFwZShcbiAgICBzaGFwZTogbnVtYmVyW10sIHNpemU6IG51bWJlcik6IG51bWJlcltdIHtcbiAgbGV0IHNoYXBlUHJvZCA9IDE7XG4gIGxldCBpbXBsaWNpdElkeCA9IC0xO1xuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgc2hhcGUubGVuZ3RoOyArK2kpIHtcbiAgICBpZiAoc2hhcGVbaV0gPj0gMCkge1xuICAgICAgc2hhcGVQcm9kICo9IHNoYXBlW2ldO1xuICAgIH0gZWxzZSBpZiAoc2hhcGVbaV0gPT09IC0xKSB7XG4gICAgICBpZiAoaW1wbGljaXRJZHggIT09IC0xKSB7XG4gICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgICAgYFNoYXBlcyBjYW4gb25seSBoYXZlIDEgaW1wbGljaXQgc2l6ZS4gYCArXG4gICAgICAgICAgICBgRm91bmQgLTEgYXQgZGltICR7aW1wbGljaXRJZHh9IGFuZCBkaW0gJHtpfWApO1xuICAgICAgfVxuICAgICAgaW1wbGljaXRJZHggPSBpO1xuICAgIH0gZWxzZSBpZiAoc2hhcGVbaV0gPCAwKSB7XG4gICAgICB0aHJvdyBFcnJvcihgU2hhcGVzIGNhbiBub3QgYmUgPCAwLiBGb3VuZCAke3NoYXBlW2ldfSBhdCBkaW0gJHtpfWApO1xuICAgIH1cbiAgfVxuXG4gIGlmIChpbXBsaWNpdElkeCA9PT0gLTEpIHtcbiAgICBpZiAoc2l6ZSA+IDAgJiYgc2l6ZSAhPT0gc2hhcGVQcm9kKSB7XG4gICAgICB0aHJvdyBFcnJvcihgU2l6ZSgke3NpemV9KSBtdXN0IG1hdGNoIHRoZSBwcm9kdWN0IG9mIHNoYXBlICR7c2hhcGV9YCk7XG4gICAgfVxuICAgIHJldHVybiBzaGFwZTtcbiAgfVxuXG4gIGlmIChzaGFwZVByb2QgPT09IDApIHtcbiAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgYENhbm5vdCBpbmZlciB0aGUgbWlzc2luZyBzaXplIGluIFske3NoYXBlfV0gd2hlbiBgICtcbiAgICAgICAgYHRoZXJlIGFyZSAwIGVsZW1lbnRzYCk7XG4gIH1cbiAgaWYgKHNpemUgJSBzaGFwZVByb2QgIT09IDApIHtcbiAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgYFRoZSBpbXBsaWNpdCBzaGFwZSBjYW4ndCBiZSBhIGZyYWN0aW9uYWwgbnVtYmVyLiBgICtcbiAgICAgICAgYEdvdCAke3NpemV9IC8gJHtzaGFwZVByb2R9YCk7XG4gIH1cblxuICBjb25zdCBuZXdTaGFwZSA9IHNoYXBlLnNsaWNlKCk7XG4gIG5ld1NoYXBlW2ltcGxpY2l0SWR4XSA9IHNpemUgLyBzaGFwZVByb2Q7XG4gIHJldHVybiBuZXdTaGFwZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlQXhpc1BhcmFtKFxuICAgIGF4aXM6IG51bWJlcnxudW1iZXJbXSwgc2hhcGU6IG51bWJlcltdKTogbnVtYmVyW10ge1xuICBjb25zdCByYW5rID0gc2hhcGUubGVuZ3RoO1xuXG4gIC8vIE5vcm1hbGl6ZSBpbnB1dFxuICBheGlzID0gYXhpcyA9PSBudWxsID8gc2hhcGUubWFwKChzLCBpKSA9PiBpKSA6IFtdLmNvbmNhdChheGlzKTtcblxuICAvLyBDaGVjayBmb3IgdmFsaWQgcmFuZ2VcbiAgYXNzZXJ0KFxuICAgICAgYXhpcy5ldmVyeShheCA9PiBheCA+PSAtcmFuayAmJiBheCA8IHJhbmspLFxuICAgICAgKCkgPT5cbiAgICAgICAgICBgQWxsIHZhbHVlcyBpbiBheGlzIHBhcmFtIG11c3QgYmUgaW4gcmFuZ2UgWy0ke3Jhbmt9LCAke3Jhbmt9KSBidXQgYCArXG4gICAgICAgICAgYGdvdCBheGlzICR7YXhpc31gKTtcblxuICAvLyBDaGVjayBmb3Igb25seSBpbnRlZ2Vyc1xuICBhc3NlcnQoXG4gICAgICBheGlzLmV2ZXJ5KGF4ID0+IGlzSW50KGF4KSksXG4gICAgICAoKSA9PiBgQWxsIHZhbHVlcyBpbiBheGlzIHBhcmFtIG11c3QgYmUgaW50ZWdlcnMgYnV0IGAgK1xuICAgICAgICAgIGBnb3QgYXhpcyAke2F4aXN9YCk7XG5cbiAgLy8gSGFuZGxlIG5lZ2F0aXZlIGF4aXMuXG4gIHJldHVybiBheGlzLm1hcChhID0+IGEgPCAwID8gcmFuayArIGEgOiBhKTtcbn1cblxuLyoqIFJlZHVjZXMgdGhlIHNoYXBlIGJ5IHJlbW92aW5nIGFsbCBkaW1lbnNpb25zIG9mIHNoYXBlIDEuICovXG5leHBvcnQgZnVuY3Rpb24gc3F1ZWV6ZVNoYXBlKHNoYXBlOiBudW1iZXJbXSwgYXhpcz86IG51bWJlcltdKTpcbiAgICB7bmV3U2hhcGU6IG51bWJlcltdLCBrZXB0RGltczogbnVtYmVyW119IHtcbiAgY29uc3QgbmV3U2hhcGU6IG51bWJlcltdID0gW107XG4gIGNvbnN0IGtlcHREaW1zOiBudW1iZXJbXSA9IFtdO1xuICBjb25zdCBpc0VtcHR5QXJyYXkgPSBheGlzICE9IG51bGwgJiYgQXJyYXkuaXNBcnJheShheGlzKSAmJiBheGlzLmxlbmd0aCA9PT0gMDtcbiAgY29uc3QgYXhlcyA9IChheGlzID09IG51bGwgfHwgaXNFbXB0eUFycmF5KSA/XG4gICAgICBudWxsIDpcbiAgICAgIHBhcnNlQXhpc1BhcmFtKGF4aXMsIHNoYXBlKS5zb3J0KCk7XG4gIGxldCBqID0gMDtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaGFwZS5sZW5ndGg7ICsraSkge1xuICAgIGlmIChheGVzICE9IG51bGwpIHtcbiAgICAgIGlmIChheGVzW2pdID09PSBpICYmIHNoYXBlW2ldICE9PSAxKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAgIGBDYW4ndCBzcXVlZXplIGF4aXMgJHtpfSBzaW5jZSBpdHMgZGltICcke3NoYXBlW2ldfScgaXMgbm90IDFgKTtcbiAgICAgIH1cbiAgICAgIGlmICgoYXhlc1tqXSA9PSBudWxsIHx8IGF4ZXNbal0gPiBpKSAmJiBzaGFwZVtpXSA9PT0gMSkge1xuICAgICAgICBuZXdTaGFwZS5wdXNoKHNoYXBlW2ldKTtcbiAgICAgICAga2VwdERpbXMucHVzaChpKTtcbiAgICAgIH1cbiAgICAgIGlmIChheGVzW2pdIDw9IGkpIHtcbiAgICAgICAgaisrO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoc2hhcGVbaV0gIT09IDEpIHtcbiAgICAgIG5ld1NoYXBlLnB1c2goc2hhcGVbaV0pO1xuICAgICAga2VwdERpbXMucHVzaChpKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHtuZXdTaGFwZSwga2VwdERpbXN9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0VHlwZWRBcnJheUZyb21EVHlwZTxEIGV4dGVuZHMgTnVtZXJpY0RhdGFUeXBlPihcbiAgICBkdHlwZTogRCwgc2l6ZTogbnVtYmVyKTogRGF0YVR5cGVNYXBbRF0ge1xuICBsZXQgdmFsdWVzID0gbnVsbDtcbiAgaWYgKGR0eXBlID09IG51bGwgfHwgZHR5cGUgPT09ICdmbG9hdDMyJykge1xuICAgIHZhbHVlcyA9IG5ldyBGbG9hdDMyQXJyYXkoc2l6ZSk7XG4gIH0gZWxzZSBpZiAoZHR5cGUgPT09ICdpbnQzMicpIHtcbiAgICB2YWx1ZXMgPSBuZXcgSW50MzJBcnJheShzaXplKTtcbiAgfSBlbHNlIGlmIChkdHlwZSA9PT0gJ2Jvb2wnKSB7XG4gICAgdmFsdWVzID0gbmV3IFVpbnQ4QXJyYXkoc2l6ZSk7XG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBVbmtub3duIGRhdGEgdHlwZSAke2R0eXBlfWApO1xuICB9XG4gIHJldHVybiB2YWx1ZXMgYXMgRGF0YVR5cGVNYXBbRF07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRBcnJheUZyb21EVHlwZTxEIGV4dGVuZHMgRGF0YVR5cGU+KFxuICAgIGR0eXBlOiBELCBzaXplOiBudW1iZXIpOiBEYXRhVHlwZU1hcFtEXSB7XG4gIGxldCB2YWx1ZXMgPSBudWxsO1xuICBpZiAoZHR5cGUgPT0gbnVsbCB8fCBkdHlwZSA9PT0gJ2Zsb2F0MzInKSB7XG4gICAgdmFsdWVzID0gbmV3IEZsb2F0MzJBcnJheShzaXplKTtcbiAgfSBlbHNlIGlmIChkdHlwZSA9PT0gJ2ludDMyJykge1xuICAgIHZhbHVlcyA9IG5ldyBJbnQzMkFycmF5KHNpemUpO1xuICB9IGVsc2UgaWYgKGR0eXBlID09PSAnYm9vbCcpIHtcbiAgICB2YWx1ZXMgPSBuZXcgVWludDhBcnJheShzaXplKTtcbiAgfSBlbHNlIGlmIChkdHlwZSA9PT0gJ3N0cmluZycpIHtcbiAgICB2YWx1ZXMgPSBuZXcgQXJyYXk8J3N0cmluZyc+KHNpemUpO1xuICB9IGVsc2Uge1xuICAgIHRocm93IG5ldyBFcnJvcihgVW5rbm93biBkYXRhIHR5cGUgJHtkdHlwZX1gKTtcbiAgfVxuICByZXR1cm4gdmFsdWVzIGFzIERhdGFUeXBlTWFwW0RdO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY2hlY2tDb252ZXJzaW9uRm9yRXJyb3JzPEQgZXh0ZW5kcyBEYXRhVHlwZT4oXG4gICAgdmFsczogRGF0YVR5cGVNYXBbRF18bnVtYmVyW10sIGR0eXBlOiBEKTogdm9pZCB7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgdmFscy5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IG51bSA9IHZhbHNbaV0gYXMgbnVtYmVyO1xuICAgIGlmIChpc05hTihudW0pIHx8ICFpc0Zpbml0ZShudW0pKSB7XG4gICAgICB0aHJvdyBFcnJvcihgQSB0ZW5zb3Igb2YgdHlwZSAke2R0eXBlfSBiZWluZyB1cGxvYWRlZCBjb250YWlucyAke251bX0uYCk7XG4gICAgfVxuICB9XG59XG5cbi8qKiBSZXR1cm5zIHRydWUgaWYgdGhlIGR0eXBlIGlzIHZhbGlkLiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzVmFsaWREdHlwZShkdHlwZTogRGF0YVR5cGUpOiBib29sZWFuIHtcbiAgcmV0dXJuIGR0eXBlID09PSAnYm9vbCcgfHwgZHR5cGUgPT09ICdjb21wbGV4NjQnIHx8IGR0eXBlID09PSAnZmxvYXQzMicgfHxcbiAgICAgIGR0eXBlID09PSAnaW50MzInIHx8IGR0eXBlID09PSAnc3RyaW5nJztcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgdGhlIG5ldyB0eXBlIGNhbid0IGVuY29kZSB0aGUgb2xkIHR5cGUgd2l0aG91dCBsb3NzIG9mXG4gKiBwcmVjaXNpb24uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBoYXNFbmNvZGluZ0xvc3Mob2xkVHlwZTogRGF0YVR5cGUsIG5ld1R5cGU6IERhdGFUeXBlKTogYm9vbGVhbiB7XG4gIGlmIChuZXdUeXBlID09PSAnY29tcGxleDY0Jykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAobmV3VHlwZSA9PT0gJ2Zsb2F0MzInICYmIG9sZFR5cGUgIT09ICdjb21wbGV4NjQnKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmIChuZXdUeXBlID09PSAnaW50MzInICYmIG9sZFR5cGUgIT09ICdmbG9hdDMyJyAmJiBvbGRUeXBlICE9PSAnY29tcGxleDY0Jykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAobmV3VHlwZSA9PT0gJ2Jvb2wnICYmIG9sZFR5cGUgPT09ICdib29sJykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzVHlwZWRBcnJheShhOiB7fSk6IGEgaXMgRmxvYXQzMkFycmF5fEludDMyQXJyYXl8VWludDhBcnJheSB7XG4gIHJldHVybiBhIGluc3RhbmNlb2YgRmxvYXQzMkFycmF5IHx8IGEgaW5zdGFuY2VvZiBJbnQzMkFycmF5IHx8XG4gICAgICBhIGluc3RhbmNlb2YgVWludDhBcnJheTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGJ5dGVzUGVyRWxlbWVudChkdHlwZTogRGF0YVR5cGUpOiBudW1iZXIge1xuICBpZiAoZHR5cGUgPT09ICdmbG9hdDMyJyB8fCBkdHlwZSA9PT0gJ2ludDMyJykge1xuICAgIHJldHVybiA0O1xuICB9IGVsc2UgaWYgKGR0eXBlID09PSAnY29tcGxleDY0Jykge1xuICAgIHJldHVybiA4O1xuICB9IGVsc2UgaWYgKGR0eXBlID09PSAnYm9vbCcpIHtcbiAgICByZXR1cm4gMTtcbiAgfSBlbHNlIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYFVua25vd24gZHR5cGUgJHtkdHlwZX1gKTtcbiAgfVxufVxuXG4vKipcbiAqIFJldHVybnMgdGhlIGFwcHJveGltYXRlIG51bWJlciBvZiBieXRlcyBhbGxvY2F0ZWQgaW4gdGhlIHN0cmluZyBhcnJheSAtIDJcbiAqIGJ5dGVzIHBlciBjaGFyYWN0ZXIuIENvbXB1dGluZyB0aGUgZXhhY3QgYnl0ZXMgZm9yIGEgbmF0aXZlIHN0cmluZyBpbiBKUyBpc1xuICogbm90IHBvc3NpYmxlIHNpbmNlIGl0IGRlcGVuZHMgb24gdGhlIGVuY29kaW5nIG9mIHRoZSBodG1sIHBhZ2UgdGhhdCBzZXJ2ZXNcbiAqIHRoZSB3ZWJzaXRlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gYnl0ZXNGcm9tU3RyaW5nQXJyYXkoYXJyOiBVaW50OEFycmF5W10pOiBudW1iZXIge1xuICBpZiAoYXJyID09IG51bGwpIHtcbiAgICByZXR1cm4gMDtcbiAgfVxuICBsZXQgYnl0ZXMgPSAwO1xuICBhcnIuZm9yRWFjaCh4ID0+IGJ5dGVzICs9IHgubGVuZ3RoKTtcbiAgcmV0dXJuIGJ5dGVzO1xufVxuXG4vKiogUmV0dXJucyB0cnVlIGlmIHRoZSB2YWx1ZSBpcyBhIHN0cmluZy4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1N0cmluZyh2YWx1ZToge30pOiB2YWx1ZSBpcyBzdHJpbmcge1xuICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyB8fCB2YWx1ZSBpbnN0YW5jZW9mIFN0cmluZztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzQm9vbGVhbih2YWx1ZToge30pOiBib29sZWFuIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ2Jvb2xlYW4nO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNOdW1iZXIodmFsdWU6IHt9KTogYm9vbGVhbiB7XG4gIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaW5mZXJEdHlwZSh2YWx1ZXM6IFRlbnNvckxpa2UpOiBEYXRhVHlwZSB7XG4gIGlmIChBcnJheS5pc0FycmF5KHZhbHVlcykpIHtcbiAgICByZXR1cm4gaW5mZXJEdHlwZSh2YWx1ZXNbMF0pO1xuICB9XG4gIGlmICh2YWx1ZXMgaW5zdGFuY2VvZiBGbG9hdDMyQXJyYXkpIHtcbiAgICByZXR1cm4gJ2Zsb2F0MzInO1xuICB9IGVsc2UgaWYgKHZhbHVlcyBpbnN0YW5jZW9mIEludDMyQXJyYXkgfHwgdmFsdWVzIGluc3RhbmNlb2YgVWludDhBcnJheSkge1xuICAgIHJldHVybiAnaW50MzInO1xuICB9IGVsc2UgaWYgKGlzTnVtYmVyKHZhbHVlcykpIHtcbiAgICByZXR1cm4gJ2Zsb2F0MzInO1xuICB9IGVsc2UgaWYgKGlzU3RyaW5nKHZhbHVlcykpIHtcbiAgICByZXR1cm4gJ3N0cmluZyc7XG4gIH0gZWxzZSBpZiAoaXNCb29sZWFuKHZhbHVlcykpIHtcbiAgICByZXR1cm4gJ2Jvb2wnO1xuICB9XG4gIHJldHVybiAnZmxvYXQzMic7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0Z1bmN0aW9uKGY6IEZ1bmN0aW9uKSB7XG4gIHJldHVybiAhIShmICYmIGYuY29uc3RydWN0b3IgJiYgZi5jYWxsICYmIGYuYXBwbHkpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbmVhcmVzdERpdmlzb3Ioc2l6ZTogbnVtYmVyLCBzdGFydDogbnVtYmVyKTogbnVtYmVyIHtcbiAgZm9yIChsZXQgaSA9IHN0YXJ0OyBpIDwgc2l6ZTsgKytpKSB7XG4gICAgaWYgKHNpemUgJSBpID09PSAwKSB7XG4gICAgICByZXR1cm4gaTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHNpemU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb21wdXRlU3RyaWRlcyhzaGFwZTogbnVtYmVyW10pOiBudW1iZXJbXSB7XG4gIGNvbnN0IHJhbmsgPSBzaGFwZS5sZW5ndGg7XG4gIGlmIChyYW5rIDwgMikge1xuICAgIHJldHVybiBbXTtcbiAgfVxuXG4gIC8vIExhc3QgZGltZW5zaW9uIGhhcyBpbXBsaWNpdCBzdHJpZGUgb2YgMSwgdGh1cyBoYXZpbmcgRC0xIChpbnN0ZWFkIG9mIEQpXG4gIC8vIHN0cmlkZXMuXG4gIGNvbnN0IHN0cmlkZXMgPSBuZXcgQXJyYXkocmFuayAtIDEpO1xuICBzdHJpZGVzW3JhbmsgLSAyXSA9IHNoYXBlW3JhbmsgLSAxXTtcbiAgZm9yIChsZXQgaSA9IHJhbmsgLSAzOyBpID49IDA7IC0taSkge1xuICAgIHN0cmlkZXNbaV0gPSBzdHJpZGVzW2kgKyAxXSAqIHNoYXBlW2kgKyAxXTtcbiAgfVxuICByZXR1cm4gc3RyaWRlcztcbn1cblxuLyoqXG4gKiBDcmVhdGUgdHlwZWQgYXJyYXkgZm9yIHNjYWxhciB2YWx1ZS4gVXNlZCBmb3Igc3RvcmluZyBpbiBgRGF0YVN0b3JhZ2VgLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlU2NhbGFyVmFsdWUoXG4gICAgdmFsdWU6IERhdGFUeXBlLCBkdHlwZTogRGF0YVR5cGUpOiBCYWNrZW5kVmFsdWVzIHtcbiAgaWYgKGR0eXBlID09PSAnc3RyaW5nJykge1xuICAgIHJldHVybiBlbmNvZGVTdHJpbmcodmFsdWUpO1xuICB9XG5cbiAgcmV0dXJuIHRvVHlwZWRBcnJheShbdmFsdWVdLCBkdHlwZSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0b1R5cGVkQXJyYXkoYTogVGVuc29yTGlrZSwgZHR5cGU6IERhdGFUeXBlKTogVHlwZWRBcnJheSB7XG4gIGlmIChkdHlwZSA9PT0gJ3N0cmluZycpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBjb252ZXJ0IGEgc3RyaW5nW10gdG8gYSBUeXBlZEFycmF5Jyk7XG4gIH1cbiAgaWYgKEFycmF5LmlzQXJyYXkoYSkpIHtcbiAgICBhID0gZmxhdHRlbihhKTtcbiAgfVxuXG4gIGlmIChlbnYoKS5nZXRCb29sKCdERUJVRycpKSB7XG4gICAgY2hlY2tDb252ZXJzaW9uRm9yRXJyb3JzKGEgYXMgbnVtYmVyW10sIGR0eXBlKTtcbiAgfVxuICBpZiAobm9Db252ZXJzaW9uTmVlZGVkKGEsIGR0eXBlKSkge1xuICAgIHJldHVybiBhIGFzIFR5cGVkQXJyYXk7XG4gIH1cbiAgaWYgKGR0eXBlID09IG51bGwgfHwgZHR5cGUgPT09ICdmbG9hdDMyJyB8fCBkdHlwZSA9PT0gJ2NvbXBsZXg2NCcpIHtcbiAgICByZXR1cm4gbmV3IEZsb2F0MzJBcnJheShhIGFzIG51bWJlcltdKTtcbiAgfSBlbHNlIGlmIChkdHlwZSA9PT0gJ2ludDMyJykge1xuICAgIHJldHVybiBuZXcgSW50MzJBcnJheShhIGFzIG51bWJlcltdKTtcbiAgfSBlbHNlIGlmIChkdHlwZSA9PT0gJ2Jvb2wnKSB7XG4gICAgY29uc3QgYm9vbCA9IG5ldyBVaW50OEFycmF5KChhIGFzIG51bWJlcltdKS5sZW5ndGgpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYm9vbC5sZW5ndGg7ICsraSkge1xuICAgICAgaWYgKE1hdGgucm91bmQoKGEgYXMgbnVtYmVyW10pW2ldKSAhPT0gMCkge1xuICAgICAgICBib29sW2ldID0gMTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGJvb2w7XG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBVbmtub3duIGRhdGEgdHlwZSAke2R0eXBlfWApO1xuICB9XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZU5lc3RlZEFycmF5KG9mZnNldDogbnVtYmVyLCBzaGFwZTogbnVtYmVyW10sIGE6IFR5cGVkQXJyYXkpIHtcbiAgY29uc3QgcmV0ID0gbmV3IEFycmF5KCk7XG4gIGlmIChzaGFwZS5sZW5ndGggPT09IDEpIHtcbiAgICBjb25zdCBkID0gc2hhcGVbMF07XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkOyBpKyspIHtcbiAgICAgIHJldFtpXSA9IGFbb2Zmc2V0ICsgaV07XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGNvbnN0IGQgPSBzaGFwZVswXTtcbiAgICBjb25zdCByZXN0ID0gc2hhcGUuc2xpY2UoMSk7XG4gICAgY29uc3QgbGVuID0gcmVzdC5yZWR1Y2UoKGFjYywgYykgPT4gYWNjICogYyk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkOyBpKyspIHtcbiAgICAgIHJldFtpXSA9IGNyZWF0ZU5lc3RlZEFycmF5KG9mZnNldCArIGkgKiBsZW4sIHJlc3QsIGEpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmV0O1xufVxuXG4vLyBQcm92aWRlIGEgbmVzdGVkIGFycmF5IG9mIFR5cGVkQXJyYXkgaW4gZ2l2ZW4gc2hhcGUuXG5leHBvcnQgZnVuY3Rpb24gdG9OZXN0ZWRBcnJheShzaGFwZTogbnVtYmVyW10sIGE6IFR5cGVkQXJyYXkpIHtcbiAgaWYgKHNoYXBlLmxlbmd0aCA9PT0gMCkge1xuICAgIC8vIFNjYWxhciB0eXBlIHNob3VsZCByZXR1cm4gYSBzaW5nbGUgbnVtYmVyLlxuICAgIHJldHVybiBhWzBdO1xuICB9XG4gIGNvbnN0IHNpemUgPSBzaGFwZS5yZWR1Y2UoKGFjYywgYykgPT4gYWNjICogYyk7XG4gIGlmIChzaXplID09PSAwKSB7XG4gICAgLy8gQSB0ZW5zb3Igd2l0aCBzaGFwZSB6ZXJvIHNob3VsZCBiZSB0dXJuZWQgaW50byBlbXB0eSBsaXN0LlxuICAgIHJldHVybiBbXTtcbiAgfVxuICBpZiAoc2l6ZSAhPT0gYS5sZW5ndGgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYFske3NoYXBlfV0gZG9lcyBub3QgbWF0Y2ggdGhlIGlucHV0IHNpemUgJHthLmxlbmd0aH0uYCk7XG4gIH1cblxuICByZXR1cm4gY3JlYXRlTmVzdGVkQXJyYXkoMCwgc2hhcGUsIGEpO1xufVxuXG5mdW5jdGlvbiBub0NvbnZlcnNpb25OZWVkZWQoYTogVGVuc29yTGlrZSwgZHR5cGU6IERhdGFUeXBlKTogYm9vbGVhbiB7XG4gIHJldHVybiAoYSBpbnN0YW5jZW9mIEZsb2F0MzJBcnJheSAmJiBkdHlwZSA9PT0gJ2Zsb2F0MzInKSB8fFxuICAgICAgKGEgaW5zdGFuY2VvZiBJbnQzMkFycmF5ICYmIGR0eXBlID09PSAnaW50MzInKSB8fFxuICAgICAgKGEgaW5zdGFuY2VvZiBVaW50OEFycmF5ICYmIGR0eXBlID09PSAnYm9vbCcpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbWFrZU9uZXNUeXBlZEFycmF5PEQgZXh0ZW5kcyBEYXRhVHlwZT4oXG4gICAgc2l6ZTogbnVtYmVyLCBkdHlwZTogRCk6IERhdGFUeXBlTWFwW0RdIHtcbiAgY29uc3QgYXJyYXkgPSBtYWtlWmVyb3NUeXBlZEFycmF5KHNpemUsIGR0eXBlKTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykge1xuICAgIGFycmF5W2ldID0gMTtcbiAgfVxuICByZXR1cm4gYXJyYXk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtYWtlWmVyb3NUeXBlZEFycmF5PEQgZXh0ZW5kcyBEYXRhVHlwZT4oXG4gICAgc2l6ZTogbnVtYmVyLCBkdHlwZTogRCk6IERhdGFUeXBlTWFwW0RdIHtcbiAgaWYgKGR0eXBlID09IG51bGwgfHwgZHR5cGUgPT09ICdmbG9hdDMyJyB8fCBkdHlwZSA9PT0gJ2NvbXBsZXg2NCcpIHtcbiAgICByZXR1cm4gbmV3IEZsb2F0MzJBcnJheShzaXplKSBhcyBEYXRhVHlwZU1hcFtEXTtcbiAgfSBlbHNlIGlmIChkdHlwZSA9PT0gJ2ludDMyJykge1xuICAgIHJldHVybiBuZXcgSW50MzJBcnJheShzaXplKSBhcyBEYXRhVHlwZU1hcFtEXTtcbiAgfSBlbHNlIGlmIChkdHlwZSA9PT0gJ2Jvb2wnKSB7XG4gICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KHNpemUpIGFzIERhdGFUeXBlTWFwW0RdO1xuICB9IGVsc2Uge1xuICAgIHRocm93IG5ldyBFcnJvcihgVW5rbm93biBkYXRhIHR5cGUgJHtkdHlwZX1gKTtcbiAgfVxufVxuXG4vKipcbiAqIE1ha2UgbmVzdGVkIGBUeXBlZEFycmF5YCBmaWxsZWQgd2l0aCB6ZXJvcy5cbiAqIEBwYXJhbSBzaGFwZSBUaGUgc2hhcGUgaW5mb3JtYXRpb24gZm9yIHRoZSBuZXN0ZWQgYXJyYXkuXG4gKiBAcGFyYW0gZHR5cGUgZHR5cGUgb2YgdGhlIGFycmF5IGVsZW1lbnQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtYWtlWmVyb3NOZXN0ZWRUeXBlZEFycmF5PEQgZXh0ZW5kcyBEYXRhVHlwZT4oXG4gICAgc2hhcGU6IG51bWJlcltdLCBkdHlwZTogRCkge1xuICBjb25zdCBzaXplID0gc2hhcGUucmVkdWNlKChwcmV2LCBjdXJyKSA9PiBwcmV2ICogY3VyciwgMSk7XG4gIGlmIChkdHlwZSA9PSBudWxsIHx8IGR0eXBlID09PSAnZmxvYXQzMicpIHtcbiAgICByZXR1cm4gdG9OZXN0ZWRBcnJheShzaGFwZSwgbmV3IEZsb2F0MzJBcnJheShzaXplKSk7XG4gIH0gZWxzZSBpZiAoZHR5cGUgPT09ICdpbnQzMicpIHtcbiAgICByZXR1cm4gdG9OZXN0ZWRBcnJheShzaGFwZSwgbmV3IEludDMyQXJyYXkoc2l6ZSkpO1xuICB9IGVsc2UgaWYgKGR0eXBlID09PSAnYm9vbCcpIHtcbiAgICByZXR1cm4gdG9OZXN0ZWRBcnJheShzaGFwZSwgbmV3IFVpbnQ4QXJyYXkoc2l6ZSkpO1xuICB9IGVsc2Uge1xuICAgIHRocm93IG5ldyBFcnJvcihgVW5rbm93biBkYXRhIHR5cGUgJHtkdHlwZX1gKTtcbiAgfVxufVxuXG4vKipcbiAqIFJldHVybnMgdGhlIGN1cnJlbnQgaGlnaC1yZXNvbHV0aW9uIHRpbWUgaW4gbWlsbGlzZWNvbmRzIHJlbGF0aXZlIHRvIGFuXG4gKiBhcmJpdHJhcnkgdGltZSBpbiB0aGUgcGFzdC4gSXQgd29ya3MgYWNyb3NzIGRpZmZlcmVudCBwbGF0Zm9ybXMgKG5vZGUuanMsXG4gKiBicm93c2VycykuXG4gKlxuICogYGBganNcbiAqIGNvbnNvbGUubG9nKHRmLnV0aWwubm93KCkpO1xuICogYGBgXG4gKlxuICogQGRvYyB7aGVhZGluZzogJ1V0aWwnLCBuYW1lc3BhY2U6ICd1dGlsJ31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG5vdygpOiBudW1iZXIge1xuICByZXR1cm4gZW52KCkucGxhdGZvcm0ubm93KCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnROb25OZWdhdGl2ZUludGVnZXJEaW1lbnNpb25zKHNoYXBlOiBudW1iZXJbXSkge1xuICBzaGFwZS5mb3JFYWNoKGRpbVNpemUgPT4ge1xuICAgIGFzc2VydChcbiAgICAgICAgTnVtYmVyLmlzSW50ZWdlcihkaW1TaXplKSAmJiBkaW1TaXplID49IDAsXG4gICAgICAgICgpID0+XG4gICAgICAgICAgICBgVGVuc29yIG11c3QgaGF2ZSBhIHNoYXBlIGNvbXByaXNlZCBvZiBwb3NpdGl2ZSBpbnRlZ2VycyBidXQgZ290IGAgK1xuICAgICAgICAgICAgYHNoYXBlIFske3NoYXBlfV0uYCk7XG4gIH0pO1xufVxuXG4vKipcbiAqIFJldHVybnMgYSBwbGF0Zm9ybS1zcGVjaWZpYyBpbXBsZW1lbnRhdGlvbiBvZlxuICogW2BmZXRjaGBdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9GZXRjaF9BUEkpLlxuICpcbiAqIElmIGBmZXRjaGAgaXMgZGVmaW5lZCBvbiB0aGUgZ2xvYmFsIG9iamVjdCAoYHdpbmRvd2AsIGBwcm9jZXNzYCwgZXRjLiksXG4gKiBgdGYudXRpbC5mZXRjaGAgcmV0dXJucyB0aGF0IGZ1bmN0aW9uLlxuICpcbiAqIElmIG5vdCwgYHRmLnV0aWwuZmV0Y2hgIHJldHVybnMgYSBwbGF0Zm9ybS1zcGVjaWZpYyBzb2x1dGlvbi5cbiAqXG4gKiBgYGBqc1xuICogY29uc3QgcmVzb3VyY2UgPSBhd2FpdCB0Zi51dGlsLmZldGNoKCdodHRwczovL3VucGtnLmNvbS9AdGVuc29yZmxvdy90ZmpzJyk7XG4gKiAvLyBoYW5kbGUgcmVzcG9uc2VcbiAqIGBgYFxuICpcbiAqIEBkb2Mge2hlYWRpbmc6ICdVdGlsJ31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZldGNoKFxuICAgIHBhdGg6IHN0cmluZywgcmVxdWVzdEluaXRzPzogUmVxdWVzdEluaXQpOiBQcm9taXNlPFJlc3BvbnNlPiB7XG4gIHJldHVybiBlbnYoKS5wbGF0Zm9ybS5mZXRjaChwYXRoLCByZXF1ZXN0SW5pdHMpO1xufVxuXG4vKipcbiAqIEVuY29kZXMgdGhlIHByb3ZpZGVkIHN0cmluZyBpbnRvIGJ5dGVzIHVzaW5nIHRoZSBwcm92aWRlZCBlbmNvZGluZyBzY2hlbWUuXG4gKlxuICogQHBhcmFtIHMgVGhlIHN0cmluZyB0byBlbmNvZGUuXG4gKiBAcGFyYW0gZW5jb2RpbmcgVGhlIGVuY29kaW5nIHNjaGVtZS4gRGVmYXVsdHMgdG8gdXRmLTguXG4gKlxuICogQGRvYyB7aGVhZGluZzogJ1V0aWwnfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZW5jb2RlU3RyaW5nKHM6IHN0cmluZywgZW5jb2RpbmcgPSAndXRmLTgnKTogVWludDhBcnJheSB7XG4gIGVuY29kaW5nID0gZW5jb2RpbmcgfHwgJ3V0Zi04JztcbiAgcmV0dXJuIGVudigpLnBsYXRmb3JtLmVuY29kZShzLCBlbmNvZGluZyk7XG59XG5cbi8qKlxuICogRGVjb2RlcyB0aGUgcHJvdmlkZWQgYnl0ZXMgaW50byBhIHN0cmluZyB1c2luZyB0aGUgcHJvdmlkZWQgZW5jb2Rpbmcgc2NoZW1lLlxuICogQHBhcmFtIGJ5dGVzIFRoZSBieXRlcyB0byBkZWNvZGUuXG4gKlxuICogQHBhcmFtIGVuY29kaW5nIFRoZSBlbmNvZGluZyBzY2hlbWUuIERlZmF1bHRzIHRvIHV0Zi04LlxuICpcbiAqIEBkb2Mge2hlYWRpbmc6ICdVdGlsJ31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlY29kZVN0cmluZyhieXRlczogVWludDhBcnJheSwgZW5jb2RpbmcgPSAndXRmLTgnKTogc3RyaW5nIHtcbiAgZW5jb2RpbmcgPSBlbmNvZGluZyB8fCAndXRmLTgnO1xuICByZXR1cm4gZW52KCkucGxhdGZvcm0uZGVjb2RlKGJ5dGVzLCBlbmNvZGluZyk7XG59XG5cbi8qKlxuICogQ29tcHV0ZXMgZmxhdCBpbmRleCBmb3IgYSBnaXZlbiBsb2NhdGlvbiAobXVsdGlkaW1lbnRpb25zYWwgaW5kZXgpIGluIGFcbiAqIFRlbnNvci9tdWx0aWRpbWVuc2lvbmFsIGFycmF5LlxuICpcbiAqIEBwYXJhbSBsb2NzIExvY2F0aW9uIGluIHRoZSB0ZW5zb3IuXG4gKiBAcGFyYW0gcmFuayBSYW5rIG9mIHRoZSB0ZW5zb3IuXG4gKiBAcGFyYW0gc3RyaWRlcyBUZW5zb3Igc3RyaWRlcy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxvY1RvSW5kZXgoXG4gICAgbG9jczogbnVtYmVyW10sIHJhbms6IG51bWJlciwgc3RyaWRlczogbnVtYmVyW10pOiBudW1iZXIge1xuICBpZiAocmFuayA9PT0gMCkge1xuICAgIHJldHVybiAwO1xuICB9IGVsc2UgaWYgKHJhbmsgPT09IDEpIHtcbiAgICByZXR1cm4gbG9jc1swXTtcbiAgfVxuICBsZXQgaW5kZXggPSBsb2NzW2xvY3MubGVuZ3RoIC0gMV07XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbG9jcy5sZW5ndGggLSAxOyArK2kpIHtcbiAgICBpbmRleCArPSBzdHJpZGVzW2ldICogbG9jc1tpXTtcbiAgfVxuICByZXR1cm4gaW5kZXg7XG59XG5cbi8qKlxuICogQ29tcHV0ZXMgdGhlIGxvY2F0aW9uIChtdWx0aWRpbWVuc2lvbmFsIGluZGV4KSBpbiBhIHRlbnNvci9tdWx0aWRpbWVudGlvbmFsXG4gKiBhcnJheSBmb3IgYSBnaXZlbiBmbGF0IGluZGV4LlxuICpcbiAqIEBwYXJhbSBpbmRleCBJbmRleCBpbiBmbGF0IGFycmF5LlxuICogQHBhcmFtIHJhbmsgUmFuayBvZiB0ZW5zb3IuXG4gKiBAcGFyYW0gc3RyaWRlcyBTdHJpZGVzIG9mIHRlbnNvci5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluZGV4VG9Mb2MoXG4gICAgaW5kZXg6IG51bWJlciwgcmFuazogbnVtYmVyLCBzdHJpZGVzOiBudW1iZXJbXSk6IG51bWJlcltdIHtcbiAgaWYgKHJhbmsgPT09IDApIHtcbiAgICByZXR1cm4gW107XG4gIH0gZWxzZSBpZiAocmFuayA9PT0gMSkge1xuICAgIHJldHVybiBbaW5kZXhdO1xuICB9XG4gIGNvbnN0IGxvY3M6IG51bWJlcltdID0gbmV3IEFycmF5KHJhbmspO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGxvY3MubGVuZ3RoIC0gMTsgKytpKSB7XG4gICAgbG9jc1tpXSA9IE1hdGguZmxvb3IoaW5kZXggLyBzdHJpZGVzW2ldKTtcbiAgICBpbmRleCAtPSBsb2NzW2ldICogc3RyaWRlc1tpXTtcbiAgfVxuICBsb2NzW2xvY3MubGVuZ3RoIC0gMV0gPSBpbmRleDtcbiAgcmV0dXJuIGxvY3M7XG59XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbmltcG9ydCB7QmFja2VuZFRpbWVyfSBmcm9tICcuL2JhY2tlbmRzL2JhY2tlbmQnO1xuaW1wb3J0IHtUZW5zb3J9IGZyb20gJy4vdGVuc29yJztcbmltcG9ydCB7TmFtZWRUZW5zb3JNYXB9IGZyb20gJy4vdGVuc29yX3R5cGVzJztcbmltcG9ydCB7RGF0YVR5cGUsIERhdGFUeXBlTWFwLCBUeXBlZEFycmF5fSBmcm9tICcuL3R5cGVzJztcbmltcG9ydCAqIGFzIHV0aWwgZnJvbSAnLi91dGlsJztcblxuZXhwb3J0IHR5cGUgS2VybmVsUHJvZmlsZSA9IHtcbiAga2VybmVsTmFtZTogc3RyaW5nLFxuICBvdXRwdXRzOiBUZW5zb3JbXSxcbiAgaW5wdXRzOiBOYW1lZFRlbnNvck1hcCxcbiAgdGltZU1zOiBQcm9taXNlPG51bWJlcnx7ZXJyb3I6IHN0cmluZ30+LFxuICBleHRyYUluZm86IFByb21pc2U8c3RyaW5nPlxufTtcblxuZXhwb3J0IGNsYXNzIFByb2ZpbGVyIHtcbiAgY29uc3RydWN0b3IocHJpdmF0ZSBiYWNrZW5kVGltZXI6IEJhY2tlbmRUaW1lciwgcHJpdmF0ZSBsb2dnZXI/OiBMb2dnZXIpIHtcbiAgICBpZiAobG9nZ2VyID09IG51bGwpIHtcbiAgICAgIHRoaXMubG9nZ2VyID0gbmV3IExvZ2dlcigpO1xuICAgIH1cbiAgfVxuXG4gIHByb2ZpbGVLZXJuZWwoa2VybmVsTmFtZTogc3RyaW5nLCBpbnB1dHM6IE5hbWVkVGVuc29yTWFwLCBmOiAoKSA9PiBUZW5zb3JbXSk6XG4gICAgICBLZXJuZWxQcm9maWxlIHtcbiAgICBsZXQgb3V0cHV0czogVGVuc29yW107XG4gICAgY29uc3QgaG9sZFJlc3VsdFdyYXBwZXJGbiA9ICgpID0+IHtcbiAgICAgIG91dHB1dHMgPSBmKCk7XG4gICAgfTtcbiAgICBjb25zdCB0aW1lciA9IHRoaXMuYmFja2VuZFRpbWVyLnRpbWUoaG9sZFJlc3VsdFdyYXBwZXJGbik7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG91dHB1dHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IG91dHB1dCA9IG91dHB1dHNbaV07XG4gICAgICAvLyBEYW5nbGluZyBwcm9taXNlIGhlcmUgYmVjYXVzZSB3ZSBkb24ndCB3YW50IHRvIHByb3BhZ2F0ZSB1cFxuICAgICAgLy8gYXN5bmNocm9uaWNpdHkuXG4gICAgICBvdXRwdXQuZGF0YSgpLnRoZW4odGVuc29yVmFscyA9PiB7XG4gICAgICAgIGNoZWNrQ29tcHV0YXRpb25Gb3JFcnJvcnModGVuc29yVmFscywgb3V0cHV0LmR0eXBlLCBrZXJuZWxOYW1lKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGNvbnN0IGtlcm5lbFByb2ZpbGUgPSB7XG4gICAgICBrZXJuZWxOYW1lLFxuICAgICAgb3V0cHV0cyxcbiAgICAgIGlucHV0cyxcbiAgICAgIHRpbWVNczogdGltZXIudGhlbih0aW1pbmcgPT4gdGltaW5nLmtlcm5lbE1zKSxcbiAgICAgIGV4dHJhSW5mbzogdGltZXIudGhlbihcbiAgICAgICAgICB0aW1pbmcgPT4gdGltaW5nLmdldEV4dHJhUHJvZmlsZUluZm8gIT0gbnVsbCA/XG4gICAgICAgICAgICAgIHRpbWluZy5nZXRFeHRyYVByb2ZpbGVJbmZvKCkgOlxuICAgICAgICAgICAgICAnJylcbiAgICB9O1xuICAgIHJldHVybiBrZXJuZWxQcm9maWxlO1xuICB9XG5cbiAgbG9nS2VybmVsUHJvZmlsZShrZXJuZWxQcm9maWxlOiBLZXJuZWxQcm9maWxlKTogdm9pZCB7XG4gICAgY29uc3Qge2tlcm5lbE5hbWUsIG91dHB1dHMsIHRpbWVNcywgaW5wdXRzLCBleHRyYUluZm99ID0ga2VybmVsUHJvZmlsZTtcblxuICAgIG91dHB1dHMuZm9yRWFjaChyZXN1bHQgPT4ge1xuICAgICAgUHJvbWlzZS5hbGwoW3Jlc3VsdC5kYXRhKCksIHRpbWVNcywgZXh0cmFJbmZvXSkudGhlbih2YWx1ZUNvbnRhaW5lciA9PiB7XG4gICAgICAgIHRoaXMubG9nZ2VyLmxvZ0tlcm5lbFByb2ZpbGUoXG4gICAgICAgICAgICBrZXJuZWxOYW1lLCByZXN1bHQsIHZhbHVlQ29udGFpbmVyWzBdLCB2YWx1ZUNvbnRhaW5lclsxXSwgaW5wdXRzLFxuICAgICAgICAgICAgdmFsdWVDb250YWluZXJbMl0pO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNoZWNrQ29tcHV0YXRpb25Gb3JFcnJvcnM8RCBleHRlbmRzIERhdGFUeXBlPihcbiAgICB2YWxzOiBEYXRhVHlwZU1hcFtEXSwgZHR5cGU6IEQsIGtlcm5lbE5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICBpZiAoZHR5cGUgIT09ICdmbG9hdDMyJykge1xuICAgIC8vIE9ubHkgZmxvYXRpbmcgcG9pbnQgY29tcHV0YXRpb25zIHdpbGwgZ2VuZXJhdGUgTmFOIHZhbHVlc1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBmb3IgKGxldCBpID0gMDsgaSA8IHZhbHMubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBudW0gPSB2YWxzW2ldIGFzIG51bWJlcjtcbiAgICBpZiAoaXNOYU4obnVtKSB8fCAhaXNGaW5pdGUobnVtKSkge1xuICAgICAgLy8gVGhyb3dpbmcgY3VzdG9tIGV4Y2VwdGlvbiBzbyBiZWhhdmlvciBpcyB0ZXN0YWJsZS5cbiAgICAgIGNvbnNvbGUud2FybihgRm91bmQgJHtudW19IGluIHRoZSByZXN1bHQgb2YgJyR7a2VybmVsTmFtZX0nYCk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5leHBvcnQgY2xhc3MgTG9nZ2VyIHtcbiAgbG9nS2VybmVsUHJvZmlsZShcbiAgICAgIG5hbWU6IHN0cmluZywgcmVzdWx0OiBUZW5zb3IsIHZhbHM6IFR5cGVkQXJyYXksXG4gICAgICB0aW1lTXM6IG51bWJlcnx7ZXJyb3I6IHN0cmluZ30sIGlucHV0czogTmFtZWRUZW5zb3JNYXAsXG4gICAgICBleHRyYUluZm8/OiBzdHJpbmcpIHtcbiAgICBjb25zdCB0aW1lID0gdHlwZW9mIHRpbWVNcyA9PT0gJ251bWJlcicgPyB1dGlsLnJpZ2h0UGFkKGAke3RpbWVNc31tc2AsIDkpIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lTXNbJ2Vycm9yJ107XG4gICAgY29uc3QgcGFkZGVkTmFtZSA9IHV0aWwucmlnaHRQYWQobmFtZSwgMjUpO1xuICAgIGNvbnN0IHJhbmsgPSByZXN1bHQucmFuaztcbiAgICBjb25zdCBzaXplID0gcmVzdWx0LnNpemU7XG4gICAgY29uc3Qgc2hhcGUgPSB1dGlsLnJpZ2h0UGFkKHJlc3VsdC5zaGFwZS50b1N0cmluZygpLCAxNCk7XG4gICAgbGV0IGlucHV0U2hhcGVzRGVzY3JpcHRpb24gPSAnJztcblxuICAgIGZvciAoY29uc3QgbmFtZSBpbiBpbnB1dHMpIHtcbiAgICAgIGNvbnN0IGlucHV0ID0gaW5wdXRzW25hbWVdO1xuICAgICAgaWYgKGlucHV0ICE9IG51bGwpIHtcbiAgICAgICAgLy8gVGhlIGlucHV0IG1pZ2h0IGJlIGEgbm9uLXRlbnNvciAoZS5nIEhUTUxJbWFnZUVsZW1lbnQpLCBpbiB3aGljaCBjYXNlXG4gICAgICAgIC8vIHdlIGNsYWltIHRoZSBvdXRwdXQgc2hhcGUgYXMgaW5wdXQgc2hhcGUuXG4gICAgICAgIGNvbnN0IGlucHV0U2hhcGUgPSBpbnB1dC5zaGFwZSB8fCByZXN1bHQuc2hhcGU7XG4gICAgICAgIGNvbnN0IGlucHV0UmFuayA9IGlucHV0U2hhcGUubGVuZ3RoO1xuICAgICAgICBpbnB1dFNoYXBlc0Rlc2NyaXB0aW9uICs9XG4gICAgICAgICAgICBgJHtuYW1lfTogJHtpbnB1dFJhbmt9RCAke2lucHV0UmFuayA+IDAgPyBpbnB1dFNoYXBlIDogJyd9IGA7XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc29sZS5sb2coXG4gICAgICAgIGAlYyR7cGFkZGVkTmFtZX1cXHQlYyR7dGltZX1cXHQlYyR7cmFua31EICR7c2hhcGV9XFx0JWMke3NpemV9XFx0JWMke1xuICAgICAgICAgICAgaW5wdXRTaGFwZXNEZXNjcmlwdGlvbn1cXHQlYyR7ZXh0cmFJbmZvfWAsXG4gICAgICAgICdmb250LXdlaWdodDpib2xkJywgJ2NvbG9yOnJlZCcsICdjb2xvcjpibHVlJywgJ2NvbG9yOiBvcmFuZ2UnLFxuICAgICAgICAnY29sb3I6IGdyZWVuJywgJ2NvbG9yOiBzdGVlbGJsdWUnKTtcbiAgfVxufVxuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTggR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG5pbXBvcnQge0RhdGFUeXBlLCBUeXBlZEFycmF5fSBmcm9tICcuL3R5cGVzJztcbmltcG9ydCB7Y29tcHV0ZVN0cmlkZXMsIGlzU3RyaW5nLCByaWdodFBhZCwgc2l6ZUZyb21TaGFwZX0gZnJvbSAnLi91dGlsJztcblxuLy8gTWF4aW11bSBudW1iZXIgb2YgdmFsdWVzIGJlZm9yZSB3ZSBkZWNpZGUgdG8gc2hvdyBlbGxpcHNpcy5cbmNvbnN0IEZPUk1BVF9MSU1JVF9OVU1fVkFMUyA9IDIwO1xuLy8gTnVtYmVyIG9mIGZpcnN0IGFuZCBsYXN0IHZhbHVlcyB0byBzaG93IHdoZW4gZGlzcGxheWluZyBhLCBiLC4uLix5LCB6LlxuY29uc3QgRk9STUFUX05VTV9GSVJTVF9MQVNUX1ZBTFMgPSAzO1xuLy8gTnVtYmVyIG9mIHNpZ25pZmljYW50IGRpZ2l0cyB0byBzaG93LlxuY29uc3QgRk9STUFUX05VTV9TSUdfRElHSVRTID0gNztcblxuZXhwb3J0IGZ1bmN0aW9uIHRlbnNvclRvU3RyaW5nKFxuICAgIHZhbHM6IFR5cGVkQXJyYXl8c3RyaW5nW10sIHNoYXBlOiBudW1iZXJbXSwgZHR5cGU6IERhdGFUeXBlLFxuICAgIHZlcmJvc2U6IGJvb2xlYW4pIHtcbiAgY29uc3Qgc3RyaWRlcyA9IGNvbXB1dGVTdHJpZGVzKHNoYXBlKTtcbiAgY29uc3QgcGFkUGVyQ29sID0gY29tcHV0ZU1heFNpemVQZXJDb2x1bW4odmFscywgc2hhcGUsIGR0eXBlLCBzdHJpZGVzKTtcbiAgY29uc3QgcmFuayA9IHNoYXBlLmxlbmd0aDtcbiAgY29uc3QgdmFsc0xpbmVzID0gc3ViVGVuc29yVG9TdHJpbmcodmFscywgc2hhcGUsIGR0eXBlLCBzdHJpZGVzLCBwYWRQZXJDb2wpO1xuICBjb25zdCBsaW5lcyA9IFsnVGVuc29yJ107XG4gIGlmICh2ZXJib3NlKSB7XG4gICAgbGluZXMucHVzaChgICBkdHlwZTogJHtkdHlwZX1gKTtcbiAgICBsaW5lcy5wdXNoKGAgIHJhbms6ICR7cmFua31gKTtcbiAgICBsaW5lcy5wdXNoKGAgIHNoYXBlOiBbJHtzaGFwZX1dYCk7XG4gICAgbGluZXMucHVzaChgICB2YWx1ZXM6YCk7XG4gIH1cbiAgbGluZXMucHVzaCh2YWxzTGluZXMubWFwKGwgPT4gJyAgICAnICsgbCkuam9pbignXFxuJykpO1xuICByZXR1cm4gbGluZXMuam9pbignXFxuJyk7XG59XG5cbmZ1bmN0aW9uIGNvbXB1dGVNYXhTaXplUGVyQ29sdW1uKFxuICAgIHZhbHM6IFR5cGVkQXJyYXl8c3RyaW5nW10sIHNoYXBlOiBudW1iZXJbXSwgZHR5cGU6IERhdGFUeXBlLFxuICAgIHN0cmlkZXM6IG51bWJlcltdKTogbnVtYmVyW10ge1xuICBjb25zdCBuID0gc2l6ZUZyb21TaGFwZShzaGFwZSk7XG4gIGNvbnN0IG51bUNvbHMgPSBzdHJpZGVzW3N0cmlkZXMubGVuZ3RoIC0gMV07XG4gIGNvbnN0IHBhZFBlckNvbCA9IG5ldyBBcnJheShudW1Db2xzKS5maWxsKDApO1xuICBjb25zdCByYW5rID0gc2hhcGUubGVuZ3RoO1xuICBjb25zdCB2YWx1ZXNPclR1cGxlcyA9XG4gICAgICBkdHlwZSA9PT0gJ2NvbXBsZXg2NCcgPyBjcmVhdGVDb21wbGV4VHVwbGVzKHZhbHMpIDogdmFscztcblxuICBpZiAocmFuayA+IDEpIHtcbiAgICBmb3IgKGxldCByb3cgPSAwOyByb3cgPCBuIC8gbnVtQ29sczsgcm93KyspIHtcbiAgICAgIGNvbnN0IG9mZnNldCA9IHJvdyAqIG51bUNvbHM7XG4gICAgICBmb3IgKGxldCBqID0gMDsgaiA8IG51bUNvbHM7IGorKykge1xuICAgICAgICBwYWRQZXJDb2xbal0gPSBNYXRoLm1heChcbiAgICAgICAgICAgIHBhZFBlckNvbFtqXSxcbiAgICAgICAgICAgIHZhbFRvU3RyaW5nKHZhbHVlc09yVHVwbGVzW29mZnNldCArIGpdLCAwLCBkdHlwZSkubGVuZ3RoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHBhZFBlckNvbDtcbn1cblxuZnVuY3Rpb24gdmFsVG9TdHJpbmcoXG4gICAgdmFsOiBudW1iZXJ8c3RyaW5nfFtudW1iZXIsIG51bWJlcl0sIHBhZDogbnVtYmVyLCBkdHlwZTogRGF0YVR5cGUpIHtcbiAgbGV0IHZhbFN0cjogc3RyaW5nO1xuICBpZiAoQXJyYXkuaXNBcnJheSh2YWwpKSB7XG4gICAgdmFsU3RyID0gYCR7cGFyc2VGbG9hdCh2YWxbMF0udG9GaXhlZChGT1JNQVRfTlVNX1NJR19ESUdJVFMpKX0gKyBgICtcbiAgICAgICAgYCR7cGFyc2VGbG9hdCh2YWxbMV0udG9GaXhlZChGT1JNQVRfTlVNX1NJR19ESUdJVFMpKX1qYDtcbiAgfSBlbHNlIGlmIChpc1N0cmluZyh2YWwpKSB7XG4gICAgdmFsU3RyID0gYCcke3ZhbH0nYDtcbiAgfSBlbHNlIGlmIChkdHlwZSA9PT0gJ2Jvb2wnKSB7XG4gICAgdmFsU3RyID0gYm9vbE51bVRvU3RyaW5nKHZhbCk7XG4gIH0gZWxzZSB7XG4gICAgdmFsU3RyID0gcGFyc2VGbG9hdCh2YWwudG9GaXhlZChGT1JNQVRfTlVNX1NJR19ESUdJVFMpKS50b1N0cmluZygpO1xuICB9XG5cbiAgcmV0dXJuIHJpZ2h0UGFkKHZhbFN0ciwgcGFkKTtcbn1cblxuZnVuY3Rpb24gYm9vbE51bVRvU3RyaW5nKHY6IG51bWJlcik6IHN0cmluZyB7XG4gIHJldHVybiB2ID09PSAwID8gJ2ZhbHNlJyA6ICd0cnVlJztcbn1cblxuZnVuY3Rpb24gc3ViVGVuc29yVG9TdHJpbmcoXG4gICAgdmFsczogVHlwZWRBcnJheXxzdHJpbmdbXSwgc2hhcGU6IG51bWJlcltdLCBkdHlwZTogRGF0YVR5cGUsXG4gICAgc3RyaWRlczogbnVtYmVyW10sIHBhZFBlckNvbDogbnVtYmVyW10sIGlzTGFzdCA9IHRydWUpOiBzdHJpbmdbXSB7XG4gIGNvbnN0IHN0b3JhZ2VQZXJFbGVtZW50ID0gZHR5cGUgPT09ICdjb21wbGV4NjQnID8gMiA6IDE7XG5cbiAgY29uc3Qgc2l6ZSA9IHNoYXBlWzBdO1xuICBjb25zdCByYW5rID0gc2hhcGUubGVuZ3RoO1xuICBpZiAocmFuayA9PT0gMCkge1xuICAgIGlmIChkdHlwZSA9PT0gJ2NvbXBsZXg2NCcpIHtcbiAgICAgIGNvbnN0IGNvbXBsZXhUdXBsZSA9IGNyZWF0ZUNvbXBsZXhUdXBsZXModmFscyk7XG4gICAgICByZXR1cm4gW3ZhbFRvU3RyaW5nKGNvbXBsZXhUdXBsZVswXSwgMCwgZHR5cGUpXTtcbiAgICB9XG4gICAgaWYgKGR0eXBlID09PSAnYm9vbCcpIHtcbiAgICAgIHJldHVybiBbYm9vbE51bVRvU3RyaW5nKHZhbHNbMF0gYXMgbnVtYmVyKV07XG4gICAgfVxuICAgIHJldHVybiBbdmFsc1swXS50b1N0cmluZygpXTtcbiAgfVxuXG4gIGlmIChyYW5rID09PSAxKSB7XG4gICAgaWYgKHNpemUgPiBGT1JNQVRfTElNSVRfTlVNX1ZBTFMpIHtcbiAgICAgIGNvbnN0IGZpcnN0VmFsc1NpemUgPSBGT1JNQVRfTlVNX0ZJUlNUX0xBU1RfVkFMUyAqIHN0b3JhZ2VQZXJFbGVtZW50O1xuXG4gICAgICBsZXQgZmlyc3RWYWxzID0gQXJyYXkuZnJvbTxudW1iZXJ8c3RyaW5nfFtudW1iZXIsIG51bWJlcl0+KFxuICAgICAgICAgIHZhbHMuc2xpY2UoMCwgZmlyc3RWYWxzU2l6ZSkpO1xuICAgICAgbGV0IGxhc3RWYWxzID0gQXJyYXkuZnJvbTxudW1iZXJ8c3RyaW5nfFtudW1iZXIsIG51bWJlcl0+KHZhbHMuc2xpY2UoXG4gICAgICAgICAgKHNpemUgLSBGT1JNQVRfTlVNX0ZJUlNUX0xBU1RfVkFMUykgKiBzdG9yYWdlUGVyRWxlbWVudCxcbiAgICAgICAgICBzaXplICogc3RvcmFnZVBlckVsZW1lbnQpKTtcbiAgICAgIGlmIChkdHlwZSA9PT0gJ2NvbXBsZXg2NCcpIHtcbiAgICAgICAgZmlyc3RWYWxzID0gY3JlYXRlQ29tcGxleFR1cGxlcyhmaXJzdFZhbHMpO1xuICAgICAgICBsYXN0VmFscyA9IGNyZWF0ZUNvbXBsZXhUdXBsZXMobGFzdFZhbHMpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIFtcbiAgICAgICAgJ1snICtcbiAgICAgICAgZmlyc3RWYWxzLm1hcCgoeCwgaSkgPT4gdmFsVG9TdHJpbmcoeCwgcGFkUGVyQ29sW2ldLCBkdHlwZSkpXG4gICAgICAgICAgICAuam9pbignLCAnKSArXG4gICAgICAgICcsIC4uLiwgJyArXG4gICAgICAgIGxhc3RWYWxzXG4gICAgICAgICAgICAubWFwKFxuICAgICAgICAgICAgICAgICh4LCBpKSA9PiB2YWxUb1N0cmluZyhcbiAgICAgICAgICAgICAgICAgICAgeCwgcGFkUGVyQ29sW3NpemUgLSBGT1JNQVRfTlVNX0ZJUlNUX0xBU1RfVkFMUyArIGldLCBkdHlwZSkpXG4gICAgICAgICAgICAuam9pbignLCAnKSArXG4gICAgICAgICddJ1xuICAgICAgXTtcbiAgICB9XG4gICAgY29uc3QgZGlzcGxheVZhbHM6IEFycmF5PG51bWJlcnxzdHJpbmd8W251bWJlciwgbnVtYmVyXT4gPVxuICAgICAgICBkdHlwZSA9PT0gJ2NvbXBsZXg2NCcgPyBjcmVhdGVDb21wbGV4VHVwbGVzKHZhbHMpIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQXJyYXkuZnJvbTxudW1iZXJ8c3RyaW5nPih2YWxzKTtcblxuICAgIHJldHVybiBbXG4gICAgICAnWycgK1xuICAgICAgZGlzcGxheVZhbHMubWFwKCh4LCBpKSA9PiB2YWxUb1N0cmluZyh4LCBwYWRQZXJDb2xbaV0sIGR0eXBlKSlcbiAgICAgICAgICAuam9pbignLCAnKSArXG4gICAgICAnXSdcbiAgICBdO1xuICB9XG5cbiAgLy8gVGhlIGFycmF5IGlzIHJhbmsgMiBvciBtb3JlLlxuICBjb25zdCBzdWJzaGFwZSA9IHNoYXBlLnNsaWNlKDEpO1xuICBjb25zdCBzdWJzdHJpZGVzID0gc3RyaWRlcy5zbGljZSgxKTtcbiAgY29uc3Qgc3RyaWRlID0gc3RyaWRlc1swXSAqIHN0b3JhZ2VQZXJFbGVtZW50O1xuICBjb25zdCBsaW5lczogc3RyaW5nW10gPSBbXTtcbiAgaWYgKHNpemUgPiBGT1JNQVRfTElNSVRfTlVNX1ZBTFMpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IEZPUk1BVF9OVU1fRklSU1RfTEFTVF9WQUxTOyBpKyspIHtcbiAgICAgIGNvbnN0IHN0YXJ0ID0gaSAqIHN0cmlkZTtcbiAgICAgIGNvbnN0IGVuZCA9IHN0YXJ0ICsgc3RyaWRlO1xuICAgICAgbGluZXMucHVzaCguLi5zdWJUZW5zb3JUb1N0cmluZyhcbiAgICAgICAgICB2YWxzLnNsaWNlKHN0YXJ0LCBlbmQpLCBzdWJzaGFwZSwgZHR5cGUsIHN1YnN0cmlkZXMsIHBhZFBlckNvbCxcbiAgICAgICAgICBmYWxzZSAvKiBpc0xhc3QgKi8pKTtcbiAgICB9XG4gICAgbGluZXMucHVzaCgnLi4uJyk7XG4gICAgZm9yIChsZXQgaSA9IHNpemUgLSBGT1JNQVRfTlVNX0ZJUlNUX0xBU1RfVkFMUzsgaSA8IHNpemU7IGkrKykge1xuICAgICAgY29uc3Qgc3RhcnQgPSBpICogc3RyaWRlO1xuICAgICAgY29uc3QgZW5kID0gc3RhcnQgKyBzdHJpZGU7XG4gICAgICBsaW5lcy5wdXNoKC4uLnN1YlRlbnNvclRvU3RyaW5nKFxuICAgICAgICAgIHZhbHMuc2xpY2Uoc3RhcnQsIGVuZCksIHN1YnNoYXBlLCBkdHlwZSwgc3Vic3RyaWRlcywgcGFkUGVyQ29sLFxuICAgICAgICAgIGkgPT09IHNpemUgLSAxIC8qIGlzTGFzdCAqLykpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNpemU7IGkrKykge1xuICAgICAgY29uc3Qgc3RhcnQgPSBpICogc3RyaWRlO1xuICAgICAgY29uc3QgZW5kID0gc3RhcnQgKyBzdHJpZGU7XG4gICAgICBsaW5lcy5wdXNoKC4uLnN1YlRlbnNvclRvU3RyaW5nKFxuICAgICAgICAgIHZhbHMuc2xpY2Uoc3RhcnQsIGVuZCksIHN1YnNoYXBlLCBkdHlwZSwgc3Vic3RyaWRlcywgcGFkUGVyQ29sLFxuICAgICAgICAgIGkgPT09IHNpemUgLSAxIC8qIGlzTGFzdCAqLykpO1xuICAgIH1cbiAgfVxuICBjb25zdCBzZXAgPSByYW5rID09PSAyID8gJywnIDogJyc7XG4gIGxpbmVzWzBdID0gJ1snICsgbGluZXNbMF0gKyBzZXA7XG4gIGZvciAobGV0IGkgPSAxOyBpIDwgbGluZXMubGVuZ3RoIC0gMTsgaSsrKSB7XG4gICAgbGluZXNbaV0gPSAnICcgKyBsaW5lc1tpXSArIHNlcDtcbiAgfVxuICBsZXQgbmV3TGluZVNlcCA9ICcsXFxuJztcbiAgZm9yIChsZXQgaSA9IDI7IGkgPCByYW5rOyBpKyspIHtcbiAgICBuZXdMaW5lU2VwICs9ICdcXG4nO1xuICB9XG4gIGxpbmVzW2xpbmVzLmxlbmd0aCAtIDFdID1cbiAgICAgICcgJyArIGxpbmVzW2xpbmVzLmxlbmd0aCAtIDFdICsgJ10nICsgKGlzTGFzdCA/ICcnIDogbmV3TGluZVNlcCk7XG4gIHJldHVybiBsaW5lcztcbn1cblxuZnVuY3Rpb24gY3JlYXRlQ29tcGxleFR1cGxlcyh2YWxzOiBBcnJheTx7fT58XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIFR5cGVkQXJyYXkpOiBBcnJheTxbbnVtYmVyLCBudW1iZXJdPiB7XG4gIGNvbnN0IGNvbXBsZXhUdXBsZXM6IEFycmF5PFtudW1iZXIsIG51bWJlcl0+ID0gW107XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgdmFscy5sZW5ndGg7IGkgKz0gMikge1xuICAgIGNvbXBsZXhUdXBsZXMucHVzaChbdmFsc1tpXSwgdmFsc1tpICsgMV1dIGFzIFtudW1iZXIsIG51bWJlcl0pO1xuICB9XG4gIHJldHVybiBjb21wbGV4VHVwbGVzO1xufVxuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG5pbXBvcnQge3RlbnNvclRvU3RyaW5nfSBmcm9tICcuL3RlbnNvcl9mb3JtYXQnO1xuaW1wb3J0IHtBcnJheU1hcCwgQmFja2VuZFZhbHVlcywgRGF0YVR5cGUsIERhdGFUeXBlTWFwLCBEYXRhVmFsdWVzLCBOdW1lcmljRGF0YVR5cGUsIFJhbmssIFNoYXBlTWFwLCBTaW5nbGVWYWx1ZU1hcCwgVHlwZWRBcnJheX0gZnJvbSAnLi90eXBlcyc7XG5pbXBvcnQgKiBhcyB1dGlsIGZyb20gJy4vdXRpbCc7XG5pbXBvcnQge2NvbXB1dGVTdHJpZGVzLCB0b05lc3RlZEFycmF5fSBmcm9tICcuL3V0aWwnO1xuXG5leHBvcnQgaW50ZXJmYWNlIFRlbnNvckRhdGE8RCBleHRlbmRzIERhdGFUeXBlPiB7XG4gIGRhdGFJZD86IERhdGFJZDtcbiAgdmFsdWVzPzogRGF0YVR5cGVNYXBbRF07XG59XG5cbi8vIFRoaXMgaW50ZXJmYWNlIG1pbWljcyBLZXJuZWxCYWNrZW5kIChpbiBiYWNrZW5kLnRzKSwgd2hpY2ggd291bGQgY3JlYXRlIGFcbi8vIGNpcmN1bGFyIGRlcGVuZGVuY3kgaWYgaW1wb3J0ZWQuXG5leHBvcnQgaW50ZXJmYWNlIEJhY2tlbmQge31cblxuLyoqXG4gKiBBIG11dGFibGUgb2JqZWN0LCBzaW1pbGFyIHRvIGB0Zi5UZW5zb3JgLCB0aGF0IGFsbG93cyB1c2VycyB0byBzZXQgdmFsdWVzXG4gKiBhdCBsb2NhdGlvbnMgYmVmb3JlIGNvbnZlcnRpbmcgdG8gYW4gaW1tdXRhYmxlIGB0Zi5UZW5zb3JgLlxuICpcbiAqIFNlZSBgdGYuYnVmZmVyYCBmb3IgY3JlYXRpbmcgYSB0ZW5zb3IgYnVmZmVyLlxuICpcbiAqIEBkb2Mge2hlYWRpbmc6ICdUZW5zb3JzJywgc3ViaGVhZGluZzogJ0NsYXNzZXMnfVxuICovXG5leHBvcnQgY2xhc3MgVGVuc29yQnVmZmVyPFIgZXh0ZW5kcyBSYW5rLCBEIGV4dGVuZHMgRGF0YVR5cGUgPSAnZmxvYXQzMic+IHtcbiAgc2l6ZTogbnVtYmVyO1xuICBzaGFwZTogU2hhcGVNYXBbUl07XG4gIHN0cmlkZXM6IG51bWJlcltdO1xuICB2YWx1ZXM6IERhdGFUeXBlTWFwW0RdO1xuXG4gIGNvbnN0cnVjdG9yKHNoYXBlOiBTaGFwZU1hcFtSXSwgcHVibGljIGR0eXBlOiBELCB2YWx1ZXM/OiBEYXRhVHlwZU1hcFtEXSkge1xuICAgIHRoaXMuc2hhcGUgPSBzaGFwZS5zbGljZSgpIGFzIFNoYXBlTWFwW1JdO1xuICAgIHRoaXMuc2l6ZSA9IHV0aWwuc2l6ZUZyb21TaGFwZShzaGFwZSk7XG5cbiAgICBpZiAodmFsdWVzICE9IG51bGwpIHtcbiAgICAgIGNvbnN0IG4gPSB2YWx1ZXMubGVuZ3RoO1xuICAgICAgdXRpbC5hc3NlcnQoXG4gICAgICAgICAgbiA9PT0gdGhpcy5zaXplLFxuICAgICAgICAgICgpID0+IGBMZW5ndGggb2YgdmFsdWVzICcke259JyBkb2VzIG5vdCBtYXRjaCB0aGUgc2l6ZSBgICtcbiAgICAgICAgICAgICAgYGluZmVycmVkIGJ5IHRoZSBzaGFwZSAnJHt0aGlzLnNpemV9Jy5gKTtcbiAgICB9XG4gICAgaWYgKGR0eXBlID09PSAnY29tcGxleDY0Jykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgIGBjb21wbGV4NjQgZHR5cGUgVGVuc29yQnVmZmVycyBhcmUgbm90IHN1cHBvcnRlZC4gUGxlYXNlIGNyZWF0ZSBgICtcbiAgICAgICAgICBgYSBUZW5zb3JCdWZmZXIgZm9yIHRoZSByZWFsIGFuZCBpbWFnaW5hcnkgcGFydHMgc2VwYXJhdGVseSBhbmQgYCArXG4gICAgICAgICAgYGNhbGwgdGYuY29tcGxleChyZWFsLCBpbWFnKS5gKTtcbiAgICB9XG4gICAgdGhpcy52YWx1ZXMgPSB2YWx1ZXMgfHwgdXRpbC5nZXRBcnJheUZyb21EVHlwZShkdHlwZSwgdGhpcy5zaXplKTtcbiAgICB0aGlzLnN0cmlkZXMgPSBjb21wdXRlU3RyaWRlcyhzaGFwZSk7XG4gIH1cblxuICAvKipcbiAgICogU2V0cyBhIHZhbHVlIGluIHRoZSBidWZmZXIgYXQgYSBnaXZlbiBsb2NhdGlvbi5cbiAgICpcbiAgICogQHBhcmFtIHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gICAqIEBwYXJhbSBsb2NzICBUaGUgbG9jYXRpb24gaW5kaWNlcy5cbiAgICpcbiAgICogQGRvYyB7aGVhZGluZzogJ1RlbnNvcnMnLCBzdWJoZWFkaW5nOiAnQ3JlYXRpb24nfVxuICAgKi9cbiAgc2V0KHZhbHVlOiBTaW5nbGVWYWx1ZU1hcFtEXSwgLi4ubG9jczogbnVtYmVyW10pOiB2b2lkIHtcbiAgICBpZiAobG9jcy5sZW5ndGggPT09IDApIHtcbiAgICAgIGxvY3MgPSBbMF07XG4gICAgfVxuICAgIHV0aWwuYXNzZXJ0KFxuICAgICAgICBsb2NzLmxlbmd0aCA9PT0gdGhpcy5yYW5rLFxuICAgICAgICAoKSA9PiBgVGhlIG51bWJlciBvZiBwcm92aWRlZCBjb29yZGluYXRlcyAoJHtsb2NzLmxlbmd0aH0pIG11c3QgYCArXG4gICAgICAgICAgICBgbWF0Y2ggdGhlIHJhbmsgKCR7dGhpcy5yYW5rfSlgKTtcblxuICAgIGNvbnN0IGluZGV4ID0gdGhpcy5sb2NUb0luZGV4KGxvY3MpO1xuICAgIHRoaXMudmFsdWVzW2luZGV4XSA9IHZhbHVlIGFzIG51bWJlcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSB2YWx1ZSBpbiB0aGUgYnVmZmVyIGF0IHRoZSBwcm92aWRlZCBsb2NhdGlvbi5cbiAgICpcbiAgICogQHBhcmFtIGxvY3MgVGhlIGxvY2F0aW9uIGluZGljZXMuXG4gICAqXG4gICAqIEBkb2Mge2hlYWRpbmc6ICdUZW5zb3JzJywgc3ViaGVhZGluZzogJ0NyZWF0aW9uJ31cbiAgICovXG4gIGdldCguLi5sb2NzOiBudW1iZXJbXSk6IFNpbmdsZVZhbHVlTWFwW0RdIHtcbiAgICBpZiAobG9jcy5sZW5ndGggPT09IDApIHtcbiAgICAgIGxvY3MgPSBbMF07XG4gICAgfVxuICAgIGxldCBpID0gMDtcbiAgICBmb3IgKGNvbnN0IGxvYyBvZiBsb2NzKSB7XG4gICAgICBpZiAobG9jIDwgMCB8fCBsb2MgPj0gdGhpcy5zaGFwZVtpXSkge1xuICAgICAgICBjb25zdCBtc2cgPSBgUmVxdWVzdGVkIG91dCBvZiByYW5nZSBlbGVtZW50IGF0ICR7bG9jc30uIGAgK1xuICAgICAgICAgICAgYCAgQnVmZmVyIHNoYXBlPSR7dGhpcy5zaGFwZX1gO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IobXNnKTtcbiAgICAgIH1cbiAgICAgIGkrKztcbiAgICB9XG4gICAgbGV0IGluZGV4ID0gbG9jc1tsb2NzLmxlbmd0aCAtIDFdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbG9jcy5sZW5ndGggLSAxOyArK2kpIHtcbiAgICAgIGluZGV4ICs9IHRoaXMuc3RyaWRlc1tpXSAqIGxvY3NbaV07XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnZhbHVlc1tpbmRleF0gYXMgU2luZ2xlVmFsdWVNYXBbRF07XG4gIH1cblxuICBsb2NUb0luZGV4KGxvY3M6IG51bWJlcltdKTogbnVtYmVyIHtcbiAgICBpZiAodGhpcy5yYW5rID09PSAwKSB7XG4gICAgICByZXR1cm4gMDtcbiAgICB9IGVsc2UgaWYgKHRoaXMucmFuayA9PT0gMSkge1xuICAgICAgcmV0dXJuIGxvY3NbMF07XG4gICAgfVxuICAgIGxldCBpbmRleCA9IGxvY3NbbG9jcy5sZW5ndGggLSAxXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxvY3MubGVuZ3RoIC0gMTsgKytpKSB7XG4gICAgICBpbmRleCArPSB0aGlzLnN0cmlkZXNbaV0gKiBsb2NzW2ldO1xuICAgIH1cbiAgICByZXR1cm4gaW5kZXg7XG4gIH1cblxuICBpbmRleFRvTG9jKGluZGV4OiBudW1iZXIpOiBudW1iZXJbXSB7XG4gICAgaWYgKHRoaXMucmFuayA9PT0gMCkge1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH0gZWxzZSBpZiAodGhpcy5yYW5rID09PSAxKSB7XG4gICAgICByZXR1cm4gW2luZGV4XTtcbiAgICB9XG4gICAgY29uc3QgbG9jczogbnVtYmVyW10gPSBuZXcgQXJyYXkodGhpcy5zaGFwZS5sZW5ndGgpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbG9jcy5sZW5ndGggLSAxOyArK2kpIHtcbiAgICAgIGxvY3NbaV0gPSBNYXRoLmZsb29yKGluZGV4IC8gdGhpcy5zdHJpZGVzW2ldKTtcbiAgICAgIGluZGV4IC09IGxvY3NbaV0gKiB0aGlzLnN0cmlkZXNbaV07XG4gICAgfVxuICAgIGxvY3NbbG9jcy5sZW5ndGggLSAxXSA9IGluZGV4O1xuICAgIHJldHVybiBsb2NzO1xuICB9XG5cbiAgZ2V0IHJhbmsoKSB7XG4gICAgcmV0dXJuIHRoaXMuc2hhcGUubGVuZ3RoO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYW4gaW1tdXRhYmxlIGB0Zi5UZW5zb3JgIG9iamVjdCBmcm9tIHRoZSBidWZmZXIuXG4gICAqXG4gICAqIEBkb2Mge2hlYWRpbmc6ICdUZW5zb3JzJywgc3ViaGVhZGluZzogJ0NyZWF0aW9uJ31cbiAgICovXG4gIHRvVGVuc29yKCk6IFRlbnNvcjxSPiB7XG4gICAgcmV0dXJuIHRyYWNrZXJGbigpLm1ha2VUZW5zb3IodGhpcy52YWx1ZXMsIHRoaXMuc2hhcGUsIHRoaXMuZHR5cGUpIGFzXG4gICAgICAgIFRlbnNvcjxSPjtcbiAgfVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFRlbnNvclRyYWNrZXIge1xuICBtYWtlVGVuc29yKFxuICAgICAgdmFsdWVzOiBEYXRhVmFsdWVzLCBzaGFwZTogbnVtYmVyW10sIGR0eXBlOiBEYXRhVHlwZSxcbiAgICAgIGJhY2tlbmQ/OiBCYWNrZW5kKTogVGVuc29yO1xuICBtYWtlVmFyaWFibGUoXG4gICAgICBpbml0aWFsVmFsdWU6IFRlbnNvciwgdHJhaW5hYmxlPzogYm9vbGVhbiwgbmFtZT86IHN0cmluZyxcbiAgICAgIGR0eXBlPzogRGF0YVR5cGUpOiBWYXJpYWJsZTtcbiAgaW5jUmVmKGE6IFRlbnNvciwgYmFja2VuZDogQmFja2VuZCk6IHZvaWQ7XG4gIGRpc3Bvc2VUZW5zb3IodDogVGVuc29yKTogdm9pZDtcbiAgZGlzcG9zZVZhcmlhYmxlKHY6IFZhcmlhYmxlKTogdm9pZDtcbiAgcmVhZChkYXRhSWQ6IERhdGFJZCk6IFByb21pc2U8QmFja2VuZFZhbHVlcz47XG4gIHJlYWRTeW5jKGRhdGFJZDogRGF0YUlkKTogQmFja2VuZFZhbHVlcztcbn1cblxuLyoqXG4gKiBUaGUgVGVuc29yIGNsYXNzIGNhbGxzIGludG8gdGhpcyBoYW5kbGVyIHRvIGRlbGVnYXRlIGNoYWluaW5nIG9wZXJhdGlvbnMuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgT3BIYW5kbGVyIHtcbiAgY2FzdDxUIGV4dGVuZHMgVGVuc29yPih4OiBULCBkdHlwZTogRGF0YVR5cGUpOiBUO1xuICBidWZmZXI8UiBleHRlbmRzIFJhbmssIEQgZXh0ZW5kcyBEYXRhVHlwZT4oXG4gICAgICBzaGFwZTogU2hhcGVNYXBbUl0sIGR0eXBlOiBELFxuICAgICAgdmFsdWVzPzogRGF0YVR5cGVNYXBbRF0pOiBUZW5zb3JCdWZmZXI8UiwgRD47XG4gIHByaW50PFQgZXh0ZW5kcyBUZW5zb3I+KHg6IFQsIHZlcmJvc2U6IGJvb2xlYW4pOiB2b2lkO1xuICBjbG9uZTxUIGV4dGVuZHMgVGVuc29yPih4OiBUKTogVDtcbiAgLy8gVE9ETyh5YXNzb2diYSkgYnJpbmcgcmVzaGFwZSBiYWNrP1xufVxuXG4vLyBGb3IgdHJhY2tpbmcgdGVuc29yIGNyZWF0aW9uIGFuZCBkaXNwb3NhbC5cbmxldCB0cmFja2VyRm46ICgpID0+IFRlbnNvclRyYWNrZXIgPSBudWxsO1xuLy8gVXNlZCBieSBjaGFpbmluZyBtZXRob2RzIHRvIGNhbGwgaW50byBvcHMuXG5sZXQgb3BIYW5kbGVyOiBPcEhhbmRsZXIgPSBudWxsO1xuLy8gVXNlZCB0byB3YXJuIGFib3V0IGRlcHJlY2F0ZWQgbWV0aG9kcy5cbmxldCBkZXByZWNhdGlvbldhcm5pbmdGbjogKG1zZzogc3RyaW5nKSA9PiB2b2lkID0gbnVsbDtcbi8vIFRoaXMgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhpcyBtZXRob2Qgb24gZGV2IGJyYW5jaGVzIGFuZCBrZWVwIHRoZVxuLy8gZnVuY3Rpb25hbGl0eSBhdCBtYXN0ZXIuXG4vLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tdW51c2VkLWV4cHJlc3Npb25cbltkZXByZWNhdGlvbldhcm5pbmdGbl07XG5cbi8qKlxuICogQW4gZXh0ZXJuYWwgY29uc3VtZXIgY2FuIHJlZ2lzdGVyIGl0c2VsZiBhcyB0aGUgdGVuc29yIHRyYWNrZXIuIFRoaXMgd2F5XG4gKiB0aGUgVGVuc29yIGNsYXNzIGNhbiBub3RpZnkgdGhlIHRyYWNrZXIgZm9yIGV2ZXJ5IHRlbnNvciBjcmVhdGVkIGFuZFxuICogZGlzcG9zZWQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRUZW5zb3JUcmFja2VyKGZuOiAoKSA9PiBUZW5zb3JUcmFja2VyKSB7XG4gIHRyYWNrZXJGbiA9IGZuO1xufVxuXG4vKipcbiAqIEFuIGV4dGVybmFsIGNvbnN1bWVyIGNhbiByZWdpc3RlciBpdHNlbGYgYXMgdGhlIG9wIGhhbmRsZXIuIFRoaXMgd2F5IHRoZVxuICogVGVuc29yIGNsYXNzIGNhbiBoYXZlIGNoYWluaW5nIG1ldGhvZHMgdGhhdCBjYWxsIGludG8gb3BzIHZpYSB0aGUgb3BcbiAqIGhhbmRsZXIuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRPcEhhbmRsZXIoaGFuZGxlcjogT3BIYW5kbGVyKSB7XG4gIG9wSGFuZGxlciA9IGhhbmRsZXI7XG59XG5cbi8qKlxuICogU2V0cyB0aGUgZGVwcmVjYXRpb24gd2FybmluZyBmdW5jdGlvbiB0byBiZSB1c2VkIGJ5IHRoaXMgZmlsZS4gVGhpcyB3YXkgdGhlXG4gKiBUZW5zb3IgY2xhc3MgY2FuIGJlIGEgbGVhZiBidXQgc3RpbGwgdXNlIHRoZSBlbnZpcm9ubWVudC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldERlcHJlY2F0aW9uV2FybmluZ0ZuKGZuOiAobXNnOiBzdHJpbmcpID0+IHZvaWQpIHtcbiAgZGVwcmVjYXRpb25XYXJuaW5nRm4gPSBmbjtcbn1cblxuLyoqXG4gKiBXZSB3cmFwIGRhdGEgaWQgc2luY2Ugd2UgdXNlIHdlYWsgbWFwIHRvIGF2b2lkIG1lbW9yeSBsZWFrcy5cbiAqIFNpbmNlIHdlIGhhdmUgb3VyIG93biBtZW1vcnkgbWFuYWdlbWVudCwgd2UgaGF2ZSBhIHJlZmVyZW5jZSBjb3VudGVyXG4gKiBtYXBwaW5nIGEgdGVuc29yIHRvIGl0cyBkYXRhLCBzbyB0aGVyZSBpcyBhbHdheXMgYSBwb2ludGVyIChldmVuIGlmIHRoYXRcbiAqIGRhdGEgaXMgb3RoZXJ3aXNlIGdhcmJhZ2UgY29sbGVjdGFibGUpLlxuICogU2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL1xuICogR2xvYmFsX09iamVjdHMvV2Vha01hcFxuICovXG5leHBvcnQgdHlwZSBEYXRhSWQgPSBvYmplY3Q7ICAvLyBvYmplY3QgaW5zdGVhZCBvZiB7fSB0byBmb3JjZSBub24tcHJpbWl0aXZlLlxuXG4vLyBEZWNsYXJlIHRoaXMgbmFtZXNwYWNlIHRvIG1ha2UgVGVuc29yIGNsYXNzIGF1Z21lbnRhdGlvbiB3b3JrIGluIGdvb2dsZTMuXG5leHBvcnQgZGVjbGFyZSBuYW1lc3BhY2UgVGVuc29yIHt9XG4vKipcbiAqIEEgYHRmLlRlbnNvcmAgb2JqZWN0IHJlcHJlc2VudHMgYW4gaW1tdXRhYmxlLCBtdWx0aWRpbWVuc2lvbmFsIGFycmF5IG9mXG4gKiBudW1iZXJzIHRoYXQgaGFzIGEgc2hhcGUgYW5kIGEgZGF0YSB0eXBlLlxuICpcbiAqIFNlZSBgdGYudGVuc29yYCBmb3IgZGV0YWlscyBvbiBob3cgdG8gY3JlYXRlIGEgYHRmLlRlbnNvcmAuXG4gKlxuICogQGRvYyB7aGVhZGluZzogJ1RlbnNvcnMnLCBzdWJoZWFkaW5nOiAnQ2xhc3Nlcyd9XG4gKi9cbmV4cG9ydCBjbGFzcyBUZW5zb3I8UiBleHRlbmRzIFJhbmsgPSBSYW5rPiB7XG4gIC8qKiBVbmlxdWUgaWQgb2YgdGhpcyB0ZW5zb3IuICovXG4gIHJlYWRvbmx5IGlkOiBudW1iZXI7XG4gIC8qKlxuICAgKiBJZCBvZiB0aGUgYnVja2V0IGhvbGRpbmcgdGhlIGRhdGEgZm9yIHRoaXMgdGVuc29yLiBNdWx0aXBsZSBhcnJheXMgY2FuXG4gICAqIHBvaW50IHRvIHRoZSBzYW1lIGJ1Y2tldCAoZS5nLiB3aGVuIGNhbGxpbmcgYXJyYXkucmVzaGFwZSgpKS5cbiAgICovXG4gIGRhdGFJZDogRGF0YUlkO1xuICAvKiogVGhlIHNoYXBlIG9mIHRoZSB0ZW5zb3IuICovXG4gIHJlYWRvbmx5IHNoYXBlOiBTaGFwZU1hcFtSXTtcbiAgLyoqIE51bWJlciBvZiBlbGVtZW50cyBpbiB0aGUgdGVuc29yLiAqL1xuICByZWFkb25seSBzaXplOiBudW1iZXI7XG4gIC8qKiBUaGUgZGF0YSB0eXBlIGZvciB0aGUgYXJyYXkuICovXG4gIHJlYWRvbmx5IGR0eXBlOiBEYXRhVHlwZTtcbiAgLyoqIFRoZSByYW5rIHR5cGUgZm9yIHRoZSBhcnJheSAoc2VlIGBSYW5rYCBlbnVtKS4gKi9cbiAgcmVhZG9ubHkgcmFua1R5cGU6IFI7XG5cbiAgLyoqIFdoZXRoZXIgdGhpcyB0ZW5zb3IgaGFzIGJlZW4gZ2xvYmFsbHkga2VwdC4gKi9cbiAga2VwdCA9IGZhbHNlO1xuICAvKiogVGhlIGlkIG9mIHRoZSBzY29wZSB0aGlzIHRlbnNvciBpcyBiZWluZyB0cmFja2VkIGluLiAqL1xuICBzY29wZUlkOiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIE51bWJlciBvZiBlbGVtZW50cyB0byBza2lwIGluIGVhY2ggZGltZW5zaW9uIHdoZW4gaW5kZXhpbmcuIFNlZVxuICAgKiBodHRwczovL2RvY3Muc2NpcHkub3JnL2RvYy9udW1weS9yZWZlcmVuY2UvZ2VuZXJhdGVkL1xcXG4gICAqIG51bXB5Lm5kYXJyYXkuc3RyaWRlcy5odG1sXG4gICAqL1xuICByZWFkb25seSBzdHJpZGVzOiBudW1iZXJbXTtcblxuICBjb25zdHJ1Y3RvcihzaGFwZTogU2hhcGVNYXBbUl0sIGR0eXBlOiBEYXRhVHlwZSwgZGF0YUlkOiBEYXRhSWQsIGlkOiBudW1iZXIpIHtcbiAgICB0aGlzLnNoYXBlID0gc2hhcGUuc2xpY2UoKSBhcyBTaGFwZU1hcFtSXTtcbiAgICB0aGlzLmR0eXBlID0gZHR5cGUgfHwgJ2Zsb2F0MzInO1xuICAgIHRoaXMuc2l6ZSA9IHV0aWwuc2l6ZUZyb21TaGFwZShzaGFwZSk7XG4gICAgdGhpcy5zdHJpZGVzID0gY29tcHV0ZVN0cmlkZXMoc2hhcGUpO1xuICAgIHRoaXMuZGF0YUlkID0gZGF0YUlkO1xuICAgIHRoaXMuaWQgPSBpZDtcbiAgICB0aGlzLnJhbmtUeXBlID0gKHRoaXMucmFuayA8IDUgPyB0aGlzLnJhbmsudG9TdHJpbmcoKSA6ICdoaWdoZXInKSBhcyBSO1xuICB9XG5cbiAgZ2V0IHJhbmsoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5zaGFwZS5sZW5ndGg7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBhIHByb21pc2Ugb2YgYHRmLlRlbnNvckJ1ZmZlcmAgdGhhdCBob2xkcyB0aGUgdW5kZXJseWluZyBkYXRhLlxuICAgKlxuICAgKiBAZG9jIHtoZWFkaW5nOiAnVGVuc29ycycsIHN1YmhlYWRpbmc6ICdDbGFzc2VzJ31cbiAgICovXG4gIGFzeW5jIGJ1ZmZlcjxEIGV4dGVuZHMgRGF0YVR5cGUgPSAnZmxvYXQzMic+KCk6IFByb21pc2U8VGVuc29yQnVmZmVyPFIsIEQ+PiB7XG4gICAgY29uc3QgdmFscyA9IGF3YWl0IHRoaXMuZGF0YTxEPigpO1xuICAgIHJldHVybiBvcEhhbmRsZXIuYnVmZmVyKHRoaXMuc2hhcGUsIHRoaXMuZHR5cGUgYXMgRCwgdmFscyk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBhIGB0Zi5UZW5zb3JCdWZmZXJgIHRoYXQgaG9sZHMgdGhlIHVuZGVybHlpbmcgZGF0YS5cbiAgICogQGRvYyB7aGVhZGluZzogJ1RlbnNvcnMnLCBzdWJoZWFkaW5nOiAnQ2xhc3Nlcyd9XG4gICAqL1xuICBidWZmZXJTeW5jPEQgZXh0ZW5kcyBEYXRhVHlwZSA9ICdmbG9hdDMyJz4oKTogVGVuc29yQnVmZmVyPFIsIEQ+IHtcbiAgICByZXR1cm4gb3BIYW5kbGVyLmJ1ZmZlcih0aGlzLnNoYXBlLCB0aGlzLmR0eXBlIGFzIEQsIHRoaXMuZGF0YVN5bmMoKSk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgdGVuc29yIGRhdGEgYXMgYSBuZXN0ZWQgYXJyYXkuIFRoZSB0cmFuc2ZlciBvZiBkYXRhIGlzIGRvbmVcbiAgICogYXN5bmNocm9ub3VzbHkuXG4gICAqXG4gICAqIEBkb2Mge2hlYWRpbmc6ICdUZW5zb3JzJywgc3ViaGVhZGluZzogJ0NsYXNzZXMnfVxuICAgKi9cbiAgYXN5bmMgYXJyYXkoKTogUHJvbWlzZTxBcnJheU1hcFtSXT4ge1xuICAgIGNvbnN0IHZhbHMgPSBhd2FpdCB0aGlzLmRhdGEoKTtcbiAgICByZXR1cm4gdG9OZXN0ZWRBcnJheSh0aGlzLnNoYXBlLCB2YWxzKSBhcyBBcnJheU1hcFtSXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSB0ZW5zb3IgZGF0YSBhcyBhIG5lc3RlZCBhcnJheS4gVGhlIHRyYW5zZmVyIG9mIGRhdGEgaXMgZG9uZVxuICAgKiBzeW5jaHJvbm91c2x5LlxuICAgKlxuICAgKiBAZG9jIHtoZWFkaW5nOiAnVGVuc29ycycsIHN1YmhlYWRpbmc6ICdDbGFzc2VzJ31cbiAgICovXG4gIGFycmF5U3luYygpOiBBcnJheU1hcFtSXSB7XG4gICAgcmV0dXJuIHRvTmVzdGVkQXJyYXkodGhpcy5zaGFwZSwgdGhpcy5kYXRhU3luYygpKSBhcyBBcnJheU1hcFtSXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBc3luY2hyb25vdXNseSBkb3dubG9hZHMgdGhlIHZhbHVlcyBmcm9tIHRoZSBgdGYuVGVuc29yYC4gUmV0dXJucyBhXG4gICAqIHByb21pc2Ugb2YgYFR5cGVkQXJyYXlgIHRoYXQgcmVzb2x2ZXMgd2hlbiB0aGUgY29tcHV0YXRpb24gaGFzIGZpbmlzaGVkLlxuICAgKlxuICAgKiBAZG9jIHtoZWFkaW5nOiAnVGVuc29ycycsIHN1YmhlYWRpbmc6ICdDbGFzc2VzJ31cbiAgICovXG4gIGFzeW5jIGRhdGE8RCBleHRlbmRzIERhdGFUeXBlID0gTnVtZXJpY0RhdGFUeXBlPigpOiBQcm9taXNlPERhdGFUeXBlTWFwW0RdPiB7XG4gICAgdGhpcy50aHJvd0lmRGlzcG9zZWQoKTtcbiAgICBjb25zdCBkYXRhID0gdHJhY2tlckZuKCkucmVhZCh0aGlzLmRhdGFJZCk7XG4gICAgaWYgKHRoaXMuZHR5cGUgPT09ICdzdHJpbmcnKSB7XG4gICAgICBjb25zdCBieXRlcyA9IGF3YWl0IGRhdGEgYXMgVWludDhBcnJheVtdO1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGJ5dGVzLm1hcChiID0+IHV0aWwuZGVjb2RlU3RyaW5nKGIpKSBhcyBEYXRhVHlwZU1hcFtEXTtcbiAgICAgIH0gY2F0Y2gge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgICAnRmFpbGVkIHRvIGRlY29kZSB0aGUgc3RyaW5nIGJ5dGVzIGludG8gdXRmLTguICcgK1xuICAgICAgICAgICAgJ1RvIGdldCB0aGUgb3JpZ2luYWwgYnl0ZXMsIGNhbGwgdGVuc29yLmJ5dGVzKCkuJyk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBkYXRhIGFzIFByb21pc2U8RGF0YVR5cGVNYXBbRF0+O1xuICB9XG5cbiAgLyoqXG4gICAqIFN5bmNocm9ub3VzbHkgZG93bmxvYWRzIHRoZSB2YWx1ZXMgZnJvbSB0aGUgYHRmLlRlbnNvcmAuIFRoaXMgYmxvY2tzIHRoZVxuICAgKiBVSSB0aHJlYWQgdW50aWwgdGhlIHZhbHVlcyBhcmUgcmVhZHksIHdoaWNoIGNhbiBjYXVzZSBwZXJmb3JtYW5jZSBpc3N1ZXMuXG4gICAqXG4gICAqIEBkb2Mge2hlYWRpbmc6ICdUZW5zb3JzJywgc3ViaGVhZGluZzogJ0NsYXNzZXMnfVxuICAgKi9cbiAgZGF0YVN5bmM8RCBleHRlbmRzIERhdGFUeXBlID0gTnVtZXJpY0RhdGFUeXBlPigpOiBEYXRhVHlwZU1hcFtEXSB7XG4gICAgdGhpcy50aHJvd0lmRGlzcG9zZWQoKTtcbiAgICBjb25zdCBkYXRhID0gdHJhY2tlckZuKCkucmVhZFN5bmModGhpcy5kYXRhSWQpO1xuICAgIGlmICh0aGlzLmR0eXBlID09PSAnc3RyaW5nJykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIChkYXRhIGFzIFVpbnQ4QXJyYXlbXSkubWFwKGIgPT4gdXRpbC5kZWNvZGVTdHJpbmcoYikpIGFzXG4gICAgICAgICAgICBEYXRhVHlwZU1hcFtEXTtcbiAgICAgIH0gY2F0Y2gge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgICAnRmFpbGVkIHRvIGRlY29kZSB0aGUgc3RyaW5nIGJ5dGVzIGludG8gdXRmLTguICcgK1xuICAgICAgICAgICAgJ1RvIGdldCB0aGUgb3JpZ2luYWwgYnl0ZXMsIGNhbGwgdGVuc29yLmJ5dGVzKCkuJyk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBkYXRhIGFzIERhdGFUeXBlTWFwW0RdO1xuICB9XG5cbiAgLyoqIFJldHVybnMgdGhlIHVuZGVybHlpbmcgYnl0ZXMgb2YgdGhlIHRlbnNvcidzIGRhdGEuICovXG4gIGFzeW5jIGJ5dGVzKCk6IFByb21pc2U8VWludDhBcnJheVtdfFVpbnQ4QXJyYXk+IHtcbiAgICB0aGlzLnRocm93SWZEaXNwb3NlZCgpO1xuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCB0cmFja2VyRm4oKS5yZWFkKHRoaXMuZGF0YUlkKTtcbiAgICBpZiAodGhpcy5kdHlwZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHJldHVybiBkYXRhIGFzIFVpbnQ4QXJyYXlbXTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KChkYXRhIGFzIFR5cGVkQXJyYXkpLmJ1ZmZlcik7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIERpc3Bvc2VzIGB0Zi5UZW5zb3JgIGZyb20gbWVtb3J5LlxuICAgKlxuICAgKiBAZG9jIHtoZWFkaW5nOiAnVGVuc29ycycsIHN1YmhlYWRpbmc6ICdDbGFzc2VzJ31cbiAgICovXG4gIGRpc3Bvc2UoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuaXNEaXNwb3NlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0cmFja2VyRm4oKS5kaXNwb3NlVGVuc29yKHRoaXMpO1xuICAgIHRoaXMuaXNEaXNwb3NlZEludGVybmFsID0gdHJ1ZTtcbiAgfVxuXG4gIHByb3RlY3RlZCBpc0Rpc3Bvc2VkSW50ZXJuYWwgPSBmYWxzZTtcbiAgZ2V0IGlzRGlzcG9zZWQoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuaXNEaXNwb3NlZEludGVybmFsO1xuICB9XG5cbiAgdGhyb3dJZkRpc3Bvc2VkKCkge1xuICAgIGlmICh0aGlzLmlzRGlzcG9zZWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgVGVuc29yIGlzIGRpc3Bvc2VkLmApO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBQcmludHMgdGhlIGB0Zi5UZW5zb3JgLiBTZWUgYHRmLnByaW50YCBmb3IgZGV0YWlscy5cbiAgICpcbiAgICogQHBhcmFtIHZlcmJvc2UgV2hldGhlciB0byBwcmludCB2ZXJib3NlIGluZm9ybWF0aW9uIGFib3V0IHRoZSB0ZW5zb3IsXG4gICAqICAgIGluY2x1ZGluZyBkdHlwZSBhbmQgc2l6ZS5cbiAgICpcbiAgICogQGRvYyB7aGVhZGluZzogJ1RlbnNvcnMnLCBzdWJoZWFkaW5nOiAnQ2xhc3Nlcyd9XG4gICAqL1xuICBwcmludCh2ZXJib3NlID0gZmFsc2UpOiB2b2lkIHtcbiAgICByZXR1cm4gb3BIYW5kbGVyLnByaW50KHRoaXMsIHZlcmJvc2UpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYSBjb3B5IG9mIHRoZSB0ZW5zb3IuIFNlZSBgdGYuY2xvbmVgIGZvciBkZXRhaWxzLlxuICAgKiBAZG9jIHtoZWFkaW5nOiAnVGVuc29ycycsIHN1YmhlYWRpbmc6ICdDbGFzc2VzJ31cbiAgICovXG4gIGNsb25lPFQgZXh0ZW5kcyBUZW5zb3I+KHRoaXM6IFQpOiBUIHtcbiAgICB0aGlzLnRocm93SWZEaXNwb3NlZCgpO1xuICAgIHJldHVybiBvcEhhbmRsZXIuY2xvbmUodGhpcyk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBhIGh1bWFuLXJlYWRhYmxlIGRlc2NyaXB0aW9uIG9mIHRoZSB0ZW5zb3IuIFVzZWZ1bCBmb3IgbG9nZ2luZy5cbiAgICpcbiAgICogQGRvYyB7aGVhZGluZzogJ1RlbnNvcnMnLCBzdWJoZWFkaW5nOiAnQ2xhc3Nlcyd9XG4gICAqL1xuICB0b1N0cmluZyh2ZXJib3NlID0gZmFsc2UpOiBzdHJpbmcge1xuICAgIGNvbnN0IHZhbHMgPSB0aGlzLmRhdGFTeW5jKCk7XG4gICAgcmV0dXJuIHRlbnNvclRvU3RyaW5nKHZhbHMsIHRoaXMuc2hhcGUsIHRoaXMuZHR5cGUsIHZlcmJvc2UpO1xuICB9XG5cbiAgY2FzdDxUIGV4dGVuZHMgdGhpcz4oZHR5cGU6IERhdGFUeXBlKTogVCB7XG4gICAgdGhpcy50aHJvd0lmRGlzcG9zZWQoKTtcbiAgICByZXR1cm4gb3BIYW5kbGVyLmNhc3QodGhpcyBhcyBULCBkdHlwZSk7XG4gIH1cbiAgdmFyaWFibGUodHJhaW5hYmxlID0gdHJ1ZSwgbmFtZT86IHN0cmluZywgZHR5cGU/OiBEYXRhVHlwZSk6IFZhcmlhYmxlPFI+IHtcbiAgICB0aGlzLnRocm93SWZEaXNwb3NlZCgpO1xuICAgIHJldHVybiB0cmFja2VyRm4oKS5tYWtlVmFyaWFibGUodGhpcywgdHJhaW5hYmxlLCBuYW1lLCBkdHlwZSkgYXNcbiAgICAgICAgVmFyaWFibGU8Uj47XG4gIH1cbn1cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShUZW5zb3IsIFN5bWJvbC5oYXNJbnN0YW5jZSwge1xuICB2YWx1ZTogKGluc3RhbmNlOiBUZW5zb3IpID0+IHtcbiAgICAvLyBJbXBsZW1lbnRhdGlvbiBub3RlOiB3ZSBzaG91bGQgdXNlIHByb3BlcnRpZXMgb2YgdGhlIG9iamVjdCB0aGF0IHdpbGwgYmVcbiAgICAvLyBkZWZpbmVkIGJlZm9yZSB0aGUgY29uc3RydWN0b3IgYm9keSBoYXMgZmluaXNoZWQgZXhlY3V0aW5nIChtZXRob2RzKS5cbiAgICAvLyBUaGlzIGlzIGJlY2F1c2Ugd2hlbiB0aGlzIGNvZGUgaXMgdHJhbnNwaWxlZCBieSBiYWJlbCwgYmFiZWwgd2lsbCBjYWxsXG4gICAgLy8gY2xhc3NDYWxsQ2hlY2sgYmVmb3JlIHRoZSBjb25zdHJ1Y3RvciBib2R5IGlzIHJ1bi5cbiAgICAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3RlbnNvcmZsb3cvdGZqcy9pc3N1ZXMvMzM4NCBmb3IgYmFja3N0b3J5LlxuICAgIHJldHVybiAhIWluc3RhbmNlICYmIGluc3RhbmNlLmRhdGEgIT0gbnVsbCAmJiBpbnN0YW5jZS5kYXRhU3luYyAhPSBudWxsICYmXG4gICAgICAgIGluc3RhbmNlLnRocm93SWZEaXNwb3NlZCAhPSBudWxsO1xuICB9XG59KTtcblxuZXhwb3J0IGludGVyZmFjZSBOdW1lcmljVGVuc29yPFIgZXh0ZW5kcyBSYW5rID0gUmFuaz4gZXh0ZW5kcyBUZW5zb3I8Uj4ge1xuICBkdHlwZTogTnVtZXJpY0RhdGFUeXBlO1xuICBkYXRhU3luYzxEIGV4dGVuZHMgRGF0YVR5cGUgPSBOdW1lcmljRGF0YVR5cGU+KCk6IERhdGFUeXBlTWFwW0RdO1xuICBkYXRhPEQgZXh0ZW5kcyBEYXRhVHlwZSA9IE51bWVyaWNEYXRhVHlwZT4oKTogUHJvbWlzZTxEYXRhVHlwZU1hcFtEXT47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3RyaW5nVGVuc29yPFIgZXh0ZW5kcyBSYW5rID0gUmFuaz4gZXh0ZW5kcyBUZW5zb3I8Uj4ge1xuICBkdHlwZTogJ3N0cmluZyc7XG4gIGRhdGFTeW5jPEQgZXh0ZW5kcyBEYXRhVHlwZSA9ICdzdHJpbmcnPigpOiBEYXRhVHlwZU1hcFtEXTtcbiAgZGF0YTxEIGV4dGVuZHMgRGF0YVR5cGUgPSAnc3RyaW5nJz4oKTogUHJvbWlzZTxEYXRhVHlwZU1hcFtEXT47XG59XG5cbi8qKiBAZG9jbGluayBUZW5zb3IgKi9cbmV4cG9ydCB0eXBlIFNjYWxhciA9IFRlbnNvcjxSYW5rLlIwPjtcbi8qKiBAZG9jbGluayBUZW5zb3IgKi9cbmV4cG9ydCB0eXBlIFRlbnNvcjFEID0gVGVuc29yPFJhbmsuUjE+O1xuLyoqIEBkb2NsaW5rIFRlbnNvciAqL1xuZXhwb3J0IHR5cGUgVGVuc29yMkQgPSBUZW5zb3I8UmFuay5SMj47XG4vKiogQGRvY2xpbmsgVGVuc29yICovXG5leHBvcnQgdHlwZSBUZW5zb3IzRCA9IFRlbnNvcjxSYW5rLlIzPjtcbi8qKiBAZG9jbGluayBUZW5zb3IgKi9cbmV4cG9ydCB0eXBlIFRlbnNvcjREID0gVGVuc29yPFJhbmsuUjQ+O1xuLyoqIEBkb2NsaW5rIFRlbnNvciAqL1xuZXhwb3J0IHR5cGUgVGVuc29yNUQgPSBUZW5zb3I8UmFuay5SNT47XG4vKiogQGRvY2xpbmsgVGVuc29yICovXG5leHBvcnQgdHlwZSBUZW5zb3I2RCA9IFRlbnNvcjxSYW5rLlI2PjtcblxuLyoqXG4gKiBBIG11dGFibGUgYHRmLlRlbnNvcmAsIHVzZWZ1bCBmb3IgcGVyc2lzdGluZyBzdGF0ZSwgZS5nLiBmb3IgdHJhaW5pbmcuXG4gKlxuICogQGRvYyB7aGVhZGluZzogJ1RlbnNvcnMnLCBzdWJoZWFkaW5nOiAnQ2xhc3Nlcyd9XG4gKi9cbmV4cG9ydCBjbGFzcyBWYXJpYWJsZTxSIGV4dGVuZHMgUmFuayA9IFJhbms+IGV4dGVuZHMgVGVuc29yPFI+IHtcbiAgbmFtZTogc3RyaW5nO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgICAgaW5pdGlhbFZhbHVlOiBUZW5zb3I8Uj4sIHB1YmxpYyB0cmFpbmFibGU6IGJvb2xlYW4sIG5hbWU6IHN0cmluZyxcbiAgICAgIHRlbnNvcklkOiBudW1iZXIpIHtcbiAgICBzdXBlcihcbiAgICAgICAgaW5pdGlhbFZhbHVlLnNoYXBlLCBpbml0aWFsVmFsdWUuZHR5cGUsIGluaXRpYWxWYWx1ZS5kYXRhSWQsIHRlbnNvcklkKTtcbiAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICB9XG5cbiAgLyoqXG4gICAqIEFzc2lnbiBhIG5ldyBgdGYuVGVuc29yYCB0byB0aGlzIHZhcmlhYmxlLiBUaGUgbmV3IGB0Zi5UZW5zb3JgIG11c3QgaGF2ZVxuICAgKiB0aGUgc2FtZSBzaGFwZSBhbmQgZHR5cGUgYXMgdGhlIG9sZCBgdGYuVGVuc29yYC5cbiAgICpcbiAgICogQHBhcmFtIG5ld1ZhbHVlIE5ldyB0ZW5zb3IgdG8gYmUgYXNzaWduZWQgdG8gdGhpcyB2YXJpYWJsZS5cbiAgICpcbiAgICogQGRvYyB7aGVhZGluZzogJ1RlbnNvcnMnLCBzdWJoZWFkaW5nOiAnQ2xhc3Nlcyd9XG4gICAqL1xuICBhc3NpZ24obmV3VmFsdWU6IFRlbnNvcjxSPik6IHZvaWQge1xuICAgIGlmIChuZXdWYWx1ZS5kdHlwZSAhPT0gdGhpcy5kdHlwZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgIGBkdHlwZSBvZiB0aGUgbmV3IHZhbHVlICgke25ld1ZhbHVlLmR0eXBlfSkgYW5kIGAgK1xuICAgICAgICAgIGBwcmV2aW91cyB2YWx1ZSAoJHt0aGlzLmR0eXBlfSkgbXVzdCBtYXRjaGApO1xuICAgIH1cbiAgICBpZiAoIXV0aWwuYXJyYXlzRXF1YWwobmV3VmFsdWUuc2hhcGUsIHRoaXMuc2hhcGUpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgYHNoYXBlIG9mIHRoZSBuZXcgdmFsdWUgKCR7bmV3VmFsdWUuc2hhcGV9KSBhbmQgYCArXG4gICAgICAgICAgYHByZXZpb3VzIHZhbHVlICgke3RoaXMuc2hhcGV9KSBtdXN0IG1hdGNoYCk7XG4gICAgfVxuICAgIHRyYWNrZXJGbigpLmRpc3Bvc2VUZW5zb3IodGhpcyk7XG4gICAgdGhpcy5kYXRhSWQgPSBuZXdWYWx1ZS5kYXRhSWQ7XG4gICAgdHJhY2tlckZuKCkuaW5jUmVmKHRoaXMsIG51bGwgLyogYmFja2VuZCAqLyk7XG4gIH1cblxuICBkaXNwb3NlKCk6IHZvaWQge1xuICAgIHRyYWNrZXJGbigpLmRpc3Bvc2VWYXJpYWJsZSh0aGlzKTtcbiAgICB0aGlzLmlzRGlzcG9zZWRJbnRlcm5hbCA9IHRydWU7XG4gIH1cbn1cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KFZhcmlhYmxlLCBTeW1ib2wuaGFzSW5zdGFuY2UsIHtcbiAgdmFsdWU6IChpbnN0YW5jZTogVmFyaWFibGUpID0+IHtcbiAgICByZXR1cm4gaW5zdGFuY2UgaW5zdGFuY2VvZiBUZW5zb3IgJiYgaW5zdGFuY2UuYXNzaWduICE9IG51bGwgJiZcbiAgICAgICAgaW5zdGFuY2UuYXNzaWduIGluc3RhbmNlb2YgRnVuY3Rpb247XG4gIH1cbn0pO1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG4vKiogQGRvY2FsaWFzIG51bWJlcltdICovXG5leHBvcnQgaW50ZXJmYWNlIFNoYXBlTWFwIHtcbiAgUjA6IG51bWJlcltdO1xuICBSMTogW251bWJlcl07XG4gIFIyOiBbbnVtYmVyLCBudW1iZXJdO1xuICBSMzogW251bWJlciwgbnVtYmVyLCBudW1iZXJdO1xuICBSNDogW251bWJlciwgbnVtYmVyLCBudW1iZXIsIG51bWJlcl07XG4gIFI1OiBbbnVtYmVyLCBudW1iZXIsIG51bWJlciwgbnVtYmVyLCBudW1iZXJdO1xuICBSNjogW251bWJlciwgbnVtYmVyLCBudW1iZXIsIG51bWJlciwgbnVtYmVyLCBudW1iZXJdO1xufVxuXG4vKiogQGRvY2FsaWFzIG51bWJlcltdICovXG5leHBvcnQgaW50ZXJmYWNlIEFycmF5TWFwIHtcbiAgUjA6IG51bWJlcjtcbiAgUjE6IG51bWJlcltdO1xuICBSMjogbnVtYmVyW11bXTtcbiAgUjM6IG51bWJlcltdW11bXTtcbiAgUjQ6IG51bWJlcltdW11bXVtdO1xuICBSNTogbnVtYmVyW11bXVtdW11bXTtcbiAgUjY6IG51bWJlcltdW11bXVtdW11bXTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBEYXRhVHlwZU1hcCB7XG4gIGZsb2F0MzI6IEZsb2F0MzJBcnJheTtcbiAgaW50MzI6IEludDMyQXJyYXk7XG4gIGJvb2w6IFVpbnQ4QXJyYXk7XG4gIGNvbXBsZXg2NDogRmxvYXQzMkFycmF5O1xuICBzdHJpbmc6IHN0cmluZ1tdO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFNpbmdsZVZhbHVlTWFwIHtcbiAgYm9vbDogYm9vbGVhbjtcbiAgaW50MzI6IG51bWJlcjtcbiAgZmxvYXQzMjogbnVtYmVyO1xuICBjb21wbGV4NjQ6IG51bWJlcjtcbiAgc3RyaW5nOiBzdHJpbmc7XG59XG5cbi8qKiBAZG9jYWxpYXMgJ2Zsb2F0MzInfCdpbnQzMid8J2Jvb2wnfCdjb21wbGV4NjQnfCdzdHJpbmcnICovXG5leHBvcnQgdHlwZSBEYXRhVHlwZSA9IGtleW9mIERhdGFUeXBlTWFwO1xuZXhwb3J0IHR5cGUgTnVtZXJpY0RhdGFUeXBlID0gJ2Zsb2F0MzInfCdpbnQzMid8J2Jvb2wnfCdjb21wbGV4NjQnO1xuZXhwb3J0IHR5cGUgVHlwZWRBcnJheSA9IEZsb2F0MzJBcnJheXxJbnQzMkFycmF5fFVpbnQ4QXJyYXk7XG4vKiogVGVuc29yIGRhdGEgdXNlZCBpbiB0ZW5zb3IgY3JlYXRpb24gYW5kIHVzZXItZmFjaW5nIEFQSS4gKi9cbmV4cG9ydCB0eXBlIERhdGFWYWx1ZXMgPSBEYXRhVHlwZU1hcFtEYXRhVHlwZV07XG4vKiogVGhlIHVuZGVybHlpbmcgdGVuc29yIGRhdGEgdGhhdCBnZXRzIHN0b3JlZCBpbiBhIGJhY2tlbmQuICovXG5leHBvcnQgdHlwZSBCYWNrZW5kVmFsdWVzID0gRmxvYXQzMkFycmF5fEludDMyQXJyYXl8VWludDhBcnJheXxVaW50OEFycmF5W107XG5cbmV4cG9ydCBlbnVtIFJhbmsge1xuICBSMCA9ICdSMCcsXG4gIFIxID0gJ1IxJyxcbiAgUjIgPSAnUjInLFxuICBSMyA9ICdSMycsXG4gIFI0ID0gJ1I0JyxcbiAgUjUgPSAnUjUnLFxuICBSNiA9ICdSNidcbn1cblxuZXhwb3J0IHR5cGUgRmxhdFZlY3RvciA9IGJvb2xlYW5bXXxudW1iZXJbXXxUeXBlZEFycmF5O1xuZXhwb3J0IHR5cGUgUmVndWxhckFycmF5PFQ+ID1cbiAgICBUW118VFtdW118VFtdW11bXXxUW11bXVtdW118VFtdW11bXVtdW118VFtdW11bXVtdW11bXTtcblxuLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWFueVxuZXhwb3J0IGludGVyZmFjZSBSZWN1cnNpdmVBcnJheTxUIGV4dGVuZHMgYW55PiB7XG4gIFtpbmRleDogbnVtYmVyXTogVHxSZWN1cnNpdmVBcnJheTxUPjtcbn1cblxuLy8gTG9va3MgZm9yIHVwY2FzdGluZyB0eXBlcy4gVXNlZCwgZm9yIGV4YW1wbGUsIGluIG9wZXJhdGlvbnMgd2l0aCBtaXhlZCBkdHlwZVxuLy8gaW5wdXRzLlxuZW51bSBVcGNhc3RJbnQzMkFuZE1hcCB7XG4gICdmbG9hdDMyJyA9ICdmbG9hdDMyJyxcbiAgJ2ludDMyJyA9ICdpbnQzMicsXG4gICdib29sJyA9ICdpbnQzMicsXG4gICdjb21wbGV4NjQnID0gJ2NvbXBsZXg2NCdcbn1cblxuZW51bSBVcGNhc3RCb29sQW5kTWFwIHtcbiAgJ2Zsb2F0MzInID0gJ2Zsb2F0MzInLFxuICAnaW50MzInID0gJ2ludDMyJyxcbiAgJ2Jvb2wnID0gJ2Jvb2wnLFxuICAnY29tcGxleDY0JyA9ICdjb21wbGV4NjQnXG59XG5cbmVudW0gVXBjYXN0RmxvYXQzMkFuZE1hcCB7XG4gICdmbG9hdDMyJyA9ICdmbG9hdDMyJyxcbiAgJ2ludDMyJyA9ICdmbG9hdDMyJyxcbiAgJ2Jvb2wnID0gJ2Zsb2F0MzInLFxuICAnY29tcGxleDY0JyA9ICdjb21wbGV4NjQnXG59XG5cbmVudW0gVXBjYXN0Q29tcGxleDY0QW5kTWFwIHtcbiAgJ2Zsb2F0MzInID0gJ2NvbXBsZXg2NCcsXG4gICdpbnQzMicgPSAnY29tcGxleDY0JyxcbiAgJ2Jvb2wnID0gJ2NvbXBsZXg2NCcsXG4gICdjb21wbGV4NjQnID0gJ2NvbXBsZXg2NCdcbn1cblxuY29uc3QgdXBjYXN0VHlwZU1hcCA9IHtcbiAgJ2Zsb2F0MzInOiBVcGNhc3RGbG9hdDMyQW5kTWFwLFxuICAnaW50MzInOiBVcGNhc3RJbnQzMkFuZE1hcCxcbiAgJ2Jvb2wnOiBVcGNhc3RCb29sQW5kTWFwLFxuICAnY29tcGxleDY0JzogVXBjYXN0Q29tcGxleDY0QW5kTWFwXG59O1xuXG5leHBvcnQgZnVuY3Rpb24gdXBjYXN0VHlwZSh0eXBlQTogRGF0YVR5cGUsIHR5cGVCOiBEYXRhVHlwZSk6IERhdGFUeXBlIHtcbiAgaWYgKHR5cGVBID09PSAnc3RyaW5nJyB8fCB0eXBlQiA9PT0gJ3N0cmluZycpIHtcbiAgICBpZiAodHlwZUEgPT09ICdzdHJpbmcnICYmIHR5cGVCID09PSAnc3RyaW5nJykge1xuICAgICAgcmV0dXJuICdzdHJpbmcnO1xuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IoYENhbiBub3QgdXBjYXN0ICR7dHlwZUF9IHdpdGggJHt0eXBlQn1gKTtcbiAgfVxuICByZXR1cm4gdXBjYXN0VHlwZU1hcFt0eXBlQV1bdHlwZUJdO1xufVxuXG4vKiogUmV0dXJucyB0aGUgb3V0cHV0IHR5cGUgYWZ0ZXIgc3VtbWF0aW9uLiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN1bU91dFR5cGUodHlwZTogRGF0YVR5cGUpOiBEYXRhVHlwZSB7XG4gIHJldHVybiB1cGNhc3RUeXBlKHR5cGUsICdpbnQzMicpO1xufVxuXG4vKiogQGRvY2FsaWFzIFR5cGVkQXJyYXl8QXJyYXkgKi9cbmV4cG9ydCB0eXBlIFRlbnNvckxpa2UgPVxuICAgIFR5cGVkQXJyYXl8bnVtYmVyfGJvb2xlYW58c3RyaW5nfFJlY3Vyc2l2ZUFycmF5PG51bWJlcnxudW1iZXJbXXxUeXBlZEFycmF5PnxcbiAgICBSZWN1cnNpdmVBcnJheTxib29sZWFuPnxSZWN1cnNpdmVBcnJheTxzdHJpbmc+fFVpbnQ4QXJyYXlbXTtcbmV4cG9ydCB0eXBlIFNjYWxhckxpa2UgPSBudW1iZXJ8Ym9vbGVhbnxzdHJpbmd8VWludDhBcnJheTtcbi8qKiBAZG9jYWxpYXMgVHlwZWRBcnJheXxBcnJheSAqL1xuZXhwb3J0IHR5cGUgVGVuc29yTGlrZTFEID0gVHlwZWRBcnJheXxudW1iZXJbXXxib29sZWFuW118c3RyaW5nW118VWludDhBcnJheVtdO1xuLyoqIEBkb2NhbGlhcyBUeXBlZEFycmF5fEFycmF5ICovXG5leHBvcnQgdHlwZSBUZW5zb3JMaWtlMkQgPSBUeXBlZEFycmF5fG51bWJlcltdfG51bWJlcltdW118Ym9vbGVhbltdfGJvb2xlYW5bXVtdfFxuICAgIHN0cmluZ1tdfHN0cmluZ1tdW118VWludDhBcnJheVtdfFVpbnQ4QXJyYXlbXVtdO1xuLyoqIEBkb2NhbGlhcyBUeXBlZEFycmF5fEFycmF5ICovXG5leHBvcnQgdHlwZSBUZW5zb3JMaWtlM0QgPSBUeXBlZEFycmF5fG51bWJlcltdfG51bWJlcltdW11bXXxib29sZWFuW118XG4gICAgYm9vbGVhbltdW11bXXxzdHJpbmdbXXxzdHJpbmdbXVtdW118VWludDhBcnJheVtdfFVpbnQ4QXJyYXlbXVtdW107XG4vKiogQGRvY2FsaWFzIFR5cGVkQXJyYXl8QXJyYXkgKi9cbmV4cG9ydCB0eXBlIFRlbnNvckxpa2U0RCA9IFR5cGVkQXJyYXl8bnVtYmVyW118bnVtYmVyW11bXVtdW118Ym9vbGVhbltdfFxuICAgIGJvb2xlYW5bXVtdW11bXXxzdHJpbmdbXXxzdHJpbmdbXVtdW11bXXxVaW50OEFycmF5W118VWludDhBcnJheVtdW11bXVtdO1xuLyoqIEBkb2NhbGlhcyBUeXBlZEFycmF5fEFycmF5ICovXG5leHBvcnQgdHlwZSBUZW5zb3JMaWtlNUQgPVxuICAgIFR5cGVkQXJyYXl8bnVtYmVyW118bnVtYmVyW11bXVtdW11bXXxib29sZWFuW118Ym9vbGVhbltdW11bXVtdW118c3RyaW5nW118XG4gICAgc3RyaW5nW11bXVtdW11bXXxVaW50OEFycmF5W118VWludDhBcnJheVtdW11bXVtdW107XG4vKiogQGRvY2FsaWFzIFR5cGVkQXJyYXl8QXJyYXkgKi9cbmV4cG9ydCB0eXBlIFRlbnNvckxpa2U2RCA9XG4gICAgVHlwZWRBcnJheXxudW1iZXJbXXxudW1iZXJbXVtdW11bXVtdW118Ym9vbGVhbltdfGJvb2xlYW5bXVtdW11bXVtdW118XG4gICAgc3RyaW5nW118c3RyaW5nW11bXVtdW11bXVtdfFVpbnQ4QXJyYXlbXXxVaW50OEFycmF5W11bXVtdW11bXTtcblxuLyoqIFR5cGUgZm9yIHJlcHJlc2VudGluZyBpbWFnZSBkYXQgaW4gVWludDhBcnJheSB0eXBlLiAqL1xuZXhwb3J0IGludGVyZmFjZSBQaXhlbERhdGEge1xuICB3aWR0aDogbnVtYmVyO1xuICBoZWlnaHQ6IG51bWJlcjtcbiAgZGF0YTogVWludDhBcnJheTtcbn1cbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE4IEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuaW1wb3J0IHtUZW5zb3J9IGZyb20gJy4vdGVuc29yJztcbmltcG9ydCB7VGVuc29yQ29udGFpbmVyLCBUZW5zb3JDb250YWluZXJBcnJheX0gZnJvbSAnLi90ZW5zb3JfdHlwZXMnO1xuaW1wb3J0IHt1cGNhc3RUeXBlfSBmcm9tICcuL3R5cGVzJztcbmltcG9ydCB7YXNzZXJ0fSBmcm9tICcuL3V0aWwnO1xuXG5leHBvcnQgZnVuY3Rpb24gbWFrZVR5cGVzTWF0Y2g8VCBleHRlbmRzIFRlbnNvcj4oYTogVCwgYjogVCk6IFtULCBUXSB7XG4gIGlmIChhLmR0eXBlID09PSBiLmR0eXBlKSB7XG4gICAgcmV0dXJuIFthLCBiXTtcbiAgfVxuICBjb25zdCBkdHlwZSA9IHVwY2FzdFR5cGUoYS5kdHlwZSwgYi5kdHlwZSk7XG4gIHJldHVybiBbYS5jYXN0KGR0eXBlKSwgYi5jYXN0KGR0eXBlKV07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnRUeXBlc01hdGNoKGE6IFRlbnNvciwgYjogVGVuc29yKTogdm9pZCB7XG4gIGFzc2VydChcbiAgICAgIGEuZHR5cGUgPT09IGIuZHR5cGUsXG4gICAgICAoKSA9PiBgVGhlIGR0eXBlcyBvZiB0aGUgZmlyc3QoJHthLmR0eXBlfSkgYW5kYCArXG4gICAgICAgICAgYCBzZWNvbmQoJHtiLmR0eXBlfSkgaW5wdXQgbXVzdCBtYXRjaGApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNUZW5zb3JJbkxpc3QodGVuc29yOiBUZW5zb3IsIHRlbnNvckxpc3Q6IFRlbnNvcltdKTogYm9vbGVhbiB7XG4gIHJldHVybiB0ZW5zb3JMaXN0LnNvbWUoeCA9PiB4LmlkID09PSB0ZW5zb3IuaWQpO1xufVxuXG4vKipcbiAqIEV4dHJhY3RzIGFueSBgVGVuc29yYHMgZm91bmQgd2l0aGluIHRoZSBwcm92aWRlZCBvYmplY3QuXG4gKlxuICogQHBhcmFtIGNvbnRhaW5lciBhbiBvYmplY3QgdGhhdCBtYXkgYmUgYSBgVGVuc29yYCBvciBtYXkgZGlyZWN0bHkgY29udGFpblxuICogICBgVGVuc29yYHMsIHN1Y2ggYXMgYSBgVGVuc29yW11gIG9yIGB7a2V5OiBUZW5zb3IsIC4uLn1gLiBJbiBnZW5lcmFsIGl0XG4gKiAgIGlzIHNhZmUgdG8gcGFzcyBhbnkgb2JqZWN0IGhlcmUsIGV4Y2VwdCB0aGF0IGBQcm9taXNlYHMgYXJlIG5vdFxuICogICBzdXBwb3J0ZWQuXG4gKiBAcmV0dXJucyBBbiBhcnJheSBvZiBgVGVuc29yc2AgZm91bmQgd2l0aGluIHRoZSBwYXNzZWQgb2JqZWN0LiBJZiB0aGVcbiAqICAgYXJndW1lbnQgaXMgc2ltcGx5IGEgYFRlbnNvcicsIGEgbGlzdCBjb250YWluaW5nIHRoYXQgYFRlbnNvcmAgaXNcbiAqICAgcmV0dXJuZWQuIElmIHRoZSBvYmplY3QgaXMgbm90IGEgYFRlbnNvcmAgb3IgZG9lcyBub3RcbiAqICAgY29udGFpbiBgVGVuc29yc2AsIGFuIGVtcHR5IGxpc3QgaXMgcmV0dXJuZWQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRUZW5zb3JzSW5Db250YWluZXIocmVzdWx0OiBUZW5zb3JDb250YWluZXIpOiBUZW5zb3JbXSB7XG4gIGNvbnN0IGxpc3Q6IFRlbnNvcltdID0gW107XG4gIGNvbnN0IHNlZW4gPSBuZXcgU2V0PHt9fHZvaWQ+KCk7XG4gIHdhbGtUZW5zb3JDb250YWluZXIocmVzdWx0LCBsaXN0LCBzZWVuKTtcbiAgcmV0dXJuIGxpc3Q7XG59XG5cbmZ1bmN0aW9uIHdhbGtUZW5zb3JDb250YWluZXIoXG4gICAgY29udGFpbmVyOiBUZW5zb3JDb250YWluZXIsIGxpc3Q6IFRlbnNvcltdLCBzZWVuOiBTZXQ8e318dm9pZD4pOiB2b2lkIHtcbiAgaWYgKGNvbnRhaW5lciA9PSBudWxsKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmIChjb250YWluZXIgaW5zdGFuY2VvZiBUZW5zb3IpIHtcbiAgICBsaXN0LnB1c2goY29udGFpbmVyKTtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKCFpc0l0ZXJhYmxlKGNvbnRhaW5lcikpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgLy8gSXRlcmF0aW9uIG92ZXIga2V5cyB3b3JrcyBhbHNvIGZvciBhcnJheXMuXG4gIGNvbnN0IGl0ZXJhYmxlID0gY29udGFpbmVyIGFzIFRlbnNvckNvbnRhaW5lckFycmF5O1xuICBmb3IgKGNvbnN0IGsgaW4gaXRlcmFibGUpIHtcbiAgICBjb25zdCB2YWwgPSBpdGVyYWJsZVtrXTtcbiAgICBpZiAoIXNlZW4uaGFzKHZhbCkpIHtcbiAgICAgIHNlZW4uYWRkKHZhbCk7XG4gICAgICB3YWxrVGVuc29yQ29udGFpbmVyKHZhbCwgbGlzdCwgc2Vlbik7XG4gICAgfVxuICB9XG59XG5cbi8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1hbnlcbmZ1bmN0aW9uIGlzSXRlcmFibGUob2JqOiBhbnkpOiBib29sZWFuIHtcbiAgcmV0dXJuIEFycmF5LmlzQXJyYXkob2JqKSB8fCB0eXBlb2Ygb2JqID09PSAnb2JqZWN0Jztcbn1cbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE4IEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuaW1wb3J0IHtCYWNrZW5kVGltaW5nSW5mbywgRGF0YU1vdmVyLCBLZXJuZWxCYWNrZW5kfSBmcm9tICcuL2JhY2tlbmRzL2JhY2tlbmQnO1xuaW1wb3J0IHtFbnZpcm9ubWVudCwgc2V0RW52aXJvbm1lbnRHbG9iYWx9IGZyb20gJy4vZW52aXJvbm1lbnQnO1xuaW1wb3J0IHtnZXRHbG9iYWxOYW1lc3BhY2V9IGZyb20gJy4vZ2xvYmFsX3V0aWwnO1xuaW1wb3J0IHtBZGQsIENhc3R9IGZyb20gJy4va2VybmVsX25hbWVzJztcbmltcG9ydCB7Z2V0R3JhZGllbnQsIGdldEtlcm5lbCwgZ2V0S2VybmVsc0ZvckJhY2tlbmQsIEdyYWRGdW5jLCBOYW1lZEF0dHJNYXAsIFRlbnNvckluZm99IGZyb20gJy4va2VybmVsX3JlZ2lzdHJ5JztcbmltcG9ydCB7S2VybmVsUHJvZmlsZSwgUHJvZmlsZXJ9IGZyb20gJy4vcHJvZmlsZXInO1xuaW1wb3J0IHtiYWNrcHJvcGFnYXRlR3JhZGllbnRzLCBnZXRGaWx0ZXJlZE5vZGVzWFRvWSwgVGFwZU5vZGV9IGZyb20gJy4vdGFwZSc7XG5pbXBvcnQge0RhdGFJZCwgc2V0VGVuc29yVHJhY2tlciwgVGVuc29yLCBUZW5zb3JUcmFja2VyLCBWYXJpYWJsZX0gZnJvbSAnLi90ZW5zb3InO1xuaW1wb3J0IHtHcmFkU2F2ZUZ1bmMsIE5hbWVkVGVuc29yTWFwLCBOYW1lZFZhcmlhYmxlTWFwLCBUZW5zb3JDb250YWluZXJ9IGZyb20gJy4vdGVuc29yX3R5cGVzJztcbmltcG9ydCB7Z2V0VGVuc29yc0luQ29udGFpbmVyfSBmcm9tICcuL3RlbnNvcl91dGlsJztcbmltcG9ydCB7QmFja2VuZFZhbHVlcywgRGF0YVR5cGUsIERhdGFWYWx1ZXN9IGZyb20gJy4vdHlwZXMnO1xuaW1wb3J0ICogYXMgdXRpbCBmcm9tICcuL3V0aWwnO1xuaW1wb3J0IHtieXRlc0Zyb21TdHJpbmdBcnJheSwgbWFrZU9uZXNUeXBlZEFycmF5LCBub3csIHNpemVGcm9tU2hhcGV9IGZyb20gJy4vdXRpbCc7XG5cbi8qKlxuICogQSBmdW5jdGlvbiB0aGF0IGNvbXB1dGVzIGFuIG91dHB1dC4gVGhlIHNhdmUgZnVuY3Rpb24gaXMgZm9yIHNhdmluZyB0ZW5zb3JzXG4gKiBjb21wdXRlZCBpbiB0aGUgZm9yd2FyZCBwYXNzLCB0aGF0IHdlIG5lZWQgaW4gdGhlIGJhY2t3YXJkIHBhc3MuXG4gKi9cbmV4cG9ydCB0eXBlIEZvcndhcmRGdW5jPFQ+ID0gKGJhY2tlbmQ6IEtlcm5lbEJhY2tlbmQsIHNhdmU/OiBHcmFkU2F2ZUZ1bmMpID0+IFQ7XG5cbi8qKlxuICogQGRvY2FsaWFzIChhOiBUZW5zb3IsIGI6IFRlbnNvciwuLi4sIHNhdmU/OiBGdW5jdGlvbikgPT4ge1xuICogICB2YWx1ZTogVGVuc29yLFxuICogICBncmFkRnVuYzogKGR5OiBUZW5zb3IsIHNhdmVkPzogTmFtZWRUZW5zb3JNYXApID0+IFRlbnNvciB8IFRlbnNvcltdXG4gKiB9XG4gKi9cbmV4cG9ydCB0eXBlIEN1c3RvbUdyYWRpZW50RnVuYzxUIGV4dGVuZHMgVGVuc29yPiA9XG4gICAgKC4uLmlucHV0czogQXJyYXk8VGVuc29yfEdyYWRTYXZlRnVuYz4pID0+IHtcbiAgICAgIHZhbHVlOiBUO1xuICAgICAgZ3JhZEZ1bmM6IChkeTogVCwgc2F2ZWQ6IFRlbnNvcltdKSA9PiBUZW5zb3IgfCBUZW5zb3JbXTtcbiAgICB9O1xuXG5leHBvcnQgdHlwZSBNZW1vcnlJbmZvID0ge1xuICBudW1UZW5zb3JzOiBudW1iZXI7IG51bURhdGFCdWZmZXJzOiBudW1iZXI7IG51bUJ5dGVzOiBudW1iZXI7XG4gIHVucmVsaWFibGU/OiBib29sZWFuOyByZWFzb25zOiBzdHJpbmdbXTtcbn07XG5cbnR5cGUgS2VybmVsSW5mbyA9IHtcbiAgbmFtZTogc3RyaW5nOyBieXRlc0FkZGVkOiBudW1iZXI7IHRvdGFsQnl0ZXNTbmFwc2hvdDogbnVtYmVyO1xuICB0ZW5zb3JzQWRkZWQ6IG51bWJlcjtcbiAgdG90YWxUZW5zb3JzU25hcHNob3Q6IG51bWJlcjtcbiAgaW5wdXRTaGFwZXM6IG51bWJlcltdW107XG4gIG91dHB1dFNoYXBlczogbnVtYmVyW11bXTtcbiAga2VybmVsVGltZU1zOiBudW1iZXIgfCB7ZXJyb3I6IHN0cmluZ30gfCBQcm9taXNlPG51bWJlcnx7ZXJyb3I6IHN0cmluZ30+O1xuICBleHRyYUluZm86IHN0cmluZyB8IFByb21pc2U8c3RyaW5nPjtcbn07XG5cbmV4cG9ydCB0eXBlIFByb2ZpbGVJbmZvID0ge1xuICBuZXdCeXRlczogbnVtYmVyOyBuZXdUZW5zb3JzOiBudW1iZXI7IHBlYWtCeXRlczogbnVtYmVyO1xuICBrZXJuZWxzOiBLZXJuZWxJbmZvW107XG4gIHJlc3VsdDogVGVuc29yQ29udGFpbmVyO1xufTtcblxuZXhwb3J0IGludGVyZmFjZSBUaW1pbmdJbmZvIGV4dGVuZHMgQmFja2VuZFRpbWluZ0luZm8ge1xuICB3YWxsTXM6IG51bWJlcjtcbn1cblxuLyoqIEBkb2NhbGlhcyBGdW5jdGlvbiAqL1xuZXhwb3J0IHR5cGUgU2NvcGVGbjxUIGV4dGVuZHMgVGVuc29yQ29udGFpbmVyPiA9ICgpID0+IFQ7XG5cbmludGVyZmFjZSBTY29wZVN0YXRlIHtcbiAgdHJhY2s6IFRlbnNvcltdO1xuICBuYW1lOiBzdHJpbmc7XG4gIGlkOiBudW1iZXI7XG59XG5cbmNsYXNzIEVuZ2luZVN0YXRlIHtcbiAgLy8gUHVibGljIHNpbmNlIG9wdGltaXplcnMgd2lsbCB1c2UgaXQuXG4gIHJlZ2lzdGVyZWRWYXJpYWJsZXM6IE5hbWVkVmFyaWFibGVNYXAgPSB7fTtcblxuICBuZXh0VGFwZU5vZGVJZCA9IDA7XG4gIG51bUJ5dGVzID0gMDtcbiAgbnVtVGVuc29ycyA9IDA7XG4gIG51bVN0cmluZ1RlbnNvcnMgPSAwO1xuICBudW1EYXRhQnVmZmVycyA9IDA7XG5cbiAgYWN0aXZlVGFwZTogVGFwZU5vZGVbXTtcbiAgLy8gTnVtYmVyIG9mIG5lc3RlZCB0Zi5ncmFkKCkgc3RhdGVtZW50cyB3aGVuIGNvbXB1dGluZyBoaWdoZXItb3JkZXJcbiAgLy8gZ3JhZGllbnRzLiBFLmcuIGAxYCBmb3IgZmlyc3Qtb3JkZXIgZ3JhZGllbnRzIGFuZCBgMmAgZm9yIHNlY29uZC1vcmRlclxuICAvLyBncmFkaWVudHMuIFVzZWQgdG8gdHJhY2sgaWYgdGhlIHRhcGUgc2hvdWxkIGJlIHJlbW92ZWQgYWZ0ZXIgYSBiYWNrcHJvcC5cbiAgZ3JhZGllbnREZXB0aCA9IDA7XG4gIC8vIE51bWJlciBvZiBuZXN0ZWQga2VybmVsIGNhbGxzLiBXaGVuIGtlcm5lbCBkZXB0aCBpcyBncmVhdGVyIHRoYW4gMSwgd2UgdHVyblxuICAvLyBvZmYgdGhlIHRhcGUuXG4gIGtlcm5lbERlcHRoID0gMDtcblxuICAvLyBLZWVwIFRlbnNvcnMgdGhhdCBwYXJhbGxlbCB0aGUgdGFwZXMuXG4gIGFjdGl2ZVNjb3BlOiBTY29wZVN0YXRlO1xuICBzY29wZVN0YWNrOiBTY29wZVN0YXRlW10gPSBbXTtcbiAgLyoqXG4gICAqIEtlZXBzIHRyYWNrIG9mIHRoZSBudW1iZXIgb2YgZGF0YSBtb3ZlcyBkdXJpbmcgYSBrZXJuZWwgZXhlY3V0aW9uLiBXZVxuICAgKiBtYWludGFpbiBhIHN0YWNrIHNpbmNlIGtlcm5lbHMgY2FuIGNhbGwgb3RoZXIga2VybmVscywgcmVjdXJzaXZlbHkuXG4gICAqL1xuICBudW1EYXRhTW92ZXNTdGFjazogbnVtYmVyW10gPSBbXTtcbiAgbmV4dFNjb3BlSWQgPSAwO1xuXG4gIHRlbnNvckluZm8gPSBuZXcgV2Vha01hcDxEYXRhSWQsIHtcbiAgICBiYWNrZW5kOiBLZXJuZWxCYWNrZW5kLFxuICAgIGJ5dGVzOiBudW1iZXIsXG4gICAgZHR5cGU6IERhdGFUeXBlLFxuICAgIHNoYXBlOiBudW1iZXJbXSxcbiAgICByZWZDb3VudDogbnVtYmVyXG4gIH0+KCk7XG5cbiAgcHJvZmlsaW5nID0gZmFsc2U7XG4gIGFjdGl2ZVByb2ZpbGU6IFByb2ZpbGVJbmZvID1cbiAgICAgIHtuZXdCeXRlczogMCwgbmV3VGVuc29yczogMCwgcGVha0J5dGVzOiAwLCBrZXJuZWxzOiBbXSwgcmVzdWx0OiBudWxsfTtcblxuICBkaXNwb3NlKCkge1xuICAgIGZvciAoY29uc3QgdmFyaWFibGVOYW1lIGluIHRoaXMucmVnaXN0ZXJlZFZhcmlhYmxlcykge1xuICAgICAgdGhpcy5yZWdpc3RlcmVkVmFyaWFibGVzW3ZhcmlhYmxlTmFtZV0uZGlzcG9zZSgpO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgRW5naW5lIGltcGxlbWVudHMgVGVuc29yVHJhY2tlciwgRGF0YU1vdmVyIHtcbiAgc3RhdGU6IEVuZ2luZVN0YXRlO1xuICBiYWNrZW5kTmFtZTogc3RyaW5nO1xuICByZWdpc3RyeToge1tpZDogc3RyaW5nXTogS2VybmVsQmFja2VuZH0gPSB7fTtcbiAgcmVnaXN0cnlGYWN0b3J5OiB7XG4gICAgW2lkOiBzdHJpbmddOiB7XG4gICAgICBmYWN0b3J5OiAoKSA9PiBLZXJuZWxCYWNrZW5kIHwgUHJvbWlzZTxLZXJuZWxCYWNrZW5kPixcbiAgICAgIHByaW9yaXR5OiBudW1iZXJcbiAgICB9XG4gIH0gPSB7fTtcblxuICBwcml2YXRlIHByb2ZpbGVyOiBQcm9maWxlcjtcbiAgcHJpdmF0ZSBiYWNrZW5kSW5zdGFuY2U6IEtlcm5lbEJhY2tlbmQ7XG4gIHByaXZhdGUgcGVuZGluZ0JhY2tlbmRJbml0OiBQcm9taXNlPGJvb2xlYW4+O1xuICBwcml2YXRlIHBlbmRpbmdCYWNrZW5kSW5pdElkID0gMDtcblxuICBjb25zdHJ1Y3RvcihwdWJsaWMgRU5WOiBFbnZpcm9ubWVudCkge1xuICAgIHRoaXMuc3RhdGUgPSBuZXcgRW5naW5lU3RhdGUoKTtcbiAgfVxuXG4gIGFzeW5jIHJlYWR5KCk6IFByb21pc2U8dm9pZD4ge1xuICAgIGlmICh0aGlzLnBlbmRpbmdCYWNrZW5kSW5pdCAhPSBudWxsKSB7XG4gICAgICByZXR1cm4gdGhpcy5wZW5kaW5nQmFja2VuZEluaXQudGhlbigoKSA9PiB7fSk7XG4gICAgfVxuICAgIGlmICh0aGlzLmJhY2tlbmRJbnN0YW5jZSAhPSBudWxsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHNvcnRlZEJhY2tlbmRzID0gdGhpcy5nZXRTb3J0ZWRCYWNrZW5kcygpO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzb3J0ZWRCYWNrZW5kcy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgYmFja2VuZE5hbWUgPSBzb3J0ZWRCYWNrZW5kc1tpXTtcbiAgICAgIGNvbnN0IHN1Y2Nlc3MgPSBhd2FpdCB0aGlzLmluaXRpYWxpemVCYWNrZW5kKGJhY2tlbmROYW1lKS5zdWNjZXNzO1xuICAgICAgaWYgKHN1Y2Nlc3MpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5zZXRCYWNrZW5kKGJhY2tlbmROYW1lKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgYENvdWxkIG5vdCBpbml0aWFsaXplIGFueSBiYWNrZW5kcywgYWxsIGJhY2tlbmQgaW5pdGlhbGl6YXRpb25zIGAgK1xuICAgICAgICBgZmFpbGVkLmApO1xuICB9XG5cbiAgZ2V0IGJhY2tlbmQoKTogS2VybmVsQmFja2VuZCB7XG4gICAgaWYgKHRoaXMucGVuZGluZ0JhY2tlbmRJbml0ICE9IG51bGwpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICBgQmFja2VuZCAnJHt0aGlzLmJhY2tlbmROYW1lfScgaGFzIG5vdCB5ZXQgYmVlbiBpbml0aWFsaXplZC4gTWFrZSBgICtcbiAgICAgICAgICBgc3VyZSB0byBhd2FpdCB0Zi5yZWFkeSgpIG9yIGF3YWl0IHRmLnNldEJhY2tlbmQoKSBiZWZvcmUgY2FsbGluZyBgICtcbiAgICAgICAgICBgb3RoZXIgbWV0aG9kc2ApO1xuICAgIH1cbiAgICBpZiAodGhpcy5iYWNrZW5kSW5zdGFuY2UgPT0gbnVsbCkge1xuICAgICAgY29uc3Qge25hbWUsIGFzeW5jSW5pdH0gPSB0aGlzLmluaXRpYWxpemVCYWNrZW5kc0FuZFJldHVybkJlc3QoKTtcbiAgICAgIGlmIChhc3luY0luaXQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgYFRoZSBoaWdoZXN0IHByaW9yaXR5IGJhY2tlbmQgJyR7bmFtZX0nIGhhcyBub3QgeWV0IGJlZW4gYCArXG4gICAgICAgICAgICBgaW5pdGlhbGl6ZWQuIE1ha2Ugc3VyZSB0byBhd2FpdCB0Zi5yZWFkeSgpIG9yIGAgK1xuICAgICAgICAgICAgYGF3YWl0IHRmLnNldEJhY2tlbmQoKSBiZWZvcmUgY2FsbGluZyBvdGhlciBtZXRob2RzYCk7XG4gICAgICB9XG4gICAgICB0aGlzLnNldEJhY2tlbmQobmFtZSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmJhY2tlbmRJbnN0YW5jZTtcbiAgfVxuXG4gIGJhY2tlbmROYW1lcygpOiBzdHJpbmdbXSB7XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKHRoaXMucmVnaXN0cnlGYWN0b3J5KTtcbiAgfVxuXG4gIGZpbmRCYWNrZW5kKGJhY2tlbmROYW1lOiBzdHJpbmcpOiBLZXJuZWxCYWNrZW5kIHtcbiAgICBpZiAoIShiYWNrZW5kTmFtZSBpbiB0aGlzLnJlZ2lzdHJ5KSkge1xuICAgICAgLy8gSWYgdGhlIGJhY2tlbmQgaGFzbid0IGJlZW4gaW5pdGlhbGl6ZWQgYnV0IHdlIGhhdmUgYSByZWdpc3RyeSBlbnRyeSBmb3JcbiAgICAgIC8vIGl0LCBpbml0aWFsaXplIGl0IGFuZCByZXR1cm4gaXQuXG4gICAgICBpZiAoYmFja2VuZE5hbWUgaW4gdGhpcy5yZWdpc3RyeUZhY3RvcnkpIHtcbiAgICAgICAgY29uc3Qge2FzeW5jSW5pdH0gPSB0aGlzLmluaXRpYWxpemVCYWNrZW5kKGJhY2tlbmROYW1lKTtcbiAgICAgICAgaWYgKGFzeW5jSW5pdCkge1xuICAgICAgICAgIC8vIEJhY2tlbmQgaXMgbm90IHJlYWR5IHlldC5cbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnJlZ2lzdHJ5W2JhY2tlbmROYW1lXTtcbiAgfVxuXG4gIGZpbmRCYWNrZW5kRmFjdG9yeShiYWNrZW5kTmFtZTogc3RyaW5nKTpcbiAgICAgICgpID0+IEtlcm5lbEJhY2tlbmQgfCBQcm9taXNlPEtlcm5lbEJhY2tlbmQ+IHtcbiAgICBpZiAoIShiYWNrZW5kTmFtZSBpbiB0aGlzLnJlZ2lzdHJ5RmFjdG9yeSkpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5yZWdpc3RyeUZhY3RvcnlbYmFja2VuZE5hbWVdLmZhY3Rvcnk7XG4gIH1cblxuICByZWdpc3RlckJhY2tlbmQoXG4gICAgICBiYWNrZW5kTmFtZTogc3RyaW5nLFxuICAgICAgZmFjdG9yeTogKCkgPT4gS2VybmVsQmFja2VuZCB8IFByb21pc2U8S2VybmVsQmFja2VuZD4sXG4gICAgICBwcmlvcml0eSA9IDEpOiBib29sZWFuIHtcbiAgICBpZiAoYmFja2VuZE5hbWUgaW4gdGhpcy5yZWdpc3RyeUZhY3RvcnkpIHtcbiAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICBgJHtiYWNrZW5kTmFtZX0gYmFja2VuZCB3YXMgYWxyZWFkeSByZWdpc3RlcmVkLiBgICtcbiAgICAgICAgICBgUmV1c2luZyBleGlzdGluZyBiYWNrZW5kIGZhY3RvcnkuYCk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHRoaXMucmVnaXN0cnlGYWN0b3J5W2JhY2tlbmROYW1lXSA9IHtmYWN0b3J5LCBwcmlvcml0eX07XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBhc3luYyBzZXRCYWNrZW5kKGJhY2tlbmROYW1lOiBzdHJpbmcpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICBpZiAodGhpcy5yZWdpc3RyeUZhY3RvcnlbYmFja2VuZE5hbWVdID09IG51bGwpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgQmFja2VuZCBuYW1lICcke2JhY2tlbmROYW1lfScgbm90IGZvdW5kIGluIHJlZ2lzdHJ5YCk7XG4gICAgfVxuICAgIHRoaXMuYmFja2VuZE5hbWUgPSBiYWNrZW5kTmFtZTtcbiAgICBpZiAodGhpcy5yZWdpc3RyeVtiYWNrZW5kTmFtZV0gPT0gbnVsbCkge1xuICAgICAgdGhpcy5iYWNrZW5kSW5zdGFuY2UgPSBudWxsO1xuICAgICAgY29uc3Qge3N1Y2Nlc3MsIGFzeW5jSW5pdH0gPSB0aGlzLmluaXRpYWxpemVCYWNrZW5kKGJhY2tlbmROYW1lKTtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGFzeW5jSW5pdCA/IGF3YWl0IHN1Y2Nlc3MgOiBzdWNjZXNzO1xuICAgICAgaWYgKCFyZXN1bHQpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLmJhY2tlbmRJbnN0YW5jZSA9IHRoaXMucmVnaXN0cnlbYmFja2VuZE5hbWVdO1xuICAgIHRoaXMuc2V0dXBSZWdpc3RlcmVkS2VybmVscygpO1xuICAgIC8vIFJlc2V0IHRoZSBwcm9maWxlci5cbiAgICB0aGlzLnByb2ZpbGVyID0gbmV3IFByb2ZpbGVyKHRoaXMuYmFja2VuZEluc3RhbmNlKTtcblxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgcHJpdmF0ZSBzZXR1cFJlZ2lzdGVyZWRLZXJuZWxzKCk6IHZvaWQge1xuICAgIGNvbnN0IGtlcm5lbHMgPSBnZXRLZXJuZWxzRm9yQmFja2VuZCh0aGlzLmJhY2tlbmROYW1lKTtcbiAgICBrZXJuZWxzLmZvckVhY2goa2VybmVsID0+IHtcbiAgICAgIGlmIChrZXJuZWwuc2V0dXBGdW5jICE9IG51bGwpIHtcbiAgICAgICAga2VybmVsLnNldHVwRnVuYyh0aGlzLmJhY2tlbmRJbnN0YW5jZSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIGRpc3Bvc2VSZWdpc3RlcmVkS2VybmVscyhiYWNrZW5kTmFtZTogc3RyaW5nKTogdm9pZCB7XG4gICAgY29uc3Qga2VybmVscyA9IGdldEtlcm5lbHNGb3JCYWNrZW5kKGJhY2tlbmROYW1lKTtcbiAgICBrZXJuZWxzLmZvckVhY2goa2VybmVsID0+IHtcbiAgICAgIGlmIChrZXJuZWwuZGlzcG9zZUZ1bmMgIT0gbnVsbCkge1xuICAgICAgICBrZXJuZWwuZGlzcG9zZUZ1bmModGhpcy5yZWdpc3RyeVtiYWNrZW5kTmFtZV0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemVzIGEgYmFja2VuZCBieSBsb29raW5nIHVwIHRoZSBiYWNrZW5kIG5hbWUgaW4gdGhlIGZhY3RvcnlcbiAgICogcmVnaXN0cnkgYW5kIGNhbGxpbmcgdGhlIGZhY3RvcnkgbWV0aG9kLiBSZXR1cm5zIGEgYm9vbGVhbiByZXByZXNlbnRpbmdcbiAgICogd2hldGhlciB0aGUgaW5pdGlhbGl6YXRpb24gb2YgdGhlIGJhY2tlbmQgc3VjZWVkZWQuIFRocm93cyBhbiBlcnJvciBpZlxuICAgKiB0aGVyZSBpcyBubyBiYWNrZW5kIGluIHRoZSBmYWN0b3J5IHJlZ2lzdHJ5LlxuICAgKi9cbiAgcHJpdmF0ZSBpbml0aWFsaXplQmFja2VuZChiYWNrZW5kTmFtZTogc3RyaW5nKTpcbiAgICAgIHtzdWNjZXNzOiBib29sZWFufFByb21pc2U8Ym9vbGVhbj4sIGFzeW5jSW5pdDogYm9vbGVhbn0ge1xuICAgIGNvbnN0IHJlZ2lzdHJ5RmFjdG9yeUVudHJ5ID0gdGhpcy5yZWdpc3RyeUZhY3RvcnlbYmFja2VuZE5hbWVdO1xuICAgIGlmIChyZWdpc3RyeUZhY3RvcnlFbnRyeSA9PSBudWxsKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgYENhbm5vdCBpbml0aWFsaXplIGJhY2tlbmQgJHtiYWNrZW5kTmFtZX0sIG5vIHJlZ2lzdHJhdGlvbiBmb3VuZC5gKTtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgY29uc3QgYmFja2VuZCA9IHJlZ2lzdHJ5RmFjdG9yeUVudHJ5LmZhY3RvcnkoKTtcbiAgICAgIC8qIFRlc3QgaWYgdGhlIGZhY3RvcnkgcmV0dXJucyBhIHByb21pc2UuXG4gICAgICBEb25lIGluIGEgbW9yZSBsaWJlcmFsIHdheSB0aGFuXG4gICAgICBwcmV2aW91cyAnUHJvbWlzZS5yZXNvbHZlKGJhY2tlbmQpPT09YmFja2VuZCdcbiAgICAgIGFzIHdlIG5lZWRlZCB0byBhY2NvdW50IGZvciBjdXN0b20gUHJvbWlzZVxuICAgICAgaW1wbGVtZW50YXRpb25zIChlLmcuIEFuZ3VsYXIpICovXG4gICAgICBpZiAoYmFja2VuZCAmJiAhKGJhY2tlbmQgaW5zdGFuY2VvZiBLZXJuZWxCYWNrZW5kKVxuICAgICAgICAgICYmIHR5cGVvZiBiYWNrZW5kLnRoZW4gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgY29uc3QgcHJvbWlzZUlkID0gKyt0aGlzLnBlbmRpbmdCYWNrZW5kSW5pdElkO1xuICAgICAgICBjb25zdCBzdWNjZXNzID1cbiAgICAgICAgICAgIGJhY2tlbmRcbiAgICAgICAgICAgICAgICAudGhlbihiYWNrZW5kSW5zdGFuY2UgPT4ge1xuICAgICAgICAgICAgICAgICAgLy8gT3V0ZGF0ZWQgcHJvbWlzZS4gQW5vdGhlciBiYWNrZW5kIHdhcyBzZXQgaW4gdGhlIG1lYW50aW1lLlxuICAgICAgICAgICAgICAgICAgaWYgKHByb21pc2VJZCA8IHRoaXMucGVuZGluZ0JhY2tlbmRJbml0SWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgdGhpcy5yZWdpc3RyeVtiYWNrZW5kTmFtZV0gPSBiYWNrZW5kSW5zdGFuY2U7XG4gICAgICAgICAgICAgICAgICB0aGlzLnBlbmRpbmdCYWNrZW5kSW5pdCA9IG51bGw7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgICAgICAgLy8gT3V0ZGF0ZWQgcHJvbWlzZS4gQW5vdGhlciBiYWNrZW5kIHdhcyBzZXQgaW4gdGhlIG1lYW50aW1lLlxuICAgICAgICAgICAgICAgICAgaWYgKHByb21pc2VJZCA8IHRoaXMucGVuZGluZ0JhY2tlbmRJbml0SWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgdGhpcy5wZW5kaW5nQmFja2VuZEluaXQgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgICAgICAgICAgICAgIGBJbml0aWFsaXphdGlvbiBvZiBiYWNrZW5kICR7YmFja2VuZE5hbWV9IGZhaWxlZGApO1xuICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGVyci5zdGFjayB8fCBlcnIubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIHRoaXMucGVuZGluZ0JhY2tlbmRJbml0ID0gc3VjY2VzcztcbiAgICAgICAgcmV0dXJuIHtzdWNjZXNzLCBhc3luY0luaXQ6IHRydWV9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5yZWdpc3RyeVtiYWNrZW5kTmFtZV0gPSBiYWNrZW5kIGFzIEtlcm5lbEJhY2tlbmQ7XG4gICAgICAgIHJldHVybiB7c3VjY2VzczogdHJ1ZSwgYXN5bmNJbml0OiBmYWxzZX07XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLndhcm4oYEluaXRpYWxpemF0aW9uIG9mIGJhY2tlbmQgJHtiYWNrZW5kTmFtZX0gZmFpbGVkYCk7XG4gICAgICBjb25zb2xlLndhcm4oZXJyLnN0YWNrIHx8IGVyci5tZXNzYWdlKTtcbiAgICAgIHJldHVybiB7c3VjY2VzczogZmFsc2UsIGFzeW5jSW5pdDogZmFsc2V9O1xuICAgIH1cbiAgfVxuXG4gIHJlbW92ZUJhY2tlbmQoYmFja2VuZE5hbWU6IHN0cmluZyk6IHZvaWQge1xuICAgIGlmICghKGJhY2tlbmROYW1lIGluIHRoaXMucmVnaXN0cnlGYWN0b3J5KSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGAke2JhY2tlbmROYW1lfSBiYWNrZW5kIG5vdCBmb3VuZCBpbiByZWdpc3RyeWApO1xuICAgIH1cbiAgICBpZiAodGhpcy5iYWNrZW5kTmFtZSA9PT0gYmFja2VuZE5hbWUgJiYgdGhpcy5wZW5kaW5nQmFja2VuZEluaXQgIT0gbnVsbCkge1xuICAgICAgLy8gVGhlcmUgaXMgYSBwZW5kaW5nIHByb21pc2Ugb2YgdGhlIGJhY2tlbmQgd2Ugd2FudCB0byByZW1vdmUuIE1ha2UgaXRcbiAgICAgIC8vIG9ic29sZXRlLlxuICAgICAgdGhpcy5wZW5kaW5nQmFja2VuZEluaXRJZCsrO1xuICAgIH1cblxuICAgIGlmIChiYWNrZW5kTmFtZSBpbiB0aGlzLnJlZ2lzdHJ5KSB7XG4gICAgICB0aGlzLmRpc3Bvc2VSZWdpc3RlcmVkS2VybmVscyhiYWNrZW5kTmFtZSk7XG4gICAgICB0aGlzLnJlZ2lzdHJ5W2JhY2tlbmROYW1lXS5kaXNwb3NlKCk7XG4gICAgICBkZWxldGUgdGhpcy5yZWdpc3RyeVtiYWNrZW5kTmFtZV07XG4gICAgfVxuXG4gICAgZGVsZXRlIHRoaXMucmVnaXN0cnlGYWN0b3J5W2JhY2tlbmROYW1lXTtcblxuICAgIC8vIFVuc2V0IHRoZSBiYWNrZW5kIGlmIGl0IGlzIGFjdGl2ZS5cbiAgICBpZiAodGhpcy5iYWNrZW5kTmFtZSA9PT0gYmFja2VuZE5hbWUpIHtcbiAgICAgIHRoaXMucGVuZGluZ0JhY2tlbmRJbml0ID0gbnVsbDtcbiAgICAgIHRoaXMuYmFja2VuZE5hbWUgPSBudWxsO1xuICAgICAgdGhpcy5iYWNrZW5kSW5zdGFuY2UgPSBudWxsO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgZ2V0U29ydGVkQmFja2VuZHMoKTogc3RyaW5nW10ge1xuICAgIGlmIChPYmplY3Qua2V5cyh0aGlzLnJlZ2lzdHJ5RmFjdG9yeSkubGVuZ3RoID09PSAwKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIGJhY2tlbmQgZm91bmQgaW4gcmVnaXN0cnkuJyk7XG4gICAgfVxuICAgIHJldHVybiBPYmplY3Qua2V5cyh0aGlzLnJlZ2lzdHJ5RmFjdG9yeSkuc29ydCgoYTogc3RyaW5nLCBiOiBzdHJpbmcpID0+IHtcbiAgICAgIC8vIEhpZ2hlc3QgcHJpb3JpdHkgY29tZXMgZmlyc3QuXG4gICAgICByZXR1cm4gdGhpcy5yZWdpc3RyeUZhY3RvcnlbYl0ucHJpb3JpdHkgLVxuICAgICAgICAgIHRoaXMucmVnaXN0cnlGYWN0b3J5W2FdLnByaW9yaXR5O1xuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBpbml0aWFsaXplQmFja2VuZHNBbmRSZXR1cm5CZXN0KCk6XG4gICAgICB7bmFtZTogc3RyaW5nLCBhc3luY0luaXQ6IGJvb2xlYW59IHtcbiAgICBjb25zdCBzb3J0ZWRCYWNrZW5kcyA9IHRoaXMuZ2V0U29ydGVkQmFja2VuZHMoKTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc29ydGVkQmFja2VuZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGJhY2tlbmROYW1lID0gc29ydGVkQmFja2VuZHNbaV07XG4gICAgICBjb25zdCB7c3VjY2VzcywgYXN5bmNJbml0fSA9IHRoaXMuaW5pdGlhbGl6ZUJhY2tlbmQoYmFja2VuZE5hbWUpO1xuICAgICAgaWYgKGFzeW5jSW5pdCB8fCBzdWNjZXNzKSB7XG4gICAgICAgIHJldHVybiB7bmFtZTogYmFja2VuZE5hbWUsIGFzeW5jSW5pdH07XG4gICAgICB9XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgYENvdWxkIG5vdCBpbml0aWFsaXplIGFueSBiYWNrZW5kcywgYWxsIGJhY2tlbmQgaW5pdGlhbGl6YXRpb25zIGAgK1xuICAgICAgICBgZmFpbGVkLmApO1xuICB9XG5cbiAgbW92ZURhdGEoYmFja2VuZDogS2VybmVsQmFja2VuZCwgZGF0YUlkOiBEYXRhSWQpIHtcbiAgICBjb25zdCBpbmZvID0gdGhpcy5zdGF0ZS50ZW5zb3JJbmZvLmdldChkYXRhSWQpO1xuICAgIGNvbnN0IHNyY0JhY2tlbmQgPSBpbmZvLmJhY2tlbmQ7XG4gICAgY29uc3QgdmFsdWVzID0gdGhpcy5yZWFkU3luYyhkYXRhSWQpO1xuICAgIC8vIERlbGV0ZSB0aGUgdGVuc29yIGZyb20gdGhlIG9sZCBiYWNrZW5kIGFuZCBtb3ZlIGl0IHRvIHRoZSBuZXdcbiAgICAvLyBiYWNrZW5kLlxuICAgIHNyY0JhY2tlbmQuZGlzcG9zZURhdGEoZGF0YUlkKTtcbiAgICBpbmZvLmJhY2tlbmQgPSBiYWNrZW5kO1xuICAgIGJhY2tlbmQubW92ZShkYXRhSWQsIHZhbHVlcywgaW5mby5zaGFwZSwgaW5mby5kdHlwZSk7XG4gICAgaWYgKHRoaXMuc2hvdWxkQ2hlY2tGb3JNZW1MZWFrcygpKSB7XG4gICAgICAvLyBUcmFjayB0aGUgbnVtYmVyIG9mIG1vdmVzIGR1cmluZyBhIGtlcm5lbCBleGVjdXRpb24gdG8gY29ycmVjdGx5XG4gICAgICAvLyBkZXRlY3QgbWVtb3J5IGxlYWtzLlxuICAgICAgdGhpcy5zdGF0ZS5udW1EYXRhTW92ZXNTdGFja1t0aGlzLnN0YXRlLm51bURhdGFNb3Zlc1N0YWNrLmxlbmd0aCAtIDFdKys7XG4gICAgfVxuICB9XG5cbiAgdGlkeTxUIGV4dGVuZHMgVGVuc29yQ29udGFpbmVyPihuYW1lT3JGbjogc3RyaW5nfFNjb3BlRm48VD4sIGZuPzogU2NvcGVGbjxUPik6XG4gICAgICBUIHtcbiAgICBsZXQgbmFtZTogc3RyaW5nID0gbnVsbDtcbiAgICBpZiAoZm4gPT0gbnVsbCkge1xuICAgICAgLy8gQ2FsbGVkIHdpdGggb25seSAxIGFyZ3VtZW50LlxuICAgICAgaWYgKHR5cGVvZiBuYW1lT3JGbiAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1BsZWFzZSBwcm92aWRlIGEgZnVuY3Rpb24gdG8gdGlkeSgpJyk7XG4gICAgICB9XG4gICAgICBmbiA9IG5hbWVPckZuO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBDYWxsZWQgd2l0aCAyIGFyZ3VtZW50cy5cbiAgICAgIGlmICh0eXBlb2YgbmFtZU9yRm4gIT09ICdzdHJpbmcnICYmICEobmFtZU9yRm4gaW5zdGFuY2VvZiBTdHJpbmcpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAgICdXaGVuIGNhbGxpbmcgd2l0aCB0d28gYXJndW1lbnRzLCB0aGUgZmlyc3QgYXJndW1lbnQgJyArXG4gICAgICAgICAgICAndG8gdGlkeSgpIG11c3QgYmUgYSBzdHJpbmcnKTtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgZm4gIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgJ1doZW4gY2FsbGluZyB3aXRoIHR3byBhcmd1bWVudHMsIHRoZSAybmQgYXJndW1lbnQgJyArXG4gICAgICAgICAgICAndG8gdGlkeSgpIG11c3QgYmUgYSBmdW5jdGlvbicpO1xuICAgICAgfVxuICAgICAgbmFtZSA9IG5hbWVPckZuIGFzIHN0cmluZztcbiAgICAgIC8vIFRPRE8obnN0aG9yYXQsc21pbGtvdik6IERvIG9wZXJhdGlvbiBsb2dnaW5nIGFuZCBwZXJmb3JtYW5jZVxuICAgICAgLy8gcHJvZmlsaW5nLlxuICAgIH1cbiAgICBsZXQgcmVzdWx0OiBUO1xuICAgIHJldHVybiB0aGlzLnNjb3BlZFJ1bihcbiAgICAgICAgKCkgPT4gdGhpcy5zdGFydFNjb3BlKG5hbWUpLCAoKSA9PiB0aGlzLmVuZFNjb3BlKHJlc3VsdCksICgpID0+IHtcbiAgICAgICAgICByZXN1bHQgPSBmbigpO1xuICAgICAgICAgIGlmIChyZXN1bHQgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdDYW5ub3QgcmV0dXJuIGEgUHJvbWlzZSBpbnNpZGUgb2YgdGlkeS4nKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfSk7XG4gIH1cblxuICBwcml2YXRlIHNjb3BlZFJ1bjxUPihzdGFydDogKCkgPT4gdm9pZCwgZW5kOiAoKSA9PiB2b2lkLCBmOiAoKSA9PiBUKTogVCB7XG4gICAgc3RhcnQoKTtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzID0gZigpO1xuICAgICAgZW5kKCk7XG4gICAgICByZXR1cm4gcmVzO1xuICAgIH0gY2F0Y2ggKGV4KSB7XG4gICAgICBlbmQoKTtcbiAgICAgIHRocm93IGV4O1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgc3RhdGljIG5leHRUZW5zb3JJZCA9IDA7XG4gIHByaXZhdGUgbmV4dFRlbnNvcklkKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIEVuZ2luZS5uZXh0VGVuc29ySWQrKztcbiAgfVxuXG4gIHByaXZhdGUgc3RhdGljIG5leHRWYXJpYWJsZUlkID0gMDtcbiAgcHJpdmF0ZSBuZXh0VmFyaWFibGVJZCgpOiBudW1iZXIge1xuICAgIHJldHVybiBFbmdpbmUubmV4dFZhcmlhYmxlSWQrKztcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGlzIG1ldGhvZCBpcyBjYWxsZWQgaW5zdGVhZCBvZiB0aGUgcHVibGljLWZhY2luZyB0ZW5zb3IuY2xvbmUoKSB3aGVuXG4gICAqIHNhdmluZyBhIHRlbnNvciBmb3IgYmFja3dhcmRzIHBhc3MuIEl0IG1ha2VzIHN1cmUgdG8gYWRkIHRoZSBjbG9uZVxuICAgKiBvcGVyYXRpb24gdG8gdGhlIHRhcGUgcmVnYXJkbGVzcyBvZiBiZWluZyBjYWxsZWQgaW5zaWRlIGEga2VybmVsXG4gICAqIGV4ZWN1dGlvbi5cbiAgICpcbiAgICogVGhpcyBtZXRob2Qgd2lsbCBnbyBhd2F5IG9uY2UgYWxsIGtlcm5lbHMgYXJlIG1vZHVsYXJpemVkIHNpbmNlIHdlIHdvbid0XG4gICAqIG5lZWQgdG8gdHVybiBvZmYgdGhlIHRhcGUgaW5zaWRlIHJ1bktlcm5lbCgpLlxuICAgKi9cbiAgcHJpdmF0ZSBjbG9uZSh4OiBUZW5zb3IpOiBUZW5zb3Ige1xuICAgIGNvbnN0IHkgPSB0aGlzLm1ha2VUZW5zb3JGcm9tRGF0YUlkKHguZGF0YUlkLCB4LnNoYXBlLCB4LmR0eXBlKTtcbiAgICBjb25zdCBpbnB1dHMgPSB7eH07XG4gICAgY29uc3QgZ3JhZCA9IChkeTogVGVuc29yKSA9PiAoe1xuICAgICAgeDogKCkgPT4ge1xuICAgICAgICBjb25zdCBkdHlwZSA9ICdmbG9hdDMyJztcbiAgICAgICAgY29uc3QgZ3JhZElucHV0cyA9IHt4OiBkeX07XG4gICAgICAgIGNvbnN0IGF0dHJzID0ge2R0eXBlfTtcblxuICAgICAgICByZXR1cm4gRU5HSU5FLnJ1bktlcm5lbEZ1bmMoXG4gICAgICAgICAgICBiYWNrZW5kID0+IGJhY2tlbmQuY2FzdChkeSwgZHR5cGUpLFxuICAgICAgICAgICAgZ3JhZElucHV0cyBhcyB7fSBhcyBOYW1lZFRlbnNvck1hcCwgbnVsbCAvKiBncmFkICovLCBDYXN0LFxuICAgICAgICAgICAgYXR0cnMgYXMge30gYXMgTmFtZWRBdHRyTWFwKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBjb25zdCBzYXZlZDogVGVuc29yW10gPSBbXTtcbiAgICB0aGlzLmFkZFRhcGVOb2RlKHRoaXMuc3RhdGUuYWN0aXZlU2NvcGUubmFtZSwgaW5wdXRzLCBbeV0sIGdyYWQsIHNhdmVkLCB7fSk7XG4gICAgcmV0dXJuIHk7XG4gIH1cblxuICAvKipcbiAgICogRXhlY3V0ZSBhIGtlcm5lbCB3aXRoIHRoZSBnaXZlbiBuYW1lIGFuZCByZXR1cm4gdGhlIG91dHB1dCB0ZW5zb3IuXG4gICAqXG4gICAqIEBwYXJhbSBrZXJuZWxOYW1lIFRoZSBuYW1lIG9mIHRoZSBrZXJuZWwgdG8gZXhlY3V0ZS5cbiAgICogQHBhcmFtIGlucHV0cyBBIG1hcCBvZiBpbnB1dCBuYW1lcyB0byB0ZW5zb3JzLlxuICAgKiBAcGFyYW0gYXR0cnMgQSBtYXAgb2YgYXR0cmlidXRlIG5hbWVzIHRvIHRoZWlyIHZhbHVlcy4gQW4gYXR0cmlidXRlIGlzIGFcbiAgICogICAgIHByaW1pdGl2ZSAobm9uLXRlbnNvcikgaW5wdXQgdG8gdGhlIGtlcm5lbC5cbiAgICogQHBhcmFtIGlucHV0c1RvU2F2ZSBBIGxpc3Qgb2YgdGVuc29ycywgaW5wdXRzIHRvIHNhdmUgZm9yIHRoZSBiYWNrcHJvcFxuICAgKiAgICAgY29tcHV0YXRpb24uXG4gICAqIEBwYXJhbSBvdXRwdXRzVG9TYXZlIEEgbGlzdCBvZiBib29sZWFucywgc3BlY2lmeWluZyB3aGljaCBvdXRwdXQgdG8gc2F2ZVxuICAgKiAgICAgZm9yIHRoZSBiYWNrcHJvcCBjb21wdXRhdGlvbi4gVGhlc2UgYXJlIGJvb2xlYW5zIHNpbmNlIHRoZSBvdXRwdXRcbiAgICogdGVuc29ycyBhcmUgbm90IHZpc2libGUgdG8gdGhlIHVzZXIuXG4gICAqL1xuICBydW5LZXJuZWwoXG4gICAgICBrZXJuZWxOYW1lOiBzdHJpbmcsIGlucHV0czogTmFtZWRUZW5zb3JNYXAsIGF0dHJzOiBOYW1lZEF0dHJNYXAsXG4gICAgICBpbnB1dHNUb1NhdmU/OiBUZW5zb3JbXSwgb3V0cHV0c1RvU2F2ZT86IGJvb2xlYW5bXSk6IFRlbnNvcnxUZW5zb3JbXSB7XG4gICAgY29uc3QgZm9yd2FyZEZ1bmM6IG51bGwgPSBudWxsO1xuICAgIGNvbnN0IGJhY2t3YXJkc0Z1bmM6IG51bGwgPSBudWxsO1xuICAgIC8vIENhbGwgcnVuS2VybmVsIGFzIGEgc3RvcC1nYXAgdW50aWwgd2UgbW9kdWxhcml6ZSBhbGwga2VybmVscy5cbiAgICAvLyBPbmNlIHdlIG1vZHVsYXJpemUgYWxsIGtlcm5lbHMsIHdlIHdpbGwgcmVtb3ZlIHRoZSBleGlzdGluZ1xuICAgIC8vIGBydW5LZXJuZWxGdW5jYC5cbiAgICByZXR1cm4gdGhpcy5ydW5LZXJuZWxGdW5jKFxuICAgICAgICBmb3J3YXJkRnVuYywgaW5wdXRzLCBiYWNrd2FyZHNGdW5jLCBrZXJuZWxOYW1lLCBhdHRycywgaW5wdXRzVG9TYXZlLFxuICAgICAgICBvdXRwdXRzVG9TYXZlKTtcbiAgfVxuXG4gIHByaXZhdGUgc2hvdWxkQ2hlY2tGb3JNZW1MZWFrcygpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5FTlYuZ2V0Qm9vbCgnSVNfVEVTVCcpO1xuICB9XG5cbiAgcHJpdmF0ZSBjaGVja0tlcm5lbEZvck1lbUxlYWsoXG4gICAgICBrZXJuZWxOYW1lOiBzdHJpbmcsIG51bURhdGFJZHNCZWZvcmU6IG51bWJlcixcbiAgICAgIG91dEluZm9zOiBUZW5zb3JJbmZvW10pOiB2b2lkIHtcbiAgICBjb25zdCBudW1EYXRhSWRzQWZ0ZXIgPSB0aGlzLmJhY2tlbmQubnVtRGF0YUlkcygpO1xuXG4gICAgLy8gQ291bnQgdGhlIG51bWJlciBvZiBkYXRhIGlkcyBhc3NvY2lhdGVkIHdpdGggdGhlIHJlc3VsdCBvZiB0aGUga2VybmVsLlxuICAgIGxldCBudW1PdXRwdXREYXRhSWRzID0gMDtcbiAgICBvdXRJbmZvcy5mb3JFYWNoKGluZm8gPT4ge1xuICAgICAgLy8gQ29tcGxleCBudW1iZXJzIGFsbG9jYXRlIDMgZGF0YSBpZHMsIG9uZSBmb3IgJ3JlYWwnLCBvbmUgZm9yXG4gICAgICAvLyAnaW1hZ2luYXJ5JywgYW5kIG9uZSBmb3IgdGhlIGNvbnRhaW5lciB0aGF0IGhvbGRzIHRoZSBmb3JtZXIgdHdvLlxuICAgICAgbnVtT3V0cHV0RGF0YUlkcyArPSAoaW5mby5kdHlwZSA9PT0gJ2NvbXBsZXg2NCcgPyAzIDogMSk7XG4gICAgfSk7XG5cbiAgICAvLyBBY2NvdW50IGZvciB0aGUgbnVtYmVyIG9mIG1vdmVzIGR1cmluZyBrZXJuZWwgZXhlY3V0aW9uLiBBIFwiZGF0YSBtb3ZlXCJcbiAgICAvLyBjYW4gaGFwcGVuIGluIHRoZSBtaWRkbGUgb2YgYSBrZXJuZWwgZXhlY3V0aW9uLCBwbGFjaW5nIGEgbmV3IChrZXksdmFsdWUpXG4gICAgLy8gcGFpciBpbiB0aGUgZGF0YSBzdG9yYWdlLiBTaW5jZSBkYXRhIG1vdmVzIGhhdmUgbmV0IHplcm8gZWZmZWN0ICh3ZVxuICAgIC8vIGFsd2F5cyByZW1vdmUgdGhlIGRhdGEgZnJvbSB0aGUgb2xkIGJhY2tlbmQpLCB3ZSBoYXZlIHRvIGNhbmNlbCB0aGVtIG91dFxuICAgIC8vIHdoZW4gZGV0ZWN0aW5nIG1lbW9yeSBsZWFrcy5cbiAgICBjb25zdCBudW1Nb3ZlcyA9XG4gICAgICAgIHRoaXMuc3RhdGUubnVtRGF0YU1vdmVzU3RhY2tbdGhpcy5zdGF0ZS5udW1EYXRhTW92ZXNTdGFjay5sZW5ndGggLSAxXTtcbiAgICBjb25zdCBkYXRhSWRzTGVha2VkID1cbiAgICAgICAgbnVtRGF0YUlkc0FmdGVyIC0gbnVtRGF0YUlkc0JlZm9yZSAtIG51bU91dHB1dERhdGFJZHMgLSBudW1Nb3ZlcztcbiAgICBpZiAoZGF0YUlkc0xlYWtlZCA+IDApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICBgQmFja2VuZCAnJHt0aGlzLmJhY2tlbmROYW1lfScgaGFzIGFuIGludGVybmFsIG1lbW9yeSBsZWFrIGAgK1xuICAgICAgICAgIGAoJHtkYXRhSWRzTGVha2VkfSBkYXRhIGlkcykgYWZ0ZXIgcnVubmluZyAnJHtrZXJuZWxOYW1lfSdgKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQGRlcHJlY2F0ZWQgVXNlIGBydW5LZXJuZWxgIGZvciBuZXdseSBhZGRlZCBrZXJuZWxzLiBLZWVwIHVzaW5nIHRoaXMgbWV0aG9kXG4gICAqICAgICBvbmx5IGZvciBrZXJuZWxzIHRoYXQgYXJlIG5vdCB5ZXQgZnVsbHkgbW9kdWxhcml6ZWQuXG4gICAqL1xuICBydW5LZXJuZWxGdW5jPFQgZXh0ZW5kcyBUZW5zb3J8VGVuc29yW10sIEkgZXh0ZW5kcyBOYW1lZFRlbnNvck1hcD4oXG4gICAgICBmb3J3YXJkRnVuYzogRm9yd2FyZEZ1bmM8VD4sIGlucHV0czogSSxcbiAgICAgIGJhY2t3YXJkc0Z1bmM/OiAoZHk6IFQsIHNhdmVkOiBUZW5zb3JbXSkgPT4ge1tQIGluIGtleW9mIEldOiAoKSA9PiBJW1BdfSxcbiAgICAgIGtlcm5lbE5hbWU/OiBzdHJpbmcsIGF0dHJzPzogTmFtZWRBdHRyTWFwLCBpbnB1dHNUb1NhdmU/OiBUZW5zb3JbXSxcbiAgICAgIG91dHB1dHNUb1NhdmU/OiBib29sZWFuW10pOiBUIHtcbiAgICBsZXQgb3V0cHV0czogVGVuc29yW107XG4gICAgbGV0IHNhdmVkOiBUZW5zb3JbXSA9IFtdO1xuICAgIGNvbnN0IGlzVGFwZU9uID0gdGhpcy5pc1RhcGVPbigpO1xuICAgIGlmIChrZXJuZWxOYW1lID09IG51bGwpIHtcbiAgICAgIGtlcm5lbE5hbWUgPVxuICAgICAgICAgIHRoaXMuc3RhdGUuYWN0aXZlU2NvcGUgIT0gbnVsbCA/IHRoaXMuc3RhdGUuYWN0aXZlU2NvcGUubmFtZSA6ICcnO1xuICAgIH1cblxuICAgIGNvbnN0IHN0YXJ0aW5nQnl0ZWNvdW50ID0gdGhpcy5zdGF0ZS5udW1CeXRlcztcbiAgICBjb25zdCBzdGFydGluZ051bVRlbnNvcnMgPSB0aGlzLnN0YXRlLm51bVRlbnNvcnM7XG5cbiAgICBpZiAodGhpcy5zaG91bGRDaGVja0Zvck1lbUxlYWtzKCkpIHtcbiAgICAgIHRoaXMuc3RhdGUubnVtRGF0YU1vdmVzU3RhY2sucHVzaCgwKTtcbiAgICB9XG5cbiAgICBsZXQga2VybmVsRnVuYzogKCkgPT4gVGVuc29yW107XG4gICAgY29uc3Qga2VybmVsID0gZ2V0S2VybmVsKGtlcm5lbE5hbWUsIHRoaXMuYmFja2VuZE5hbWUpO1xuICAgIGxldCBvdXQ6IFRlbnNvckluZm98VGVuc29ySW5mb1tdO1xuICAgIGlmIChrZXJuZWwgIT0gbnVsbCkge1xuICAgICAga2VybmVsRnVuYyA9ICgpID0+IHtcbiAgICAgICAgY29uc3QgbnVtRGF0YUlkc0JlZm9yZSA9IHRoaXMuYmFja2VuZC5udW1EYXRhSWRzKCk7XG4gICAgICAgIG91dCA9IGtlcm5lbC5rZXJuZWxGdW5jKHtpbnB1dHMsIGF0dHJzLCBiYWNrZW5kOiB0aGlzLmJhY2tlbmR9KTtcbiAgICAgICAgY29uc3Qgb3V0SW5mb3MgPSBBcnJheS5pc0FycmF5KG91dCkgPyBvdXQgOiBbb3V0XTtcbiAgICAgICAgaWYgKHRoaXMuc2hvdWxkQ2hlY2tGb3JNZW1MZWFrcygpKSB7XG4gICAgICAgICAgdGhpcy5jaGVja0tlcm5lbEZvck1lbUxlYWsoa2VybmVsTmFtZSwgbnVtRGF0YUlkc0JlZm9yZSwgb3V0SW5mb3MpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG91dFRlbnNvcnMgPSBvdXRJbmZvcy5tYXAoXG4gICAgICAgICAgICAoe2RhdGFJZCwgc2hhcGUsIGR0eXBlfSkgPT5cbiAgICAgICAgICAgICAgICB0aGlzLm1ha2VUZW5zb3JGcm9tRGF0YUlkKGRhdGFJZCwgc2hhcGUsIGR0eXBlKSk7XG5cbiAgICAgICAgLy8gU2F2ZSB0aGUgaW5wdXRzIGFuZCBvdXRwdXRzLlxuICAgICAgICAvLyBEbyBub3Qgc2F2ZSB1bmxlc3Mgd2UgYXJlIHJlY29yZGluZyB0byB0aGUgdGFwZS4gT3RoZXJ3aXNlIGl0IHdvdWxkXG4gICAgICAgIC8vIGNhdXNlIGEgbWVtIGxlYWsgc2luY2Ugd2Ugd291bGQgbmV2ZXIgcnVuIGJhY2twcm9wLCB3aGljaCBkaXNwb3Nlc1xuICAgICAgICAvLyB0aGUga2VwdCB0ZW5zb3JzLlxuICAgICAgICBpZiAoaXNUYXBlT24pIHtcbiAgICAgICAgICBsZXQgdGVuc29yc1RvU2F2ZSA9XG4gICAgICAgICAgICAgIHRoaXMuZ2V0VGVuc29yc0ZvckdyYWRpZW50KGtlcm5lbE5hbWUsIGlucHV0cywgb3V0VGVuc29ycyk7XG4gICAgICAgICAgaWYgKHRlbnNvcnNUb1NhdmUgPT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gRmFsbGJhY2sgZm9yIG9wcyB0aGF0IGNhbGwgcnVuS2VybmVsRnVuYyBhbmQgcGFzcyBpblxuICAgICAgICAgICAgLy8gaW5wdXRzVG9TYXZlIGFuZCBvdXRwdXRzVG9TYXZlLiBDdXJyZW50bHkgdGhpcyBpcyB0aGUgc2V0IG9mIG9wc1xuICAgICAgICAgICAgLy8gd2l0aCBrZXJuZWwgc3VwcG9ydCBpbiB0aGUgV0FTTSBiYWNrZW5kLiBPbmNlIHRob3NlIG9wcyBhbmRcbiAgICAgICAgICAgIC8vIHJlc3BlY3RpdmUgZ3JhZGllbnRzIGFyZSBtb2R1bGFyaXNlZCB3ZSBjYW4gcmVtb3ZlIHRoaXMgcGF0aC5cbiAgICAgICAgICAgIGlmIChvdXRwdXRzVG9TYXZlID09IG51bGwpIHtcbiAgICAgICAgICAgICAgb3V0cHV0c1RvU2F2ZSA9IFtdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3Qgb3V0c1RvU2F2ZSA9IG91dFRlbnNvcnMuZmlsdGVyKChfLCBpKSA9PiBvdXRwdXRzVG9TYXZlW2ldKTtcbiAgICAgICAgICAgIHRlbnNvcnNUb1NhdmUgPSAoaW5wdXRzVG9TYXZlIHx8IFtdKS5zbGljZSgpLmNvbmNhdChvdXRzVG9TYXZlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc2F2ZWQgPSB0aGlzLnNhdmVUZW5zb3JzRm9yQmFja3dhcmRNb2RlKHRlbnNvcnNUb1NhdmUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvdXRUZW5zb3JzO1xuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3Qgc2F2ZUZ1bmM6IEdyYWRTYXZlRnVuYyA9ICh0ZW5zb3JzKSA9PiB7XG4gICAgICAgIC8vIERvIG5vdCBzYXZlIHVubGVzcyB3ZSBhcmUgcmVjb3JkaW5nIHRvIHRoZSB0YXBlLiBPdGhlcndpc2UgaXQgd291bGRcbiAgICAgICAgLy8gY2F1c2UgYSBtZW0gbGVhayBzaW5jZSB3ZSB3b3VsZCBuZXZlciBydW4gYmFja3Byb3AsIHdoaWNoIGRpc3Bvc2VzXG4gICAgICAgIC8vIHRoZSBrZXB0IHRlbnNvcnMuXG4gICAgICAgIGlmICghaXNUYXBlT24pIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgc2F2ZWQgPSB0ZW5zb3JzLm1hcCh0ZW5zb3IgPT4gdGhpcy5rZWVwKHRoaXMuY2xvbmUodGVuc29yKSkpO1xuICAgICAgfTtcblxuICAgICAga2VybmVsRnVuYyA9ICgpID0+IHtcbiAgICAgICAgY29uc3QgbnVtRGF0YUlkc0JlZm9yZSA9IHRoaXMuYmFja2VuZC5udW1EYXRhSWRzKCk7XG4gICAgICAgIG91dCA9IHRoaXMudGlkeSgoKSA9PiBmb3J3YXJkRnVuYyh0aGlzLmJhY2tlbmQsIHNhdmVGdW5jKSk7XG4gICAgICAgIGNvbnN0IG91dHMgPSAoQXJyYXkuaXNBcnJheShvdXQpID8gb3V0IDogW291dF0pIGFzIFRlbnNvcltdO1xuICAgICAgICBpZiAodGhpcy5zaG91bGRDaGVja0Zvck1lbUxlYWtzKCkpIHtcbiAgICAgICAgICB0aGlzLmNoZWNrS2VybmVsRm9yTWVtTGVhayhrZXJuZWxOYW1lLCBudW1EYXRhSWRzQmVmb3JlLCBvdXRzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb3V0cztcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLy8gU3RvcCByZWNvcmRpbmcgdG8gYSB0YXBlIHdoZW4gcnVubmluZyBhIGtlcm5lbC5cbiAgICBsZXQga2VybmVsUHJvZmlsZTogS2VybmVsUHJvZmlsZTtcbiAgICB0aGlzLnNjb3BlZFJ1bihcbiAgICAgICAgKCkgPT4gdGhpcy5zdGF0ZS5rZXJuZWxEZXB0aCsrLCAoKSA9PiB0aGlzLnN0YXRlLmtlcm5lbERlcHRoLS0sICgpID0+IHtcbiAgICAgICAgICBpZiAoIXRoaXMuRU5WLmdldEJvb2woJ0RFQlVHJykgJiYgIXRoaXMuc3RhdGUucHJvZmlsaW5nKSB7XG4gICAgICAgICAgICBvdXRwdXRzID0ga2VybmVsRnVuYygpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBrZXJuZWxQcm9maWxlID0gdGhpcy5wcm9maWxlci5wcm9maWxlS2VybmVsKFxuICAgICAgICAgICAgICAgIGtlcm5lbE5hbWUsIGlucHV0cywgKCkgPT4ga2VybmVsRnVuYygpKTtcbiAgICAgICAgICAgIGlmICh0aGlzLkVOVi5nZXRCb29sKCdERUJVRycpKSB7XG4gICAgICAgICAgICAgIHRoaXMucHJvZmlsZXIubG9nS2VybmVsUHJvZmlsZShrZXJuZWxQcm9maWxlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG91dHB1dHMgPSBrZXJuZWxQcm9maWxlLm91dHB1dHM7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgIGlmIChpc1RhcGVPbikge1xuICAgICAgdGhpcy5hZGRUYXBlTm9kZShcbiAgICAgICAgICBrZXJuZWxOYW1lLCBpbnB1dHMsIG91dHB1dHMsIGJhY2t3YXJkc0Z1bmMsIHNhdmVkLCBhdHRycyk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuc3RhdGUucHJvZmlsaW5nKSB7XG4gICAgICB0aGlzLnN0YXRlLmFjdGl2ZVByb2ZpbGUua2VybmVscy5wdXNoKHtcbiAgICAgICAgbmFtZToga2VybmVsTmFtZSxcbiAgICAgICAgYnl0ZXNBZGRlZDogdGhpcy5zdGF0ZS5udW1CeXRlcyAtIHN0YXJ0aW5nQnl0ZWNvdW50LFxuICAgICAgICB0b3RhbEJ5dGVzU25hcHNob3Q6IHRoaXMuc3RhdGUubnVtQnl0ZXMsXG4gICAgICAgIHRlbnNvcnNBZGRlZDogdGhpcy5zdGF0ZS5udW1UZW5zb3JzIC0gc3RhcnRpbmdOdW1UZW5zb3JzLFxuICAgICAgICB0b3RhbFRlbnNvcnNTbmFwc2hvdDogdGhpcy5zdGF0ZS5udW1UZW5zb3JzLFxuICAgICAgICBpbnB1dFNoYXBlczogT2JqZWN0LmtleXMoaW5wdXRzKS5tYXAoXG4gICAgICAgICAgICBrZXkgPT4gaW5wdXRzW2tleV0gIT0gbnVsbCA/IGlucHV0c1trZXldLnNoYXBlIDogbnVsbCksXG4gICAgICAgIG91dHB1dFNoYXBlczogb3V0cHV0cy5tYXAoaXRlbSA9PiBpdGVtLnNoYXBlKSxcbiAgICAgICAga2VybmVsVGltZU1zOiBrZXJuZWxQcm9maWxlLnRpbWVNcyxcbiAgICAgICAgZXh0cmFJbmZvOiBrZXJuZWxQcm9maWxlLmV4dHJhSW5mb1xuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiAoQXJyYXkuaXNBcnJheShvdXQpID8gb3V0cHV0cyA6IG91dHB1dHNbMF0pIGFzIFQ7XG4gIH1cblxuICAvKipcbiAgICogU2F2ZXMgdGVuc29ycyB1c2VkIGluIGZvcndhcmQgbW9kZSBmb3IgdXNlIGluIGJhY2t3YXJkIG1vZGUuXG4gICAqXG4gICAqIEBwYXJhbSB0ZW5zb3JzIHRoZSBsaXN0IG9mIHRlbnNvcnMgdG8gc2F2ZS5cbiAgICovXG4gIHByaXZhdGUgc2F2ZVRlbnNvcnNGb3JCYWNrd2FyZE1vZGUodGVuc29yczogVGVuc29yW10pOiBUZW5zb3JbXSB7XG4gICAgY29uc3Qgc2F2ZWQgPSB0ZW5zb3JzLm1hcCh0ZW5zb3IgPT4gdGhpcy5rZWVwKHRoaXMuY2xvbmUodGVuc29yKSkpO1xuICAgIHJldHVybiBzYXZlZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgbGlzdCBvZiB0ZW5zb3JzIHRvIHNhdmUgZm9yIGEgZ2l2ZW4gZ3JhZGllbnQgY2FsY3VsYXRpb24uXG4gICAqXG4gICAqIFJldHVybnMgdW5kZWZpbmVkIGlmIHRoZWlyIGlzIG5vIHJlZ2lzdGVyZWQgZ3JhZGllbnQgZm9yIHRoaXMga2VybmVsIGluIHRoZVxuICAgKiBncmFkaWVudCByZWdpc3RyeS5cbiAgICpcbiAgICogQHBhcmFtIGtlcm5lbE5hbWUgbmFtZSBvZiBrZXJuZWwgdG8gbG9vayB1cCBncmFkaWVudCBmb3IuXG4gICAqIEBwYXJhbSBpbnB1dHMgYSBtYXAgb2YgaW5wdXQgdGVuc29ycy5cbiAgICogQHBhcmFtIG91dHB1dHMgYW4gYXJyYXkgb2Ygb3V0cHV0IHRlbnNvcnMgZnJvbSBmb3J3YXJkIG1vZGUgb2Yga2VybmVsLlxuICAgKi9cbiAgcHJpdmF0ZSBnZXRUZW5zb3JzRm9yR3JhZGllbnQoXG4gICAgICBrZXJuZWxOYW1lOiBzdHJpbmcsIGlucHV0czogTmFtZWRUZW5zb3JNYXAsXG4gICAgICBvdXRwdXRzOiBUZW5zb3JbXSk6IFRlbnNvcltdfG51bGwge1xuICAgIGNvbnN0IGdyYWRDb25maWcgPSBnZXRHcmFkaWVudChrZXJuZWxOYW1lKTtcbiAgICBpZiAoZ3JhZENvbmZpZyAhPSBudWxsKSB7XG4gICAgICBjb25zdCBpbnB1dHNUb1NhdmU6IHN0cmluZ1tdID0gZ3JhZENvbmZpZy5pbnB1dHNUb1NhdmUgfHwgW107XG4gICAgICBjb25zdCBvdXRwdXRzVG9TYXZlOiBib29sZWFuW10gPSBncmFkQ29uZmlnLm91dHB1dHNUb1NhdmUgfHwgW107XG5cbiAgICAgIC8vIElmIHNhdmVBbGxJbnB1dHMgaXMgdHJ1ZSwgYWxsIGlucHV0cyB3aWxsIGJlIHNhdmVkLiBPdGhlcndpc2UsIGlucHV0c1xuICAgICAgLy8gc3BlY2lmaWVkIGluIGlucHV0c1RvU2F2ZSB3aWxsIGJlIHNhdmVkLlxuICAgICAgbGV0IGlucHV0VGVuc29yc1RvU2F2ZTogVGVuc29yW107XG4gICAgICBpZiAoZ3JhZENvbmZpZy5zYXZlQWxsSW5wdXRzKSB7XG4gICAgICAgIHV0aWwuYXNzZXJ0KFxuICAgICAgICAgICAgQXJyYXkuaXNBcnJheShpbnB1dHMpLFxuICAgICAgICAgICAgKCkgPT4gJ3NhdmVBbGxJbnB1dHMgaXMgdHJ1ZSwgZXhwZWN0ZWQgaW5wdXRzIHRvIGJlIGFuIGFycmF5LicpO1xuXG4gICAgICAgIGlucHV0VGVuc29yc1RvU2F2ZSA9IE9iamVjdC5rZXlzKGlucHV0cykubWFwKChrZXkpID0+IGlucHV0c1trZXldKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlucHV0VGVuc29yc1RvU2F2ZSA9IGlucHV0c1RvU2F2ZS5tYXAoKGlucHV0TmFtZSkgPT4gaW5wdXRzW2lucHV0TmFtZV0pO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBvdXRwdXRUZW5zb3JzVG9TYXZlOiBUZW5zb3JbXSA9XG4gICAgICAgICAgb3V0cHV0cy5maWx0ZXIoKF8sIGkpID0+IG91dHB1dHNUb1NhdmVbaV0pO1xuXG4gICAgICByZXR1cm4gaW5wdXRUZW5zb3JzVG9TYXZlLmNvbmNhdChvdXRwdXRUZW5zb3JzVG9TYXZlKTtcbiAgICB9XG4gICAgLy8gVE9ETyh5YXNzb2diYSkgdGhyb3cgZXhjZXB0aW9uIGhlcmUgb25jZSBhbGwgcnVua2VybmVsRnVuYyBjYWxscyB3aXRoXG4gICAgLy8gaW5wdXRzVG9TYXZlL291dHB1dHNUb1NhdmUgYXJlIHJlbW92ZWRcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbnRlcm5hbCBtZXRob2QgdXNlZCBieSBwdWJsaWMgQVBJcyBmb3IgdGVuc29yIGNyZWF0aW9uLiBNYWtlcyBhIG5ld1xuICAgKiB0ZW5zb3Igd2l0aCB0aGUgcHJvdmlkZWQgc2hhcGUsIGR0eXBlIGFuZCB2YWx1ZXMuIEl0IGFsd2F5c1xuICAgKiBjcmVhdGVzIGEgbmV3IGRhdGEgaWQgYW5kIHdyaXRlcyB0aGUgdmFsdWVzIHRvIHRoZSB1bmRlcmx5aW5nIGJhY2tlbmQuXG4gICAqL1xuICBtYWtlVGVuc29yKFxuICAgICAgdmFsdWVzOiBEYXRhVmFsdWVzLCBzaGFwZTogbnVtYmVyW10sIGR0eXBlOiBEYXRhVHlwZSxcbiAgICAgIGJhY2tlbmQ/OiBLZXJuZWxCYWNrZW5kKTogVGVuc29yIHtcbiAgICBpZiAodmFsdWVzID09IG51bGwpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignVmFsdWVzIHBhc3NlZCB0byBlbmdpbmUubWFrZVRlbnNvcigpIGFyZSBudWxsJyk7XG4gICAgfVxuICAgIGR0eXBlID0gZHR5cGUgfHwgJ2Zsb2F0MzInO1xuICAgIGJhY2tlbmQgPSBiYWNrZW5kIHx8IHRoaXMuYmFja2VuZDtcbiAgICBsZXQgYmFja2VuZFZhbHMgPSB2YWx1ZXMgYXMgQmFja2VuZFZhbHVlcztcbiAgICBpZiAoZHR5cGUgPT09ICdzdHJpbmcnICYmIHV0aWwuaXNTdHJpbmcodmFsdWVzWzBdKSkge1xuICAgICAgYmFja2VuZFZhbHMgPSAodmFsdWVzIGFzIHN0cmluZ1tdKS5tYXAoZCA9PiB1dGlsLmVuY29kZVN0cmluZyhkKSk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGFJZCA9IGJhY2tlbmQud3JpdGUoYmFja2VuZFZhbHMsIHNoYXBlLCBkdHlwZSk7XG4gICAgY29uc3QgdCA9IG5ldyBUZW5zb3Ioc2hhcGUsIGR0eXBlLCBkYXRhSWQsIHRoaXMubmV4dFRlbnNvcklkKCkpO1xuICAgIHRoaXMuaW5jUmVmKHQsIGJhY2tlbmQpO1xuXG4gICAgLy8gQ291bnQgYnl0ZXMgZm9yIHN0cmluZyB0ZW5zb3JzLlxuICAgIGlmIChkdHlwZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGNvbnN0IGluZm8gPSB0aGlzLnN0YXRlLnRlbnNvckluZm8uZ2V0KGRhdGFJZCk7XG4gICAgICBjb25zdCBuZXdCeXRlcyA9IGJ5dGVzRnJvbVN0cmluZ0FycmF5KGJhY2tlbmRWYWxzIGFzIFVpbnQ4QXJyYXlbXSk7XG4gICAgICB0aGlzLnN0YXRlLm51bUJ5dGVzICs9IG5ld0J5dGVzIC0gaW5mby5ieXRlcztcbiAgICAgIGluZm8uYnl0ZXMgPSBuZXdCeXRlcztcbiAgICB9XG4gICAgcmV0dXJuIHQ7XG4gIH1cblxuICAvKipcbiAgICogSW50ZXJuYWwgbWV0aG9kIHVzZWQgYnkgYmFja2VuZHMuIE1ha2VzIGEgbmV3IHRlbnNvclxuICAgKiB0aGF0IGlzIGEgd3JhcHBlciBhcm91bmQgYW4gZXhpc3RpbmcgZGF0YSBpZC4gSXQgZG9lc24ndCBjcmVhdGVcbiAgICogYSBuZXcgZGF0YSBpZCwgb25seSBpbmNyZW1lbnRzIHRoZSByZWYgY291bnQgdXNlZCBpbiBtZW1vcnkgdHJhY2tpbmcuXG4gICAqL1xuICBtYWtlVGVuc29yRnJvbURhdGFJZChcbiAgICAgIGRhdGFJZDogRGF0YUlkLCBzaGFwZTogbnVtYmVyW10sIGR0eXBlOiBEYXRhVHlwZSxcbiAgICAgIGJhY2tlbmQ/OiBLZXJuZWxCYWNrZW5kKTogVGVuc29yIHtcbiAgICBkdHlwZSA9IGR0eXBlIHx8ICdmbG9hdDMyJztcbiAgICBjb25zdCB0ID0gbmV3IFRlbnNvcihzaGFwZSwgZHR5cGUsIGRhdGFJZCwgdGhpcy5uZXh0VGVuc29ySWQoKSk7XG4gICAgdGhpcy5pbmNSZWYodCwgYmFja2VuZCk7XG4gICAgcmV0dXJuIHQ7XG4gIH1cblxuICBtYWtlVmFyaWFibGUoXG4gICAgICBpbml0aWFsVmFsdWU6IFRlbnNvciwgdHJhaW5hYmxlID0gdHJ1ZSwgbmFtZT86IHN0cmluZyxcbiAgICAgIGR0eXBlPzogRGF0YVR5cGUpOiBWYXJpYWJsZSB7XG4gICAgbmFtZSA9IG5hbWUgfHwgdGhpcy5uZXh0VmFyaWFibGVJZCgpLnRvU3RyaW5nKCk7XG4gICAgaWYgKGR0eXBlICE9IG51bGwgJiYgZHR5cGUgIT09IGluaXRpYWxWYWx1ZS5kdHlwZSkge1xuICAgICAgaW5pdGlhbFZhbHVlID0gaW5pdGlhbFZhbHVlLmNhc3QoZHR5cGUpO1xuICAgIH1cbiAgICBjb25zdCB2ID0gbmV3IFZhcmlhYmxlKGluaXRpYWxWYWx1ZSwgdHJhaW5hYmxlLCBuYW1lLCB0aGlzLm5leHRUZW5zb3JJZCgpKTtcbiAgICBpZiAodGhpcy5zdGF0ZS5yZWdpc3RlcmVkVmFyaWFibGVzW3YubmFtZV0gIT0gbnVsbCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBWYXJpYWJsZSB3aXRoIG5hbWUgJHt2Lm5hbWV9IHdhcyBhbHJlYWR5IHJlZ2lzdGVyZWRgKTtcbiAgICB9XG4gICAgdGhpcy5zdGF0ZS5yZWdpc3RlcmVkVmFyaWFibGVzW3YubmFtZV0gPSB2O1xuICAgIHRoaXMuaW5jUmVmKHYsIHRoaXMuYmFja2VuZCk7XG4gICAgcmV0dXJuIHY7XG4gIH1cblxuICBpbmNSZWYoYTogVGVuc29yLCBiYWNrZW5kOiBLZXJuZWxCYWNrZW5kKTogdm9pZCB7XG4gICAgY29uc3QgcmVmQ291bnQgPSB0aGlzLnN0YXRlLnRlbnNvckluZm8uaGFzKGEuZGF0YUlkKSA/XG4gICAgICAgIHRoaXMuc3RhdGUudGVuc29ySW5mby5nZXQoYS5kYXRhSWQpLnJlZkNvdW50IDpcbiAgICAgICAgMDtcbiAgICB0aGlzLnN0YXRlLm51bVRlbnNvcnMrKztcbiAgICBpZiAoYS5kdHlwZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHRoaXMuc3RhdGUubnVtU3RyaW5nVGVuc29ycysrO1xuICAgIH1cbiAgICBpZiAocmVmQ291bnQgPT09IDApIHtcbiAgICAgIHRoaXMuc3RhdGUubnVtRGF0YUJ1ZmZlcnMrKztcblxuICAgICAgLy8gQnl0ZXMgZm9yIGNvbXBsZXggbnVtYmVycyBhcmUgY291bnRlZCBieSB0aGVpciBjb21wb25lbnRzLiBCeXRlcyBmb3JcbiAgICAgIC8vIHN0cmluZyB0ZW5zb3JzIGFyZSBjb3VudGVkIHdoZW4gd3JpdGluZyB2YWx1ZXMuXG4gICAgICBsZXQgYnl0ZXMgPSAwO1xuICAgICAgaWYgKGEuZHR5cGUgIT09ICdjb21wbGV4NjQnICYmIGEuZHR5cGUgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGJ5dGVzID0gYS5zaXplICogdXRpbC5ieXRlc1BlckVsZW1lbnQoYS5kdHlwZSk7XG4gICAgICB9XG4gICAgICB0aGlzLnN0YXRlLnRlbnNvckluZm8uc2V0KGEuZGF0YUlkLCB7XG4gICAgICAgIGJhY2tlbmQ6IGJhY2tlbmQgfHwgdGhpcy5iYWNrZW5kLFxuICAgICAgICBkdHlwZTogYS5kdHlwZSxcbiAgICAgICAgc2hhcGU6IGEuc2hhcGUsXG4gICAgICAgIGJ5dGVzLFxuICAgICAgICByZWZDb3VudDogMFxuICAgICAgfSk7XG4gICAgICB0aGlzLnN0YXRlLm51bUJ5dGVzICs9IGJ5dGVzO1xuICAgIH1cblxuICAgIHRoaXMuc3RhdGUudGVuc29ySW5mby5nZXQoYS5kYXRhSWQpLnJlZkNvdW50Kys7XG5cbiAgICBpZiAoIShhIGluc3RhbmNlb2YgVmFyaWFibGUpKSB7XG4gICAgICB0aGlzLnRyYWNrKGEpO1xuICAgIH1cbiAgfVxuXG4gIGRpc3Bvc2VUZW5zb3IoYTogVGVuc29yKTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLnN0YXRlLnRlbnNvckluZm8uaGFzKGEuZGF0YUlkKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuc3RhdGUubnVtVGVuc29ycy0tO1xuICAgIGlmIChhLmR0eXBlID09PSAnc3RyaW5nJykge1xuICAgICAgdGhpcy5zdGF0ZS5udW1TdHJpbmdUZW5zb3JzLS07XG4gICAgfVxuICAgIGNvbnN0IGluZm8gPSB0aGlzLnN0YXRlLnRlbnNvckluZm8uZ2V0KGEuZGF0YUlkKTtcbiAgICBjb25zdCByZWZDb3VudCA9IGluZm8ucmVmQ291bnQ7XG5cbiAgICBpZiAocmVmQ291bnQgPD0gMSkge1xuICAgICAgLy8gRG9uJ3QgY291bnQgYnl0ZXMgZm9yIGNvbXBsZXggbnVtYmVycyBhcyB0aGV5IGFyZSBjb3VudGVkIGJ5IHRoZWlyXG4gICAgICAvLyBjb21wb25lbnRzLlxuICAgICAgaWYgKGEuZHR5cGUgIT09ICdjb21wbGV4NjQnKSB7XG4gICAgICAgIHRoaXMuc3RhdGUubnVtQnl0ZXMgLT0gaW5mby5ieXRlcztcbiAgICAgIH1cbiAgICAgIHRoaXMuc3RhdGUubnVtRGF0YUJ1ZmZlcnMtLTtcblxuICAgICAgaW5mby5iYWNrZW5kLmRpc3Bvc2VEYXRhKGEuZGF0YUlkKTtcbiAgICAgIHRoaXMuc3RhdGUudGVuc29ySW5mby5kZWxldGUoYS5kYXRhSWQpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnN0YXRlLnRlbnNvckluZm8uZ2V0KGEuZGF0YUlkKS5yZWZDb3VudC0tO1xuICAgIH1cbiAgICAvLyBUT0RPKG5zdGhvcmF0KTogQ29uc3RydWN0IGFuIGVycm9yIGFuZCBzYXZlIHRoZSBzdGFjayB0cmFjZSBmb3JcbiAgICAvLyBkZWJ1Z2dpbmcgd2hlbiBpbiBkZWJ1ZyBtb2RlLiBDcmVhdGluZyBhIHN0YWNrIHRyYWNlIGlzIHRvbyBleHBlbnNpdmVcbiAgICAvLyB0byBkbyB1bmNvbmRpdGlvbmFsbHkuXG4gIH1cblxuICBkaXNwb3NlVmFyaWFibGVzKCk6IHZvaWQge1xuICAgIGZvciAoY29uc3QgdmFyTmFtZSBpbiB0aGlzLnN0YXRlLnJlZ2lzdGVyZWRWYXJpYWJsZXMpIHtcbiAgICAgIGNvbnN0IHYgPSB0aGlzLnN0YXRlLnJlZ2lzdGVyZWRWYXJpYWJsZXNbdmFyTmFtZV07XG4gICAgICB0aGlzLmRpc3Bvc2VWYXJpYWJsZSh2KTtcbiAgICB9XG4gIH1cblxuICBkaXNwb3NlVmFyaWFibGUodjogVmFyaWFibGUpOiB2b2lkIHtcbiAgICB0aGlzLmRpc3Bvc2VUZW5zb3Iodik7XG4gICAgaWYgKHRoaXMuc3RhdGUucmVnaXN0ZXJlZFZhcmlhYmxlc1t2Lm5hbWVdICE9IG51bGwpIHtcbiAgICAgIGRlbGV0ZSB0aGlzLnN0YXRlLnJlZ2lzdGVyZWRWYXJpYWJsZXNbdi5uYW1lXTtcbiAgICB9XG4gIH1cblxuICBtZW1vcnkoKTogTWVtb3J5SW5mbyB7XG4gICAgY29uc3QgaW5mbyA9IHRoaXMuYmFja2VuZC5tZW1vcnkoKSBhcyBNZW1vcnlJbmZvO1xuICAgIGluZm8ubnVtVGVuc29ycyA9IHRoaXMuc3RhdGUubnVtVGVuc29ycztcbiAgICBpbmZvLm51bURhdGFCdWZmZXJzID0gdGhpcy5zdGF0ZS5udW1EYXRhQnVmZmVycztcbiAgICBpbmZvLm51bUJ5dGVzID0gdGhpcy5zdGF0ZS5udW1CeXRlcztcbiAgICBpZiAodGhpcy5zdGF0ZS5udW1TdHJpbmdUZW5zb3JzID4gMCkge1xuICAgICAgaW5mby51bnJlbGlhYmxlID0gdHJ1ZTtcbiAgICAgIGlmIChpbmZvLnJlYXNvbnMgPT0gbnVsbCkge1xuICAgICAgICBpbmZvLnJlYXNvbnMgPSBbXTtcbiAgICAgIH1cbiAgICAgIGluZm8ucmVhc29ucy5wdXNoKFxuICAgICAgICAgICdNZW1vcnkgdXNhZ2UgYnkgc3RyaW5nIHRlbnNvcnMgaXMgYXBwcm94aW1hdGUgJyArXG4gICAgICAgICAgJygyIGJ5dGVzIHBlciBjaGFyYWN0ZXIpJyk7XG4gICAgfVxuICAgIHJldHVybiBpbmZvO1xuICB9XG5cbiAgYXN5bmMgcHJvZmlsZShxdWVyeTogKCkgPT4gKFRlbnNvckNvbnRhaW5lciB8IFByb21pc2U8VGVuc29yQ29udGFpbmVyPikpOlxuICAgICAgUHJvbWlzZTxQcm9maWxlSW5mbz4ge1xuICAgIHRoaXMuc3RhdGUucHJvZmlsaW5nID0gdHJ1ZTtcblxuICAgIGNvbnN0IHN0YXJ0Qnl0ZXMgPSB0aGlzLnN0YXRlLm51bUJ5dGVzO1xuICAgIGNvbnN0IHN0YXJ0TnVtVGVuc29ycyA9IHRoaXMuc3RhdGUubnVtVGVuc29ycztcblxuICAgIHRoaXMuc3RhdGUuYWN0aXZlUHJvZmlsZS5rZXJuZWxzID0gW107XG4gICAgdGhpcy5zdGF0ZS5hY3RpdmVQcm9maWxlLnJlc3VsdCA9IGF3YWl0IHF1ZXJ5KCk7XG5cbiAgICB0aGlzLnN0YXRlLnByb2ZpbGluZyA9IGZhbHNlO1xuXG4gICAgdGhpcy5zdGF0ZS5hY3RpdmVQcm9maWxlLnBlYWtCeXRlcyA9IE1hdGgubWF4KFxuICAgICAgICAuLi50aGlzLnN0YXRlLmFjdGl2ZVByb2ZpbGUua2VybmVscy5tYXAoZCA9PiBkLnRvdGFsQnl0ZXNTbmFwc2hvdCkpO1xuICAgIHRoaXMuc3RhdGUuYWN0aXZlUHJvZmlsZS5uZXdCeXRlcyA9IHRoaXMuc3RhdGUubnVtQnl0ZXMgLSBzdGFydEJ5dGVzO1xuICAgIHRoaXMuc3RhdGUuYWN0aXZlUHJvZmlsZS5uZXdUZW5zb3JzID1cbiAgICAgICAgdGhpcy5zdGF0ZS5udW1UZW5zb3JzIC0gc3RhcnROdW1UZW5zb3JzO1xuICAgIGZvciAoY29uc3Qga2VybmVsIG9mIHRoaXMuc3RhdGUuYWN0aXZlUHJvZmlsZS5rZXJuZWxzKSB7XG4gICAgICBrZXJuZWwua2VybmVsVGltZU1zID0gYXdhaXQga2VybmVsLmtlcm5lbFRpbWVNcztcbiAgICAgIGtlcm5lbC5leHRyYUluZm8gPSBhd2FpdCBrZXJuZWwuZXh0cmFJbmZvO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zdGF0ZS5hY3RpdmVQcm9maWxlO1xuICB9XG5cbiAgaXNUYXBlT24oKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuc3RhdGUuZ3JhZGllbnREZXB0aCA+IDAgJiYgdGhpcy5zdGF0ZS5rZXJuZWxEZXB0aCA9PT0gMDtcbiAgfVxuXG4gIHByaXZhdGUgYWRkVGFwZU5vZGUoXG4gICAgICBrZXJuZWxOYW1lOiBzdHJpbmcsIGlucHV0czogTmFtZWRUZW5zb3JNYXAsIG91dHB1dHM6IFRlbnNvcltdLFxuICAgICAgZ3JhZGllbnRzRnVuYzogR3JhZEZ1bmMsIHNhdmVkOiBUZW5zb3JbXSwgYXR0cnM6IE5hbWVkQXR0ck1hcCk6IHZvaWQge1xuICAgIGNvbnN0IHRhcGVOb2RlOiBUYXBlTm9kZSA9XG4gICAgICAgIHtpZDogdGhpcy5zdGF0ZS5uZXh0VGFwZU5vZGVJZCsrLCBrZXJuZWxOYW1lLCBpbnB1dHMsIG91dHB1dHMsIHNhdmVkfTtcblxuICAgIGNvbnN0IGdyYWRDb25maWcgPSBnZXRHcmFkaWVudChrZXJuZWxOYW1lKTtcbiAgICBpZiAoZ3JhZENvbmZpZyAhPSBudWxsKSB7XG4gICAgICBncmFkaWVudHNGdW5jID0gZ3JhZENvbmZpZy5ncmFkRnVuYztcbiAgICB9XG4gICAgaWYgKGdyYWRpZW50c0Z1bmMgIT0gbnVsbCkge1xuICAgICAgdGFwZU5vZGUuZ3JhZGllbnQgPSAoZHlzOiBUZW5zb3JbXSkgPT4ge1xuICAgICAgICAvLyBUT0RPKHNtaWxrb3YpOiBUbyBvcHRpbWl6ZSBiYWNrLXByb3AsIHBhc3MgZHlzIHRoYXQgYXJlIG5vdCB1c2VkIGluXG4gICAgICAgIC8vIHRoZSBiYWNrcHJvcCBncmFwaCB0byB0aGUgdXNlciBhcyBudWxsIGluc3RlYWQgb2YgemVyb3NcbiAgICAgICAgZHlzID0gZHlzLm1hcCgoZHksIGkpID0+IHtcbiAgICAgICAgICBpZiAoZHkgPT0gbnVsbCkge1xuICAgICAgICAgICAgY29uc3Qgb3V0cHV0ID0gb3V0cHV0c1tpXTtcbiAgICAgICAgICAgIGNvbnN0IHZhbHMgPSB1dGlsLm1ha2VaZXJvc1R5cGVkQXJyYXkob3V0cHV0LnNpemUsIG91dHB1dC5kdHlwZSk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5tYWtlVGVuc29yKHZhbHMsIG91dHB1dC5zaGFwZSwgb3V0cHV0LmR0eXBlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGR5O1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gR3JhZCBmdW5jdGlvbnMgb2Ygb3BzIHdpdGggc2luZ2xlIG91dHB1dHMgZXhwZWN0IGEgZHksIHdoaWxlIG9wc1xuICAgICAgICAvLyB3aXRoIG11bHRpcGxlIG91dHB1dHMgZXhwZWN0IGR5cyAoYXJyYXkgb2YgZHkpLlxuICAgICAgICByZXR1cm4gZ3JhZGllbnRzRnVuYyhkeXMubGVuZ3RoID4gMSA/IGR5cyA6IGR5c1swXSwgc2F2ZWQsIGF0dHJzKTtcbiAgICAgIH07XG4gICAgfVxuICAgIHRoaXMuc3RhdGUuYWN0aXZlVGFwZS5wdXNoKHRhcGVOb2RlKTtcbiAgfVxuXG4gIGtlZXA8VCBleHRlbmRzIFRlbnNvcj4ocmVzdWx0OiBUKTogVCB7XG4gICAgcmVzdWx0LmtlcHQgPSB0cnVlO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBwcml2YXRlIHN0YXJ0VGFwZSgpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5ncmFkaWVudERlcHRoID09PSAwKSB7XG4gICAgICB0aGlzLnN0YXRlLmFjdGl2ZVRhcGUgPSBbXTtcbiAgICB9XG4gICAgdGhpcy5zdGF0ZS5ncmFkaWVudERlcHRoKys7XG4gIH1cblxuICBwcml2YXRlIGVuZFRhcGUoKSB7XG4gICAgdGhpcy5zdGF0ZS5ncmFkaWVudERlcHRoLS07XG4gIH1cblxuICAvKipcbiAgICogU3RhcnQgYSBzY29wZS4gVXNlIHRoaXMgd2l0aCBlbmRTY29wZSgpIHRvIGFjaGlldmUgdGhlIHNhbWUgZnVuY3Rpb25hbGl0eVxuICAgKiBhcyBzY29wZSgpIHdpdGhvdXQgdGhlIG5lZWQgZm9yIGEgZnVuY3Rpb24gY2xvc3VyZS5cbiAgICovXG4gIHN0YXJ0U2NvcGUobmFtZT86IHN0cmluZykge1xuICAgIGNvbnN0IHNjb3BlSW5mbzogU2NvcGVTdGF0ZSA9IHtcbiAgICAgIHRyYWNrOiBbXSxcbiAgICAgIG5hbWU6ICd1bm5hbWVkIHNjb3BlJyxcbiAgICAgIGlkOiB0aGlzLnN0YXRlLm5leHRTY29wZUlkKytcbiAgICB9O1xuICAgIGlmIChuYW1lKSB7XG4gICAgICBzY29wZUluZm8ubmFtZSA9IG5hbWU7XG4gICAgfVxuICAgIHRoaXMuc3RhdGUuc2NvcGVTdGFjay5wdXNoKHNjb3BlSW5mbyk7XG4gICAgdGhpcy5zdGF0ZS5hY3RpdmVTY29wZSA9IHNjb3BlSW5mbztcbiAgfVxuXG4gIC8qKlxuICAgKiBFbmQgYSBzY29wZS4gVXNlIHRoaXMgd2l0aCBzdGFydFNjb3BlKCkgdG8gYWNoaWV2ZSB0aGUgc2FtZSBmdW5jdGlvbmFsaXR5XG4gICAqIGFzIHNjb3BlKCkgd2l0aG91dCB0aGUgbmVlZCBmb3IgYSBmdW5jdGlvbiBjbG9zdXJlLlxuICAgKi9cbiAgZW5kU2NvcGUocmVzdWx0PzogVGVuc29yQ29udGFpbmVyKSB7XG4gICAgY29uc3QgdGVuc29yc1RvVHJhY2tJblBhcmVudCA9IGdldFRlbnNvcnNJbkNvbnRhaW5lcihyZXN1bHQpO1xuICAgIGNvbnN0IHRlbnNvcnNUb1RyYWNrSW5QYXJlbnRTZXQgPVxuICAgICAgICBuZXcgU2V0KHRlbnNvcnNUb1RyYWNrSW5QYXJlbnQubWFwKHQgPT4gdC5pZCkpO1xuXG4gICAgLy8gRGlzcG9zZSB0aGUgYXJyYXlzIHRyYWNrZWQgaW4gdGhpcyBzY29wZS5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuc3RhdGUuYWN0aXZlU2NvcGUudHJhY2subGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IHRlbnNvciA9IHRoaXMuc3RhdGUuYWN0aXZlU2NvcGUudHJhY2tbaV07XG4gICAgICBpZiAoIXRlbnNvci5rZXB0ICYmICF0ZW5zb3JzVG9UcmFja0luUGFyZW50U2V0Lmhhcyh0ZW5zb3IuaWQpKSB7XG4gICAgICAgIHRlbnNvci5kaXNwb3NlKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3Qgb2xkU2NvcGUgPSB0aGlzLnN0YXRlLnNjb3BlU3RhY2sucG9wKCk7XG4gICAgdGhpcy5zdGF0ZS5hY3RpdmVTY29wZSA9IHRoaXMuc3RhdGUuc2NvcGVTdGFjay5sZW5ndGggPT09IDAgP1xuICAgICAgICBudWxsIDpcbiAgICAgICAgdGhpcy5zdGF0ZS5zY29wZVN0YWNrW3RoaXMuc3RhdGUuc2NvcGVTdGFjay5sZW5ndGggLSAxXTtcblxuICAgIC8vIFRyYWNrIHRoZSBjdXJyZW50IHJlc3VsdCBpbiB0aGUgcGFyZW50IHNjb3BlLlxuICAgIHRlbnNvcnNUb1RyYWNrSW5QYXJlbnQuZm9yRWFjaCh0ZW5zb3IgPT4ge1xuICAgICAgLy8gT25seSB0cmFjayB0aGUgdGVuc29yIGlmIHdhcyBhbGxvY2F0ZWQgaW4gdGhlIGlubmVyIHNjb3BlIGFuZCBpcyBub3RcbiAgICAgIC8vIGdsb2JhbGx5IGtlcHQuXG4gICAgICBpZiAoIXRlbnNvci5rZXB0ICYmIHRlbnNvci5zY29wZUlkID09PSBvbGRTY29wZS5pZCkge1xuICAgICAgICB0aGlzLnRyYWNrKHRlbnNvcik7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBncmFkaWVudHMgb2YgYGZgIHdpdGggcmVzcGVjdCB0byBlYWNoIG9mIHRoZSBgeHNgLiBUaGUgZ3JhZGllbnRzXG4gICAqIHJldHVybmVkIGFyZSBvZiB0aGUgc2FtZSBsZW5ndGggYXMgYHhzYCwgYnV0IHNvbWUgbWlnaHQgYmUgbnVsbCBpZiBgZmBcbiAgICogd2FzIG5vdCBhIGZ1bmN0aW9uIG9mIHRoYXQgYHhgLiBJdCBhbHNvIHRha2VzIG9wdGlvbmFsIGR5IHRvIG11bHRpcGx5IHRoZVxuICAgKiBncmFkaWVudCwgd2hpY2ggZGVmYXVsdHMgdG8gYDFgLlxuICAgKi9cbiAgZ3JhZGllbnRzPFQgZXh0ZW5kcyBUZW5zb3I+KFxuICAgICAgZjogKCkgPT4gVCwgeHM6IFRlbnNvcltdLCBkeT86IFQsXG4gICAgICBhbGxvd05vR3JhZGllbnRzID0gZmFsc2UpOiB7dmFsdWU6IFQsIGdyYWRzOiBUZW5zb3JbXX0ge1xuICAgIHV0aWwuYXNzZXJ0KFxuICAgICAgICB4cy5sZW5ndGggPiAwLCAoKSA9PiAnZ3JhZGllbnRzKCkgcmVjZWl2ZWQgYW4gZW1wdHkgbGlzdCBvZiB4cy4nKTtcbiAgICBpZiAoZHkgIT0gbnVsbCAmJiBkeS5kdHlwZSAhPT0gJ2Zsb2F0MzInKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYGR5IG11c3QgaGF2ZSAnZmxvYXQzMicgZHR5cGUsIGJ1dCBoYXMgJyR7ZHkuZHR5cGV9J2ApO1xuICAgIH1cblxuICAgIGNvbnN0IHkgPSB0aGlzLnNjb3BlZFJ1bihcbiAgICAgICAgKCkgPT4gdGhpcy5zdGFydFRhcGUoKSwgKCkgPT4gdGhpcy5lbmRUYXBlKCksXG4gICAgICAgICgpID0+IHRoaXMudGlkeSgnZm9yd2FyZCcsIGYpKTtcblxuICAgIHV0aWwuYXNzZXJ0KFxuICAgICAgICB5IGluc3RhbmNlb2YgVGVuc29yLFxuICAgICAgICAoKSA9PiAnVGhlIHJlc3VsdCB5IHJldHVybmVkIGJ5IGYoKSBtdXN0IGJlIGEgdGVuc29yLicpO1xuICAgIC8vIEZpbHRlciBvdXQgdGhlIG5vZGVzIHRoYXQgZG9uJ3QgY29ubmVjdCB4ID0+IHkuXG4gICAgY29uc3QgZmlsdGVyZWRUYXBlID0gZ2V0RmlsdGVyZWROb2Rlc1hUb1kodGhpcy5zdGF0ZS5hY3RpdmVUYXBlLCB4cywgeSk7XG4gICAgaWYgKCFhbGxvd05vR3JhZGllbnRzICYmIGZpbHRlcmVkVGFwZS5sZW5ndGggPT09IDAgJiYgeHMubGVuZ3RoID4gMCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICdDYW5ub3QgY29tcHV0ZSBncmFkaWVudCBvZiB5PWYoeCkgd2l0aCByZXNwZWN0IHRvIHguIE1ha2Ugc3VyZSAnICtcbiAgICAgICAgICAndGhhdCB0aGUgZiB5b3UgcGFzc2VkIGVuY2xvc2VzIGFsbCBvcGVyYXRpb25zIHRoYXQgbGVhZCBmcm9tIHggJyArXG4gICAgICAgICAgJ3RvIHkuJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMudGlkeSgnYmFja3dhcmQnLCAoKSA9PiB7XG4gICAgICBjb25zdCBhY2N1bXVsYXRlZEdyYWRpZW50TWFwOiB7W3RlbnNvcklkOiBudW1iZXJdOiBUZW5zb3J9ID0ge307XG4gICAgICBhY2N1bXVsYXRlZEdyYWRpZW50TWFwW3kuaWRdID0gKGR5ID09IG51bGwpID8gb25lcyh5LnNoYXBlKSA6IGR5O1xuXG4gICAgICAvLyBCYWNrcHJvcCBncmFkaWVudHMgdGhyb3VnaCB0aGUgZmlsdGVyZWQgbm9kZXMuXG4gICAgICBiYWNrcHJvcGFnYXRlR3JhZGllbnRzKFxuICAgICAgICAgIGFjY3VtdWxhdGVkR3JhZGllbnRNYXAsIGZpbHRlcmVkVGFwZSxcbiAgICAgICAgICAvLyBQYXNzIHRoZSB0aWR5IGZ1bmN0aW9uIHRvIGF2b2lkIGNpcmN1bGFyIGRlcCB3aXRoIGB0YXBlLnRzYC5cbiAgICAgICAgICBmID0+IHRoaXMudGlkeShmIGFzIFNjb3BlRm48VGVuc29yPiksXG4gICAgICAgICAgLy8gUGFzcyBhbiBhZGQgZnVuY3Rpb24gdG8gYXZvaWRlIGEgY2lyY3VsYXIgZGVwIHdpdGggYHRhcGUudHNgLlxuICAgICAgICAgIGFkZCk7XG4gICAgICBjb25zdCBncmFkcyA9IHhzLm1hcCh4ID0+IGFjY3VtdWxhdGVkR3JhZGllbnRNYXBbeC5pZF0pO1xuXG4gICAgICBpZiAodGhpcy5zdGF0ZS5ncmFkaWVudERlcHRoID09PSAwKSB7XG4gICAgICAgIC8vIFRoaXMgbWVhbnMgdGhhdCB3ZSBhcmUgbm90IGNvbXB1dGluZyBoaWdoZXItb3JkZXIgZ3JhZGllbnRzXG4gICAgICAgIC8vIGFuZCBjYW4gY2xlYW4gdXAgdGhlIHRhcGUuXG4gICAgICAgIHRoaXMuc3RhdGUuYWN0aXZlVGFwZS5mb3JFYWNoKG5vZGUgPT4ge1xuICAgICAgICAgIGZvciAoY29uc3QgdGVuc29yIG9mIG5vZGUuc2F2ZWQpIHtcbiAgICAgICAgICAgIHRlbnNvci5kaXNwb3NlKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5zdGF0ZS5hY3RpdmVUYXBlID0gbnVsbDtcbiAgICAgIH1cbiAgICAgIHJldHVybiB7dmFsdWU6IHksIGdyYWRzfTtcbiAgICB9KTtcbiAgfVxuXG4gIGN1c3RvbUdyYWQ8VCBleHRlbmRzIFRlbnNvcj4oZjogQ3VzdG9tR3JhZGllbnRGdW5jPFQ+KTpcbiAgICAgICguLi5hcmdzOiBBcnJheTxUZW5zb3J8R3JhZFNhdmVGdW5jPikgPT4gVCB7XG4gICAgdXRpbC5hc3NlcnQoXG4gICAgICAgIHV0aWwuaXNGdW5jdGlvbihmKSxcbiAgICAgICAgKCkgPT4gJ1RoZSBmIHBhc3NlZCBpbiBjdXN0b21HcmFkKGYpIG11c3QgYmUgYSBmdW5jdGlvbi4nKTtcbiAgICByZXR1cm4gKC4uLmlucHV0czogVGVuc29yW10pOiBUID0+IHtcbiAgICAgIHV0aWwuYXNzZXJ0KFxuICAgICAgICAgIGlucHV0cy5ldmVyeSh0ID0+IHQgaW5zdGFuY2VvZiBUZW5zb3IpLFxuICAgICAgICAgICgpID0+ICdUaGUgYXJncyBwYXNzZWQgaW4gY3VzdG9tR3JhZChmKSh4MSwgeDIsLi4uKSBtdXN0IGFsbCBiZSAnICtcbiAgICAgICAgICAgICAgJ3RlbnNvcnMnKTtcblxuICAgICAgbGV0IHJlczoge1xuICAgICAgICB2YWx1ZTogVCxcbiAgICAgICAgZ3JhZEZ1bmM6IChkeTogVCwgc2F2ZWQ6IFRlbnNvcltdKSA9PiBUZW5zb3IgfCBUZW5zb3JbXSxcbiAgICAgIH07XG4gICAgICBjb25zdCBpbnB1dE1hcDogTmFtZWRUZW5zb3JNYXAgPSB7fTtcbiAgICAgIGlucHV0cy5mb3JFYWNoKChpbnB1dCwgaSkgPT4ge1xuICAgICAgICBpbnB1dE1hcFtpXSA9IGlucHV0O1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gdGhpcy5ydW5LZXJuZWxGdW5jKFxuICAgICAgICAgIChfLCBzYXZlKSA9PiB7XG4gICAgICAgICAgICByZXMgPSBmKC4uLlsuLi5pbnB1dHMsIHNhdmVdKTtcbiAgICAgICAgICAgIHV0aWwuYXNzZXJ0KFxuICAgICAgICAgICAgICAgIHJlcy52YWx1ZSBpbnN0YW5jZW9mIFRlbnNvcixcbiAgICAgICAgICAgICAgICAoKSA9PiAnVGhlIGZ1bmN0aW9uIGYgcGFzc2VkIGluIGN1c3RvbUdyYWQoZikgbXVzdCByZXR1cm4gYW4gJyArXG4gICAgICAgICAgICAgICAgICAgICdvYmplY3Qgd2hlcmUgYG9iai52YWx1ZWAgaXMgYSB0ZW5zb3InKTtcbiAgICAgICAgICAgIHV0aWwuYXNzZXJ0KFxuICAgICAgICAgICAgICAgIHV0aWwuaXNGdW5jdGlvbihyZXMuZ3JhZEZ1bmMpLFxuICAgICAgICAgICAgICAgICgpID0+ICdUaGUgZnVuY3Rpb24gZiBwYXNzZWQgaW4gY3VzdG9tR3JhZChmKSBtdXN0IHJldHVybiBhbiAnICtcbiAgICAgICAgICAgICAgICAgICAgJ29iamVjdCB3aGVyZSBgb2JqLmdyYWRGdW5jYCBpcyBhIGZ1bmN0aW9uLicpO1xuICAgICAgICAgICAgcmV0dXJuIHJlcy52YWx1ZTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGlucHV0TWFwLFxuICAgICAgICAgIChkeTogVCwgc2F2ZWQ6IFRlbnNvcltdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBncmFkUmVzID0gcmVzLmdyYWRGdW5jKGR5LCBzYXZlZCk7XG4gICAgICAgICAgICBjb25zdCBncmFkczogVGVuc29yW10gPVxuICAgICAgICAgICAgICAgIEFycmF5LmlzQXJyYXkoZ3JhZFJlcykgPyBncmFkUmVzIDogW2dyYWRSZXNdO1xuICAgICAgICAgICAgdXRpbC5hc3NlcnQoXG4gICAgICAgICAgICAgICAgZ3JhZHMubGVuZ3RoID09PSBpbnB1dHMubGVuZ3RoLFxuICAgICAgICAgICAgICAgICgpID0+ICdUaGUgZnVuY3Rpb24gZiBwYXNzZWQgaW4gY3VzdG9tR3JhZChmKSBtdXN0IHJldHVybiBhbiAnICtcbiAgICAgICAgICAgICAgICAgICAgJ29iamVjdCB3aGVyZSBgb2JqLmdyYWRGdW5jYCBpcyBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyAnICtcbiAgICAgICAgICAgICAgICAgICAgJ3RoZSBzYW1lIG51bWJlciBvZiB0ZW5zb3JzIGFzIGlucHV0cyBwYXNzZWQgdG8gZiguLi4pLicpO1xuICAgICAgICAgICAgdXRpbC5hc3NlcnQoXG4gICAgICAgICAgICAgICAgZ3JhZHMuZXZlcnkodCA9PiB0IGluc3RhbmNlb2YgVGVuc29yKSxcbiAgICAgICAgICAgICAgICAoKSA9PiAnVGhlIGZ1bmN0aW9uIGYgcGFzc2VkIGluIGN1c3RvbUdyYWQoZikgbXVzdCByZXR1cm4gYW4gJyArXG4gICAgICAgICAgICAgICAgICAgICdvYmplY3Qgd2hlcmUgYG9iai5ncmFkRnVuY2AgaXMgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgJyArXG4gICAgICAgICAgICAgICAgICAgICdhIGxpc3Qgb2Ygb25seSB0ZW5zb3JzLicpO1xuICAgICAgICAgICAgY29uc3QgZ3JhZE1hcDoge1trZXk6IHN0cmluZ106ICgpID0+IFRlbnNvcn0gPSB7fTtcbiAgICAgICAgICAgIGdyYWRzLmZvckVhY2goKGdyYWQsIGkpID0+IHtcbiAgICAgICAgICAgICAgZ3JhZE1hcFtpXSA9ICgpID0+IGdyYWQ7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBncmFkTWFwO1xuICAgICAgICAgIH0pO1xuICAgIH07XG4gIH1cblxuICByZWFkU3luYyhkYXRhSWQ6IERhdGFJZCk6IEJhY2tlbmRWYWx1ZXMge1xuICAgIC8vIFJvdXRlIHRoZSByZWFkIHRvIHRoZSBjb3JyZWN0IGJhY2tlbmQuXG4gICAgY29uc3QgaW5mbyA9IHRoaXMuc3RhdGUudGVuc29ySW5mby5nZXQoZGF0YUlkKTtcbiAgICByZXR1cm4gaW5mby5iYWNrZW5kLnJlYWRTeW5jKGRhdGFJZCk7XG4gIH1cbiAgcmVhZChkYXRhSWQ6IERhdGFJZCk6IFByb21pc2U8QmFja2VuZFZhbHVlcz4ge1xuICAgIC8vIFJvdXRlIHRoZSByZWFkIHRvIHRoZSBjb3JyZWN0IGJhY2tlbmQuXG4gICAgY29uc3QgaW5mbyA9IHRoaXMuc3RhdGUudGVuc29ySW5mby5nZXQoZGF0YUlkKTtcbiAgICByZXR1cm4gaW5mby5iYWNrZW5kLnJlYWQoZGF0YUlkKTtcbiAgfVxuXG4gIGFzeW5jIHRpbWUocXVlcnk6ICgpID0+IHZvaWQpOiBQcm9taXNlPFRpbWluZ0luZm8+IHtcbiAgICBjb25zdCBzdGFydCA9IG5vdygpO1xuICAgIGNvbnN0IHRpbWluZ0luZm8gPSBhd2FpdCB0aGlzLmJhY2tlbmQudGltZShxdWVyeSkgYXMgVGltaW5nSW5mbztcbiAgICB0aW1pbmdJbmZvLndhbGxNcyA9IG5vdygpIC0gc3RhcnQ7XG4gICAgcmV0dXJuIHRpbWluZ0luZm87XG4gIH1cblxuICAvKipcbiAgICogVHJhY2tzIGEgVGVuc29yIGluIHRoZSBjdXJyZW50IHNjb3BlIHRvIGJlIGF1dG9tYXRpY2FsbHkgY2xlYW5lZCB1cFxuICAgKiB3aGVuIHRoZSBjdXJyZW50IHNjb3BlIGVuZHMsIGFuZCByZXR1cm5zIHRoZSB2YWx1ZS5cbiAgICpcbiAgICogQHBhcmFtIHJlc3VsdCBUaGUgVGVuc29yIHRvIHRyYWNrIGluIHRoZSBjdXJyZW50IHNjb3BlLlxuICAgKi9cbiAgcHJpdmF0ZSB0cmFjazxUIGV4dGVuZHMgVGVuc29yPihyZXN1bHQ6IFQpOiBUIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5hY3RpdmVTY29wZSAhPSBudWxsKSB7XG4gICAgICByZXN1bHQuc2NvcGVJZCA9IHRoaXMuc3RhdGUuYWN0aXZlU2NvcGUuaWQ7XG4gICAgICB0aGlzLnN0YXRlLmFjdGl2ZVNjb3BlLnRyYWNrLnB1c2gocmVzdWx0KTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgZ2V0IHJlZ2lzdGVyZWRWYXJpYWJsZXMoKTogTmFtZWRWYXJpYWJsZU1hcCB7XG4gICAgcmV0dXJuIHRoaXMuc3RhdGUucmVnaXN0ZXJlZFZhcmlhYmxlcztcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXNldHMgdGhlIGVuZ2luZSBzdGF0ZS4gUmVtb3ZlcyBhbGwgYmFja2VuZHMgYnV0IGRvZXMgbm90IHJlbW92ZVxuICAgKiByZWdpc3RlcmVkIGJhY2tlbmQgZmFjdG9yaWVzLlxuICAgKi9cbiAgcmVzZXQoKTogdm9pZCB7XG4gICAgLy8gTWFrZSBhbnkgcGVuZGluZyBwcm9taXNlIG9ic29sZXRlLlxuICAgIHRoaXMucGVuZGluZ0JhY2tlbmRJbml0SWQrKztcblxuICAgIHRoaXMuc3RhdGUuZGlzcG9zZSgpO1xuICAgIHRoaXMuRU5WLnJlc2V0KCk7XG4gICAgdGhpcy5zdGF0ZSA9IG5ldyBFbmdpbmVTdGF0ZSgpO1xuXG4gICAgZm9yIChjb25zdCBiYWNrZW5kTmFtZSBpbiB0aGlzLnJlZ2lzdHJ5KSB7XG4gICAgICB0aGlzLmRpc3Bvc2VSZWdpc3RlcmVkS2VybmVscyhiYWNrZW5kTmFtZSk7XG4gICAgICB0aGlzLnJlZ2lzdHJ5W2JhY2tlbmROYW1lXS5kaXNwb3NlKCk7XG4gICAgICBkZWxldGUgdGhpcy5yZWdpc3RyeVtiYWNrZW5kTmFtZV07XG4gICAgfVxuICAgIHRoaXMuYmFja2VuZE5hbWUgPSBudWxsO1xuICAgIHRoaXMuYmFja2VuZEluc3RhbmNlID0gbnVsbDtcbiAgICB0aGlzLnBlbmRpbmdCYWNrZW5kSW5pdCA9IG51bGw7XG4gIH1cbn1cblxuZnVuY3Rpb24gb25lcyhzaGFwZTogbnVtYmVyW10pOiBUZW5zb3Ige1xuICBjb25zdCB2YWx1ZXMgPSBtYWtlT25lc1R5cGVkQXJyYXkoc2l6ZUZyb21TaGFwZShzaGFwZSksICdmbG9hdDMyJyk7XG4gIHJldHVybiBFTkdJTkUubWFrZVRlbnNvcih2YWx1ZXMsIHNoYXBlLCAnZmxvYXQzMicpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0T3JNYWtlRW5naW5lKCk6IEVuZ2luZSB7XG4gIGNvbnN0IG5zID0gZ2V0R2xvYmFsTmFtZXNwYWNlKCkgYXMge30gYXMge190ZmVuZ2luZTogRW5naW5lfTtcbiAgaWYgKG5zLl90ZmVuZ2luZSA9PSBudWxsKSB7XG4gICAgY29uc3QgZW52aXJvbm1lbnQgPSBuZXcgRW52aXJvbm1lbnQobnMpO1xuICAgIG5zLl90ZmVuZ2luZSA9IG5ldyBFbmdpbmUoZW52aXJvbm1lbnQpO1xuICB9XG4gIHNldEVudmlyb25tZW50R2xvYmFsKG5zLl90ZmVuZ2luZS5FTlYpO1xuXG4gIC8vIFRlbGwgdGhlIGN1cnJlbnQgdGVuc29yIGludGVyZmFjZSB0aGF0IHRoZSBnbG9iYWwgZW5naW5lIGlzIHJlc3BvbnNpYmxlXG4gIC8vIGZvciB0cmFja2luZy5cbiAgc2V0VGVuc29yVHJhY2tlcigoKSA9PiBucy5fdGZlbmdpbmUpO1xuICByZXR1cm4gbnMuX3RmZW5naW5lO1xufVxuXG5leHBvcnQgY29uc3QgRU5HSU5FID0gZ2V0T3JNYWtlRW5naW5lKCk7XG5cbi8qKlxuICogQSBpbXBsZW1lbnRhdGlvbiBvZiB0aGUgYWRkIG9wIGZvciB1c2Ugd2l0aGluIGVuZ2luZSBhbmQgdGFwZS5cbiAqXG4gKiBUaGlzIGFsbG93cyB1cyB0byBhdm9pZCBhIGNpcmN1bGFyIGRlcGVuZGVuY3kgYmV0d2VlbiBhZGQudHMgYW5kIGVuZ2luZS5cbiAqIEl0IGlzIGV4cG9ydGVkIHRvIGJlIGF2YWlsYWJsZSBpbiB0YXBlIHRlc3RzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gYWRkKGE6IFRlbnNvciwgYjogVGVuc29yKTogVGVuc29yIHtcbiAgLy8gV2UgZHVwbGljYXRlIEFkZCBoZXJlIHRvIGF2b2lkIGEgY2lyY3VsYXIgZGVwZW5kZW5jeSB3aXRoIGFkZC50cy5cbiAgY29uc3QgaW5wdXRzID0ge2EsIGJ9O1xuICByZXR1cm4gRU5HSU5FLnJ1bktlcm5lbEZ1bmMoKGJhY2tlbmQsIHNhdmUpID0+IHtcbiAgICBjb25zdCByZXMgPSBiYWNrZW5kLmFkZChhLCBiKTtcbiAgICBzYXZlKFthLCBiXSk7XG4gICAgcmV0dXJuIHJlcztcbiAgfSwgaW5wdXRzIGFzIHt9IGFzIE5hbWVkVGVuc29yTWFwLCBudWxsIC8qIGdyYWRpZW50ICovLCBBZGQpO1xufVxuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuLy8gQWxsb3cgVXBwZXJDYW1lbENhc2UgdmFyaWFibGUgbmFtZXNcbi8vIHRzbGludDpkaXNhYmxlOiB2YXJpYWJsZS1uYW1lXG4vLyBVbmZvcnR1bmF0ZWx5IGp1c3QgZW5hYmxpbmcgUGFzY2FsQ2FzZSBwZXIgZmlsZSAodHNsaW50OmVuYWJsZTpcbi8vIGFsbG93LXBhc2NhbC1jYXNlKSBkb2Vzbid0IHdvcmsuXG5pbXBvcnQge05hbWVkVGVuc29ySW5mb01hcCwgVGVuc29ySW5mb30gZnJvbSAnLi9rZXJuZWxfcmVnaXN0cnknO1xuaW1wb3J0IHtFeHBsaWNpdFBhZGRpbmd9IGZyb20gJy4vb3BzL2NvbnZfdXRpbCc7XG5pbXBvcnQge0FjdGl2YXRpb259IGZyb20gJy4vb3BzL2Z1c2VkX3R5cGVzJztcbmltcG9ydCB7RGF0YVR5cGUsIFBpeGVsRGF0YX0gZnJvbSAnLi90eXBlcyc7XG5cbmV4cG9ydCBjb25zdCBBYnMgPSAnQWJzJztcbmV4cG9ydCB0eXBlIEFic0lucHV0cyA9IFVuYXJ5SW5wdXRzO1xuXG5leHBvcnQgY29uc3QgQWNvcyA9ICdBY29zJztcbmV4cG9ydCB0eXBlIEFjb3NJbnB1dHMgPSBVbmFyeUlucHV0cztcblxuZXhwb3J0IGNvbnN0IEFjb3NoID0gJ0Fjb3NoJztcbmV4cG9ydCB0eXBlIEFjb3NoSW5wdXRzID0gVW5hcnlJbnB1dHM7XG5cbmV4cG9ydCBjb25zdCBBZGQgPSAnQWRkJztcbmV4cG9ydCB0eXBlIEFkZElucHV0cyA9IEJpbmFyeUlucHV0cztcblxuZXhwb3J0IGNvbnN0IEFkZE4gPSAnQWRkTic7XG5leHBvcnQgdHlwZSBBZGROSW5wdXRzID0gVGVuc29ySW5mb1tdO1xuXG5leHBvcnQgY29uc3QgQWxsID0gJ0FsbCc7XG5leHBvcnQgdHlwZSBBbGxJbnB1dHMgPSBQaWNrPE5hbWVkVGVuc29ySW5mb01hcCwgJ3gnPjtcbmV4cG9ydCBpbnRlcmZhY2UgQWxsQXR0cnMge1xuICBheGlzOiBudW1iZXJ8bnVtYmVyW107XG4gIGtlZXBEaW1zOiBib29sZWFuO1xufVxuXG5leHBvcnQgY29uc3QgQW55ID0gJ0FueSc7XG5leHBvcnQgdHlwZSBBbnlJbnB1dHMgPSBQaWNrPE5hbWVkVGVuc29ySW5mb01hcCwgJ3gnPjtcbmV4cG9ydCBpbnRlcmZhY2UgQW55QXR0cnMge1xuICBheGlzOiBudW1iZXJ8bnVtYmVyW107XG4gIGtlZXBEaW1zOiBib29sZWFuO1xufVxuXG5leHBvcnQgY29uc3QgQXJnTWF4ID0gJ0FyZ01heCc7XG5leHBvcnQgdHlwZSBBcmdNYXhJbnB1dHMgPSBQaWNrPE5hbWVkVGVuc29ySW5mb01hcCwgJ3gnPjtcbmV4cG9ydCBpbnRlcmZhY2UgQXJnTWF4QXR0cnMge1xuICBheGlzOiBudW1iZXI7XG59XG5cbmV4cG9ydCBjb25zdCBBcmdNaW4gPSAnQXJnTWluJztcbmV4cG9ydCB0eXBlIEFyZ01pbklucHV0cyA9IFBpY2s8TmFtZWRUZW5zb3JJbmZvTWFwLCAneCc+O1xuZXhwb3J0IGludGVyZmFjZSBBcmdNaW5BdHRycyB7XG4gIGF4aXM6IG51bWJlcjtcbn1cblxuZXhwb3J0IGNvbnN0IEFzaW4gPSAnQXNpbic7XG5leHBvcnQgdHlwZSBBc2luSW5wdXRzID0gVW5hcnlJbnB1dHM7XG5cbmV4cG9ydCBjb25zdCBBc2luaCA9ICdBc2luaCc7XG5leHBvcnQgdHlwZSBBc2luaElucHV0cyA9IFVuYXJ5SW5wdXRzO1xuXG5leHBvcnQgY29uc3QgQXRhbiA9ICdBdGFuJztcbmV4cG9ydCB0eXBlIEF0YW5JbnB1dHMgPSBVbmFyeUlucHV0cztcblxuZXhwb3J0IGNvbnN0IEF0YW5oID0gJ0F0YW5oJztcbmV4cG9ydCB0eXBlIEF0YW5oSW5wdXRzID0gVW5hcnlJbnB1dHM7XG5cbmV4cG9ydCBjb25zdCBBdGFuMiA9ICdBdGFuMic7XG5leHBvcnQgdHlwZSBBdGFuMklucHV0cyA9IEJpbmFyeUlucHV0cztcblxuZXhwb3J0IGNvbnN0IEF2Z1Bvb2wgPSAnQXZnUG9vbCc7XG5leHBvcnQgdHlwZSBBdmdQb29sSW5wdXRzID0gUGljazxOYW1lZFRlbnNvckluZm9NYXAsICd4Jz47XG5leHBvcnQgaW50ZXJmYWNlIEF2Z1Bvb2xBdHRycyB7XG4gIGZpbHRlclNpemU6IFtudW1iZXIsIG51bWJlcl18bnVtYmVyO1xuICBzdHJpZGVzOiBbbnVtYmVyLCBudW1iZXJdfG51bWJlcjtcbiAgcGFkOiAndmFsaWQnfCdzYW1lJ3xudW1iZXI7XG4gIGRpbVJvdW5kaW5nTW9kZT86ICdmbG9vcid8J3JvdW5kJ3wnY2VpbCc7XG59XG5cbmV4cG9ydCBjb25zdCBBdmdQb29sQmFja3Byb3AgPSAnQXZnUG9vbEJhY2twcm9wJztcbmV4cG9ydCB0eXBlIEF2Z1Bvb2xCYWNrcHJvcElucHV0cyA9IFBpY2s8TmFtZWRUZW5zb3JJbmZvTWFwLCAnZHknfCdpbnB1dCc+O1xuZXhwb3J0IGludGVyZmFjZSBBdmdQb29sQmFja3Byb3BBdHRycyB7XG4gIGZpbHRlclNpemU6IFtudW1iZXIsIG51bWJlcl18bnVtYmVyO1xuICBzdHJpZGVzOiBbbnVtYmVyLCBudW1iZXJdfG51bWJlcjtcbiAgcGFkOiAndmFsaWQnfCdzYW1lJ3xudW1iZXI7XG59XG5cbmV4cG9ydCBjb25zdCBBdmdQb29sM0QgPSAnQXZnUG9vbDNEJztcbmV4cG9ydCB0eXBlIEF2Z1Bvb2wzRElucHV0cyA9IFBpY2s8TmFtZWRUZW5zb3JJbmZvTWFwLCAneCc+O1xuZXhwb3J0IGludGVyZmFjZSBBdmdQb29sM0RBdHRycyB7XG4gIGZpbHRlclNpemU6IFtudW1iZXIsIG51bWJlciwgbnVtYmVyXXxudW1iZXI7XG4gIHN0cmlkZXM6IFtudW1iZXIsIG51bWJlciwgbnVtYmVyXXxudW1iZXI7XG4gIHBhZDogJ3ZhbGlkJ3wnc2FtZSd8bnVtYmVyO1xuICBkaW1Sb3VuZGluZ01vZGU/OiAnZmxvb3InfCdyb3VuZCd8J2NlaWwnO1xuICBkYXRhRm9ybWF0OiAnTkRIV0MnfCdOQ0RIVyc7XG4gIGRpbGF0aW9ucz86IFtudW1iZXIsIG51bWJlciwgbnVtYmVyXXxudW1iZXI7XG59XG5cbmV4cG9ydCBjb25zdCBBdmdQb29sM0RCYWNrcHJvcCA9ICdBdmdQb29sM0RCYWNrcHJvcCc7XG5leHBvcnQgdHlwZSBBdmdQb29sM0RCYWNrcHJvcElucHV0cyA9IFBpY2s8TmFtZWRUZW5zb3JJbmZvTWFwLCAnZHknfCdpbnB1dCc+O1xuZXhwb3J0IGludGVyZmFjZSBBdmdQb29sM0RCYWNrcHJvcEF0dHJzIHtcbiAgZmlsdGVyU2l6ZTogW251bWJlciwgbnVtYmVyLCBudW1iZXJdfG51bWJlcjtcbiAgc3RyaWRlczogW251bWJlciwgbnVtYmVyLCBudW1iZXJdfG51bWJlcjtcbiAgcGFkOiAndmFsaWQnfCdzYW1lJ3xudW1iZXI7XG4gIGRpbGF0aW9uczogW251bWJlciwgbnVtYmVyLCBudW1iZXJdfG51bWJlcjtcbiAgZGltUm91bmRpbmdNb2RlPzogJ2Zsb29yJ3wncm91bmQnfCdjZWlsJztcbn1cblxuZXhwb3J0IGNvbnN0IEJhdGNoTWF0TXVsID0gJ0JhdGNoTWF0TXVsJztcbmV4cG9ydCB0eXBlIEJhdGNoTWF0TXVsSW5wdXRzID0gUGljazxOYW1lZFRlbnNvckluZm9NYXAsICdhJ3wnYic+O1xuZXhwb3J0IGludGVyZmFjZSBCYXRjaE1hdE11bEF0dHJzIHtcbiAgdHJhbnNwb3NlQTogYm9vbGVhbjtcbiAgdHJhbnNwb3NlQjogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGNvbnN0IEJhdGNoVG9TcGFjZU5EID0gJ0JhdGNoVG9TcGFjZU5EJztcbmV4cG9ydCB0eXBlIEJhdGNoVG9TcGFjZU5ESW5wdXRzID0gUGljazxOYW1lZFRlbnNvckluZm9NYXAsICd4Jz47XG5leHBvcnQgaW50ZXJmYWNlIEJhdGNoVG9TcGFjZU5EQXR0cnMge1xuICBibG9ja1NoYXBlOiBudW1iZXJbXTtcbiAgY3JvcHM6IG51bWJlcltdW107XG59XG5cbmV4cG9ydCB0eXBlIEJpbmFyeUlucHV0cyA9IFBpY2s8TmFtZWRUZW5zb3JJbmZvTWFwLCAnYSd8J2InPjtcblxuZXhwb3J0IGNvbnN0IEJyb2FkY2FzdFRvID0gJ0Jyb2FkY2FzdFRvJztcbmV4cG9ydCB0eXBlIEJyb2FkY2FzdFRvSW5wdXRzID0gUGljazxOYW1lZFRlbnNvckluZm9NYXAsICd4Jz47XG5leHBvcnQgaW50ZXJmYWNlIEJyb2FkQ2FzdFRvQXR0cnMge1xuICBzaGFwZTogbnVtYmVyW107XG4gIGlucHV0U2hhcGU6IG51bWJlcltdOyAgLy8gZm9yIGdyYWRpZW50XG59XG5cbmV4cG9ydCBjb25zdCBDYXN0ID0gJ0Nhc3QnO1xuZXhwb3J0IHR5cGUgQ2FzdElucHV0cyA9IFVuYXJ5SW5wdXRzO1xuZXhwb3J0IGludGVyZmFjZSBDYXN0QXR0cnMge1xuICBkdHlwZTogRGF0YVR5cGU7XG59XG5cbmV4cG9ydCBjb25zdCBDZWlsID0gJ0NlaWwnO1xuZXhwb3J0IHR5cGUgQ2VpbElucHV0cyA9IFVuYXJ5SW5wdXRzO1xuXG5leHBvcnQgY29uc3QgQ2xpcEJ5VmFsdWUgPSAnQ2xpcEJ5VmFsdWUnO1xuZXhwb3J0IHR5cGUgQ2xpcEJ5VmFsdWVJbnB1dHMgPSBVbmFyeUlucHV0cztcbmV4cG9ydCBpbnRlcmZhY2UgQ2xpcEJ5VmFsdWVBdHRycyB7XG4gIGNsaXBWYWx1ZU1pbjogbnVtYmVyO1xuICBjbGlwVmFsdWVNYXg6IG51bWJlcjtcbn1cblxuZXhwb3J0IGNvbnN0IENvbXBsZXggPSAnQ29tcGxleCc7XG5leHBvcnQgdHlwZSBDb21wbGV4SW5wdXRzID0gUGljazxOYW1lZFRlbnNvckluZm9NYXAsICdyZWFsJ3wnaW1hZyc+O1xuXG5leHBvcnQgY29uc3QgQ29uY2F0ID0gJ0NvbmNhdCc7XG5leHBvcnQgdHlwZSBDb25jYXRJbnB1dHMgPSBUZW5zb3JJbmZvW107XG5leHBvcnQgaW50ZXJmYWNlIENvbmNhdEF0dHJzIHtcbiAgYXhpczogbnVtYmVyO1xufVxuXG5leHBvcnQgY29uc3QgQ29udjJEID0gJ0NvbnYyRCc7XG5leHBvcnQgdHlwZSBDb252MkRJbnB1dHMgPSBQaWNrPE5hbWVkVGVuc29ySW5mb01hcCwgJ3gnfCdmaWx0ZXInPjtcbmV4cG9ydCBpbnRlcmZhY2UgQ29udjJEQXR0cnMge1xuICBzdHJpZGVzOiBbbnVtYmVyLCBudW1iZXJdfG51bWJlcjtcbiAgcGFkOiAndmFsaWQnfCdzYW1lJ3xudW1iZXJ8RXhwbGljaXRQYWRkaW5nO1xuICBkYXRhRm9ybWF0OiAnTkhXQyd8J05DSFcnO1xuICBkaWxhdGlvbnM6IFtudW1iZXIsIG51bWJlcl18bnVtYmVyO1xuICBkaW1Sb3VuZGluZ01vZGU/OiAnZmxvb3InfCdyb3VuZCd8J2NlaWwnO1xufVxuXG5leHBvcnQgY29uc3QgQ29udjJEQmFja3Byb3BGaWx0ZXIgPSAnQ29udjJEQmFja3Byb3BGaWx0ZXInO1xuZXhwb3J0IHR5cGUgQ29udjJEQmFja3Byb3BGaWx0ZXJJbnB1dHMgPSBQaWNrPE5hbWVkVGVuc29ySW5mb01hcCwgJ3gnfCdkeSc+O1xuZXhwb3J0IGludGVyZmFjZSBDb252MkRCYWNrcHJvcEZpbHRlckF0dHJzIHtcbiAgc3RyaWRlczogW251bWJlciwgbnVtYmVyXXxudW1iZXI7XG4gIHBhZDogJ3ZhbGlkJ3wnc2FtZSd8bnVtYmVyfEV4cGxpY2l0UGFkZGluZztcbiAgZGF0YUZvcm1hdDogJ05IV0MnfCdOQ0hXJztcbiAgZGltUm91bmRpbmdNb2RlPzogJ2Zsb29yJ3wncm91bmQnfCdjZWlsJztcbn1cblxuZXhwb3J0IGNvbnN0IENvbnYyREJhY2twcm9wSW5wdXQgPSAnQ29udjJEQmFja3Byb3BJbnB1dCc7XG5leHBvcnQgdHlwZSBDb252MkRCYWNrcHJvcElucHV0SW5wdXRzID0gUGljazxOYW1lZFRlbnNvckluZm9NYXAsICdkeSd8J2ZpbHRlcic+O1xuZXhwb3J0IGludGVyZmFjZSBDb252MkRCYWNrcHJvcElucHV0QXR0cnMge1xuICBzdHJpZGVzOiBbbnVtYmVyLCBudW1iZXJdfG51bWJlcjtcbiAgcGFkOiAndmFsaWQnfCdzYW1lJ3xudW1iZXJ8RXhwbGljaXRQYWRkaW5nO1xuICBkYXRhRm9ybWF0OiAnTkhXQyd8J05DSFcnO1xuICBkaW1Sb3VuZGluZ01vZGU/OiAnZmxvb3InfCdyb3VuZCd8J2NlaWwnO1xuICBpbnB1dFNoYXBlOiBbbnVtYmVyLCBudW1iZXIsIG51bWJlciwgbnVtYmVyXTtcbn1cblxuZXhwb3J0IGNvbnN0IENvbnYzRCA9ICdDb252M0QnO1xuZXhwb3J0IHR5cGUgQ29udjNESW5wdXRzID0gUGljazxOYW1lZFRlbnNvckluZm9NYXAsICd4J3wnZmlsdGVyJz47XG5leHBvcnQgaW50ZXJmYWNlIENvbnYzREF0dHJzIHtcbiAgc3RyaWRlczogW251bWJlciwgbnVtYmVyLCBudW1iZXJdfG51bWJlcjtcbiAgcGFkOiAndmFsaWQnfCdzYW1lJztcbiAgZGF0YUZvcm1hdDogJ05ESFdDJ3wnTkNESFcnO1xuICBkaWxhdGlvbnM6IFtudW1iZXIsIG51bWJlciwgbnVtYmVyXXxudW1iZXI7XG59XG5cbmV4cG9ydCBjb25zdCBDb252M0RCYWNrcHJvcEZpbHRlclYyID0gJ0NvbnYzREJhY2twcm9wRmlsdGVyVjInO1xuZXhwb3J0IHR5cGUgQ29udjNEQmFja3Byb3BGaWx0ZXJJbnB1dHMgPSBQaWNrPE5hbWVkVGVuc29ySW5mb01hcCwgJ3gnfCd5Jz47XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29udjNEQmFja3Byb3BGaWx0ZXJBdHRycyB7XG4gIHN0cmlkZXM6IFtudW1iZXIsIG51bWJlciwgbnVtYmVyXXxudW1iZXI7XG4gIHBhZDogJ3ZhbGlkJ3wnc2FtZSc7XG59XG5cbmV4cG9ydCBjb25zdCBDb252M0RCYWNrcHJvcElucHV0VjIgPSAnQ29udjNEQmFja3Byb3BJbnB1dFYyJztcbmV4cG9ydCB0eXBlIENvbnYzREJhY2twcm9wSW5wdXRJbnB1dHMgPSBQaWNrPE5hbWVkVGVuc29ySW5mb01hcCwgJ2R5Jz47XG5leHBvcnQgaW50ZXJmYWNlIENvbnYzREJhY2twcm9wSW5wdXRBdHRycyB7XG4gIHBhZDogJ3ZhbGlkJ3wnc2FtZSc7XG59XG5cbmV4cG9ydCBjb25zdCBDb3MgPSAnQ29zJztcbmV4cG9ydCB0eXBlIENvc0lucHV0cyA9IFVuYXJ5SW5wdXRzO1xuXG5leHBvcnQgY29uc3QgQ29zaCA9ICdDb3NoJztcbmV4cG9ydCB0eXBlIENvc2hJbnB1dHMgPSBVbmFyeUlucHV0cztcblxuZXhwb3J0IGNvbnN0IEN1bXN1bSA9ICdDdW1zdW0nO1xuZXhwb3J0IHR5cGUgQ3Vtc3VtSW5wdXRzID0gUGljazxOYW1lZFRlbnNvckluZm9NYXAsICd4Jz47XG5leHBvcnQgaW50ZXJmYWNlIEN1bXN1bUF0dHJzIHtcbiAgYXhpczogbnVtYmVyO1xuICBleGNsdXNpdmU6IGJvb2xlYW47XG4gIHJldmVyc2U6IGJvb2xlYW47XG59XG5cbmV4cG9ydCBjb25zdCBDcm9wQW5kUmVzaXplID0gJ0Nyb3BBbmRSZXNpemUnO1xuZXhwb3J0IHR5cGUgQ3JvcEFuZFJlc2l6ZUlucHV0cyA9XG4gICAgUGljazxOYW1lZFRlbnNvckluZm9NYXAsICdpbWFnZSd8J2JveGVzJ3wnYm94SW5kJz47XG5leHBvcnQgaW50ZXJmYWNlIENyb3BBbmRSZXNpemVBdHRycyB7XG4gIGNyb3BTaXplOiBbbnVtYmVyLCBudW1iZXJdO1xuICBtZXRob2Q6ICdiaWxpbmVhcid8J25lYXJlc3QnO1xuICBleHRyYXBvbGF0aW9uVmFsdWU6IG51bWJlcjtcbn1cblxuZXhwb3J0IGNvbnN0IERlcHRoVG9TcGFjZSA9ICdEZXB0aFRvU3BhY2UnO1xuZXhwb3J0IHR5cGUgRGVwdGhUb1NwYWNlSW5wdXRzID0gUGljazxOYW1lZFRlbnNvckluZm9NYXAsICd4Jz47XG5leHBvcnQgaW50ZXJmYWNlIERlcHRoVG9TcGFjZUF0dHJzIHtcbiAgYmxvY2tTaXplOiBudW1iZXI7XG4gIGRhdGFGb3JtYXQ6ICdOSFdDJ3wnTkNIVyc7XG59XG5cbmV4cG9ydCBjb25zdCBEZXB0aHdpc2VDb252MmROYXRpdmUgPSAnRGVwdGh3aXNlQ29udjJkTmF0aXZlJztcbmV4cG9ydCB0eXBlIERlcHRod2lzZUNvbnYyZE5hdGl2ZUlucHV0cyA9XG4gICAgUGljazxOYW1lZFRlbnNvckluZm9NYXAsICd4J3wnZmlsdGVyJz47XG5leHBvcnQgaW50ZXJmYWNlIERlcHRod2lzZUNvbnYyZE5hdGl2ZUF0dHJzIHtcbiAgc3RyaWRlczogW251bWJlciwgbnVtYmVyXXxudW1iZXI7XG4gIHBhZDogJ3ZhbGlkJ3wnc2FtZSd8bnVtYmVyO1xuICBkYXRhRm9ybWF0OiAnTkhXQyd8J05DSFcnO1xuICBkaWxhdGlvbnM6IFtudW1iZXIsIG51bWJlcl18bnVtYmVyO1xuICBkaW1Sb3VuZGluZ01vZGU/OiAnZmxvb3InfCdyb3VuZCd8J2NlaWwnO1xufVxuXG5leHBvcnQgY29uc3QgRGVwdGh3aXNlQ29udjJkTmF0aXZlQmFja3Byb3BGaWx0ZXIgPVxuICAgICdEZXB0aHdpc2VDb252MmROYXRpdmVCYWNrcHJvcEZpbHRlcic7XG5leHBvcnQgdHlwZSBEZXB0aHdpc2VDb252MmROYXRpdmVCYWNrcHJvcEZpbHRlcklucHV0cyA9XG4gICAgUGljazxOYW1lZFRlbnNvckluZm9NYXAsICd4J3wnZHknPjtcblxuZXhwb3J0IGNvbnN0IERlcHRod2lzZUNvbnYyZE5hdGl2ZUJhY2twcm9wSW5wdXQgPVxuICAgICdEZXB0aHdpc2VDb252MmROYXRpdmVCYWNrcHJvcElucHV0JztcbmV4cG9ydCB0eXBlIERlcHRod2lzZUNvbnYyZE5hdGl2ZUJhY2twcm9wSW5wdXRJbnB1dHMgPVxuICAgIFBpY2s8TmFtZWRUZW5zb3JJbmZvTWFwLCAnZHknPjtcblxuZXhwb3J0IGNvbnN0IERpYWcgPSAnRGlhZyc7XG5leHBvcnQgdHlwZSBEaWFnSW5wdXRzID0gUGljazxOYW1lZFRlbnNvckluZm9NYXAsICd4Jz47XG5cbmV4cG9ydCBjb25zdCBEaWxhdGlvbjJEID0gJ0RpbGF0aW9uMkQnO1xuZXhwb3J0IHR5cGUgRGlsYXRpb24yRElucHV0cyA9IFBpY2s8TmFtZWRUZW5zb3JJbmZvTWFwLCAneCd8J2ZpbHRlcic+O1xuZXhwb3J0IGludGVyZmFjZSBEaWxhdGlvbjJEQXR0cnMge1xuICBzdHJpZGVzOiBbbnVtYmVyLCBudW1iZXJdfG51bWJlcjtcbiAgcGFkOiAndmFsaWQnfCdzYW1lJ3xudW1iZXI7XG4gIGRpbGF0aW9uczogW251bWJlciwgbnVtYmVyXXxudW1iZXI7XG59XG5cbmV4cG9ydCBjb25zdCBEaWxhdGlvbjJEQmFja3Byb3BJbnB1dCA9ICdEaWxhdGlvbjJEQmFja3Byb3BJbnB1dCc7XG5leHBvcnQgdHlwZSBEaWxhdGlvbjJEQmFja3Byb3BJbnB1dElucHV0cyA9XG4gICAgUGljazxOYW1lZFRlbnNvckluZm9NYXAsICd4J3wnZmlsdGVyJ3wnZHknPjtcblxuZXhwb3J0IGNvbnN0IERpbGF0aW9uMkRCYWNrcHJvcEZpbHRlciA9ICdEaWxhdGlvbjJEQmFja3Byb3BGaWx0ZXInO1xuZXhwb3J0IHR5cGUgRGlsYXRpb24yREJhY2twcm9wRmlsdGVySW5wdXRzID1cbiAgICBQaWNrPE5hbWVkVGVuc29ySW5mb01hcCwgJ3gnfCdmaWx0ZXInfCdkeSc+O1xuXG5leHBvcnQgY29uc3QgRGl2ID0gJ0Rpdic7XG5leHBvcnQgdHlwZSBEaXZJbnB1dHMgPSBCaW5hcnlJbnB1dHM7XG5cbmV4cG9ydCBjb25zdCBFbHUgPSAnRWx1JztcbmV4cG9ydCB0eXBlIEVsdUlucHV0cyA9IFBpY2s8TmFtZWRUZW5zb3JJbmZvTWFwLCAneCc+O1xuXG5leHBvcnQgY29uc3QgRWx1R3JhZCA9ICdFbHVHcmFkJztcbmV4cG9ydCB0eXBlIEVsdUdyYWRJbnB1dHMgPSBQaWNrPE5hbWVkVGVuc29ySW5mb01hcCwgJ2R5J3wneSc+O1xuXG5leHBvcnQgY29uc3QgRXJmID0gJ0VyZic7XG5leHBvcnQgdHlwZSBFcmZJbnB1dHMgPSBVbmFyeUlucHV0cztcblxuZXhwb3J0IGNvbnN0IEVxdWFsID0gJ0VxdWFsJztcbmV4cG9ydCB0eXBlIEVxdWFsSW5wdXRzID0gQmluYXJ5SW5wdXRzO1xuXG5leHBvcnQgY29uc3QgRXhwID0gJ0V4cCc7XG5leHBvcnQgdHlwZSBFeHBJbnB1dHMgPSBVbmFyeUlucHV0cztcblxuZXhwb3J0IGNvbnN0IEV4cG0xID0gJ0V4cG0xJztcbmV4cG9ydCB0eXBlIEV4cG0xSW5wdXRzID0gVW5hcnlJbnB1dHM7XG5cbmV4cG9ydCBjb25zdCBGRlQgPSAnRkZUJztcbmV4cG9ydCB0eXBlIEZGVElucHV0cyA9IFBpY2s8TmFtZWRUZW5zb3JJbmZvTWFwLCAnaW5wdXQnPjtcblxuZXhwb3J0IGNvbnN0IEZpbGwgPSAnRmlsbCc7XG5leHBvcnQgaW50ZXJmYWNlIEZpbGxBdHRycyB7XG4gIHNoYXBlOiBudW1iZXJbXTtcbiAgdmFsdWU6IG51bWJlcnxzdHJpbmc7XG4gIGR0eXBlOiBEYXRhVHlwZTtcbn1cblxuZXhwb3J0IGNvbnN0IEZsaXBMZWZ0UmlnaHQgPSAnRmxpcExlZnRSaWdodCc7XG5leHBvcnQgdHlwZSBGbGlwTGVmdFJpZ2h0SW5wdXRzID0gUGljazxOYW1lZFRlbnNvckluZm9NYXAsICdpbWFnZSc+O1xuXG5leHBvcnQgY29uc3QgRmxvb3IgPSAnRmxvb3InO1xuZXhwb3J0IHR5cGUgRmxvb3JJbnB1dHMgPSBVbmFyeUlucHV0cztcblxuZXhwb3J0IGNvbnN0IEZsb29yRGl2ID0gJ0Zsb29yRGl2JztcbmV4cG9ydCB0eXBlIEZsb29yRGl2SW5wdXRzID0gQmluYXJ5SW5wdXRzO1xuXG5leHBvcnQgY29uc3QgRnVzZWRCYXRjaE5vcm0gPSAnRnVzZWRCYXRjaE5vcm0nO1xuZXhwb3J0IHR5cGUgRnVzZWRCYXRjaE5vcm1JbnB1dHMgPVxuICAgIFBpY2s8TmFtZWRUZW5zb3JJbmZvTWFwLCAneCd8J3NjYWxlJ3wnb2Zmc2V0J3wnbWVhbid8J3ZhcmlhbmNlJz47XG5leHBvcnQgaW50ZXJmYWNlIEZ1c2VkQmF0Y2hOb3JtQXR0cnMge1xuICB2YXJpYW5jZUVwc2lsb246IG51bWJlcjtcbn1cblxuZXhwb3J0IGNvbnN0IEdhdGhlclYyID0gJ0dhdGhlclYyJztcbmV4cG9ydCB0eXBlIEdhdGhlclYySW5wdXRzID0gUGljazxOYW1lZFRlbnNvckluZm9NYXAsICd4J3wnaW5kaWNlcyc+O1xuZXhwb3J0IGludGVyZmFjZSBHYXRoZXJWMkF0dHJzIHtcbiAgYXhpczogbnVtYmVyO1xufVxuXG5leHBvcnQgY29uc3QgR2F0aGVyTmQgPSAnR2F0aGVyTmQnO1xuZXhwb3J0IHR5cGUgR2F0aGVyTmRJbnB1dHMgPSBQaWNrPE5hbWVkVGVuc29ySW5mb01hcCwgJ3BhcmFtcyd8J2luZGljZXMnPjtcblxuZXhwb3J0IGNvbnN0IEdyZWF0ZXIgPSAnR3JlYXRlcic7XG5leHBvcnQgdHlwZSBHcmVhdGVySW5wdXRzID0gQmluYXJ5SW5wdXRzO1xuXG5leHBvcnQgY29uc3QgR3JlYXRlckVxdWFsID0gJ0dyZWF0ZXJFcXVhbCc7XG5leHBvcnQgdHlwZSBHcmVhdGVyRXF1YWxJbnB1dHMgPSBCaW5hcnlJbnB1dHM7XG5cbmV4cG9ydCBjb25zdCBJZGVudGl0eSA9ICdJZGVudGl0eSc7XG5leHBvcnQgdHlwZSBJZGVudGl0eUlucHV0cyA9IFBpY2s8TmFtZWRUZW5zb3JJbmZvTWFwLCAneCc+O1xuXG5leHBvcnQgY29uc3QgSUZGVCA9ICdJRkZUJztcbmV4cG9ydCB0eXBlIElGRlRJbnB1dHMgPSBQaWNrPE5hbWVkVGVuc29ySW5mb01hcCwgJ2lucHV0Jz47XG5cbmV4cG9ydCBjb25zdCBJbWFnID0gJ0ltYWcnO1xuZXhwb3J0IHR5cGUgSW1hZ0lucHV0cyA9IFBpY2s8TmFtZWRUZW5zb3JJbmZvTWFwLCAnaW5wdXQnPjtcblxuZXhwb3J0IGNvbnN0IElzRmluaXRlID0gJ0lzRmluaXRlJztcbmV4cG9ydCB0eXBlIElzRmluaXRlSW5wdXRzID0gVW5hcnlJbnB1dHM7XG5cbmV4cG9ydCBjb25zdCBJc0luZiA9ICdJc0luZic7XG5leHBvcnQgdHlwZSBJc0luZklucHV0cyA9IFVuYXJ5SW5wdXRzO1xuXG5leHBvcnQgY29uc3QgSXNOYW4gPSAnSXNOYW4nO1xuZXhwb3J0IHR5cGUgSXNOYW5JbnB1dHMgPSBVbmFyeUlucHV0cztcblxuZXhwb3J0IGNvbnN0IExlc3MgPSAnTGVzcyc7XG5leHBvcnQgdHlwZSBMZXNzSW5wdXRzID0gQmluYXJ5SW5wdXRzO1xuXG5leHBvcnQgY29uc3QgTGVzc0VxdWFsID0gJ0xlc3NFcXVhbCc7XG5leHBvcnQgdHlwZSBMZXNzRXF1YWxJbnB1dHMgPSBCaW5hcnlJbnB1dHM7XG5cbmV4cG9ydCBjb25zdCBMaW5TcGFjZSA9ICdMaW5TcGFjZSc7XG5leHBvcnQgaW50ZXJmYWNlIExpblNwYWNlQXR0cnMge1xuICBzdGFydDogbnVtYmVyO1xuICBzdG9wOiBudW1iZXI7XG4gIG51bTogbnVtYmVyO1xufVxuZXhwb3J0IGNvbnN0IExvZyA9ICdMb2cnO1xuZXhwb3J0IHR5cGUgTG9nSW5wdXRzID0gVW5hcnlJbnB1dHM7XG5cbmV4cG9ydCBjb25zdCBMb2cxcCA9ICdMb2cxcCc7XG5leHBvcnQgdHlwZSBMb2cxcElucHV0cyA9IFVuYXJ5SW5wdXRzO1xuXG5leHBvcnQgY29uc3QgTG9naWNhbEFuZCA9ICdMb2dpY2FsQW5kJztcbmV4cG9ydCB0eXBlIExvZ2ljYWxBbmRJbnB1dHMgPSBCaW5hcnlJbnB1dHM7XG5cbmV4cG9ydCBjb25zdCBMb2dpY2FsTm90ID0gJ0xvZ2ljYWxOb3QnO1xuZXhwb3J0IHR5cGUgTG9naWNhbE5vdElucHV0cyA9IFBpY2s8TmFtZWRUZW5zb3JJbmZvTWFwLCAneCc+O1xuXG5leHBvcnQgY29uc3QgTG9naWNhbE9yID0gJ0xvZ2ljYWxPcic7XG5leHBvcnQgdHlwZSBMb2dpY2FsT3JJbnB1dHMgPSBCaW5hcnlJbnB1dHM7XG5cbmV4cG9ydCBjb25zdCBMb2dTb2Z0bWF4ID0gJ0xvZ1NvZnRtYXgnO1xuZXhwb3J0IHR5cGUgTG9nU29mdG1heElucHV0cyA9IFBpY2s8TmFtZWRUZW5zb3JJbmZvTWFwLCAnbG9naXRzJz47XG5leHBvcnQgaW50ZXJmYWNlIExvZ1NvZnRtYXhBdHRycyB7XG4gIGF4aXM6IG51bWJlcjtcbn1cblxuZXhwb3J0IGNvbnN0IExSTiA9ICdMUk4nO1xuZXhwb3J0IHR5cGUgTFJOSW5wdXRzID0gUGljazxOYW1lZFRlbnNvckluZm9NYXAsICd4Jz47XG5leHBvcnQgaW50ZXJmYWNlIExSTkF0dHJzIHtcbiAgZGVwdGhSYWRpdXM6IG51bWJlcjtcbiAgYmlhczogbnVtYmVyO1xuICBhbHBoYTogbnVtYmVyO1xuICBiZXRhOiBudW1iZXI7XG59XG5cbmV4cG9ydCBjb25zdCBMUk5CYWNrcHJvcCA9ICdMUk5CYWNrcHJvcCc7XG5leHBvcnQgdHlwZSBMUk5CYWNrcHJvcElucHV0cyA9IFBpY2s8TmFtZWRUZW5zb3JJbmZvTWFwLCAneCd8J3knfCdkeSc+O1xuZXhwb3J0IGludGVyZmFjZSBMUk5CYWNrcHJvcEF0dHJzIHtcbiAgZGVwdGhSYWRpdXM6IG51bWJlcjtcbiAgYmlhczogbnVtYmVyO1xuICBhbHBoYTogbnVtYmVyO1xuICBiZXRhOiBudW1iZXI7XG59XG5cbmV4cG9ydCBjb25zdCBNYXggPSAnTWF4JztcbmV4cG9ydCB0eXBlIE1heElucHV0cyA9IFBpY2s8TmFtZWRUZW5zb3JJbmZvTWFwLCAneCc+O1xuZXhwb3J0IGludGVyZmFjZSBNYXhBdHRycyB7XG4gIHJlZHVjdGlvbkluZGljZXM6IG51bWJlcnxudW1iZXJbXTtcbiAga2VlcERpbXM6IGJvb2xlYW47XG59XG5cbmV4cG9ydCBjb25zdCBNYXhpbXVtID0gJ01heGltdW0nO1xuZXhwb3J0IHR5cGUgTWF4aW11bUlucHV0cyA9IEJpbmFyeUlucHV0cztcblxuZXhwb3J0IGNvbnN0IE1heFBvb2wgPSAnTWF4UG9vbCc7XG5leHBvcnQgdHlwZSBNYXhQb29sSW5wdXRzID0gUGljazxOYW1lZFRlbnNvckluZm9NYXAsICd4Jz47XG5leHBvcnQgaW50ZXJmYWNlIE1heFBvb2xBdHRycyB7XG4gIGZpbHRlclNpemU6IFtudW1iZXIsIG51bWJlcl18bnVtYmVyO1xuICBzdHJpZGVzOiBbbnVtYmVyLCBudW1iZXJdfG51bWJlcjtcbiAgcGFkOiAndmFsaWQnfCdzYW1lJ3xudW1iZXI7XG4gIGRpbVJvdW5kaW5nTW9kZT86ICdmbG9vcid8J3JvdW5kJ3wnY2VpbCc7XG59XG5cbmV4cG9ydCBjb25zdCBNYXhQb29sQmFja3Byb3AgPSAnTWF4UG9vbEJhY2twcm9wJztcbmV4cG9ydCB0eXBlIE1heFBvb2xCYWNrcHJvcElucHV0cyA9XG4gICAgUGljazxOYW1lZFRlbnNvckluZm9NYXAsICdkeSd8J2lucHV0J3wnb3V0cHV0Jz47XG5leHBvcnQgaW50ZXJmYWNlIE1heFBvb2xCYWNrcHJvcEF0dHJzIHtcbiAgZmlsdGVyU2l6ZTogW251bWJlciwgbnVtYmVyXXxudW1iZXI7XG4gIHN0cmlkZXM6IFtudW1iZXIsIG51bWJlcl18bnVtYmVyO1xuICBwYWQ6ICd2YWxpZCd8J3NhbWUnfG51bWJlcjtcbiAgZGltUm91bmRpbmdNb2RlPzogJ2Zsb29yJ3wncm91bmQnfCdjZWlsJztcbn1cblxuZXhwb3J0IGNvbnN0IE1heFBvb2wzRCA9ICdNYXhQb29sM0QnO1xuZXhwb3J0IHR5cGUgTWF4UG9vbDNESW5wdXRzID0gUGljazxOYW1lZFRlbnNvckluZm9NYXAsICd4Jz47XG5leHBvcnQgaW50ZXJmYWNlIE1heFBvb2wzREF0dHJzIHtcbiAgZmlsdGVyU2l6ZTogW251bWJlciwgbnVtYmVyLCBudW1iZXJdfG51bWJlcjtcbiAgc3RyaWRlczogW251bWJlciwgbnVtYmVyLCBudW1iZXJdfG51bWJlcjtcbiAgcGFkOiAndmFsaWQnfCdzYW1lJ3xudW1iZXI7XG4gIGRhdGFGb3JtYXQ6ICdOREhXQyd8J05DREhXJztcbiAgZGlsYXRpb25zPzogW251bWJlciwgbnVtYmVyLCBudW1iZXJdfG51bWJlcjtcbiAgZGltUm91bmRpbmdNb2RlPzogJ2Zsb29yJ3wncm91bmQnfCdjZWlsJztcbn1cblxuZXhwb3J0IGNvbnN0IE1heFBvb2wzREJhY2twcm9wID0gJ01heFBvb2wzREJhY2twcm9wJztcbmV4cG9ydCB0eXBlIE1heFBvb2wzREJhY2twcm9wSW5wdXRzID1cbiAgICBQaWNrPE5hbWVkVGVuc29ySW5mb01hcCwgJ2R5J3wnaW5wdXQnfCdvdXRwdXQnPjtcbmV4cG9ydCBpbnRlcmZhY2UgTWF4UG9vbDNEQmFja3Byb3BBdHRycyB7XG4gIGZpbHRlclNpemU6IFtudW1iZXIsIG51bWJlciwgbnVtYmVyXXxudW1iZXI7XG4gIHN0cmlkZXM6IFtudW1iZXIsIG51bWJlciwgbnVtYmVyXXxudW1iZXI7XG4gIHBhZDogJ3ZhbGlkJ3wnc2FtZSd8bnVtYmVyO1xuICBkaWxhdGlvbnM/OiBbbnVtYmVyLCBudW1iZXIsIG51bWJlcl18bnVtYmVyO1xuICBkaW1Sb3VuZGluZ01vZGU/OiAnZmxvb3InfCdyb3VuZCd8J2NlaWwnO1xufVxuXG5leHBvcnQgY29uc3QgTWF4UG9vbFdpdGhBcmdtYXggPSAnTWF4UG9vbFdpdGhBcmdtYXgnO1xuZXhwb3J0IHR5cGUgTWF4UG9vbFdpdGhBcmdtYXhJbnB1dHMgPSBQaWNrPE5hbWVkVGVuc29ySW5mb01hcCwgJ3gnPjtcbmV4cG9ydCBpbnRlcmZhY2UgTWF4UG9vbFdpdGhBcmdtYXhBdHRycyB7XG4gIGZpbHRlclNpemU6IFtudW1iZXIsIG51bWJlcl18bnVtYmVyO1xuICBzdHJpZGVzOiBbbnVtYmVyLCBudW1iZXJdfG51bWJlcjtcbiAgcGFkOiAndmFsaWQnfCdzYW1lJ3xudW1iZXI7XG4gIGluY2x1ZGVCYXRjaEluSW5kZXg6IGJvb2xlYW47XG59XG5cbmV4cG9ydCBjb25zdCBNZWFuID0gJ01lYW4nO1xuZXhwb3J0IHR5cGUgTWVhbklucHV0cyA9IFBpY2s8TmFtZWRUZW5zb3JJbmZvTWFwLCAneCc+O1xuZXhwb3J0IGludGVyZmFjZSBNZWFuQXR0cnMge1xuICBheGlzOiBudW1iZXJ8bnVtYmVyW107XG4gIGtlZXBEaW1zOiBib29sZWFuO1xufVxuXG5leHBvcnQgY29uc3QgTWluID0gJ01pbic7XG5leHBvcnQgdHlwZSBNaW5JbnB1dHMgPSBQaWNrPE5hbWVkVGVuc29ySW5mb01hcCwgJ3gnPjtcbmV4cG9ydCBpbnRlcmZhY2UgTWluQXR0cnMge1xuICBheGlzOiBudW1iZXJ8bnVtYmVyW107XG4gIGtlZXBEaW1zOiBib29sZWFuO1xufVxuXG5leHBvcnQgY29uc3QgTWluaW11bSA9ICdNaW5pbXVtJztcbmV4cG9ydCB0eXBlIE1pbmltdW1JbnB1dHMgPSBCaW5hcnlJbnB1dHM7XG5cbmV4cG9ydCBjb25zdCBNb2QgPSAnTW9kJztcbmV4cG9ydCB0eXBlIE1vZElucHV0cyA9IEJpbmFyeUlucHV0cztcblxuZXhwb3J0IGNvbnN0IE11bHRpcGx5ID0gJ011bHRpcGx5JztcbmV4cG9ydCB0eXBlIE11bHRpcGx5SW5wdXRzID0gQmluYXJ5SW5wdXRzO1xuXG5leHBvcnQgY29uc3QgTmVnYXRlID0gJ05lZ2F0ZSc7XG5leHBvcnQgdHlwZSBOZWdhdGVJbnB1dHMgPSBVbmFyeUlucHV0cztcblxuZXhwb3J0IGNvbnN0IE5vdEVxdWFsID0gJ05vdEVxdWFsJztcbmV4cG9ydCB0eXBlIE5vdEVxdWFsSW5wdXRzID0gQmluYXJ5SW5wdXRzO1xuXG5leHBvcnQgY29uc3QgTm9uTWF4U3VwcHJlc3Npb25WMyA9ICdOb25NYXhTdXBwcmVzc2lvblYzJztcbmV4cG9ydCB0eXBlIE5vbk1heFN1cHByZXNzaW9uVjNJbnB1dHMgPVxuICAgIFBpY2s8TmFtZWRUZW5zb3JJbmZvTWFwLCAnYm94ZXMnfCdzY29yZXMnPjtcbmV4cG9ydCBpbnRlcmZhY2UgTm9uTWF4U3VwcHJlc3Npb25WM0F0dHJzIHtcbiAgbWF4T3V0cHV0U2l6ZTogbnVtYmVyO1xuICBpb3VUaHJlc2hvbGQ6IG51bWJlcjtcbiAgc2NvcmVUaHJlc2hvbGQ6IG51bWJlcjtcbn1cblxuZXhwb3J0IGNvbnN0IE5vbk1heFN1cHByZXNzaW9uVjQgPSAnTm9uTWF4U3VwcHJlc3Npb25WNCc7XG5leHBvcnQgdHlwZSBOb25NYXhTdXBwcmVzc2lvblY0SW5wdXRzID1cbiAgICBQaWNrPE5hbWVkVGVuc29ySW5mb01hcCwgJ2JveGVzJ3wnc2NvcmVzJz47XG5leHBvcnQgaW50ZXJmYWNlIE5vbk1heFN1cHByZXNzaW9uVjRBdHRycyB7XG4gIG1heE91dHB1dFNpemU6IG51bWJlcjtcbiAgaW91VGhyZXNob2xkOiBudW1iZXI7XG4gIHNjb3JlVGhyZXNob2xkOiBudW1iZXI7XG4gIHBhZFRvTWF4T3V0cHV0U2l6ZTogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGNvbnN0IE5vbk1heFN1cHByZXNzaW9uVjUgPSAnTm9uTWF4U3VwcHJlc3Npb25WNSc7XG5leHBvcnQgdHlwZSBOb25NYXhTdXBwcmVzc2lvblY1SW5wdXRzID1cbiAgICBQaWNrPE5hbWVkVGVuc29ySW5mb01hcCwgJ2JveGVzJ3wnc2NvcmVzJz47XG5leHBvcnQgaW50ZXJmYWNlIE5vbk1heFN1cHByZXNzaW9uVjVBdHRycyB7XG4gIG1heE91dHB1dFNpemU6IG51bWJlcjtcbiAgaW91VGhyZXNob2xkOiBudW1iZXI7XG4gIHNjb3JlVGhyZXNob2xkOiBudW1iZXI7XG4gIHNvZnRObXNTaWdtYTogbnVtYmVyO1xufVxuXG5leHBvcnQgY29uc3QgT25lc0xpa2UgPSAnT25lc0xpa2UnO1xuZXhwb3J0IHR5cGUgT25lc0xpa2VJbnB1dHMgPSBVbmFyeUlucHV0cztcblxuZXhwb3J0IGNvbnN0IE9uZUhvdCA9ICdPbmVIb3QnO1xuZXhwb3J0IHR5cGUgT25lSG90SW5wdXRzID0gUGljazxOYW1lZFRlbnNvckluZm9NYXAsICdpbmRpY2VzJz47XG5leHBvcnQgaW50ZXJmYWNlIE9uZUhvdEF0dHJzIHtcbiAgZGVwdGg6IG51bWJlcjtcbiAgb25WYWx1ZTogbnVtYmVyO1xuICBvZmZWYWx1ZTogbnVtYmVyO1xufVxuXG5leHBvcnQgY29uc3QgUGFkVjIgPSAnUGFkVjInO1xuZXhwb3J0IHR5cGUgUGFkVjJJbnB1dHMgPSBQaWNrPE5hbWVkVGVuc29ySW5mb01hcCwgJ3gnPjtcbmV4cG9ydCBpbnRlcmZhY2UgUGFkVjJBdHRycyB7XG4gIHBhZGRpbmdzOiBBcnJheTxbbnVtYmVyLCBudW1iZXJdPjtcbiAgY29uc3RhbnRWYWx1ZTogbnVtYmVyO1xufVxuXG5leHBvcnQgY29uc3QgUG9vbCA9ICdQb29sJztcbmV4cG9ydCB0eXBlIFBvb2xJbnB1dHMgPSBQaWNrPE5hbWVkVGVuc29ySW5mb01hcCwgJ2lucHV0Jz47XG5cbmV4cG9ydCBjb25zdCBQb3cgPSAnUG93JztcbmV4cG9ydCB0eXBlIFBvd0lucHV0cyA9IEJpbmFyeUlucHV0cztcblxuZXhwb3J0IGNvbnN0IFByZWx1ID0gJ1ByZWx1JztcbmV4cG9ydCB0eXBlIFByZWx1SW5wdXRzID0gUGljazxOYW1lZFRlbnNvckluZm9NYXAsICd4J3wnYWxwaGEnPjtcblxuZXhwb3J0IGNvbnN0IFByb2QgPSAnUHJvZCc7XG5leHBvcnQgdHlwZSBQcm9kSW5wdXRzID0gUGljazxOYW1lZFRlbnNvckluZm9NYXAsICd4Jz47XG5leHBvcnQgaW50ZXJmYWNlIFByb2RBdHRycyB7XG4gIGF4aXM6IG51bWJlcnxudW1iZXJbXTtcbiAga2VlcERpbXM6IGJvb2xlYW47XG59XG5cbmV4cG9ydCBjb25zdCBSYW5nZSA9ICdSYW5nZSc7XG5leHBvcnQgaW50ZXJmYWNlIFJhbmdlQXR0cnMge1xuICBzdGFydDogbnVtYmVyO1xuICBzdG9wOiBudW1iZXI7XG4gIHN0ZXA6IG51bWJlcjtcbiAgZHR5cGU6ICdmbG9hdDMyJ3wnaW50MzInO1xufVxuXG5leHBvcnQgY29uc3QgUmVhbCA9ICdSZWFsJztcbmV4cG9ydCB0eXBlIFJlYWxJbnB1dHMgPSBQaWNrPE5hbWVkVGVuc29ySW5mb01hcCwgJ2lucHV0Jz47XG5cbmV4cG9ydCBjb25zdCBSZWNpcHJvY2FsID0gJ1JlY2lwcm9jYWwnO1xuZXhwb3J0IHR5cGUgUmVjaXByb2NhbElucHV0cyA9IFVuYXJ5SW5wdXRzO1xuXG5leHBvcnQgY29uc3QgUmVsdSA9ICdSZWx1JztcbmV4cG9ydCB0eXBlIFJlbHVJbnB1dHMgPSBQaWNrPE5hbWVkVGVuc29ySW5mb01hcCwgJ3gnPjtcblxuZXhwb3J0IGNvbnN0IFJlc2hhcGUgPSAnUmVzaGFwZSc7XG5leHBvcnQgdHlwZSBSZXNoYXBlSW5wdXRzID0gUGljazxOYW1lZFRlbnNvckluZm9NYXAsICd4Jz47XG5leHBvcnQgaW50ZXJmYWNlIFJlc2hhcGVBdHRycyB7XG4gIHNoYXBlOiBudW1iZXJbXTtcbn1cblxuZXhwb3J0IGNvbnN0IFJlc2l6ZU5lYXJlc3ROZWlnaGJvciA9ICdSZXNpemVOZWFyZXN0TmVpZ2hib3InO1xuZXhwb3J0IHR5cGUgUmVzaXplTmVhcmVzdE5laWdoYm9ySW5wdXRzID0gUGljazxOYW1lZFRlbnNvckluZm9NYXAsICdpbWFnZXMnPjtcbmV4cG9ydCBpbnRlcmZhY2UgUmVzaXplTmVhcmVzdE5laWdoYm9yQXR0cnMge1xuICBhbGlnbkNvcm5lcnM6IGJvb2xlYW47XG4gIHNpemU6IFtudW1iZXIsIG51bWJlcl07XG59XG5cbmV4cG9ydCBjb25zdCBSZXNpemVOZWFyZXN0TmVpZ2hib3JHcmFkID0gJ1Jlc2l6ZU5lYXJlc3ROZWlnaGJvckdyYWQnO1xuZXhwb3J0IHR5cGUgUmVzaXplTmVhcmVzdE5laWdoYm9yR3JhZElucHV0cyA9XG4gICAgUGljazxOYW1lZFRlbnNvckluZm9NYXAsICdpbWFnZXMnPjtcblxuZXhwb3J0IGNvbnN0IFJlc2l6ZUJpbGluZWFyID0gJ1Jlc2l6ZUJpbGluZWFyJztcbmV4cG9ydCB0eXBlIFJlc2l6ZUJpbGluZWFySW5wdXRzID0gUGljazxOYW1lZFRlbnNvckluZm9NYXAsICdpbWFnZXMnPjtcbmV4cG9ydCBpbnRlcmZhY2UgUmVzaXplQmlsaW5lYXJBdHRycyB7XG4gIGFsaWduQ29ybmVyczogYm9vbGVhbjtcbiAgc2l6ZTogW251bWJlciwgbnVtYmVyXTtcbn1cblxuZXhwb3J0IGNvbnN0IFJlc2l6ZUJpbGluZWFyR3JhZCA9ICdSZXNpemVCaWxpbmVhckdyYWQnO1xuZXhwb3J0IHR5cGUgUmVzaXplQmlsaW5lYXJHcmFkSW5wdXRzID0gUGljazxOYW1lZFRlbnNvckluZm9NYXAsICdpbWFnZXMnPjtcblxuZXhwb3J0IGNvbnN0IFJlbHU2ID0gJ1JlbHU2JztcbmV4cG9ydCB0eXBlIFJlbHU2SW5wdXRzID0gUGljazxOYW1lZFRlbnNvckluZm9NYXAsICd4Jz47XG5cbmV4cG9ydCBjb25zdCBSZXZlcnNlID0gJ1JldmVyc2UnO1xuZXhwb3J0IHR5cGUgUmV2ZXJzZUlucHV0cyA9IFBpY2s8TmFtZWRUZW5zb3JJbmZvTWFwLCAneCc+O1xuZXhwb3J0IGludGVyZmFjZSBSZXZlcnNlQXR0cnMge1xuICBkaW1zOiBudW1iZXJ8bnVtYmVyW107XG59XG5cbmV4cG9ydCBjb25zdCBSb3VuZCA9ICdSb3VuZCc7XG5leHBvcnQgdHlwZSBSb3VuZElucHV0cyA9IFVuYXJ5SW5wdXRzO1xuXG5leHBvcnQgY29uc3QgUnNxcnQgPSAnUnNxcnQnO1xuZXhwb3J0IHR5cGUgUnNxcnRJbnB1dHMgPSBVbmFyeUlucHV0cztcblxuZXhwb3J0IGNvbnN0IFNjYXR0ZXJOZCA9ICdTY2F0dGVyTmQnO1xuZXhwb3J0IHR5cGUgU2NhdHRlck5kSW5wdXRzID0gUGljazxOYW1lZFRlbnNvckluZm9NYXAsICdpbmRpY2VzJ3wndXBkYXRlcyc+O1xuZXhwb3J0IGludGVyZmFjZSBTY2F0dGVyTmRBdHRycyB7XG4gIHNoYXBlOiBudW1iZXJbXTtcbn1cblxuZXhwb3J0IGNvbnN0IFNlbGVjdFYyID0gJ1NlbGVjdFYyJztcbmV4cG9ydCB0eXBlIFNlbGVjdFYySW5wdXRzID0gUGljazxOYW1lZFRlbnNvckluZm9NYXAsICdjb25kaXRpb24nfCd0J3wnZSc+O1xuXG5leHBvcnQgY29uc3QgU2VsdSA9ICdTZWx1JztcbmV4cG9ydCB0eXBlIFNlbHVJbnB1dHMgPSBQaWNrPE5hbWVkVGVuc29ySW5mb01hcCwgJ3gnPjtcblxuZXhwb3J0IGNvbnN0IFNsaWNlID0gJ1NsaWNlJztcbmV4cG9ydCB0eXBlIFNsaWNlSW5wdXRzID0gUGljazxOYW1lZFRlbnNvckluZm9NYXAsICd4Jz47XG5leHBvcnQgaW50ZXJmYWNlIFNsaWNlQXR0cnMge1xuICBiZWdpbjogbnVtYmVyfG51bWJlcltdO1xuICBzaXplOiBudW1iZXJ8bnVtYmVyW107XG59XG5leHBvcnQgY29uc3QgU2luID0gJ1Npbic7XG5leHBvcnQgdHlwZSBTaW5JbnB1dHMgPSBVbmFyeUlucHV0cztcblxuZXhwb3J0IGNvbnN0IFNpbmggPSAnU2luaCc7XG5leHBvcnQgdHlwZSBTaW5oSW5wdXRzID0gVW5hcnlJbnB1dHM7XG5cbmV4cG9ydCBjb25zdCBTaWduID0gJ1NpZ24nO1xuZXhwb3J0IHR5cGUgU2lnbklucHV0cyA9IFVuYXJ5SW5wdXRzO1xuXG5leHBvcnQgY29uc3QgU2lnbW9pZCA9ICdTaWdtb2lkJztcbmV4cG9ydCB0eXBlIFNpZ21vaWRJbnB1dHMgPSBVbmFyeUlucHV0cztcblxuZXhwb3J0IGNvbnN0IFNvZnRwbHVzID0gJ1NvZnRwbHVzJztcbmV4cG9ydCB0eXBlIFNvZnRwbHVzSW5wdXRzID0gVW5hcnlJbnB1dHM7XG5cbmV4cG9ydCBjb25zdCBTcXJ0ID0gJ1NxcnQnO1xuZXhwb3J0IHR5cGUgU3FydElucHV0cyA9IFVuYXJ5SW5wdXRzO1xuXG5leHBvcnQgY29uc3QgU3VtID0gJ1N1bSc7XG5leHBvcnQgdHlwZSBTdW1JbnB1dHMgPSBQaWNrPE5hbWVkVGVuc29ySW5mb01hcCwgJ3gnPjtcbmV4cG9ydCBpbnRlcmZhY2UgU3VtQXR0cnMge1xuICBheGlzOiBudW1iZXJ8bnVtYmVyW107XG4gIGtlZXBEaW1zOiBib29sZWFuO1xufVxuXG5leHBvcnQgY29uc3QgU3BhY2VUb0JhdGNoTkQgPSAnU3BhY2VUb0JhdGNoTkQnO1xuZXhwb3J0IHR5cGUgU3BhY2VUb0JhdGNoTkRJbnB1dHMgPSBQaWNrPE5hbWVkVGVuc29ySW5mb01hcCwgJ3gnPjtcbmV4cG9ydCBpbnRlcmZhY2UgU3BhY2VUb0JhdGNoTkRBdHRycyB7XG4gIGJsb2NrU2hhcGU6IG51bWJlcltdO1xuICBwYWRkaW5nczogbnVtYmVyW11bXTtcbn1cblxuZXhwb3J0IGNvbnN0IFNwbGl0ViA9ICdTcGxpdFYnO1xuZXhwb3J0IHR5cGUgU3BsaXRWSW5wdXRzID0gUGljazxOYW1lZFRlbnNvckluZm9NYXAsICd4Jz47XG5leHBvcnQgaW50ZXJmYWNlIFNwbGl0VkF0dHJzIHtcbiAgbnVtT3JTaXplU3BsaXRzOiBudW1iZXJbXXxudW1iZXI7XG4gIGF4aXM6IG51bWJlcjtcbn1cblxuZXhwb3J0IGNvbnN0IFNvZnRtYXggPSAnU29mdG1heCc7XG5leHBvcnQgdHlwZSBTb2Z0bWF4SW5wdXRzID0gUGljazxOYW1lZFRlbnNvckluZm9NYXAsICdsb2dpdHMnPjtcbmV4cG9ydCBpbnRlcmZhY2UgU29mdG1heEF0dHJzIHtcbiAgZGltOiBudW1iZXI7XG59XG5cbmV4cG9ydCBjb25zdCBTcXVhcmVkRGlmZmVyZW5jZSA9ICdTcXVhcmVkRGlmZmVyZW5jZSc7XG5leHBvcnQgdHlwZSBTcXVhcmVkRGlmZmVyZW5jZUlucHV0cyA9IEJpbmFyeUlucHV0cztcblxuZXhwb3J0IGNvbnN0IFNxdWFyZSA9ICdTcXVhcmUnO1xuZXhwb3J0IHR5cGUgU3F1YXJlSW5wdXRzID0gUGljazxOYW1lZFRlbnNvckluZm9NYXAsICd4Jz47XG5cbmV4cG9ydCBjb25zdCBTdWIgPSAnU3ViJztcbmV4cG9ydCB0eXBlIFN1YklucHV0cyA9IEJpbmFyeUlucHV0cztcblxuZXhwb3J0IGNvbnN0IFNwYXJzZVRvRGVuc2UgPSAnU3BhcnNlVG9EZW5zZSc7XG5leHBvcnQgdHlwZSBTcGFyc2VUb0RlbnNlSW5wdXRzID1cbiAgICBQaWNrPE5hbWVkVGVuc29ySW5mb01hcCwgJ3NwYXJzZUluZGljZXMnfCdzcGFyc2VWYWx1ZXMnfCdkZWZhdWx0VmFsdWUnPjtcbmV4cG9ydCBpbnRlcmZhY2UgU3BhcnNlVG9EZW5zZUF0dHJzIHtcbiAgb3V0cHV0U2hhcGU6IG51bWJlcltdO1xufVxuXG5leHBvcnQgY29uc3QgU3RyaWRlZFNsaWNlID0gJ1N0cmlkZWRTbGljZSc7XG5leHBvcnQgdHlwZSBTdHJpZGVkU2xpY2VJbnB1dHMgPSBQaWNrPE5hbWVkVGVuc29ySW5mb01hcCwgJ3gnPjtcbmV4cG9ydCBpbnRlcmZhY2UgU3RyaWRlZFNsaWNlQXR0cnMge1xuICBiZWdpbjogbnVtYmVyW107XG4gIGVuZDogbnVtYmVyW107XG4gIHN0cmlkZXM6IG51bWJlcltdO1xuICBiZWdpbk1hc2s6IG51bWJlcjtcbiAgZW5kTWFzazogbnVtYmVyO1xuICBlbGxpcHNpc01hc2s6IG51bWJlcjtcbiAgbmV3QXhpc01hc2s6IG51bWJlcjtcbiAgc2hyaW5rQXhpc01hc2s6IG51bWJlcjtcbn1cblxuZXhwb3J0IGNvbnN0IFRhbiA9ICdUYW4nO1xuZXhwb3J0IHR5cGUgVGFuSW5wdXRzID0gVW5hcnlJbnB1dHM7XG5cbmV4cG9ydCBjb25zdCBUYW5oID0gJ1RhbmgnO1xuZXhwb3J0IHR5cGUgVGFuaElucHV0cyA9IFVuYXJ5SW5wdXRzO1xuXG5leHBvcnQgY29uc3QgVGlsZSA9ICdUaWxlJztcbmV4cG9ydCB0eXBlIFRpbGVJbnB1dHMgPSBQaWNrPE5hbWVkVGVuc29ySW5mb01hcCwgJ3gnPjtcbmV4cG9ydCBpbnRlcmZhY2UgVGlsZUF0dHJzIHtcbiAgcmVwczogbnVtYmVyW107XG59XG5cbmV4cG9ydCBjb25zdCBUb3BLID0gJ1RvcEsnO1xuZXhwb3J0IHR5cGUgVG9wS0lucHV0cyA9IFBpY2s8TmFtZWRUZW5zb3JJbmZvTWFwLCAneCc+O1xuZXhwb3J0IGludGVyZmFjZSBUb3BLQXR0cnMge1xuICBrOiBudW1iZXI7XG4gIHNvcnRlZDogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGNvbnN0IFRyYW5zcG9zZSA9ICdUcmFuc3Bvc2UnO1xuZXhwb3J0IHR5cGUgVHJhbnNwb3NlSW5wdXRzID0gUGljazxOYW1lZFRlbnNvckluZm9NYXAsICd4Jz47XG5leHBvcnQgaW50ZXJmYWNlIFRyYW5zcG9zZUF0dHJzIHtcbiAgcGVybTogbnVtYmVyW107XG59XG5cbmV4cG9ydCBjb25zdCBVbmlxdWUgPSAnVW5pcXVlJztcbmV4cG9ydCB0eXBlIFVuaXF1ZUlucHV0cyA9IFBpY2s8TmFtZWRUZW5zb3JJbmZvTWFwLCAneCc+O1xuZXhwb3J0IGludGVyZmFjZSBVbmlxdWVBdHRycyB7XG4gIGF4aXM6IG51bWJlcjtcbn1cblxuZXhwb3J0IHR5cGUgVW5hcnlJbnB1dHMgPSBQaWNrPE5hbWVkVGVuc29ySW5mb01hcCwgJ3gnPjtcblxuZXhwb3J0IGNvbnN0IFVucGFjayA9ICdVbnBhY2snO1xuZXhwb3J0IHR5cGUgVW5wYWNrSW5wdXRzID0gUGljazxOYW1lZFRlbnNvckluZm9NYXAsICd2YWx1ZSc+O1xuZXhwb3J0IGludGVyZmFjZSBVbnBhY2tBdHRycyB7XG4gIGF4aXM6IG51bWJlcjtcbn1cblxuZXhwb3J0IGNvbnN0IFVuc29ydGVkU2VnbWVudFN1bSA9ICdVbnNvcnRlZFNlZ21lbnRTdW0nO1xuZXhwb3J0IHR5cGUgVW5zb3J0ZWRTZWdtZW50U3VtSW5wdXRzID1cbiAgICBQaWNrPE5hbWVkVGVuc29ySW5mb01hcCwgJ3gnfCdzZWdtZW50SWRzJz47XG5leHBvcnQgaW50ZXJmYWNlIFVuc29ydGVkU2VnbWVudFN1bUF0dHJzIHtcbiAgbnVtU2VnbWVudHM6IG51bWJlcjtcbn1cblxuZXhwb3J0IGNvbnN0IFplcm9zTGlrZSA9ICdaZXJvc0xpa2UnO1xuZXhwb3J0IHR5cGUgWmVyb3NMaWtlSW5wdXRzID0gVW5hcnlJbnB1dHM7XG5cbi8qKlxuICogVGVuc29yRmxvdy5qcy1vbmx5IGtlcm5lbHNcbiAqL1xuZXhwb3J0IGNvbnN0IFN0ZXAgPSAnU3RlcCc7XG5leHBvcnQgdHlwZSBTdGVwSW5wdXRzID0gVW5hcnlJbnB1dHM7XG5leHBvcnQgaW50ZXJmYWNlIFN0ZXBBdHRycyB7XG4gIGFscGhhOiBudW1iZXI7XG59XG5cbmV4cG9ydCBjb25zdCBGcm9tUGl4ZWxzID0gJ0Zyb21QaXhlbHMnO1xuZXhwb3J0IGludGVyZmFjZSBGcm9tUGl4ZWxzSW5wdXRzIHtcbiAgcGl4ZWxzOiBQaXhlbERhdGF8SW1hZ2VEYXRhfEhUTUxJbWFnZUVsZW1lbnR8SFRNTENhbnZhc0VsZW1lbnR8XG4gICAgICBIVE1MVmlkZW9FbGVtZW50O1xufVxuZXhwb3J0IGludGVyZmFjZSBGcm9tUGl4ZWxzQXR0cnMge1xuICBudW1DaGFubmVsczogbnVtYmVyO1xufVxuXG5leHBvcnQgY29uc3QgUm90YXRlV2l0aE9mZnNldCA9ICdSb3RhdGVXaXRoT2Zmc2V0JztcbmV4cG9ydCB0eXBlIFJvdGF0ZVdpdGhPZmZzZXRJbnB1dHMgPSBQaWNrPE5hbWVkVGVuc29ySW5mb01hcCwgJ2ltYWdlJz47XG5leHBvcnQgaW50ZXJmYWNlIFJvdGF0ZVdpdGhPZmZzZXRBdHRycyB7XG4gIHJhZGlhbnM6IG51bWJlcjtcbiAgZmlsbFZhbHVlOiBudW1iZXJ8W251bWJlciwgbnVtYmVyLCBudW1iZXJdO1xuICBjZW50ZXI6IG51bWJlcnxbbnVtYmVyLCBudW1iZXJdO1xufVxuXG5leHBvcnQgY29uc3QgX0Z1c2VkTWF0TXVsID0gJ19GdXNlZE1hdE11bCc7XG4vLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6IGNsYXNzLW5hbWVcbmV4cG9ydCBpbnRlcmZhY2UgX0Z1c2VkTWF0TXVsSW5wdXRzIGV4dGVuZHMgTmFtZWRUZW5zb3JJbmZvTWFwIHtcbiAgYTogVGVuc29ySW5mbztcbiAgYjogVGVuc29ySW5mbztcbiAgYmlhcz86IFRlbnNvckluZm87XG4gIHByZWx1QWN0aXZhdGlvbldlaWdodHM/OiBUZW5zb3JJbmZvO1xufVxuLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOiBjbGFzcy1uYW1lXG5leHBvcnQgaW50ZXJmYWNlIF9GdXNlZE1hdE11bEF0dHJzIHtcbiAgdHJhbnNwb3NlQTogYm9vbGVhbjtcbiAgdHJhbnNwb3NlQjogYm9vbGVhbjtcbiAgYWN0aXZhdGlvbjogQWN0aXZhdGlvbjtcbn1cblxuZXhwb3J0IGNvbnN0IEZ1c2VkQ29udjJEID0gJ0Z1c2VkQ29udjJEJztcbmV4cG9ydCBpbnRlcmZhY2UgRnVzZWRDb252MkRJbnB1dHMgZXh0ZW5kcyBOYW1lZFRlbnNvckluZm9NYXAge1xuICB4OiBUZW5zb3JJbmZvO1xuICBmaWx0ZXI6IFRlbnNvckluZm87XG4gIGJpYXM/OiBUZW5zb3JJbmZvO1xuICBwcmVsdUFjdGl2YXRpb25XZWlnaHRzPzogVGVuc29ySW5mbztcbn1cbmV4cG9ydCBpbnRlcmZhY2UgRnVzZWRDb252MkRBdHRycyB7XG4gIHN0cmlkZXM6IFtudW1iZXIsIG51bWJlcl18bnVtYmVyO1xuICBwYWQ6ICd2YWxpZCd8J3NhbWUnfG51bWJlcnxFeHBsaWNpdFBhZGRpbmc7XG4gIGRhdGFGb3JtYXQ6ICdOSFdDJ3wnTkNIVyc7XG4gIGRpbGF0aW9uczogW251bWJlciwgbnVtYmVyXXxudW1iZXI7XG4gIGRpbVJvdW5kaW5nTW9kZTogJ2Zsb29yJ3wncm91bmQnfCdjZWlsJztcbiAgYWN0aXZhdGlvbjogQWN0aXZhdGlvbjtcbn1cblxuZXhwb3J0IGNvbnN0IEZ1c2VkRGVwdGh3aXNlQ29udjJEID0gJ0Z1c2VkRGVwdGh3aXNlQ29udjJEJztcbmV4cG9ydCBpbnRlcmZhY2UgRnVzZWREZXB0aHdpc2VDb252MkRJbnB1dHMgZXh0ZW5kcyBOYW1lZFRlbnNvckluZm9NYXAge1xuICB4OiBUZW5zb3JJbmZvO1xuICBmaWx0ZXI6IFRlbnNvckluZm87XG4gIGJpYXM/OiBUZW5zb3JJbmZvO1xuICBwcmVsdUFjdGl2YXRpb25XZWlnaHRzPzogVGVuc29ySW5mbztcbn1cbmV4cG9ydCBpbnRlcmZhY2UgRnVzZWREZXB0aHdpc2VDb252MkRBdHRycyB7XG4gIHN0cmlkZXM6IFtudW1iZXIsIG51bWJlcl18bnVtYmVyO1xuICBwYWQ6ICd2YWxpZCd8J3NhbWUnfG51bWJlcjtcbiAgZGF0YUZvcm1hdDogJ05IV0MnfCdOQ0hXJztcbiAgZGlsYXRpb25zOiBbbnVtYmVyLCBudW1iZXJdfG51bWJlcjtcbiAgZGltUm91bmRpbmdNb2RlOiAnZmxvb3InfCdyb3VuZCd8J2NlaWwnO1xuICBhY3RpdmF0aW9uOiBBY3RpdmF0aW9uO1xufVxuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG5pbXBvcnQge1RlbnNvcn0gZnJvbSAnLi90ZW5zb3InO1xuaW1wb3J0IHtOYW1lZFRlbnNvck1hcH0gZnJvbSAnLi90ZW5zb3JfdHlwZXMnO1xuaW1wb3J0ICogYXMgdXRpbCBmcm9tICcuL3V0aWwnO1xuXG5leHBvcnQgaW50ZXJmYWNlIFRhcGVOb2RlIHtcbiAgaWQ6IG51bWJlcjtcbiAga2VybmVsTmFtZTogc3RyaW5nO1xuICBvdXRwdXRzOiBUZW5zb3JbXTtcbiAgaW5wdXRzOiBOYW1lZFRlbnNvck1hcDtcbiAgLy8gT3B0aW9uYWwgcGFyYW1zLCBkZWZpbmVkIG9ubHkgZm9yIG9wcyB3aXRoIGdyYWRpZW50IGltcGwuXG4gIGdyYWRpZW50PzogKGR5czogVGVuc29yW10pID0+IE5hbWVkR3JhZGllbnRNYXA7XG4gIHNhdmVkPzogVGVuc29yW107XG59XG5cbmV4cG9ydCB0eXBlIE5hbWVkR3JhZGllbnRNYXAgPSB7XG4gIFtpbnB1dE5hbWU6IHN0cmluZ106ICgpID0+IFRlbnNvcjtcbn07XG5cbi8qKlxuICogQ29tcHV0ZXMgYSBsaXN0IG9mIFRhcGVOb2RlcyB0aGF0IGNvbm5lY3QgeCB0byB5LCBmaWx0ZXJpbmcgZXZlcnl0aGluZyBlbHNlXG4gKiBvdXQgYW5kIHByZXNlcnZpbmcgdGhlIG9yZGVyIG9mIHRoZSBvcmlnaW5hbCB0YXBlIGVsZW1lbnRzLlxuICpcbiAqIEBwYXJhbSB0YXBlIFRoZSB0YXBlIGVsZW1lbnRzIHRvIGZpbHRlci5cbiAqIEBwYXJhbSB4cyBUaGUgaW5wdXQgVGVuc29ycy5cbiAqIEBwYXJhbSB5IFRoZSBvdXRwdXQgVGVuc29yLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0RmlsdGVyZWROb2Rlc1hUb1koXG4gICAgdGFwZTogVGFwZU5vZGVbXSwgeHM6IFRlbnNvcltdLCB5OiBUZW5zb3IpOiBUYXBlTm9kZVtdIHtcbiAgLy8gRm9yd2FyZCBwYXNzIHRvIGNvbXB1dGUgYWxsIHRoZSBub2RlcyBhbmQgVGVuc29ycyB0aGF0IGFyZSB0cmFuc2l0aXZlbHkgYVxuICAvLyBmdW5jdGlvbiBvZiB4LlxuICBjb25zdCB0ZW5zb3JzRnJvbVg6IHtbdGVuc29ySWQ6IG51bWJlcl06IGJvb2xlYW59ID0ge307XG4gIGNvbnN0IG5vZGVzRnJvbVg6IHtbbm9kZUlkOiBudW1iZXJdOiBib29sZWFufSA9IHt9O1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHhzLmxlbmd0aDsgaSsrKSB7XG4gICAgdGVuc29yc0Zyb21YW3hzW2ldLmlkXSA9IHRydWU7XG4gIH1cblxuICBmb3IgKGxldCBpID0gMDsgaSA8IHRhcGUubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBub2RlID0gdGFwZVtpXTtcbiAgICBjb25zdCBub2RlSW5wdXRzID0gbm9kZS5pbnB1dHM7XG4gICAgZm9yIChjb25zdCBpbnB1dE5hbWUgaW4gbm9kZUlucHV0cykge1xuICAgICAgY29uc3QgaW5wdXQgPSBub2RlSW5wdXRzW2lucHV0TmFtZV07XG5cbiAgICAgIGxldCBhbnlJbnB1dEZyb21YID0gZmFsc2U7XG4gICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHhzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgIGlmICh0ZW5zb3JzRnJvbVhbaW5wdXQuaWRdKSB7XG4gICAgICAgICAgbm9kZS5vdXRwdXRzLmZvckVhY2gob3V0cHV0ID0+IHRlbnNvcnNGcm9tWFtvdXRwdXQuaWRdID0gdHJ1ZSk7XG4gICAgICAgICAgYW55SW5wdXRGcm9tWCA9IHRydWU7XG4gICAgICAgICAgbm9kZXNGcm9tWFtub2RlLmlkXSA9IHRydWU7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGFueUlucHV0RnJvbVgpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gQmFja3dhcmQgcGFzcyB0byBmaW5kIGFsbCBvZiB0aGUgbm9kZXMgYW5kIFRlbnNvcnMgdGhhdCBsZWFkIHRvIHkuXG4gIGNvbnN0IHRlbnNvcnNMZWFkVG9ZOiB7W3RlbnNvcklkOiBudW1iZXJdOiBib29sZWFufSA9IHt9O1xuICB0ZW5zb3JzTGVhZFRvWVt5LmlkXSA9IHRydWU7XG4gIGNvbnN0IG5vZGVzVG9ZOiB7W25vZGVJZDogbnVtYmVyXTogYm9vbGVhbn0gPSB7fTtcblxuICBmb3IgKGxldCBpID0gdGFwZS5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgIGNvbnN0IG5vZGUgPSB0YXBlW2ldO1xuICAgIGNvbnN0IG5vZGVJbnB1dHMgPSBub2RlLmlucHV0cztcblxuICAgIC8vIElmIGFueSBvZiB0aGUgb3V0cHV0cyBsZWFkIHRvIHksIG1hcmsgYWxsIG9mIHRoZSBpbnB1dHMgYXMgbGVhZGluZyB0byB5LlxuICAgIGZvciAobGV0IGogPSAwOyBqIDwgbm9kZS5vdXRwdXRzLmxlbmd0aDsgaisrKSB7XG4gICAgICBpZiAodGVuc29yc0xlYWRUb1lbbm9kZS5vdXRwdXRzW2pdLmlkXSkge1xuICAgICAgICBmb3IgKGNvbnN0IGlucHV0TmFtZSBpbiBub2RlSW5wdXRzKSB7XG4gICAgICAgICAgdGVuc29yc0xlYWRUb1lbbm9kZUlucHV0c1tpbnB1dE5hbWVdLmlkXSA9IHRydWU7XG4gICAgICAgICAgbm9kZXNUb1lbbm9kZS5pZF0gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIFJldHVybiB0aGUgcGF0aHMgdGhhdCBjb21lIGZyb20geCBhbmQgbGVhZCB0byB5LlxuICBjb25zdCBmaWx0ZXJlZFRhcGU6IFRhcGVOb2RlW10gPSBbXTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCB0YXBlLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3Qgbm9kZSA9IHRhcGVbaV07XG5cbiAgICBpZiAobm9kZXNGcm9tWFtub2RlLmlkXSAmJiBub2Rlc1RvWVtub2RlLmlkXSkge1xuICAgICAgLy8gUHJ1bmUgdGhlIGlucHV0cyBmcm9tIHRoZSBub2RlIHRoYXQgYXJlbid0IGEgZnVuY3Rpb24gb2YgeC5cbiAgICAgIGNvbnN0IHBydW5lZElucHV0czoge1tpbnB1dE5hbWU6IHN0cmluZ106IFRlbnNvcn0gPSB7fTtcbiAgICAgIGZvciAoY29uc3QgaW5wdXROYW1lIGluIG5vZGUuaW5wdXRzKSB7XG4gICAgICAgIGNvbnN0IG5vZGVJbnB1dCA9IG5vZGUuaW5wdXRzW2lucHV0TmFtZV07XG4gICAgICAgIGlmICh0ZW5zb3JzRnJvbVhbbm9kZUlucHV0LmlkXSkge1xuICAgICAgICAgIHBydW5lZElucHV0c1tpbnB1dE5hbWVdID0gbm9kZUlucHV0O1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIENvcHkgdGhlIG5vZGUgYW5kIG92ZXJ3cml0ZSBpbnB1dHNBbmRBcmdzIHRvIHRoZSBwcnVuZWQgdmVyc2lvbi5cbiAgICAgIGNvbnN0IHBydW5lZE5vZGUgPSBPYmplY3QuYXNzaWduKHt9LCBub2RlKTtcbiAgICAgIHBydW5lZE5vZGUuaW5wdXRzID0gcHJ1bmVkSW5wdXRzO1xuICAgICAgcHJ1bmVkTm9kZS5vdXRwdXRzID0gbm9kZS5vdXRwdXRzO1xuXG4gICAgICBmaWx0ZXJlZFRhcGUucHVzaChwcnVuZWROb2RlKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZmlsdGVyZWRUYXBlO1xufVxuXG4vKipcbiAqIEJhY2twcm9wYWdhdGUgZ3JhZGllbnRzIHRocm91Z2ggdGhlIGZpbHRlcmVkIFRhcGVOb2Rlcy5cbiAqXG4gKiBAcGFyYW0gdGVuc29yQWNjdW11bGF0ZWRHcmFkaWVudE1hcCBBIG1hcCBvZiBUZW5zb3IgdG8gaXRzIGdyYWRpZW50LiBUaGlzIG1hcFxuICogaXMgbXV0YXRlZCBieSB0aGlzIG1ldGhvZC5cbiAqIEBwYXJhbSBmaWx0ZXJlZFRhcGUgVGhlIGZpbHRlcmVkIFRhcGVOb2RlcyB0byBiYWNrcHJvcCB0aHJvdWdoLlxuICovXG5leHBvcnQgZnVuY3Rpb24gYmFja3Byb3BhZ2F0ZUdyYWRpZW50cyhcbiAgICB0ZW5zb3JBY2N1bXVsYXRlZEdyYWRpZW50TWFwOiB7W3RlbnNvcklkOiBudW1iZXJdOiBUZW5zb3J9LFxuICAgIGZpbHRlcmVkVGFwZTogVGFwZU5vZGVbXSwgdGlkeTogKGY6IEZ1bmN0aW9uKSA9PiBUZW5zb3IsXG4gICAgYWRkOiAoYTogVGVuc29yLCBiOiBUZW5zb3IpID0+IFRlbnNvcikge1xuICAvLyBXYWxrIHRoZSB0YXBlIGJhY2t3YXJkIGFuZCBrZWVwIGEgbWFwIG9mIFRlbnNvciB0byBpdHMgZ3JhZGllbnQuXG4gIGZvciAobGV0IGkgPSBmaWx0ZXJlZFRhcGUubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICBjb25zdCBub2RlID0gZmlsdGVyZWRUYXBlW2ldO1xuXG4gICAgY29uc3QgZHlzOiBUZW5zb3JbXSA9IFtdO1xuICAgIG5vZGUub3V0cHV0cy5mb3JFYWNoKG8gPT4ge1xuICAgICAgY29uc3QgZ3JhZFRlbnNvciA9IHRlbnNvckFjY3VtdWxhdGVkR3JhZGllbnRNYXBbby5pZF07XG4gICAgICBpZiAoZ3JhZFRlbnNvciAhPSBudWxsKSB7XG4gICAgICAgIGR5cy5wdXNoKGdyYWRUZW5zb3IpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gVGhpcyBwYXJ0aWN1bGFyIG91dHB1dCBpcyBub3QgaW4gdGhlIGJhY2stcHJvcGFnYXRpb24gc3ViZ3JhcGgsIHNvIGl0XG4gICAgICAgIC8vIGRvZXMgbm90IGFmZmVjdCB0aGUgZmluYWwgb3V0cHV0LCB0aHVzIHdlIHB1dCBudWxsIGZvciBpdHMgZHkuXG4gICAgICAgIGR5cy5wdXNoKG51bGwpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaWYgKG5vZGUuZ3JhZGllbnQgPT0gbnVsbCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgIGBDYW5ub3QgY29tcHV0ZSBncmFkaWVudDogZ3JhZGllbnQgZnVuY3Rpb24gbm90IGZvdW5kIGAgK1xuICAgICAgICAgIGBmb3IgJHtub2RlLmtlcm5lbE5hbWV9LmApO1xuICAgIH1cblxuICAgIC8vIEJhY2twcm9wIGR5IHRocm91Z2ggdGhpcyBub2RlIGFuZCBhY2N1bXVsYXRlIGdyYWRpZW50cyBvdmVyIHRoZSBpbnB1dHMuXG4gICAgY29uc3QgaW5wdXRHcmFkaWVudHMgPSBub2RlLmdyYWRpZW50KGR5cyk7XG5cbiAgICBmb3IgKGNvbnN0IGlucHV0TmFtZSBpbiBub2RlLmlucHV0cykge1xuICAgICAgaWYgKCEoaW5wdXROYW1lIGluIGlucHV0R3JhZGllbnRzKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgICBgQ2Fubm90IGJhY2twcm9wIHRocm91Z2ggaW5wdXQgJHtpbnB1dE5hbWV9LiBgICtcbiAgICAgICAgICAgIGBBdmFpbGFibGUgZ3JhZGllbnRzIGZvdW5kOiAke09iamVjdC5rZXlzKGlucHV0R3JhZGllbnRzKX0uYCk7XG4gICAgICB9XG5cbiAgICAgIC8vIENhbGwgdGhlIGdyYWRpZW50IGZ1bmN0aW9uLlxuICAgICAgY29uc3QgZHggPSB0aWR5KCgpID0+IGlucHV0R3JhZGllbnRzW2lucHV0TmFtZV0oKSk7XG4gICAgICBpZiAoZHguZHR5cGUgIT09ICdmbG9hdDMyJykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgICBgRXJyb3IgaW4gZ3JhZGllbnQgZm9yIG9wICR7XG4gICAgICAgICAgICAgICAgbm9kZS5rZXJuZWxOYW1lfS4gVGhlIGdyYWRpZW50IG9mIGlucHV0IGAgK1xuICAgICAgICAgICAgYCR7aW5wdXROYW1lfSBtdXN0IGhhdmUgJ2Zsb2F0MzInIGR0eXBlLCBidXQgaGFzICcke2R4LmR0eXBlfSdgKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHggPSBub2RlLmlucHV0c1tpbnB1dE5hbWVdO1xuICAgICAgaWYgKCF1dGlsLmFycmF5c0VxdWFsKGR4LnNoYXBlLCB4LnNoYXBlKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgICBgRXJyb3IgaW4gZ3JhZGllbnQgZm9yIG9wICR7XG4gICAgICAgICAgICAgICAgbm9kZS5rZXJuZWxOYW1lfS4gVGhlIGdyYWRpZW50IG9mIGlucHV0IGAgK1xuICAgICAgICAgICAgYCcke2lucHV0TmFtZX0nIGhhcyBzaGFwZSAnJHtkeC5zaGFwZX0nLCB3aGljaCBkb2VzIG5vdCBtYXRjaCBgICtcbiAgICAgICAgICAgIGB0aGUgc2hhcGUgb2YgdGhlIGlucHV0ICcke3guc2hhcGV9J2ApO1xuICAgICAgfVxuXG4gICAgICBpZiAodGVuc29yQWNjdW11bGF0ZWRHcmFkaWVudE1hcFt4LmlkXSA9PSBudWxsKSB7XG4gICAgICAgIHRlbnNvckFjY3VtdWxhdGVkR3JhZGllbnRNYXBbeC5pZF0gPSBkeDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IGN1ckdyYWRpZW50ID0gdGVuc29yQWNjdW11bGF0ZWRHcmFkaWVudE1hcFt4LmlkXTtcbiAgICAgICAgdGVuc29yQWNjdW11bGF0ZWRHcmFkaWVudE1hcFt4LmlkXSA9IGFkZChjdXJHcmFkaWVudCwgZHgpO1xuICAgICAgICBjdXJHcmFkaWVudC5kaXNwb3NlKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbi8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1hbnlcbmZ1bmN0aW9uIF9pc05hdmlnYXRvckRlZmluZWQoKTogYm9vbGVhbiB7XG4gIHJldHVybiB0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyAmJiBuYXZpZ2F0b3IgIT0gbnVsbDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzTW9iaWxlKCk6IGJvb2xlYW4ge1xuICBpZiAoX2lzTmF2aWdhdG9yRGVmaW5lZCgpKSB7XG4gICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWFueVxuICAgIGNvbnN0IGEgPSBuYXZpZ2F0b3IudXNlckFnZW50IHx8IG5hdmlnYXRvci52ZW5kb3IgfHwgKHdpbmRvdyBhcyBhbnkpLm9wZXJhO1xuICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTptYXgtbGluZS1sZW5ndGhcbiAgICByZXR1cm4gLyhhbmRyb2lkfGJiXFxkK3xtZWVnbykuK21vYmlsZXxhdmFudGdvfGJhZGFcXC98YmxhY2tiZXJyeXxibGF6ZXJ8Y29tcGFsfGVsYWluZXxmZW5uZWN8aGlwdG9wfGllbW9iaWxlfGlwKGhvbmV8b2QpfGlyaXN8a2luZGxlfGxnZSB8bWFlbW98bWlkcHxtbXB8bW9iaWxlLitmaXJlZm94fG5ldGZyb250fG9wZXJhIG0ob2J8aW4paXxwYWxtKCBvcyk/fHBob25lfHAoaXhpfHJlKVxcL3xwbHVja2VyfHBvY2tldHxwc3B8c2VyaWVzKDR8NikwfHN5bWJpYW58dHJlb3x1cFxcLihicm93c2VyfGxpbmspfHZvZGFmb25lfHdhcHx3aW5kb3dzIGNlfHhkYXx4aWluby9pXG4gICAgICAgICAgICAgICAudGVzdChhKSB8fFxuICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bWF4LWxpbmUtbGVuZ3RoXG4gICAgICAgIC8xMjA3fDYzMTB8NjU5MHwzZ3NvfDR0aHB8NTBbMS02XWl8Nzcwc3w4MDJzfGEgd2F8YWJhY3xhYyhlcnxvb3xzXFwtKXxhaShrb3xybil8YWwoYXZ8Y2F8Y28pfGFtb2l8YW4oZXh8bnl8eXcpfGFwdHV8YXIoY2h8Z28pfGFzKHRlfHVzKXxhdHR3fGF1KGRpfFxcLW18ciB8cyApfGF2YW58YmUoY2t8bGx8bnEpfGJpKGxifHJkKXxibChhY3xheil8YnIoZXx2KXd8YnVtYnxid1xcLShufHUpfGM1NVxcL3xjYXBpfGNjd2F8Y2RtXFwtfGNlbGx8Y2h0bXxjbGRjfGNtZFxcLXxjbyhtcHxuZCl8Y3Jhd3xkYShpdHxsbHxuZyl8ZGJ0ZXxkY1xcLXN8ZGV2aXxkaWNhfGRtb2J8ZG8oY3xwKW98ZHMoMTJ8XFwtZCl8ZWwoNDl8YWkpfGVtKGwyfHVsKXxlcihpY3xrMCl8ZXNsOHxleihbNC03XTB8b3N8d2F8emUpfGZldGN8Zmx5KFxcLXxfKXxnMSB1fGc1NjB8Z2VuZXxnZlxcLTV8Z1xcLW1vfGdvKFxcLnd8b2QpfGdyKGFkfHVuKXxoYWllfGhjaXR8aGRcXC0obXxwfHQpfGhlaVxcLXxoaShwdHx0YSl8aHAoIGl8aXApfGhzXFwtY3xodChjKFxcLXwgfF98YXxnfHB8c3x0KXx0cCl8aHUoYXd8dGMpfGlcXC0oMjB8Z298bWEpfGkyMzB8aWFjKCB8XFwtfFxcLyl8aWJyb3xpZGVhfGlnMDF8aWtvbXxpbTFrfGlubm98aXBhcXxpcmlzfGphKHR8dilhfGpicm98amVtdXxqaWdzfGtkZGl8a2VqaXxrZ3QoIHxcXC8pfGtsb258a3B0IHxrd2NcXC18a3lvKGN8ayl8bGUobm98eGkpfGxnKCBnfFxcLyhrfGx8dSl8NTB8NTR8XFwtW2Etd10pfGxpYnd8bHlueHxtMVxcLXd8bTNnYXxtNTBcXC98bWEodGV8dWl8eG8pfG1jKDAxfDIxfGNhKXxtXFwtY3J8bWUocmN8cmkpfG1pKG84fG9hfHRzKXxtbWVmfG1vKDAxfDAyfGJpfGRlfGRvfHQoXFwtfCB8b3x2KXx6eil8bXQoNTB8cDF8diApfG13YnB8bXl3YXxuMTBbMC0yXXxuMjBbMi0zXXxuMzAoMHwyKXxuNTAoMHwyfDUpfG43KDAoMHwxKXwxMCl8bmUoKGN8bSlcXC18b258dGZ8d2Z8d2d8d3QpfG5vayg2fGkpfG56cGh8bzJpbXxvcCh0aXx3dil8b3Jhbnxvd2cxfHA4MDB8cGFuKGF8ZHx0KXxwZHhnfHBnKDEzfFxcLShbMS04XXxjKSl8cGhpbHxwaXJlfHBsKGF5fHVjKXxwblxcLTJ8cG8oY2t8cnR8c2UpfHByb3h8cHNpb3xwdFxcLWd8cWFcXC1hfHFjKDA3fDEyfDIxfDMyfDYwfFxcLVsyLTddfGlcXC0pfHF0ZWt8cjM4MHxyNjAwfHJha3N8cmltOXxybyh2ZXx6byl8czU1XFwvfHNhKGdlfG1hfG1tfG1zfG55fHZhKXxzYygwMXxoXFwtfG9vfHBcXC0pfHNka1xcL3xzZShjKFxcLXwwfDEpfDQ3fG1jfG5kfHJpKXxzZ2hcXC18c2hhcnxzaWUoXFwtfG0pfHNrXFwtMHxzbCg0NXxpZCl8c20oYWx8YXJ8YjN8aXR8dDUpfHNvKGZ0fG55KXxzcCgwMXxoXFwtfHZcXC18diApfHN5KDAxfG1iKXx0MigxOHw1MCl8dDYoMDB8MTB8MTgpfHRhKGd0fGxrKXx0Y2xcXC18dGRnXFwtfHRlbChpfG0pfHRpbVxcLXx0XFwtbW98dG8ocGx8c2gpfHRzKDcwfG1cXC18bTN8bTUpfHR4XFwtOXx1cChcXC5ifGcxfHNpKXx1dHN0fHY0MDB8djc1MHx2ZXJpfHZpKHJnfHRlKXx2ayg0MHw1WzAtM118XFwtdil8dm00MHx2b2RhfHZ1bGN8dngoNTJ8NTN8NjB8NjF8NzB8ODB8ODF8ODN8ODV8OTgpfHczYyhcXC18ICl8d2ViY3x3aGl0fHdpKGcgfG5jfG53KXx3bWxifHdvbnV8eDcwMHx5YXNcXC18eW91cnx6ZXRvfHp0ZVxcLS9pXG4gICAgICAgICAgICAudGVzdChhLnN1YnN0cigwLCA0KSk7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNCcm93c2VyKCk6IGJvb2xlYW4ge1xuICByZXR1cm4gKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5kb2N1bWVudCAhPSBudWxsKSB8fFxuICAgICAgLy9AdHMtaWdub3JlXG4gICAgICAodHlwZW9mIFdvcmtlckdsb2JhbFNjb3BlICE9PSAndW5kZWZpbmVkJyk7XG59XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOSBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5pbXBvcnQgJy4vZW5naW5lJztcblxuaW1wb3J0ICogYXMgZGV2aWNlX3V0aWwgZnJvbSAnLi9kZXZpY2VfdXRpbCc7XG5pbXBvcnQge2Vudn0gZnJvbSAnLi9lbnZpcm9ubWVudCc7XG5cbmNvbnN0IEVOViA9IGVudigpO1xuXG4vKipcbiAqIFRoaXMgZmlsZSBjb250YWlucyBlbnZpcm9ubWVudC1yZWxhdGVkIGZsYWcgcmVnaXN0cmF0aW9ucy5cbiAqL1xuXG4vKiogV2hldGhlciB0byBlbmFibGUgZGVidWcgbW9kZS4gKi9cbkVOVi5yZWdpc3RlckZsYWcoJ0RFQlVHJywgKCkgPT4gZmFsc2UsIGRlYnVnVmFsdWUgPT4ge1xuICBpZiAoZGVidWdWYWx1ZSkge1xuICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgJ0RlYnVnZ2luZyBtb2RlIGlzIE9OLiBUaGUgb3V0cHV0IG9mIGV2ZXJ5IG1hdGggY2FsbCB3aWxsICcgK1xuICAgICAgICAnYmUgZG93bmxvYWRlZCB0byBDUFUgYW5kIGNoZWNrZWQgZm9yIE5hTnMuICcgK1xuICAgICAgICAnVGhpcyBzaWduaWZpY2FudGx5IGltcGFjdHMgcGVyZm9ybWFuY2UuJyk7XG4gIH1cbn0pO1xuXG4vKiogV2hldGhlciB3ZSBhcmUgaW4gYSBicm93c2VyIChhcyB2ZXJzdXMsIHNheSwgbm9kZS5qcykgZW52aXJvbm1lbnQuICovXG5FTlYucmVnaXN0ZXJGbGFnKCdJU19CUk9XU0VSJywgKCkgPT4gZGV2aWNlX3V0aWwuaXNCcm93c2VyKCkpO1xuXG4vKiogV2hldGhlciB3ZSBhcmUgaW4gYSBicm93c2VyIChhcyB2ZXJzdXMsIHNheSwgbm9kZS5qcykgZW52aXJvbm1lbnQuICovXG5FTlYucmVnaXN0ZXJGbGFnKFxuICAgICdJU19OT0RFJyxcbiAgICAoKSA9PiAodHlwZW9mIHByb2Nlc3MgIT09ICd1bmRlZmluZWQnKSAmJlxuICAgICAgICAodHlwZW9mIHByb2Nlc3MudmVyc2lvbnMgIT09ICd1bmRlZmluZWQnKSAmJlxuICAgICAgICAodHlwZW9mIHByb2Nlc3MudmVyc2lvbnMubm9kZSAhPT0gJ3VuZGVmaW5lZCcpKTtcblxuLyoqIFdoZXRoZXIgdGhpcyBicm93c2VyIGlzIENocm9tZS4gKi9cbkVOVi5yZWdpc3RlckZsYWcoXG4gICAgJ0lTX0NIUk9NRScsXG4gICAgKCkgPT4gdHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiYgbmF2aWdhdG9yICE9IG51bGwgJiZcbiAgICAgICAgbmF2aWdhdG9yLnVzZXJBZ2VudCAhPSBudWxsICYmIC9DaHJvbWUvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkgJiZcbiAgICAgICAgL0dvb2dsZSBJbmMvLnRlc3QobmF2aWdhdG9yLnZlbmRvcikpO1xuXG4vKipcbiAqIFRydWUgd2hlbiB0aGUgZW52aXJvbm1lbnQgaXMgXCJwcm9kdWN0aW9uXCIgd2hlcmUgd2UgZGlzYWJsZSBzYWZldHkgY2hlY2tzXG4gKiB0byBnYWluIHBlcmZvcm1hbmNlLlxuICovXG5FTlYucmVnaXN0ZXJGbGFnKCdQUk9EJywgKCkgPT4gZmFsc2UpO1xuXG4vKipcbiAqIFdoZXRoZXIgdG8gZG8gc2FuaXR5IGNoZWNrcyB3aGVuIGluZmVycmluZyBhIHNoYXBlIGZyb20gdXNlci1wcm92aWRlZFxuICogdmFsdWVzLCB1c2VkIHdoZW4gY3JlYXRpbmcgYSBuZXcgdGVuc29yLlxuICovXG5FTlYucmVnaXN0ZXJGbGFnKFxuICAgICdURU5TT1JMSUtFX0NIRUNLX1NIQVBFX0NPTlNJU1RFTkNZJywgKCkgPT4gRU5WLmdldEJvb2woJ0RFQlVHJykpO1xuXG4vKiogV2hldGhlciBkZXByZWNhdGlvbiB3YXJuaW5ncyBhcmUgZW5hYmxlZC4gKi9cbkVOVi5yZWdpc3RlckZsYWcoJ0RFUFJFQ0FUSU9OX1dBUk5JTkdTX0VOQUJMRUQnLCAoKSA9PiB0cnVlKTtcblxuLyoqIFRydWUgaWYgcnVubmluZyB1bml0IHRlc3RzLiAqL1xuRU5WLnJlZ2lzdGVyRmxhZygnSVNfVEVTVCcsICgpID0+IGZhbHNlKTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE4IEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuaW1wb3J0IHtFTkdJTkV9IGZyb20gJy4vZW5naW5lJztcbmltcG9ydCB7ZW52fSBmcm9tICcuL2Vudmlyb25tZW50JztcbmltcG9ydCB7VGVuc29yfSBmcm9tICcuL3RlbnNvcic7XG5pbXBvcnQge0RhdGFUeXBlLCBUZW5zb3JMaWtlfSBmcm9tICcuL3R5cGVzJztcbmltcG9ydCB7YXNzZXJ0LCBmbGF0dGVuLCBpbmZlckR0eXBlLCBpc1R5cGVkQXJyYXksIHRvVHlwZWRBcnJheX0gZnJvbSAnLi91dGlsJztcblxuZXhwb3J0IGZ1bmN0aW9uIGluZmVyU2hhcGUodmFsOiBUZW5zb3JMaWtlLCBkdHlwZT86IERhdGFUeXBlKTogbnVtYmVyW10ge1xuICBsZXQgZmlyc3RFbGVtOiB0eXBlb2YgdmFsID0gdmFsO1xuXG4gIGlmIChpc1R5cGVkQXJyYXkodmFsKSkge1xuICAgIHJldHVybiBkdHlwZSA9PT0gJ3N0cmluZycgPyBbXSA6IFt2YWwubGVuZ3RoXTtcbiAgfVxuICBpZiAoIUFycmF5LmlzQXJyYXkodmFsKSkge1xuICAgIHJldHVybiBbXTsgIC8vIFNjYWxhci5cbiAgfVxuICBjb25zdCBzaGFwZTogbnVtYmVyW10gPSBbXTtcblxuICB3aGlsZSAoQXJyYXkuaXNBcnJheShmaXJzdEVsZW0pIHx8XG4gICAgICAgICBpc1R5cGVkQXJyYXkoZmlyc3RFbGVtKSAmJiBkdHlwZSAhPT0gJ3N0cmluZycpIHtcbiAgICBzaGFwZS5wdXNoKGZpcnN0RWxlbS5sZW5ndGgpO1xuICAgIGZpcnN0RWxlbSA9IGZpcnN0RWxlbVswXTtcbiAgfVxuICBpZiAoQXJyYXkuaXNBcnJheSh2YWwpICYmXG4gICAgICBlbnYoKS5nZXRCb29sKCdURU5TT1JMSUtFX0NIRUNLX1NIQVBFX0NPTlNJU1RFTkNZJykpIHtcbiAgICBkZWVwQXNzZXJ0U2hhcGVDb25zaXN0ZW5jeSh2YWwsIHNoYXBlLCBbXSk7XG4gIH1cblxuICByZXR1cm4gc2hhcGU7XG59XG5cbmZ1bmN0aW9uIGRlZXBBc3NlcnRTaGFwZUNvbnNpc3RlbmN5KFxuICAgIHZhbDogVGVuc29yTGlrZSwgc2hhcGU6IG51bWJlcltdLCBpbmRpY2VzOiBudW1iZXJbXSkge1xuICBpbmRpY2VzID0gaW5kaWNlcyB8fCBbXTtcbiAgaWYgKCEoQXJyYXkuaXNBcnJheSh2YWwpKSAmJiAhaXNUeXBlZEFycmF5KHZhbCkpIHtcbiAgICBhc3NlcnQoXG4gICAgICAgIHNoYXBlLmxlbmd0aCA9PT0gMCxcbiAgICAgICAgKCkgPT4gYEVsZW1lbnQgYXJyWyR7aW5kaWNlcy5qb2luKCddWycpfV0gaXMgYSBwcmltaXRpdmUsIGAgK1xuICAgICAgICAgICAgYGJ1dCBzaG91bGQgYmUgYW4gYXJyYXkvVHlwZWRBcnJheSBvZiAke3NoYXBlWzBdfSBlbGVtZW50c2ApO1xuICAgIHJldHVybjtcbiAgfVxuICBhc3NlcnQoXG4gICAgICBzaGFwZS5sZW5ndGggPiAwLFxuICAgICAgKCkgPT4gYEVsZW1lbnQgYXJyWyR7aW5kaWNlcy5qb2luKCddWycpfV0gc2hvdWxkIGJlIGEgcHJpbWl0aXZlLCBgICtcbiAgICAgICAgICBgYnV0IGlzIGFuIGFycmF5IG9mICR7dmFsLmxlbmd0aH0gZWxlbWVudHNgKTtcbiAgYXNzZXJ0KFxuICAgICAgdmFsLmxlbmd0aCA9PT0gc2hhcGVbMF0sXG4gICAgICAoKSA9PiBgRWxlbWVudCBhcnJbJHtpbmRpY2VzLmpvaW4oJ11bJyl9XSBzaG91bGQgaGF2ZSAke3NoYXBlWzBdfSBgICtcbiAgICAgICAgICBgZWxlbWVudHMsIGJ1dCBoYXMgJHt2YWwubGVuZ3RofSBlbGVtZW50c2ApO1xuICBjb25zdCBzdWJTaGFwZSA9IHNoYXBlLnNsaWNlKDEpO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHZhbC5sZW5ndGg7ICsraSkge1xuICAgIGRlZXBBc3NlcnRTaGFwZUNvbnNpc3RlbmN5KHZhbFtpXSwgc3ViU2hhcGUsIGluZGljZXMuY29uY2F0KGkpKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBhc3NlcnREdHlwZShcbiAgICBleHBlY3RlZER0eXBlOiBEYXRhVHlwZXwnbnVtZXJpYycsIGFjdHVhbERUeXBlOiBEYXRhVHlwZSwgYXJnTmFtZTogc3RyaW5nLFxuICAgIGZ1bmN0aW9uTmFtZTogc3RyaW5nKSB7XG4gIGlmIChleHBlY3RlZER0eXBlID09IG51bGwpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKGV4cGVjdGVkRHR5cGUgIT09ICdudW1lcmljJyAmJiBleHBlY3RlZER0eXBlICE9PSBhY3R1YWxEVHlwZSB8fFxuICAgICAgZXhwZWN0ZWREdHlwZSA9PT0gJ251bWVyaWMnICYmIGFjdHVhbERUeXBlID09PSAnc3RyaW5nJykge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgYEFyZ3VtZW50ICcke2FyZ05hbWV9JyBwYXNzZWQgdG8gJyR7ZnVuY3Rpb25OYW1lfScgbXVzdCBgICtcbiAgICAgICAgYGJlICR7ZXhwZWN0ZWREdHlwZX0gdGVuc29yLCBidXQgZ290ICR7YWN0dWFsRFR5cGV9IHRlbnNvcmApO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb252ZXJ0VG9UZW5zb3I8VCBleHRlbmRzIFRlbnNvcj4oXG4gICAgeDogVHxUZW5zb3JMaWtlLCBhcmdOYW1lOiBzdHJpbmcsIGZ1bmN0aW9uTmFtZTogc3RyaW5nLFxuICAgIHBhcnNlQXNEdHlwZTogRGF0YVR5cGV8J251bWVyaWMnID0gJ251bWVyaWMnKTogVCB7XG4gIGlmICh4IGluc3RhbmNlb2YgVGVuc29yKSB7XG4gICAgYXNzZXJ0RHR5cGUocGFyc2VBc0R0eXBlLCB4LmR0eXBlLCBhcmdOYW1lLCBmdW5jdGlvbk5hbWUpO1xuICAgIHJldHVybiB4O1xuICB9XG4gIGxldCBpbmZlcnJlZER0eXBlID0gaW5mZXJEdHlwZSh4KTtcbiAgLy8gSWYgdGhlIHVzZXIgZXhwZWN0cyBhIGJvb2wvaW50L2Zsb2F0LCB1c2UgdGhhdCBpbmZvIHRvIHVwZGF0ZSB0aGVcbiAgLy8gaW5mZXJyZWREdHlwZSB3aGVuIGl0IGlzIG5vdCBhIHN0cmluZy5cbiAgaWYgKGluZmVycmVkRHR5cGUgIT09ICdzdHJpbmcnICYmXG4gICAgICBbJ2Jvb2wnLCAnaW50MzInLCAnZmxvYXQzMiddLmluZGV4T2YocGFyc2VBc0R0eXBlKSA+PSAwKSB7XG4gICAgaW5mZXJyZWREdHlwZSA9IHBhcnNlQXNEdHlwZSBhcyBEYXRhVHlwZTtcbiAgfVxuICBhc3NlcnREdHlwZShwYXJzZUFzRHR5cGUsIGluZmVycmVkRHR5cGUsIGFyZ05hbWUsIGZ1bmN0aW9uTmFtZSk7XG5cbiAgaWYgKCh4ID09IG51bGwpIHx8XG4gICAgICAoIWlzVHlwZWRBcnJheSh4KSAmJiAhQXJyYXkuaXNBcnJheSh4KSAmJiB0eXBlb2YgeCAhPT0gJ251bWJlcicgJiZcbiAgICAgICB0eXBlb2YgeCAhPT0gJ2Jvb2xlYW4nICYmIHR5cGVvZiB4ICE9PSAnc3RyaW5nJykpIHtcbiAgICBjb25zdCB0eXBlID0geCA9PSBudWxsID8gJ251bGwnIDogKHggYXMge30pLmNvbnN0cnVjdG9yLm5hbWU7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBgQXJndW1lbnQgJyR7YXJnTmFtZX0nIHBhc3NlZCB0byAnJHtmdW5jdGlvbk5hbWV9JyBtdXN0IGJlIGEgYCArXG4gICAgICAgIGBUZW5zb3Igb3IgVGVuc29yTGlrZSwgYnV0IGdvdCAnJHt0eXBlfSdgKTtcbiAgfVxuICBjb25zdCBpbmZlcnJlZFNoYXBlID0gaW5mZXJTaGFwZSh4LCBpbmZlcnJlZER0eXBlKTtcbiAgaWYgKCFpc1R5cGVkQXJyYXkoeCkgJiYgIUFycmF5LmlzQXJyYXkoeCkpIHtcbiAgICB4ID0gW3hdIGFzIG51bWJlcltdO1xuICB9XG4gIGNvbnN0IHNraXBUeXBlZEFycmF5ID0gdHJ1ZTtcbiAgY29uc3QgdmFsdWVzID0gaW5mZXJyZWREdHlwZSAhPT0gJ3N0cmluZycgP1xuICAgICAgdG9UeXBlZEFycmF5KHgsIGluZmVycmVkRHR5cGUgYXMgRGF0YVR5cGUpIDpcbiAgICAgIGZsYXR0ZW4oeCBhcyBzdHJpbmdbXSwgW10sIHNraXBUeXBlZEFycmF5KSBhcyBzdHJpbmdbXTtcbiAgcmV0dXJuIEVOR0lORS5tYWtlVGVuc29yKHZhbHVlcywgaW5mZXJyZWRTaGFwZSwgaW5mZXJyZWREdHlwZSkgYXMgVDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbnZlcnRUb1RlbnNvckFycmF5PFQgZXh0ZW5kcyBUZW5zb3I+KFxuICAgIGFyZzogQXJyYXk8VHxUZW5zb3JMaWtlPiwgYXJnTmFtZTogc3RyaW5nLCBmdW5jdGlvbk5hbWU6IHN0cmluZyxcbiAgICBwYXJzZUFzRHR5cGU6IERhdGFUeXBlfCdudW1lcmljJyA9ICdudW1lcmljJyk6IFRbXSB7XG4gIGlmICghQXJyYXkuaXNBcnJheShhcmcpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBgQXJndW1lbnQgJHthcmdOYW1lfSBwYXNzZWQgdG8gJHtmdW5jdGlvbk5hbWV9IG11c3QgYmUgYSBgICtcbiAgICAgICAgJ2BUZW5zb3JbXWAgb3IgYFRlbnNvckxpa2VbXWAnKTtcbiAgfVxuICBjb25zdCB0ZW5zb3JzID0gYXJnIGFzIFRbXTtcbiAgcmV0dXJuIHRlbnNvcnMubWFwKFxuICAgICAgKHQsIGkpID0+IGNvbnZlcnRUb1RlbnNvcih0LCBgJHthcmdOYW1lfVske2l9XWAsIGZ1bmN0aW9uTmFtZSksXG4gICAgICBwYXJzZUFzRHR5cGUpO1xufVxuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTggR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuaW1wb3J0IHtFTkdJTkV9IGZyb20gJy4uL2VuZ2luZSc7XG5cbmV4cG9ydCBjb25zdCBPUF9TQ09QRV9TVUZGSVggPSAnX19vcCc7XG5cbi8qKlxuICogVXNlZCBmb3Igd3JhcHBpbmcgZnVuY3Rpb25zIHRoYXQgcGVyZm9ybSBtYXRoIG9wZXJhdGlvbnMgb25cbiAqIFRlbnNvcnMuIFRoZSBmdW5jdGlvbiB3aWxsIGJlIHdyYXBwZWQgaW4gYSBuYW1lZCBzY29wZSB0aGF0IGNsZWFucyBhbGxcbiAqIG1lbW9yeSB1c2FnZSBhZnRlciB0aGUgZnVuY3Rpb24gaXMgZG9uZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG9wPFQgZXh0ZW5kcyBGdW5jdGlvbj4oZjoge1tuYW1lOiBzdHJpbmddOiBUfSk6IFQge1xuICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMoZik7XG4gIGlmIChrZXlzLmxlbmd0aCAhPT0gMSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgYFBsZWFzZSBwcm92aWRlIGFuIG9iamVjdCB3aXRoIGEgc2luZ2xlIGtleSBgICtcbiAgICAgICAgYChvcGVyYXRpb24gbmFtZSkgbWFwcGluZyB0byBhIGZ1bmN0aW9uLiBHb3QgYW4gb2JqZWN0IHdpdGggYCArXG4gICAgICAgIGAke2tleXMubGVuZ3RofSBrZXlzLmApO1xuICB9XG5cbiAgbGV0IG9wTmFtZSA9IGtleXNbMF07XG4gIGNvbnN0IGZuID0gZltvcE5hbWVdO1xuXG4gIC8vIFN0cmlwIHRoZSB1bmRlcnNjb3JlIGZyb20gdGhlIGVuZCBvZiB0aGUgZnVuY3Rpb24gbmFtZS5cbiAgaWYgKG9wTmFtZS5lbmRzV2l0aCgnXycpKSB7XG4gICAgb3BOYW1lID0gb3BOYW1lLnN1YnN0cmluZygwLCBvcE5hbWUubGVuZ3RoIC0gMSk7XG4gIH1cblxuICAvLyBhZGQgYW4gX19vcCBzdWZmaXggdG8gZGlzdGluZ3Vpc2ggb3BzIGZyb20ga2VybmVscyBpbiB0Zi5wcm9maWxlXG4gIG9wTmFtZSA9IG9wTmFtZSArIE9QX1NDT1BFX1NVRkZJWDtcblxuICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tYW55XG4gIGNvbnN0IGYyID0gKC4uLmFyZ3M6IGFueVtdKSA9PiB7XG4gICAgRU5HSU5FLnN0YXJ0U2NvcGUob3BOYW1lKTtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzdWx0ID0gZm4oLi4uYXJncyk7XG4gICAgICBpZiAocmVzdWx0IGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdDYW5ub3QgcmV0dXJuIGEgUHJvbWlzZSBpbnNpZGUgb2YgdGlkeS4nKTtcbiAgICAgIH1cbiAgICAgIEVOR0lORS5lbmRTY29wZShyZXN1bHQpO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9IGNhdGNoIChleCkge1xuICAgICAgRU5HSU5FLmVuZFNjb3BlKG51bGwpO1xuICAgICAgdGhyb3cgZXg7XG4gICAgfVxuICB9O1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZjIsICduYW1lJywge3ZhbHVlOiBvcE5hbWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZX0pO1xuXG4gIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1hbnlcbiAgcmV0dXJuIGYyIGFzIGFueSBhcyBUO1xufVxuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuaW1wb3J0IHtFTkdJTkUsIEZvcndhcmRGdW5jfSBmcm9tICcuLi9lbmdpbmUnO1xuaW1wb3J0IHtDb21wbGV4LCBDb21wbGV4SW5wdXRzfSBmcm9tICcuLi9rZXJuZWxfbmFtZXMnO1xuaW1wb3J0IHtUZW5zb3J9IGZyb20gJy4uL3RlbnNvcic7XG5pbXBvcnQge05hbWVkVGVuc29yTWFwfSBmcm9tICcuLi90ZW5zb3JfdHlwZXMnO1xuaW1wb3J0IHtjb252ZXJ0VG9UZW5zb3J9IGZyb20gJy4uL3RlbnNvcl91dGlsX2Vudic7XG5pbXBvcnQge1RlbnNvckxpa2V9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCAqIGFzIHV0aWwgZnJvbSAnLi4vdXRpbCc7XG5cbmltcG9ydCB7b3B9IGZyb20gJy4vb3BlcmF0aW9uJztcblxuLyoqXG4gKiBDb252ZXJ0cyB0d28gcmVhbCBudW1iZXJzIHRvIGEgY29tcGxleCBudW1iZXIuXG4gKlxuICogR2l2ZW4gYSB0ZW5zb3IgYHJlYWxgIHJlcHJlc2VudGluZyB0aGUgcmVhbCBwYXJ0IG9mIGEgY29tcGxleCBudW1iZXIsIGFuZCBhXG4gKiB0ZW5zb3IgYGltYWdgIHJlcHJlc2VudGluZyB0aGUgaW1hZ2luYXJ5IHBhcnQgb2YgYSBjb21wbGV4IG51bWJlciwgdGhpc1xuICogb3BlcmF0aW9uIHJldHVybnMgY29tcGxleCBudW1iZXJzIGVsZW1lbnR3aXNlIG9mIHRoZSBmb3JtIFtyMCwgaTAsIHIxLCBpMV0sXG4gKiB3aGVyZSByIHJlcHJlc2VudHMgdGhlIHJlYWwgcGFydCBhbmQgaSByZXByZXNlbnRzIHRoZSBpbWFnIHBhcnQuXG4gKlxuICogVGhlIGlucHV0IHRlbnNvcnMgcmVhbCBhbmQgaW1hZyBtdXN0IGhhdmUgdGhlIHNhbWUgc2hhcGUuXG4gKlxuICogYGBganNcbiAqIGNvbnN0IHJlYWwgPSB0Zi50ZW5zb3IxZChbMi4yNSwgMy4yNV0pO1xuICogY29uc3QgaW1hZyA9IHRmLnRlbnNvcjFkKFs0Ljc1LCA1Ljc1XSk7XG4gKiBjb25zdCBjb21wbGV4ID0gdGYuY29tcGxleChyZWFsLCBpbWFnKTtcbiAqXG4gKiBjb21wbGV4LnByaW50KCk7XG4gKiBgYGBcbiAqXG4gKiBAZG9jIHtoZWFkaW5nOiAnVGVuc29ycycsIHN1YmhlYWRpbmc6ICdDcmVhdGlvbid9XG4gKi9cbmZ1bmN0aW9uIGNvbXBsZXhfPFQgZXh0ZW5kcyBUZW5zb3I+KHJlYWw6IFR8VGVuc29yTGlrZSwgaW1hZzogVHxUZW5zb3JMaWtlKTogVCB7XG4gIGNvbnN0ICRyZWFsID0gY29udmVydFRvVGVuc29yKHJlYWwsICdyZWFsJywgJ2NvbXBsZXgnKTtcbiAgY29uc3QgJGltYWcgPSBjb252ZXJ0VG9UZW5zb3IoaW1hZywgJ2ltYWcnLCAnY29tcGxleCcpO1xuICB1dGlsLmFzc2VydFNoYXBlc01hdGNoKFxuICAgICAgJHJlYWwuc2hhcGUsICRpbWFnLnNoYXBlLFxuICAgICAgYHJlYWwgYW5kIGltYWcgc2hhcGVzLCAkeyRyZWFsLnNoYXBlfSBhbmQgJHskaW1hZy5zaGFwZX0sIGAgK1xuICAgICAgICAgIGBtdXN0IG1hdGNoIGluIGNhbGwgdG8gdGYuY29tcGxleCgpLmApO1xuXG4gIGNvbnN0IGZvcndhcmQ6IEZvcndhcmRGdW5jPFRlbnNvcj4gPSAoYmFja2VuZCkgPT4ge1xuICAgIHJldHVybiBiYWNrZW5kLmNvbXBsZXgoJHJlYWwsICRpbWFnKTtcbiAgfTtcbiAgY29uc3QgaW5wdXRzOiBDb21wbGV4SW5wdXRzID0ge3JlYWw6ICRyZWFsLCBpbWFnOiAkaW1hZ307XG4gIHJldHVybiBFTkdJTkUucnVuS2VybmVsRnVuYyhcbiAgICAgICAgICAgICBmb3J3YXJkLCBpbnB1dHMgYXMge30gYXMgTmFtZWRUZW5zb3JNYXAsIG51bGwgLyogZ3JhZGllbnQgKi8sXG4gICAgICAgICAgICAgQ29tcGxleCkgYXMgVDtcbn1cblxuZXhwb3J0IGNvbnN0IGNvbXBsZXggPSBvcCh7Y29tcGxleF99KTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE4IEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuaW1wb3J0IHtFTkdJTkV9IGZyb20gJy4uL2VuZ2luZSc7XG5pbXBvcnQge1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yJztcbmltcG9ydCB7VGVuc29yTGlrZSwgVHlwZWRBcnJheX0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHtEYXRhVHlwZX0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHthc3NlcnQsIGFzc2VydE5vbk5lZ2F0aXZlSW50ZWdlckRpbWVuc2lvbnMsIGZsYXR0ZW4sIGluZmVyRHR5cGUsIGlzVHlwZWRBcnJheSwgc2l6ZUZyb21TaGFwZSwgdG9UeXBlZEFycmF5fSBmcm9tICcuLi91dGlsJztcblxuLyoqIFRoaXMgaXMgc2hhcmVkIGNvZGUgYWNyb3NzIGFsbCB0ZW5zb3IgY3JlYXRpb24gbWV0aG9kcy4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtYWtlVGVuc29yKFxuICAgIHZhbHVlczogVGVuc29yTGlrZSwgc2hhcGU6IG51bWJlcltdLCBpbmZlcnJlZFNoYXBlOiBudW1iZXJbXSxcbiAgICBkdHlwZT86IERhdGFUeXBlKTogVGVuc29yIHtcbiAgaWYgKGR0eXBlID09IG51bGwpIHtcbiAgICBkdHlwZSA9IGluZmVyRHR5cGUodmFsdWVzKTtcbiAgfVxuICBpZiAoZHR5cGUgPT09ICdjb21wbGV4NjQnKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBgQ2Fubm90IGNvbnN0cnVjdCBhIGNvbXBsZXg2NCB0ZW5zb3IgZGlyZWN0bHkuIGAgK1xuICAgICAgICBgUGxlYXNlIHVzZSB0Zi5jb21wbGV4KHJlYWwsIGltYWcpLmApO1xuICB9XG4gIGlmICghaXNUeXBlZEFycmF5KHZhbHVlcykgJiYgIUFycmF5LmlzQXJyYXkodmFsdWVzKSAmJlxuICAgICAgdHlwZW9mIHZhbHVlcyAhPT0gJ251bWJlcicgJiYgdHlwZW9mIHZhbHVlcyAhPT0gJ2Jvb2xlYW4nICYmXG4gICAgICB0eXBlb2YgdmFsdWVzICE9PSAnc3RyaW5nJykge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ3ZhbHVlcyBwYXNzZWQgdG8gdGVuc29yKHZhbHVlcykgbXVzdCBiZSBhIG51bWJlci9ib29sZWFuL3N0cmluZyBvciAnICtcbiAgICAgICAgJ2FuIGFycmF5IG9mIG51bWJlcnMvYm9vbGVhbnMvc3RyaW5ncywgb3IgYSBUeXBlZEFycmF5Jyk7XG4gIH1cbiAgaWYgKHNoYXBlICE9IG51bGwpIHtcbiAgICBhc3NlcnROb25OZWdhdGl2ZUludGVnZXJEaW1lbnNpb25zKHNoYXBlKTtcblxuICAgIGNvbnN0IHByb3ZpZGVkU2l6ZSA9IHNpemVGcm9tU2hhcGUoc2hhcGUpO1xuICAgIGNvbnN0IGluZmVycmVkU2l6ZSA9IHNpemVGcm9tU2hhcGUoaW5mZXJyZWRTaGFwZSk7XG4gICAgYXNzZXJ0KFxuICAgICAgICBwcm92aWRlZFNpemUgPT09IGluZmVycmVkU2l6ZSxcbiAgICAgICAgKCkgPT5cbiAgICAgICAgICAgIGBCYXNlZCBvbiB0aGUgcHJvdmlkZWQgc2hhcGUsIFske3NoYXBlfV0sIHRoZSB0ZW5zb3Igc2hvdWxkIGhhdmUgYCArXG4gICAgICAgICAgICBgJHtwcm92aWRlZFNpemV9IHZhbHVlcyBidXQgaGFzICR7aW5mZXJyZWRTaXplfWApO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbmZlcnJlZFNoYXBlLmxlbmd0aDsgKytpKSB7XG4gICAgICBjb25zdCBpbmZlcnJlZCA9IGluZmVycmVkU2hhcGVbaV07XG4gICAgICBjb25zdCBmbGF0RGltc0RvbnRNYXRjaCA9IGkgPT09IGluZmVycmVkU2hhcGUubGVuZ3RoIC0gMSA/XG4gICAgICAgICAgaW5mZXJyZWQgIT09IHNpemVGcm9tU2hhcGUoc2hhcGUuc2xpY2UoaSkpIDpcbiAgICAgICAgICB0cnVlO1xuICAgICAgYXNzZXJ0KFxuICAgICAgICAgIGluZmVycmVkU2hhcGVbaV0gPT09IHNoYXBlW2ldIHx8ICFmbGF0RGltc0RvbnRNYXRjaCxcbiAgICAgICAgICAoKSA9PiBgRXJyb3IgY3JlYXRpbmcgYSBuZXcgVGVuc29yLiBJbmZlcnJlZCBzaGFwZSBgICtcbiAgICAgICAgICAgICAgYCgke2luZmVycmVkU2hhcGV9KSBkb2VzIG5vdCBtYXRjaCB0aGUgcHJvdmlkZWQgYCArXG4gICAgICAgICAgICAgIGBzaGFwZSAoJHtzaGFwZX0pLiBgKTtcbiAgICB9XG4gIH1cblxuICBpZiAoIWlzVHlwZWRBcnJheSh2YWx1ZXMpICYmICFBcnJheS5pc0FycmF5KHZhbHVlcykpIHtcbiAgICB2YWx1ZXMgPSBbdmFsdWVzXSBhcyBudW1iZXJbXTtcbiAgfVxuXG4gIHNoYXBlID0gc2hhcGUgfHwgaW5mZXJyZWRTaGFwZTtcbiAgdmFsdWVzID0gZHR5cGUgIT09ICdzdHJpbmcnID9cbiAgICAgIHRvVHlwZWRBcnJheSh2YWx1ZXMsIGR0eXBlKSA6XG4gICAgICBmbGF0dGVuKHZhbHVlcyBhcyBzdHJpbmdbXSwgW10sIHRydWUpIGFzIHN0cmluZ1tdO1xuICByZXR1cm4gRU5HSU5FLm1ha2VUZW5zb3IodmFsdWVzIGFzIFR5cGVkQXJyYXksIHNoYXBlLCBkdHlwZSk7XG59XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbmltcG9ydCB7VGVuc29yfSBmcm9tICcuLi90ZW5zb3InO1xuaW1wb3J0IHtpbmZlclNoYXBlfSBmcm9tICcuLi90ZW5zb3JfdXRpbF9lbnYnO1xuaW1wb3J0IHtUZW5zb3JMaWtlfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQge0RhdGFUeXBlLCBSYW5rLCBTaGFwZU1hcH0gZnJvbSAnLi4vdHlwZXMnO1xuXG5pbXBvcnQge21ha2VUZW5zb3J9IGZyb20gJy4vdGVuc29yX29wc191dGlsJztcblxuLyoqXG4gKiBDcmVhdGVzIGEgYHRmLlRlbnNvcmAgd2l0aCB0aGUgcHJvdmlkZWQgdmFsdWVzLCBzaGFwZSBhbmQgZHR5cGUuXG4gKlxuICogYGBganNcbiAqIC8vIFBhc3MgYW4gYXJyYXkgb2YgdmFsdWVzIHRvIGNyZWF0ZSBhIHZlY3Rvci5cbiAqIHRmLnRlbnNvcihbMSwgMiwgMywgNF0pLnByaW50KCk7XG4gKiBgYGBcbiAqXG4gKiBgYGBqc1xuICogLy8gUGFzcyBhIG5lc3RlZCBhcnJheSBvZiB2YWx1ZXMgdG8gbWFrZSBhIG1hdHJpeCBvciBhIGhpZ2hlclxuICogLy8gZGltZW5zaW9uYWwgdGVuc29yLlxuICogdGYudGVuc29yKFtbMSwgMl0sIFszLCA0XV0pLnByaW50KCk7XG4gKiBgYGBcbiAqXG4gKiBgYGBqc1xuICogLy8gUGFzcyBhIGZsYXQgYXJyYXkgYW5kIHNwZWNpZnkgYSBzaGFwZSB5b3Vyc2VsZi5cbiAqIHRmLnRlbnNvcihbMSwgMiwgMywgNF0sIFsyLCAyXSkucHJpbnQoKTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB2YWx1ZXMgVGhlIHZhbHVlcyBvZiB0aGUgdGVuc29yLiBDYW4gYmUgbmVzdGVkIGFycmF5IG9mIG51bWJlcnMsXG4gKiAgICAgb3IgYSBmbGF0IGFycmF5LCBvciBhIGBUeXBlZEFycmF5YC4gSWYgdGhlIHZhbHVlcyBhcmUgc3RyaW5ncyxcbiAqICAgICB0aGV5IHdpbGwgYmUgZW5jb2RlZCBhcyB1dGYtOCBhbmQga2VwdCBhcyBgVWludDhBcnJheVtdYC5cbiAqIEBwYXJhbSBzaGFwZSBUaGUgc2hhcGUgb2YgdGhlIHRlbnNvci4gT3B0aW9uYWwuIElmIG5vdCBwcm92aWRlZCxcbiAqICAgaXQgaXMgaW5mZXJyZWQgZnJvbSBgdmFsdWVzYC5cbiAqIEBwYXJhbSBkdHlwZSBUaGUgZGF0YSB0eXBlLlxuICpcbiAqIEBkb2Mge2hlYWRpbmc6ICdUZW5zb3JzJywgc3ViaGVhZGluZzogJ0NyZWF0aW9uJ31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRlbnNvcjxSIGV4dGVuZHMgUmFuaz4oXG4gICAgdmFsdWVzOiBUZW5zb3JMaWtlLCBzaGFwZT86IFNoYXBlTWFwW1JdLCBkdHlwZT86IERhdGFUeXBlKTogVGVuc29yPFI+IHtcbiAgY29uc3QgaW5mZXJyZWRTaGFwZSA9IGluZmVyU2hhcGUodmFsdWVzLCBkdHlwZSk7XG4gIHJldHVybiBtYWtlVGVuc29yKHZhbHVlcywgc2hhcGUsIGluZmVycmVkU2hhcGUsIGR0eXBlKSBhcyBUZW5zb3I8Uj47XG59XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbi8qIFR5cGUgZGVmaW5pdGlvbnMgZm9yIGV4cG9ydGluZyBhbmQgaW1wb3J0aW5nIG9mIG1vZGVscy4gKi9cblxuLyoqXG4gKiBBIG1hcCBmcm9tIFRlbnNvciBkdHlwZSB0byBudW1iZXIgb2YgYnl0ZXMgcGVyIGVsZW1lbnQgb2YgdGhlIFRlbnNvci5cbiAqL1xuZXhwb3J0IGNvbnN0IERUWVBFX1ZBTFVFX1NJWkVfTUFQOiB7W2R0eXBlOiBzdHJpbmddOiBudW1iZXJ9ID0ge1xuICAnZmxvYXQzMic6IDQsXG4gICdmbG9hdDE2JzogMixcbiAgJ2ludDMyJzogNCxcbiAgJ3VpbnQxNic6IDIsXG4gICd1aW50OCc6IDEsXG4gICdib29sJzogMSxcbiAgJ2NvbXBsZXg2NCc6IDhcbn07XG5cbi8qKlxuICogQSB3ZWlnaHQgbWFuaWZlc3QuXG4gKlxuICogVGhlIHdlaWdodCBtYW5pZmVzdCBjb25zaXN0cyBvZiBhbiBvcmRlcmVkIGxpc3Qgb2Ygd2VpZ2h0LW1hbmlmZXN0IGdyb3Vwcy5cbiAqIEVhY2ggd2VpZ2h0LW1hbmlmZXN0IGdyb3VwIChcImdyb3VwXCIgZm9yIHNob3J0IGhlcmVhZnRlcikgY29uc2lzdHMgb2YgYVxuICogbnVtYmVyIG9mIHdlaWdodCB2YWx1ZXMgc3RvcmVkIGluIGEgbnVtYmVyIG9mIHBhdGhzLlxuICogU2VlIHRoZSBkb2N1bWVudGF0aW9uIG9mIGBXZWlnaHRNYW5pZmVzdEdyb3VwQ29uZmlnYCBiZWxvdyBmb3IgbW9yZSBkZXRhaWxzLlxuICovXG5leHBvcnQgZGVjbGFyZSB0eXBlIFdlaWdodHNNYW5pZmVzdENvbmZpZyA9IFdlaWdodHNNYW5pZmVzdEdyb3VwQ29uZmlnW107XG5cbi8qKlxuICogQSB3ZWlnaHQtbWFuaWZlc3QgZ3JvdXAuXG4gKlxuICogQ29uc2lzdHMgb2YgYW4gb3JkZXJlZCBsaXN0IG9mIHdlaWdodCB2YWx1ZXMgZW5jb2RlZCBpbiBiaW5hcnkgZm9ybWF0LFxuICogc3RvcmVkIGluIGFuIG9yZGVyZWQgbGlzdCBvZiBwYXRocy5cbiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIFdlaWdodHNNYW5pZmVzdEdyb3VwQ29uZmlnIHtcbiAgLyoqXG4gICAqIEFuIG9yZGVyZWQgbGlzdCBvZiBwYXRocy5cbiAgICpcbiAgICogUGF0aHMgYXJlIGludGVudGlvbmFsbHkgYWJzdHJhY3QgaW4gb3JkZXIgdG8gYmUgZ2VuZXJhbC4gRm9yIGV4YW1wbGUsIHRoZXlcbiAgICogY2FuIGJlIHJlbGF0aXZlIFVSTCBwYXRocyBvciByZWxhdGl2ZSBwYXRocyBvbiB0aGUgZmlsZSBzeXN0ZW0uXG4gICAqL1xuICBwYXRoczogc3RyaW5nW107XG5cbiAgLyoqXG4gICAqIFNwZWNpZmljYXRpb25zIG9mIHRoZSB3ZWlnaHRzIHN0b3JlZCBpbiB0aGUgcGF0aHMuXG4gICAqL1xuICB3ZWlnaHRzOiBXZWlnaHRzTWFuaWZlc3RFbnRyeVtdO1xufVxuXG4vKipcbiAqIEdyb3VwIHRvIHdoaWNoIHRoZSB3ZWlnaHQgYmVsb25ncy5cbiAqXG4gKiAtICdvcHRpbWl6ZXInOiBXZWlnaHQgZnJvbSBhIHN0YXRlZnVsIG9wdGltaXplci5cbiAqL1xuZXhwb3J0IHR5cGUgV2VpZ2h0R3JvdXAgPSAnbW9kZWwnfCdvcHRpbWl6ZXInO1xuXG4vKipcbiAqIEFuIGVudHJ5IGluIHRoZSB3ZWlnaHQgbWFuaWZlc3QuXG4gKlxuICogVGhlIGVudHJ5IGNvbnRhaW5zIHNwZWNpZmljYXRpb24gb2YgYSB3ZWlnaHQuXG4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBXZWlnaHRzTWFuaWZlc3RFbnRyeSB7XG4gIC8qKlxuICAgKiBOYW1lIG9mIHRoZSB3ZWlnaHQsIGUuZy4sICdEZW5zZV8xL2JpYXMnXG4gICAqL1xuICBuYW1lOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFNoYXBlIG9mIHRoZSB3ZWlnaHQuXG4gICAqL1xuICBzaGFwZTogbnVtYmVyW107XG5cbiAgLyoqXG4gICAqIERhdGEgdHlwZSBvZiB0aGUgd2VpZ2h0LlxuICAgKi9cbiAgZHR5cGU6ICdmbG9hdDMyJ3wnaW50MzInfCdib29sJ3wnc3RyaW5nJ3wnY29tcGxleDY0JztcblxuICAvKipcbiAgICogVHlwZSBvZiB0aGUgd2VpZ2h0LlxuICAgKlxuICAgKiBPcHRpb25hbC5cbiAgICpcbiAgICogVGhlIHZhbHVlICdvcHRpbWl6ZXInIGluZGljYXRlcyB0aGUgd2VpZ2h0IGJlbG9uZ3MgdG8gYW4gb3B0aW1pemVyXG4gICAqIChpLmUuLCB1c2VkIG9ubHkgZHVyaW5nIG1vZGVsIHRyYWluaW5nIGFuZCBub3QgZHVyaW5nIGluZmVyZW5jZSkuXG4gICAqL1xuICBncm91cD86IFdlaWdodEdyb3VwO1xuXG4gIC8qKlxuICAgKiBJbmZvcm1hdGlvbiBmb3IgZGVxdWFudGl6YXRpb24gb2YgdGhlIHdlaWdodC5cbiAgICovXG4gIHF1YW50aXphdGlvbj86IHtcbiAgICBzY2FsZT86IG51bWJlciwgIC8vIFRoZSBzY2FsaW5nIGNvbnN0YW50IHRvIG11bHRpcGx5IGJ5LlxuICAgIG1pbj86IG51bWJlciwgICAgLy8gVGhlIChwb3NzaWJseSBudWRnZWQpIG1pbmltdW0gd2VpZ2h0IHRvIGFkZC5cbiAgICAgICBkdHlwZTogJ3VpbnQxNid8J3VpbnQ4J3wnZmxvYXQxNicgIC8vIFRoZSBkdHlwZSBvZiB0aGUgcXVhbnRpemVkIHdlaWdodHMuXG4gIH07XG59XG5cbi8qKlxuICogT3B0aW9ucyBmb3Igc2F2aW5nIGEgbW9kZWwuXG4gKiBAaW5uYW1lc3BhY2UgaW9cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTYXZlQ29uZmlnIHtcbiAgLyoqXG4gICAqIFdoZXRoZXIgdG8gc2F2ZSBvbmx5IHRoZSB0cmFpbmFibGUgd2VpZ2h0cyBvZiB0aGUgbW9kZWwsIGlnbm9yaW5nIHRoZVxuICAgKiBub24tdHJhaW5hYmxlIG9uZXMuXG4gICAqL1xuICB0cmFpbmFibGVPbmx5PzogYm9vbGVhbjtcblxuICAvKipcbiAgICogV2hldGhlciB0aGUgb3B0aW1pemVyIHdpbGwgYmUgc2F2ZWQgKGlmIGV4aXN0cykuXG4gICAqXG4gICAqIERlZmF1bHQ6IGBmYWxzZWAuXG4gICAqL1xuICBpbmNsdWRlT3B0aW1pemVyPzogYm9vbGVhbjtcbn1cblxuLyoqXG4gKiBSZXN1bHQgb2YgYSBzYXZpbmcgb3BlcmF0aW9uLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFNhdmVSZXN1bHQge1xuICAvKipcbiAgICogSW5mb3JtYXRpb24gYWJvdXQgdGhlIG1vZGVsIGFydGlmYWN0cyBzYXZlZC5cbiAgICovXG4gIG1vZGVsQXJ0aWZhY3RzSW5mbzogTW9kZWxBcnRpZmFjdHNJbmZvO1xuXG4gIC8qKlxuICAgKiBIVFRQIHJlc3BvbnNlcyBmcm9tIHRoZSBzZXJ2ZXIgdGhhdCBoYW5kbGVkIHRoZSBtb2RlbC1zYXZpbmcgcmVxdWVzdCAoaWZcbiAgICogYW55KS4gVGhpcyBpcyBhcHBsaWNhYmxlIG9ubHkgdG8gc2VydmVyLWJhc2VkIHNhdmluZyByb3V0ZXMuXG4gICAqL1xuICByZXNwb25zZXM/OiBSZXNwb25zZVtdO1xuXG4gIC8qKlxuICAgKiBFcnJvciBtZXNzYWdlcyBhbmQgcmVsYXRlZCBkYXRhIChpZiBhbnkpLlxuICAgKi9cbiAgZXJyb3JzPzogQXJyYXk8e318c3RyaW5nPjtcbn1cblxuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIE1vZGVsQXJ0aWZhY3RzSW5mbyB7XG4gIC8qKlxuICAgKiBUaW1lc3RhbXAgZm9yIHdoZW4gdGhlIG1vZGVsIGlzIHNhdmVkLlxuICAgKi9cbiAgZGF0ZVNhdmVkOiBEYXRlO1xuXG4gIC8qKlxuICAgKiBUT0RPIChjYWlzLHlhc3NvZ2JhKSBjb25zaWRlciByZW1vdmluZyBHcmFwaERlZiBhcyBHcmFwaERlZnMgbm93XG4gICAqIGNvbWUgaW4gYSBKU09OIGZvcm1hdCBhbmQgbm9uZSBvZiBvdXIgSU9IYW5kbGVycyBzdXBwb3J0IGEgbm9uIGpzb25cbiAgICogZm9ybWF0LiBXZSBjb3VsZCBjb25kZXIgcmVwbGFjaW5nIHRoaXMgd2l0aCAnQmluYXJ5JyBpZiB3ZSB3YW50IHRvXG4gICAqIGFsbG93IGZ1dHVyZSBoYW5kbGVycyB0byBzYXZlIHRvIG5vbiBqc29uIGZvcm1hdHMgKHRob3VnaCB0aGV5IHdpbGxcbiAgICogcHJvYmFibHkgd2FudCBtb3JlIGluZm9ybWF0aW9uIHRoYW4gJ0JpbmFyeScpLlxuICAgKiBUeXBlIG9mIHRoZSBtb2RlbCB0b3BvbG9neVxuICAgKlxuICAgKiBUeXBlIG9mIHRoZSBtb2RlbCB0b3BvbG9neVxuICAgKlxuICAgKiBQb3NzaWJsZSB2YWx1ZXM6XG4gICAqICAgLSBKU09OOiBKU09OIGNvbmZpZyAoaHVtYW4tcmVhZGFibGUsIGUuZy4sIEtlcmFzIEpTT04pLlxuICAgKiAgIC0gR3JhcGhEZWY6IFRlbnNvckZsb3dcbiAgICogICAgIFtHcmFwaERlZl0oaHR0cHM6Ly93d3cudGVuc29yZmxvdy5vcmcvZXh0ZW5kL3Rvb2xfZGV2ZWxvcGVycy8jZ3JhcGhkZWYpXG4gICAqICAgICBwcm90b2NvbCBidWZmZXIgKGJpbmFyeSkuXG4gICAqL1xuICBtb2RlbFRvcG9sb2d5VHlwZTogJ0pTT04nfCdHcmFwaERlZic7XG5cbiAgLyoqXG4gICAqIFNpemUgb2YgbW9kZWwgdG9wb2xvZ3kgKEtlcmFzIEpTT04gb3IgR3JhcGhEZWYpLCBpbiBieXRlcy5cbiAgICovXG4gIG1vZGVsVG9wb2xvZ3lCeXRlcz86IG51bWJlcjtcblxuICAvKipcbiAgICogU2l6ZSBvZiB3ZWlnaHQgc3BlY2lmaWNhdGlvbiBvciBtYW5pZmVzdCwgaW4gYnl0ZXMuXG4gICAqL1xuICB3ZWlnaHRTcGVjc0J5dGVzPzogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBTaXplIG9mIHdlaWdodCB2YWx1ZSBkYXRhLCBpbiBieXRlcy5cbiAgICovXG4gIHdlaWdodERhdGFCeXRlcz86IG51bWJlcjtcbn1cblxuLyoqIE1vZGVsIHRyYWluaW5nIGNvbmZpZ3VyYXRpb24uICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgVHJhaW5pbmdDb25maWcge1xuICAvLyBUT0RPKGNhaXMpOiBUaWdodGVuIHRoZSB0eXBpbmcgb25jZSBrZXJhcyBzcGVjIGlzIGF2YWlsYWJsZSB0byB0ZmpzLWNvcmUuXG4gIC8vIFNlZVxuICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bWF4LWxpbmUtbGVuZ3RoXG4gIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS90ZW5zb3JmbG93L3RmanMtbGF5ZXJzL2Jsb2IvbWFzdGVyL3NyYy9rZXJhc19mb3JtYXQvdHJhaW5pbmdfY29uZmlnLnRzXG4gIC8qKiBPcHRpbWl6ZXIgdXNlZCBmb3IgdGhlIG1vZGVsIHRyYWluaW5nLiAqL1xuICBvcHRpbWl6ZXJfY29uZmlnOiB7fTtcblxuICAvLyBUT0RPKGNhaXMpOiBUaWdodGVuIHRoZSB0eXBpbmcgb25jZSBrZXJhcyBzcGVjIGlzIGF2YWlsYWJsZSB0byB0ZmpzLWNvcmUuXG4gIC8qKiBMb3NzIGZ1bmN0aW9uKHMpIGZvciB0aGUgbW9kZWwncyBvdXRwdXQocykuICovXG4gIGxvc3M6IHN0cmluZ3xzdHJpbmdbXXx7W2tleTogc3RyaW5nXTogc3RyaW5nfTtcblxuICAvLyBUT0RPKGNhaXMpOiBUaWdodGVuIHRoZSB0eXBpbmcgb25jZSBrZXJhcyBzcGVjIGlzIGF2YWlsYWJsZSB0byB0ZmpzLWNvcmUuXG4gIC8qKiBNZXRyaWMgZnVuY3Rpb24ocykgZm9yIHRoZSBtb2RlbCdzIG91dHB1dChzKS4gKi9cbiAgbWV0cmljcz86IHN0cmluZ1tdfHtba2V5OiBzdHJpbmddOiBzdHJpbmd9O1xuXG4gIC8vIFRPRE8oY2Fpcyk6IFRpZ2h0ZW4gdGhlIHR5cGluZyBvbmNlIGtlcmFzIHNwZWMgaXMgYXZhaWxhYmxlIHRvIHRmanMtY29yZS5cbiAgd2VpZ2h0ZWRfbWV0cmljcz86IHN0cmluZ1tdO1xuXG4gIC8vIFRPRE8oY2Fpcyk6IFRpZ2h0ZW4gdGhlIHR5cGluZyBvbmNlIGtlcmFzIHNwZWMgaXMgYXZhaWxhYmxlIHRvIHRmanMtY29yZS5cbiAgc2FtcGxlX3dlaWdodF9tb2RlPzogc3RyaW5nO1xuXG4gIGxvc3Nfd2VpZ2h0cz86IG51bWJlcltdfHtba2V5OiBzdHJpbmddOiBudW1iZXJ9O1xufVxuXG4vKipcbiAqIFRoZSBzZXJpYWxpemVkIGFydGlmYWN0cyBvZiBhIG1vZGVsLCBpbmNsdWRpbmcgdG9wb2xvZ3kgYW5kIHdlaWdodHMuXG4gKlxuICogVGhlIGBtb2RlbFRvcG9sb2d5YCwgYHRyYWluaW5nQ29uZmlnYCwgYHdlaWdodFNwZWNzYCBhbmQgYHdlaWdodERhdGFgIGZpZWxkc1xuICogb2YgdGhpcyBpbnRlcmZhY2UgYXJlIG9wdGlvbmFsLCBpbiBvcmRlciB0byBzdXBwb3J0IHRvcG9sb2d5LSBvciB3ZWlnaHRzLW9ubHlcbiAqIHNhdmluZyBhbmQgbG9hZGluZy5cbiAqXG4gKiBOb3RlIHRoaXMgaW50ZXJmYWNlIGlzIHVzZWQgaW50ZXJuYWxseSBpbiBJT0hhbmRsZXJzLiAgRm9yIHRoZSBmaWxlIGZvcm1hdFxuICogd3JpdHRlbiB0byBkaXNrIGFzIGBtb2RlbC5qc29uYCwgc2VlIGBNb2RlbEpTT05gLlxuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgTW9kZWxBcnRpZmFjdHMge1xuICAvKipcbiAgICogTW9kZWwgdG9wb2xvZ3kuXG4gICAqXG4gICAqIEZvciBLZXJhcy1zdHlsZSBgdGYuTW9kZWxgcywgdGhpcyBpcyBhIEpTT04gb2JqZWN0LlxuICAgKiBGb3IgVGVuc29yRmxvdy1zdHlsZSBtb2RlbHMgKGUuZy4sIGBTYXZlZE1vZGVsYCksIHRoaXMgaXMgdGhlIEpTT05cbiAgICogZW5jb2Rpbmcgb2YgdGhlIGBHcmFwaERlZmAgcHJvdG9jb2wgYnVmZmVyLlxuICAgKi9cbiAgbW9kZWxUb3BvbG9neT86IHt9fEFycmF5QnVmZmVyO1xuXG4gIC8qKlxuICAgKiBTZXJpYWxpemVkIGNvbmZpZ3VyYXRpb24gZm9yIHRoZSBtb2RlbCdzIHRyYWluaW5nLlxuICAgKi9cbiAgdHJhaW5pbmdDb25maWc/OiBUcmFpbmluZ0NvbmZpZztcblxuICAvKipcbiAgICogV2VpZ2h0IHNwZWNpZmljYXRpb25zLlxuICAgKlxuICAgKiBUaGlzIGNvcnJlc3BvbmRzIHRvIHRoZSB3ZWlnaHRzRGF0YSBiZWxvdy5cbiAgICovXG4gIHdlaWdodFNwZWNzPzogV2VpZ2h0c01hbmlmZXN0RW50cnlbXTtcblxuICAvKipcbiAgICogQmluYXJ5IGJ1ZmZlciBmb3IgYWxsIHdlaWdodCB2YWx1ZXMgY29uY2F0ZW5hdGVkIGluIHRoZSBvcmRlciBzcGVjaWZpZWRcbiAgICogYnkgYHdlaWdodFNwZWNzYC5cbiAgICovXG4gIHdlaWdodERhdGE/OiBBcnJheUJ1ZmZlcjtcblxuICAvKipcbiAgICogSGFyZC1jb2RlZCBmb3JtYXQgbmFtZSBmb3IgbW9kZWxzIHNhdmVkIGZyb20gVGVuc29yRmxvdy5qcyBvciBjb252ZXJ0ZWRcbiAgICogYnkgVGVuc29yRmxvdy5qcyBDb252ZXJ0ZXIuXG4gICAqL1xuICBmb3JtYXQ/OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFdoYXQgbGlicmFyeSBpcyByZXNwb25zaWJsZSBmb3Igb3JpZ2luYWxseSBnZW5lcmF0aW5nIHRoaXMgYXJ0aWZhY3QuXG4gICAqXG4gICAqIFVzZWQgZm9yIGRlYnVnZ2luZyBwdXJwb3Nlcy4gRS5nLiwgJ1RlbnNvckZsb3cuanMgdjEuMC4wJy5cbiAgICovXG4gIGdlbmVyYXRlZEJ5Pzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBXaGF0IGxpYnJhcnkgb3IgdG9vbCBpcyByZXNwb25zaWJsZSBmb3IgY29udmVydGluZyB0aGUgb3JpZ2luYWwgbW9kZWxcbiAgICogdG8gdGhpcyBmb3JtYXQsIGFwcGxpY2FibGUgb25seSBpZiB0aGUgbW9kZWwgaXMgb3V0cHV0IGJ5IGEgY29udmVydGVyLlxuICAgKlxuICAgKiBVc2VkIGZvciBkZWJ1Z2dpbmcgcHVycG9zZXMuICBFLmcuLCAnVGVuc29yRmxvdy5qcyBDb252ZXJ0ZXIgdjEuMC4wJy5cbiAgICpcbiAgICogQSB2YWx1ZSBvZiBgbnVsbGAgbWVhbnMgdGhlIG1vZGVsIGFydGlmYWN0cyBhcmUgZ2VuZXJhdGVkIHdpdGhvdXQgYW55XG4gICAqIGNvbnZlcnNpb24gcHJvY2VzcyAoZS5nLiwgc2F2ZWQgZGlyZWN0bHkgZnJvbSBhIFRlbnNvckZsb3cuanNcbiAgICogYHRmLkxheWVyc01vZGVsYCBpbnN0YW5jZS4pXG4gICAqL1xuICBjb252ZXJ0ZWRCeT86IHN0cmluZ3xudWxsO1xuXG4gIC8qKlxuICAgKiBVc2VyLWRlZmluZWQgbWV0YWRhdGEgYWJvdXQgdGhlIG1vZGVsLlxuICAgKi9cbiAgdXNlckRlZmluZWRNZXRhZGF0YT86IHt9O1xuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplciBmb3IgdGhlIG1vZGVsLlxuICAgKi9cbiAgbW9kZWxJbml0aWFsaXplcj86IHt9O1xufVxuXG4vKipcbiAqIFRoZSBvbi1kaXNrIGZvcm1hdCBvZiB0aGUgYG1vZGVsLmpzb25gIGZpbGUuXG4gKlxuICogVEYuanMgMS4wIGFsd2F5cyBwb3B1bGF0ZXMgdGhlIG9wdGlvbmFsIGZpZWxkcyB3aGVuIHdyaXRpbmcgbW9kZWwuanNvbi5cbiAqIFByaW9yIHZlcnNpb25zIGRpZCBub3QgcHJvdmlkZSB0aG9zZSBmaWVsZHMuXG4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBNb2RlbEpTT04ge1xuICAvKipcbiAgICogTW9kZWwgdG9wb2xvZ3kuXG4gICAqXG4gICAqIEZvciBLZXJhcy1zdHlsZSBgdGYuTW9kZWxgcywgdGhpcyBpcyBhIEpTT04gb2JqZWN0LlxuICAgKiBGb3IgVGVuc29yRmxvdy1zdHlsZSBtb2RlbHMgKGUuZy4sIGBTYXZlZE1vZGVsYCksIHRoaXMgaXMgdGhlIEpTT05cbiAgICogZW5jb2Rpbmcgb2YgdGhlIGBHcmFwaERlZmAgcHJvdG9jb2wgYnVmZmVyLlxuICAgKi9cbiAgbW9kZWxUb3BvbG9neToge307XG5cbiAgLyoqIE1vZGVsIHRyYWluaW5nIGNvbmZpZ3VyYXRpb24uICovXG4gIHRyYWluaW5nQ29uZmlnPzogVHJhaW5pbmdDb25maWc7XG5cbiAgLyoqXG4gICAqIFdlaWdodHMgbWFuaWZlc3QuXG4gICAqXG4gICAqIFRoZSB3ZWlnaHRzIG1hbmlmZXN0IGNvbnNpc3RzIG9mIGFuIG9yZGVyZWQgbGlzdCBvZiB3ZWlnaHQtbWFuaWZlc3RcbiAgICogZ3JvdXBzLiBFYWNoIHdlaWdodC1tYW5pZmVzdCBncm91cCBjb25zaXN0cyBvZiBhIG51bWJlciBvZiB3ZWlnaHQgdmFsdWVzXG4gICAqIHN0b3JlZCBpbiBhIG51bWJlciBvZiBwYXRocy4gU2VlIHRoZSBkb2N1bWVudGF0aW9uIG9mXG4gICAqIGBXZWlnaHRzTWFuaWZlc3RDb25maWdgIGZvciBtb3JlIGRldGFpbHMuXG4gICAqL1xuICB3ZWlnaHRzTWFuaWZlc3Q6IFdlaWdodHNNYW5pZmVzdENvbmZpZztcblxuICAvKipcbiAgICogSGFyZC1jb2RlZCBmb3JtYXQgbmFtZSBmb3IgbW9kZWxzIHNhdmVkIGZyb20gVGVuc29yRmxvdy5qcyBvciBjb252ZXJ0ZWRcbiAgICogYnkgVGVuc29yRmxvdy5qcyBDb252ZXJ0ZXIuXG4gICAqL1xuICBmb3JtYXQ/OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFdoYXQgbGlicmFyeSBpcyByZXNwb25zaWJsZSBmb3Igb3JpZ2luYWxseSBnZW5lcmF0aW5nIHRoaXMgYXJ0aWZhY3QuXG4gICAqXG4gICAqIFVzZWQgZm9yIGRlYnVnZ2luZyBwdXJwb3Nlcy4gRS5nLiwgJ1RlbnNvckZsb3cuanMgdjEuMC4wJy5cbiAgICovXG4gIGdlbmVyYXRlZEJ5Pzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBXaGF0IGxpYnJhcnkgb3IgdG9vbCBpcyByZXNwb25zaWJsZSBmb3IgY29udmVydGluZyB0aGUgb3JpZ2luYWwgbW9kZWxcbiAgICogdG8gdGhpcyBmb3JtYXQsIGFwcGxpY2FibGUgb25seSBpZiB0aGUgbW9kZWwgaXMgb3V0cHV0IGJ5IGEgY29udmVydGVyLlxuICAgKlxuICAgKiBVc2VkIGZvciBkZWJ1Z2dpbmcgcHVycG9zZXMuICBFLmcuLCAnVGVuc29yRmxvdy5qcyBDb252ZXJ0ZXIgdjEuMC4wJy5cbiAgICpcbiAgICogQSB2YWx1ZSBvZiBgbnVsbGAgbWVhbnMgdGhlIG1vZGVsIGFydGlmYWN0cyBhcmUgZ2VuZXJhdGVkIHdpdGhvdXQgYW55XG4gICAqIGNvbnZlcnNpb24gcHJvY2VzcyAoZS5nLiwgc2F2ZWQgZGlyZWN0bHkgZnJvbSBhIFRlbnNvckZsb3cuanNcbiAgICogYHRmLkxheWVyc01vZGVsYCBpbnN0YW5jZS4pXG4gICAqL1xuICBjb252ZXJ0ZWRCeT86IHN0cmluZ3xudWxsO1xuXG4gIC8qKlxuICAgKiBVc2VyLWRlZmluZWQgbWV0YWRhdGEgYWJvdXQgdGhlIG1vZGVsLlxuICAgKi9cbiAgdXNlckRlZmluZWRNZXRhZGF0YT86IHt9O1xuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplciBmb3IgdGhlIG1vZGVsLlxuICAgKi9cbiAgbW9kZWxJbml0aWFsaXplcj86IHt9O1xufVxuXG4vKipcbiAqIFR5cGUgZGVmaW5pdGlvbiBmb3IgaGFuZGxlcnMgb2YgbG9hZGluZyBvcGVyYXRpb25zLlxuICovXG5leHBvcnQgdHlwZSBMb2FkSGFuZGxlciA9ICgpID0+IFByb21pc2U8TW9kZWxBcnRpZmFjdHM+O1xuXG4vKipcbiAqIFR5cGUgZGVmaW5pdGlvbiBmb3IgaGFuZGxlcnMgb2Ygc2F2aW5nIG9wZXJhdGlvbnMuXG4gKi9cbmV4cG9ydCB0eXBlIFNhdmVIYW5kbGVyID0gKG1vZGVsQXJ0aWZhY3Q6IE1vZGVsQXJ0aWZhY3RzKSA9PlxuICAgIFByb21pc2U8U2F2ZVJlc3VsdD47XG5cbi8qKlxuICogSW50ZXJmYWNlIGZvciBhIG1vZGVsIGltcG9ydC9leHBvcnQgaGFuZGxlci5cbiAqXG4gKiBUaGUgYHNhdmVgIGFuZCBgbG9hZGAgaGFuZGxlcnMgYXJlIGJvdGggb3B0aW9uYWwsIGluIG9yZGVyIHRvIGFsbG93IGhhbmRsZXJzXG4gKiB0aGF0IHN1cHBvcnQgb25seSBzYXZpbmcgb3IgbG9hZGluZy5cbiAqL1xuLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOmludGVyZmFjZS1uYW1lXG5leHBvcnQgaW50ZXJmYWNlIElPSGFuZGxlciB7XG4gIHNhdmU/OiBTYXZlSGFuZGxlcjtcbiAgbG9hZD86IExvYWRIYW5kbGVyO1xufVxuXG4vKipcbiAqIEFuIGludGVyZmFjZSBmb3IgdGhlIG1hbmFnZXIgb2YgYSBtb2RlbCBzdG9yZS5cbiAqXG4gKiBBIG1vZGVsIHN0b3JlIGlzIGRlZmluZWQgYXMgYSBzdG9yYWdlIG1lZGl1bSBvbiB3aGljaCBtdWx0aXBsZSBtb2RlbHMgY2FuXG4gKiBiZSBzdG9yZWQuIEVhY2ggc3RvcmVkIG1vZGVsIGhhcyBhIHVuaXF1ZSBgcGF0aGAgYXMgaXRzIGlkZW50aWZpZXIuXG4gKiBBIGBNb2RlbFN0b3JlTWFuYWdlcmAgZm9yIHRoZSBzdG9yZSBhbGxvd3MgYWN0aW9ucyBpbmNsdWRpbmdcbiAqXG4gKiAtIExpc3RpbmcgdGhlIG1vZGVscyBzdG9yZWQgaW4gdGhlIHN0b3JlLlxuICogLSBEZWxldGluZyBhIG1vZGVsIGZyb20gdGhlIHN0b3JlLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIE1vZGVsU3RvcmVNYW5hZ2VyIHtcbiAgLyoqXG4gICAqIExpc3QgYWxsIG1vZGVscyBpbiB0aGUgbW9kZWwgc3RvcmUuXG4gICAqXG4gICAqIEByZXR1cm5zIEEgZGljdGlvbmFyeSBtYXBwaW5nIHBhdGhzIG9mIGV4aXN0aW5nIG1vZGVscyB0byB0aGVpclxuICAgKiAgIG1vZGVsIGFydGlmYWN0cyBpbmZvLiBNb2RlbCBhcnRpZmFjdHMgaW5mbyBpbmNsdWRlIHR5cGUgb2YgdGhlIG1vZGVsJ3NcbiAgICogICB0b3BvbG9neSwgYnl0ZSBzaXplcyBvZiB0aGUgdG9wb2xvZ3ksIHdlaWdodHMsIGV0Yy5cbiAgICovXG4gIGxpc3RNb2RlbHMoKTogUHJvbWlzZTx7W3BhdGg6IHN0cmluZ106IE1vZGVsQXJ0aWZhY3RzSW5mb30+O1xuXG4gIC8qKlxuICAgKiBSZW1vdmUgYSBtb2RlbCBzcGVjaWZpZWQgYnkgYHBhdGhgLlxuICAgKlxuICAgKiBAcGFyYW0gcGF0aFxuICAgKiBAcmV0dXJucyBNb2RlbEFydGlmYWN0c0luZm8gb2YgdGhlIGRlbGV0ZWQgbW9kZWwgKGlmIGFuZCBvbmx5IGlmIGRlbGV0aW9uXG4gICAqICAgaXMgc3VjY2Vzc2Z1bCkuXG4gICAqIEB0aHJvd3MgRXJyb3IgaWYgZGVsZXRpb24gZmFpbHMsIGUuZy4sIGlmIG5vIG1vZGVsIGV4aXN0cyBhdCBgcGF0aGAuXG4gICAqL1xuICByZW1vdmVNb2RlbChwYXRoOiBzdHJpbmcpOiBQcm9taXNlPE1vZGVsQXJ0aWZhY3RzSW5mbz47XG59XG5cbi8qKlxuICogQ2FsbGJhY2sgZm9yIHRoZSBwcm9ncmVzcyBvZiBhIGxvbmctcnVubmluZyBhY3Rpb24gc3VjaCBhcyBhbiBIVFRQXG4gKiByZXF1ZXN0IGZvciBhIGxhcmdlIGJpbmFyeSBvYmplY3QuXG4gKlxuICogYGZyYWN0aW9uYCBzaG91bGQgYmUgYSBudW1iZXIgaW4gdGhlIFswLCAxXSBpbnRlcnZhbCwgaW5kaWNhdGluZyBob3dcbiAqIG11Y2ggb2YgdGhlIGFjdGlvbiBoYXMgY29tcGxldGVkLlxuICovXG5leHBvcnQgdHlwZSBPblByb2dyZXNzQ2FsbGJhY2sgPSAoZnJhY3Rpb246IG51bWJlcikgPT4gdm9pZDtcblxuLyoqIEBpbm5hbWVzcGFjZSBpbyAqL1xuZXhwb3J0IGludGVyZmFjZSBMb2FkT3B0aW9ucyB7XG4gIC8qKlxuICAgKiBSZXF1ZXN0SW5pdCAob3B0aW9ucykgZm9yIEhUVFAgcmVxdWVzdHMuXG4gICAqXG4gICAqIEZvciBkZXRhaWxlZCBpbmZvcm1hdGlvbiBvbiB0aGUgc3VwcG9ydGVkIGZpZWxkcywgc2VlXG4gICAqIFtodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvUmVxdWVzdC9SZXF1ZXN0XShcbiAgICogICAgIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9SZXF1ZXN0L1JlcXVlc3QpXG4gICAqL1xuICByZXF1ZXN0SW5pdD86IFJlcXVlc3RJbml0O1xuXG4gIC8qKlxuICAgKiBQcm9ncmVzcyBjYWxsYmFjay5cbiAgICovXG4gIG9uUHJvZ3Jlc3M/OiBPblByb2dyZXNzQ2FsbGJhY2s7XG5cbiAgLyoqXG4gICAqIEEgZnVuY3Rpb24gdXNlZCB0byBvdmVycmlkZSB0aGUgYHdpbmRvdy5mZXRjaGAgZnVuY3Rpb24uXG4gICAqL1xuICBmZXRjaEZ1bmM/OiBGdW5jdGlvbjtcblxuICAvKipcbiAgICogU3RyaWN0IGxvYWRpbmcgbW9kZWw6IHdoZXRoZXIgZXh0cmFuZW91cyB3ZWlnaHRzIG9yIG1pc3NpbmdcbiAgICogd2VpZ2h0cyBzaG91bGQgdHJpZ2dlciBhbiBgRXJyb3JgLlxuICAgKlxuICAgKiBJZiBgdHJ1ZWAsIHJlcXVpcmUgdGhhdCB0aGUgcHJvdmlkZWQgd2VpZ2h0cyBleGFjdGx5IG1hdGNoIHRob3NlXG4gICAqIHJlcXVpcmVkIGJ5IHRoZSBsYXllcnMuIGBmYWxzZWAgbWVhbnMgdGhhdCBib3RoIGV4dHJhIHdlaWdodHNcbiAgICogYW5kIG1pc3Npbmcgd2VpZ2h0cyB3aWxsIGJlIHNpbGVudGx5IGlnbm9yZWQuXG4gICAqXG4gICAqIERlZmF1bHQ6IGB0cnVlYC5cbiAgICovXG4gIHN0cmljdD86IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIFBhdGggcHJlZml4IGZvciB3ZWlnaHQgZmlsZXMsIGJ5IGRlZmF1bHQgdGhpcyBpcyBjYWxjdWxhdGVkIGZyb20gdGhlXG4gICAqIHBhdGggb2YgdGhlIG1vZGVsIEpTT04gZmlsZS5cbiAgICpcbiAgICogRm9yIGluc3RhbmNlLCBpZiB0aGUgcGF0aCB0byB0aGUgbW9kZWwgSlNPTiBmaWxlIGlzXG4gICAqIGBodHRwOi8vbG9jYWxob3N0L2Zvby9tb2RlbC5qc29uYCwgdGhlbiB0aGUgZGVmYXVsdCBwYXRoIHByZWZpeCB3aWxsIGJlXG4gICAqIGBodHRwOi8vbG9jYWxob3N0L2Zvby9gLiBJZiBhIHdlaWdodCBmaWxlIGhhcyB0aGUgcGF0aCB2YWx1ZVxuICAgKiBgZ3JvdXAxLXNoYXJkMW9mMmAgaW4gdGhlIHdlaWdodCBtYW5pZmVzdCwgdGhlbiB0aGUgd2VpZ2h0IGZpbGUgd2lsbCBiZVxuICAgKiBsb2FkZWQgZnJvbSBgaHR0cDovL2xvY2FsaG9zdC9mb28vZ3JvdXAxLXNoYXJkMW9mMmAgYnkgZGVmYXVsdC4gSG93ZXZlcixcbiAgICogaWYgeW91IHByb3ZpZGUgYSBgd2VpZ2h0UGF0aFByZWZpeGAgdmFsdWUgb2ZcbiAgICogYGh0dHA6Ly9sb2NhbGhvc3QvZm9vL2FsdC13ZWlnaHRzYCwgdGhlbiB0aGUgd2VpZ2h0IGZpbGUgd2lsbCBiZSBsb2FkZWRcbiAgICogZnJvbSB0aGUgcGF0aCBgaHR0cDovL2xvY2FsaG9zdC9mb28vYWx0LXdlaWdodHMvZ3JvdXAxLXNoYXJkMW9mMmAgaW5zdGVhZC5cbiAgICovXG4gIHdlaWdodFBhdGhQcmVmaXg/OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFdoZXRoZXIgdGhlIG1vZHVsZSBvciBtb2RlbCBpcyB0byBiZSBsb2FkZWQgZnJvbSBURiBIdWIuXG4gICAqXG4gICAqIFNldHRpbmcgdGhpcyB0byBgdHJ1ZWAgYWxsb3dzIHBhc3NpbmcgYSBURi1IdWIgbW9kdWxlIFVSTCwgb21pdHRpbmcgdGhlXG4gICAqIHN0YW5kYXJkIG1vZGVsIGZpbGUgbmFtZSBhbmQgdGhlIHF1ZXJ5IHBhcmFtZXRlcnMuXG4gICAqXG4gICAqIERlZmF1bHQ6IGBmYWxzZWAuXG4gICAqL1xuICBmcm9tVEZIdWI/OiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBBbiBhc3luYyBmdW5jdGlvbiB0byBjb252ZXJ0IHdlaWdodCBmaWxlIG5hbWUgdG8gVVJMLiBUaGUgd2VpZ2h0IGZpbGVcbiAgICogbmFtZXMgYXJlIHN0b3JlZCBpbiBtb2RlbC5qc29uJ3Mgd2VpZ2h0c01hbmlmZXN0LnBhdGhzIGZpZWxkLiBCeSBkZWZhdWx0IHdlXG4gICAqIGNvbnNpZGVyIHdlaWdodCBmaWxlcyBhcmUgY29sb2NhdGVkIHdpdGggdGhlIG1vZGVsLmpzb24gZmlsZS4gRm9yIGV4YW1wbGU6XG4gICAqICAgICBtb2RlbC5qc29uIFVSTDogaHR0cHM6Ly93d3cuZ29vZ2xlLmNvbS9tb2RlbHMvMS9tb2RlbC5qc29uXG4gICAqICAgICBncm91cDEtc2hhcmQxb2YxLmJpbiB1cmw6XG4gICAqICAgICAgICBodHRwczovL3d3dy5nb29nbGUuY29tL21vZGVscy8xL2dyb3VwMS1zaGFyZDFvZjEuYmluXG4gICAqXG4gICAqIFdpdGggdGhpcyBmdW5jIHlvdSBjYW4gY29udmVydCB0aGUgd2VpZ2h0IGZpbGUgbmFtZSB0byBhbnkgVVJMLlxuICAgKi9cbiAgd2VpZ2h0VXJsQ29udmVydGVyPzogKHdlaWdodEZpbGVOYW1lOiBzdHJpbmcpID0+IFByb21pc2U8c3RyaW5nPjtcbn1cblxuLyoqXG4gKiBBZGRpdGlvbmFsIG9wdGlvbnMgZm9yIFBsYXRmb3JtLmZldGNoXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVxdWVzdERldGFpbHMge1xuICAvKipcbiAgICogSXMgdGhpcyByZXF1ZXN0IGZvciBhIGJpbmFyeSBmaWxlIChhcyBvcHBvc2VkIHRvIGEganNvbiBmaWxlKVxuICAgKi9cbiAgaXNCaW5hcnk/OiBib29sZWFuO1xufVxuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTggR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG5pbXBvcnQge2NvbXBsZXh9IGZyb20gJy4uL29wcy9jb21wbGV4JztcblxuaW1wb3J0IHt0ZW5zb3J9IGZyb20gJy4uL29wcy90ZW5zb3InO1xuaW1wb3J0IHtOYW1lZFRlbnNvciwgTmFtZWRUZW5zb3JNYXB9IGZyb20gJy4uL3RlbnNvcl90eXBlcyc7XG5pbXBvcnQge1R5cGVkQXJyYXl9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7c2l6ZUZyb21TaGFwZX0gZnJvbSAnLi4vdXRpbCc7XG5cbmltcG9ydCB7RFRZUEVfVkFMVUVfU0laRV9NQVAsIE1vZGVsQXJ0aWZhY3RzLCBNb2RlbEFydGlmYWN0c0luZm8sIFdlaWdodEdyb3VwLCBXZWlnaHRzTWFuaWZlc3RFbnRyeX0gZnJvbSAnLi90eXBlcyc7XG5cbi8qKiBOdW1iZXIgb2YgYnl0ZXMgcmVzZXJ2ZWQgZm9yIHRoZSBsZW5ndGggb2YgdGhlIHN0cmluZy4gKDMyYml0IGludGVnZXIpLiAqL1xuY29uc3QgTlVNX0JZVEVTX1NUUklOR19MRU5HVEggPSA0O1xuXG4vKipcbiAqIEVuY29kZSBhIG1hcCBmcm9tIG5hbWVzIHRvIHdlaWdodCB2YWx1ZXMgYXMgYW4gQXJyYXlCdWZmZXIsIGFsb25nIHdpdGggYW5cbiAqIGBBcnJheWAgb2YgYFdlaWdodHNNYW5pZmVzdEVudHJ5YCBhcyBzcGVjaWZpY2F0aW9uIG9mIHRoZSBlbmNvZGVkIHdlaWdodHMuXG4gKlxuICogVGhpcyBmdW5jdGlvbiBkb2VzIG5vdCBwZXJmb3JtIHNoYXJkaW5nLlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gaXMgdGhlIHJldmVyc2Ugb2YgYGRlY29kZVdlaWdodHNgLlxuICpcbiAqIEBwYXJhbSB0ZW5zb3JzIEEgbWFwIChcImRpY3RcIikgZnJvbSBuYW1lcyB0byB0ZW5zb3JzLlxuICogQHBhcmFtIGdyb3VwIEdyb3VwIHRvIHdoaWNoIHRoZSB3ZWlnaHRzIGJlbG9uZyAob3B0aW9uYWwpLlxuICogQHJldHVybnMgQSBgUHJvbWlzZWAgb2ZcbiAqICAgLSBBIGZsYXQgYEFycmF5QnVmZmVyYCB3aXRoIGFsbCB0aGUgYmluYXJ5IHZhbHVlcyBvZiB0aGUgYFRlbnNvcmBzXG4gKiAgICAgY29uY2F0ZW5hdGVkLlxuICogICAtIEFuIGBBcnJheWAgb2YgYFdlaWdodE1hbmlmZXN0RW50cnlgcywgY2FycnlpbmcgaW5mb3JtYXRpb24gaW5jbHVkaW5nXG4gKiAgICAgdGVuc29yIG5hbWVzLCBgZHR5cGVgcyBhbmQgc2hhcGVzLlxuICogQHRocm93cyBFcnJvcjogb24gdW5zdXBwb3J0ZWQgdGVuc29yIGBkdHlwZWAuXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBlbmNvZGVXZWlnaHRzKFxuICAgIHRlbnNvcnM6IE5hbWVkVGVuc29yTWFwfE5hbWVkVGVuc29yW10sIGdyb3VwPzogV2VpZ2h0R3JvdXApOlxuICAgIFByb21pc2U8e2RhdGE6IEFycmF5QnVmZmVyLCBzcGVjczogV2VpZ2h0c01hbmlmZXN0RW50cnlbXX0+IHtcbiAgLy8gVE9ETyhhZGFyb2IsIGNhaXMpOiBTdXBwb3J0IHF1YW50aXphdGlvbi5cbiAgY29uc3Qgc3BlY3M6IFdlaWdodHNNYW5pZmVzdEVudHJ5W10gPSBbXTtcbiAgY29uc3QgZGF0YVByb21pc2VzOiBBcnJheTxQcm9taXNlPFR5cGVkQXJyYXk+PiA9IFtdO1xuXG4gIGNvbnN0IG5hbWVzOiBzdHJpbmdbXSA9IEFycmF5LmlzQXJyYXkodGVuc29ycykgP1xuICAgICAgdGVuc29ycy5tYXAodGVuc29yID0+IHRlbnNvci5uYW1lKSA6XG4gICAgICBPYmplY3Qua2V5cyh0ZW5zb3JzKTtcblxuICBmb3IgKGxldCBpID0gMDsgaSA8IG5hbWVzLmxlbmd0aDsgKytpKSB7XG4gICAgY29uc3QgbmFtZSA9IG5hbWVzW2ldO1xuICAgIGNvbnN0IHQgPSBBcnJheS5pc0FycmF5KHRlbnNvcnMpID8gdGVuc29yc1tpXS50ZW5zb3IgOiB0ZW5zb3JzW25hbWVdO1xuICAgIGlmICh0LmR0eXBlICE9PSAnZmxvYXQzMicgJiYgdC5kdHlwZSAhPT0gJ2ludDMyJyAmJiB0LmR0eXBlICE9PSAnYm9vbCcgJiZcbiAgICAgICAgdC5kdHlwZSAhPT0gJ3N0cmluZycgJiYgdC5kdHlwZSAhPT0gJ2NvbXBsZXg2NCcpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgVW5zdXBwb3J0ZWQgZHR5cGUgaW4gd2VpZ2h0ICcke25hbWV9JzogJHt0LmR0eXBlfWApO1xuICAgIH1cbiAgICBjb25zdCBzcGVjOiBXZWlnaHRzTWFuaWZlc3RFbnRyeSA9IHtuYW1lLCBzaGFwZTogdC5zaGFwZSwgZHR5cGU6IHQuZHR5cGV9O1xuICAgIGlmICh0LmR0eXBlID09PSAnc3RyaW5nJykge1xuICAgICAgY29uc3QgdXRmOGJ5dGVzID0gbmV3IFByb21pc2U8VHlwZWRBcnJheT4oYXN5bmMgcmVzb2x2ZSA9PiB7XG4gICAgICAgIGNvbnN0IHZhbHMgPSBhd2FpdCB0LmJ5dGVzKCkgYXMgVWludDhBcnJheVtdO1xuICAgICAgICBjb25zdCB0b3RhbE51bUJ5dGVzID0gdmFscy5yZWR1Y2UoKHAsIGMpID0+IHAgKyBjLmxlbmd0aCwgMCkgK1xuICAgICAgICAgICAgTlVNX0JZVEVTX1NUUklOR19MRU5HVEggKiB2YWxzLmxlbmd0aDtcbiAgICAgICAgY29uc3QgYnl0ZXMgPSBuZXcgVWludDhBcnJheSh0b3RhbE51bUJ5dGVzKTtcbiAgICAgICAgbGV0IG9mZnNldCA9IDA7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmFscy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGNvbnN0IHZhbCA9IHZhbHNbaV07XG4gICAgICAgICAgY29uc3QgYnl0ZXNPZkxlbmd0aCA9XG4gICAgICAgICAgICAgIG5ldyBVaW50OEFycmF5KG5ldyBVaW50MzJBcnJheShbdmFsLmxlbmd0aF0pLmJ1ZmZlcik7XG4gICAgICAgICAgYnl0ZXMuc2V0KGJ5dGVzT2ZMZW5ndGgsIG9mZnNldCk7XG4gICAgICAgICAgb2Zmc2V0ICs9IE5VTV9CWVRFU19TVFJJTkdfTEVOR1RIO1xuICAgICAgICAgIGJ5dGVzLnNldCh2YWwsIG9mZnNldCk7XG4gICAgICAgICAgb2Zmc2V0ICs9IHZhbC5sZW5ndGg7XG4gICAgICAgIH1cbiAgICAgICAgcmVzb2x2ZShieXRlcyk7XG4gICAgICB9KTtcbiAgICAgIGRhdGFQcm9taXNlcy5wdXNoKHV0ZjhieXRlcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRhdGFQcm9taXNlcy5wdXNoKHQuZGF0YSgpKTtcbiAgICB9XG4gICAgaWYgKGdyb3VwICE9IG51bGwpIHtcbiAgICAgIHNwZWMuZ3JvdXAgPSBncm91cDtcbiAgICB9XG4gICAgc3BlY3MucHVzaChzcGVjKTtcbiAgfVxuXG4gIGNvbnN0IHRlbnNvclZhbHVlcyA9IGF3YWl0IFByb21pc2UuYWxsKGRhdGFQcm9taXNlcyk7XG4gIHJldHVybiB7ZGF0YTogY29uY2F0ZW5hdGVUeXBlZEFycmF5cyh0ZW5zb3JWYWx1ZXMpLCBzcGVjc307XG59XG5cbi8qKlxuICogRGVjb2RlIGZsYXQgQXJyYXlCdWZmZXIgYXMgd2VpZ2h0cy5cbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIGRvZXMgbm90IGhhbmRsZSBzaGFyZGluZy5cbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIGlzIHRoZSByZXZlcnNlIG9mIGBlbmNvZGVXZWlnaHRzYC5cbiAqXG4gKiBAcGFyYW0gYnVmZmVyIEEgZmxhdCBBcnJheUJ1ZmZlciBjYXJyeWluZyB0aGUgYmluYXJ5IHZhbHVlcyBvZiB0aGUgdGVuc29yc1xuICogICBjb25jYXRlbmF0ZWQgaW4gdGhlIG9yZGVyIHNwZWNpZmllZCBpbiBgc3BlY3NgLlxuICogQHBhcmFtIHNwZWNzIFNwZWNpZmljYXRpb25zIG9mIHRoZSBuYW1lcywgZHR5cGVzIGFuZCBzaGFwZXMgb2YgdGhlIHRlbnNvcnNcbiAqICAgd2hvc2UgdmFsdWUgYXJlIGVuY29kZWQgYnkgYGJ1ZmZlcmAuXG4gKiBAcmV0dXJuIEEgbWFwIGZyb20gdGVuc29yIG5hbWUgdG8gdGVuc29yIHZhbHVlLCB3aXRoIHRoZSBuYW1lcyBjb3JyZXNwb25kaW5nXG4gKiAgIHRvIG5hbWVzIGluIGBzcGVjc2AuXG4gKiBAdGhyb3dzIEVycm9yLCBpZiBhbnkgb2YgdGhlIHRlbnNvcnMgaGFzIHVuc3VwcG9ydGVkIGR0eXBlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZGVjb2RlV2VpZ2h0cyhcbiAgICBidWZmZXI6IEFycmF5QnVmZmVyLCBzcGVjczogV2VpZ2h0c01hbmlmZXN0RW50cnlbXSk6IE5hbWVkVGVuc29yTWFwIHtcbiAgLy8gVE9ETyhhZGFyb2IsIGNhaXMpOiBTdXBwb3J0IHF1YW50aXphdGlvbi5cbiAgY29uc3Qgb3V0OiBOYW1lZFRlbnNvck1hcCA9IHt9O1xuICBsZXQgZmxvYXQxNkRlY29kZTogKGJ1ZmZlcjogVWludDE2QXJyYXkpID0+IEZsb2F0MzJBcnJheSB8IHVuZGVmaW5lZDtcbiAgbGV0IG9mZnNldCA9IDA7XG4gIGZvciAoY29uc3Qgc3BlYyBvZiBzcGVjcykge1xuICAgIGNvbnN0IG5hbWUgPSBzcGVjLm5hbWU7XG4gICAgY29uc3QgZHR5cGUgPSBzcGVjLmR0eXBlO1xuICAgIGNvbnN0IHNoYXBlID0gc3BlYy5zaGFwZTtcbiAgICBjb25zdCBzaXplID0gc2l6ZUZyb21TaGFwZShzaGFwZSk7XG4gICAgbGV0IHZhbHVlczogVHlwZWRBcnJheXxzdHJpbmdbXXxVaW50OEFycmF5W107XG5cbiAgICBpZiAoJ3F1YW50aXphdGlvbicgaW4gc3BlYykge1xuICAgICAgY29uc3QgcXVhbnRpemF0aW9uID0gc3BlYy5xdWFudGl6YXRpb247XG4gICAgICBpZiAocXVhbnRpemF0aW9uLmR0eXBlID09PSAndWludDgnIHx8IHF1YW50aXphdGlvbi5kdHlwZSA9PT0gJ3VpbnQxNicpIHtcbiAgICAgICAgaWYgKCEoJ21pbicgaW4gcXVhbnRpemF0aW9uICYmICdzY2FsZScgaW4gcXVhbnRpemF0aW9uKSkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAgICAgYFdlaWdodCAke3NwZWMubmFtZX0gd2l0aCBxdWFudGl6YXRpb24gJHtxdWFudGl6YXRpb24uZHR5cGV9IGAgK1xuICAgICAgICAgICAgICBgZG9lc24ndCBoYXZlIGNvcnJlc3BvbmRpbmcgbWV0YWRhdGEgbWluIGFuZCBzY2FsZS5gKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChxdWFudGl6YXRpb24uZHR5cGUgPT09ICdmbG9hdDE2Jykge1xuICAgICAgICBpZiAoZHR5cGUgIT09ICdmbG9hdDMyJykge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAgICAgYFdlaWdodCAke3NwZWMubmFtZX0gaXMgcXVhbnRpemVkIHdpdGggJHtxdWFudGl6YXRpb24uZHR5cGV9IGAgK1xuICAgICAgICAgICAgICBgd2hpY2ggb25seSBzdXBwb3J0cyB3ZWlnaHRzIG9mIHR5cGUgZmxvYXQzMiBub3QgJHtkdHlwZX0uYCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAgIGBXZWlnaHQgJHtzcGVjLm5hbWV9IGhhcyB1bmtub3duIGAgK1xuICAgICAgICAgICAgYHF1YW50aXphdGlvbiBkdHlwZSAke3F1YW50aXphdGlvbi5kdHlwZX0uIGAgK1xuICAgICAgICAgICAgYFN1cHBvcnRlZCBxdWFudGl6YXRpb24gZHR5cGVzIGFyZTogYCArXG4gICAgICAgICAgICBgJ3VpbnQ4JywgJ3VpbnQxNicsIGFuZCAnZmxvYXQxNicuYCk7XG4gICAgICB9XG4gICAgICBjb25zdCBxdWFudGl6YXRpb25TaXplRmFjdG9yID0gRFRZUEVfVkFMVUVfU0laRV9NQVBbcXVhbnRpemF0aW9uLmR0eXBlXTtcbiAgICAgIGNvbnN0IGJ5dGVCdWZmZXIgPVxuICAgICAgICAgIGJ1ZmZlci5zbGljZShvZmZzZXQsIG9mZnNldCArIHNpemUgKiBxdWFudGl6YXRpb25TaXplRmFjdG9yKTtcbiAgICAgIGNvbnN0IHF1YW50aXplZEFycmF5ID0gKHF1YW50aXphdGlvbi5kdHlwZSA9PT0gJ3VpbnQ4JykgP1xuICAgICAgICAgIG5ldyBVaW50OEFycmF5KGJ5dGVCdWZmZXIpIDpcbiAgICAgICAgICBuZXcgVWludDE2QXJyYXkoYnl0ZUJ1ZmZlcik7XG4gICAgICBpZiAoZHR5cGUgPT09ICdmbG9hdDMyJykge1xuICAgICAgICBpZiAocXVhbnRpemF0aW9uLmR0eXBlID09PSAndWludDgnIHx8IHF1YW50aXphdGlvbi5kdHlwZSA9PT0gJ3VpbnQxNicpIHtcbiAgICAgICAgICB2YWx1ZXMgPSBuZXcgRmxvYXQzMkFycmF5KHF1YW50aXplZEFycmF5Lmxlbmd0aCk7XG4gICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBxdWFudGl6ZWRBcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgdiA9IHF1YW50aXplZEFycmF5W2ldO1xuICAgICAgICAgICAgdmFsdWVzW2ldID0gdiAqIHF1YW50aXphdGlvbi5zY2FsZSArIHF1YW50aXphdGlvbi5taW47XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHF1YW50aXphdGlvbi5kdHlwZSA9PT0gJ2Zsb2F0MTYnKSB7XG4gICAgICAgICAgaWYgKGZsb2F0MTZEZWNvZGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgZmxvYXQxNkRlY29kZSA9IGdldEZsb2F0MTZEZWNvZGVyKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhbHVlcyA9IGZsb2F0MTZEZWNvZGUocXVhbnRpemVkQXJyYXkgYXMgVWludDE2QXJyYXkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAgICAgYFVuc3VwcG9ydGVkIHF1YW50aXphdGlvbiB0eXBlICR7cXVhbnRpemF0aW9uLmR0eXBlfSBgICtcbiAgICAgICAgICAgICAgYGZvciB3ZWlnaHQgdHlwZSBmbG9hdDMyLmApO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGR0eXBlID09PSAnaW50MzInKSB7XG4gICAgICAgIGlmIChxdWFudGl6YXRpb24uZHR5cGUgIT09ICd1aW50OCcgJiYgcXVhbnRpemF0aW9uLmR0eXBlICE9PSAndWludDE2Jykge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAgICAgYFVuc3VwcG9ydGVkIHF1YW50aXphdGlvbiB0eXBlICR7cXVhbnRpemF0aW9uLmR0eXBlfSBgICtcbiAgICAgICAgICAgICAgYGZvciB3ZWlnaHQgdHlwZSBpbnQzMi5gKTtcbiAgICAgICAgfVxuICAgICAgICB2YWx1ZXMgPSBuZXcgSW50MzJBcnJheShxdWFudGl6ZWRBcnJheS5sZW5ndGgpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHF1YW50aXplZEFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgY29uc3QgdiA9IHF1YW50aXplZEFycmF5W2ldO1xuICAgICAgICAgIHZhbHVlc1tpXSA9IE1hdGgucm91bmQodiAqIHF1YW50aXphdGlvbi5zY2FsZSArIHF1YW50aXphdGlvbi5taW4pO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuc3VwcG9ydGVkIGR0eXBlIGluIHdlaWdodCAnJHtuYW1lfSc6ICR7ZHR5cGV9YCk7XG4gICAgICB9XG4gICAgICBvZmZzZXQgKz0gc2l6ZSAqIHF1YW50aXphdGlvblNpemVGYWN0b3I7XG4gICAgfSBlbHNlIGlmIChkdHlwZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGNvbnN0IHNpemUgPSBzaXplRnJvbVNoYXBlKHNwZWMuc2hhcGUpO1xuICAgICAgdmFsdWVzID0gW107XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNpemU7IGkrKykge1xuICAgICAgICBjb25zdCBieXRlTGVuZ3RoID0gbmV3IFVpbnQzMkFycmF5KFxuICAgICAgICAgICAgYnVmZmVyLnNsaWNlKG9mZnNldCwgb2Zmc2V0ICsgTlVNX0JZVEVTX1NUUklOR19MRU5HVEgpKVswXTtcbiAgICAgICAgb2Zmc2V0ICs9IE5VTV9CWVRFU19TVFJJTkdfTEVOR1RIO1xuICAgICAgICBjb25zdCBieXRlcyA9IG5ldyBVaW50OEFycmF5KGJ1ZmZlci5zbGljZShvZmZzZXQsIG9mZnNldCArIGJ5dGVMZW5ndGgpKTtcbiAgICAgICAgKHZhbHVlcyBhcyBVaW50OEFycmF5W10pLnB1c2goYnl0ZXMpO1xuICAgICAgICBvZmZzZXQgKz0gYnl0ZUxlbmd0aDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgZHR5cGVGYWN0b3IgPSBEVFlQRV9WQUxVRV9TSVpFX01BUFtkdHlwZV07XG4gICAgICBjb25zdCBieXRlQnVmZmVyID0gYnVmZmVyLnNsaWNlKG9mZnNldCwgb2Zmc2V0ICsgc2l6ZSAqIGR0eXBlRmFjdG9yKTtcblxuICAgICAgaWYgKGR0eXBlID09PSAnZmxvYXQzMicpIHtcbiAgICAgICAgdmFsdWVzID0gbmV3IEZsb2F0MzJBcnJheShieXRlQnVmZmVyKTtcbiAgICAgIH0gZWxzZSBpZiAoZHR5cGUgPT09ICdpbnQzMicpIHtcbiAgICAgICAgdmFsdWVzID0gbmV3IEludDMyQXJyYXkoYnl0ZUJ1ZmZlcik7XG4gICAgICB9IGVsc2UgaWYgKGR0eXBlID09PSAnYm9vbCcpIHtcbiAgICAgICAgdmFsdWVzID0gbmV3IFVpbnQ4QXJyYXkoYnl0ZUJ1ZmZlcik7XG4gICAgICB9IGVsc2UgaWYgKGR0eXBlID09PSAnY29tcGxleDY0Jykge1xuICAgICAgICB2YWx1ZXMgPSBuZXcgRmxvYXQzMkFycmF5KGJ5dGVCdWZmZXIpO1xuICAgICAgICBjb25zdCByZWFsID0gbmV3IEZsb2F0MzJBcnJheSh2YWx1ZXMubGVuZ3RoIC8gMik7XG4gICAgICAgIGNvbnN0IGltYWdlID0gbmV3IEZsb2F0MzJBcnJheSh2YWx1ZXMubGVuZ3RoIC8gMik7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmVhbC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIHJlYWxbaV0gPSB2YWx1ZXNbaSAqIDJdO1xuICAgICAgICAgIGltYWdlW2ldID0gdmFsdWVzW2kgKiAyICsgMV07XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVhbFRlbnNvciA9IHRlbnNvcihyZWFsLCBzaGFwZSwgJ2Zsb2F0MzInKTtcbiAgICAgICAgY29uc3QgaW1hZ2VUZW5zb3IgPSB0ZW5zb3IoaW1hZ2UsIHNoYXBlLCAnZmxvYXQzMicpO1xuICAgICAgICBvdXRbbmFtZV0gPSBjb21wbGV4KHJlYWxUZW5zb3IsIGltYWdlVGVuc29yKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5zdXBwb3J0ZWQgZHR5cGUgaW4gd2VpZ2h0ICcke25hbWV9JzogJHtkdHlwZX1gKTtcbiAgICAgIH1cbiAgICAgIG9mZnNldCArPSBzaXplICogZHR5cGVGYWN0b3I7XG4gICAgfVxuICAgIGlmIChkdHlwZSAhPT0gJ2NvbXBsZXg2NCcpIHtcbiAgICAgIG91dFtuYW1lXSA9IHRlbnNvcih2YWx1ZXMsIHNoYXBlLCBkdHlwZSk7XG4gICAgfVxuICB9XG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogQ29uY2F0ZW5hdGUgVHlwZWRBcnJheXMgaW50byBhbiBBcnJheUJ1ZmZlci5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbmNhdGVuYXRlVHlwZWRBcnJheXMoeHM6IFR5cGVkQXJyYXlbXSk6IEFycmF5QnVmZmVyIHtcbiAgLy8gVE9ETyhhZGFyb2IsIGNhaXMpOiBTdXBwb3J0IHF1YW50aXphdGlvbi5cbiAgaWYgKHhzID09PSBudWxsKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIGlucHV0IHZhbHVlOiAke0pTT04uc3RyaW5naWZ5KHhzKX1gKTtcbiAgfVxuXG4gIGxldCB0b3RhbEJ5dGVMZW5ndGggPSAwO1xuXG4gIC8vIGBub3JtYWxpemVkWHNgIGlzIGhlcmUgZm9yIHRoaXMgcmVhc29uOiBhIGBUeXBlZEFycmF5YCdzIGBidWZmZXInXG4gIC8vIGNhbiBoYXZlIGEgZGlmZmVyZW50IGJ5dGUgbGVuZ3RoIGZyb20gdGhhdCBvZiB0aGUgYFR5cGVkQXJyYXlgIGl0c2VsZixcbiAgLy8gZm9yIGV4YW1wbGUsIHdoZW4gdGhlIGBUeXBlZEFycmF5YCBpcyBjcmVhdGVkIGZyb20gYW4gb2Zmc2V0IGluIGFuXG4gIC8vIGBBcnJheUJ1ZmZlcmAuIGBub3JtbGlhemVkWHNgIGhvbGRzIGBUeXBlZEFycmF5YHMgd2hvc2UgYGJ1ZmZlcmBzIG1hdGNoXG4gIC8vIHRoZSBgVHlwZWRBcnJheWAgaW4gYnl0ZSBsZW5ndGguIElmIGFuIGVsZW1lbnQgb2YgYHhzYCBkb2VzIG5vdCBzaG93XG4gIC8vIHRoaXMgcHJvcGVydHksIGEgbmV3IGBUeXBlZEFycmF5YCB0aGF0IHNhdGlzZnkgdGhpcyBwcm9wZXJ0eSB3aWxsIGJlXG4gIC8vIGNvbnN0cnVjdGVkIGFuZCBwdXNoZWQgaW50byBgbm9ybWFsaXplZFhzYC5cbiAgY29uc3Qgbm9ybWFsaXplZFhzOiBUeXBlZEFycmF5W10gPSBbXTtcbiAgeHMuZm9yRWFjaCgoeDogVHlwZWRBcnJheSkgPT4ge1xuICAgIHRvdGFsQnl0ZUxlbmd0aCArPSB4LmJ5dGVMZW5ndGg7XG4gICAgLy8gdHNsaW50OmRpc2FibGU6bm8tYW55XG4gICAgbm9ybWFsaXplZFhzLnB1c2goXG4gICAgICAgIHguYnl0ZUxlbmd0aCA9PT0geC5idWZmZXIuYnl0ZUxlbmd0aCA/IHggOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgKHguY29uc3RydWN0b3IgYXMgYW55KSh4KSk7XG4gICAgaWYgKCEoeCBhcyBhbnkgaW5zdGFuY2VvZiBGbG9hdDMyQXJyYXkgfHwgeCBhcyBhbnkgaW5zdGFuY2VvZiBJbnQzMkFycmF5IHx8XG4gICAgICAgICAgeCBhcyBhbnkgaW5zdGFuY2VvZiBVaW50OEFycmF5KSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbnN1cHBvcnRlZCBUeXBlZEFycmF5IHN1YnR5cGU6ICR7eC5jb25zdHJ1Y3Rvci5uYW1lfWApO1xuICAgIH1cbiAgICAvLyB0c2xpbnQ6ZW5hYmxlOm5vLWFueVxuICB9KTtcblxuICBjb25zdCB5ID0gbmV3IFVpbnQ4QXJyYXkodG90YWxCeXRlTGVuZ3RoKTtcbiAgbGV0IG9mZnNldCA9IDA7XG4gIG5vcm1hbGl6ZWRYcy5mb3JFYWNoKCh4OiBUeXBlZEFycmF5KSA9PiB7XG4gICAgeS5zZXQobmV3IFVpbnQ4QXJyYXkoeC5idWZmZXIpLCBvZmZzZXQpO1xuICAgIG9mZnNldCArPSB4LmJ5dGVMZW5ndGg7XG4gIH0pO1xuXG4gIHJldHVybiB5LmJ1ZmZlcjtcbn1cblxuLy8gVXNlIEJ1ZmZlciBvbiBOb2RlLmpzIGluc3RlYWQgb2YgQmxvYi9hdG9iL2J0b2FcbmNvbnN0IHVzZU5vZGVCdWZmZXIgPSB0eXBlb2YgQnVmZmVyICE9PSAndW5kZWZpbmVkJyAmJlxuICAgICh0eXBlb2YgQmxvYiA9PT0gJ3VuZGVmaW5lZCcgfHwgdHlwZW9mIGF0b2IgPT09ICd1bmRlZmluZWQnIHx8XG4gICAgIHR5cGVvZiBidG9hID09PSAndW5kZWZpbmVkJyk7XG5cbi8qKlxuICogQ2FsY3VsYXRlIHRoZSBieXRlIGxlbmd0aCBvZiBhIEphdmFTY3JpcHQgc3RyaW5nLlxuICpcbiAqIE5vdGUgdGhhdCBhIEphdmFTY3JpcHQgc3RyaW5nIGNhbiBjb250YWluIHdpZGUgY2hhcmFjdGVycywgdGhlcmVmb3JlIHRoZVxuICogbGVuZ3RoIG9mIHRoZSBzdHJpbmcgaXMgbm90IG5lY2Vzc2FyaWx5IGVxdWFsIHRvIHRoZSBieXRlIGxlbmd0aC5cbiAqXG4gKiBAcGFyYW0gc3RyIElucHV0IHN0cmluZy5cbiAqIEByZXR1cm5zIEJ5dGUgbGVuZ3RoLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc3RyaW5nQnl0ZUxlbmd0aChzdHI6IHN0cmluZyk6IG51bWJlciB7XG4gIGlmICh1c2VOb2RlQnVmZmVyKSB7XG4gICAgcmV0dXJuIEJ1ZmZlci5ieXRlTGVuZ3RoKHN0cik7XG4gIH1cbiAgcmV0dXJuIG5ldyBCbG9iKFtzdHJdKS5zaXplO1xufVxuXG4vKipcbiAqIEVuY29kZSBhbiBBcnJheUJ1ZmZlciBhcyBhIGJhc2U2NCBlbmNvZGVkIHN0cmluZy5cbiAqXG4gKiBAcGFyYW0gYnVmZmVyIGBBcnJheUJ1ZmZlcmAgdG8gYmUgY29udmVydGVkLlxuICogQHJldHVybnMgQSBzdHJpbmcgdGhhdCBiYXNlNjQtZW5jb2RlcyBgYnVmZmVyYC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFycmF5QnVmZmVyVG9CYXNlNjRTdHJpbmcoYnVmZmVyOiBBcnJheUJ1ZmZlcik6IHN0cmluZyB7XG4gIGlmICh1c2VOb2RlQnVmZmVyKSB7XG4gICAgcmV0dXJuIEJ1ZmZlci5mcm9tKGJ1ZmZlcikudG9TdHJpbmcoJ2Jhc2U2NCcpO1xuICB9XG4gIGNvbnN0IGJ1ZiA9IG5ldyBVaW50OEFycmF5KGJ1ZmZlcik7XG4gIGxldCBzID0gJyc7XG4gIGZvciAobGV0IGkgPSAwLCBsID0gYnVmLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgIHMgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShidWZbaV0pO1xuICB9XG4gIHJldHVybiBidG9hKHMpO1xufVxuXG4vKipcbiAqIERlY29kZSBhIGJhc2U2NCBzdHJpbmcgYXMgYW4gQXJyYXlCdWZmZXIuXG4gKlxuICogQHBhcmFtIHN0ciBCYXNlNjQgc3RyaW5nLlxuICogQHJldHVybnMgRGVjb2RlZCBgQXJyYXlCdWZmZXJgLlxuICovXG5leHBvcnQgZnVuY3Rpb24gYmFzZTY0U3RyaW5nVG9BcnJheUJ1ZmZlcihzdHI6IHN0cmluZyk6IEFycmF5QnVmZmVyIHtcbiAgaWYgKHVzZU5vZGVCdWZmZXIpIHtcbiAgICBjb25zdCBidWYgPSBCdWZmZXIuZnJvbShzdHIsICdiYXNlNjQnKTtcbiAgICByZXR1cm4gYnVmLmJ1ZmZlci5zbGljZShidWYuYnl0ZU9mZnNldCwgYnVmLmJ5dGVPZmZzZXQgKyBidWYuYnl0ZUxlbmd0aCk7XG4gIH1cbiAgY29uc3QgcyA9IGF0b2Ioc3RyKTtcbiAgY29uc3QgYnVmZmVyID0gbmV3IFVpbnQ4QXJyYXkocy5sZW5ndGgpO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHMubGVuZ3RoOyArK2kpIHtcbiAgICBidWZmZXIuc2V0KFtzLmNoYXJDb2RlQXQoaSldLCBpKTtcbiAgfVxuICByZXR1cm4gYnVmZmVyLmJ1ZmZlcjtcbn1cblxuLyoqXG4gKiBDb25jYXRlbmF0ZSBhIG51bWJlciBvZiBBcnJheUJ1ZmZlcnMgaW50byBvbmUuXG4gKlxuICogQHBhcmFtIGJ1ZmZlcnMgQSBudW1iZXIgb2YgYXJyYXkgYnVmZmVycyB0byBjb25jYXRlbmF0ZS5cbiAqIEByZXR1cm5zIFJlc3VsdCBvZiBjb25jYXRlbmF0aW5nIGBidWZmZXJzYCBpbiBvcmRlci5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbmNhdGVuYXRlQXJyYXlCdWZmZXJzKGJ1ZmZlcnM6IEFycmF5QnVmZmVyW10pOiBBcnJheUJ1ZmZlciB7XG4gIGlmIChidWZmZXJzLmxlbmd0aCA9PT0gMSkge1xuICAgIHJldHVybiBidWZmZXJzWzBdO1xuICB9XG5cbiAgbGV0IHRvdGFsQnl0ZUxlbmd0aCA9IDA7XG4gIGJ1ZmZlcnMuZm9yRWFjaCgoYnVmZmVyOiBBcnJheUJ1ZmZlcikgPT4ge1xuICAgIHRvdGFsQnl0ZUxlbmd0aCArPSBidWZmZXIuYnl0ZUxlbmd0aDtcbiAgfSk7XG5cbiAgY29uc3QgdGVtcCA9IG5ldyBVaW50OEFycmF5KHRvdGFsQnl0ZUxlbmd0aCk7XG4gIGxldCBvZmZzZXQgPSAwO1xuICBidWZmZXJzLmZvckVhY2goKGJ1ZmZlcjogQXJyYXlCdWZmZXIpID0+IHtcbiAgICB0ZW1wLnNldChuZXcgVWludDhBcnJheShidWZmZXIpLCBvZmZzZXQpO1xuICAgIG9mZnNldCArPSBidWZmZXIuYnl0ZUxlbmd0aDtcbiAgfSk7XG4gIHJldHVybiB0ZW1wLmJ1ZmZlcjtcbn1cblxuLyoqXG4gKiBHZXQgdGhlIGJhc2VuYW1lIG9mIGEgcGF0aC5cbiAqXG4gKiBCZWhhdmVzIGluIGEgd2F5IGFuYWxvZ291cyB0byBMaW51eCdzIGJhc2VuYW1lIGNvbW1hbmQuXG4gKlxuICogQHBhcmFtIHBhdGhcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGJhc2VuYW1lKHBhdGg6IHN0cmluZyk6IHN0cmluZyB7XG4gIGNvbnN0IFNFUEFSQVRPUiA9ICcvJztcbiAgcGF0aCA9IHBhdGgudHJpbSgpO1xuICB3aGlsZSAocGF0aC5lbmRzV2l0aChTRVBBUkFUT1IpKSB7XG4gICAgcGF0aCA9IHBhdGguc2xpY2UoMCwgcGF0aC5sZW5ndGggLSAxKTtcbiAgfVxuICBjb25zdCBpdGVtcyA9IHBhdGguc3BsaXQoU0VQQVJBVE9SKTtcbiAgcmV0dXJuIGl0ZW1zW2l0ZW1zLmxlbmd0aCAtIDFdO1xufVxuXG4vKipcbiAqIFBvcHVsYXRlIE1vZGVsQXJ0aWZhY3RzSW5mbyBmaWVsZHMgZm9yIGEgbW9kZWwgd2l0aCBKU09OIHRvcG9sb2d5LlxuICogQHBhcmFtIG1vZGVsQXJ0aWZhY3RzXG4gKiBAcmV0dXJucyBBIE1vZGVsQXJ0aWZhY3RzSW5mbyBvYmplY3QuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRNb2RlbEFydGlmYWN0c0luZm9Gb3JKU09OKG1vZGVsQXJ0aWZhY3RzOiBNb2RlbEFydGlmYWN0cyk6XG4gICAgTW9kZWxBcnRpZmFjdHNJbmZvIHtcbiAgaWYgKG1vZGVsQXJ0aWZhY3RzLm1vZGVsVG9wb2xvZ3kgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikge1xuICAgIHRocm93IG5ldyBFcnJvcignRXhwZWN0ZWQgSlNPTiBtb2RlbCB0b3BvbG9neSwgcmVjZWl2ZWQgQXJyYXlCdWZmZXIuJyk7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGRhdGVTYXZlZDogbmV3IERhdGUoKSxcbiAgICBtb2RlbFRvcG9sb2d5VHlwZTogJ0pTT04nLFxuICAgIG1vZGVsVG9wb2xvZ3lCeXRlczogbW9kZWxBcnRpZmFjdHMubW9kZWxUb3BvbG9neSA9PSBudWxsID9cbiAgICAgICAgMCA6XG4gICAgICAgIHN0cmluZ0J5dGVMZW5ndGgoSlNPTi5zdHJpbmdpZnkobW9kZWxBcnRpZmFjdHMubW9kZWxUb3BvbG9neSkpLFxuICAgIHdlaWdodFNwZWNzQnl0ZXM6IG1vZGVsQXJ0aWZhY3RzLndlaWdodFNwZWNzID09IG51bGwgP1xuICAgICAgICAwIDpcbiAgICAgICAgc3RyaW5nQnl0ZUxlbmd0aChKU09OLnN0cmluZ2lmeShtb2RlbEFydGlmYWN0cy53ZWlnaHRTcGVjcykpLFxuICAgIHdlaWdodERhdGFCeXRlczogbW9kZWxBcnRpZmFjdHMud2VpZ2h0RGF0YSA9PSBudWxsID9cbiAgICAgICAgMCA6XG4gICAgICAgIG1vZGVsQXJ0aWZhY3RzLndlaWdodERhdGEuYnl0ZUxlbmd0aCxcbiAgfTtcbn1cblxuLyoqXG4gKiBDb21wdXRlcyBtYW50aXNhIHRhYmxlIGZvciBjYXN0aW5nIEZsb2F0MTYgdG8gRmxvYXQzMlxuICogU2VlIGh0dHA6Ly93d3cuZm94LXRvb2xraXQub3JnL2Z0cC9mYXN0aGFsZmZsb2F0Y29udmVyc2lvbi5wZGZcbiAqXG4gKiBAcmV0dXJucyBVaW50MzJBcnJheSwgMjA0OCBtYW50aXNzYSBsb29rdXAgdmFsdWVzLlxuICovXG5mdW5jdGlvbiBjb21wdXRlRmxvYXQxNk1hbnRpc2FUYWJsZSgpOiBVaW50MzJBcnJheSB7XG4gIGNvbnN0IGNvbnZlcnRNYW50aXNzYSA9IChpOiBudW1iZXIpOiBudW1iZXIgPT4ge1xuICAgIGxldCBtID0gaSA8PCAxMztcbiAgICBsZXQgZSA9IDA7XG5cbiAgICB3aGlsZSAoKG0gJiAweDAwODAwMDAwKSA9PT0gMCkge1xuICAgICAgZSAtPSAweDAwODAwMDAwO1xuICAgICAgbSA8PD0gMTtcbiAgICB9XG4gICAgbSAmPSB+MHgwMDgwMDAwMDtcbiAgICBlICs9IDB4Mzg4MDAwMDA7XG5cbiAgICByZXR1cm4gbSB8IGU7XG4gIH07XG5cbiAgY29uc3QgbWFudGlzYVRhYmxlID0gbmV3IFVpbnQzMkFycmF5KDIwNDgpO1xuXG4gIG1hbnRpc2FUYWJsZVswXSA9IDA7XG4gIGZvciAobGV0IGkgPSAxOyBpIDwgMTAyNDsgaSsrKSB7XG4gICAgbWFudGlzYVRhYmxlW2ldID0gY29udmVydE1hbnRpc3NhKGkpO1xuICB9XG4gIGZvciAobGV0IGkgPSAxMDI0OyBpIDwgMjA0ODsgaSsrKSB7XG4gICAgbWFudGlzYVRhYmxlW2ldID0gMHgzODAwMDAwMCArICgoaSAtIDEwMjQpIDw8IDEzKTtcbiAgfVxuXG4gIHJldHVybiBtYW50aXNhVGFibGU7XG59XG5cbi8qKlxuICogQ29tcHV0ZXMgZXhwb25lbnQgdGFibGUgZm9yIGNhc3RpbmcgRmxvYXQxNiB0byBGbG9hdDMyXG4gKiBTZWUgaHR0cDovL3d3dy5mb3gtdG9vbGtpdC5vcmcvZnRwL2Zhc3RoYWxmZmxvYXRjb252ZXJzaW9uLnBkZlxuICpcbiAqIEByZXR1cm5zIFVpbnQzMkFycmF5LCA2NCBleHBvbmVudCBsb29rdXAgdmFsdWVzLlxuICovXG5mdW5jdGlvbiBjb21wdXRlRmxvYXQxNkV4cG9uZW50VGFibGUoKTogVWludDMyQXJyYXkge1xuICBjb25zdCBleHBvbmVudFRhYmxlID0gbmV3IFVpbnQzMkFycmF5KDY0KTtcblxuICBleHBvbmVudFRhYmxlWzBdID0gMDtcbiAgZXhwb25lbnRUYWJsZVszMV0gPSAweDQ3ODAwMDAwO1xuICBleHBvbmVudFRhYmxlWzMyXSA9IDB4ODAwMDAwMDA7XG4gIGV4cG9uZW50VGFibGVbNjNdID0gMHhjNzgwMDAwMDtcbiAgZm9yIChsZXQgaSA9IDE7IGkgPCAzMTsgaSsrKSB7XG4gICAgZXhwb25lbnRUYWJsZVtpXSA9IGkgPDwgMjM7XG4gIH1cbiAgZm9yIChsZXQgaSA9IDMzOyBpIDwgNjM7IGkrKykge1xuICAgIGV4cG9uZW50VGFibGVbaV0gPSAweDgwMDAwMDAwICsgKChpIC0gMzIpIDw8IDIzKTtcbiAgfVxuXG4gIHJldHVybiBleHBvbmVudFRhYmxlO1xufVxuXG4vKipcbiAqIENvbXB1dGVzIG9mZnNldCB0YWJsZSBmb3IgY2FzdGluZyBGbG9hdDE2IHRvIEZsb2F0MzJcbiAqIFNlZSBodHRwOi8vd3d3LmZveC10b29sa2l0Lm9yZy9mdHAvZmFzdGhhbGZmbG9hdGNvbnZlcnNpb24ucGRmXG4gKlxuICogQHJldHVybnMgVWludDMyQXJyYXksIDZkIG9mZnNldCB2YWx1ZXMuXG4gKi9cbmZ1bmN0aW9uIGNvbXB1dGVGbG9hdDE2T2Zmc2V0VGFibGUoKTogVWludDMyQXJyYXkge1xuICBjb25zdCBvZmZzZXRUYWJsZSA9IG5ldyBVaW50MzJBcnJheSg2NCk7XG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCA2NDsgaSsrKSB7XG4gICAgb2Zmc2V0VGFibGVbaV0gPSAxMDI0O1xuICB9XG4gIG9mZnNldFRhYmxlWzBdID0gb2Zmc2V0VGFibGVbMzJdID0gMDtcblxuICByZXR1cm4gb2Zmc2V0VGFibGU7XG59XG5cbi8qKlxuICogUmV0cmlldmUgYSBGbG9hdDE2IGRlY29kZXIgd2hpY2ggd2lsbCBkZWNvZGUgYSBCeXRlQXJyYXkgb2YgRmxvYXQxNiB2YWx1ZXNcbiAqIHRvIGEgRmxvYXQzMkFycmF5LlxuICpcbiAqIEByZXR1cm5zIEZ1bmN0aW9uIChidWZmZXI6IFVpbnQxNkFycmF5KSA9PiBGbG9hdDMyQXJyYXkgd2hpY2ggZGVjb2Rlc1xuICogICAgICAgICAgdGhlIFVpbnQxNkFycmF5IG9mIEZsb2F0MTYgYnl0ZXMgdG8gYSBGbG9hdDMyQXJyYXkuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRGbG9hdDE2RGVjb2RlcigpOiAoYnVmZmVyOiBVaW50MTZBcnJheSkgPT4gRmxvYXQzMkFycmF5IHtcbiAgLy8gQWxnb3JpdGhtIGlzIGJhc2VkIG9mZiBvZlxuICAvLyBodHRwOi8vd3d3LmZveC10b29sa2l0Lm9yZy9mdHAvZmFzdGhhbGZmbG9hdGNvbnZlcnNpb24ucGRmXG5cbiAgLy8gQ2FjaGUgbG9va3VwIHRhYmxlc1xuICBjb25zdCBtYW50aXNhVGFibGUgPSBjb21wdXRlRmxvYXQxNk1hbnRpc2FUYWJsZSgpO1xuICBjb25zdCBleHBvbmVudFRhYmxlID0gY29tcHV0ZUZsb2F0MTZFeHBvbmVudFRhYmxlKCk7XG4gIGNvbnN0IG9mZnNldFRhYmxlID0gY29tcHV0ZUZsb2F0MTZPZmZzZXRUYWJsZSgpO1xuXG4gIHJldHVybiAocXVhbnRpemVkQXJyYXk6IFVpbnQxNkFycmF5KSA9PiB7XG4gICAgY29uc3QgYnVmZmVyID0gbmV3IEFycmF5QnVmZmVyKDQgKiBxdWFudGl6ZWRBcnJheS5sZW5ndGgpO1xuICAgIGNvbnN0IGJ1ZmZlclVpbnQzMlZpZXcgPSBuZXcgVWludDMyQXJyYXkoYnVmZmVyKTtcbiAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgcXVhbnRpemVkQXJyYXkubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICBjb25zdCBmbG9hdDE2Qml0cyA9IHF1YW50aXplZEFycmF5W2luZGV4XTtcbiAgICAgIGNvbnN0IGZsb2F0MzJCaXRzID1cbiAgICAgICAgICBtYW50aXNhVGFibGVbb2Zmc2V0VGFibGVbZmxvYXQxNkJpdHMgPj4gMTBdICsgKGZsb2F0MTZCaXRzICYgMHgzZmYpXSArXG4gICAgICAgICAgZXhwb25lbnRUYWJsZVtmbG9hdDE2Qml0cyA+PiAxMF07XG4gICAgICBidWZmZXJVaW50MzJWaWV3W2luZGV4XSA9IGZsb2F0MzJCaXRzO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IEZsb2F0MzJBcnJheShidWZmZXIpO1xuICB9O1xufVxuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTggR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG5pbXBvcnQge0lPSGFuZGxlciwgTG9hZE9wdGlvbnN9IGZyb20gJy4vdHlwZXMnO1xuXG5leHBvcnQgdHlwZSBJT1JvdXRlciA9ICh1cmw6IHN0cmluZ3xzdHJpbmdbXSwgbG9hZE9wdGlvbnM/OiBMb2FkT3B0aW9ucykgPT5cbiAgICBJT0hhbmRsZXI7XG5cbmV4cG9ydCBjbGFzcyBJT1JvdXRlclJlZ2lzdHJ5IHtcbiAgLy8gU2luZ2xldG9uIGluc3RhbmNlLlxuICBwcml2YXRlIHN0YXRpYyBpbnN0YW5jZTogSU9Sb3V0ZXJSZWdpc3RyeTtcblxuICBwcml2YXRlIHNhdmVSb3V0ZXJzOiBJT1JvdXRlcltdO1xuICBwcml2YXRlIGxvYWRSb3V0ZXJzOiBJT1JvdXRlcltdO1xuXG4gIHByaXZhdGUgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5zYXZlUm91dGVycyA9IFtdO1xuICAgIHRoaXMubG9hZFJvdXRlcnMgPSBbXTtcbiAgfVxuXG4gIHByaXZhdGUgc3RhdGljIGdldEluc3RhbmNlKCk6IElPUm91dGVyUmVnaXN0cnkge1xuICAgIGlmIChJT1JvdXRlclJlZ2lzdHJ5Lmluc3RhbmNlID09IG51bGwpIHtcbiAgICAgIElPUm91dGVyUmVnaXN0cnkuaW5zdGFuY2UgPSBuZXcgSU9Sb3V0ZXJSZWdpc3RyeSgpO1xuICAgIH1cbiAgICByZXR1cm4gSU9Sb3V0ZXJSZWdpc3RyeS5pbnN0YW5jZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZWdpc3RlciBhIHNhdmUtaGFuZGxlciByb3V0ZXIuXG4gICAqXG4gICAqIEBwYXJhbSBzYXZlUm91dGVyIEEgZnVuY3Rpb24gdGhhdCBtYXBzIGEgVVJMLWxpa2Ugc3RyaW5nIG9udG8gYW4gaW5zdGFuY2VcbiAgICogb2YgYElPSGFuZGxlcmAgd2l0aCB0aGUgYHNhdmVgIG1ldGhvZCBkZWZpbmVkIG9yIGBudWxsYC5cbiAgICovXG4gIHN0YXRpYyByZWdpc3RlclNhdmVSb3V0ZXIoc2F2ZVJvdXRlcjogSU9Sb3V0ZXIpIHtcbiAgICBJT1JvdXRlclJlZ2lzdHJ5LmdldEluc3RhbmNlKCkuc2F2ZVJvdXRlcnMucHVzaChzYXZlUm91dGVyKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZWdpc3RlciBhIGxvYWQtaGFuZGxlciByb3V0ZXIuXG4gICAqXG4gICAqIEBwYXJhbSBsb2FkUm91dGVyIEEgZnVuY3Rpb24gdGhhdCBtYXBzIGEgVVJMLWxpa2Ugc3RyaW5nIG9udG8gYW4gaW5zdGFuY2VcbiAgICogb2YgYElPSGFuZGxlcmAgd2l0aCB0aGUgYGxvYWRgIG1ldGhvZCBkZWZpbmVkIG9yIGBudWxsYC5cbiAgICovXG4gIHN0YXRpYyByZWdpc3RlckxvYWRSb3V0ZXIobG9hZFJvdXRlcjogSU9Sb3V0ZXIpIHtcbiAgICBJT1JvdXRlclJlZ2lzdHJ5LmdldEluc3RhbmNlKCkubG9hZFJvdXRlcnMucHVzaChsb2FkUm91dGVyKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBMb29rIHVwIElPSGFuZGxlciBmb3Igc2F2aW5nLCBnaXZlbiBhIFVSTC1saWtlIHN0cmluZy5cbiAgICpcbiAgICogQHBhcmFtIHVybFxuICAgKiBAcmV0dXJucyBJZiBvbmx5IG9uZSBtYXRjaCBpcyBmb3VuZCwgYW4gaW5zdGFuY2Ugb2YgSU9IYW5kbGVyIHdpdGggdGhlXG4gICAqIGBzYXZlYCBtZXRob2QgZGVmaW5lZC4gSWYgbm8gbWF0Y2ggaXMgZm91bmQsIGBudWxsYC5cbiAgICogQHRocm93cyBFcnJvciwgaWYgbW9yZSB0aGFuIG9uZSBtYXRjaCBpcyBmb3VuZC5cbiAgICovXG4gIHN0YXRpYyBnZXRTYXZlSGFuZGxlcnModXJsOiBzdHJpbmd8c3RyaW5nW10pOiBJT0hhbmRsZXJbXSB7XG4gICAgcmV0dXJuIElPUm91dGVyUmVnaXN0cnkuZ2V0SGFuZGxlcnModXJsLCAnc2F2ZScpO1xuICB9XG5cbiAgLyoqXG4gICAqIExvb2sgdXAgSU9IYW5kbGVyIGZvciBsb2FkaW5nLCBnaXZlbiBhIFVSTC1saWtlIHN0cmluZy5cbiAgICpcbiAgICogQHBhcmFtIHVybFxuICAgKiBAcGFyYW0gbG9hZE9wdGlvbnMgT3B0aW9uYWwsIGN1c3RvbSBsb2FkIG9wdGlvbnMuXG4gICAqIEByZXR1cm5zIEFsbCB2YWxpZCBoYW5kbGVycyBmb3IgYHVybGAsIGdpdmVuIHRoZSBjdXJyZW50bHkgcmVnaXN0ZXJlZFxuICAgKiAgIGhhbmRsZXIgcm91dGVycy5cbiAgICovXG4gIHN0YXRpYyBnZXRMb2FkSGFuZGxlcnModXJsOiBzdHJpbmd8c3RyaW5nW10sIGxvYWRPcHRpb25zPzogTG9hZE9wdGlvbnMpOlxuICAgICAgSU9IYW5kbGVyW10ge1xuICAgIHJldHVybiBJT1JvdXRlclJlZ2lzdHJ5LmdldEhhbmRsZXJzKHVybCwgJ2xvYWQnLCBsb2FkT3B0aW9ucyk7XG4gIH1cblxuICBwcml2YXRlIHN0YXRpYyBnZXRIYW5kbGVycyhcbiAgICAgIHVybDogc3RyaW5nfHN0cmluZ1tdLCBoYW5kbGVyVHlwZTogJ3NhdmUnfCdsb2FkJyxcbiAgICAgIGxvYWRPcHRpb25zPzogTG9hZE9wdGlvbnMpOiBJT0hhbmRsZXJbXSB7XG4gICAgY29uc3QgdmFsaWRIYW5kbGVyczogSU9IYW5kbGVyW10gPSBbXTtcbiAgICBjb25zdCByb3V0ZXJzID0gaGFuZGxlclR5cGUgPT09ICdsb2FkJyA/XG4gICAgICAgIElPUm91dGVyUmVnaXN0cnkuZ2V0SW5zdGFuY2UoKS5sb2FkUm91dGVycyA6XG4gICAgICAgIElPUm91dGVyUmVnaXN0cnkuZ2V0SW5zdGFuY2UoKS5zYXZlUm91dGVycztcbiAgICByb3V0ZXJzLmZvckVhY2gocm91dGVyID0+IHtcbiAgICAgIGNvbnN0IGhhbmRsZXIgPSByb3V0ZXIodXJsLCBsb2FkT3B0aW9ucyk7XG4gICAgICBpZiAoaGFuZGxlciAhPT0gbnVsbCkge1xuICAgICAgICB2YWxpZEhhbmRsZXJzLnB1c2goaGFuZGxlcik7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHZhbGlkSGFuZGxlcnM7XG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IHJlZ2lzdGVyU2F2ZVJvdXRlciA9IChsb3VkUm91dGVyOiBJT1JvdXRlcikgPT5cbiAgICBJT1JvdXRlclJlZ2lzdHJ5LnJlZ2lzdGVyU2F2ZVJvdXRlcihsb3VkUm91dGVyKTtcbmV4cG9ydCBjb25zdCByZWdpc3RlckxvYWRSb3V0ZXIgPSAobG91ZFJvdXRlcjogSU9Sb3V0ZXIpID0+XG4gICAgSU9Sb3V0ZXJSZWdpc3RyeS5yZWdpc3RlckxvYWRSb3V0ZXIobG91ZFJvdXRlcik7XG5leHBvcnQgY29uc3QgZ2V0U2F2ZUhhbmRsZXJzID0gKHVybDogc3RyaW5nfHN0cmluZ1tdKSA9PlxuICAgIElPUm91dGVyUmVnaXN0cnkuZ2V0U2F2ZUhhbmRsZXJzKHVybCk7XG5leHBvcnQgY29uc3QgZ2V0TG9hZEhhbmRsZXJzID1cbiAgICAodXJsOiBzdHJpbmd8c3RyaW5nW10sIGxvYWRPcHRpb25zPzogTG9hZE9wdGlvbnMpID0+XG4gICAgICAgIElPUm91dGVyUmVnaXN0cnkuZ2V0TG9hZEhhbmRsZXJzKHVybCwgbG9hZE9wdGlvbnMpO1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTggR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG5pbXBvcnQgJy4uL2ZsYWdzJztcblxuaW1wb3J0IHtlbnZ9IGZyb20gJy4uL2Vudmlyb25tZW50JztcblxuaW1wb3J0IHtnZXRNb2RlbEFydGlmYWN0c0luZm9Gb3JKU09OfSBmcm9tICcuL2lvX3V0aWxzJztcbmltcG9ydCB7SU9Sb3V0ZXIsIElPUm91dGVyUmVnaXN0cnl9IGZyb20gJy4vcm91dGVyX3JlZ2lzdHJ5JztcbmltcG9ydCB7SU9IYW5kbGVyLCBNb2RlbEFydGlmYWN0cywgTW9kZWxBcnRpZmFjdHNJbmZvLCBNb2RlbFN0b3JlTWFuYWdlciwgU2F2ZVJlc3VsdH0gZnJvbSAnLi90eXBlcyc7XG5cbmNvbnN0IERBVEFCQVNFX05BTUUgPSAndGVuc29yZmxvd2pzJztcbmNvbnN0IERBVEFCQVNFX1ZFUlNJT04gPSAxO1xuXG4vLyBNb2RlbCBkYXRhIGFuZCBNb2RlbEFydGlmYWN0c0luZm8gKG1ldGFkYXRhKSBhcmUgc3RvcmVkIGluIHR3byBzZXBhcmF0ZVxuLy8gc3RvcmVzIGZvciBlZmZpY2llbnQgYWNjZXNzIG9mIHRoZSBsaXN0IG9mIHN0b3JlZCBtb2RlbHMgYW5kIHRoZWlyIG1ldGFkYXRhLlxuLy8gMS4gVGhlIG9iamVjdCBzdG9yZSBmb3IgbW9kZWwgZGF0YTogdG9wb2xvZ3ksIHdlaWdodHMgYW5kIHdlaWdodCBtYW5pZmVzdHMuXG5jb25zdCBNT0RFTF9TVE9SRV9OQU1FID0gJ21vZGVsc19zdG9yZSc7XG4vLyAyLiBUaGUgb2JqZWN0IHN0b3JlIGZvciBNb2RlbEFydGlmYWN0c0luZm8sIGluY2x1ZGluZyBtZXRhLWluZm9ybWF0aW9uIHN1Y2hcbi8vICAgIGFzIHRoZSB0eXBlIG9mIHRvcG9sb2d5IChKU09OIHZzIGJpbmFyeSksIGJ5dGUgc2l6ZSBvZiB0aGUgdG9wb2xvZ3ksIGJ5dGVcbi8vICAgIHNpemUgb2YgdGhlIHdlaWdodHMsIGV0Yy5cbmNvbnN0IElORk9fU1RPUkVfTkFNRSA9ICdtb2RlbF9pbmZvX3N0b3JlJztcblxuLyoqXG4gKiBEZWxldGUgdGhlIGVudGlyZSBkYXRhYmFzZSBmb3IgdGVuc29yZmxvdy5qcywgaW5jbHVkaW5nIHRoZSBtb2RlbHMgc3RvcmUuXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZWxldGVEYXRhYmFzZSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgY29uc3QgaWRiRmFjdG9yeSA9IGdldEluZGV4ZWREQkZhY3RvcnkoKTtcblxuICByZXR1cm4gbmV3IFByb21pc2U8dm9pZD4oKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIGNvbnN0IGRlbGV0ZVJlcXVlc3QgPSBpZGJGYWN0b3J5LmRlbGV0ZURhdGFiYXNlKERBVEFCQVNFX05BTUUpO1xuICAgIGRlbGV0ZVJlcXVlc3Qub25zdWNjZXNzID0gKCkgPT4gcmVzb2x2ZSgpO1xuICAgIGRlbGV0ZVJlcXVlc3Qub25lcnJvciA9IGVycm9yID0+IHJlamVjdChlcnJvcik7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBnZXRJbmRleGVkREJGYWN0b3J5KCk6IElEQkZhY3Rvcnkge1xuICBpZiAoIWVudigpLmdldEJvb2woJ0lTX0JST1dTRVInKSkge1xuICAgIC8vIFRPRE8oY2Fpcyk6IEFkZCBtb3JlIGluZm8gYWJvdXQgd2hhdCBJT0hhbmRsZXIgc3VidHlwZXMgYXJlIGF2YWlsYWJsZS5cbiAgICAvLyAgIE1heWJlIHBvaW50IHRvIGEgZG9jIHBhZ2Ugb24gdGhlIHdlYiBhbmQvb3IgYXV0b21hdGljYWxseSBkZXRlcm1pbmVcbiAgICAvLyAgIHRoZSBhdmFpbGFibGUgSU9IYW5kbGVycyBhbmQgcHJpbnQgdGhlbSBpbiB0aGUgZXJyb3IgbWVzc2FnZS5cbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdGYWlsZWQgdG8gb2J0YWluIEluZGV4ZWREQiBmYWN0b3J5IGJlY2F1c2UgdGhlIGN1cnJlbnQgZW52aXJvbm1lbnQnICtcbiAgICAgICAgJ2lzIG5vdCBhIHdlYiBicm93c2VyLicpO1xuICB9XG4gIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1hbnlcbiAgY29uc3QgdGhlV2luZG93OiBhbnkgPSB0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJyA/IHNlbGYgOiB3aW5kb3c7XG4gIGNvbnN0IGZhY3RvcnkgPSB0aGVXaW5kb3cuaW5kZXhlZERCIHx8IHRoZVdpbmRvdy5tb3pJbmRleGVkREIgfHxcbiAgICAgIHRoZVdpbmRvdy53ZWJraXRJbmRleGVkREIgfHwgdGhlV2luZG93Lm1zSW5kZXhlZERCIHx8XG4gICAgICB0aGVXaW5kb3cuc2hpbUluZGV4ZWREQjtcbiAgaWYgKGZhY3RvcnkgPT0gbnVsbCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ1RoZSBjdXJyZW50IGJyb3dzZXIgZG9lcyBub3QgYXBwZWFyIHRvIHN1cHBvcnQgSW5kZXhlZERCLicpO1xuICB9XG4gIHJldHVybiBmYWN0b3J5O1xufVxuXG5mdW5jdGlvbiBzZXRVcERhdGFiYXNlKG9wZW5SZXF1ZXN0OiBJREJSZXF1ZXN0KSB7XG4gIGNvbnN0IGRiID0gb3BlblJlcXVlc3QucmVzdWx0IGFzIElEQkRhdGFiYXNlO1xuICBkYi5jcmVhdGVPYmplY3RTdG9yZShNT0RFTF9TVE9SRV9OQU1FLCB7a2V5UGF0aDogJ21vZGVsUGF0aCd9KTtcbiAgZGIuY3JlYXRlT2JqZWN0U3RvcmUoSU5GT19TVE9SRV9OQU1FLCB7a2V5UGF0aDogJ21vZGVsUGF0aCd9KTtcbn1cblxuLyoqXG4gKiBJT0hhbmRsZXIgc3ViY2xhc3M6IEJyb3dzZXIgSW5kZXhlZERCLlxuICpcbiAqIFNlZSB0aGUgZG9jIHN0cmluZyBvZiBgYnJvd3NlckluZGV4ZWREQmAgZm9yIG1vcmUgZGV0YWlscy5cbiAqL1xuZXhwb3J0IGNsYXNzIEJyb3dzZXJJbmRleGVkREIgaW1wbGVtZW50cyBJT0hhbmRsZXIge1xuICBwcm90ZWN0ZWQgcmVhZG9ubHkgaW5kZXhlZERCOiBJREJGYWN0b3J5O1xuICBwcm90ZWN0ZWQgcmVhZG9ubHkgbW9kZWxQYXRoOiBzdHJpbmc7XG5cbiAgc3RhdGljIHJlYWRvbmx5IFVSTF9TQ0hFTUUgPSAnaW5kZXhlZGRiOi8vJztcblxuICBjb25zdHJ1Y3Rvcihtb2RlbFBhdGg6IHN0cmluZykge1xuICAgIHRoaXMuaW5kZXhlZERCID0gZ2V0SW5kZXhlZERCRmFjdG9yeSgpO1xuXG4gICAgaWYgKG1vZGVsUGF0aCA9PSBudWxsIHx8ICFtb2RlbFBhdGgpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAnRm9yIEluZGV4ZWREQiwgbW9kZWxQYXRoIG11c3Qgbm90IGJlIG51bGwsIHVuZGVmaW5lZCBvciBlbXB0eS4nKTtcbiAgICB9XG4gICAgdGhpcy5tb2RlbFBhdGggPSBtb2RlbFBhdGg7XG4gIH1cblxuICBhc3luYyBzYXZlKG1vZGVsQXJ0aWZhY3RzOiBNb2RlbEFydGlmYWN0cyk6IFByb21pc2U8U2F2ZVJlc3VsdD4ge1xuICAgIC8vIFRPRE8oY2Fpcyk6IFN1cHBvcnQgc2F2aW5nIEdyYXBoRGVmIG1vZGVscy5cbiAgICBpZiAobW9kZWxBcnRpZmFjdHMubW9kZWxUb3BvbG9neSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgJ0Jyb3dzZXJMb2NhbFN0b3JhZ2Uuc2F2ZSgpIGRvZXMgbm90IHN1cHBvcnQgc2F2aW5nIG1vZGVsIHRvcG9sb2d5ICcgK1xuICAgICAgICAgICdpbiBiaW5hcnkgZm9ybWF0cyB5ZXQuJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuZGF0YWJhc2VBY3Rpb24odGhpcy5tb2RlbFBhdGgsIG1vZGVsQXJ0aWZhY3RzKSBhc1xuICAgICAgICBQcm9taXNlPFNhdmVSZXN1bHQ+O1xuICB9XG5cbiAgYXN5bmMgbG9hZCgpOiBQcm9taXNlPE1vZGVsQXJ0aWZhY3RzPiB7XG4gICAgcmV0dXJuIHRoaXMuZGF0YWJhc2VBY3Rpb24odGhpcy5tb2RlbFBhdGgpIGFzIFByb21pc2U8TW9kZWxBcnRpZmFjdHM+O1xuICB9XG5cbiAgLyoqXG4gICAqIFBlcmZvcm0gZGF0YWJhc2UgYWN0aW9uIHRvIHB1dCBtb2RlbCBhcnRpZmFjdHMgaW50byBvciByZWFkIG1vZGVsIGFydGlmYWN0c1xuICAgKiBmcm9tIEluZGV4ZWREQiBvYmplY3Qgc3RvcmUuXG4gICAqXG4gICAqIFdoZXRoZXIgdGhlIGFjdGlvbiBpcyBwdXQgb3IgZ2V0IGRlcGVuZHMgb24gd2hldGhlciBgbW9kZWxBcnRpZmFjdHNgIGlzXG4gICAqIHNwZWNpZmllZC4gSWYgaXQgaXMgc3BlY2lmaWVkLCB0aGUgYWN0aW9uIHdpbGwgYmUgcHV0OyBvdGhlcndpc2UgdGhlIGFjdGlvblxuICAgKiB3aWxsIGJlIGdldC5cbiAgICpcbiAgICogQHBhcmFtIG1vZGVsUGF0aCBBIHVuaXF1ZSBzdHJpbmcgcGF0aCBmb3IgdGhlIG1vZGVsLlxuICAgKiBAcGFyYW0gbW9kZWxBcnRpZmFjdHMgSWYgc3BlY2lmaWVkLCBpdCB3aWxsIGJlIHRoZSBtb2RlbCBhcnRpZmFjdHMgdG8gYmVcbiAgICogICBzdG9yZWQgaW4gSW5kZXhlZERCLlxuICAgKiBAcmV0dXJucyBBIGBQcm9taXNlYCBvZiBgU2F2ZVJlc3VsdGAsIGlmIHRoZSBhY3Rpb24gaXMgcHV0LCBvciBhIGBQcm9taXNlYFxuICAgKiAgIG9mIGBNb2RlbEFydGlmYWN0c2AsIGlmIHRoZSBhY3Rpb24gaXMgZ2V0LlxuICAgKi9cbiAgcHJpdmF0ZSBkYXRhYmFzZUFjdGlvbihtb2RlbFBhdGg6IHN0cmluZywgbW9kZWxBcnRpZmFjdHM/OiBNb2RlbEFydGlmYWN0cyk6XG4gICAgICBQcm9taXNlPE1vZGVsQXJ0aWZhY3RzfFNhdmVSZXN1bHQ+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2U8TW9kZWxBcnRpZmFjdHN8U2F2ZVJlc3VsdD4oKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgY29uc3Qgb3BlblJlcXVlc3QgPSB0aGlzLmluZGV4ZWREQi5vcGVuKERBVEFCQVNFX05BTUUsIERBVEFCQVNFX1ZFUlNJT04pO1xuICAgICAgb3BlblJlcXVlc3Qub251cGdyYWRlbmVlZGVkID0gKCkgPT4gc2V0VXBEYXRhYmFzZShvcGVuUmVxdWVzdCk7XG5cbiAgICAgIG9wZW5SZXF1ZXN0Lm9uc3VjY2VzcyA9ICgpID0+IHtcbiAgICAgICAgY29uc3QgZGIgPSBvcGVuUmVxdWVzdC5yZXN1bHQ7XG5cbiAgICAgICAgaWYgKG1vZGVsQXJ0aWZhY3RzID09IG51bGwpIHtcbiAgICAgICAgICAvLyBSZWFkIG1vZGVsIG91dCBmcm9tIG9iamVjdCBzdG9yZS5cbiAgICAgICAgICBjb25zdCBtb2RlbFR4ID0gZGIudHJhbnNhY3Rpb24oTU9ERUxfU1RPUkVfTkFNRSwgJ3JlYWRvbmx5Jyk7XG4gICAgICAgICAgY29uc3QgbW9kZWxTdG9yZSA9IG1vZGVsVHgub2JqZWN0U3RvcmUoTU9ERUxfU1RPUkVfTkFNRSk7XG4gICAgICAgICAgY29uc3QgZ2V0UmVxdWVzdCA9IG1vZGVsU3RvcmUuZ2V0KHRoaXMubW9kZWxQYXRoKTtcbiAgICAgICAgICBnZXRSZXF1ZXN0Lm9uc3VjY2VzcyA9ICgpID0+IHtcbiAgICAgICAgICAgIGlmIChnZXRSZXF1ZXN0LnJlc3VsdCA9PSBudWxsKSB7XG4gICAgICAgICAgICAgIGRiLmNsb3NlKCk7XG4gICAgICAgICAgICAgIHJldHVybiByZWplY3QobmV3IEVycm9yKFxuICAgICAgICAgICAgICAgICAgYENhbm5vdCBmaW5kIG1vZGVsIHdpdGggcGF0aCAnJHt0aGlzLm1vZGVsUGF0aH0nIGAgK1xuICAgICAgICAgICAgICAgICAgYGluIEluZGV4ZWREQi5gKSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICByZXNvbHZlKGdldFJlcXVlc3QucmVzdWx0Lm1vZGVsQXJ0aWZhY3RzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuICAgICAgICAgIGdldFJlcXVlc3Qub25lcnJvciA9IGVycm9yID0+IHtcbiAgICAgICAgICAgIGRiLmNsb3NlKCk7XG4gICAgICAgICAgICByZXR1cm4gcmVqZWN0KGdldFJlcXVlc3QuZXJyb3IpO1xuICAgICAgICAgIH07XG4gICAgICAgICAgbW9kZWxUeC5vbmNvbXBsZXRlID0gKCkgPT4gZGIuY2xvc2UoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBQdXQgbW9kZWwgaW50byBvYmplY3Qgc3RvcmUuXG4gICAgICAgICAgY29uc3QgbW9kZWxBcnRpZmFjdHNJbmZvOiBNb2RlbEFydGlmYWN0c0luZm8gPVxuICAgICAgICAgICAgICBnZXRNb2RlbEFydGlmYWN0c0luZm9Gb3JKU09OKG1vZGVsQXJ0aWZhY3RzKTtcbiAgICAgICAgICAvLyBGaXJzdCwgcHV0IE1vZGVsQXJ0aWZhY3RzSW5mbyBpbnRvIGluZm8gc3RvcmUuXG4gICAgICAgICAgY29uc3QgaW5mb1R4ID0gZGIudHJhbnNhY3Rpb24oSU5GT19TVE9SRV9OQU1FLCAncmVhZHdyaXRlJyk7XG4gICAgICAgICAgbGV0IGluZm9TdG9yZSA9IGluZm9UeC5vYmplY3RTdG9yZShJTkZPX1NUT1JFX05BTUUpO1xuICAgICAgICAgIGNvbnN0IHB1dEluZm9SZXF1ZXN0ID1cbiAgICAgICAgICAgICAgaW5mb1N0b3JlLnB1dCh7bW9kZWxQYXRoOiB0aGlzLm1vZGVsUGF0aCwgbW9kZWxBcnRpZmFjdHNJbmZvfSk7XG4gICAgICAgICAgbGV0IG1vZGVsVHg6IElEQlRyYW5zYWN0aW9uO1xuICAgICAgICAgIHB1dEluZm9SZXF1ZXN0Lm9uc3VjY2VzcyA9ICgpID0+IHtcbiAgICAgICAgICAgIC8vIFNlY29uZCwgcHV0IG1vZGVsIGRhdGEgaW50byBtb2RlbCBzdG9yZS5cbiAgICAgICAgICAgIG1vZGVsVHggPSBkYi50cmFuc2FjdGlvbihNT0RFTF9TVE9SRV9OQU1FLCAncmVhZHdyaXRlJyk7XG4gICAgICAgICAgICBjb25zdCBtb2RlbFN0b3JlID0gbW9kZWxUeC5vYmplY3RTdG9yZShNT0RFTF9TVE9SRV9OQU1FKTtcbiAgICAgICAgICAgIGNvbnN0IHB1dE1vZGVsUmVxdWVzdCA9IG1vZGVsU3RvcmUucHV0KHtcbiAgICAgICAgICAgICAgbW9kZWxQYXRoOiB0aGlzLm1vZGVsUGF0aCxcbiAgICAgICAgICAgICAgbW9kZWxBcnRpZmFjdHMsXG4gICAgICAgICAgICAgIG1vZGVsQXJ0aWZhY3RzSW5mb1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBwdXRNb2RlbFJlcXVlc3Qub25zdWNjZXNzID0gKCkgPT4gcmVzb2x2ZSh7bW9kZWxBcnRpZmFjdHNJbmZvfSk7XG4gICAgICAgICAgICBwdXRNb2RlbFJlcXVlc3Qub25lcnJvciA9IGVycm9yID0+IHtcbiAgICAgICAgICAgICAgLy8gSWYgdGhlIHB1dC1tb2RlbCByZXF1ZXN0IGZhaWxzLCByb2xsIGJhY2sgdGhlIGluZm8gZW50cnkgYXNcbiAgICAgICAgICAgICAgLy8gd2VsbC5cbiAgICAgICAgICAgICAgaW5mb1N0b3JlID0gaW5mb1R4Lm9iamVjdFN0b3JlKElORk9fU1RPUkVfTkFNRSk7XG4gICAgICAgICAgICAgIGNvbnN0IGRlbGV0ZUluZm9SZXF1ZXN0ID0gaW5mb1N0b3JlLmRlbGV0ZSh0aGlzLm1vZGVsUGF0aCk7XG4gICAgICAgICAgICAgIGRlbGV0ZUluZm9SZXF1ZXN0Lm9uc3VjY2VzcyA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICBkYi5jbG9zZSgpO1xuICAgICAgICAgICAgICAgIHJldHVybiByZWplY3QocHV0TW9kZWxSZXF1ZXN0LmVycm9yKTtcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgZGVsZXRlSW5mb1JlcXVlc3Qub25lcnJvciA9IGVycm9yID0+IHtcbiAgICAgICAgICAgICAgICBkYi5jbG9zZSgpO1xuICAgICAgICAgICAgICAgIHJldHVybiByZWplY3QocHV0TW9kZWxSZXF1ZXN0LmVycm9yKTtcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfTtcbiAgICAgICAgICBwdXRJbmZvUmVxdWVzdC5vbmVycm9yID0gZXJyb3IgPT4ge1xuICAgICAgICAgICAgZGIuY2xvc2UoKTtcbiAgICAgICAgICAgIHJldHVybiByZWplY3QocHV0SW5mb1JlcXVlc3QuZXJyb3IpO1xuICAgICAgICAgIH07XG4gICAgICAgICAgaW5mb1R4Lm9uY29tcGxldGUgPSAoKSA9PiB7XG4gICAgICAgICAgICBpZiAobW9kZWxUeCA9PSBudWxsKSB7XG4gICAgICAgICAgICAgIGRiLmNsb3NlKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBtb2RlbFR4Lm9uY29tcGxldGUgPSAoKSA9PiBkYi5jbG9zZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBvcGVuUmVxdWVzdC5vbmVycm9yID0gZXJyb3IgPT4gcmVqZWN0KG9wZW5SZXF1ZXN0LmVycm9yKTtcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgY29uc3QgaW5kZXhlZERCUm91dGVyOiBJT1JvdXRlciA9ICh1cmw6IHN0cmluZ3xzdHJpbmdbXSkgPT4ge1xuICBpZiAoIWVudigpLmdldEJvb2woJ0lTX0JST1dTRVInKSkge1xuICAgIHJldHVybiBudWxsO1xuICB9IGVsc2Uge1xuICAgIGlmICghQXJyYXkuaXNBcnJheSh1cmwpICYmIHVybC5zdGFydHNXaXRoKEJyb3dzZXJJbmRleGVkREIuVVJMX1NDSEVNRSkpIHtcbiAgICAgIHJldHVybiBicm93c2VySW5kZXhlZERCKHVybC5zbGljZShCcm93c2VySW5kZXhlZERCLlVSTF9TQ0hFTUUubGVuZ3RoKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxufTtcbklPUm91dGVyUmVnaXN0cnkucmVnaXN0ZXJTYXZlUm91dGVyKGluZGV4ZWREQlJvdXRlcik7XG5JT1JvdXRlclJlZ2lzdHJ5LnJlZ2lzdGVyTG9hZFJvdXRlcihpbmRleGVkREJSb3V0ZXIpO1xuXG4vKipcbiAqIENyZWF0ZXMgYSBicm93c2VyIEluZGV4ZWREQiBJT0hhbmRsZXIgZm9yIHNhdmluZyBhbmQgbG9hZGluZyBtb2RlbHMuXG4gKlxuICogYGBganNcbiAqIGNvbnN0IG1vZGVsID0gdGYuc2VxdWVudGlhbCgpO1xuICogbW9kZWwuYWRkKFxuICogICAgIHRmLmxheWVycy5kZW5zZSh7dW5pdHM6IDEsIGlucHV0U2hhcGU6IFsxMDBdLCBhY3RpdmF0aW9uOiAnc2lnbW9pZCd9KSk7XG4gKlxuICogY29uc3Qgc2F2ZVJlc3VsdCA9IGF3YWl0IG1vZGVsLnNhdmUoJ2luZGV4ZWRkYjovL015TW9kZWwnKSk7XG4gKiBjb25zb2xlLmxvZyhzYXZlUmVzdWx0KTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBtb2RlbFBhdGggQSB1bmlxdWUgaWRlbnRpZmllciBmb3IgdGhlIG1vZGVsIHRvIGJlIHNhdmVkLiBNdXN0IGJlIGFcbiAqICAgbm9uLWVtcHR5IHN0cmluZy5cbiAqIEByZXR1cm5zIEFuIGluc3RhbmNlIG9mIGBCcm93c2VySW5kZXhlZERCYCAoc3VibGNhc3Mgb2YgYElPSGFuZGxlcmApLFxuICogICB3aGljaCBjYW4gYmUgdXNlZCB3aXRoLCBlLmcuLCBgdGYuTW9kZWwuc2F2ZWAuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBicm93c2VySW5kZXhlZERCKG1vZGVsUGF0aDogc3RyaW5nKTogSU9IYW5kbGVyIHtcbiAgcmV0dXJuIG5ldyBCcm93c2VySW5kZXhlZERCKG1vZGVsUGF0aCk7XG59XG5cbmZ1bmN0aW9uIG1heWJlU3RyaXBTY2hlbWUoa2V5OiBzdHJpbmcpIHtcbiAgcmV0dXJuIGtleS5zdGFydHNXaXRoKEJyb3dzZXJJbmRleGVkREIuVVJMX1NDSEVNRSkgP1xuICAgICAga2V5LnNsaWNlKEJyb3dzZXJJbmRleGVkREIuVVJMX1NDSEVNRS5sZW5ndGgpIDpcbiAgICAgIGtleTtcbn1cblxuZXhwb3J0IGNsYXNzIEJyb3dzZXJJbmRleGVkREJNYW5hZ2VyIGltcGxlbWVudHMgTW9kZWxTdG9yZU1hbmFnZXIge1xuICBwcml2YXRlIGluZGV4ZWREQjogSURCRmFjdG9yeTtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmluZGV4ZWREQiA9IGdldEluZGV4ZWREQkZhY3RvcnkoKTtcbiAgfVxuXG4gIGFzeW5jIGxpc3RNb2RlbHMoKTogUHJvbWlzZTx7W3BhdGg6IHN0cmluZ106IE1vZGVsQXJ0aWZhY3RzSW5mb30+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2U8e1twYXRoOiBzdHJpbmddOiBNb2RlbEFydGlmYWN0c0luZm99PihcbiAgICAgICAgKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgIGNvbnN0IG9wZW5SZXF1ZXN0ID1cbiAgICAgICAgICAgICAgdGhpcy5pbmRleGVkREIub3BlbihEQVRBQkFTRV9OQU1FLCBEQVRBQkFTRV9WRVJTSU9OKTtcbiAgICAgICAgICBvcGVuUmVxdWVzdC5vbnVwZ3JhZGVuZWVkZWQgPSAoKSA9PiBzZXRVcERhdGFiYXNlKG9wZW5SZXF1ZXN0KTtcblxuICAgICAgICAgIG9wZW5SZXF1ZXN0Lm9uc3VjY2VzcyA9ICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGRiID0gb3BlblJlcXVlc3QucmVzdWx0O1xuICAgICAgICAgICAgY29uc3QgdHggPSBkYi50cmFuc2FjdGlvbihJTkZPX1NUT1JFX05BTUUsICdyZWFkb25seScpO1xuICAgICAgICAgICAgY29uc3Qgc3RvcmUgPSB0eC5vYmplY3RTdG9yZShJTkZPX1NUT1JFX05BTUUpO1xuICAgICAgICAgICAgLy8gdHNsaW50OmRpc2FibGU6bWF4LWxpbmUtbGVuZ3RoXG4gICAgICAgICAgICAvLyBOZWVkIHRvIGNhc3QgYHN0b3JlYCBhcyBgYW55YCBoZXJlIGJlY2F1c2UgVHlwZVNjcmlwdCdzIERPTVxuICAgICAgICAgICAgLy8gbGlicmFyeSBkb2VzIG5vdCBoYXZlIHRoZSBgZ2V0QWxsKClgIG1ldGhvZCBldmVuIHRob3VnaCB0aGVcbiAgICAgICAgICAgIC8vIG1ldGhvZCBpcyBzdXBwb3J0ZWQgaW4gdGhlIGxhdGVzdCB2ZXJzaW9uIG9mIG1vc3QgbWFpbnN0cmVhbVxuICAgICAgICAgICAgLy8gYnJvd3NlcnM6XG4gICAgICAgICAgICAvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvSURCT2JqZWN0U3RvcmUvZ2V0QWxsXG4gICAgICAgICAgICAvLyB0c2xpbnQ6ZW5hYmxlOm1heC1saW5lLWxlbmd0aFxuICAgICAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWFueVxuICAgICAgICAgICAgY29uc3QgZ2V0QWxsSW5mb1JlcXVlc3QgPSAoc3RvcmUgYXMgYW55KS5nZXRBbGwoKSBhcyBJREJSZXF1ZXN0O1xuICAgICAgICAgICAgZ2V0QWxsSW5mb1JlcXVlc3Qub25zdWNjZXNzID0gKCkgPT4ge1xuICAgICAgICAgICAgICBjb25zdCBvdXQ6IHtbcGF0aDogc3RyaW5nXTogTW9kZWxBcnRpZmFjdHNJbmZvfSA9IHt9O1xuICAgICAgICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgZ2V0QWxsSW5mb1JlcXVlc3QucmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgb3V0W2l0ZW0ubW9kZWxQYXRoXSA9IGl0ZW0ubW9kZWxBcnRpZmFjdHNJbmZvO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHJlc29sdmUob3V0KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBnZXRBbGxJbmZvUmVxdWVzdC5vbmVycm9yID0gZXJyb3IgPT4ge1xuICAgICAgICAgICAgICBkYi5jbG9zZSgpO1xuICAgICAgICAgICAgICByZXR1cm4gcmVqZWN0KGdldEFsbEluZm9SZXF1ZXN0LmVycm9yKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0eC5vbmNvbXBsZXRlID0gKCkgPT4gZGIuY2xvc2UoKTtcbiAgICAgICAgICB9O1xuICAgICAgICAgIG9wZW5SZXF1ZXN0Lm9uZXJyb3IgPSBlcnJvciA9PiByZWplY3Qob3BlblJlcXVlc3QuZXJyb3IpO1xuICAgICAgICB9KTtcbiAgfVxuXG4gIGFzeW5jIHJlbW92ZU1vZGVsKHBhdGg6IHN0cmluZyk6IFByb21pc2U8TW9kZWxBcnRpZmFjdHNJbmZvPiB7XG4gICAgcGF0aCA9IG1heWJlU3RyaXBTY2hlbWUocGF0aCk7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlPE1vZGVsQXJ0aWZhY3RzSW5mbz4oKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgY29uc3Qgb3BlblJlcXVlc3QgPSB0aGlzLmluZGV4ZWREQi5vcGVuKERBVEFCQVNFX05BTUUsIERBVEFCQVNFX1ZFUlNJT04pO1xuICAgICAgb3BlblJlcXVlc3Qub251cGdyYWRlbmVlZGVkID0gKCkgPT4gc2V0VXBEYXRhYmFzZShvcGVuUmVxdWVzdCk7XG5cbiAgICAgIG9wZW5SZXF1ZXN0Lm9uc3VjY2VzcyA9ICgpID0+IHtcbiAgICAgICAgY29uc3QgZGIgPSBvcGVuUmVxdWVzdC5yZXN1bHQ7XG4gICAgICAgIGNvbnN0IGluZm9UeCA9IGRiLnRyYW5zYWN0aW9uKElORk9fU1RPUkVfTkFNRSwgJ3JlYWR3cml0ZScpO1xuICAgICAgICBjb25zdCBpbmZvU3RvcmUgPSBpbmZvVHgub2JqZWN0U3RvcmUoSU5GT19TVE9SRV9OQU1FKTtcblxuICAgICAgICBjb25zdCBnZXRJbmZvUmVxdWVzdCA9IGluZm9TdG9yZS5nZXQocGF0aCk7XG4gICAgICAgIGxldCBtb2RlbFR4OiBJREJUcmFuc2FjdGlvbjtcbiAgICAgICAgZ2V0SW5mb1JlcXVlc3Qub25zdWNjZXNzID0gKCkgPT4ge1xuICAgICAgICAgIGlmIChnZXRJbmZvUmVxdWVzdC5yZXN1bHQgPT0gbnVsbCkge1xuICAgICAgICAgICAgZGIuY2xvc2UoKTtcbiAgICAgICAgICAgIHJldHVybiByZWplY3QobmV3IEVycm9yKFxuICAgICAgICAgICAgICAgIGBDYW5ub3QgZmluZCBtb2RlbCB3aXRoIHBhdGggJyR7cGF0aH0nIGAgK1xuICAgICAgICAgICAgICAgIGBpbiBJbmRleGVkREIuYCkpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBGaXJzdCwgZGVsZXRlIHRoZSBlbnRyeSBpbiB0aGUgaW5mbyBzdG9yZS5cbiAgICAgICAgICAgIGNvbnN0IGRlbGV0ZUluZm9SZXF1ZXN0ID0gaW5mb1N0b3JlLmRlbGV0ZShwYXRoKTtcbiAgICAgICAgICAgIGNvbnN0IGRlbGV0ZU1vZGVsRGF0YSA9ICgpID0+IHtcbiAgICAgICAgICAgICAgLy8gU2Vjb25kLCBkZWxldGUgdGhlIGVudHJ5IGluIHRoZSBtb2RlbCBzdG9yZS5cbiAgICAgICAgICAgICAgbW9kZWxUeCA9IGRiLnRyYW5zYWN0aW9uKE1PREVMX1NUT1JFX05BTUUsICdyZWFkd3JpdGUnKTtcbiAgICAgICAgICAgICAgY29uc3QgbW9kZWxTdG9yZSA9IG1vZGVsVHgub2JqZWN0U3RvcmUoTU9ERUxfU1RPUkVfTkFNRSk7XG4gICAgICAgICAgICAgIGNvbnN0IGRlbGV0ZU1vZGVsUmVxdWVzdCA9IG1vZGVsU3RvcmUuZGVsZXRlKHBhdGgpO1xuICAgICAgICAgICAgICBkZWxldGVNb2RlbFJlcXVlc3Qub25zdWNjZXNzID0gKCkgPT5cbiAgICAgICAgICAgICAgICAgIHJlc29sdmUoZ2V0SW5mb1JlcXVlc3QucmVzdWx0Lm1vZGVsQXJ0aWZhY3RzSW5mbyk7XG4gICAgICAgICAgICAgIGRlbGV0ZU1vZGVsUmVxdWVzdC5vbmVycm9yID0gZXJyb3IgPT5cbiAgICAgICAgICAgICAgICAgIHJlamVjdChnZXRJbmZvUmVxdWVzdC5lcnJvcik7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgLy8gUHJvY2VlZCB3aXRoIGRlbGV0aW5nIG1vZGVsIGRhdGEgcmVnYXJkbGVzcyBvZiB3aGV0aGVyIGRlbGV0aW9uXG4gICAgICAgICAgICAvLyBvZiBpbmZvIGRhdGEgc3VjY2VlZHMgb3Igbm90LlxuICAgICAgICAgICAgZGVsZXRlSW5mb1JlcXVlc3Qub25zdWNjZXNzID0gZGVsZXRlTW9kZWxEYXRhO1xuICAgICAgICAgICAgZGVsZXRlSW5mb1JlcXVlc3Qub25lcnJvciA9IGVycm9yID0+IHtcbiAgICAgICAgICAgICAgZGVsZXRlTW9kZWxEYXRhKCk7XG4gICAgICAgICAgICAgIGRiLmNsb3NlKCk7XG4gICAgICAgICAgICAgIHJldHVybiByZWplY3QoZ2V0SW5mb1JlcXVlc3QuZXJyb3IpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGdldEluZm9SZXF1ZXN0Lm9uZXJyb3IgPSBlcnJvciA9PiB7XG4gICAgICAgICAgZGIuY2xvc2UoKTtcbiAgICAgICAgICByZXR1cm4gcmVqZWN0KGdldEluZm9SZXF1ZXN0LmVycm9yKTtcbiAgICAgICAgfTtcblxuICAgICAgICBpbmZvVHgub25jb21wbGV0ZSA9ICgpID0+IHtcbiAgICAgICAgICBpZiAobW9kZWxUeCA9PSBudWxsKSB7XG4gICAgICAgICAgICBkYi5jbG9zZSgpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBtb2RlbFR4Lm9uY29tcGxldGUgPSAoKSA9PiBkYi5jbG9zZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH07XG4gICAgICBvcGVuUmVxdWVzdC5vbmVycm9yID0gZXJyb3IgPT4gcmVqZWN0KG9wZW5SZXF1ZXN0LmVycm9yKTtcbiAgICB9KTtcbiAgfVxufVxuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTggR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG5pbXBvcnQgJy4uL2ZsYWdzJztcbmltcG9ydCB7ZW52fSBmcm9tICcuLi9lbnZpcm9ubWVudCc7XG5cbmltcG9ydCB7YXNzZXJ0fSBmcm9tICcuLi91dGlsJztcbmltcG9ydCB7YXJyYXlCdWZmZXJUb0Jhc2U2NFN0cmluZywgYmFzZTY0U3RyaW5nVG9BcnJheUJ1ZmZlciwgZ2V0TW9kZWxBcnRpZmFjdHNJbmZvRm9ySlNPTn0gZnJvbSAnLi9pb191dGlscyc7XG5pbXBvcnQge0lPUm91dGVyLCBJT1JvdXRlclJlZ2lzdHJ5fSBmcm9tICcuL3JvdXRlcl9yZWdpc3RyeSc7XG5pbXBvcnQge0lPSGFuZGxlciwgTW9kZWxBcnRpZmFjdHMsIE1vZGVsQXJ0aWZhY3RzSW5mbywgTW9kZWxTdG9yZU1hbmFnZXIsIFNhdmVSZXN1bHR9IGZyb20gJy4vdHlwZXMnO1xuXG5jb25zdCBQQVRIX1NFUEFSQVRPUiA9ICcvJztcbmNvbnN0IFBBVEhfUFJFRklYID0gJ3RlbnNvcmZsb3dqc19tb2RlbHMnO1xuY29uc3QgSU5GT19TVUZGSVggPSAnaW5mbyc7XG5jb25zdCBNT0RFTF9UT1BPTE9HWV9TVUZGSVggPSAnbW9kZWxfdG9wb2xvZ3knO1xuY29uc3QgV0VJR0hUX1NQRUNTX1NVRkZJWCA9ICd3ZWlnaHRfc3BlY3MnO1xuY29uc3QgV0VJR0hUX0RBVEFfU1VGRklYID0gJ3dlaWdodF9kYXRhJztcbmNvbnN0IE1PREVMX01FVEFEQVRBX1NVRkZJWCA9ICdtb2RlbF9tZXRhZGF0YSc7XG5cbi8qKlxuICogUHVyZ2UgYWxsIHRlbnNvcmZsb3cuanMtc2F2ZWQgbW9kZWwgYXJ0aWZhY3RzIGZyb20gbG9jYWwgc3RvcmFnZS5cbiAqXG4gKiBAcmV0dXJucyBQYXRocyBvZiB0aGUgbW9kZWxzIHB1cmdlZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHB1cmdlTG9jYWxTdG9yYWdlQXJ0aWZhY3RzKCk6IHN0cmluZ1tdIHtcbiAgaWYgKCFlbnYoKS5nZXRCb29sKCdJU19CUk9XU0VSJykgfHwgdHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcgfHxcbiAgICAgIHR5cGVvZiB3aW5kb3cubG9jYWxTdG9yYWdlID09PSAndW5kZWZpbmVkJykge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ3B1cmdlTG9jYWxTdG9yYWdlTW9kZWxzKCkgY2Fubm90IHByb2NlZWQgYmVjYXVzZSBsb2NhbCBzdG9yYWdlIGlzICcgK1xuICAgICAgICAndW5hdmFpbGFibGUgaW4gdGhlIGN1cnJlbnQgZW52aXJvbm1lbnQuJyk7XG4gIH1cbiAgY29uc3QgTFMgPSB3aW5kb3cubG9jYWxTdG9yYWdlO1xuICBjb25zdCBwdXJnZWRNb2RlbFBhdGhzOiBzdHJpbmdbXSA9IFtdO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IExTLmxlbmd0aDsgKytpKSB7XG4gICAgY29uc3Qga2V5ID0gTFMua2V5KGkpO1xuICAgIGNvbnN0IHByZWZpeCA9IFBBVEhfUFJFRklYICsgUEFUSF9TRVBBUkFUT1I7XG4gICAgaWYgKGtleS5zdGFydHNXaXRoKHByZWZpeCkgJiYga2V5Lmxlbmd0aCA+IHByZWZpeC5sZW5ndGgpIHtcbiAgICAgIExTLnJlbW92ZUl0ZW0oa2V5KTtcbiAgICAgIGNvbnN0IG1vZGVsTmFtZSA9IGdldE1vZGVsUGF0aEZyb21LZXkoa2V5KTtcbiAgICAgIGlmIChwdXJnZWRNb2RlbFBhdGhzLmluZGV4T2YobW9kZWxOYW1lKSA9PT0gLTEpIHtcbiAgICAgICAgcHVyZ2VkTW9kZWxQYXRocy5wdXNoKG1vZGVsTmFtZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBwdXJnZWRNb2RlbFBhdGhzO1xufVxuXG5mdW5jdGlvbiBnZXRNb2RlbEtleXMocGF0aDogc3RyaW5nKToge1xuICBpbmZvOiBzdHJpbmcsXG4gIHRvcG9sb2d5OiBzdHJpbmcsXG4gIHdlaWdodFNwZWNzOiBzdHJpbmcsXG4gIHdlaWdodERhdGE6IHN0cmluZyxcbiAgbW9kZWxNZXRhZGF0YTogc3RyaW5nXG59IHtcbiAgcmV0dXJuIHtcbiAgICBpbmZvOiBbUEFUSF9QUkVGSVgsIHBhdGgsIElORk9fU1VGRklYXS5qb2luKFBBVEhfU0VQQVJBVE9SKSxcbiAgICB0b3BvbG9neTogW1BBVEhfUFJFRklYLCBwYXRoLCBNT0RFTF9UT1BPTE9HWV9TVUZGSVhdLmpvaW4oUEFUSF9TRVBBUkFUT1IpLFxuICAgIHdlaWdodFNwZWNzOiBbUEFUSF9QUkVGSVgsIHBhdGgsIFdFSUdIVF9TUEVDU19TVUZGSVhdLmpvaW4oUEFUSF9TRVBBUkFUT1IpLFxuICAgIHdlaWdodERhdGE6IFtQQVRIX1BSRUZJWCwgcGF0aCwgV0VJR0hUX0RBVEFfU1VGRklYXS5qb2luKFBBVEhfU0VQQVJBVE9SKSxcbiAgICBtb2RlbE1ldGFkYXRhOlxuICAgICAgICBbUEFUSF9QUkVGSVgsIHBhdGgsIE1PREVMX01FVEFEQVRBX1NVRkZJWF0uam9pbihQQVRIX1NFUEFSQVRPUilcbiAgfTtcbn1cblxuLyoqXG4gKiBHZXQgbW9kZWwgcGF0aCBmcm9tIGEgbG9jYWwtc3RvcmFnZSBrZXkuXG4gKlxuICogRS5nLiwgJ3RlbnNvcmZsb3dqc19tb2RlbHMvbXkvbW9kZWwvMS9pbmZvJyAtLT4gJ215L21vZGVsLzEnXG4gKlxuICogQHBhcmFtIGtleVxuICovXG5mdW5jdGlvbiBnZXRNb2RlbFBhdGhGcm9tS2V5KGtleTogc3RyaW5nKSB7XG4gIGNvbnN0IGl0ZW1zID0ga2V5LnNwbGl0KFBBVEhfU0VQQVJBVE9SKTtcbiAgaWYgKGl0ZW1zLmxlbmd0aCA8IDMpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQga2V5IGZvcm1hdDogJHtrZXl9YCk7XG4gIH1cbiAgcmV0dXJuIGl0ZW1zLnNsaWNlKDEsIGl0ZW1zLmxlbmd0aCAtIDEpLmpvaW4oUEFUSF9TRVBBUkFUT1IpO1xufVxuXG5mdW5jdGlvbiBtYXliZVN0cmlwU2NoZW1lKGtleTogc3RyaW5nKSB7XG4gIHJldHVybiBrZXkuc3RhcnRzV2l0aChCcm93c2VyTG9jYWxTdG9yYWdlLlVSTF9TQ0hFTUUpID9cbiAgICAgIGtleS5zbGljZShCcm93c2VyTG9jYWxTdG9yYWdlLlVSTF9TQ0hFTUUubGVuZ3RoKSA6XG4gICAgICBrZXk7XG59XG5cbmRlY2xhcmUgdHlwZSBMb2NhbFN0b3JhZ2VLZXlzID0ge1xuICBpbmZvOiBzdHJpbmcsXG4gIHRvcG9sb2d5OiBzdHJpbmcsXG4gIHdlaWdodFNwZWNzOiBzdHJpbmcsXG4gIHdlaWdodERhdGE6IHN0cmluZyxcbiAgbW9kZWxNZXRhZGF0YTogc3RyaW5nXG59O1xuXG4vKipcbiAqIElPSGFuZGxlciBzdWJjbGFzczogQnJvd3NlciBMb2NhbCBTdG9yYWdlLlxuICpcbiAqIFNlZSB0aGUgZG9jIHN0cmluZyB0byBgYnJvd3NlckxvY2FsU3RvcmFnZWAgZm9yIG1vcmUgZGV0YWlscy5cbiAqL1xuZXhwb3J0IGNsYXNzIEJyb3dzZXJMb2NhbFN0b3JhZ2UgaW1wbGVtZW50cyBJT0hhbmRsZXIge1xuICBwcm90ZWN0ZWQgcmVhZG9ubHkgTFM6IFN0b3JhZ2U7XG4gIHByb3RlY3RlZCByZWFkb25seSBtb2RlbFBhdGg6IHN0cmluZztcbiAgcHJvdGVjdGVkIHJlYWRvbmx5IGtleXM6IExvY2FsU3RvcmFnZUtleXM7XG5cbiAgc3RhdGljIHJlYWRvbmx5IFVSTF9TQ0hFTUUgPSAnbG9jYWxzdG9yYWdlOi8vJztcblxuICBjb25zdHJ1Y3Rvcihtb2RlbFBhdGg6IHN0cmluZykge1xuICAgIGlmICghZW52KCkuZ2V0Qm9vbCgnSVNfQlJPV1NFUicpIHx8IHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnIHx8XG4gICAgICAgIHR5cGVvZiB3aW5kb3cubG9jYWxTdG9yYWdlID09PSAndW5kZWZpbmVkJykge1xuICAgICAgLy8gVE9ETyhjYWlzKTogQWRkIG1vcmUgaW5mbyBhYm91dCB3aGF0IElPSGFuZGxlciBzdWJ0eXBlcyBhcmVcbiAgICAgIC8vIGF2YWlsYWJsZS5cbiAgICAgIC8vICAgTWF5YmUgcG9pbnQgdG8gYSBkb2MgcGFnZSBvbiB0aGUgd2ViIGFuZC9vciBhdXRvbWF0aWNhbGx5IGRldGVybWluZVxuICAgICAgLy8gICB0aGUgYXZhaWxhYmxlIElPSGFuZGxlcnMgYW5kIHByaW50IHRoZW0gaW4gdGhlIGVycm9yIG1lc3NhZ2UuXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgJ1RoZSBjdXJyZW50IGVudmlyb25tZW50IGRvZXMgbm90IHN1cHBvcnQgbG9jYWwgc3RvcmFnZS4nKTtcbiAgICB9XG4gICAgdGhpcy5MUyA9IHdpbmRvdy5sb2NhbFN0b3JhZ2U7XG5cbiAgICBpZiAobW9kZWxQYXRoID09IG51bGwgfHwgIW1vZGVsUGF0aCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICdGb3IgbG9jYWwgc3RvcmFnZSwgbW9kZWxQYXRoIG11c3Qgbm90IGJlIG51bGwsIHVuZGVmaW5lZCBvciBlbXB0eS4nKTtcbiAgICB9XG4gICAgdGhpcy5tb2RlbFBhdGggPSBtb2RlbFBhdGg7XG4gICAgdGhpcy5rZXlzID0gZ2V0TW9kZWxLZXlzKHRoaXMubW9kZWxQYXRoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTYXZlIG1vZGVsIGFydGlmYWN0cyB0byBicm93c2VyIGxvY2FsIHN0b3JhZ2UuXG4gICAqXG4gICAqIFNlZSB0aGUgZG9jdW1lbnRhdGlvbiB0byBgYnJvd3NlckxvY2FsU3RvcmFnZWAgZm9yIGRldGFpbHMgb24gdGhlIHNhdmVkXG4gICAqIGFydGlmYWN0cy5cbiAgICpcbiAgICogQHBhcmFtIG1vZGVsQXJ0aWZhY3RzIFRoZSBtb2RlbCBhcnRpZmFjdHMgdG8gYmUgc3RvcmVkLlxuICAgKiBAcmV0dXJucyBBbiBpbnN0YW5jZSBvZiBTYXZlUmVzdWx0LlxuICAgKi9cbiAgYXN5bmMgc2F2ZShtb2RlbEFydGlmYWN0czogTW9kZWxBcnRpZmFjdHMpOiBQcm9taXNlPFNhdmVSZXN1bHQ+IHtcbiAgICBpZiAobW9kZWxBcnRpZmFjdHMubW9kZWxUb3BvbG9neSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgJ0Jyb3dzZXJMb2NhbFN0b3JhZ2Uuc2F2ZSgpIGRvZXMgbm90IHN1cHBvcnQgc2F2aW5nIG1vZGVsIHRvcG9sb2d5ICcgK1xuICAgICAgICAgICdpbiBiaW5hcnkgZm9ybWF0cyB5ZXQuJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHRvcG9sb2d5ID0gSlNPTi5zdHJpbmdpZnkobW9kZWxBcnRpZmFjdHMubW9kZWxUb3BvbG9neSk7XG4gICAgICBjb25zdCB3ZWlnaHRTcGVjcyA9IEpTT04uc3RyaW5naWZ5KG1vZGVsQXJ0aWZhY3RzLndlaWdodFNwZWNzKTtcblxuICAgICAgY29uc3QgbW9kZWxBcnRpZmFjdHNJbmZvOiBNb2RlbEFydGlmYWN0c0luZm8gPVxuICAgICAgICAgIGdldE1vZGVsQXJ0aWZhY3RzSW5mb0ZvckpTT04obW9kZWxBcnRpZmFjdHMpO1xuXG4gICAgICB0cnkge1xuICAgICAgICB0aGlzLkxTLnNldEl0ZW0odGhpcy5rZXlzLmluZm8sIEpTT04uc3RyaW5naWZ5KG1vZGVsQXJ0aWZhY3RzSW5mbykpO1xuICAgICAgICB0aGlzLkxTLnNldEl0ZW0odGhpcy5rZXlzLnRvcG9sb2d5LCB0b3BvbG9neSk7XG4gICAgICAgIHRoaXMuTFMuc2V0SXRlbSh0aGlzLmtleXMud2VpZ2h0U3BlY3MsIHdlaWdodFNwZWNzKTtcbiAgICAgICAgdGhpcy5MUy5zZXRJdGVtKFxuICAgICAgICAgICAgdGhpcy5rZXlzLndlaWdodERhdGEsXG4gICAgICAgICAgICBhcnJheUJ1ZmZlclRvQmFzZTY0U3RyaW5nKG1vZGVsQXJ0aWZhY3RzLndlaWdodERhdGEpKTtcbiAgICAgICAgdGhpcy5MUy5zZXRJdGVtKHRoaXMua2V5cy5tb2RlbE1ldGFkYXRhLCBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgZm9ybWF0OiBtb2RlbEFydGlmYWN0cy5mb3JtYXQsXG4gICAgICAgICAgZ2VuZXJhdGVkQnk6IG1vZGVsQXJ0aWZhY3RzLmdlbmVyYXRlZEJ5LFxuICAgICAgICAgIGNvbnZlcnRlZEJ5OiBtb2RlbEFydGlmYWN0cy5jb252ZXJ0ZWRCeSxcbiAgICAgICAgICB1c2VyRGVmaW5lZE1ldGFkYXRhOiBtb2RlbEFydGlmYWN0cy51c2VyRGVmaW5lZE1ldGFkYXRhXG4gICAgICAgIH0pKTtcblxuICAgICAgICByZXR1cm4ge21vZGVsQXJ0aWZhY3RzSW5mb307XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgLy8gSWYgc2F2aW5nIGZhaWxlZCwgY2xlYW4gdXAgYWxsIGl0ZW1zIHNhdmVkIHNvIGZhci5cbiAgICAgICAgdGhpcy5MUy5yZW1vdmVJdGVtKHRoaXMua2V5cy5pbmZvKTtcbiAgICAgICAgdGhpcy5MUy5yZW1vdmVJdGVtKHRoaXMua2V5cy50b3BvbG9neSk7XG4gICAgICAgIHRoaXMuTFMucmVtb3ZlSXRlbSh0aGlzLmtleXMud2VpZ2h0U3BlY3MpO1xuICAgICAgICB0aGlzLkxTLnJlbW92ZUl0ZW0odGhpcy5rZXlzLndlaWdodERhdGEpO1xuICAgICAgICB0aGlzLkxTLnJlbW92ZUl0ZW0odGhpcy5rZXlzLm1vZGVsTWV0YWRhdGEpO1xuXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAgIGBGYWlsZWQgdG8gc2F2ZSBtb2RlbCAnJHt0aGlzLm1vZGVsUGF0aH0nIHRvIGxvY2FsIHN0b3JhZ2U6IGAgK1xuICAgICAgICAgICAgYHNpemUgcXVvdGEgYmVpbmcgZXhjZWVkZWQgaXMgYSBwb3NzaWJsZSBjYXVzZSBvZiB0aGlzIGZhaWx1cmU6IGAgK1xuICAgICAgICAgICAgYG1vZGVsVG9wb2xvZ3lCeXRlcz0ke21vZGVsQXJ0aWZhY3RzSW5mby5tb2RlbFRvcG9sb2d5Qnl0ZXN9LCBgICtcbiAgICAgICAgICAgIGB3ZWlnaHRTcGVjc0J5dGVzPSR7bW9kZWxBcnRpZmFjdHNJbmZvLndlaWdodFNwZWNzQnl0ZXN9LCBgICtcbiAgICAgICAgICAgIGB3ZWlnaHREYXRhQnl0ZXM9JHttb2RlbEFydGlmYWN0c0luZm8ud2VpZ2h0RGF0YUJ5dGVzfS5gKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogTG9hZCBhIG1vZGVsIGZyb20gbG9jYWwgc3RvcmFnZS5cbiAgICpcbiAgICogU2VlIHRoZSBkb2N1bWVudGF0aW9uIHRvIGBicm93c2VyTG9jYWxTdG9yYWdlYCBmb3IgZGV0YWlscyBvbiB0aGUgc2F2ZWRcbiAgICogYXJ0aWZhY3RzLlxuICAgKlxuICAgKiBAcmV0dXJucyBUaGUgbG9hZGVkIG1vZGVsIChpZiBsb2FkaW5nIHN1Y2NlZWRzKS5cbiAgICovXG4gIGFzeW5jIGxvYWQoKTogUHJvbWlzZTxNb2RlbEFydGlmYWN0cz4ge1xuICAgIGNvbnN0IGluZm8gPVxuICAgICAgICBKU09OLnBhcnNlKHRoaXMuTFMuZ2V0SXRlbSh0aGlzLmtleXMuaW5mbykpIGFzIE1vZGVsQXJ0aWZhY3RzSW5mbztcbiAgICBpZiAoaW5mbyA9PSBudWxsKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgYEluIGxvY2FsIHN0b3JhZ2UsIHRoZXJlIGlzIG5vIG1vZGVsIHdpdGggbmFtZSAnJHt0aGlzLm1vZGVsUGF0aH0nYCk7XG4gICAgfVxuXG4gICAgaWYgKGluZm8ubW9kZWxUb3BvbG9neVR5cGUgIT09ICdKU09OJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICdCcm93c2VyTG9jYWxTdG9yYWdlIGRvZXMgbm90IHN1cHBvcnQgbG9hZGluZyBub24tSlNPTiBtb2RlbCAnICtcbiAgICAgICAgICAndG9wb2xvZ3kgeWV0LicpO1xuICAgIH1cblxuICAgIGNvbnN0IG91dDogTW9kZWxBcnRpZmFjdHMgPSB7fTtcblxuICAgIC8vIExvYWQgdG9wb2xvZ3kuXG4gICAgY29uc3QgdG9wb2xvZ3kgPSBKU09OLnBhcnNlKHRoaXMuTFMuZ2V0SXRlbSh0aGlzLmtleXMudG9wb2xvZ3kpKTtcbiAgICBpZiAodG9wb2xvZ3kgPT0gbnVsbCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgIGBJbiBsb2NhbCBzdG9yYWdlLCB0aGUgdG9wb2xvZ3kgb2YgbW9kZWwgJyR7dGhpcy5tb2RlbFBhdGh9JyBgICtcbiAgICAgICAgICBgaXMgbWlzc2luZy5gKTtcbiAgICB9XG4gICAgb3V0Lm1vZGVsVG9wb2xvZ3kgPSB0b3BvbG9neTtcblxuICAgIC8vIExvYWQgd2VpZ2h0IHNwZWNzLlxuICAgIGNvbnN0IHdlaWdodFNwZWNzID0gSlNPTi5wYXJzZSh0aGlzLkxTLmdldEl0ZW0odGhpcy5rZXlzLndlaWdodFNwZWNzKSk7XG4gICAgaWYgKHdlaWdodFNwZWNzID09IG51bGwpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICBgSW4gbG9jYWwgc3RvcmFnZSwgdGhlIHdlaWdodCBzcGVjcyBvZiBtb2RlbCAnJHt0aGlzLm1vZGVsUGF0aH0nIGAgK1xuICAgICAgICAgIGBhcmUgbWlzc2luZy5gKTtcbiAgICB9XG4gICAgb3V0LndlaWdodFNwZWNzID0gd2VpZ2h0U3BlY3M7XG5cbiAgICAvLyBMb2FkIG1ldGEtZGF0YSBmaWVsZHMuXG4gICAgY29uc3QgbWV0YWRhdGFTdHJpbmcgPSB0aGlzLkxTLmdldEl0ZW0odGhpcy5rZXlzLm1vZGVsTWV0YWRhdGEpO1xuICAgIGlmIChtZXRhZGF0YVN0cmluZyAhPSBudWxsKSB7XG4gICAgICBjb25zdCBtZXRhZGF0YSA9IEpTT04ucGFyc2UobWV0YWRhdGFTdHJpbmcpIGFzIE1vZGVsQXJ0aWZhY3RzO1xuICAgICAgb3V0LmZvcm1hdCA9IG1ldGFkYXRhWydmb3JtYXQnXTtcbiAgICAgIG91dC5nZW5lcmF0ZWRCeSA9IG1ldGFkYXRhWydnZW5lcmF0ZWRCeSddO1xuICAgICAgb3V0LmNvbnZlcnRlZEJ5ID0gbWV0YWRhdGFbJ2NvbnZlcnRlZEJ5J107XG4gICAgICBvdXQudXNlckRlZmluZWRNZXRhZGF0YSA9IG1ldGFkYXRhWyd1c2VyRGVmaW5lZE1ldGFkYXRhJ107XG4gICAgfVxuXG4gICAgLy8gTG9hZCB3ZWlnaHQgZGF0YS5cbiAgICBjb25zdCB3ZWlnaHREYXRhQmFzZTY0ID0gdGhpcy5MUy5nZXRJdGVtKHRoaXMua2V5cy53ZWlnaHREYXRhKTtcbiAgICBpZiAod2VpZ2h0RGF0YUJhc2U2NCA9PSBudWxsKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgYEluIGxvY2FsIHN0b3JhZ2UsIHRoZSBiaW5hcnkgd2VpZ2h0IHZhbHVlcyBvZiBtb2RlbCBgICtcbiAgICAgICAgICBgJyR7dGhpcy5tb2RlbFBhdGh9JyBhcmUgbWlzc2luZy5gKTtcbiAgICB9XG4gICAgb3V0LndlaWdodERhdGEgPSBiYXNlNjRTdHJpbmdUb0FycmF5QnVmZmVyKHdlaWdodERhdGFCYXNlNjQpO1xuXG4gICAgcmV0dXJuIG91dDtcbiAgfVxufVxuXG5leHBvcnQgY29uc3QgbG9jYWxTdG9yYWdlUm91dGVyOiBJT1JvdXRlciA9ICh1cmw6IHN0cmluZ3xzdHJpbmdbXSkgPT4ge1xuICBpZiAoIWVudigpLmdldEJvb2woJ0lTX0JST1dTRVInKSkge1xuICAgIHJldHVybiBudWxsO1xuICB9IGVsc2Uge1xuICAgIGlmICghQXJyYXkuaXNBcnJheSh1cmwpICYmIHVybC5zdGFydHNXaXRoKEJyb3dzZXJMb2NhbFN0b3JhZ2UuVVJMX1NDSEVNRSkpIHtcbiAgICAgIHJldHVybiBicm93c2VyTG9jYWxTdG9yYWdlKFxuICAgICAgICAgIHVybC5zbGljZShCcm93c2VyTG9jYWxTdG9yYWdlLlVSTF9TQ0hFTUUubGVuZ3RoKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxufTtcbklPUm91dGVyUmVnaXN0cnkucmVnaXN0ZXJTYXZlUm91dGVyKGxvY2FsU3RvcmFnZVJvdXRlcik7XG5JT1JvdXRlclJlZ2lzdHJ5LnJlZ2lzdGVyTG9hZFJvdXRlcihsb2NhbFN0b3JhZ2VSb3V0ZXIpO1xuXG4vKipcbiAqIEZhY3RvcnkgZnVuY3Rpb24gZm9yIGxvY2FsIHN0b3JhZ2UgSU9IYW5kbGVyLlxuICpcbiAqIFRoaXMgYElPSGFuZGxlcmAgc3VwcG9ydHMgYm90aCBgc2F2ZWAgYW5kIGBsb2FkYC5cbiAqXG4gKiBGb3IgZWFjaCBtb2RlbCdzIHNhdmVkIGFydGlmYWN0cywgZm91ciBpdGVtcyBhcmUgc2F2ZWQgdG8gbG9jYWwgc3RvcmFnZS5cbiAqICAgLSBgJHtQQVRIX1NFUEFSQVRPUn0vJHttb2RlbFBhdGh9L2luZm9gOiBDb250YWlucyBtZXRhLWluZm8gYWJvdXQgdGhlXG4gKiAgICAgbW9kZWwsIHN1Y2ggYXMgZGF0ZSBzYXZlZCwgdHlwZSBvZiB0aGUgdG9wb2xvZ3ksIHNpemUgaW4gYnl0ZXMsIGV0Yy5cbiAqICAgLSBgJHtQQVRIX1NFUEFSQVRPUn0vJHttb2RlbFBhdGh9L3RvcG9sb2d5YDogTW9kZWwgdG9wb2xvZ3kuIEZvciBLZXJhcy1cbiAqICAgICBzdHlsZSBtb2RlbHMsIHRoaXMgaXMgYSBzdHJpbmdpemVkIEpTT04uXG4gKiAgIC0gYCR7UEFUSF9TRVBBUkFUT1J9LyR7bW9kZWxQYXRofS93ZWlnaHRfc3BlY3NgOiBXZWlnaHQgc3BlY3Mgb2YgdGhlXG4gKiAgICAgbW9kZWwsIGNhbiBiZSB1c2VkIHRvIGRlY29kZSB0aGUgc2F2ZWQgYmluYXJ5IHdlaWdodCB2YWx1ZXMgKHNlZVxuICogICAgIGl0ZW0gYmVsb3cpLlxuICogICAtIGAke1BBVEhfU0VQQVJBVE9SfS8ke21vZGVsUGF0aH0vd2VpZ2h0X2RhdGFgOiBDb25jYXRlbmF0ZWQgYmluYXJ5XG4gKiAgICAgd2VpZ2h0IHZhbHVlcywgc3RvcmVkIGFzIGEgYmFzZTY0LWVuY29kZWQgc3RyaW5nLlxuICpcbiAqIFNhdmluZyBtYXkgdGhyb3cgYW4gYEVycm9yYCBpZiB0aGUgdG90YWwgc2l6ZSBvZiB0aGUgYXJ0aWZhY3RzIGV4Y2VlZCB0aGVcbiAqIGJyb3dzZXItc3BlY2lmaWMgcXVvdGEuXG4gKlxuICogQHBhcmFtIG1vZGVsUGF0aCBBIHVuaXF1ZSBpZGVudGlmaWVyIGZvciB0aGUgbW9kZWwgdG8gYmUgc2F2ZWQuIE11c3QgYmUgYVxuICogICBub24tZW1wdHkgc3RyaW5nLlxuICogQHJldHVybnMgQW4gaW5zdGFuY2Ugb2YgYElPSGFuZGxlcmAsIHdoaWNoIGNhbiBiZSB1c2VkIHdpdGgsIGUuZy4sXG4gKiAgIGB0Zi5Nb2RlbC5zYXZlYC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGJyb3dzZXJMb2NhbFN0b3JhZ2UobW9kZWxQYXRoOiBzdHJpbmcpOiBJT0hhbmRsZXIge1xuICByZXR1cm4gbmV3IEJyb3dzZXJMb2NhbFN0b3JhZ2UobW9kZWxQYXRoKTtcbn1cblxuZXhwb3J0IGNsYXNzIEJyb3dzZXJMb2NhbFN0b3JhZ2VNYW5hZ2VyIGltcGxlbWVudHMgTW9kZWxTdG9yZU1hbmFnZXIge1xuICBwcml2YXRlIHJlYWRvbmx5IExTOiBTdG9yYWdlO1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIGFzc2VydChcbiAgICAgICAgZW52KCkuZ2V0Qm9vbCgnSVNfQlJPV1NFUicpLFxuICAgICAgICAoKSA9PiAnQ3VycmVudCBlbnZpcm9ubWVudCBpcyBub3QgYSB3ZWIgYnJvd3NlcicpO1xuICAgIGFzc2VydChcbiAgICAgICAgdHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcgfHxcbiAgICAgICAgICAgIHR5cGVvZiB3aW5kb3cubG9jYWxTdG9yYWdlICE9PSAndW5kZWZpbmVkJyxcbiAgICAgICAgKCkgPT4gJ0N1cnJlbnQgYnJvd3NlciBkb2VzIG5vdCBhcHBlYXIgdG8gc3VwcG9ydCBsb2NhbFN0b3JhZ2UnKTtcbiAgICB0aGlzLkxTID0gd2luZG93LmxvY2FsU3RvcmFnZTtcbiAgfVxuXG4gIGFzeW5jIGxpc3RNb2RlbHMoKTogUHJvbWlzZTx7W3BhdGg6IHN0cmluZ106IE1vZGVsQXJ0aWZhY3RzSW5mb30+IHtcbiAgICBjb25zdCBvdXQ6IHtbcGF0aDogc3RyaW5nXTogTW9kZWxBcnRpZmFjdHNJbmZvfSA9IHt9O1xuICAgIGNvbnN0IHByZWZpeCA9IFBBVEhfUFJFRklYICsgUEFUSF9TRVBBUkFUT1I7XG4gICAgY29uc3Qgc3VmZml4ID0gUEFUSF9TRVBBUkFUT1IgKyBJTkZPX1NVRkZJWDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuTFMubGVuZ3RoOyArK2kpIHtcbiAgICAgIGNvbnN0IGtleSA9IHRoaXMuTFMua2V5KGkpO1xuICAgICAgaWYgKGtleS5zdGFydHNXaXRoKHByZWZpeCkgJiYga2V5LmVuZHNXaXRoKHN1ZmZpeCkpIHtcbiAgICAgICAgY29uc3QgbW9kZWxQYXRoID0gZ2V0TW9kZWxQYXRoRnJvbUtleShrZXkpO1xuICAgICAgICBvdXRbbW9kZWxQYXRoXSA9IEpTT04ucGFyc2UodGhpcy5MUy5nZXRJdGVtKGtleSkpIGFzIE1vZGVsQXJ0aWZhY3RzSW5mbztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG91dDtcbiAgfVxuXG4gIGFzeW5jIHJlbW92ZU1vZGVsKHBhdGg6IHN0cmluZyk6IFByb21pc2U8TW9kZWxBcnRpZmFjdHNJbmZvPiB7XG4gICAgcGF0aCA9IG1heWJlU3RyaXBTY2hlbWUocGF0aCk7XG4gICAgY29uc3Qga2V5cyA9IGdldE1vZGVsS2V5cyhwYXRoKTtcbiAgICBpZiAodGhpcy5MUy5nZXRJdGVtKGtleXMuaW5mbykgPT0gbnVsbCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBDYW5ub3QgZmluZCBtb2RlbCBhdCBwYXRoICcke3BhdGh9J2ApO1xuICAgIH1cbiAgICBjb25zdCBpbmZvID0gSlNPTi5wYXJzZSh0aGlzLkxTLmdldEl0ZW0oa2V5cy5pbmZvKSkgYXMgTW9kZWxBcnRpZmFjdHNJbmZvO1xuXG4gICAgdGhpcy5MUy5yZW1vdmVJdGVtKGtleXMuaW5mbyk7XG4gICAgdGhpcy5MUy5yZW1vdmVJdGVtKGtleXMudG9wb2xvZ3kpO1xuICAgIHRoaXMuTFMucmVtb3ZlSXRlbShrZXlzLndlaWdodFNwZWNzKTtcbiAgICB0aGlzLkxTLnJlbW92ZUl0ZW0oa2V5cy53ZWlnaHREYXRhKTtcbiAgICByZXR1cm4gaW5mbztcbiAgfVxufVxuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTggR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG4vKipcbiAqIENsYXNzZXMgYW5kIGZ1bmN0aW9ucyBmb3IgbW9kZWwgbWFuYWdlbWVudCBhY3Jvc3MgbXVsdGlwbGUgc3RvcmFnZSBtZWRpdW1zLlxuICpcbiAqIFN1cHBvcnRlZCBjbGllbnQgYWN0aW9uczpcbiAqIC0gTGlzdGluZyBtb2RlbHMgb24gYWxsIHJlZ2lzdGVyZWQgc3RvcmFnZSBtZWRpdW1zLlxuICogLSBSZW1vdmUgbW9kZWwgYnkgVVJMIGZyb20gYW55IHJlZ2lzdGVyZWQgc3RvcmFnZSBtZWRpdW1zLCBieSB1c2luZyBVUkxcbiAqICAgc3RyaW5nLlxuICogLSBNb3Zpbmcgb3IgY29weWluZyBtb2RlbCBmcm9tIG9uZSBwYXRoIHRvIGFub3RoZXIgaW4gdGhlIHNhbWUgbWVkaXVtIG9yIGZyb21cbiAqICAgb25lIG1lZGl1bSB0byBhbm90aGVyLCBieSB1c2luZyBVUkwgc3RyaW5ncy5cbiAqL1xuXG5pbXBvcnQge2Fzc2VydH0gZnJvbSAnLi4vdXRpbCc7XG5cbmltcG9ydCB7SU9Sb3V0ZXJSZWdpc3RyeX0gZnJvbSAnLi9yb3V0ZXJfcmVnaXN0cnknO1xuaW1wb3J0IHtNb2RlbEFydGlmYWN0c0luZm8sIE1vZGVsU3RvcmVNYW5hZ2VyfSBmcm9tICcuL3R5cGVzJztcblxuY29uc3QgVVJMX1NDSEVNRV9TVUZGSVggPSAnOi8vJztcblxuZXhwb3J0IGNsYXNzIE1vZGVsU3RvcmVNYW5hZ2VyUmVnaXN0cnkge1xuICAvLyBTaW5nbGV0b24gaW5zdGFuY2UuXG4gIHByaXZhdGUgc3RhdGljIGluc3RhbmNlOiBNb2RlbFN0b3JlTWFuYWdlclJlZ2lzdHJ5O1xuXG4gIHByaXZhdGUgbWFuYWdlcnM6IHtbc2NoZW1lOiBzdHJpbmddOiBNb2RlbFN0b3JlTWFuYWdlcn07XG5cbiAgcHJpdmF0ZSBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLm1hbmFnZXJzID0ge307XG4gIH1cblxuICBwcml2YXRlIHN0YXRpYyBnZXRJbnN0YW5jZSgpOiBNb2RlbFN0b3JlTWFuYWdlclJlZ2lzdHJ5IHtcbiAgICBpZiAoTW9kZWxTdG9yZU1hbmFnZXJSZWdpc3RyeS5pbnN0YW5jZSA9PSBudWxsKSB7XG4gICAgICBNb2RlbFN0b3JlTWFuYWdlclJlZ2lzdHJ5Lmluc3RhbmNlID0gbmV3IE1vZGVsU3RvcmVNYW5hZ2VyUmVnaXN0cnkoKTtcbiAgICB9XG4gICAgcmV0dXJuIE1vZGVsU3RvcmVNYW5hZ2VyUmVnaXN0cnkuaW5zdGFuY2U7XG4gIH1cblxuICAvKipcbiAgICogUmVnaXN0ZXIgYSBzYXZlLWhhbmRsZXIgcm91dGVyLlxuICAgKlxuICAgKiBAcGFyYW0gc2F2ZVJvdXRlciBBIGZ1bmN0aW9uIHRoYXQgbWFwcyBhIFVSTC1saWtlIHN0cmluZyBvbnRvIGFuIGluc3RhbmNlXG4gICAqIG9mIGBJT0hhbmRsZXJgIHdpdGggdGhlIGBzYXZlYCBtZXRob2QgZGVmaW5lZCBvciBgbnVsbGAuXG4gICAqL1xuICBzdGF0aWMgcmVnaXN0ZXJNYW5hZ2VyKHNjaGVtZTogc3RyaW5nLCBtYW5hZ2VyOiBNb2RlbFN0b3JlTWFuYWdlcikge1xuICAgIGFzc2VydChzY2hlbWUgIT0gbnVsbCwgKCkgPT4gJ3NjaGVtZSBtdXN0IG5vdCBiZSB1bmRlZmluZWQgb3IgbnVsbC4nKTtcbiAgICBpZiAoc2NoZW1lLmVuZHNXaXRoKFVSTF9TQ0hFTUVfU1VGRklYKSkge1xuICAgICAgc2NoZW1lID0gc2NoZW1lLnNsaWNlKDAsIHNjaGVtZS5pbmRleE9mKFVSTF9TQ0hFTUVfU1VGRklYKSk7XG4gICAgfVxuICAgIGFzc2VydChzY2hlbWUubGVuZ3RoID4gMCwgKCkgPT4gJ3NjaGVtZSBtdXN0IG5vdCBiZSBhbiBlbXB0eSBzdHJpbmcuJyk7XG4gICAgY29uc3QgcmVnaXN0cnkgPSBNb2RlbFN0b3JlTWFuYWdlclJlZ2lzdHJ5LmdldEluc3RhbmNlKCk7XG4gICAgYXNzZXJ0KFxuICAgICAgICByZWdpc3RyeS5tYW5hZ2Vyc1tzY2hlbWVdID09IG51bGwsXG4gICAgICAgICgpID0+IGBBIG1vZGVsIHN0b3JlIG1hbmFnZXIgaXMgYWxyZWFkeSByZWdpc3RlcmVkIGZvciBzY2hlbWUgJyR7XG4gICAgICAgICAgICBzY2hlbWV9Jy5gKTtcbiAgICByZWdpc3RyeS5tYW5hZ2Vyc1tzY2hlbWVdID0gbWFuYWdlcjtcbiAgfVxuXG4gIHN0YXRpYyBnZXRNYW5hZ2VyKHNjaGVtZTogc3RyaW5nKTogTW9kZWxTdG9yZU1hbmFnZXIge1xuICAgIGNvbnN0IG1hbmFnZXIgPSB0aGlzLmdldEluc3RhbmNlKCkubWFuYWdlcnNbc2NoZW1lXTtcbiAgICBpZiAobWFuYWdlciA9PSBudWxsKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYENhbm5vdCBmaW5kIG1vZGVsIG1hbmFnZXIgZm9yIHNjaGVtZSAnJHtzY2hlbWV9J2ApO1xuICAgIH1cbiAgICByZXR1cm4gbWFuYWdlcjtcbiAgfVxuXG4gIHN0YXRpYyBnZXRTY2hlbWVzKCk6IHN0cmluZ1tdIHtcbiAgICByZXR1cm4gT2JqZWN0LmtleXModGhpcy5nZXRJbnN0YW5jZSgpLm1hbmFnZXJzKTtcbiAgfVxufVxuXG4vKipcbiAqIEhlbHBlciBtZXRob2QgZm9yIHBhcnNpbmcgYSBVUkwgc3RyaW5nIGludG8gYSBzY2hlbWUgYW5kIGEgcGF0aC5cbiAqXG4gKiBAcGFyYW0gdXJsIEUuZy4sICdsb2NhbHN0b3JhZ2U6Ly9teS1tb2RlbCdcbiAqIEByZXR1cm5zIEEgZGljdGlvbmFyeSB3aXRoIHR3byBmaWVsZHM6IHNjaGVtZSBhbmQgcGF0aC5cbiAqICAgU2NoZW1lOiBlLmcuLCAnbG9jYWxzdG9yYWdlJyBpbiB0aGUgZXhhbXBsZSBhYm92ZS5cbiAqICAgUGF0aDogZS5nLiwgJ215LW1vZGVsJyBpbiB0aGUgZXhhbXBsZSBhYm92ZS5cbiAqL1xuZnVuY3Rpb24gcGFyc2VVUkwodXJsOiBzdHJpbmcpOiB7c2NoZW1lOiBzdHJpbmcsIHBhdGg6IHN0cmluZ30ge1xuICBpZiAodXJsLmluZGV4T2YoVVJMX1NDSEVNRV9TVUZGSVgpID09PSAtMSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgYFRoZSB1cmwgc3RyaW5nIHByb3ZpZGVkIGRvZXMgbm90IGNvbnRhaW4gYSBzY2hlbWUuIGAgK1xuICAgICAgICBgU3VwcG9ydGVkIHNjaGVtZXMgYXJlOiBgICtcbiAgICAgICAgYCR7TW9kZWxTdG9yZU1hbmFnZXJSZWdpc3RyeS5nZXRTY2hlbWVzKCkuam9pbignLCcpfWApO1xuICB9XG4gIHJldHVybiB7XG4gICAgc2NoZW1lOiB1cmwuc3BsaXQoVVJMX1NDSEVNRV9TVUZGSVgpWzBdLFxuICAgIHBhdGg6IHVybC5zcGxpdChVUkxfU0NIRU1FX1NVRkZJWClbMV0sXG4gIH07XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGNsb25lTW9kZWxJbnRlcm5hbChcbiAgICBzb3VyY2VVUkw6IHN0cmluZywgZGVzdFVSTDogc3RyaW5nLFxuICAgIGRlbGV0ZVNvdXJjZSA9IGZhbHNlKTogUHJvbWlzZTxNb2RlbEFydGlmYWN0c0luZm8+IHtcbiAgYXNzZXJ0KFxuICAgICAgc291cmNlVVJMICE9PSBkZXN0VVJMLFxuICAgICAgKCkgPT4gYE9sZCBwYXRoIGFuZCBuZXcgcGF0aCBhcmUgdGhlIHNhbWU6ICcke3NvdXJjZVVSTH0nYCk7XG5cbiAgY29uc3QgbG9hZEhhbmRsZXJzID0gSU9Sb3V0ZXJSZWdpc3RyeS5nZXRMb2FkSGFuZGxlcnMoc291cmNlVVJMKTtcbiAgYXNzZXJ0KFxuICAgICAgbG9hZEhhbmRsZXJzLmxlbmd0aCA+IDAsXG4gICAgICAoKSA9PiBgQ29weWluZyBmYWlsZWQgYmVjYXVzZSBubyBsb2FkIGhhbmRsZXIgaXMgZm91bmQgZm9yIHNvdXJjZSBVUkwgJHtcbiAgICAgICAgICBzb3VyY2VVUkx9LmApO1xuICBhc3NlcnQoXG4gICAgICBsb2FkSGFuZGxlcnMubGVuZ3RoIDwgMixcbiAgICAgICgpID0+IGBDb3B5aW5nIGZhaWxlZCBiZWNhdXNlIG1vcmUgdGhhbiBvbmUgKCR7bG9hZEhhbmRsZXJzLmxlbmd0aH0pIGAgK1xuICAgICAgICAgIGBsb2FkIGhhbmRsZXJzIGZvciBzb3VyY2UgVVJMICR7c291cmNlVVJMfS5gKTtcbiAgY29uc3QgbG9hZEhhbmRsZXIgPSBsb2FkSGFuZGxlcnNbMF07XG5cbiAgY29uc3Qgc2F2ZUhhbmRsZXJzID0gSU9Sb3V0ZXJSZWdpc3RyeS5nZXRTYXZlSGFuZGxlcnMoZGVzdFVSTCk7XG4gIGFzc2VydChcbiAgICAgIHNhdmVIYW5kbGVycy5sZW5ndGggPiAwLFxuICAgICAgKCkgPT4gYENvcHlpbmcgZmFpbGVkIGJlY2F1c2Ugbm8gc2F2ZSBoYW5kbGVyIGlzIGZvdW5kIGZvciBkZXN0aW5hdGlvbiBgICtcbiAgICAgICAgICBgVVJMICR7ZGVzdFVSTH0uYCk7XG4gIGFzc2VydChcbiAgICAgIHNhdmVIYW5kbGVycy5sZW5ndGggPCAyLFxuICAgICAgKCkgPT4gYENvcHlpbmcgZmFpbGVkIGJlY2F1c2UgbW9yZSB0aGFuIG9uZSAoJHtsb2FkSGFuZGxlcnMubGVuZ3RofSkgYCArXG4gICAgICAgICAgYHNhdmUgaGFuZGxlcnMgZm9yIGRlc3RpbmF0aW9uIFVSTCAke2Rlc3RVUkx9LmApO1xuICBjb25zdCBzYXZlSGFuZGxlciA9IHNhdmVIYW5kbGVyc1swXTtcblxuICBjb25zdCBzb3VyY2VTY2hlbWUgPSBwYXJzZVVSTChzb3VyY2VVUkwpLnNjaGVtZTtcbiAgY29uc3Qgc291cmNlUGF0aCA9IHBhcnNlVVJMKHNvdXJjZVVSTCkucGF0aDtcbiAgY29uc3Qgc2FtZU1lZGl1bSA9IHNvdXJjZVNjaGVtZSA9PT0gcGFyc2VVUkwoc291cmNlVVJMKS5zY2hlbWU7XG5cbiAgY29uc3QgbW9kZWxBcnRpZmFjdHMgPSBhd2FpdCBsb2FkSGFuZGxlci5sb2FkKCk7XG5cbiAgLy8gSWYgbW92aW5nIHdpdGhpbiB0aGUgc2FtZSBzdG9yYWdlIG1lZGl1bSwgcmVtb3ZlIHRoZSBvbGQgbW9kZWwgYXMgc29vbiBhc1xuICAvLyB0aGUgbG9hZGluZyBpcyBkb25lLiBXaXRob3V0IGRvaW5nIHRoaXMsIGl0IGlzIHBvc3NpYmxlIHRoYXQgdGhlIGNvbWJpbmVkXG4gIC8vIHNpemUgb2YgdGhlIHR3byBtb2RlbHMgd2lsbCBjYXVzZSB0aGUgY2xvbmluZyB0byBmYWlsLlxuICBpZiAoZGVsZXRlU291cmNlICYmIHNhbWVNZWRpdW0pIHtcbiAgICBhd2FpdCBNb2RlbFN0b3JlTWFuYWdlclJlZ2lzdHJ5LmdldE1hbmFnZXIoc291cmNlU2NoZW1lKVxuICAgICAgICAucmVtb3ZlTW9kZWwoc291cmNlUGF0aCk7XG4gIH1cblxuICBjb25zdCBzYXZlUmVzdWx0ID0gYXdhaXQgc2F2ZUhhbmRsZXIuc2F2ZShtb2RlbEFydGlmYWN0cyk7XG5cbiAgLy8gSWYgbW92aW5nIGJldHdlZW4gbWVkaXVtcywgdGhlIGRlbGV0aW9uIGlzIGRvbmUgYWZ0ZXIgdGhlIHNhdmUgc3VjY2VlZHMuXG4gIC8vIFRoaXMgZ3VhcmRzIGFnYWluc3QgdGhlIGNhc2UgaW4gd2hpY2ggc2F2aW5nIHRvIHRoZSBkZXN0aW5hdGlvbiBtZWRpdW1cbiAgLy8gZmFpbHMuXG4gIGlmIChkZWxldGVTb3VyY2UgJiYgIXNhbWVNZWRpdW0pIHtcbiAgICBhd2FpdCBNb2RlbFN0b3JlTWFuYWdlclJlZ2lzdHJ5LmdldE1hbmFnZXIoc291cmNlU2NoZW1lKVxuICAgICAgICAucmVtb3ZlTW9kZWwoc291cmNlUGF0aCk7XG4gIH1cblxuICByZXR1cm4gc2F2ZVJlc3VsdC5tb2RlbEFydGlmYWN0c0luZm87XG59XG5cbi8qKlxuICogTGlzdCBhbGwgbW9kZWxzIHN0b3JlZCBpbiByZWdpc3RlcmVkIHN0b3JhZ2UgbWVkaXVtcy5cbiAqXG4gKiBGb3IgYSB3ZWIgYnJvd3NlciBlbnZpcm9ubWVudCwgdGhlIHJlZ2lzdGVyZWQgbWVkaXVtcyBhcmUgTG9jYWwgU3RvcmFnZSBhbmRcbiAqIEluZGV4ZWREQi5cbiAqXG4gKiBgYGBqc1xuICogLy8gRmlyc3QgY3JlYXRlIGFuZCBzYXZlIGEgbW9kZWwuXG4gKiBjb25zdCBtb2RlbCA9IHRmLnNlcXVlbnRpYWwoKTtcbiAqIG1vZGVsLmFkZCh0Zi5sYXllcnMuZGVuc2UoXG4gKiAgICAge3VuaXRzOiAxLCBpbnB1dFNoYXBlOiBbMTBdLCBhY3RpdmF0aW9uOiAnc2lnbW9pZCd9KSk7XG4gKiBhd2FpdCBtb2RlbC5zYXZlKCdsb2NhbHN0b3JhZ2U6Ly9kZW1vL21hbmFnZW1lbnQvbW9kZWwxJyk7XG4gKlxuICogLy8gVGhlbiBsaXN0IGV4aXN0aW5nIG1vZGVscy5cbiAqIGNvbnNvbGUubG9nKEpTT04uc3RyaW5naWZ5KGF3YWl0IHRmLmlvLmxpc3RNb2RlbHMoKSkpO1xuICpcbiAqIC8vIERlbGV0ZSB0aGUgbW9kZWwuXG4gKiBhd2FpdCB0Zi5pby5yZW1vdmVNb2RlbCgnbG9jYWxzdG9yYWdlOi8vZGVtby9tYW5hZ2VtZW50L21vZGVsMScpO1xuICpcbiAqIC8vIExpc3QgbW9kZWxzIGFnYWluLlxuICogY29uc29sZS5sb2coSlNPTi5zdHJpbmdpZnkoYXdhaXQgdGYuaW8ubGlzdE1vZGVscygpKSk7XG4gKiBgYGBcbiAqXG4gKiBAcmV0dXJucyBBIGBQcm9taXNlYCBvZiBhIGRpY3Rpb25hcnkgbWFwcGluZyBVUkxzIG9mIGV4aXN0aW5nIG1vZGVscyB0b1xuICogdGhlaXIgbW9kZWwgYXJ0aWZhY3RzIGluZm8uIFVSTHMgaW5jbHVkZSBtZWRpdW0tc3BlY2lmaWMgc2NoZW1lcywgZS5nLixcbiAqICAgJ2luZGV4ZWRkYjovL215L21vZGVsLzEnLiBNb2RlbCBhcnRpZmFjdHMgaW5mbyBpbmNsdWRlIHR5cGUgb2YgdGhlXG4gKiBtb2RlbCdzIHRvcG9sb2d5LCBieXRlIHNpemVzIG9mIHRoZSB0b3BvbG9neSwgd2VpZ2h0cywgZXRjLlxuICpcbiAqIEBkb2Mge1xuICogICBoZWFkaW5nOiAnTW9kZWxzJyxcbiAqICAgc3ViaGVhZGluZzogJ01hbmFnZW1lbnQnLFxuICogICBuYW1lc3BhY2U6ICdpbycsXG4gKiAgIGlnbm9yZUNJOiB0cnVlXG4gKiB9XG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGxpc3RNb2RlbHMoKTogUHJvbWlzZTx7W3VybDogc3RyaW5nXTogTW9kZWxBcnRpZmFjdHNJbmZvfT4ge1xuICBjb25zdCBzY2hlbWVzID0gTW9kZWxTdG9yZU1hbmFnZXJSZWdpc3RyeS5nZXRTY2hlbWVzKCk7XG4gIGNvbnN0IG91dDoge1t1cmw6IHN0cmluZ106IE1vZGVsQXJ0aWZhY3RzSW5mb30gPSB7fTtcbiAgZm9yIChjb25zdCBzY2hlbWUgb2Ygc2NoZW1lcykge1xuICAgIGNvbnN0IHNjaGVtZU91dCA9XG4gICAgICAgIGF3YWl0IE1vZGVsU3RvcmVNYW5hZ2VyUmVnaXN0cnkuZ2V0TWFuYWdlcihzY2hlbWUpLmxpc3RNb2RlbHMoKTtcbiAgICBmb3IgKGNvbnN0IHBhdGggaW4gc2NoZW1lT3V0KSB7XG4gICAgICBjb25zdCB1cmwgPSBzY2hlbWUgKyBVUkxfU0NIRU1FX1NVRkZJWCArIHBhdGg7XG4gICAgICBvdXRbdXJsXSA9IHNjaGVtZU91dFtwYXRoXTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBSZW1vdmUgYSBtb2RlbCBzcGVjaWZpZWQgYnkgVVJMIGZyb20gYSByZWlnc3RlcmVkIHN0b3JhZ2UgbWVkaXVtLlxuICpcbiAqIGBgYGpzXG4gKiAvLyBGaXJzdCBjcmVhdGUgYW5kIHNhdmUgYSBtb2RlbC5cbiAqIGNvbnN0IG1vZGVsID0gdGYuc2VxdWVudGlhbCgpO1xuICogbW9kZWwuYWRkKHRmLmxheWVycy5kZW5zZShcbiAqICAgICB7dW5pdHM6IDEsIGlucHV0U2hhcGU6IFsxMF0sIGFjdGl2YXRpb246ICdzaWdtb2lkJ30pKTtcbiAqIGF3YWl0IG1vZGVsLnNhdmUoJ2xvY2Fsc3RvcmFnZTovL2RlbW8vbWFuYWdlbWVudC9tb2RlbDEnKTtcbiAqXG4gKiAvLyBUaGVuIGxpc3QgZXhpc3RpbmcgbW9kZWxzLlxuICogY29uc29sZS5sb2coSlNPTi5zdHJpbmdpZnkoYXdhaXQgdGYuaW8ubGlzdE1vZGVscygpKSk7XG4gKlxuICogLy8gRGVsZXRlIHRoZSBtb2RlbC5cbiAqIGF3YWl0IHRmLmlvLnJlbW92ZU1vZGVsKCdsb2NhbHN0b3JhZ2U6Ly9kZW1vL21hbmFnZW1lbnQvbW9kZWwxJyk7XG4gKlxuICogLy8gTGlzdCBtb2RlbHMgYWdhaW4uXG4gKiBjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeShhd2FpdCB0Zi5pby5saXN0TW9kZWxzKCkpKTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB1cmwgQSBVUkwgdG8gYSBzdG9yZWQgbW9kZWwsIHdpdGggYSBzY2hlbWUgcHJlZml4LCBlLmcuLFxuICogICAnbG9jYWxzdG9yYWdlOi8vbXktbW9kZWwtMScsICdpbmRleGVkZGI6Ly9teS9tb2RlbC8yJy5cbiAqIEByZXR1cm5zIE1vZGVsQXJ0aWZhY3RzSW5mbyBvZiB0aGUgZGVsZXRlZCBtb2RlbCAoaWYgYW5kIG9ubHkgaWYgZGVsZXRpb25cbiAqICAgaXMgc3VjY2Vzc2Z1bCkuXG4gKiBAdGhyb3dzIEVycm9yIGlmIGRlbGV0aW9uIGZhaWxzLCBlLmcuLCBpZiBubyBtb2RlbCBleGlzdHMgYXQgYHBhdGhgLlxuICpcbiAqIEBkb2Mge1xuICogICBoZWFkaW5nOiAnTW9kZWxzJyxcbiAqICAgc3ViaGVhZGluZzogJ01hbmFnZW1lbnQnLFxuICogICBuYW1lc3BhY2U6ICdpbycsXG4gKiAgIGlnbm9yZUNJOiB0cnVlXG4gKiB9XG4gKi9cbmFzeW5jIGZ1bmN0aW9uIHJlbW92ZU1vZGVsKHVybDogc3RyaW5nKTogUHJvbWlzZTxNb2RlbEFydGlmYWN0c0luZm8+IHtcbiAgY29uc3Qgc2NoZW1lQW5kUGF0aCA9IHBhcnNlVVJMKHVybCk7XG4gIGNvbnN0IG1hbmFnZXIgPSBNb2RlbFN0b3JlTWFuYWdlclJlZ2lzdHJ5LmdldE1hbmFnZXIoc2NoZW1lQW5kUGF0aC5zY2hlbWUpO1xuICByZXR1cm4gbWFuYWdlci5yZW1vdmVNb2RlbChzY2hlbWVBbmRQYXRoLnBhdGgpO1xufVxuXG4vKipcbiAqIENvcHkgYSBtb2RlbCBmcm9tIG9uZSBVUkwgdG8gYW5vdGhlci5cbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIHN1cHBvcnRzOlxuICpcbiAqIDEuIENvcHlpbmcgd2l0aGluIGEgc3RvcmFnZSBtZWRpdW0sIGUuZy4sXG4gKiAgICBgdGYuaW8uY29weU1vZGVsKCdsb2NhbHN0b3JhZ2U6Ly9tb2RlbC0xJywgJ2xvY2Fsc3RvcmFnZTovL21vZGVsLTInKWBcbiAqIDIuIENvcHlpbmcgYmV0d2VlbiB0d28gc3RvcmFnZSBtZWRpdW1zLCBlLmcuLFxuICogICAgYHRmLmlvLmNvcHlNb2RlbCgnbG9jYWxzdG9yYWdlOi8vbW9kZWwtMScsICdpbmRleGVkZGI6Ly9tb2RlbC0xJylgXG4gKlxuICogYGBganNcbiAqIC8vIEZpcnN0IGNyZWF0ZSBhbmQgc2F2ZSBhIG1vZGVsLlxuICogY29uc3QgbW9kZWwgPSB0Zi5zZXF1ZW50aWFsKCk7XG4gKiBtb2RlbC5hZGQodGYubGF5ZXJzLmRlbnNlKFxuICogICAgIHt1bml0czogMSwgaW5wdXRTaGFwZTogWzEwXSwgYWN0aXZhdGlvbjogJ3NpZ21vaWQnfSkpO1xuICogYXdhaXQgbW9kZWwuc2F2ZSgnbG9jYWxzdG9yYWdlOi8vZGVtby9tYW5hZ2VtZW50L21vZGVsMScpO1xuICpcbiAqIC8vIFRoZW4gbGlzdCBleGlzdGluZyBtb2RlbHMuXG4gKiBjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeShhd2FpdCB0Zi5pby5saXN0TW9kZWxzKCkpKTtcbiAqXG4gKiAvLyBDb3B5IHRoZSBtb2RlbCwgZnJvbSBMb2NhbCBTdG9yYWdlIHRvIEluZGV4ZWREQi5cbiAqIGF3YWl0IHRmLmlvLmNvcHlNb2RlbChcbiAqICAgICAnbG9jYWxzdG9yYWdlOi8vZGVtby9tYW5hZ2VtZW50L21vZGVsMScsXG4gKiAgICAgJ2luZGV4ZWRkYjovL2RlbW8vbWFuYWdlbWVudC9tb2RlbDEnKTtcbiAqXG4gKiAvLyBMaXN0IG1vZGVscyBhZ2Fpbi5cbiAqIGNvbnNvbGUubG9nKEpTT04uc3RyaW5naWZ5KGF3YWl0IHRmLmlvLmxpc3RNb2RlbHMoKSkpO1xuICpcbiAqIC8vIFJlbW92ZSBib3RoIG1vZGVscy5cbiAqIGF3YWl0IHRmLmlvLnJlbW92ZU1vZGVsKCdsb2NhbHN0b3JhZ2U6Ly9kZW1vL21hbmFnZW1lbnQvbW9kZWwxJyk7XG4gKiBhd2FpdCB0Zi5pby5yZW1vdmVNb2RlbCgnaW5kZXhlZGRiOi8vZGVtby9tYW5hZ2VtZW50L21vZGVsMScpO1xuICogYGBgXG4gKlxuICogQHBhcmFtIHNvdXJjZVVSTCBTb3VyY2UgVVJMIG9mIGNvcHlpbmcuXG4gKiBAcGFyYW0gZGVzdFVSTCBEZXN0aW5hdGlvbiBVUkwgb2YgY29weWluZy5cbiAqIEByZXR1cm5zIE1vZGVsQXJ0aWZhY3RzSW5mbyBvZiB0aGUgY29waWVkIG1vZGVsIChpZiBhbmQgb25seSBpZiBjb3B5aW5nXG4gKiAgIGlzIHN1Y2Nlc3NmdWwpLlxuICogQHRocm93cyBFcnJvciBpZiBjb3B5aW5nIGZhaWxzLCBlLmcuLCBpZiBubyBtb2RlbCBleGlzdHMgYXQgYHNvdXJjZVVSTGAsIG9yXG4gKiAgIGlmIGBvbGRQYXRoYCBhbmQgYG5ld1BhdGhgIGFyZSBpZGVudGljYWwuXG4gKlxuICogQGRvYyB7XG4gKiAgIGhlYWRpbmc6ICdNb2RlbHMnLFxuICogICBzdWJoZWFkaW5nOiAnTWFuYWdlbWVudCcsXG4gKiAgIG5hbWVzcGFjZTogJ2lvJyxcbiAqICAgaWdub3JlQ0k6IHRydWVcbiAqIH1cbiAqL1xuYXN5bmMgZnVuY3Rpb24gY29weU1vZGVsKFxuICAgIHNvdXJjZVVSTDogc3RyaW5nLCBkZXN0VVJMOiBzdHJpbmcpOiBQcm9taXNlPE1vZGVsQXJ0aWZhY3RzSW5mbz4ge1xuICBjb25zdCBkZWxldGVTb3VyY2UgPSBmYWxzZTtcbiAgcmV0dXJuIGNsb25lTW9kZWxJbnRlcm5hbChzb3VyY2VVUkwsIGRlc3RVUkwsIGRlbGV0ZVNvdXJjZSk7XG59XG5cbi8qKlxuICogTW92ZSBhIG1vZGVsIGZyb20gb25lIFVSTCB0byBhbm90aGVyLlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gc3VwcG9ydHM6XG4gKlxuICogMS4gTW92aW5nIHdpdGhpbiBhIHN0b3JhZ2UgbWVkaXVtLCBlLmcuLFxuICogICAgYHRmLmlvLm1vdmVNb2RlbCgnbG9jYWxzdG9yYWdlOi8vbW9kZWwtMScsICdsb2NhbHN0b3JhZ2U6Ly9tb2RlbC0yJylgXG4gKiAyLiBNb3ZpbmcgYmV0d2VlbiB0d28gc3RvcmFnZSBtZWRpdW1zLCBlLmcuLFxuICogICAgYHRmLmlvLm1vdmVNb2RlbCgnbG9jYWxzdG9yYWdlOi8vbW9kZWwtMScsICdpbmRleGVkZGI6Ly9tb2RlbC0xJylgXG4gKlxuICogYGBganNcbiAqIC8vIEZpcnN0IGNyZWF0ZSBhbmQgc2F2ZSBhIG1vZGVsLlxuICogY29uc3QgbW9kZWwgPSB0Zi5zZXF1ZW50aWFsKCk7XG4gKiBtb2RlbC5hZGQodGYubGF5ZXJzLmRlbnNlKFxuICogICAgIHt1bml0czogMSwgaW5wdXRTaGFwZTogWzEwXSwgYWN0aXZhdGlvbjogJ3NpZ21vaWQnfSkpO1xuICogYXdhaXQgbW9kZWwuc2F2ZSgnbG9jYWxzdG9yYWdlOi8vZGVtby9tYW5hZ2VtZW50L21vZGVsMScpO1xuICpcbiAqIC8vIFRoZW4gbGlzdCBleGlzdGluZyBtb2RlbHMuXG4gKiBjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeShhd2FpdCB0Zi5pby5saXN0TW9kZWxzKCkpKTtcbiAqXG4gKiAvLyBNb3ZlIHRoZSBtb2RlbCwgZnJvbSBMb2NhbCBTdG9yYWdlIHRvIEluZGV4ZWREQi5cbiAqIGF3YWl0IHRmLmlvLm1vdmVNb2RlbChcbiAqICAgICAnbG9jYWxzdG9yYWdlOi8vZGVtby9tYW5hZ2VtZW50L21vZGVsMScsXG4gKiAgICAgJ2luZGV4ZWRkYjovL2RlbW8vbWFuYWdlbWVudC9tb2RlbDEnKTtcbiAqXG4gKiAvLyBMaXN0IG1vZGVscyBhZ2Fpbi5cbiAqIGNvbnNvbGUubG9nKEpTT04uc3RyaW5naWZ5KGF3YWl0IHRmLmlvLmxpc3RNb2RlbHMoKSkpO1xuICpcbiAqIC8vIFJlbW92ZSB0aGUgbW92ZWQgbW9kZWwuXG4gKiBhd2FpdCB0Zi5pby5yZW1vdmVNb2RlbCgnaW5kZXhlZGRiOi8vZGVtby9tYW5hZ2VtZW50L21vZGVsMScpO1xuICogYGBgXG4gKlxuICogQHBhcmFtIHNvdXJjZVVSTCBTb3VyY2UgVVJMIG9mIG1vdmluZy5cbiAqIEBwYXJhbSBkZXN0VVJMIERlc3RpbmF0aW9uIFVSTCBvZiBtb3ZpbmcuXG4gKiBAcmV0dXJucyBNb2RlbEFydGlmYWN0c0luZm8gb2YgdGhlIGNvcGllZCBtb2RlbCAoaWYgYW5kIG9ubHkgaWYgY29weWluZ1xuICogICBpcyBzdWNjZXNzZnVsKS5cbiAqIEB0aHJvd3MgRXJyb3IgaWYgbW92aW5nIGZhaWxzLCBlLmcuLCBpZiBubyBtb2RlbCBleGlzdHMgYXQgYHNvdXJjZVVSTGAsIG9yXG4gKiAgIGlmIGBvbGRQYXRoYCBhbmQgYG5ld1BhdGhgIGFyZSBpZGVudGljYWwuXG4gKlxuICogQGRvYyB7XG4gKiAgIGhlYWRpbmc6ICdNb2RlbHMnLFxuICogICBzdWJoZWFkaW5nOiAnTWFuYWdlbWVudCcsXG4gKiAgIG5hbWVzcGFjZTogJ2lvJyxcbiAqICAgaWdub3JlQ0k6IHRydWVcbiAqIH1cbiAqL1xuYXN5bmMgZnVuY3Rpb24gbW92ZU1vZGVsKFxuICAgIHNvdXJjZVVSTDogc3RyaW5nLCBkZXN0VVJMOiBzdHJpbmcpOiBQcm9taXNlPE1vZGVsQXJ0aWZhY3RzSW5mbz4ge1xuICBjb25zdCBkZWxldGVTb3VyY2UgPSB0cnVlO1xuICByZXR1cm4gY2xvbmVNb2RlbEludGVybmFsKHNvdXJjZVVSTCwgZGVzdFVSTCwgZGVsZXRlU291cmNlKTtcbn1cblxuZXhwb3J0IHttb3ZlTW9kZWwsIGNvcHlNb2RlbCwgcmVtb3ZlTW9kZWwsIGxpc3RNb2RlbHN9O1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG5pbXBvcnQgJy4uL2ZsYWdzJztcblxuaW1wb3J0IHtlbnZ9IGZyb20gJy4uL2Vudmlyb25tZW50JztcbmltcG9ydCB7QnJvd3NlckluZGV4ZWREQiwgQnJvd3NlckluZGV4ZWREQk1hbmFnZXJ9IGZyb20gJy4uL2lvL2luZGV4ZWRfZGInO1xuaW1wb3J0IHtCcm93c2VyTG9jYWxTdG9yYWdlLCBCcm93c2VyTG9jYWxTdG9yYWdlTWFuYWdlcn0gZnJvbSAnLi4vaW8vbG9jYWxfc3RvcmFnZSc7XG5pbXBvcnQge01vZGVsU3RvcmVNYW5hZ2VyUmVnaXN0cnl9IGZyb20gJy4uL2lvL21vZGVsX21hbmFnZW1lbnQnO1xuXG5pbXBvcnQge1BsYXRmb3JtfSBmcm9tICcuL3BsYXRmb3JtJztcblxuZXhwb3J0IGNsYXNzIFBsYXRmb3JtQnJvd3NlciBpbXBsZW1lbnRzIFBsYXRmb3JtIHtcbiAgLy8gQWNjb3JkaW5nIHRvIHRoZSBzcGVjLCB0aGUgYnVpbHQtaW4gZW5jb2RlciBjYW4gZG8gb25seSBVVEYtOCBlbmNvZGluZy5cbiAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1RleHRFbmNvZGVyL1RleHRFbmNvZGVyXG4gIHByaXZhdGUgdGV4dEVuY29kZXI6IFRleHRFbmNvZGVyO1xuXG4gIGZldGNoKHBhdGg6IHN0cmluZywgaW5pdD86IFJlcXVlc3RJbml0KTogUHJvbWlzZTxSZXNwb25zZT4ge1xuICAgIHJldHVybiBmZXRjaChwYXRoLCBpbml0KTtcbiAgfVxuXG4gIG5vdygpOiBudW1iZXIge1xuICAgIHJldHVybiBwZXJmb3JtYW5jZS5ub3coKTtcbiAgfVxuXG4gIGVuY29kZSh0ZXh0OiBzdHJpbmcsIGVuY29kaW5nOiBzdHJpbmcpOiBVaW50OEFycmF5IHtcbiAgICBpZiAoZW5jb2RpbmcgIT09ICd1dGYtOCcgJiYgZW5jb2RpbmcgIT09ICd1dGY4Jykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgIGBCcm93c2VyJ3MgZW5jb2RlciBvbmx5IHN1cHBvcnRzIHV0Zi04LCBidXQgZ290ICR7ZW5jb2Rpbmd9YCk7XG4gICAgfVxuICAgIGlmICh0aGlzLnRleHRFbmNvZGVyID09IG51bGwpIHtcbiAgICAgIHRoaXMudGV4dEVuY29kZXIgPSBuZXcgVGV4dEVuY29kZXIoKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMudGV4dEVuY29kZXIuZW5jb2RlKHRleHQpO1xuICB9XG4gIGRlY29kZShieXRlczogVWludDhBcnJheSwgZW5jb2Rpbmc6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgcmV0dXJuIG5ldyBUZXh0RGVjb2RlcihlbmNvZGluZykuZGVjb2RlKGJ5dGVzKTtcbiAgfVxufVxuXG5pZiAoZW52KCkuZ2V0KCdJU19CUk9XU0VSJykpIHtcbiAgZW52KCkuc2V0UGxhdGZvcm0oJ2Jyb3dzZXInLCBuZXcgUGxhdGZvcm1Ccm93c2VyKCkpO1xuXG4gIC8vIFJlZ2lzdGVyIExvY2FsU3RvcmFnZSBJT0hhbmRsZXJcbiAgdHJ5IHtcbiAgICBNb2RlbFN0b3JlTWFuYWdlclJlZ2lzdHJ5LnJlZ2lzdGVyTWFuYWdlcihcbiAgICAgICAgQnJvd3NlckxvY2FsU3RvcmFnZS5VUkxfU0NIRU1FLCBuZXcgQnJvd3NlckxvY2FsU3RvcmFnZU1hbmFnZXIoKSk7XG4gIH0gY2F0Y2ggKGVycikge1xuICB9XG5cbiAgLy8gUmVnaXN0ZXIgSW5kZXhlZERCIElPSGFuZGxlclxuICB0cnkge1xuICAgIE1vZGVsU3RvcmVNYW5hZ2VyUmVnaXN0cnkucmVnaXN0ZXJNYW5hZ2VyKFxuICAgICAgICBCcm93c2VySW5kZXhlZERCLlVSTF9TQ0hFTUUsIG5ldyBCcm93c2VySW5kZXhlZERCTWFuYWdlcigpKTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gIH1cbn1cbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cbmltcG9ydCB7ZW52fSBmcm9tICcuLi9lbnZpcm9ubWVudCc7XG5cbmltcG9ydCB7UGxhdGZvcm19IGZyb20gJy4vcGxhdGZvcm0nO1xuXG4vLyBXZSBhcmUgd3JhcHBpbmcgdGhpcyB3aXRoaW4gYW4gb2JqZWN0IHNvIGl0IGNhbiBiZSBzdHViYmVkIGJ5IEphc21pbmUuXG5leHBvcnQgY29uc3QgZ2V0Tm9kZUZldGNoID0ge1xuICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tcmVxdWlyZS1pbXBvcnRzXG4gIGltcG9ydEZldGNoOiAoKSA9PiByZXF1aXJlKCdub2RlLWZldGNoJylcbn07XG5cbnR5cGUgRmV0Y2hGbiA9ICh1cmw6IHN0cmluZywgaW5pdD86IFJlcXVlc3RJbml0KSA9PiBQcm9taXNlPFJlc3BvbnNlPjtcbmxldCBzeXN0ZW1GZXRjaDogRmV0Y2hGbjtcbi8vIFRoZXNlIGdldHRlcnMgYW5kIHNldHRlcnMgYXJlIGZvciB0ZXN0aW5nIHNvIHdlIGRvbid0IGV4cG9ydCBhIG11dGFibGVcbi8vIHZhcmlhYmxlLlxuZXhwb3J0IGZ1bmN0aW9uIHJlc2V0U3lzdGVtRmV0Y2goKSB7XG4gIHN5c3RlbUZldGNoID0gbnVsbDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBzZXRTeXN0ZW1GZXRjaChmZXRjaEZuOiBGZXRjaEZuKSB7XG4gIHN5c3RlbUZldGNoID0gZmV0Y2hGbjtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRTeXN0ZW1GZXRjaCgpOiBGZXRjaEZuIHtcbiAgcmV0dXJuIHN5c3RlbUZldGNoO1xufVxuXG5leHBvcnQgY2xhc3MgUGxhdGZvcm1Ob2RlIGltcGxlbWVudHMgUGxhdGZvcm0ge1xuICBwcml2YXRlIHRleHRFbmNvZGVyOiBUZXh0RW5jb2RlcjtcbiAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWFueVxuICB1dGlsOiBhbnk7XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLXJlcXVpcmUtaW1wb3J0c1xuICAgIHRoaXMudXRpbCA9IHJlcXVpcmUoJ3V0aWwnKTtcbiAgICAvLyBBY2NvcmRpbmcgdG8gdGhlIHNwZWMsIHRoZSBidWlsdC1pbiBlbmNvZGVyIGNhbiBkbyBvbmx5IFVURi04IGVuY29kaW5nLlxuICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9UZXh0RW5jb2Rlci9UZXh0RW5jb2RlclxuICAgIHRoaXMudGV4dEVuY29kZXIgPSBuZXcgdGhpcy51dGlsLlRleHRFbmNvZGVyKCk7XG4gIH1cblxuICBmZXRjaChwYXRoOiBzdHJpbmcsIHJlcXVlc3RJbml0cz86IFJlcXVlc3RJbml0KTogUHJvbWlzZTxSZXNwb25zZT4ge1xuICAgIGlmIChlbnYoKS5nbG9iYWwuZmV0Y2ggIT0gbnVsbCkge1xuICAgICAgcmV0dXJuIGVudigpLmdsb2JhbC5mZXRjaChwYXRoLCByZXF1ZXN0SW5pdHMpO1xuICAgIH1cblxuICAgIGlmIChzeXN0ZW1GZXRjaCA9PSBudWxsKSB7XG4gICAgICBzeXN0ZW1GZXRjaCA9IGdldE5vZGVGZXRjaC5pbXBvcnRGZXRjaCgpO1xuICAgIH1cbiAgICByZXR1cm4gc3lzdGVtRmV0Y2gocGF0aCwgcmVxdWVzdEluaXRzKTtcbiAgfVxuXG4gIG5vdygpOiBudW1iZXIge1xuICAgIGNvbnN0IHRpbWUgPSBwcm9jZXNzLmhydGltZSgpO1xuICAgIHJldHVybiB0aW1lWzBdICogMTAwMCArIHRpbWVbMV0gLyAxMDAwMDAwO1xuICB9XG5cbiAgZW5jb2RlKHRleHQ6IHN0cmluZywgZW5jb2Rpbmc6IHN0cmluZyk6IFVpbnQ4QXJyYXkge1xuICAgIGlmIChlbmNvZGluZyAhPT0gJ3V0Zi04JyAmJiBlbmNvZGluZyAhPT0gJ3V0ZjgnKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgYE5vZGUgYnVpbHQtaW4gZW5jb2RlciBvbmx5IHN1cHBvcnRzIHV0Zi04LCBidXQgZ290ICR7ZW5jb2Rpbmd9YCk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnRleHRFbmNvZGVyLmVuY29kZSh0ZXh0KTtcbiAgfVxuICBkZWNvZGUoYnl0ZXM6IFVpbnQ4QXJyYXksIGVuY29kaW5nOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIGlmIChieXRlcy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiAnJztcbiAgICB9XG4gICAgcmV0dXJuIG5ldyB0aGlzLnV0aWwuVGV4dERlY29kZXIoZW5jb2RpbmcpLmRlY29kZShieXRlcyk7XG4gIH1cbn1cblxuaWYgKGVudigpLmdldCgnSVNfTk9ERScpKSB7XG4gIGVudigpLnNldFBsYXRmb3JtKCdub2RlJywgbmV3IFBsYXRmb3JtTm9kZSgpKTtcbn1cbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuaW1wb3J0IHtUZW5zb3JCdWZmZXJ9IGZyb20gJy4uL3RlbnNvcic7XG5pbXBvcnQge0RhdGFUeXBlLCBEYXRhVHlwZU1hcCwgUmFuaywgU2hhcGVNYXB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCAqIGFzIHV0aWwgZnJvbSAnLi4vdXRpbCc7XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBlbXB0eSBgdGYuVGVuc29yQnVmZmVyYCB3aXRoIHRoZSBzcGVjaWZpZWQgYHNoYXBlYCBhbmQgYGR0eXBlYC5cbiAqXG4gKiBUaGUgdmFsdWVzIGFyZSBzdG9yZWQgaW4gQ1BVIGFzIGBUeXBlZEFycmF5YC4gRmlsbCB0aGUgYnVmZmVyIHVzaW5nXG4gKiBgYnVmZmVyLnNldCgpYCwgb3IgYnkgbW9kaWZ5aW5nIGRpcmVjdGx5IGBidWZmZXIudmFsdWVzYC5cbiAqXG4gKiBXaGVuIGRvbmUsIGNhbGwgYGJ1ZmZlci50b1RlbnNvcigpYCB0byBnZXQgYW4gaW1tdXRhYmxlIGB0Zi5UZW5zb3JgIHdpdGhcbiAqIHRob3NlIHZhbHVlcy5cbiAqXG4gKiBgYGBqc1xuICogLy8gQ3JlYXRlIGEgYnVmZmVyIGFuZCBzZXQgdmFsdWVzIGF0IHBhcnRpY3VsYXIgaW5kaWNlcy5cbiAqIGNvbnN0IGJ1ZmZlciA9IHRmLmJ1ZmZlcihbMiwgMl0pO1xuICogYnVmZmVyLnNldCgzLCAwLCAwKTtcbiAqIGJ1ZmZlci5zZXQoNSwgMSwgMCk7XG4gKlxuICogLy8gQ29udmVydCB0aGUgYnVmZmVyIGJhY2sgdG8gYSB0ZW5zb3IuXG4gKiBidWZmZXIudG9UZW5zb3IoKS5wcmludCgpO1xuICogYGBgXG4gKlxuICogQHBhcmFtIHNoYXBlIEFuIGFycmF5IG9mIGludGVnZXJzIGRlZmluaW5nIHRoZSBvdXRwdXQgdGVuc29yIHNoYXBlLlxuICogQHBhcmFtIGR0eXBlIFRoZSBkdHlwZSBvZiB0aGUgYnVmZmVyLiBEZWZhdWx0cyB0byAnZmxvYXQzMicuXG4gKiBAcGFyYW0gdmFsdWVzIFRoZSB2YWx1ZXMgb2YgdGhlIGJ1ZmZlciBhcyBgVHlwZWRBcnJheWAuIERlZmF1bHRzIHRvXG4gKiB6ZXJvcy5cbiAqXG4gKiBAZG9jIHtoZWFkaW5nOiAnVGVuc29ycycsIHN1YmhlYWRpbmc6ICdDcmVhdGlvbid9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBidWZmZXI8UiBleHRlbmRzIFJhbmssIEQgZXh0ZW5kcyBEYXRhVHlwZSA9ICdmbG9hdDMyJz4oXG4gICAgc2hhcGU6IFNoYXBlTWFwW1JdLCBkdHlwZTogRCA9ICdmbG9hdDMyJyBhcyBELFxuICAgIHZhbHVlcz86IERhdGFUeXBlTWFwW0RdKTogVGVuc29yQnVmZmVyPFIsIEQ+IHtcbiAgZHR5cGUgPSBkdHlwZSB8fCAnZmxvYXQzMicgYXMgRDtcbiAgdXRpbC5hc3NlcnROb25OZWdhdGl2ZUludGVnZXJEaW1lbnNpb25zKHNoYXBlKTtcbiAgcmV0dXJuIG5ldyBUZW5zb3JCdWZmZXI8UiwgRD4oc2hhcGUsIGR0eXBlLCB2YWx1ZXMpO1xufVxuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuaW1wb3J0IHtFTkdJTkV9IGZyb20gJy4uL2VuZ2luZSc7XG5pbXBvcnQge0Nhc3QsIENhc3RBdHRycywgQ2FzdElucHV0c30gZnJvbSAnLi4va2VybmVsX25hbWVzJztcbmltcG9ydCB7TmFtZWRBdHRyTWFwfSBmcm9tICcuLi9rZXJuZWxfcmVnaXN0cnknO1xuaW1wb3J0IHtUZW5zb3J9IGZyb20gJy4uL3RlbnNvcic7XG5pbXBvcnQge05hbWVkVGVuc29yTWFwfSBmcm9tICcuLi90ZW5zb3JfdHlwZXMnO1xuaW1wb3J0IHtjb252ZXJ0VG9UZW5zb3J9IGZyb20gJy4uL3RlbnNvcl91dGlsX2Vudic7XG5pbXBvcnQge0RhdGFUeXBlLCBUZW5zb3JMaWtlfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgKiBhcyB1dGlsIGZyb20gJy4uL3V0aWwnO1xuXG5pbXBvcnQge29wfSBmcm9tICcuL29wZXJhdGlvbic7XG5cbi8qKlxuICogQ2FzdHMgYSBgdGYuVGVuc29yYCB0byBhIG5ldyBkdHlwZS5cbiAqXG4gKiBgYGBqc1xuICogY29uc3QgeCA9IHRmLnRlbnNvcjFkKFsxLjUsIDIuNSwgM10pO1xuICogdGYuY2FzdCh4LCAnaW50MzInKS5wcmludCgpO1xuICogYGBgXG4gKiBAcGFyYW0geCBUaGUgaW5wdXQgdGVuc29yIHRvIGJlIGNhc3RlZC5cbiAqIEBwYXJhbSBkdHlwZSBUaGUgZHR5cGUgdG8gY2FzdCB0aGUgaW5wdXQgdGVuc29yIHRvLlxuICpcbiAqIEBkb2Mge2hlYWRpbmc6ICdUZW5zb3JzJywgc3ViaGVhZGluZzogJ1RyYW5zZm9ybWF0aW9ucyd9XG4gKi9cbmZ1bmN0aW9uIGNhc3RfPFQgZXh0ZW5kcyBUZW5zb3I+KHg6IFR8VGVuc29yTGlrZSwgZHR5cGU6IERhdGFUeXBlKTogVCB7XG4gIGNvbnN0ICR4ID0gY29udmVydFRvVGVuc29yKHgsICd4JywgJ2Nhc3QnKTtcblxuICAvLyBTYW5pdHkgY2hlY2tzLlxuICBpZiAoIXV0aWwuaXNWYWxpZER0eXBlKGR0eXBlKSkge1xuICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGNhc3QgdG8gdW5rbm93biBkdHlwZSAke2R0eXBlfWApO1xuICB9XG4gIGlmIChkdHlwZSA9PT0gJ3N0cmluZycgJiYgJHguZHR5cGUgIT09ICdzdHJpbmcnIHx8XG4gICAgICBkdHlwZSAhPT0gJ3N0cmluZycgJiYgJHguZHR5cGUgPT09ICdzdHJpbmcnKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdPbmx5IHN0cmluZ3MgY2FuIGJlIGNhc3RlZCB0byBzdHJpbmdzJyk7XG4gIH1cblxuICBjb25zdCBpbnB1dHM6IENhc3RJbnB1dHMgPSB7eDogJHh9O1xuICBjb25zdCBhdHRyczogQ2FzdEF0dHJzID0ge2R0eXBlfTtcblxuICByZXR1cm4gRU5HSU5FLnJ1bktlcm5lbEZ1bmMoXG4gICAgICBiYWNrZW5kID0+IGJhY2tlbmQuY2FzdCgkeCwgZHR5cGUpLCBpbnB1dHMgYXMge30gYXMgTmFtZWRUZW5zb3JNYXAsXG4gICAgICBudWxsIC8qIGdyYWQgKi8sIENhc3QsIGF0dHJzIGFzIHt9IGFzIE5hbWVkQXR0ck1hcCk7XG59XG5cbmV4cG9ydCBjb25zdCBjYXN0ID0gb3Aoe2Nhc3RffSk7XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbmltcG9ydCB7RU5HSU5FfSBmcm9tICcuLi9lbmdpbmUnO1xuaW1wb3J0IHtJZGVudGl0eSwgSWRlbnRpdHlJbnB1dHN9IGZyb20gJy4uL2tlcm5lbF9uYW1lcyc7XG5pbXBvcnQge1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yJztcbmltcG9ydCB7TmFtZWRUZW5zb3JNYXB9IGZyb20gJy4uL3RlbnNvcl90eXBlcyc7XG5pbXBvcnQge2NvbnZlcnRUb1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yX3V0aWxfZW52JztcbmltcG9ydCB7VGVuc29yTGlrZX0gZnJvbSAnLi4vdHlwZXMnO1xuXG5pbXBvcnQge29wfSBmcm9tICcuL29wZXJhdGlvbic7XG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyB0ZW5zb3Igd2l0aCB0aGUgc2FtZSB2YWx1ZXMgYW5kIHNoYXBlIGFzIHRoZSBzcGVjaWZpZWRcbiAqIHRlbnNvci5cbiAqXG4gKiBgYGBqc1xuICogY29uc3QgeCA9IHRmLnRlbnNvcihbMSwgMl0pO1xuICpcbiAqIHguY2xvbmUoKS5wcmludCgpO1xuICogYGBgXG4gKlxuICogQHBhcmFtIHggVGhlIHRlbnNvciB0byBjbG9uZS5cbiAqXG4gKiBAZG9jIHtoZWFkaW5nOiAnVGVuc29ycycsIHN1YmhlYWRpbmc6ICdDcmVhdGlvbid9XG4gKi9cbmZ1bmN0aW9uIGNsb25lXzxUIGV4dGVuZHMgVGVuc29yPih4OiBUfFRlbnNvckxpa2UpOiBUIHtcbiAgY29uc3QgJHggPSBjb252ZXJ0VG9UZW5zb3IoeCwgJ3gnLCAnY2xvbmUnLCBudWxsKTtcbiAgY29uc3QgZm9yd2FyZCA9ICgpID0+XG4gICAgICBFTkdJTkUubWFrZVRlbnNvckZyb21EYXRhSWQoJHguZGF0YUlkLCAkeC5zaGFwZSwgJHguZHR5cGUpIGFzIFQ7XG5cbiAgY29uc3QgaW5wdXRzOiBJZGVudGl0eUlucHV0cyA9IHt4OiAkeH07XG5cbiAgLy8gTm90ZSB0aGlzIG9wIGlzIGNhbGxlZCB0Zi5pZGVudGl0eSBpbiBweXRob24uIEhlbmNlIHRoZSBrZXJuZWwgbmFtZSB1c2VkXG4gIC8vIGhlcmUuXG4gIHJldHVybiBFTkdJTkUucnVuS2VybmVsRnVuYyhcbiAgICAgIGZvcndhcmQsIGlucHV0cyBhcyB7fSBhcyBOYW1lZFRlbnNvck1hcCwgbnVsbCAvKiBncmFkICovLCBJZGVudGl0eSk7XG59XG5cbmV4cG9ydCBjb25zdCBjbG9uZSA9IG9wKHtjbG9uZV99KTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuaW1wb3J0IHtUZW5zb3J9IGZyb20gJy4uL3RlbnNvcic7XG5cbi8qKlxuICogUHJpbnRzIGluZm9ybWF0aW9uIGFib3V0IHRoZSBgdGYuVGVuc29yYCBpbmNsdWRpbmcgaXRzIGRhdGEuXG4gKlxuICogYGBganNcbiAqIGNvbnN0IHZlcmJvc2UgPSB0cnVlO1xuICogdGYudGVuc29yMmQoWzEsIDIsIDMsIDRdLCBbMiwgMl0pLnByaW50KHZlcmJvc2UpO1xuICogYGBgXG4gKiBAcGFyYW0geCBUaGUgdGVuc29yIHRvIGJlIHByaW50ZWQuXG4gKiBAcGFyYW0gdmVyYm9zZSBXaGV0aGVyIHRvIHByaW50IHZlcmJvc2UgaW5mb3JtYXRpb24gYWJvdXQgdGhlIGAgVGVuc29yYCxcbiAqIGluY2x1ZGluZyBkdHlwZSBhbmQgc2l6ZS5cbiAqXG4gKiBAZG9jIHtoZWFkaW5nOiAnVGVuc29ycycsIHN1YmhlYWRpbmc6ICdDcmVhdGlvbid9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwcmludDxUIGV4dGVuZHMgVGVuc29yPih4OiBULCB2ZXJib3NlID0gZmFsc2UpOiB2b2lkIHtcbiAgY29uc29sZS5sb2coeC50b1N0cmluZyh2ZXJib3NlKSk7XG59XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbi8vIFJlcXVpcmVkIHNpZGUgZWZmZWN0ZnVsIGNvZGUgZm9yIHRmanMtY29yZVxuXG4vLyBTZXQgdXAgRW5naW5lIGFuZCBFTlZcbmltcG9ydCB7Z2V0T3JNYWtlRW5naW5lfSBmcm9tICcuL2VuZ2luZSc7XG5nZXRPck1ha2VFbmdpbmUoKTtcblxuLy8gUmVnaXN0ZXIgYmFja2VuZC1hZ25vc3RpYyBmbGFncy5cbmltcG9ydCAnLi9mbGFncyc7XG4vLyBSZWdpc3RlciBwbGF0Zm9ybXNcbmltcG9ydCAnLi9wbGF0Zm9ybXMvcGxhdGZvcm1fYnJvd3Nlcic7XG5pbXBvcnQgJy4vcGxhdGZvcm1zL3BsYXRmb3JtX25vZGUnO1xuXG4vLyBTZXQgdXAgT3BIYW5kbGVyXG5pbXBvcnQge2J1ZmZlcn0gZnJvbSAnLi9vcHMvYnVmZmVyJztcbmltcG9ydCB7Y2FzdH0gZnJvbSAnLi9vcHMvY2FzdCc7XG5pbXBvcnQge2Nsb25lfSBmcm9tICcuL29wcy9jbG9uZSc7XG5pbXBvcnQge3ByaW50fSBmcm9tICcuL29wcy9wcmludCc7XG5pbXBvcnQge09wSGFuZGxlciwgc2V0T3BIYW5kbGVyfSBmcm9tICcuL3RlbnNvcic7XG5jb25zdCBvcEhhbmRsZXI6IE9wSGFuZGxlciA9IHtcbiAgYnVmZmVyLFxuICBjYXN0LFxuICBjbG9uZSxcbiAgcHJpbnRcbn07XG5zZXRPcEhhbmRsZXIob3BIYW5kbGVyKTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE4IEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuLyoqXG4gKiBJT0hhbmRsZXJzIHJlbGF0ZWQgdG8gZmlsZXMsIHN1Y2ggYXMgYnJvd3Nlci10cmlnZ2VyZWQgZmlsZSBkb3dubG9hZHMsXG4gKiB1c2VyLXNlbGVjdGVkIGZpbGVzIGluIGJyb3dzZXIuXG4gKi9cblxuaW1wb3J0ICcuLi9mbGFncyc7XG5pbXBvcnQge2Vudn0gZnJvbSAnLi4vZW52aXJvbm1lbnQnO1xuXG5pbXBvcnQge2Jhc2VuYW1lLCBjb25jYXRlbmF0ZUFycmF5QnVmZmVycywgZ2V0TW9kZWxBcnRpZmFjdHNJbmZvRm9ySlNPTn0gZnJvbSAnLi9pb191dGlscyc7XG5pbXBvcnQge0lPUm91dGVyLCBJT1JvdXRlclJlZ2lzdHJ5fSBmcm9tICcuL3JvdXRlcl9yZWdpc3RyeSc7XG5pbXBvcnQge0lPSGFuZGxlciwgTW9kZWxBcnRpZmFjdHMsIE1vZGVsSlNPTiwgU2F2ZVJlc3VsdCwgV2VpZ2h0c01hbmlmZXN0Q29uZmlnLCBXZWlnaHRzTWFuaWZlc3RFbnRyeX0gZnJvbSAnLi90eXBlcyc7XG5cbmNvbnN0IERFRkFVTFRfRklMRV9OQU1FX1BSRUZJWCA9ICdtb2RlbCc7XG5jb25zdCBERUZBVUxUX0pTT05fRVhURU5TSU9OX05BTUUgPSAnLmpzb24nO1xuY29uc3QgREVGQVVMVF9XRUlHSFRfREFUQV9FWFRFTlNJT05fTkFNRSA9ICcud2VpZ2h0cy5iaW4nO1xuXG5mdW5jdGlvbiBkZWZlcjxUPihmOiAoKSA9PiBUKTogUHJvbWlzZTxUPiB7XG4gIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSkpLnRoZW4oZik7XG59XG5cbmV4cG9ydCBjbGFzcyBCcm93c2VyRG93bmxvYWRzIGltcGxlbWVudHMgSU9IYW5kbGVyIHtcbiAgcHJpdmF0ZSByZWFkb25seSBtb2RlbFRvcG9sb2d5RmlsZU5hbWU6IHN0cmluZztcbiAgcHJpdmF0ZSByZWFkb25seSB3ZWlnaHREYXRhRmlsZU5hbWU6IHN0cmluZztcbiAgcHJpdmF0ZSByZWFkb25seSBqc29uQW5jaG9yOiBIVE1MQW5jaG9yRWxlbWVudDtcbiAgcHJpdmF0ZSByZWFkb25seSB3ZWlnaHREYXRhQW5jaG9yOiBIVE1MQW5jaG9yRWxlbWVudDtcblxuICBzdGF0aWMgcmVhZG9ubHkgVVJMX1NDSEVNRSA9ICdkb3dubG9hZHM6Ly8nO1xuXG4gIGNvbnN0cnVjdG9yKGZpbGVOYW1lUHJlZml4Pzogc3RyaW5nKSB7XG4gICAgaWYgKCFlbnYoKS5nZXRCb29sKCdJU19CUk9XU0VSJykpIHtcbiAgICAgIC8vIFRPRE8oY2Fpcyk6IFByb3ZpZGUgaW5mbyBvbiB3aGF0IElPSGFuZGxlcnMgYXJlIGF2YWlsYWJsZSB1bmRlciB0aGVcbiAgICAgIC8vICAgY3VycmVudCBlbnZpcm9ubWVudC5cbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAnYnJvd3NlckRvd25sb2FkcygpIGNhbm5vdCBwcm9jZWVkIGJlY2F1c2UgdGhlIGN1cnJlbnQgZW52aXJvbm1lbnQgJyArXG4gICAgICAgICAgJ2lzIG5vdCBhIGJyb3dzZXIuJyk7XG4gICAgfVxuXG4gICAgaWYgKGZpbGVOYW1lUHJlZml4LnN0YXJ0c1dpdGgoQnJvd3NlckRvd25sb2Fkcy5VUkxfU0NIRU1FKSkge1xuICAgICAgZmlsZU5hbWVQcmVmaXggPSBmaWxlTmFtZVByZWZpeC5zbGljZShCcm93c2VyRG93bmxvYWRzLlVSTF9TQ0hFTUUubGVuZ3RoKTtcbiAgICB9XG4gICAgaWYgKGZpbGVOYW1lUHJlZml4ID09IG51bGwgfHwgZmlsZU5hbWVQcmVmaXgubGVuZ3RoID09PSAwKSB7XG4gICAgICBmaWxlTmFtZVByZWZpeCA9IERFRkFVTFRfRklMRV9OQU1FX1BSRUZJWDtcbiAgICB9XG5cbiAgICB0aGlzLm1vZGVsVG9wb2xvZ3lGaWxlTmFtZSA9IGZpbGVOYW1lUHJlZml4ICsgREVGQVVMVF9KU09OX0VYVEVOU0lPTl9OQU1FO1xuICAgIHRoaXMud2VpZ2h0RGF0YUZpbGVOYW1lID1cbiAgICAgICAgZmlsZU5hbWVQcmVmaXggKyBERUZBVUxUX1dFSUdIVF9EQVRBX0VYVEVOU0lPTl9OQU1FO1xuICB9XG5cbiAgYXN5bmMgc2F2ZShtb2RlbEFydGlmYWN0czogTW9kZWxBcnRpZmFjdHMpOiBQcm9taXNlPFNhdmVSZXN1bHQ+IHtcbiAgICBpZiAodHlwZW9mIChkb2N1bWVudCkgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgJ0Jyb3dzZXIgZG93bmxvYWRzIGFyZSBub3Qgc3VwcG9ydGVkIGluICcgK1xuICAgICAgICAgICd0aGlzIGVudmlyb25tZW50IHNpbmNlIGBkb2N1bWVudGAgaXMgbm90IHByZXNlbnQnKTtcbiAgICB9XG4gICAgY29uc3Qgd2VpZ2h0c1VSTCA9IHdpbmRvdy5VUkwuY3JlYXRlT2JqZWN0VVJMKG5ldyBCbG9iKFxuICAgICAgICBbbW9kZWxBcnRpZmFjdHMud2VpZ2h0RGF0YV0sIHt0eXBlOiAnYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtJ30pKTtcblxuICAgIGlmIChtb2RlbEFydGlmYWN0cy5tb2RlbFRvcG9sb2d5IGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAnQnJvd3NlckRvd25sb2Fkcy5zYXZlKCkgZG9lcyBub3Qgc3VwcG9ydCBzYXZpbmcgbW9kZWwgdG9wb2xvZ3kgJyArXG4gICAgICAgICAgJ2luIGJpbmFyeSBmb3JtYXRzIHlldC4nKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3Qgd2VpZ2h0c01hbmlmZXN0OiBXZWlnaHRzTWFuaWZlc3RDb25maWcgPSBbe1xuICAgICAgICBwYXRoczogWycuLycgKyB0aGlzLndlaWdodERhdGFGaWxlTmFtZV0sXG4gICAgICAgIHdlaWdodHM6IG1vZGVsQXJ0aWZhY3RzLndlaWdodFNwZWNzXG4gICAgICB9XTtcbiAgICAgIGNvbnN0IG1vZGVsVG9wb2xvZ3lBbmRXZWlnaHRNYW5pZmVzdDogTW9kZWxKU09OID0ge1xuICAgICAgICBtb2RlbFRvcG9sb2d5OiBtb2RlbEFydGlmYWN0cy5tb2RlbFRvcG9sb2d5LFxuICAgICAgICBmb3JtYXQ6IG1vZGVsQXJ0aWZhY3RzLmZvcm1hdCxcbiAgICAgICAgZ2VuZXJhdGVkQnk6IG1vZGVsQXJ0aWZhY3RzLmdlbmVyYXRlZEJ5LFxuICAgICAgICBjb252ZXJ0ZWRCeTogbW9kZWxBcnRpZmFjdHMuY29udmVydGVkQnksXG4gICAgICAgIHdlaWdodHNNYW5pZmVzdFxuICAgICAgfTtcbiAgICAgIGNvbnN0IG1vZGVsVG9wb2xvZ3lBbmRXZWlnaHRNYW5pZmVzdFVSTCA9XG4gICAgICAgICAgd2luZG93LlVSTC5jcmVhdGVPYmplY3RVUkwobmV3IEJsb2IoXG4gICAgICAgICAgICAgIFtKU09OLnN0cmluZ2lmeShtb2RlbFRvcG9sb2d5QW5kV2VpZ2h0TWFuaWZlc3QpXSxcbiAgICAgICAgICAgICAge3R5cGU6ICdhcHBsaWNhdGlvbi9qc29uJ30pKTtcblxuICAgICAgLy8gSWYgYW5jaG9yIGVsZW1lbnRzIGFyZSBub3QgcHJvdmlkZWQsIGNyZWF0ZSB0aGVtIHdpdGhvdXQgYXR0YWNoaW5nIHRoZW1cbiAgICAgIC8vIHRvIHBhcmVudHMsIHNvIHRoYXQgdGhlIGRvd25sb2FkZWQgZmlsZSBuYW1lcyBjYW4gYmUgY29udHJvbGxlZC5cbiAgICAgIGNvbnN0IGpzb25BbmNob3IgPSB0aGlzLmpzb25BbmNob3IgPT0gbnVsbCA/IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmpzb25BbmNob3I7XG4gICAgICBqc29uQW5jaG9yLmRvd25sb2FkID0gdGhpcy5tb2RlbFRvcG9sb2d5RmlsZU5hbWU7XG4gICAgICBqc29uQW5jaG9yLmhyZWYgPSBtb2RlbFRvcG9sb2d5QW5kV2VpZ2h0TWFuaWZlc3RVUkw7XG4gICAgICAvLyBUcmlnZ2VyIGRvd25sb2FkcyBieSBldm9raW5nIGEgY2xpY2sgZXZlbnQgb24gdGhlIGRvd25sb2FkIGFuY2hvcnMuXG4gICAgICAvLyBXaGVuIG11bHRpcGxlIGRvd25sb2FkcyBhcmUgc3RhcnRlZCBzeW5jaHJvbm91c2x5LCBGaXJlZm94IHdpbGwgb25seVxuICAgICAgLy8gc2F2ZSB0aGUgbGFzdCBvbmUuXG4gICAgICBhd2FpdCBkZWZlcigoKSA9PiBqc29uQW5jaG9yLmRpc3BhdGNoRXZlbnQobmV3IE1vdXNlRXZlbnQoJ2NsaWNrJykpKTtcblxuICAgICAgaWYgKG1vZGVsQXJ0aWZhY3RzLndlaWdodERhdGEgIT0gbnVsbCkge1xuICAgICAgICBjb25zdCB3ZWlnaHREYXRhQW5jaG9yID0gdGhpcy53ZWlnaHREYXRhQW5jaG9yID09IG51bGwgP1xuICAgICAgICAgICAgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpIDpcbiAgICAgICAgICAgIHRoaXMud2VpZ2h0RGF0YUFuY2hvcjtcbiAgICAgICAgd2VpZ2h0RGF0YUFuY2hvci5kb3dubG9hZCA9IHRoaXMud2VpZ2h0RGF0YUZpbGVOYW1lO1xuICAgICAgICB3ZWlnaHREYXRhQW5jaG9yLmhyZWYgPSB3ZWlnaHRzVVJMO1xuICAgICAgICBhd2FpdCBkZWZlcihcbiAgICAgICAgICAgICgpID0+IHdlaWdodERhdGFBbmNob3IuZGlzcGF0Y2hFdmVudChuZXcgTW91c2VFdmVudCgnY2xpY2snKSkpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4ge21vZGVsQXJ0aWZhY3RzSW5mbzogZ2V0TW9kZWxBcnRpZmFjdHNJbmZvRm9ySlNPTihtb2RlbEFydGlmYWN0cyl9O1xuICAgIH1cbiAgfVxufVxuXG5jbGFzcyBCcm93c2VyRmlsZXMgaW1wbGVtZW50cyBJT0hhbmRsZXIge1xuICBwcml2YXRlIHJlYWRvbmx5IGZpbGVzOiBGaWxlW107XG5cbiAgY29uc3RydWN0b3IoZmlsZXM6IEZpbGVbXSkge1xuICAgIGlmIChmaWxlcyA9PSBudWxsIHx8IGZpbGVzLmxlbmd0aCA8IDEpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICBgV2hlbiBjYWxsaW5nIGJyb3dzZXJGaWxlcywgYXQgbGVhc3QgMSBmaWxlIGlzIHJlcXVpcmVkLCBgICtcbiAgICAgICAgICBgYnV0IHJlY2VpdmVkICR7ZmlsZXN9YCk7XG4gICAgfVxuICAgIHRoaXMuZmlsZXMgPSBmaWxlcztcbiAgfVxuXG4gIGFzeW5jIGxvYWQoKTogUHJvbWlzZTxNb2RlbEFydGlmYWN0cz4ge1xuICAgIGNvbnN0IGpzb25GaWxlID0gdGhpcy5maWxlc1swXTtcbiAgICBjb25zdCB3ZWlnaHRGaWxlcyA9IHRoaXMuZmlsZXMuc2xpY2UoMSk7XG5cbiAgICByZXR1cm4gbmV3IFByb21pc2U8TW9kZWxBcnRpZmFjdHM+KChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGNvbnN0IGpzb25SZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuICAgICAganNvblJlYWRlci5vbmxvYWQgPSAoZXZlbnQ6IEV2ZW50KSA9PiB7XG4gICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1hbnlcbiAgICAgICAgY29uc3QgbW9kZWxKU09OID0gSlNPTi5wYXJzZSgoZXZlbnQudGFyZ2V0IGFzIGFueSkucmVzdWx0KSBhcyBNb2RlbEpTT047XG4gICAgICAgIGNvbnN0IG1vZGVsVG9wb2xvZ3kgPSBtb2RlbEpTT04ubW9kZWxUb3BvbG9neTtcbiAgICAgICAgaWYgKG1vZGVsVG9wb2xvZ3kgPT0gbnVsbCkge1xuICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoXG4gICAgICAgICAgICAgIGBtb2RlbFRvcG9sb2d5IGZpZWxkIGlzIG1pc3NpbmcgZnJvbSBmaWxlICR7anNvbkZpbGUubmFtZX1gKSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHdlaWdodEZpbGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIHJlc29sdmUoe21vZGVsVG9wb2xvZ3l9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHdlaWdodHNNYW5pZmVzdCA9IG1vZGVsSlNPTi53ZWlnaHRzTWFuaWZlc3Q7XG4gICAgICAgIGlmICh3ZWlnaHRzTWFuaWZlc3QgPT0gbnVsbCkge1xuICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoXG4gICAgICAgICAgICAgIGB3ZWlnaHRNYW5pZmVzdCBmaWVsZCBpcyBtaXNzaW5nIGZyb20gZmlsZSAke2pzb25GaWxlLm5hbWV9YCkpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBwYXRoVG9GaWxlOiB7W3BhdGg6IHN0cmluZ106IEZpbGV9O1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHBhdGhUb0ZpbGUgPVxuICAgICAgICAgICAgICB0aGlzLmNoZWNrTWFuaWZlc3RBbmRXZWlnaHRGaWxlcyh3ZWlnaHRzTWFuaWZlc3QsIHdlaWdodEZpbGVzKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgd2VpZ2h0U3BlY3M6IFdlaWdodHNNYW5pZmVzdEVudHJ5W10gPSBbXTtcbiAgICAgICAgY29uc3QgcGF0aHM6IHN0cmluZ1tdID0gW107XG4gICAgICAgIGNvbnN0IHBlckZpbGVCdWZmZXJzOiBBcnJheUJ1ZmZlcltdID0gW107XG4gICAgICAgIHdlaWdodHNNYW5pZmVzdC5mb3JFYWNoKHdlaWdodHNHcm91cCA9PiB7XG4gICAgICAgICAgd2VpZ2h0c0dyb3VwLnBhdGhzLmZvckVhY2gocGF0aCA9PiB7XG4gICAgICAgICAgICBwYXRocy5wdXNoKHBhdGgpO1xuICAgICAgICAgICAgcGVyRmlsZUJ1ZmZlcnMucHVzaChudWxsKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICB3ZWlnaHRTcGVjcy5wdXNoKC4uLndlaWdodHNHcm91cC53ZWlnaHRzKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgd2VpZ2h0c01hbmlmZXN0LmZvckVhY2god2VpZ2h0c0dyb3VwID0+IHtcbiAgICAgICAgICB3ZWlnaHRzR3JvdXAucGF0aHMuZm9yRWFjaChwYXRoID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHdlaWdodEZpbGVSZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuICAgICAgICAgICAgd2VpZ2h0RmlsZVJlYWRlci5vbmxvYWQgPSAoZXZlbnQ6IEV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1hbnlcbiAgICAgICAgICAgICAgY29uc3Qgd2VpZ2h0RGF0YSA9IChldmVudC50YXJnZXQgYXMgYW55KS5yZXN1bHQgYXMgQXJyYXlCdWZmZXI7XG4gICAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gcGF0aHMuaW5kZXhPZihwYXRoKTtcbiAgICAgICAgICAgICAgcGVyRmlsZUJ1ZmZlcnNbaW5kZXhdID0gd2VpZ2h0RGF0YTtcbiAgICAgICAgICAgICAgaWYgKHBlckZpbGVCdWZmZXJzLmluZGV4T2YobnVsbCkgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSh7XG4gICAgICAgICAgICAgICAgICBtb2RlbFRvcG9sb2d5LFxuICAgICAgICAgICAgICAgICAgd2VpZ2h0U3BlY3MsXG4gICAgICAgICAgICAgICAgICB3ZWlnaHREYXRhOiBjb25jYXRlbmF0ZUFycmF5QnVmZmVycyhwZXJGaWxlQnVmZmVycyksXG4gICAgICAgICAgICAgICAgICBmb3JtYXQ6IG1vZGVsSlNPTi5mb3JtYXQsXG4gICAgICAgICAgICAgICAgICBnZW5lcmF0ZWRCeTogbW9kZWxKU09OLmdlbmVyYXRlZEJ5LFxuICAgICAgICAgICAgICAgICAgY29udmVydGVkQnk6IG1vZGVsSlNPTi5jb252ZXJ0ZWRCeSxcbiAgICAgICAgICAgICAgICAgIHVzZXJEZWZpbmVkTWV0YWRhdGE6IG1vZGVsSlNPTi51c2VyRGVmaW5lZE1ldGFkYXRhXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB3ZWlnaHRGaWxlUmVhZGVyLm9uZXJyb3IgPSBlcnJvciA9PlxuICAgICAgICAgICAgICAgIHJlamVjdChgRmFpbGVkIHRvIHdlaWdodHMgZGF0YSBmcm9tIGZpbGUgb2YgcGF0aCAnJHtwYXRofScuYCk7XG4gICAgICAgICAgICB3ZWlnaHRGaWxlUmVhZGVyLnJlYWRBc0FycmF5QnVmZmVyKHBhdGhUb0ZpbGVbcGF0aF0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH07XG4gICAgICBqc29uUmVhZGVyLm9uZXJyb3IgPSBlcnJvciA9PiByZWplY3QoXG4gICAgICAgICAgYEZhaWxlZCB0byByZWFkIG1vZGVsIHRvcG9sb2d5IGFuZCB3ZWlnaHRzIG1hbmlmZXN0IEpTT04gYCArXG4gICAgICAgICAgYGZyb20gZmlsZSAnJHtqc29uRmlsZS5uYW1lfScuIEJyb3dzZXJGaWxlcyBzdXBwb3J0cyBsb2FkaW5nIGAgK1xuICAgICAgICAgIGBLZXJhcy1zdHlsZSB0Zi5Nb2RlbCBhcnRpZmFjdHMgb25seS5gKTtcbiAgICAgIGpzb25SZWFkZXIucmVhZEFzVGV4dChqc29uRmlsZSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2sgdGhlIGNvbXBhdGliaWxpdHkgYmV0d2VlbiB3ZWlnaHRzIG1hbmlmZXN0IGFuZCB3ZWlnaHQgZmlsZXMuXG4gICAqL1xuICBwcml2YXRlIGNoZWNrTWFuaWZlc3RBbmRXZWlnaHRGaWxlcyhcbiAgICAgIG1hbmlmZXN0OiBXZWlnaHRzTWFuaWZlc3RDb25maWcsIGZpbGVzOiBGaWxlW10pOiB7W3BhdGg6IHN0cmluZ106IEZpbGV9IHtcbiAgICBjb25zdCBiYXNlbmFtZXM6IHN0cmluZ1tdID0gW107XG4gICAgY29uc3QgZmlsZU5hbWVzID0gZmlsZXMubWFwKGZpbGUgPT4gYmFzZW5hbWUoZmlsZS5uYW1lKSk7XG4gICAgY29uc3QgcGF0aFRvRmlsZToge1twYXRoOiBzdHJpbmddOiBGaWxlfSA9IHt9O1xuICAgIGZvciAoY29uc3QgZ3JvdXAgb2YgbWFuaWZlc3QpIHtcbiAgICAgIGdyb3VwLnBhdGhzLmZvckVhY2gocGF0aCA9PiB7XG4gICAgICAgIGNvbnN0IHBhdGhCYXNlbmFtZSA9IGJhc2VuYW1lKHBhdGgpO1xuICAgICAgICBpZiAoYmFzZW5hbWVzLmluZGV4T2YocGF0aEJhc2VuYW1lKSAhPT0gLTEpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgICAgIGBEdXBsaWNhdGUgZmlsZSBiYXNlbmFtZSBmb3VuZCBpbiB3ZWlnaHRzIG1hbmlmZXN0OiBgICtcbiAgICAgICAgICAgICAgYCcke3BhdGhCYXNlbmFtZX0nYCk7XG4gICAgICAgIH1cbiAgICAgICAgYmFzZW5hbWVzLnB1c2gocGF0aEJhc2VuYW1lKTtcbiAgICAgICAgaWYgKGZpbGVOYW1lcy5pbmRleE9mKHBhdGhCYXNlbmFtZSkgPT09IC0xKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgICBgV2VpZ2h0IGZpbGUgd2l0aCBiYXNlbmFtZSAnJHtwYXRoQmFzZW5hbWV9JyBpcyBub3QgcHJvdmlkZWQuYCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGF0aFRvRmlsZVtwYXRoXSA9IGZpbGVzW2ZpbGVOYW1lcy5pbmRleE9mKHBhdGhCYXNlbmFtZSldO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAoYmFzZW5hbWVzLmxlbmd0aCAhPT0gZmlsZXMubGVuZ3RoKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgYE1pc21hdGNoIGluIHRoZSBudW1iZXIgb2YgZmlsZXMgaW4gd2VpZ2h0cyBtYW5pZmVzdCBgICtcbiAgICAgICAgICBgKCR7YmFzZW5hbWVzLmxlbmd0aH0pIGFuZCB0aGUgbnVtYmVyIG9mIHdlaWdodCBmaWxlcyBwcm92aWRlZCBgICtcbiAgICAgICAgICBgKCR7ZmlsZXMubGVuZ3RofSkuYCk7XG4gICAgfVxuICAgIHJldHVybiBwYXRoVG9GaWxlO1xuICB9XG59XG5cbmV4cG9ydCBjb25zdCBicm93c2VyRG93bmxvYWRzUm91dGVyOiBJT1JvdXRlciA9ICh1cmw6IHN0cmluZ3xzdHJpbmdbXSkgPT4ge1xuICBpZiAoIWVudigpLmdldEJvb2woJ0lTX0JST1dTRVInKSkge1xuICAgIHJldHVybiBudWxsO1xuICB9IGVsc2Uge1xuICAgIGlmICghQXJyYXkuaXNBcnJheSh1cmwpICYmIHVybC5zdGFydHNXaXRoKEJyb3dzZXJEb3dubG9hZHMuVVJMX1NDSEVNRSkpIHtcbiAgICAgIHJldHVybiBicm93c2VyRG93bmxvYWRzKHVybC5zbGljZShCcm93c2VyRG93bmxvYWRzLlVSTF9TQ0hFTUUubGVuZ3RoKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxufTtcbklPUm91dGVyUmVnaXN0cnkucmVnaXN0ZXJTYXZlUm91dGVyKGJyb3dzZXJEb3dubG9hZHNSb3V0ZXIpO1xuXG4vKipcbiAqIENyZWF0ZXMgYW4gSU9IYW5kbGVyIHRoYXQgdHJpZ2dlcnMgZmlsZSBkb3dubG9hZHMgZnJvbSB0aGUgYnJvd3Nlci5cbiAqXG4gKiBUaGUgcmV0dXJuZWQgYElPSGFuZGxlcmAgaW5zdGFuY2UgY2FuIGJlIHVzZWQgYXMgbW9kZWwgZXhwb3J0aW5nIG1ldGhvZHMgc3VjaFxuICogYXMgYHRmLk1vZGVsLnNhdmVgIGFuZCBzdXBwb3J0cyBvbmx5IHNhdmluZy5cbiAqXG4gKiBgYGBqc1xuICogY29uc3QgbW9kZWwgPSB0Zi5zZXF1ZW50aWFsKCk7XG4gKiBtb2RlbC5hZGQodGYubGF5ZXJzLmRlbnNlKFxuICogICAgIHt1bml0czogMSwgaW5wdXRTaGFwZTogWzEwXSwgYWN0aXZhdGlvbjogJ3NpZ21vaWQnfSkpO1xuICogY29uc3Qgc2F2ZVJlc3VsdCA9IGF3YWl0IG1vZGVsLnNhdmUoJ2Rvd25sb2FkczovL215bW9kZWwnKTtcbiAqIC8vIFRoaXMgd2lsbCB0cmlnZ2VyIGRvd25sb2FkaW5nIG9mIHR3byBmaWxlczpcbiAqIC8vICAgJ215bW9kZWwuanNvbicgYW5kICdteW1vZGVsLndlaWdodHMuYmluJy5cbiAqIGNvbnNvbGUubG9nKHNhdmVSZXN1bHQpO1xuICogYGBgXG4gKlxuICogQHBhcmFtIGZpbGVOYW1lUHJlZml4IFByZWZpeCBuYW1lIG9mIHRoZSBmaWxlcyB0byBiZSBkb3dubG9hZGVkLiBGb3IgdXNlIHdpdGhcbiAqICAgYHRmLk1vZGVsYCwgYGZpbGVOYW1lUHJlZml4YCBzaG91bGQgZm9sbG93IGVpdGhlciBvZiB0aGUgZm9sbG93aW5nIHR3b1xuICogICBmb3JtYXRzOlxuICogICAxLiBgbnVsbGAgb3IgYHVuZGVmaW5lZGAsIGluIHdoaWNoIGNhc2UgdGhlIGRlZmF1bHQgZmlsZVxuICogICAgICBuYW1lcyB3aWxsIGJlIHVzZWQ6XG4gKiAgICAgIC0gJ21vZGVsLmpzb24nIGZvciB0aGUgSlNPTiBmaWxlIGNvbnRhaW5pbmcgdGhlIG1vZGVsIHRvcG9sb2d5IGFuZFxuICogICAgICAgIHdlaWdodHMgbWFuaWZlc3QuXG4gKiAgICAgIC0gJ21vZGVsLndlaWdodHMuYmluJyBmb3IgdGhlIGJpbmFyeSBmaWxlIGNvbnRhaW5pbmcgdGhlIGJpbmFyeSB3ZWlnaHRcbiAqICAgICAgICB2YWx1ZXMuXG4gKiAgIDIuIEEgc2luZ2xlIHN0cmluZyBvciBhbiBBcnJheSBvZiBhIHNpbmdsZSBzdHJpbmcsIGFzIHRoZSBmaWxlIG5hbWUgcHJlZml4LlxuICogICAgICBGb3IgZXhhbXBsZSwgaWYgYCdmb28nYCBpcyBwcm92aWRlZCwgdGhlIGRvd25sb2FkZWQgSlNPTlxuICogICAgICBmaWxlIGFuZCBiaW5hcnkgd2VpZ2h0cyBmaWxlIHdpbGwgYmUgbmFtZWQgJ2Zvby5qc29uJyBhbmRcbiAqICAgICAgJ2Zvby53ZWlnaHRzLmJpbicsIHJlc3BlY3RpdmVseS5cbiAqIEBwYXJhbSBjb25maWcgQWRkaXRpb25hbCBjb25maWd1cmF0aW9uIGZvciB0cmlnZ2VyaW5nIGRvd25sb2Fkcy5cbiAqIEByZXR1cm5zIEFuIGluc3RhbmNlIG9mIGBCcm93c2VyRG93bmxvYWRzYCBgSU9IYW5kbGVyYC5cbiAqXG4gKiBAZG9jIHtcbiAqICAgaGVhZGluZzogJ01vZGVscycsXG4gKiAgIHN1YmhlYWRpbmc6ICdMb2FkaW5nJyxcbiAqICAgbmFtZXNwYWNlOiAnaW8nLFxuICogICBpZ25vcmVDSTogdHJ1ZVxuICogfVxuICovXG5leHBvcnQgZnVuY3Rpb24gYnJvd3NlckRvd25sb2FkcyhmaWxlTmFtZVByZWZpeCA9ICdtb2RlbCcpOiBJT0hhbmRsZXIge1xuICByZXR1cm4gbmV3IEJyb3dzZXJEb3dubG9hZHMoZmlsZU5hbWVQcmVmaXgpO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYW4gSU9IYW5kbGVyIHRoYXQgbG9hZHMgbW9kZWwgYXJ0aWZhY3RzIGZyb20gdXNlci1zZWxlY3RlZCBmaWxlcy5cbiAqXG4gKiBUaGlzIG1ldGhvZCBjYW4gYmUgdXNlZCBmb3IgbG9hZGluZyBmcm9tIGZpbGVzIHN1Y2ggYXMgdXNlci1zZWxlY3RlZCBmaWxlc1xuICogaW4gdGhlIGJyb3dzZXIuXG4gKiBXaGVuIHVzZWQgaW4gY29uanVuY3Rpb24gd2l0aCBgdGYubG9hZExheWVyc01vZGVsYCwgYW4gaW5zdGFuY2Ugb2ZcbiAqIGB0Zi5MYXllcnNNb2RlbGAgKEtlcmFzLXN0eWxlKSBjYW4gYmUgY29uc3RydWN0ZWQgZnJvbSB0aGUgbG9hZGVkIGFydGlmYWN0cy5cbiAqXG4gKiBgYGBqc1xuICogLy8gTm90ZTogVGhpcyBjb2RlIHNuaXBwZXQgd29uJ3QgcnVuIHByb3Blcmx5IHdpdGhvdXQgdGhlIGFjdHVhbCBmaWxlIGlucHV0XG4gKiAvLyAgIGVsZW1lbnRzIGluIHRoZSBIVE1MIERPTS5cbiAqXG4gKiAvLyBTdXBwb3NlIHRoZXJlIGFyZSB0d28gSFRNTCBmaWxlIGlucHV0IChgPGlucHV0IHR5cGU9XCJmaWxlXCIgLi4uPmApXG4gKiAvLyBlbGVtZW50cy5cbiAqIGNvbnN0IHVwbG9hZEpTT05JbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1cGxvYWQtanNvbicpO1xuICogY29uc3QgdXBsb2FkV2VpZ2h0c0lucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VwbG9hZC13ZWlnaHRzJyk7XG4gKiBjb25zdCBtb2RlbCA9IGF3YWl0IHRmLmxvYWRMYXllcnNNb2RlbCh0Zi5pby5icm93c2VyRmlsZXMoXG4gKiAgICAgW3VwbG9hZEpTT05JbnB1dC5maWxlc1swXSwgdXBsb2FkV2VpZ2h0c0lucHV0LmZpbGVzWzBdXSkpO1xuICogYGBgXG4gKlxuICogQHBhcmFtIGZpbGVzIGBGaWxlYHMgdG8gbG9hZCBmcm9tLiBDdXJyZW50bHksIHRoaXMgZnVuY3Rpb24gc3VwcG9ydHMgb25seVxuICogICBsb2FkaW5nIGZyb20gZmlsZXMgdGhhdCBjb250YWluIEtlcmFzLXN0eWxlIG1vZGVscyAoaS5lLiwgYHRmLk1vZGVsYHMpLCBmb3JcbiAqICAgd2hpY2ggYW4gYEFycmF5YCBvZiBgRmlsZWBzIGlzIGV4cGVjdGVkIChpbiB0aGF0IG9yZGVyKTpcbiAqICAgLSBBIEpTT04gZmlsZSBjb250YWluaW5nIHRoZSBtb2RlbCB0b3BvbG9neSBhbmQgd2VpZ2h0IG1hbmlmZXN0LlxuICogICAtIE9wdGlvbmFsbHksIE9uZSBvciBtb3JlIGJpbmFyeSBmaWxlcyBjb250YWluaW5nIHRoZSBiaW5hcnkgd2VpZ2h0cy5cbiAqICAgICBUaGVzZSBmaWxlcyBtdXN0IGhhdmUgbmFtZXMgdGhhdCBtYXRjaCB0aGUgcGF0aHMgaW4gdGhlIGB3ZWlnaHRzTWFuaWZlc3RgXG4gKiAgICAgY29udGFpbmVkIGJ5IHRoZSBhZm9yZW1lbnRpb25lZCBKU09OIGZpbGUsIG9yIGVycm9ycyB3aWxsIGJlIHRocm93blxuICogICAgIGR1cmluZyBsb2FkaW5nLiBUaGVzZSB3ZWlnaHRzIGZpbGVzIGhhdmUgdGhlIHNhbWUgZm9ybWF0IGFzIHRoZSBvbmVzXG4gKiAgICAgZ2VuZXJhdGVkIGJ5IGB0ZW5zb3JmbG93anNfY29udmVydGVyYCB0aGF0IGNvbWVzIHdpdGggdGhlIGB0ZW5zb3JmbG93anNgXG4gKiAgICAgUHl0aG9uIFBJUCBwYWNrYWdlLiBJZiBubyB3ZWlnaHRzIGZpbGVzIGFyZSBwcm92aWRlZCwgb25seSB0aGUgbW9kZWxcbiAqICAgICB0b3BvbG9neSB3aWxsIGJlIGxvYWRlZCBmcm9tIHRoZSBKU09OIGZpbGUgYWJvdmUuXG4gKiBAcmV0dXJucyBBbiBpbnN0YW5jZSBvZiBgRmlsZXNgIGBJT0hhbmRsZXJgLlxuICpcbiAqIEBkb2Mge1xuICogICBoZWFkaW5nOiAnTW9kZWxzJyxcbiAqICAgc3ViaGVhZGluZzogJ0xvYWRpbmcnLFxuICogICBuYW1lc3BhY2U6ICdpbycsXG4gKiAgIGlnbm9yZUNJOiB0cnVlXG4gKiB9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBicm93c2VyRmlsZXMoZmlsZXM6IEZpbGVbXSk6IElPSGFuZGxlciB7XG4gIHJldHVybiBuZXcgQnJvd3NlckZpbGVzKGZpbGVzKTtcbn1cbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuaW1wb3J0IHthc3NlcnR9IGZyb20gJy4uL3V0aWwnO1xuXG5pbXBvcnQge09uUHJvZ3Jlc3NDYWxsYmFja30gZnJvbSAnLi90eXBlcyc7XG5cbi8qKlxuICogTW9uaXRvciBQcm9taXNlLmFsbCBwcm9ncmVzcywgZmlyZSBvblByb2dyZXNzIGNhbGxiYWNrIGZ1bmN0aW9uLlxuICpcbiAqIEBwYXJhbSBwcm9taXNlcyBQcm9taXNlIGxpc3QgZ29pbmcgdG8gYmUgbW9uaXRvcmVkXG4gKiBAcGFyYW0gb25Qcm9ncmVzcyBDYWxsYmFjayBmdW5jdGlvbi4gRmlyZWQgd2hlbiBhIHByb21pc2UgcmVzb2x2ZWQuXG4gKiBAcGFyYW0gc3RhcnRGcmFjdGlvbiBPcHRpb25hbCBmcmFjdGlvbiBzdGFydC4gRGVmYXVsdCB0byAwLlxuICogQHBhcmFtIGVuZEZyYWN0aW9uIE9wdGlvbmFsIGZyYWN0aW9uIGVuZC4gRGVmYXVsdCB0byAxLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbW9uaXRvclByb21pc2VzUHJvZ3Jlc3MoXG4gICAgcHJvbWlzZXM6IEFycmF5PFByb21pc2U8e318dm9pZD4+LCBvblByb2dyZXNzOiBPblByb2dyZXNzQ2FsbGJhY2ssXG4gICAgc3RhcnRGcmFjdGlvbj86IG51bWJlciwgZW5kRnJhY3Rpb24/OiBudW1iZXIpIHtcbiAgY2hlY2tQcm9taXNlcyhwcm9taXNlcyk7XG4gIHN0YXJ0RnJhY3Rpb24gPSBzdGFydEZyYWN0aW9uID09IG51bGwgPyAwIDogc3RhcnRGcmFjdGlvbjtcbiAgZW5kRnJhY3Rpb24gPSBlbmRGcmFjdGlvbiA9PSBudWxsID8gMSA6IGVuZEZyYWN0aW9uO1xuICBjaGVja0ZyYWN0aW9uKHN0YXJ0RnJhY3Rpb24sIGVuZEZyYWN0aW9uKTtcbiAgbGV0IHJlc29sdmVkUHJvbWlzZSA9IDA7XG5cbiAgY29uc3QgcmVnaXN0ZXJNb25pdG9yID0gKHByb21pc2U6IFByb21pc2U8e30+KSA9PiB7XG4gICAgcHJvbWlzZS50aGVuKHZhbHVlID0+IHtcbiAgICAgIGNvbnN0IGZyYWN0aW9uID0gc3RhcnRGcmFjdGlvbiArXG4gICAgICAgICAgKytyZXNvbHZlZFByb21pc2UgLyBwcm9taXNlcy5sZW5ndGggKiAoZW5kRnJhY3Rpb24gLSBzdGFydEZyYWN0aW9uKTtcbiAgICAgIC8vIHBhc3MgZnJhY3Rpb24gYXMgcGFyYW1ldGVyIHRvIGNhbGxiYWNrIGZ1bmN0aW9uLlxuICAgICAgb25Qcm9ncmVzcyhmcmFjdGlvbik7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfSk7XG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH07XG5cbiAgZnVuY3Rpb24gY2hlY2tQcm9taXNlcyhwcm9taXNlczogQXJyYXk8UHJvbWlzZTx7fXx2b2lkPj4pOiB2b2lkIHtcbiAgICBhc3NlcnQoXG4gICAgICAgIHByb21pc2VzICE9IG51bGwgJiYgQXJyYXkuaXNBcnJheShwcm9taXNlcykgJiYgcHJvbWlzZXMubGVuZ3RoID4gMCxcbiAgICAgICAgKCkgPT4gJ3Byb21pc2VzIG11c3QgYmUgYSBub25lIGVtcHR5IGFycmF5Jyk7XG4gIH1cblxuICBmdW5jdGlvbiBjaGVja0ZyYWN0aW9uKHN0YXJ0RnJhY3Rpb246IG51bWJlciwgZW5kRnJhY3Rpb246IG51bWJlcik6IHZvaWQge1xuICAgIGFzc2VydChcbiAgICAgICAgc3RhcnRGcmFjdGlvbiA+PSAwICYmIHN0YXJ0RnJhY3Rpb24gPD0gMSxcbiAgICAgICAgKCkgPT4gYFByb2dyZXNzIGZyYWN0aW9uIG11c3QgYmUgaW4gcmFuZ2UgWzAsIDFdLCBidXQgYCArXG4gICAgICAgICAgICBgZ290IHN0YXJ0RnJhY3Rpb24gJHtzdGFydEZyYWN0aW9ufWApO1xuICAgIGFzc2VydChcbiAgICAgICAgZW5kRnJhY3Rpb24gPj0gMCAmJiBlbmRGcmFjdGlvbiA8PSAxLFxuICAgICAgICAoKSA9PiBgUHJvZ3Jlc3MgZnJhY3Rpb24gbXVzdCBiZSBpbiByYW5nZSBbMCwgMV0sIGJ1dCBgICtcbiAgICAgICAgICAgIGBnb3QgZW5kRnJhY3Rpb24gJHtlbmRGcmFjdGlvbn1gKTtcbiAgICBhc3NlcnQoXG4gICAgICAgIGVuZEZyYWN0aW9uID49IHN0YXJ0RnJhY3Rpb24sXG4gICAgICAgICgpID0+IGBzdGFydEZyYWN0aW9uIG11c3QgYmUgbm8gbW9yZSB0aGFuIGVuZEZyYWN0aW9uLCBidXQgYCArXG4gICAgICAgICAgICBgZ290IHN0YXJ0RnJhY3Rpb24gJHtzdGFydEZyYWN0aW9ufSBhbmQgZW5kRnJhY3Rpb24gYCArXG4gICAgICAgICAgICBgJHtlbmRGcmFjdGlvbn1gKTtcbiAgfVxuXG4gIHJldHVybiBQcm9taXNlLmFsbChwcm9taXNlcy5tYXAocmVnaXN0ZXJNb25pdG9yKSk7XG59XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbmltcG9ydCB7ZW52fSBmcm9tICcuLi9lbnZpcm9ubWVudCc7XG5cbmltcG9ydCB7TmFtZWRUZW5zb3JNYXB9IGZyb20gJy4uL3RlbnNvcl90eXBlcyc7XG5pbXBvcnQgKiBhcyB1dGlsIGZyb20gJy4uL3V0aWwnO1xuaW1wb3J0IHtkZWNvZGVXZWlnaHRzfSBmcm9tICcuL2lvX3V0aWxzJztcbmltcG9ydCB7bW9uaXRvclByb21pc2VzUHJvZ3Jlc3N9IGZyb20gJy4vcHJvZ3Jlc3MnO1xuaW1wb3J0IHtEVFlQRV9WQUxVRV9TSVpFX01BUCwgTG9hZE9wdGlvbnMsIFdlaWdodHNNYW5pZmVzdENvbmZpZywgV2VpZ2h0c01hbmlmZXN0RW50cnl9IGZyb20gJy4vdHlwZXMnO1xuXG4vKipcbiAqIFJlYWRzIGJpbmFyeSB3ZWlnaHRzIGRhdGEgZnJvbSBhIG51bWJlciBvZiBVUkxzLlxuICpcbiAqIEBwYXJhbSBmZXRjaFVSTHMgVVJMcyB0byBzZW5kIHRoZSBIVFRQIHJlcXVlc3RzIGF0LCB1c2luZyBgZmV0Y2hgIGNhbGxzLlxuICogQHBhcmFtIHJlcXVlc3RPcHRpb25zIFJlcXVlc3RJbml0IChvcHRpb25zKSBmb3IgdGhlIEhUVFAgcmVxdWVzdHMuXG4gKiBAcGFyYW0gZmV0Y2hGdW5jIE9wdGlvbmFsIG92ZXJyaWRpbmcgdmFsdWUgZm9yIHRoZSBgd2luZG93LmZldGNoYCBmdW5jdGlvbi5cbiAqIEBwYXJhbSBvblByb2dyZXNzIE9wdGlvbmFsLCBwcm9ncmVzcyBjYWxsYmFjayBmdW5jdGlvbiwgZmlyZWQgcGVyaW9kaWNhbGx5XG4gKiAgIGJlZm9yZSB0aGUgbG9hZCBpcyBjb21wbGV0ZWQuXG4gKiBAcmV0dXJucyBBIGBQcm9taXNlYCBvZiBhbiBBcnJheSBvZiBgQXJyYXlCdWZmZXJgLiBUaGUgQXJyYXkgaGFzIHRoZSBzYW1lXG4gKiAgIGxlbmd0aCBhcyBgZmV0Y2hVUkxzYC5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGxvYWRXZWlnaHRzQXNBcnJheUJ1ZmZlcihcbiAgICBmZXRjaFVSTHM6IHN0cmluZ1tdLCBsb2FkT3B0aW9ucz86IExvYWRPcHRpb25zKTogUHJvbWlzZTxBcnJheUJ1ZmZlcltdPiB7XG4gIGlmIChsb2FkT3B0aW9ucyA9PSBudWxsKSB7XG4gICAgbG9hZE9wdGlvbnMgPSB7fTtcbiAgfVxuXG4gIGNvbnN0IGZldGNoRnVuYyA9IGxvYWRPcHRpb25zLmZldGNoRnVuYyA9PSBudWxsID8gZW52KCkucGxhdGZvcm0uZmV0Y2ggOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvYWRPcHRpb25zLmZldGNoRnVuYztcblxuICAvLyBDcmVhdGUgdGhlIHJlcXVlc3RzIGZvciBhbGwgb2YgdGhlIHdlaWdodHMgaW4gcGFyYWxsZWwuXG4gIGNvbnN0IHJlcXVlc3RzID0gZmV0Y2hVUkxzLm1hcChcbiAgICAgIGZldGNoVVJMID0+XG4gICAgICAgICAgZmV0Y2hGdW5jKGZldGNoVVJMLCBsb2FkT3B0aW9ucy5yZXF1ZXN0SW5pdCwge2lzQmluYXJ5OiB0cnVlfSkpO1xuXG4gIGNvbnN0IGZldGNoU3RhcnRGcmFjdGlvbiA9IDA7XG4gIGNvbnN0IGZldGNoRW5kRnJhY3Rpb24gPSAwLjU7XG5cbiAgY29uc3QgcmVzcG9uc2VzID0gbG9hZE9wdGlvbnMub25Qcm9ncmVzcyA9PSBudWxsID9cbiAgICAgIGF3YWl0IFByb21pc2UuYWxsKHJlcXVlc3RzKSA6XG4gICAgICBhd2FpdCBtb25pdG9yUHJvbWlzZXNQcm9ncmVzcyhcbiAgICAgICAgICByZXF1ZXN0cywgbG9hZE9wdGlvbnMub25Qcm9ncmVzcywgZmV0Y2hTdGFydEZyYWN0aW9uLFxuICAgICAgICAgIGZldGNoRW5kRnJhY3Rpb24pO1xuXG4gIGNvbnN0IGJ1ZmZlclByb21pc2VzID0gcmVzcG9uc2VzLm1hcChyZXNwb25zZSA9PiByZXNwb25zZS5hcnJheUJ1ZmZlcigpKTtcblxuICBjb25zdCBidWZmZXJTdGFydEZyYWN0aW9uID0gMC41O1xuICBjb25zdCBidWZmZXJFbmRGcmFjdGlvbiA9IDE7XG5cbiAgY29uc3QgYnVmZmVycyA9IGxvYWRPcHRpb25zLm9uUHJvZ3Jlc3MgPT0gbnVsbCA/XG4gICAgICBhd2FpdCBQcm9taXNlLmFsbChidWZmZXJQcm9taXNlcykgOlxuICAgICAgYXdhaXQgbW9uaXRvclByb21pc2VzUHJvZ3Jlc3MoXG4gICAgICAgICAgYnVmZmVyUHJvbWlzZXMsIGxvYWRPcHRpb25zLm9uUHJvZ3Jlc3MsIGJ1ZmZlclN0YXJ0RnJhY3Rpb24sXG4gICAgICAgICAgYnVmZmVyRW5kRnJhY3Rpb24pO1xuICByZXR1cm4gYnVmZmVycztcbn1cblxuLyoqXG4gKiBSZWFkcyBhIHdlaWdodHMgbWFuaWZlc3QgSlNPTiBjb25maWd1cmF0aW9uLCBmZXRjaGVzIHRoZSB3ZWlnaHRzIGFuZFxuICogcmV0dXJucyB0aGVtIGFzIGBUZW5zb3Jgcy5cbiAqXG4gKiBAcGFyYW0gbWFuaWZlc3QgVGhlIHdlaWdodHMgbWFuaWZlc3QgSlNPTi5cbiAqIEBwYXJhbSBmaWxlUGF0aFByZWZpeCBUaGUgcGF0aCBwcmVmaXggZm9yIGZpbGVuYW1lcyBnaXZlbiBpbiB0aGUgbWFuaWZlc3QuXG4gKiAgICAgRGVmYXVsdHMgdG8gdGhlIGVtcHR5IHN0cmluZy5cbiAqIEBwYXJhbSB3ZWlnaHROYW1lcyBUaGUgbmFtZXMgb2YgdGhlIHdlaWdodHMgdG8gYmUgZmV0Y2hlZC5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGxvYWRXZWlnaHRzKFxuICAgIG1hbmlmZXN0OiBXZWlnaHRzTWFuaWZlc3RDb25maWcsIGZpbGVQYXRoUHJlZml4ID0gJycsXG4gICAgd2VpZ2h0TmFtZXM/OiBzdHJpbmdbXSxcbiAgICByZXF1ZXN0SW5pdD86IFJlcXVlc3RJbml0KTogUHJvbWlzZTxOYW1lZFRlbnNvck1hcD4ge1xuICAvLyBUT0RPKG5zdGhvcmF0KTogR3JvdXBzIGFyZSBjdXJyZW50bHkgZmV0Y2hlZCBhdG9taWNhbGx5LiBJZiB5b3UgbmVlZCBhXG4gIC8vIHNpbmdsZSB3ZWlnaHQgZnJvbSBhIGdyb3VwLCB0aGUgd2hvbGUgZ3JvdXAgd2lsbCBiZSBmZXRjaGVkLiBBdCBhIGZ1dHVyZVxuICAvLyBkYXRlLCB3ZSBzaG91bGQgc3VwcG9ydCBmZXRjaGluZyBvbmx5IHRoZSBpbmRpdmlkdWFsIHNoYXJkcyB3aXRoaW4gYVxuICAvLyBncm91cCB0aGF0IGFyZSBuZWVkZWQgdG8gcmVjb25zdHJ1Y3QgdGhlIHJlcXVlc3RlZCB3ZWlnaHQuXG4gIC8vIFRPRE8oY2Fpcyk6IFVzZSBgZGVjb2RlV2VpZ2h0c2AgZm9yIGltcGxlbWVudGF0aW9uLlxuXG4gIGNvbnN0IGZldGNoV2VpZ2h0cyA9IChmZXRjaFVybHM6IHN0cmluZ1tdKSA9PlxuICAgICAgbG9hZFdlaWdodHNBc0FycmF5QnVmZmVyKGZldGNoVXJscywge3JlcXVlc3RJbml0fSk7XG4gIGNvbnN0IGxvYWRXZWlnaHRzID0gd2VpZ2h0c0xvYWRlckZhY3RvcnkoZmV0Y2hXZWlnaHRzKTtcblxuICByZXR1cm4gbG9hZFdlaWdodHMobWFuaWZlc3QsIGZpbGVQYXRoUHJlZml4LCB3ZWlnaHROYW1lcyk7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIGZ1bmN0aW9uLCB3aGljaCByZWFkcyBhIHdlaWdodHMgbWFuaWZlc3QgSlNPTiBjb25maWd1cmF0aW9uLFxuICogZmV0Y2hlcyB0aGUgd2VpZ2h0IGZpbGVzIHVzaW5nIHRoZSBzcGVjaWZpZWQgZnVuY3Rpb24gYW5kIHJldHVybnMgdGhlbSBhc1xuICogYFRlbnNvcmBzLlxuICpcbiAqIGBgYGpzXG4gKiAvLyBleGFtcGxlIGZvciBjcmVhdGluZyBhIG5vZGVqcyB3ZWlnaHQgbG9hZGVyLCB3aGljaCByZWFkcyB0aGUgd2VpZ2h0IGZpbGVzXG4gKiAvLyBmcm9tIGRpc2sgdXNpbmcgZnMucmVhZEZpbGVTeW5jXG4gKlxuICogaW1wb3J0ICogYXMgZnMgZnJvbSAnZnMnXG4gKlxuICogY29uc3QgZmV0Y2hXZWlnaHRzRnJvbURpc2sgPSAoZmlsZVBhdGhzOiBzdHJpbmdbXSkgPT5cbiAqICAgZmlsZVBhdGhzLm1hcChmaWxlUGF0aCA9PiBmcy5yZWFkRmlsZVN5bmMoZmlsZVBhdGgpLmJ1ZmZlcilcbiAqXG4gKiBjb25zdCBsb2FkV2VpZ2h0cyA9IHRmLmlvLndlaWdodHNMb2FkZXJGYWN0b3J5KGZldGNoV2VpZ2h0c0Zyb21EaXNrKVxuICpcbiAqIGNvbnN0IG1hbmlmZXN0ID0gSlNPTi5wYXJzZShcbiAqICAgZnMucmVhZEZpbGVTeW5jKCcuL215X21vZGVsLXdlaWdodHNfbWFuaWZlc3QnKS50b1N0cmluZygpXG4gKiApXG4gKiBjb25zdCB3ZWlnaHRNYXAgPSBhd2FpdCBsb2FkV2VpZ2h0cyhtYW5pZmVzdCwgJy4vJylcbiAqIGBgYFxuICogQHBhcmFtIGZldGNoV2VpZ2h0c0Z1bmN0aW9uIFRoZSBmdW5jdGlvbiB1c2VkIGZvciBmZXRjaGluZyB0aGUgd2VpZ2h0IGZpbGVzLlxuICogQHJldHVybnMgV2VpZ2h0IGxvYWRpbmcgZnVuY3Rpb24uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB3ZWlnaHRzTG9hZGVyRmFjdG9yeShcbiAgICBmZXRjaFdlaWdodHNGdW5jdGlvbjogKGZldGNoVXJsczogc3RyaW5nW10pID0+IFByb21pc2U8QXJyYXlCdWZmZXJbXT4pOlxuICAgIChtYW5pZmVzdDogV2VpZ2h0c01hbmlmZXN0Q29uZmlnLCBmaWxlUGF0aFByZWZpeD86IHN0cmluZyxcbiAgICAgd2VpZ2h0TmFtZXM/OiBzdHJpbmdbXSkgPT4gUHJvbWlzZTxOYW1lZFRlbnNvck1hcD4ge1xuICByZXR1cm4gYXN5bmMoXG4gICAgICAgICAgICAgbWFuaWZlc3Q6IFdlaWdodHNNYW5pZmVzdENvbmZpZywgZmlsZVBhdGhQcmVmaXggPSAnJyxcbiAgICAgICAgICAgICB3ZWlnaHROYW1lcz86IHN0cmluZ1tdKTogUHJvbWlzZTxOYW1lZFRlbnNvck1hcD4gPT4ge1xuICAgIC8vIENvbGxlY3QgYWxsIHRoZSBncm91cHMsIHdlaWdodHMsIGFuZCB0aGVpciByZWxhdGl2ZSBvZmZzZXRzIHRvIGJlXG4gICAgLy8gZmV0Y2hlZC5cbiAgICBjb25zdCBncm91cEluZGljZXNUb0ZldGNoTWFwID0gbWFuaWZlc3QubWFwKCgpID0+IGZhbHNlKTtcbiAgICBjb25zdCBncm91cFdlaWdodHNUb0ZldGNoOiB7XG4gICAgICBbZ3JvdXA6IG51bWJlcl06IEFycmF5PHtcbiAgICAgICAgbWFuaWZlc3RFbnRyeTogV2VpZ2h0c01hbmlmZXN0RW50cnk7IGdyb3VwT2Zmc2V0OiBudW1iZXI7XG4gICAgICAgIHNpemVCeXRlczogbnVtYmVyO1xuICAgICAgfT5cbiAgICB9ID0ge307XG4gICAgY29uc3Qgd2VpZ2h0c0ZvdW5kID1cbiAgICAgICAgd2VpZ2h0TmFtZXMgIT0gbnVsbCA/IHdlaWdodE5hbWVzLm1hcCgoKSA9PiBmYWxzZSkgOiBbXTtcbiAgICBjb25zdCBhbGxNYW5pZmVzdFdlaWdodE5hbWVzOiBzdHJpbmdbXSA9IFtdO1xuICAgIG1hbmlmZXN0LmZvckVhY2goKG1hbmlmZXN0R3JvdXBDb25maWcsIGdyb3VwSW5kZXgpID0+IHtcbiAgICAgIGxldCBncm91cE9mZnNldCA9IDA7XG4gICAgICBtYW5pZmVzdEdyb3VwQ29uZmlnLndlaWdodHMuZm9yRWFjaCh3ZWlnaHRzRW50cnkgPT4ge1xuICAgICAgICBjb25zdCByYXdEdHlwZSA9ICgncXVhbnRpemF0aW9uJyBpbiB3ZWlnaHRzRW50cnkpID9cbiAgICAgICAgICAgIHdlaWdodHNFbnRyeS5xdWFudGl6YXRpb24uZHR5cGUgOlxuICAgICAgICAgICAgd2VpZ2h0c0VudHJ5LmR0eXBlO1xuXG4gICAgICAgIGNvbnN0IHdlaWdodHNCeXRlcyA9IERUWVBFX1ZBTFVFX1NJWkVfTUFQW3Jhd0R0eXBlXSAqXG4gICAgICAgICAgICB1dGlsLnNpemVGcm9tU2hhcGUod2VpZ2h0c0VudHJ5LnNoYXBlKTtcblxuICAgICAgICBjb25zdCBlbnF1ZXVlV2VpZ2h0c0ZvckZldGNoaW5nRm4gPSAoKSA9PiB7XG4gICAgICAgICAgZ3JvdXBJbmRpY2VzVG9GZXRjaE1hcFtncm91cEluZGV4XSA9IHRydWU7XG4gICAgICAgICAgaWYgKGdyb3VwV2VpZ2h0c1RvRmV0Y2hbZ3JvdXBJbmRleF0gPT0gbnVsbCkge1xuICAgICAgICAgICAgZ3JvdXBXZWlnaHRzVG9GZXRjaFtncm91cEluZGV4XSA9IFtdO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGdyb3VwV2VpZ2h0c1RvRmV0Y2hbZ3JvdXBJbmRleF0ucHVzaCh7XG4gICAgICAgICAgICBtYW5pZmVzdEVudHJ5OiB3ZWlnaHRzRW50cnksXG4gICAgICAgICAgICBncm91cE9mZnNldCxcbiAgICAgICAgICAgIHNpemVCeXRlczogd2VpZ2h0c0J5dGVzXG4gICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKHdlaWdodE5hbWVzICE9IG51bGwpIHtcbiAgICAgICAgICB3ZWlnaHROYW1lcy5mb3JFYWNoKCh3ZWlnaHROYW1lLCB3ZWlnaHRJbmRleCkgPT4ge1xuICAgICAgICAgICAgaWYgKHdlaWdodE5hbWUgPT09IHdlaWdodHNFbnRyeS5uYW1lKSB7XG4gICAgICAgICAgICAgIGVucXVldWVXZWlnaHRzRm9yRmV0Y2hpbmdGbigpO1xuICAgICAgICAgICAgICB3ZWlnaHRzRm91bmRbd2VpZ2h0SW5kZXhdID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBlbnF1ZXVlV2VpZ2h0c0ZvckZldGNoaW5nRm4oKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGFsbE1hbmlmZXN0V2VpZ2h0TmFtZXMucHVzaCh3ZWlnaHRzRW50cnkubmFtZSk7XG4gICAgICAgIGdyb3VwT2Zmc2V0ICs9IHdlaWdodHNCeXRlcztcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaWYgKCF3ZWlnaHRzRm91bmQuZXZlcnkoZm91bmQgPT4gZm91bmQpKSB7XG4gICAgICBjb25zdCB3ZWlnaHRzTm90Rm91bmQgPSB3ZWlnaHROYW1lcy5maWx0ZXIoKF8sIGkpID0+ICF3ZWlnaHRzRm91bmRbaV0pO1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgIGBDb3VsZCBub3QgZmluZCB3ZWlnaHRzIGluIG1hbmlmZXN0IHdpdGggbmFtZXM6IGAgK1xuICAgICAgICAgIGAke3dlaWdodHNOb3RGb3VuZC5qb2luKCcsICcpfS4gXFxuYCArXG4gICAgICAgICAgYE1hbmlmZXN0IEpTT04gaGFzIHdlaWdodHMgd2l0aCBuYW1lczogYCArXG4gICAgICAgICAgYCR7YWxsTWFuaWZlc3RXZWlnaHROYW1lcy5qb2luKCcsICcpfS5gKTtcbiAgICB9XG5cbiAgICAvLyBDb252ZXJ0IHRoZSBvbmUtaG90IGJvb2xlYW4gZ3JvdXBJZCA9PiBzaG91bGRGZXRjaCBtYXAgdG8gYSBsaXN0IG9mIGdyb3VwXG4gICAgLy8gSURzLlxuICAgIGNvbnN0IGdyb3VwSW5kaWNlc1RvRmV0Y2ggPVxuICAgICAgICBncm91cEluZGljZXNUb0ZldGNoTWFwLnJlZHVjZSgoYWNjdW11bGF0b3IsIHNob3VsZEZldGNoLCBpKSA9PiB7XG4gICAgICAgICAgaWYgKHNob3VsZEZldGNoKSB7XG4gICAgICAgICAgICBhY2N1bXVsYXRvci5wdXNoKGkpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gYWNjdW11bGF0b3I7XG4gICAgICAgIH0sIFtdKTtcblxuICAgIGNvbnN0IGZldGNoVXJsczogc3RyaW5nW10gPSBbXTtcbiAgICBncm91cEluZGljZXNUb0ZldGNoLmZvckVhY2goaSA9PiB7XG4gICAgICBtYW5pZmVzdFtpXS5wYXRocy5mb3JFYWNoKGZpbGVwYXRoID0+IHtcbiAgICAgICAgY29uc3QgZmV0Y2hVcmwgPSBmaWxlUGF0aFByZWZpeCArXG4gICAgICAgICAgICAoIWZpbGVQYXRoUHJlZml4LmVuZHNXaXRoKCcvJykgPyAnLycgOiAnJykgKyBmaWxlcGF0aDtcbiAgICAgICAgZmV0Y2hVcmxzLnB1c2goZmV0Y2hVcmwpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgY29uc3QgYnVmZmVycyA9IGF3YWl0IGZldGNoV2VpZ2h0c0Z1bmN0aW9uKGZldGNoVXJscyk7XG5cbiAgICBjb25zdCB3ZWlnaHRzVGVuc29yTWFwOiBOYW1lZFRlbnNvck1hcCA9IHt9O1xuICAgIGxldCBidWZmZXJJbmRleE9mZnNldCA9IDA7XG4gICAgZ3JvdXBJbmRpY2VzVG9GZXRjaC5mb3JFYWNoKGkgPT4ge1xuICAgICAgY29uc3QgbnVtQnVmZmVycyA9IG1hbmlmZXN0W2ldLnBhdGhzLmxlbmd0aDtcblxuICAgICAgbGV0IGdyb3VwQnl0ZXMgPSAwO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1CdWZmZXJzOyBpKyspIHtcbiAgICAgICAgZ3JvdXBCeXRlcyArPSBidWZmZXJzW2J1ZmZlckluZGV4T2Zmc2V0ICsgaV0uYnl0ZUxlbmd0aDtcbiAgICAgIH1cblxuICAgICAgLy8gQ3JlYXRlIGEgYnVmZmVyIGZvciB0aGUgd2hvbGUgZ3JvdXAuXG4gICAgICBjb25zdCBncm91cEJ1ZmZlciA9IG5ldyBBcnJheUJ1ZmZlcihncm91cEJ5dGVzKTtcbiAgICAgIGNvbnN0IGdyb3VwQnl0ZUJ1ZmZlciA9IG5ldyBVaW50OEFycmF5KGdyb3VwQnVmZmVyKTtcbiAgICAgIGxldCBncm91cEJ1ZmZlck9mZnNldCA9IDA7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bUJ1ZmZlcnM7IGkrKykge1xuICAgICAgICBjb25zdCBidWZmZXIgPSBuZXcgVWludDhBcnJheShidWZmZXJzW2J1ZmZlckluZGV4T2Zmc2V0ICsgaV0pO1xuICAgICAgICBncm91cEJ5dGVCdWZmZXIuc2V0KGJ1ZmZlciwgZ3JvdXBCdWZmZXJPZmZzZXQpO1xuICAgICAgICBncm91cEJ1ZmZlck9mZnNldCArPSBidWZmZXIuYnl0ZUxlbmd0aDtcbiAgICAgIH1cblxuICAgICAgY29uc3Qgd2VpZ2h0c0VudHJpZXMgPSBncm91cFdlaWdodHNUb0ZldGNoW2ldO1xuICAgICAgd2VpZ2h0c0VudHJpZXMuZm9yRWFjaCh3ZWlnaHRzRW50cnkgPT4ge1xuICAgICAgICBjb25zdCBieXRlQnVmZmVyID0gZ3JvdXBCdWZmZXIuc2xpY2UoXG4gICAgICAgICAgICB3ZWlnaHRzRW50cnkuZ3JvdXBPZmZzZXQsXG4gICAgICAgICAgICB3ZWlnaHRzRW50cnkuZ3JvdXBPZmZzZXQgKyB3ZWlnaHRzRW50cnkuc2l6ZUJ5dGVzKTtcbiAgICAgICAgY29uc3QgbmFtZVRvVGVuc29yTWFwID1cbiAgICAgICAgICAgIGRlY29kZVdlaWdodHMoYnl0ZUJ1ZmZlciwgW3dlaWdodHNFbnRyeS5tYW5pZmVzdEVudHJ5XSk7XG4gICAgICAgIGZvciAoY29uc3QgbmFtZSBpbiBuYW1lVG9UZW5zb3JNYXApIHtcbiAgICAgICAgICB3ZWlnaHRzVGVuc29yTWFwW25hbWVdID0gbmFtZVRvVGVuc29yTWFwW25hbWVdO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgYnVmZmVySW5kZXhPZmZzZXQgKz0gbnVtQnVmZmVycztcbiAgICB9KTtcblxuICAgIHJldHVybiB3ZWlnaHRzVGVuc29yTWFwO1xuICB9O1xufVxuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTggR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG4vKipcbiAqIElPSGFuZGxlciBpbXBsZW1lbnRhdGlvbnMgYmFzZWQgb24gSFRUUCByZXF1ZXN0cyBpbiB0aGUgd2ViIGJyb3dzZXIuXG4gKlxuICogVXNlcyBbYGZldGNoYF0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0ZldGNoX0FQSSkuXG4gKi9cblxuaW1wb3J0IHtlbnZ9IGZyb20gJy4uL2Vudmlyb25tZW50JztcblxuaW1wb3J0IHthc3NlcnR9IGZyb20gJy4uL3V0aWwnO1xuaW1wb3J0IHtjb25jYXRlbmF0ZUFycmF5QnVmZmVycywgZ2V0TW9kZWxBcnRpZmFjdHNJbmZvRm9ySlNPTn0gZnJvbSAnLi9pb191dGlscyc7XG5pbXBvcnQge0lPUm91dGVyLCBJT1JvdXRlclJlZ2lzdHJ5fSBmcm9tICcuL3JvdXRlcl9yZWdpc3RyeSc7XG5pbXBvcnQge0lPSGFuZGxlciwgTG9hZE9wdGlvbnMsIE1vZGVsQXJ0aWZhY3RzLCBNb2RlbEpTT04sIE9uUHJvZ3Jlc3NDYWxsYmFjaywgU2F2ZVJlc3VsdCwgV2VpZ2h0c01hbmlmZXN0Q29uZmlnLCBXZWlnaHRzTWFuaWZlc3RFbnRyeX0gZnJvbSAnLi90eXBlcyc7XG5pbXBvcnQge2xvYWRXZWlnaHRzQXNBcnJheUJ1ZmZlcn0gZnJvbSAnLi93ZWlnaHRzX2xvYWRlcic7XG5cbmNvbnN0IE9DVEVUX1NUUkVBTV9NSU1FX1RZUEUgPSAnYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtJztcbmNvbnN0IEpTT05fVFlQRSA9ICdhcHBsaWNhdGlvbi9qc29uJztcbmV4cG9ydCBjbGFzcyBIVFRQUmVxdWVzdCBpbXBsZW1lbnRzIElPSGFuZGxlciB7XG4gIHByb3RlY3RlZCByZWFkb25seSBwYXRoOiBzdHJpbmc7XG4gIHByb3RlY3RlZCByZWFkb25seSByZXF1ZXN0SW5pdDogUmVxdWVzdEluaXQ7XG5cbiAgcHJpdmF0ZSByZWFkb25seSBmZXRjaDogRnVuY3Rpb247XG4gIHByaXZhdGUgcmVhZG9ubHkgd2VpZ2h0VXJsQ29udmVydGVyOiAod2VpZ2h0TmFtZTogc3RyaW5nKSA9PiBQcm9taXNlPHN0cmluZz47XG5cbiAgcmVhZG9ubHkgREVGQVVMVF9NRVRIT0QgPSAnUE9TVCc7XG5cbiAgc3RhdGljIHJlYWRvbmx5IFVSTF9TQ0hFTUVfUkVHRVggPSAvXmh0dHBzPzpcXC9cXC8vO1xuXG4gIHByaXZhdGUgcmVhZG9ubHkgd2VpZ2h0UGF0aFByZWZpeDogc3RyaW5nO1xuICBwcml2YXRlIHJlYWRvbmx5IG9uUHJvZ3Jlc3M6IE9uUHJvZ3Jlc3NDYWxsYmFjaztcblxuICBjb25zdHJ1Y3RvcihwYXRoOiBzdHJpbmcsIGxvYWRPcHRpb25zPzogTG9hZE9wdGlvbnMpIHtcbiAgICBpZiAobG9hZE9wdGlvbnMgPT0gbnVsbCkge1xuICAgICAgbG9hZE9wdGlvbnMgPSB7fTtcbiAgICB9XG4gICAgdGhpcy53ZWlnaHRQYXRoUHJlZml4ID0gbG9hZE9wdGlvbnMud2VpZ2h0UGF0aFByZWZpeDtcbiAgICB0aGlzLm9uUHJvZ3Jlc3MgPSBsb2FkT3B0aW9ucy5vblByb2dyZXNzO1xuICAgIHRoaXMud2VpZ2h0VXJsQ29udmVydGVyID0gbG9hZE9wdGlvbnMud2VpZ2h0VXJsQ29udmVydGVyO1xuXG4gICAgaWYgKGxvYWRPcHRpb25zLmZldGNoRnVuYyAhPSBudWxsKSB7XG4gICAgICBhc3NlcnQoXG4gICAgICAgICAgdHlwZW9mIGxvYWRPcHRpb25zLmZldGNoRnVuYyA9PT0gJ2Z1bmN0aW9uJyxcbiAgICAgICAgICAoKSA9PiAnTXVzdCBwYXNzIGEgZnVuY3Rpb24gdGhhdCBtYXRjaGVzIHRoZSBzaWduYXR1cmUgb2YgJyArXG4gICAgICAgICAgICAgICdgZmV0Y2hgIChzZWUgJyArXG4gICAgICAgICAgICAgICdodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvRmV0Y2hfQVBJKScpO1xuICAgICAgdGhpcy5mZXRjaCA9IGxvYWRPcHRpb25zLmZldGNoRnVuYztcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5mZXRjaCA9IGVudigpLnBsYXRmb3JtLmZldGNoO1xuICAgIH1cblxuICAgIGFzc2VydChcbiAgICAgICAgcGF0aCAhPSBudWxsICYmIHBhdGgubGVuZ3RoID4gMCxcbiAgICAgICAgKCkgPT4gJ1VSTCBwYXRoIGZvciBodHRwIG11c3Qgbm90IGJlIG51bGwsIHVuZGVmaW5lZCBvciAnICtcbiAgICAgICAgICAgICdlbXB0eS4nKTtcblxuICAgIGlmIChBcnJheS5pc0FycmF5KHBhdGgpKSB7XG4gICAgICBhc3NlcnQoXG4gICAgICAgICAgcGF0aC5sZW5ndGggPT09IDIsXG4gICAgICAgICAgKCkgPT4gJ1VSTCBwYXRocyBmb3IgaHR0cCBtdXN0IGhhdmUgYSBsZW5ndGggb2YgMiwgJyArXG4gICAgICAgICAgICAgIGAoYWN0dWFsIGxlbmd0aCBpcyAke3BhdGgubGVuZ3RofSkuYCk7XG4gICAgfVxuICAgIHRoaXMucGF0aCA9IHBhdGg7XG5cbiAgICBpZiAobG9hZE9wdGlvbnMucmVxdWVzdEluaXQgIT0gbnVsbCAmJlxuICAgICAgICBsb2FkT3B0aW9ucy5yZXF1ZXN0SW5pdC5ib2R5ICE9IG51bGwpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAncmVxdWVzdEluaXQgaXMgZXhwZWN0ZWQgdG8gaGF2ZSBubyBwcmUtZXhpc3RpbmcgYm9keSwgYnV0IGhhcyBvbmUuJyk7XG4gICAgfVxuICAgIHRoaXMucmVxdWVzdEluaXQgPSBsb2FkT3B0aW9ucy5yZXF1ZXN0SW5pdCB8fCB7fTtcbiAgfVxuXG4gIGFzeW5jIHNhdmUobW9kZWxBcnRpZmFjdHM6IE1vZGVsQXJ0aWZhY3RzKTogUHJvbWlzZTxTYXZlUmVzdWx0PiB7XG4gICAgaWYgKG1vZGVsQXJ0aWZhY3RzLm1vZGVsVG9wb2xvZ3kgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICdCcm93c2VySFRUUFJlcXVlc3Quc2F2ZSgpIGRvZXMgbm90IHN1cHBvcnQgc2F2aW5nIG1vZGVsIHRvcG9sb2d5ICcgK1xuICAgICAgICAgICdpbiBiaW5hcnkgZm9ybWF0cyB5ZXQuJyk7XG4gICAgfVxuXG4gICAgY29uc3QgaW5pdCA9IE9iamVjdC5hc3NpZ24oe21ldGhvZDogdGhpcy5ERUZBVUxUX01FVEhPRH0sIHRoaXMucmVxdWVzdEluaXQpO1xuICAgIGluaXQuYm9keSA9IG5ldyBGb3JtRGF0YSgpO1xuXG4gICAgY29uc3Qgd2VpZ2h0c01hbmlmZXN0OiBXZWlnaHRzTWFuaWZlc3RDb25maWcgPSBbe1xuICAgICAgcGF0aHM6IFsnLi9tb2RlbC53ZWlnaHRzLmJpbiddLFxuICAgICAgd2VpZ2h0czogbW9kZWxBcnRpZmFjdHMud2VpZ2h0U3BlY3MsXG4gICAgfV07XG4gICAgY29uc3QgbW9kZWxUb3BvbG9neUFuZFdlaWdodE1hbmlmZXN0OiBNb2RlbEpTT04gPSB7XG4gICAgICBtb2RlbFRvcG9sb2d5OiBtb2RlbEFydGlmYWN0cy5tb2RlbFRvcG9sb2d5LFxuICAgICAgZm9ybWF0OiBtb2RlbEFydGlmYWN0cy5mb3JtYXQsXG4gICAgICBnZW5lcmF0ZWRCeTogbW9kZWxBcnRpZmFjdHMuZ2VuZXJhdGVkQnksXG4gICAgICBjb252ZXJ0ZWRCeTogbW9kZWxBcnRpZmFjdHMuY29udmVydGVkQnksXG4gICAgICB1c2VyRGVmaW5lZE1ldGFkYXRhOiBtb2RlbEFydGlmYWN0cy51c2VyRGVmaW5lZE1ldGFkYXRhLFxuICAgICAgd2VpZ2h0c01hbmlmZXN0XG4gICAgfTtcblxuICAgIGluaXQuYm9keS5hcHBlbmQoXG4gICAgICAgICdtb2RlbC5qc29uJyxcbiAgICAgICAgbmV3IEJsb2IoXG4gICAgICAgICAgICBbSlNPTi5zdHJpbmdpZnkobW9kZWxUb3BvbG9neUFuZFdlaWdodE1hbmlmZXN0KV0sXG4gICAgICAgICAgICB7dHlwZTogSlNPTl9UWVBFfSksXG4gICAgICAgICdtb2RlbC5qc29uJyk7XG5cbiAgICBpZiAobW9kZWxBcnRpZmFjdHMud2VpZ2h0RGF0YSAhPSBudWxsKSB7XG4gICAgICBpbml0LmJvZHkuYXBwZW5kKFxuICAgICAgICAgICdtb2RlbC53ZWlnaHRzLmJpbicsXG4gICAgICAgICAgbmV3IEJsb2IoW21vZGVsQXJ0aWZhY3RzLndlaWdodERhdGFdLCB7dHlwZTogT0NURVRfU1RSRUFNX01JTUVfVFlQRX0pLFxuICAgICAgICAgICdtb2RlbC53ZWlnaHRzLmJpbicpO1xuICAgIH1cblxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5mZXRjaCh0aGlzLnBhdGgsIGluaXQpO1xuXG4gICAgaWYgKHJlc3BvbnNlLm9rKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBtb2RlbEFydGlmYWN0c0luZm86IGdldE1vZGVsQXJ0aWZhY3RzSW5mb0ZvckpTT04obW9kZWxBcnRpZmFjdHMpLFxuICAgICAgICByZXNwb25zZXM6IFtyZXNwb25zZV0sXG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgYEJyb3dzZXJIVFRQUmVxdWVzdC5zYXZlKCkgZmFpbGVkIGR1ZSB0byBIVFRQIHJlc3BvbnNlIHN0YXR1cyBgICtcbiAgICAgICAgICBgJHtyZXNwb25zZS5zdGF0dXN9LmApO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBMb2FkIG1vZGVsIGFydGlmYWN0cyB2aWEgSFRUUCByZXF1ZXN0KHMpLlxuICAgKlxuICAgKiBTZWUgdGhlIGRvY3VtZW50YXRpb24gdG8gYHRmLmlvLmh0dHBgIGZvciBkZXRhaWxzIG9uIHRoZSBzYXZlZFxuICAgKiBhcnRpZmFjdHMuXG4gICAqXG4gICAqIEByZXR1cm5zIFRoZSBsb2FkZWQgbW9kZWwgYXJ0aWZhY3RzIChpZiBsb2FkaW5nIHN1Y2NlZWRzKS5cbiAgICovXG4gIGFzeW5jIGxvYWQoKTogUHJvbWlzZTxNb2RlbEFydGlmYWN0cz4ge1xuICAgIGNvbnN0IG1vZGVsQ29uZmlnUmVxdWVzdCA9IGF3YWl0IHRoaXMuZmV0Y2godGhpcy5wYXRoLCB0aGlzLnJlcXVlc3RJbml0KTtcblxuICAgIGlmICghbW9kZWxDb25maWdSZXF1ZXN0Lm9rKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgYFJlcXVlc3QgdG8gJHt0aGlzLnBhdGh9IGZhaWxlZCB3aXRoIHN0YXR1cyBjb2RlIGAgK1xuICAgICAgICAgIGAke21vZGVsQ29uZmlnUmVxdWVzdC5zdGF0dXN9LiBQbGVhc2UgdmVyaWZ5IHRoaXMgVVJMIHBvaW50cyB0byBgICtcbiAgICAgICAgICBgdGhlIG1vZGVsIEpTT04gb2YgdGhlIG1vZGVsIHRvIGxvYWQuYCk7XG4gICAgfVxuICAgIGxldCBtb2RlbENvbmZpZzogTW9kZWxKU09OO1xuICAgIHRyeSB7XG4gICAgICBtb2RlbENvbmZpZyA9IGF3YWl0IG1vZGVsQ29uZmlnUmVxdWVzdC5qc29uKCk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgbGV0IG1lc3NhZ2UgPSBgRmFpbGVkIHRvIHBhcnNlIG1vZGVsIEpTT04gb2YgcmVzcG9uc2UgZnJvbSAke3RoaXMucGF0aH0uYDtcbiAgICAgIC8vIFRPRE8obnN0aG9yYXQpOiBSZW1vdmUgdGhpcyBhZnRlciBzb21lIHRpbWUgd2hlbiB3ZSdyZSBjb21mb3J0YWJsZSB0aGF0XG4gICAgICAvLyAucGIgZmlsZXMgYXJlIG1vc3RseSBnb25lLlxuICAgICAgaWYgKHRoaXMucGF0aC5lbmRzV2l0aCgnLnBiJykpIHtcbiAgICAgICAgbWVzc2FnZSArPSAnIFlvdXIgcGF0aCBjb250YWlucyBhIC5wYiBmaWxlIGV4dGVuc2lvbi4gJyArXG4gICAgICAgICAgICAnU3VwcG9ydCBmb3IgLnBiIG1vZGVscyBoYXZlIGJlZW4gcmVtb3ZlZCBpbiBUZW5zb3JGbG93LmpzIDEuMCAnICtcbiAgICAgICAgICAgICdpbiBmYXZvciBvZiAuanNvbiBtb2RlbHMuIFlvdSBjYW4gcmUtY29udmVydCB5b3VyIFB5dGhvbiAnICtcbiAgICAgICAgICAgICdUZW5zb3JGbG93IG1vZGVsIHVzaW5nIHRoZSBUZW5zb3JGbG93LmpzIDEuMCBjb252ZXJzaW9uIHNjcmlwdHMgJyArXG4gICAgICAgICAgICAnb3IgeW91IGNhbiBjb252ZXJ0IHlvdXIucGIgbW9kZWxzIHdpdGggdGhlIFxcJ3BiMmpzb25cXCcnICtcbiAgICAgICAgICAgICdOUE0gc2NyaXB0IGluIHRoZSB0ZW5zb3JmbG93L3RmanMtY29udmVydGVyIHJlcG9zaXRvcnkuJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1lc3NhZ2UgKz0gJyBQbGVhc2UgbWFrZSBzdXJlIHRoZSBzZXJ2ZXIgaXMgc2VydmluZyB2YWxpZCAnICtcbiAgICAgICAgICAgICdKU09OIGZvciB0aGlzIHJlcXVlc3QuJztcbiAgICAgIH1cbiAgICAgIHRocm93IG5ldyBFcnJvcihtZXNzYWdlKTtcbiAgICB9XG4gICAgY29uc3QgbW9kZWxUb3BvbG9neSA9IG1vZGVsQ29uZmlnLm1vZGVsVG9wb2xvZ3k7XG4gICAgY29uc3Qgd2VpZ2h0c01hbmlmZXN0ID0gbW9kZWxDb25maWcud2VpZ2h0c01hbmlmZXN0O1xuICAgIGNvbnN0IGdlbmVyYXRlZEJ5ID0gbW9kZWxDb25maWcuZ2VuZXJhdGVkQnk7XG4gICAgY29uc3QgY29udmVydGVkQnkgPSBtb2RlbENvbmZpZy5jb252ZXJ0ZWRCeTtcbiAgICBjb25zdCBmb3JtYXQgPSBtb2RlbENvbmZpZy5mb3JtYXQ7XG4gICAgY29uc3QgdXNlckRlZmluZWRNZXRhZGF0YSA9IG1vZGVsQ29uZmlnLnVzZXJEZWZpbmVkTWV0YWRhdGE7XG5cbiAgICAvLyBXZSBkbyBub3QgYWxsb3cgYm90aCBtb2RlbFRvcG9sb2d5IGFuZCB3ZWlnaHRzTWFuaWZlc3QgdG8gYmUgbWlzc2luZy5cbiAgICBpZiAobW9kZWxUb3BvbG9neSA9PSBudWxsICYmIHdlaWdodHNNYW5pZmVzdCA9PSBudWxsKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgYFRoZSBKU09OIGZyb20gSFRUUCBwYXRoICR7dGhpcy5wYXRofSBjb250YWlucyBuZWl0aGVyIG1vZGVsIGAgK1xuICAgICAgICAgIGB0b3BvbG9neSBvciBtYW5pZmVzdCBmb3Igd2VpZ2h0cy5gKTtcbiAgICB9XG5cbiAgICBsZXQgd2VpZ2h0U3BlY3M6IFdlaWdodHNNYW5pZmVzdEVudHJ5W107XG4gICAgbGV0IHdlaWdodERhdGE6IEFycmF5QnVmZmVyO1xuICAgIGlmICh3ZWlnaHRzTWFuaWZlc3QgIT0gbnVsbCkge1xuICAgICAgY29uc3QgcmVzdWx0cyA9IGF3YWl0IHRoaXMubG9hZFdlaWdodHMod2VpZ2h0c01hbmlmZXN0KTtcbiAgICAgIFt3ZWlnaHRTcGVjcywgd2VpZ2h0RGF0YV0gPSByZXN1bHRzO1xuICAgIH1cblxuICAgIGNvbnN0IGFydGlmYWN0czogTW9kZWxBcnRpZmFjdHMgPSB7XG4gICAgICBtb2RlbFRvcG9sb2d5LFxuICAgICAgd2VpZ2h0U3BlY3MsXG4gICAgICB3ZWlnaHREYXRhLFxuICAgICAgdXNlckRlZmluZWRNZXRhZGF0YSxcbiAgICAgIGdlbmVyYXRlZEJ5LFxuICAgICAgY29udmVydGVkQnksXG4gICAgICBmb3JtYXRcbiAgICB9O1xuXG4gICAgY29uc3QgaW5pdGlhbGl6ZXIgPSBtb2RlbENvbmZpZy5tb2RlbEluaXRpYWxpemVyO1xuICAgIGlmIChpbml0aWFsaXplcikge1xuICAgICAgYXJ0aWZhY3RzLm1vZGVsSW5pdGlhbGl6ZXIgPSBpbml0aWFsaXplcjtcbiAgICB9XG5cbiAgICByZXR1cm4gYXJ0aWZhY3RzO1xuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBsb2FkV2VpZ2h0cyh3ZWlnaHRzTWFuaWZlc3Q6IFdlaWdodHNNYW5pZmVzdENvbmZpZyk6XG4gICAgICBQcm9taXNlPFtXZWlnaHRzTWFuaWZlc3RFbnRyeVtdLCBBcnJheUJ1ZmZlcl0+IHtcbiAgICBjb25zdCB3ZWlnaHRQYXRoID0gQXJyYXkuaXNBcnJheSh0aGlzLnBhdGgpID8gdGhpcy5wYXRoWzFdIDogdGhpcy5wYXRoO1xuICAgIGNvbnN0IFtwcmVmaXgsIHN1ZmZpeF0gPSBwYXJzZVVybCh3ZWlnaHRQYXRoKTtcbiAgICBjb25zdCBwYXRoUHJlZml4ID0gdGhpcy53ZWlnaHRQYXRoUHJlZml4IHx8IHByZWZpeDtcblxuICAgIGNvbnN0IHdlaWdodFNwZWNzID0gW107XG4gICAgZm9yIChjb25zdCBlbnRyeSBvZiB3ZWlnaHRzTWFuaWZlc3QpIHtcbiAgICAgIHdlaWdodFNwZWNzLnB1c2goLi4uZW50cnkud2VpZ2h0cyk7XG4gICAgfVxuXG4gICAgY29uc3QgZmV0Y2hVUkxzOiBzdHJpbmdbXSA9IFtdO1xuICAgIGNvbnN0IHVybFByb21pc2VzOiBBcnJheTxQcm9taXNlPHN0cmluZz4+ID0gW107XG4gICAgZm9yIChjb25zdCB3ZWlnaHRzR3JvdXAgb2Ygd2VpZ2h0c01hbmlmZXN0KSB7XG4gICAgICBmb3IgKGNvbnN0IHBhdGggb2Ygd2VpZ2h0c0dyb3VwLnBhdGhzKSB7XG4gICAgICAgIGlmICh0aGlzLndlaWdodFVybENvbnZlcnRlciAhPSBudWxsKSB7XG4gICAgICAgICAgdXJsUHJvbWlzZXMucHVzaCh0aGlzLndlaWdodFVybENvbnZlcnRlcihwYXRoKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZmV0Y2hVUkxzLnB1c2gocGF0aFByZWZpeCArIHBhdGggKyBzdWZmaXgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHRoaXMud2VpZ2h0VXJsQ29udmVydGVyKSB7XG4gICAgICBmZXRjaFVSTHMucHVzaCguLi5hd2FpdCBQcm9taXNlLmFsbCh1cmxQcm9taXNlcykpO1xuICAgIH1cblxuICAgIGNvbnN0IGJ1ZmZlcnMgPSBhd2FpdCBsb2FkV2VpZ2h0c0FzQXJyYXlCdWZmZXIoZmV0Y2hVUkxzLCB7XG4gICAgICByZXF1ZXN0SW5pdDogdGhpcy5yZXF1ZXN0SW5pdCxcbiAgICAgIGZldGNoRnVuYzogdGhpcy5mZXRjaCxcbiAgICAgIG9uUHJvZ3Jlc3M6IHRoaXMub25Qcm9ncmVzc1xuICAgIH0pO1xuICAgIHJldHVybiBbd2VpZ2h0U3BlY3MsIGNvbmNhdGVuYXRlQXJyYXlCdWZmZXJzKGJ1ZmZlcnMpXTtcbiAgfVxufVxuXG4vKipcbiAqIEV4dHJhY3QgdGhlIHByZWZpeCBhbmQgc3VmZml4IG9mIHRoZSB1cmwsIHdoZXJlIHRoZSBwcmVmaXggaXMgdGhlIHBhdGggYmVmb3JlXG4gKiB0aGUgbGFzdCBmaWxlLCBhbmQgc3VmZml4IGlzIHRoZSBzZWFyY2ggcGFyYW1zIGFmdGVyIHRoZSBsYXN0IGZpbGUuXG4gKiBgYGBcbiAqIGNvbnN0IHVybCA9ICdodHRwOi8vdGZodWIuZGV2L21vZGVsLzEvdGVuc29yZmxvd2pzX21vZGVsLnBiP3RmanMtZm9ybWF0PWZpbGUnXG4gKiBbcHJlZml4LCBzdWZmaXhdID0gcGFyc2VVcmwodXJsKVxuICogLy8gcHJlZml4ID0gJ2h0dHA6Ly90Zmh1Yi5kZXYvbW9kZWwvMS8nXG4gKiAvLyBzdWZmaXggPSAnP3RmanMtZm9ybWF0PWZpbGUnXG4gKiBgYGBcbiAqIEBwYXJhbSB1cmwgdGhlIG1vZGVsIHVybCB0byBiZSBwYXJzZWQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZVVybCh1cmw6IHN0cmluZyk6IFtzdHJpbmcsIHN0cmluZ10ge1xuICBjb25zdCBsYXN0U2xhc2ggPSB1cmwubGFzdEluZGV4T2YoJy8nKTtcbiAgY29uc3QgbGFzdFNlYXJjaFBhcmFtID0gdXJsLmxhc3RJbmRleE9mKCc/Jyk7XG4gIGNvbnN0IHByZWZpeCA9IHVybC5zdWJzdHJpbmcoMCwgbGFzdFNsYXNoKTtcbiAgY29uc3Qgc3VmZml4ID1cbiAgICAgIGxhc3RTZWFyY2hQYXJhbSA+IGxhc3RTbGFzaCA/IHVybC5zdWJzdHJpbmcobGFzdFNlYXJjaFBhcmFtKSA6ICcnO1xuICByZXR1cm4gW3ByZWZpeCArICcvJywgc3VmZml4XTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzSFRUUFNjaGVtZSh1cmw6IHN0cmluZyk6IGJvb2xlYW4ge1xuICByZXR1cm4gdXJsLm1hdGNoKEhUVFBSZXF1ZXN0LlVSTF9TQ0hFTUVfUkVHRVgpICE9IG51bGw7XG59XG5cbmV4cG9ydCBjb25zdCBodHRwUm91dGVyOiBJT1JvdXRlciA9XG4gICAgKHVybDogc3RyaW5nLCBsb2FkT3B0aW9ucz86IExvYWRPcHRpb25zKSA9PiB7XG4gICAgICBpZiAodHlwZW9mIGZldGNoID09PSAndW5kZWZpbmVkJyAmJlxuICAgICAgICAgIChsb2FkT3B0aW9ucyA9PSBudWxsIHx8IGxvYWRPcHRpb25zLmZldGNoRnVuYyA9PSBudWxsKSkge1xuICAgICAgICAvLyBgaHR0cGAgdXNlcyBgZmV0Y2hgIG9yIGBub2RlLWZldGNoYCwgaWYgb25lIHdhbnRzIHRvIHVzZSBpdCBpblxuICAgICAgICAvLyBhbiBlbnZpcm9ubWVudCB0aGF0IGlzIG5vdCB0aGUgYnJvd3NlciBvciBub2RlIHRoZXkgaGF2ZSB0byBzZXR1cCBhXG4gICAgICAgIC8vIGdsb2JhbCBmZXRjaCBwb2x5ZmlsbC5cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsZXQgaXNIVFRQID0gdHJ1ZTtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodXJsKSkge1xuICAgICAgICAgIGlzSFRUUCA9IHVybC5ldmVyeSh1cmxJdGVtID0+IGlzSFRUUFNjaGVtZSh1cmxJdGVtKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaXNIVFRQID0gaXNIVFRQU2NoZW1lKHVybCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzSFRUUCkge1xuICAgICAgICAgIHJldHVybiBodHRwKHVybCwgbG9hZE9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuSU9Sb3V0ZXJSZWdpc3RyeS5yZWdpc3RlclNhdmVSb3V0ZXIoaHR0cFJvdXRlcik7XG5JT1JvdXRlclJlZ2lzdHJ5LnJlZ2lzdGVyTG9hZFJvdXRlcihodHRwUm91dGVyKTtcblxuLyoqXG4gKiBDcmVhdGVzIGFuIElPSGFuZGxlciBzdWJ0eXBlIHRoYXQgc2VuZHMgbW9kZWwgYXJ0aWZhY3RzIHRvIEhUVFAgc2VydmVyLlxuICpcbiAqIEFuIEhUVFAgcmVxdWVzdCBvZiB0aGUgYG11bHRpcGFydC9mb3JtLWRhdGFgIG1pbWUgdHlwZSB3aWxsIGJlIHNlbnQgdG8gdGhlXG4gKiBgcGF0aGAgVVJMLiBUaGUgZm9ybSBkYXRhIGluY2x1ZGVzIGFydGlmYWN0cyB0aGF0IHJlcHJlc2VudCB0aGUgdG9wb2xvZ3lcbiAqIGFuZC9vciB3ZWlnaHRzIG9mIHRoZSBtb2RlbC4gSW4gdGhlIGNhc2Ugb2YgS2VyYXMtc3R5bGUgYHRmLk1vZGVsYCwgdHdvXG4gKiBibG9icyAoZmlsZXMpIGV4aXN0IGluIGZvcm0tZGF0YTpcbiAqICAgLSBBIEpTT04gZmlsZSBjb25zaXN0aW5nIG9mIGBtb2RlbFRvcG9sb2d5YCBhbmQgYHdlaWdodHNNYW5pZmVzdGAuXG4gKiAgIC0gQSBiaW5hcnkgd2VpZ2h0cyBmaWxlIGNvbnNpc3Rpbmcgb2YgdGhlIGNvbmNhdGVuYXRlZCB3ZWlnaHQgdmFsdWVzLlxuICogVGhlc2UgZmlsZXMgYXJlIGluIHRoZSBzYW1lIGZvcm1hdCBhcyB0aGUgb25lIGdlbmVyYXRlZCBieVxuICogW3RmanNfY29udmVydGVyXShodHRwczovL2pzLnRlbnNvcmZsb3cub3JnL3R1dG9yaWFscy9pbXBvcnQta2VyYXMuaHRtbCkuXG4gKlxuICogVGhlIGZvbGxvd2luZyBjb2RlIHNuaXBwZXQgZXhlbXBsaWZpZXMgdGhlIGNsaWVudC1zaWRlIGNvZGUgdGhhdCB1c2VzIHRoaXNcbiAqIGZ1bmN0aW9uOlxuICpcbiAqIGBgYGpzXG4gKiBjb25zdCBtb2RlbCA9IHRmLnNlcXVlbnRpYWwoKTtcbiAqIG1vZGVsLmFkZChcbiAqICAgICB0Zi5sYXllcnMuZGVuc2Uoe3VuaXRzOiAxLCBpbnB1dFNoYXBlOiBbMTAwXSwgYWN0aXZhdGlvbjogJ3NpZ21vaWQnfSkpO1xuICpcbiAqIGNvbnN0IHNhdmVSZXN1bHQgPSBhd2FpdCBtb2RlbC5zYXZlKHRmLmlvLmh0dHAoXG4gKiAgICAgJ2h0dHA6Ly9tb2RlbC1zZXJ2ZXI6NTAwMC91cGxvYWQnLCB7cmVxdWVzdEluaXQ6IHttZXRob2Q6ICdQVVQnfX0pKTtcbiAqIGNvbnNvbGUubG9nKHNhdmVSZXN1bHQpO1xuICogYGBgXG4gKlxuICogSWYgdGhlIGRlZmF1bHQgYFBPU1RgIG1ldGhvZCBpcyB0byBiZSB1c2VkLCB3aXRob3V0IGFueSBjdXN0b20gcGFyYW1ldGVyc1xuICogc3VjaCBhcyBoZWFkZXJzLCB5b3UgY2FuIHNpbXBseSBwYXNzIGFuIEhUVFAgb3IgSFRUUFMgVVJMIHRvIGBtb2RlbC5zYXZlYDpcbiAqXG4gKiBgYGBqc1xuICogY29uc3Qgc2F2ZVJlc3VsdCA9IGF3YWl0IG1vZGVsLnNhdmUoJ2h0dHA6Ly9tb2RlbC1zZXJ2ZXI6NTAwMC91cGxvYWQnKTtcbiAqIGBgYFxuICpcbiAqIFRoZSBmb2xsb3dpbmcgR2l0SHViIEdpc3RcbiAqIGh0dHBzOi8vZ2lzdC5naXRodWIuY29tL2RzbWlsa292LzFiNjA0NmZkNjEzMmQ3NDA4ZDUyNTdiMDk3NmY3ODY0XG4gKiBpbXBsZW1lbnRzIGEgc2VydmVyIGJhc2VkIG9uIFtmbGFza10oaHR0cHM6Ly9naXRodWIuY29tL3BhbGxldHMvZmxhc2spIHRoYXRcbiAqIGNhbiByZWNlaXZlIHRoZSByZXF1ZXN0LiBVcG9uIHJlY2VpdmluZyB0aGUgbW9kZWwgYXJ0aWZhY3RzIHZpYSB0aGUgcmVxdXN0LFxuICogdGhpcyBwYXJ0aWN1bGFyIHNlcnZlciByZWNvbnNpc3R1dGVzIGluc3RhbmNlcyBvZiBbS2VyYXNcbiAqIE1vZGVsc10oaHR0cHM6Ly9rZXJhcy5pby9tb2RlbHMvbW9kZWwvKSBpbiBtZW1vcnkuXG4gKlxuICpcbiAqIEBwYXJhbSBwYXRoIEEgVVJMIHBhdGggdG8gdGhlIG1vZGVsLlxuICogICBDYW4gYmUgYW4gYWJzb2x1dGUgSFRUUCBwYXRoIChlLmcuLFxuICogICAnaHR0cDovL2xvY2FsaG9zdDo4MDAwL21vZGVsLXVwbG9hZCknKSBvciBhIHJlbGF0aXZlIHBhdGggKGUuZy4sXG4gKiAgICcuL21vZGVsLXVwbG9hZCcpLlxuICogQHBhcmFtIHJlcXVlc3RJbml0IFJlcXVlc3QgY29uZmlndXJhdGlvbnMgdG8gYmUgdXNlZCB3aGVuIHNlbmRpbmdcbiAqICAgIEhUVFAgcmVxdWVzdCB0byBzZXJ2ZXIgdXNpbmcgYGZldGNoYC4gSXQgY2FuIGNvbnRhaW4gZmllbGRzIHN1Y2ggYXNcbiAqICAgIGBtZXRob2RgLCBgY3JlZGVudGlhbHNgLCBgaGVhZGVyc2AsIGBtb2RlYCwgZXRjLiBTZWVcbiAqICAgIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9SZXF1ZXN0L1JlcXVlc3RcbiAqICAgIGZvciBtb3JlIGluZm9ybWF0aW9uLiBgcmVxdWVzdEluaXRgIG11c3Qgbm90IGhhdmUgYSBib2R5LCBiZWNhdXNlIHRoZVxuICogYm9keSB3aWxsIGJlIHNldCBieSBUZW5zb3JGbG93LmpzLiBGaWxlIGJsb2JzIHJlcHJlc2VudGluZyB0aGUgbW9kZWxcbiAqIHRvcG9sb2d5IChmaWxlbmFtZTogJ21vZGVsLmpzb24nKSBhbmQgdGhlIHdlaWdodHMgb2YgdGhlIG1vZGVsIChmaWxlbmFtZTpcbiAqICdtb2RlbC53ZWlnaHRzLmJpbicpIHdpbGwgYmUgYXBwZW5kZWQgdG8gdGhlIGJvZHkuIElmIGByZXF1ZXN0SW5pdGAgaGFzIGFcbiAqIGBib2R5YCwgYW4gRXJyb3Igd2lsbCBiZSB0aHJvd24uXG4gKiBAcGFyYW0gbG9hZE9wdGlvbnMgT3B0aW9uYWwgY29uZmlndXJhdGlvbiBmb3IgdGhlIGxvYWRpbmcuIEl0IGluY2x1ZGVzIHRoZVxuICogICBmb2xsb3dpbmcgZmllbGRzOlxuICogICAtIHdlaWdodFBhdGhQcmVmaXggT3B0aW9uYWwsIHRoaXMgc3BlY2lmaWVzIHRoZSBwYXRoIHByZWZpeCBmb3Igd2VpZ2h0XG4gKiAgICAgZmlsZXMsIGJ5IGRlZmF1bHQgdGhpcyBpcyBjYWxjdWxhdGVkIGZyb20gdGhlIHBhdGggcGFyYW0uXG4gKiAgIC0gZmV0Y2hGdW5jIE9wdGlvbmFsLCBjdXN0b20gYGZldGNoYCBmdW5jdGlvbi4gRS5nLiwgaW4gTm9kZS5qcyxcbiAqICAgICB0aGUgYGZldGNoYCBmcm9tIG5vZGUtZmV0Y2ggY2FuIGJlIHVzZWQgaGVyZS5cbiAqICAgLSBvblByb2dyZXNzIE9wdGlvbmFsLCBwcm9ncmVzcyBjYWxsYmFjayBmdW5jdGlvbiwgZmlyZWQgcGVyaW9kaWNhbGx5XG4gKiAgICAgYmVmb3JlIHRoZSBsb2FkIGlzIGNvbXBsZXRlZC5cbiAqIEByZXR1cm5zIEFuIGluc3RhbmNlIG9mIGBJT0hhbmRsZXJgLlxuICpcbiAqIEBkb2Mge1xuICogICBoZWFkaW5nOiAnTW9kZWxzJyxcbiAqICAgc3ViaGVhZGluZzogJ0xvYWRpbmcnLFxuICogICBuYW1lc3BhY2U6ICdpbycsXG4gKiAgIGlnbm9yZUNJOiB0cnVlXG4gKiB9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBodHRwKHBhdGg6IHN0cmluZywgbG9hZE9wdGlvbnM/OiBMb2FkT3B0aW9ucyk6IElPSGFuZGxlciB7XG4gIHJldHVybiBuZXcgSFRUUFJlcXVlc3QocGF0aCwgbG9hZE9wdGlvbnMpO1xufVxuXG4vKipcbiAqIERlcHJlY2F0ZWQuIFVzZSBgdGYuaW8uaHR0cGAuXG4gKiBAcGFyYW0gcGF0aFxuICogQHBhcmFtIGxvYWRPcHRpb25zXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBicm93c2VySFRUUFJlcXVlc3QoXG4gICAgcGF0aDogc3RyaW5nLCBsb2FkT3B0aW9ucz86IExvYWRPcHRpb25zKTogSU9IYW5kbGVyIHtcbiAgcmV0dXJuIGh0dHAocGF0aCwgbG9hZE9wdGlvbnMpO1xufVxuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTggR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG4vKipcbiAqIElPSGFuZGxlcnMgdGhhdCBwYXNzIHRocm91Z2ggdGhlIGluLW1lbW9yeSBNb2RlbEFydGlmYWN0cyBmb3JtYXQuXG4gKi9cblxuaW1wb3J0IHtJT0hhbmRsZXIsIE1vZGVsQXJ0aWZhY3RzLCBTYXZlUmVzdWx0LCBUcmFpbmluZ0NvbmZpZywgV2VpZ2h0c01hbmlmZXN0RW50cnl9IGZyb20gJy4vdHlwZXMnO1xuXG5jbGFzcyBQYXNzdGhyb3VnaExvYWRlciBpbXBsZW1lbnRzIElPSGFuZGxlciB7XG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgcmVhZG9ubHkgbW9kZWxBcnRpZmFjdHM/OiBNb2RlbEFydGlmYWN0cykge31cblxuICBhc3luYyBsb2FkKCk6IFByb21pc2U8TW9kZWxBcnRpZmFjdHM+IHtcbiAgICByZXR1cm4gdGhpcy5tb2RlbEFydGlmYWN0cztcbiAgfVxufVxuXG5jbGFzcyBQYXNzdGhyb3VnaFNhdmVyIGltcGxlbWVudHMgSU9IYW5kbGVyIHtcbiAgY29uc3RydWN0b3IoXG4gICAgICBwcml2YXRlIHJlYWRvbmx5IHNhdmVIYW5kbGVyOlxuICAgICAgICAgIChhcnRpZmFjdHM6IE1vZGVsQXJ0aWZhY3RzKSA9PiBQcm9taXNlPFNhdmVSZXN1bHQ+KSB7fVxuXG4gIGFzeW5jIHNhdmUobW9kZWxBcnRpZmFjdHM6IE1vZGVsQXJ0aWZhY3RzKSB7XG4gICAgcmV0dXJuIHRoaXMuc2F2ZUhhbmRsZXIobW9kZWxBcnRpZmFjdHMpO1xuICB9XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBJT0hhbmRsZXIgdGhhdCBsb2FkcyBtb2RlbCBhcnRpZmFjdHMgZnJvbSBtZW1vcnkuXG4gKlxuICogV2hlbiB1c2VkIGluIGNvbmp1bmN0aW9uIHdpdGggYHRmLmxvYWRMYXllcnNNb2RlbGAsIGFuIGluc3RhbmNlIG9mXG4gKiBgdGYuTGF5ZXJzTW9kZWxgIChLZXJhcy1zdHlsZSkgY2FuIGJlIGNvbnN0cnVjdGVkIGZyb20gdGhlIGxvYWRlZCBhcnRpZmFjdHMuXG4gKlxuICogYGBganNcbiAqIGNvbnN0IG1vZGVsID0gYXdhaXQgdGYubG9hZExheWVyc01vZGVsKHRmLmlvLmZyb21NZW1vcnkoXG4gKiAgICAgbW9kZWxUb3BvbG9neSwgd2VpZ2h0U3BlY3MsIHdlaWdodERhdGEpKTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBtb2RlbEFydGlmYWN0cyBhIG9iamVjdCBjb250YWluaW5nIG1vZGVsIHRvcG9sb2d5IChpLmUuLCBwYXJzZWQgZnJvbVxuICogICB0aGUgSlNPTiBmb3JtYXQpLlxuICogQHBhcmFtIHdlaWdodFNwZWNzIEFuIGFycmF5IG9mIGBXZWlnaHRzTWFuaWZlc3RFbnRyeWAgb2JqZWN0cyBkZXNjcmliaW5nIHRoZVxuICogICBuYW1lcywgc2hhcGVzLCB0eXBlcywgYW5kIHF1YW50aXphdGlvbiBvZiB0aGUgd2VpZ2h0IGRhdGEuXG4gKiBAcGFyYW0gd2VpZ2h0RGF0YSBBIHNpbmdsZSBgQXJyYXlCdWZmZXJgIGNvbnRhaW5pbmcgdGhlIHdlaWdodCBkYXRhLFxuICogICBjb25jYXRlbmF0ZWQgaW4gdGhlIG9yZGVyIGRlc2NyaWJlZCBieSB0aGUgd2VpZ2h0U3BlY3MuXG4gKiBAcGFyYW0gdHJhaW5pbmdDb25maWcgTW9kZWwgdHJhaW5pbmcgY29uZmlndXJhdGlvbi4gT3B0aW9uYWwuXG4gKlxuICogQHJldHVybnMgQSBwYXNzdGhyb3VnaCBgSU9IYW5kbGVyYCB0aGF0IHNpbXBseSBsb2FkcyB0aGUgcHJvdmlkZWQgZGF0YS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZyb21NZW1vcnkoXG4gICAgbW9kZWxBcnRpZmFjdHM6IHt9fE1vZGVsQXJ0aWZhY3RzLCB3ZWlnaHRTcGVjcz86IFdlaWdodHNNYW5pZmVzdEVudHJ5W10sXG4gICAgd2VpZ2h0RGF0YT86IEFycmF5QnVmZmVyLCB0cmFpbmluZ0NvbmZpZz86IFRyYWluaW5nQ29uZmlnKTogSU9IYW5kbGVyIHtcbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDEpIHtcbiAgICBjb25zdCBpc01vZGVsQXJ0aWZhY3RzID1cbiAgICAgICAgKG1vZGVsQXJ0aWZhY3RzIGFzIE1vZGVsQXJ0aWZhY3RzKS5tb2RlbFRvcG9sb2d5ICE9IG51bGwgfHxcbiAgICAgICAgKG1vZGVsQXJ0aWZhY3RzIGFzIE1vZGVsQXJ0aWZhY3RzKS53ZWlnaHRTcGVjcyAhPSBudWxsO1xuICAgIGlmIChpc01vZGVsQXJ0aWZhY3RzKSB7XG4gICAgICByZXR1cm4gbmV3IFBhc3N0aHJvdWdoTG9hZGVyKG1vZGVsQXJ0aWZhY3RzIGFzIE1vZGVsQXJ0aWZhY3RzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gTGVnYWN5IHN1cHBvcnQ6IHdpdGggb25seSBtb2RlbFRvcG9sb2d5LlxuICAgICAgLy8gVE9ETyhjYWlzKTogUmVtb3ZlIHRoaXMgZGVwcmVjYXRlZCBBUEkuXG4gICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgJ1BsZWFzZSBjYWxsIHRmLmlvLmZyb21NZW1vcnkoKSB3aXRoIG9ubHkgb25lIGFyZ3VtZW50LiAnICtcbiAgICAgICAgICAnVGhlIGFyZ3VtZW50IHNob3VsZCBiZSBvZiB0eXBlIE1vZGVsQXJ0aWZhY3RzLiAnICtcbiAgICAgICAgICAnVGhlIG11bHRpLWFyZ3VtZW50IHNpZ25hdHVyZSBvZiB0Zi5pby5mcm9tTWVtb3J5KCkgaGFzIGJlZW4gJyArXG4gICAgICAgICAgJ2RlcHJlY2F0ZWQgYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiBhIGZ1dHVyZSByZWxlYXNlLicpO1xuICAgICAgcmV0dXJuIG5ldyBQYXNzdGhyb3VnaExvYWRlcih7bW9kZWxUb3BvbG9neTogbW9kZWxBcnRpZmFjdHMgYXMge319KTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgLy8gTGVnYWN5IHN1cHBvcnQuXG4gICAgLy8gVE9ETyhjYWlzKTogUmVtb3ZlIHRoaXMgZGVwcmVjYXRlZCBBUEkuXG4gICAgY29uc29sZS53YXJuKFxuICAgICAgICAnUGxlYXNlIGNhbGwgdGYuaW8uZnJvbU1lbW9yeSgpIHdpdGggb25seSBvbmUgYXJndW1lbnQuICcgK1xuICAgICAgICAnVGhlIGFyZ3VtZW50IHNob3VsZCBiZSBvZiB0eXBlIE1vZGVsQXJ0aWZhY3RzLiAnICtcbiAgICAgICAgJ1RoZSBtdWx0aS1hcmd1bWVudCBzaWduYXR1cmUgb2YgdGYuaW8uZnJvbU1lbW9yeSgpIGhhcyBiZWVuICcgK1xuICAgICAgICAnZGVwcmVjYXRlZCBhbmQgd2lsbCBiZSByZW1vdmVkIGluIGEgZnV0dXJlIHJlbGVhc2UuJyk7XG4gICAgcmV0dXJuIG5ldyBQYXNzdGhyb3VnaExvYWRlcih7XG4gICAgICBtb2RlbFRvcG9sb2d5OiBtb2RlbEFydGlmYWN0cyBhcyB7fSxcbiAgICAgIHdlaWdodFNwZWNzLFxuICAgICAgd2VpZ2h0RGF0YSxcbiAgICAgIHRyYWluaW5nQ29uZmlnXG4gICAgfSk7XG4gIH1cbn1cblxuLyoqXG4gKiBDcmVhdGVzIGFuIElPSGFuZGxlciB0aGF0IHBhc3NlcyBzYXZlZCBtb2RlbCBhcnRpZmFjdHMgdG8gYSBjYWxsYmFjay5cbiAqXG4gKiBgYGBqc1xuICogZnVuY3Rpb24gaGFuZGxlU2F2ZShhcnRpZmFjdHMpIHtcbiAqICAgLy8gLi4uIGRvIHNvbWV0aGluZyB3aXRoIHRoZSBhcnRpZmFjdHMgLi4uXG4gKiAgIHJldHVybiB7bW9kZWxBcnRpZmFjdHNJbmZvOiB7Li4ufSwgLi4ufTtcbiAqIH1cbiAqXG4gKiBjb25zdCBzYXZlUmVzdWx0ID0gbW9kZWwuc2F2ZSh0Zi5pby53aXRoU2F2ZUhhbmRsZXIoaGFuZGxlU2F2ZSkpO1xuICogYGBgXG4gKlxuICogQHBhcmFtIHNhdmVIYW5kbGVyIEEgZnVuY3Rpb24gdGhhdCBhY2NlcHRzIGEgYE1vZGVsQXJ0aWZhY3RzYCBhbmQgcmV0dXJucyBhXG4gKiAgICAgYFNhdmVSZXN1bHRgLlxuICovXG5leHBvcnQgZnVuY3Rpb24gd2l0aFNhdmVIYW5kbGVyKFxuICAgIHNhdmVIYW5kbGVyOiAoYXJ0aWZhY3RzOiBNb2RlbEFydGlmYWN0cykgPT5cbiAgICAgICAgUHJvbWlzZTxTYXZlUmVzdWx0Pik6IElPSGFuZGxlciB7XG4gIHJldHVybiBuZXcgUGFzc3Rocm91Z2hTYXZlcihzYXZlSGFuZGxlcik7XG59XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbmltcG9ydCB7S2VybmVsQmFja2VuZH0gZnJvbSAnLi4vYmFja2VuZHMvYmFja2VuZCc7XG5pbXBvcnQge0VOR0lORSwgRm9yd2FyZEZ1bmN9IGZyb20gJy4uL2VuZ2luZSc7XG5pbXBvcnQge1Jlc2hhcGUsIFJlc2hhcGVBdHRycywgUmVzaGFwZUlucHV0c30gZnJvbSAnLi4va2VybmVsX25hbWVzJztcbmltcG9ydCB7TmFtZWRBdHRyTWFwfSBmcm9tICcuLi9rZXJuZWxfcmVnaXN0cnknO1xuaW1wb3J0IHtUZW5zb3J9IGZyb20gJy4uL3RlbnNvcic7XG5pbXBvcnQge0dyYWRTYXZlRnVuYywgTmFtZWRUZW5zb3JNYXB9IGZyb20gJy4uL3RlbnNvcl90eXBlcyc7XG5pbXBvcnQge2NvbnZlcnRUb1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yX3V0aWxfZW52JztcbmltcG9ydCB7UmFuaywgU2hhcGVNYXAsIFRlbnNvckxpa2V9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCAqIGFzIHV0aWwgZnJvbSAnLi4vdXRpbCc7XG5cbmltcG9ydCB7b3B9IGZyb20gJy4vb3BlcmF0aW9uJztcblxuLyoqXG4gKiBSZXNoYXBlcyBhIGB0Zi5UZW5zb3JgIHRvIGEgZ2l2ZW4gc2hhcGUuXG4gKlxuICogR2l2ZW4gYW4gaW5wdXQgdGVuc29yLCByZXR1cm5zIGEgbmV3IHRlbnNvciB3aXRoIHRoZSBzYW1lIHZhbHVlcyBhcyB0aGVcbiAqIGlucHV0IHRlbnNvciB3aXRoIHNoYXBlIGBzaGFwZWAuXG4gKlxuICogSWYgb25lIGNvbXBvbmVudCBvZiBzaGFwZSBpcyB0aGUgc3BlY2lhbCB2YWx1ZSAtMSwgdGhlIHNpemUgb2YgdGhhdFxuICogZGltZW5zaW9uIGlzIGNvbXB1dGVkIHNvIHRoYXQgdGhlIHRvdGFsIHNpemUgcmVtYWlucyBjb25zdGFudC4gSW5cbiAqIHBhcnRpY3VsYXIsIGEgc2hhcGUgb2YgWy0xXSBmbGF0dGVucyBpbnRvIDEtRC4gQXQgbW9zdCBvbmUgY29tcG9uZW50IG9mXG4gKiBzaGFwZSBjYW4gYmUgLTEuXG4gKlxuICogSWYgc2hhcGUgaXMgMS1EIG9yIGhpZ2hlciwgdGhlbiB0aGUgb3BlcmF0aW9uIHJldHVybnMgYSB0ZW5zb3Igd2l0aCBzaGFwZVxuICogc2hhcGUgZmlsbGVkIHdpdGggdGhlIHZhbHVlcyBvZiB0ZW5zb3IuIEluIHRoaXMgY2FzZSwgdGhlIG51bWJlciBvZlxuICogZWxlbWVudHMgaW1wbGllZCBieSBzaGFwZSBtdXN0IGJlIHRoZSBzYW1lIGFzIHRoZSBudW1iZXIgb2YgZWxlbWVudHMgaW5cbiAqIHRlbnNvci5cbiAqXG4gKiBgYGBqc1xuICogY29uc3QgeCA9IHRmLnRlbnNvcjFkKFsxLCAyLCAzLCA0XSk7XG4gKiB4LnJlc2hhcGUoWzIsIDJdKS5wcmludCgpO1xuICogYGBgXG4gKlxuICogQHBhcmFtIHggVGhlIGlucHV0IHRlbnNvciB0byBiZSByZXNoYXBlZC5cbiAqIEBwYXJhbSBzaGFwZSBBbiBhcnJheSBvZiBpbnRlZ2VycyBkZWZpbmluZyB0aGUgb3V0cHV0IHRlbnNvciBzaGFwZS5cbiAqXG4gKiBAZG9jIHtoZWFkaW5nOiAnVGVuc29ycycsIHN1YmhlYWRpbmc6ICdUcmFuc2Zvcm1hdGlvbnMnfVxuICovXG5mdW5jdGlvbiByZXNoYXBlXzxSIGV4dGVuZHMgUmFuaz4oXG4gICAgeDogVGVuc29yfFRlbnNvckxpa2UsIHNoYXBlOiBTaGFwZU1hcFtSXSk6IFRlbnNvcjxSPiB7XG4gIGNvbnN0ICR4ID0gY29udmVydFRvVGVuc29yKHgsICd4JywgJ3Jlc2hhcGUnLCBudWxsKTtcblxuICBjb25zdCBpbnB1dHM6IFJlc2hhcGVJbnB1dHMgPSB7eDogJHh9O1xuICBjb25zdCBhdHRyczogUmVzaGFwZUF0dHJzID0ge3NoYXBlfTtcbiAgY29uc3QgZm9yd2FyZDogRm9yd2FyZEZ1bmM8XG4gICAgICBUZW5zb3I8Uj4+ID0gKGJhY2tlbmQ6IEtlcm5lbEJhY2tlbmQsIHNhdmU6IEdyYWRTYXZlRnVuYykgPT4ge1xuICAgIHNoYXBlID0gdXRpbC5pbmZlckZyb21JbXBsaWNpdFNoYXBlKHNoYXBlLCAkeC5zaXplKSBhcyBTaGFwZU1hcFtSXTtcbiAgICB1dGlsLmFzc2VydChcbiAgICAgICAgJHguc2l6ZSA9PT0gdXRpbC5zaXplRnJvbVNoYXBlKHNoYXBlKSxcbiAgICAgICAgKCkgPT4gJ25ldyBzaGFwZSBhbmQgb2xkIHNoYXBlIG11c3QgaGF2ZSB0aGUgc2FtZSBudW1iZXIgb2YgZWxlbWVudHMuJyk7XG4gICAgc2F2ZShbJHhdKTtcbiAgICByZXR1cm4gYmFja2VuZC5yZXNoYXBlKCR4LCBzaGFwZSk7XG4gIH07XG4gIHJldHVybiBFTkdJTkUucnVuS2VybmVsRnVuYyhcbiAgICAgIGZvcndhcmQsIGlucHV0cyBhcyB7fSBhcyBOYW1lZFRlbnNvck1hcCwgbnVsbCAvKiBncmFkICovLCBSZXNoYXBlLFxuICAgICAgYXR0cnMgYXMge30gYXMgTmFtZWRBdHRyTWFwKTtcbn1cbmV4cG9ydCBjb25zdCByZXNoYXBlID0gb3Aoe3Jlc2hhcGVffSk7XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5pbXBvcnQge0VOR0lORSwgRm9yd2FyZEZ1bmN9IGZyb20gJy4uL2VuZ2luZSc7XG5pbXBvcnQge0JhdGNoTWF0TXVsLCBCYXRjaE1hdE11bEF0dHJzLCBCYXRjaE1hdE11bElucHV0c30gZnJvbSAnLi4va2VybmVsX25hbWVzJztcbmltcG9ydCB7TmFtZWRBdHRyTWFwfSBmcm9tICcuLi9rZXJuZWxfcmVnaXN0cnknO1xuaW1wb3J0IHtUZW5zb3IsIFRlbnNvcjNEfSBmcm9tICcuLi90ZW5zb3InO1xuaW1wb3J0IHtOYW1lZFRlbnNvck1hcH0gZnJvbSAnLi4vdGVuc29yX3R5cGVzJztcbmltcG9ydCB7bWFrZVR5cGVzTWF0Y2h9IGZyb20gJy4uL3RlbnNvcl91dGlsJztcbmltcG9ydCB7Y29udmVydFRvVGVuc29yfSBmcm9tICcuLi90ZW5zb3JfdXRpbF9lbnYnO1xuaW1wb3J0IHtUZW5zb3JMaWtlfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgKiBhcyB1dGlsIGZyb20gJy4uL3V0aWwnO1xuXG5pbXBvcnQge29wfSBmcm9tICcuL29wZXJhdGlvbic7XG5pbXBvcnQge3Jlc2hhcGV9IGZyb20gJy4vcmVzaGFwZSc7XG5cbi8qKlxuICogQ29tcHV0ZXMgdGhlIGRvdCBwcm9kdWN0IG9mIHR3byBtYXRyaWNlcywgQSAqIEIuIFRoZXNlIG11c3QgYmUgbWF0cmljZXMuXG4gKlxuICogYGBganNcbiAqIGNvbnN0IGEgPSB0Zi50ZW5zb3IyZChbMSwgMl0sIFsxLCAyXSk7XG4gKiBjb25zdCBiID0gdGYudGVuc29yMmQoWzEsIDIsIDMsIDRdLCBbMiwgMl0pO1xuICpcbiAqIGEubWF0TXVsKGIpLnByaW50KCk7ICAvLyBvciB0Zi5tYXRNdWwoYSwgYilcbiAqIGBgYFxuICogQHBhcmFtIGEgRmlyc3QgbWF0cml4IGluIGRvdCBwcm9kdWN0IG9wZXJhdGlvbi5cbiAqIEBwYXJhbSBiIFNlY29uZCBtYXRyaXggaW4gZG90IHByb2R1Y3Qgb3BlcmF0aW9uLlxuICogQHBhcmFtIHRyYW5zcG9zZUEgSWYgdHJ1ZSwgYGFgIGlzIHRyYW5zcG9zZWQgYmVmb3JlIG11bHRpcGxpY2F0aW9uLlxuICogQHBhcmFtIHRyYW5zcG9zZUIgSWYgdHJ1ZSwgYGJgIGlzIHRyYW5zcG9zZWQgYmVmb3JlIG11bHRpcGxpY2F0aW9uLlxuICpcbiAqIEBkb2Mge2hlYWRpbmc6ICdPcGVyYXRpb25zJywgc3ViaGVhZGluZzogJ01hdHJpY2VzJ31cbiAqL1xuZnVuY3Rpb24gbWF0TXVsXzxUIGV4dGVuZHMgVGVuc29yPihcbiAgICBhOiBUfFRlbnNvckxpa2UsIGI6IFR8VGVuc29yTGlrZSwgdHJhbnNwb3NlQSA9IGZhbHNlLFxuICAgIHRyYW5zcG9zZUIgPSBmYWxzZSk6IFQge1xuICBsZXQgJGEgPSBjb252ZXJ0VG9UZW5zb3IoYSwgJ2EnLCAnbWF0TXVsJyk7XG4gIGxldCAkYiA9IGNvbnZlcnRUb1RlbnNvcihiLCAnYicsICdtYXRNdWwnKTtcbiAgWyRhLCAkYl0gPSBtYWtlVHlwZXNNYXRjaCgkYSwgJGIpO1xuXG4gIHV0aWwuYXNzZXJ0KFxuICAgICAgJGEucmFuayA+PSAyICYmICRiLnJhbmsgPj0gMiAmJiAkYS5yYW5rID09PSAkYi5yYW5rLFxuICAgICAgKCkgPT4gYEVycm9yIGluIG1hdE11bDogaW5wdXRzIG11c3QgaGF2ZSB0aGUgc2FtZSByYW5rIG9mIGF0IGxlYXN0IDIsIGAgK1xuICAgICAgICAgIGBnb3QgcmFua3MgJHskYS5yYW5rfSBhbmQgJHskYi5yYW5rfS5gKTtcblxuICBjb25zdCBpbm5lclNoYXBlQSA9XG4gICAgICB0cmFuc3Bvc2VBID8gJGEuc2hhcGVbJGEucmFuayAtIDJdIDogJGEuc2hhcGVbJGEucmFuayAtIDFdO1xuICBjb25zdCBpbm5lclNoYXBlQiA9XG4gICAgICB0cmFuc3Bvc2VCID8gJGIuc2hhcGVbJGIucmFuayAtIDFdIDogJGIuc2hhcGVbJGIucmFuayAtIDJdO1xuXG4gIGNvbnN0IG91dGVyU2hhcGVBID1cbiAgICAgIHRyYW5zcG9zZUEgPyAkYS5zaGFwZVskYS5yYW5rIC0gMV0gOiAkYS5zaGFwZVskYS5yYW5rIC0gMl07XG4gIGNvbnN0IG91dGVyU2hhcGVCID1cbiAgICAgIHRyYW5zcG9zZUIgPyAkYi5zaGFwZVskYi5yYW5rIC0gMl0gOiAkYi5zaGFwZVskYi5yYW5rIC0gMV07XG5cbiAgY29uc3Qgb3V0ZXJEaW1zQSA9ICRhLnNoYXBlLnNsaWNlKDAsIC0yKTtcbiAgY29uc3Qgb3V0ZXJEaW1zQiA9ICRiLnNoYXBlLnNsaWNlKDAsIC0yKTtcbiAgY29uc3QgYmF0Y2hEaW1BID0gdXRpbC5zaXplRnJvbVNoYXBlKG91dGVyRGltc0EpO1xuICBjb25zdCBiYXRjaERpbUIgPSB1dGlsLnNpemVGcm9tU2hhcGUob3V0ZXJEaW1zQik7XG5cbiAgdXRpbC5hc3NlcnQoXG4gICAgICB1dGlsLmFycmF5c0VxdWFsKG91dGVyRGltc0EsIG91dGVyRGltc0IpLFxuICAgICAgKCkgPT4gYEVycm9yIGluIG1hdE11bDogb3V0ZXIgZGltZW5zaW9ucyAoJHtvdXRlckRpbXNBfSkgYW5kIChgICtcbiAgICAgICAgICBgJHtvdXRlckRpbXNCfSkgb2YgVGVuc29ycyB3aXRoIHNoYXBlcyAkeyRhLnNoYXBlfSBhbmQgYCArXG4gICAgICAgICAgYCR7JGIuc2hhcGV9IG11c3QgbWF0Y2guYCk7XG5cbiAgdXRpbC5hc3NlcnQoXG4gICAgICBpbm5lclNoYXBlQSA9PT0gaW5uZXJTaGFwZUIsXG4gICAgICAoKSA9PiBgRXJyb3IgaW4gbWF0TXVsOiBpbm5lciBzaGFwZXMgKCR7aW5uZXJTaGFwZUF9KSBhbmQgKGAgK1xuICAgICAgICAgIGAke2lubmVyU2hhcGVCfSkgb2YgVGVuc29ycyB3aXRoIHNoYXBlcyAkeyRhLnNoYXBlfSBhbmQgYCArXG4gICAgICAgICAgYCR7JGIuc2hhcGV9IGFuZCB0cmFuc3Bvc2VBPSR7dHJhbnNwb3NlQX1gICtcbiAgICAgICAgICBgIGFuZCB0cmFuc3Bvc2VCPSR7dHJhbnNwb3NlQn0gbXVzdCBtYXRjaC5gKTtcblxuICBjb25zdCBvdXRTaGFwZSA9ICRhLnNoYXBlLnNsaWNlKDAsIC0yKS5jb25jYXQoW291dGVyU2hhcGVBLCBvdXRlclNoYXBlQl0pO1xuXG4gIGNvbnN0IGEzRCA9IHRyYW5zcG9zZUEgPyByZXNoYXBlKCRhLCBbYmF0Y2hEaW1BLCBpbm5lclNoYXBlQSwgb3V0ZXJTaGFwZUFdKSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICByZXNoYXBlKCRhLCBbYmF0Y2hEaW1BLCBvdXRlclNoYXBlQSwgaW5uZXJTaGFwZUFdKTtcbiAgY29uc3QgYjNEID0gdHJhbnNwb3NlQiA/IHJlc2hhcGUoJGIsIFtiYXRjaERpbUIsIG91dGVyU2hhcGVCLCBpbm5lclNoYXBlQl0pIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc2hhcGUoJGIsIFtiYXRjaERpbUIsIGlubmVyU2hhcGVCLCBvdXRlclNoYXBlQl0pO1xuXG4gIGNvbnN0IGZvcndhcmQ6IEZvcndhcmRGdW5jPFRlbnNvcj4gPSAoYmFja2VuZCwgc2F2ZSkgPT4ge1xuICAgIHNhdmUoW2EzRCwgYjNEXSk7XG5cbiAgICByZXR1cm4gYmFja2VuZC5iYXRjaE1hdE11bChcbiAgICAgICAgYTNEIGFzIFRlbnNvcjNELCBiM0QgYXMgVGVuc29yM0QsIHRyYW5zcG9zZUEsIHRyYW5zcG9zZUIpO1xuICB9O1xuXG4gIGNvbnN0IGlucHV0czogQmF0Y2hNYXRNdWxJbnB1dHMgPSB7YTogYTNELCBiOiBiM0R9O1xuXG4gIGNvbnN0IGF0dHJzOiBCYXRjaE1hdE11bEF0dHJzID0ge3RyYW5zcG9zZUEsIHRyYW5zcG9zZUJ9O1xuXG4gIGNvbnN0IHJlcyA9IEVOR0lORS5ydW5LZXJuZWxGdW5jKFxuICAgICAgZm9yd2FyZCwgaW5wdXRzIGFzIHt9IGFzIE5hbWVkVGVuc29yTWFwLCBudWxsIC8qIGdyYWQgKi8sIEJhdGNoTWF0TXVsLFxuICAgICAgYXR0cnMgYXMge30gYXMgTmFtZWRBdHRyTWFwKTtcblxuICByZXR1cm4gcmVzaGFwZShyZXMsIG91dFNoYXBlKSBhcyBUO1xufVxuXG5leHBvcnQgY29uc3QgbWF0TXVsID0gb3Aoe21hdE11bF99KTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuaW1wb3J0IHtFTkdJTkUsIEZvcndhcmRGdW5jfSBmcm9tICcuLi9lbmdpbmUnO1xuaW1wb3J0IHtPbmVIb3QsIE9uZUhvdEF0dHJzLCBPbmVIb3RJbnB1dHN9IGZyb20gJy4uL2tlcm5lbF9uYW1lcyc7XG5pbXBvcnQge05hbWVkQXR0ck1hcH0gZnJvbSAnLi4va2VybmVsX3JlZ2lzdHJ5JztcbmltcG9ydCB7VGVuc29yfSBmcm9tICcuLi90ZW5zb3InO1xuaW1wb3J0IHtOYW1lZFRlbnNvck1hcH0gZnJvbSAnLi4vdGVuc29yX3R5cGVzJztcbmltcG9ydCB7Y29udmVydFRvVGVuc29yfSBmcm9tICcuLi90ZW5zb3JfdXRpbF9lbnYnO1xuaW1wb3J0IHtUZW5zb3JMaWtlfSBmcm9tICcuLi90eXBlcyc7XG5cbmltcG9ydCB7b3B9IGZyb20gJy4vb3BlcmF0aW9uJztcbmltcG9ydCB7cmVzaGFwZX0gZnJvbSAnLi9yZXNoYXBlJztcblxuLyoqXG4gKiBDcmVhdGVzIGEgb25lLWhvdCBgdGYuVGVuc29yYC4gVGhlIGxvY2F0aW9ucyByZXByZXNlbnRlZCBieSBgaW5kaWNlc2AgdGFrZVxuICogdmFsdWUgYG9uVmFsdWVgIChkZWZhdWx0cyB0byAxKSwgd2hpbGUgYWxsIG90aGVyIGxvY2F0aW9ucyB0YWtlIHZhbHVlXG4gKiBgb2ZmVmFsdWVgIChkZWZhdWx0cyB0byAwKS4gSWYgYGluZGljZXNgIGlzIHJhbmsgYFJgLCB0aGUgb3V0cHV0IGhhcyByYW5rXG4gKiBgUisxYCB3aXRoIHRoZSBsYXN0IGF4aXMgb2Ygc2l6ZSBgZGVwdGhgLlxuICpcbiAqIGBgYGpzXG4gKiB0Zi5vbmVIb3QodGYudGVuc29yMWQoWzAsIDFdLCAnaW50MzInKSwgMykucHJpbnQoKTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBpbmRpY2VzIGB0Zi5UZW5zb3JgIG9mIGluZGljZXMgd2l0aCBkdHlwZSBgaW50MzJgLlxuICogQHBhcmFtIGRlcHRoIFRoZSBkZXB0aCBvZiB0aGUgb25lIGhvdCBkaW1lbnNpb24uXG4gKiBAcGFyYW0gb25WYWx1ZSBBIG51bWJlciB1c2VkIHRvIGZpbGwgaW4gdGhlIG91dHB1dCB3aGVuIHRoZSBpbmRleCBtYXRjaGVzXG4gKiB0aGUgbG9jYXRpb24uXG4gKiBAcGFyYW0gb2ZmVmFsdWUgQSBudW1iZXIgdXNlZCB0byBmaWxsIGluIHRoZSBvdXRwdXQgd2hlbiB0aGUgaW5kZXggZG9lc1xuICogICAgIG5vdCBtYXRjaCB0aGUgbG9jYXRpb24uXG4gKlxuICogQGRvYyB7aGVhZGluZzogJ1RlbnNvcnMnLCBzdWJoZWFkaW5nOiAnQ3JlYXRpb24nfVxuICovXG5mdW5jdGlvbiBvbmVIb3RfKFxuICAgIGluZGljZXM6IFRlbnNvcnxUZW5zb3JMaWtlLCBkZXB0aDogbnVtYmVyLCBvblZhbHVlID0gMSxcbiAgICBvZmZWYWx1ZSA9IDApOiBUZW5zb3Ige1xuICBpZiAoZGVwdGggPCAyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBFcnJvciBpbiBvbmVIb3Q6IGRlcHRoIG11c3QgYmUgPj0yLCBidXQgaXQgaXMgJHtkZXB0aH1gKTtcbiAgfVxuICBjb25zdCAkaW5kaWNlcyA9IGNvbnZlcnRUb1RlbnNvcihpbmRpY2VzLCAnaW5kaWNlcycsICdvbmVIb3QnLCAnaW50MzInKTtcbiAgY29uc3Qgb3V0U2hhcGUgPSBbLi4uJGluZGljZXMuc2hhcGUsIGRlcHRoXTtcblxuICBjb25zdCBmb3J3YXJkOiBGb3J3YXJkRnVuYzxUZW5zb3I+ID0gKGJhY2tlbmQsIHNhdmUpID0+IHtcbiAgICBzYXZlKFskaW5kaWNlc10pO1xuICAgIHJldHVybiByZXNoYXBlKFxuICAgICAgICBiYWNrZW5kLm9uZUhvdChcbiAgICAgICAgICAgIHJlc2hhcGUoJGluZGljZXMsIFskaW5kaWNlcy5zaXplXSksIGRlcHRoLCBvblZhbHVlLCBvZmZWYWx1ZSksXG4gICAgICAgIG91dFNoYXBlKTtcbiAgfTtcblxuICBjb25zdCBpbnB1dHM6IE9uZUhvdElucHV0cyA9IHtpbmRpY2VzOiAkaW5kaWNlc307XG4gIGNvbnN0IGF0dHJzOiBPbmVIb3RBdHRycyA9IHtkZXB0aCwgb25WYWx1ZSwgb2ZmVmFsdWV9O1xuXG4gIHJldHVybiBFTkdJTkUucnVuS2VybmVsRnVuYyhcbiAgICAgIGZvcndhcmQsIGlucHV0cyBhcyB1bmtub3duIGFzIE5hbWVkVGVuc29yTWFwLCBudWxsIC8qIGdyYWQgKi8sIE9uZUhvdCxcbiAgICAgIGF0dHJzIGFzIHVua25vd24gYXMgTmFtZWRBdHRyTWFwKTtcbn1cblxuZXhwb3J0IGNvbnN0IG9uZUhvdCA9IG9wKHtvbmVIb3RffSk7XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbmltcG9ydCB7RU5HSU5FfSBmcm9tICcuLi9lbmdpbmUnO1xuaW1wb3J0IHtUcmFuc3Bvc2UsIFRyYW5zcG9zZUF0dHJzLCBUcmFuc3Bvc2VJbnB1dHN9IGZyb20gJy4uL2tlcm5lbF9uYW1lcyc7XG5pbXBvcnQge05hbWVkQXR0ck1hcH0gZnJvbSAnLi4va2VybmVsX3JlZ2lzdHJ5JztcbmltcG9ydCB7VGVuc29yfSBmcm9tICcuLi90ZW5zb3InO1xuaW1wb3J0IHtOYW1lZFRlbnNvck1hcH0gZnJvbSAnLi4vdGVuc29yX3R5cGVzJztcbmltcG9ydCB7Y29udmVydFRvVGVuc29yfSBmcm9tICcuLi90ZW5zb3JfdXRpbF9lbnYnO1xuaW1wb3J0IHtUZW5zb3JMaWtlfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgKiBhcyB1dGlsIGZyb20gJy4uL3V0aWwnO1xuXG5pbXBvcnQge29wfSBmcm9tICcuL29wZXJhdGlvbic7XG5cbi8qKlxuICogVHJhbnNwb3NlcyB0aGUgYHRmLlRlbnNvcmAuIFBlcm11dGVzIHRoZSBkaW1lbnNpb25zIGFjY29yZGluZyB0byBgcGVybWAuXG4gKlxuICogVGhlIHJldHVybmVkIGB0Zi5UZW5zb3JgJ3MgZGltZW5zaW9uIGBpYCB3aWxsIGNvcnJlc3BvbmQgdG8gdGhlIGlucHV0XG4gKiBkaW1lbnNpb24gYHBlcm1baV1gLiBJZiBgcGVybWAgaXMgbm90IGdpdmVuLCBpdCBpcyBzZXQgdG8gYFtuLTEuLi4wXWAsXG4gKiB3aGVyZSBgbmAgaXMgdGhlIHJhbmsgb2YgdGhlIGlucHV0IGB0Zi5UZW5zb3JgLiBIZW5jZSBieSBkZWZhdWx0LCB0aGlzXG4gKiBvcGVyYXRpb24gcGVyZm9ybXMgYSByZWd1bGFyIG1hdHJpeCB0cmFuc3Bvc2Ugb24gMi1EIGlucHV0IGB0Zi5UZW5zb3Jgcy5cbiAqXG4gKiBgYGBqc1xuICogY29uc3QgYSA9IHRmLnRlbnNvcjJkKFsxLCAyLCAzLCA0LCA1LCA2XSwgWzIsIDNdKTtcbiAqXG4gKiBhLnRyYW5zcG9zZSgpLnByaW50KCk7ICAvLyBvciB0Zi50cmFuc3Bvc2UoYSlcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB4IFRoZSB0ZW5zb3IgdG8gdHJhbnNwb3NlLlxuICogQHBhcmFtIHBlcm0gVGhlIHBlcm11dGF0aW9uIG9mIHRoZSBkaW1lbnNpb25zIG9mIGEuXG4gKlxuICogQGRvYyB7aGVhZGluZzogJ09wZXJhdGlvbnMnLCBzdWJoZWFkaW5nOiAnTWF0cmljZXMnfVxuICovXG5mdW5jdGlvbiB0cmFuc3Bvc2VfPFQgZXh0ZW5kcyBUZW5zb3I+KHg6IFR8VGVuc29yTGlrZSwgcGVybT86IG51bWJlcltdKTogVCB7XG4gIGNvbnN0ICR4ID0gY29udmVydFRvVGVuc29yKHgsICd4JywgJ3RyYW5zcG9zZScpO1xuXG4gIGlmIChwZXJtID09IG51bGwpIHtcbiAgICBwZXJtID0gJHguc2hhcGUubWFwKChzLCBpKSA9PiBpKS5yZXZlcnNlKCk7XG4gIH1cbiAgdXRpbC5hc3NlcnQoXG4gICAgICAkeC5yYW5rID09PSBwZXJtLmxlbmd0aCxcbiAgICAgICgpID0+IGBFcnJvciBpbiB0cmFuc3Bvc2U6IHJhbmsgb2YgaW5wdXQgJHskeC5yYW5rfSBgICtcbiAgICAgICAgICBgbXVzdCBtYXRjaCBsZW5ndGggb2YgcGVybSAke3Blcm19LmApO1xuICBwZXJtLmZvckVhY2goYXhpcyA9PiB7XG4gICAgdXRpbC5hc3NlcnQoXG4gICAgICAgIGF4aXMgPj0gMCAmJiBheGlzIDwgJHgucmFuayxcbiAgICAgICAgKCkgPT4gYEFsbCBlbnRyaWVzIGluICdwZXJtJyBtdXN0IGJlIGJldHdlZW4gMCBhbmQgJHskeC5yYW5rIC0gMX1gICtcbiAgICAgICAgICAgIGAgYnV0IGdvdCAke3Blcm19YCk7XG4gIH0pO1xuXG4gIGlmICgkeC5yYW5rIDw9IDEpIHtcbiAgICByZXR1cm4gJHguY2xvbmUoKTtcbiAgfVxuXG4gIGNvbnN0IGlucHV0czogVHJhbnNwb3NlSW5wdXRzID0ge3g6ICR4fTtcbiAgY29uc3QgYXR0cnM6IFRyYW5zcG9zZUF0dHJzID0ge3Blcm19O1xuXG4gIHJldHVybiBFTkdJTkUucnVuS2VybmVsRnVuYyhcbiAgICAgIGJhY2tlbmQgPT4gYmFja2VuZC50cmFuc3Bvc2UoJHgsIHBlcm0pLCBpbnB1dHMgYXMge30gYXMgTmFtZWRUZW5zb3JNYXAsXG4gICAgICBudWxsIC8qIGdyYWRpZW50ICovLCBUcmFuc3Bvc2UsIGF0dHJzIGFzIHt9IGFzIE5hbWVkQXR0ck1hcCk7XG59XG5cbmV4cG9ydCBjb25zdCB0cmFuc3Bvc2UgPSBvcCh7dHJhbnNwb3NlX30pO1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTggR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG5pbXBvcnQge1RlbnNvcjFELCBUZW5zb3IyRH0gZnJvbSAnLi4vdGVuc29yJztcbmltcG9ydCB7Y29udmVydFRvVGVuc29yfSBmcm9tICcuLi90ZW5zb3JfdXRpbF9lbnYnO1xuaW1wb3J0IHtUZW5zb3JMaWtlfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgKiBhcyB1dGlsIGZyb20gJy4uL3V0aWwnO1xuXG5pbXBvcnQge2Nhc3R9IGZyb20gJy4vY2FzdCc7XG5pbXBvcnQge21hdE11bH0gZnJvbSAnLi9tYXRfbXVsJztcbmltcG9ydCB7b25lSG90fSBmcm9tICcuL29uZV9ob3QnO1xuaW1wb3J0IHtvcH0gZnJvbSAnLi9vcGVyYXRpb24nO1xuaW1wb3J0IHt0cmFuc3Bvc2V9IGZyb20gJy4vdHJhbnNwb3NlJztcblxuLyoqXG4gKiBDb21wdXRlcyB0aGUgY29uZnVzaW9uIG1hdHJpeCBmcm9tIHRydWUgbGFiZWxzIGFuZCBwcmVkaWN0ZWQgbGFiZWxzLlxuICpcbiAqIGBgYGpzXG4gKiBjb25zdCBsYWJlbHMgPSB0Zi50ZW5zb3IxZChbMCwgMSwgMiwgMSwgMF0sICdpbnQzMicpO1xuICogY29uc3QgcHJlZGljdGlvbnMgPSB0Zi50ZW5zb3IxZChbMCwgMiwgMiwgMSwgMF0sICdpbnQzMicpO1xuICogY29uc3QgbnVtQ2xhc3NlcyA9IDM7XG4gKiBjb25zdCBvdXQgPSB0Zi5tYXRoLmNvbmZ1c2lvbk1hdHJpeChsYWJlbHMsIHByZWRpY3Rpb25zLCBudW1DbGFzc2VzKTtcbiAqIG91dC5wcmludCgpO1xuICogLy8gRXhwZWN0ZWQgb3V0cHV0IG1hdHJpeDpcbiAqIC8vIFtbMiwgMCwgMF0sXG4gKiAvLyAgWzAsIDEsIDFdLFxuICogLy8gIFswLCAwLCAxXV1cbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBsYWJlbHMgVGhlIHRhcmdldCBsYWJlbHMsIGFzc3VtZWQgdG8gYmUgMC1iYXNlZCBpbnRlZ2Vyc1xuICogICBmb3IgdGhlIGNsYXNzZXMuIFRoZSBzaGFwZSBpcyBgW251bUV4YW1wbGVzXWAsIHdoZXJlXG4gKiAgIGBudW1FeGFtcGxlc2AgaXMgdGhlIG51bWJlciBvZiBleGFtcGxlcyBpbmNsdWRlZC5cbiAqIEBwYXJhbSBwcmVkaWN0aW9ucyBUaGUgcHJlZGljdGVkIGNsYXNzZXMsIGFzc3VtZWQgdG8gYmVcbiAqICAgMC1iYXNlZCBpbnRlZ2VycyBmb3IgdGhlIGNsYXNzZXMuIE11c3QgaGF2ZSB0aGUgc2FtZSBzaGFwZSBhcyBgbGFiZWxzYC5cbiAqIEBwYXJhbSBudW1DbGFzc2VzIE51bWJlciBvZiBhbGwgY2xhc3NlcywgYXMgYW4gaW50ZWdlci5cbiAqICAgSXRzIHZhbHVlIG11c3QgYmUgbGFyZ2VyIHRoYW4gdGhlIGxhcmdlc3QgZWxlbWVudCBpbiBgbGFiZWxzYCBhbmRcbiAqICAgYHByZWRpY3Rpb25zYC5cbiAqIEByZXR1cm5zIFRoZSBjb25mdXNpb24gbWF0cml4IGFzIGEgaW50MzItdHlwZSAyRCB0ZW5zb3IuIFRoZSB2YWx1ZSBhdFxuICogICByb3cgYHJgIGFuZCBjb2x1bW4gYGNgIGlzIHRoZSBudW1iZXIgb2YgdGltZXMgZXhhbXBsZXMgb2YgYWN0dWFsIGNsYXNzXG4gKiAgIGByYCB3ZXJlIHByZWRpY3RlZCBhcyBjbGFzcyBgY2AuXG4gKlxuICogQGRvYyB7aGVhZGluZzogJ09wZXJhdGlvbnMnLCBzdWJoZWFkaW5nOiAnRXZhbHVhdGlvbid9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb25mdXNpb25NYXRyaXhfKFxuICAgIGxhYmVsczogVGVuc29yMUR8VGVuc29yTGlrZSwgcHJlZGljdGlvbnM6IFRlbnNvcjFEfFRlbnNvckxpa2UsXG4gICAgbnVtQ2xhc3NlczogbnVtYmVyKTogVGVuc29yMkQge1xuICBjb25zdCAkbGFiZWxzID0gY29udmVydFRvVGVuc29yKGxhYmVscywgJ2xhYmVscycsICdjb25mdXNpb25NYXRyaXgnKTtcbiAgY29uc3QgJHByZWRpY3Rpb25zID1cbiAgICAgIGNvbnZlcnRUb1RlbnNvcihwcmVkaWN0aW9ucywgJ3ByZWRpY3Rpb25zJywgJ2NvbmZ1c2lvbk1hdHJpeCcpO1xuXG4gIHV0aWwuYXNzZXJ0KFxuICAgICAgbnVtQ2xhc3NlcyA9PSBudWxsIHx8IG51bUNsYXNzZXMgPiAwICYmIE51bWJlci5pc0ludGVnZXIobnVtQ2xhc3NlcyksXG4gICAgICAoKSA9PiBgSWYgcHJvdmlkZWQsIG51bUNsYXNzZXMgbXVzdCBiZSBhIHBvc2l0aXZlIGludGVnZXIsIGAgK1xuICAgICAgICAgIGBidXQgZ290ICR7bnVtQ2xhc3Nlc31gKTtcbiAgdXRpbC5hc3NlcnQoXG4gICAgICAkbGFiZWxzLnJhbmsgPT09IDEsXG4gICAgICAoKSA9PiBgRXhwZWN0ZWQgdGhlIHJhbmsgb2YgbGFiZWxzIHRvIGJlIDEsIGJ1dCBnb3QgJHskbGFiZWxzLnJhbmt9YCk7XG4gIHV0aWwuYXNzZXJ0KFxuICAgICAgJHByZWRpY3Rpb25zLnJhbmsgPT09IDEsXG4gICAgICAoKSA9PiBgRXhwZWN0ZWQgdGhlIHJhbmsgb2YgcHJlZGljdGlvbnMgdG8gYmUgMSwgYCArXG4gICAgICAgICAgYGJ1dCBnb3QgJHskcHJlZGljdGlvbnMucmFua31gKTtcbiAgdXRpbC5hc3NlcnQoXG4gICAgICAkbGFiZWxzLnNoYXBlWzBdID09PSAkcHJlZGljdGlvbnMuc2hhcGVbMF0sXG4gICAgICAoKSA9PiBgTWlzbWF0Y2ggaW4gdGhlIG51bWJlciBvZiBleGFtcGxlczogYCArXG4gICAgICAgICAgYCR7JGxhYmVscy5zaGFwZVswXX0gdnMuICR7JHByZWRpY3Rpb25zLnNoYXBlWzBdfS4gYCArXG4gICAgICAgICAgYExhYmVscyBhbmQgcHJlZGljdGlvbnMgc2hvdWxkIGhhdmUgdGhlIHNhbWUgbnVtYmVyIG9mIGVsZW1lbnRzLmApO1xuICB1dGlsLmFzc2VydChcbiAgICAgIG51bUNsYXNzZXMgPiAwICYmIE51bWJlci5pc0ludGVnZXIobnVtQ2xhc3NlcyksXG4gICAgICAoKSA9PiBgbnVtQ2xhc3NlcyBpcyByZXF1aXJlZCB0byBiZSBhIHBvc2l0aXZlIGludGVnZXIsIGJ1dCBnb3QgYCArXG4gICAgICAgICAgYCR7bnVtQ2xhc3Nlc31gKTtcbiAgLy8gVE9ETyhjYWlzKTogSW4gdGhlIGZ1dHVyZSwgaWYgb25lSG90IHN1cHBvcnRzIHRlbnNvcnMgaW5wdXRzIGZvclxuICAvLyAgIGBudW1DbGFzc2VzYCwgYGNvbmZ1c2lvbk1hdHJpeGAgY2FuIG1ha2UgYG51bUNsYXNzZXNgIG9wdGlvbmFsLlxuXG4gIGNvbnN0IG9uZUhvdExhYmVscyA9IG9uZUhvdChjYXN0KCRsYWJlbHMsICdpbnQzMicpLCBudW1DbGFzc2VzKSBhcyBUZW5zb3IyRDtcbiAgY29uc3Qgb25lSG90UHJlZGljdGlvbnMgPVxuICAgICAgb25lSG90KGNhc3QoJHByZWRpY3Rpb25zLCAnaW50MzInKSwgbnVtQ2xhc3NlcykgYXMgVGVuc29yMkQ7XG4gIGNvbnN0IG9uZUhvdExhYmVsc1Q6IFRlbnNvcjJEID0gdHJhbnNwb3NlKG9uZUhvdExhYmVscyk7XG4gIHJldHVybiBjYXN0KG1hdE11bChvbmVIb3RMYWJlbHNULCBvbmVIb3RQcmVkaWN0aW9ucyksICdpbnQzMicpO1xufVxuXG5leHBvcnQgY29uc3QgY29uZnVzaW9uTWF0cml4ID0gb3Aoe2NvbmZ1c2lvbk1hdHJpeF99KTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuaW1wb3J0IHtFTkdJTkV9IGZyb20gJy4uL2VuZ2luZSc7XG5pbXBvcnQge0Zyb21QaXhlbHMsIEZyb21QaXhlbHNBdHRycywgRnJvbVBpeGVsc0lucHV0c30gZnJvbSAnLi4va2VybmVsX25hbWVzJztcbmltcG9ydCB7Z2V0S2VybmVsLCBOYW1lZEF0dHJNYXB9IGZyb20gJy4uL2tlcm5lbF9yZWdpc3RyeSc7XG5pbXBvcnQge1RlbnNvciwgVGVuc29yMkQsIFRlbnNvcjNEfSBmcm9tICcuLi90ZW5zb3InO1xuaW1wb3J0IHtOYW1lZFRlbnNvck1hcH0gZnJvbSAnLi4vdGVuc29yX3R5cGVzJztcbmltcG9ydCB7Y29udmVydFRvVGVuc29yfSBmcm9tICcuLi90ZW5zb3JfdXRpbF9lbnYnO1xuaW1wb3J0IHtQaXhlbERhdGEsIFRlbnNvckxpa2V9IGZyb20gJy4uL3R5cGVzJztcblxuaW1wb3J0IHtjYXN0fSBmcm9tICcuL2Nhc3QnO1xuaW1wb3J0IHtvcH0gZnJvbSAnLi9vcGVyYXRpb24nO1xuaW1wb3J0IHt0ZW5zb3IzZH0gZnJvbSAnLi90ZW5zb3IzZCc7XG5cbmxldCBmcm9tUGl4ZWxzMkRDb250ZXh0OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQ7XG5cbi8qKlxuICogQ3JlYXRlcyBhIGB0Zi5UZW5zb3JgIGZyb20gYW4gaW1hZ2UuXG4gKlxuICogYGBganNcbiAqIGNvbnN0IGltYWdlID0gbmV3IEltYWdlRGF0YSgxLCAxKTtcbiAqIGltYWdlLmRhdGFbMF0gPSAxMDA7XG4gKiBpbWFnZS5kYXRhWzFdID0gMTUwO1xuICogaW1hZ2UuZGF0YVsyXSA9IDIwMDtcbiAqIGltYWdlLmRhdGFbM10gPSAyNTU7XG4gKlxuICogdGYuYnJvd3Nlci5mcm9tUGl4ZWxzKGltYWdlKS5wcmludCgpO1xuICogYGBgXG4gKlxuICogQHBhcmFtIHBpeGVscyBUaGUgaW5wdXQgaW1hZ2UgdG8gY29uc3RydWN0IHRoZSB0ZW5zb3IgZnJvbS4gVGhlXG4gKiBzdXBwb3J0ZWQgaW1hZ2UgdHlwZXMgYXJlIGFsbCA0LWNoYW5uZWwuIFlvdSBjYW4gYWxzbyBwYXNzIGluIGFuIGltYWdlXG4gKiBvYmplY3Qgd2l0aCBmb2xsb3dpbmcgYXR0cmlidXRlczpcbiAqIGB7ZGF0YTogVWludDhBcnJheTsgd2lkdGg6IG51bWJlcjsgaGVpZ2h0OiBudW1iZXJ9YFxuICogQHBhcmFtIG51bUNoYW5uZWxzIFRoZSBudW1iZXIgb2YgY2hhbm5lbHMgb2YgdGhlIG91dHB1dCB0ZW5zb3IuIEFcbiAqIG51bUNoYW5uZWxzIHZhbHVlIGxlc3MgdGhhbiA0IGFsbG93cyB5b3UgdG8gaWdub3JlIGNoYW5uZWxzLiBEZWZhdWx0cyB0b1xuICogMyAoaWdub3JlcyBhbHBoYSBjaGFubmVsIG9mIGlucHV0IGltYWdlKS5cbiAqXG4gKiBAZG9jIHtoZWFkaW5nOiAnQnJvd3NlcicsIG5hbWVzcGFjZTogJ2Jyb3dzZXInLCBpZ25vcmVDSTogdHJ1ZX1cbiAqL1xuZnVuY3Rpb24gZnJvbVBpeGVsc18oXG4gICAgcGl4ZWxzOiBQaXhlbERhdGF8SW1hZ2VEYXRhfEhUTUxJbWFnZUVsZW1lbnR8SFRNTENhbnZhc0VsZW1lbnR8XG4gICAgSFRNTFZpZGVvRWxlbWVudCxcbiAgICBudW1DaGFubmVscyA9IDMpOiBUZW5zb3IzRCB7XG4gIC8vIFNhbml0eSBjaGVja3MuXG4gIGlmIChudW1DaGFubmVscyA+IDQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdDYW5ub3QgY29uc3RydWN0IFRlbnNvciB3aXRoIG1vcmUgdGhhbiA0IGNoYW5uZWxzIGZyb20gcGl4ZWxzLicpO1xuICB9XG4gIGlmIChwaXhlbHMgPT0gbnVsbCkge1xuICAgIHRocm93IG5ldyBFcnJvcigncGl4ZWxzIHBhc3NlZCB0byB0Zi5icm93c2VyLmZyb21QaXhlbHMoKSBjYW4gbm90IGJlIG51bGwnKTtcbiAgfVxuICBsZXQgaXNQaXhlbERhdGEgPSBmYWxzZTtcbiAgbGV0IGlzSW1hZ2VEYXRhID0gZmFsc2U7XG4gIGxldCBpc1ZpZGVvID0gZmFsc2U7XG4gIGxldCBpc0ltYWdlID0gZmFsc2U7XG4gIGxldCBpc0NhbnZhc0xpa2UgPSBmYWxzZTtcbiAgaWYgKChwaXhlbHMgYXMgUGl4ZWxEYXRhKS5kYXRhIGluc3RhbmNlb2YgVWludDhBcnJheSkge1xuICAgIGlzUGl4ZWxEYXRhID0gdHJ1ZTtcbiAgfSBlbHNlIGlmIChcbiAgICAgIHR5cGVvZiAoSW1hZ2VEYXRhKSAhPT0gJ3VuZGVmaW5lZCcgJiYgcGl4ZWxzIGluc3RhbmNlb2YgSW1hZ2VEYXRhKSB7XG4gICAgaXNJbWFnZURhdGEgPSB0cnVlO1xuICB9IGVsc2UgaWYgKFxuICAgICAgdHlwZW9mIChIVE1MVmlkZW9FbGVtZW50KSAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgIHBpeGVscyBpbnN0YW5jZW9mIEhUTUxWaWRlb0VsZW1lbnQpIHtcbiAgICBpc1ZpZGVvID0gdHJ1ZTtcbiAgfSBlbHNlIGlmIChcbiAgICAgIHR5cGVvZiAoSFRNTEltYWdlRWxlbWVudCkgIT09ICd1bmRlZmluZWQnICYmXG4gICAgICBwaXhlbHMgaW5zdGFuY2VvZiBIVE1MSW1hZ2VFbGVtZW50KSB7XG4gICAgaXNJbWFnZSA9IHRydWU7XG4gICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOiBuby1hbnlcbiAgfSBlbHNlIGlmICgocGl4ZWxzIGFzIGFueSkuZ2V0Q29udGV4dCAhPSBudWxsKSB7XG4gICAgaXNDYW52YXNMaWtlID0gdHJ1ZTtcbiAgfSBlbHNlIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdwaXhlbHMgcGFzc2VkIHRvIHRmLmJyb3dzZXIuZnJvbVBpeGVscygpIG11c3QgYmUgZWl0aGVyIGFuICcgK1xuICAgICAgICBgSFRNTFZpZGVvRWxlbWVudCwgSFRNTEltYWdlRWxlbWVudCwgSFRNTENhbnZhc0VsZW1lbnQsIEltYWdlRGF0YSBgICtcbiAgICAgICAgYGluIGJyb3dzZXIsIG9yIE9mZnNjcmVlbkNhbnZhcywgSW1hZ2VEYXRhIGluIHdlYndvcmtlcmAgK1xuICAgICAgICBgIG9yIHtkYXRhOiBVaW50MzJBcnJheSwgd2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXJ9LCBgICtcbiAgICAgICAgYGJ1dCB3YXMgJHsocGl4ZWxzIGFzIHt9KS5jb25zdHJ1Y3Rvci5uYW1lfWApO1xuICB9XG4gIGlmIChpc1ZpZGVvKSB7XG4gICAgY29uc3QgSEFWRV9DVVJSRU5UX0RBVEFfUkVBRFlfU1RBVEUgPSAyO1xuICAgIGlmIChpc1ZpZGVvICYmXG4gICAgICAgIChwaXhlbHMgYXMgSFRNTFZpZGVvRWxlbWVudCkucmVhZHlTdGF0ZSA8XG4gICAgICAgICAgICBIQVZFX0NVUlJFTlRfREFUQV9SRUFEWV9TVEFURSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICdUaGUgdmlkZW8gZWxlbWVudCBoYXMgbm90IGxvYWRlZCBkYXRhIHlldC4gUGxlYXNlIHdhaXQgZm9yICcgK1xuICAgICAgICAgICdgbG9hZGVkZGF0YWAgZXZlbnQgb24gdGhlIDx2aWRlbz4gZWxlbWVudC4nKTtcbiAgICB9XG4gIH1cbiAgLy8gSWYgdGhlIGN1cnJlbnQgYmFja2VuZCBoYXMgJ0Zyb21QaXhlbHMnIHJlZ2lzdGVyZWQsIGl0IGhhcyBhIG1vcmVcbiAgLy8gZWZmaWNpZW50IHdheSBvZiBoYW5kbGluZyBwaXhlbCB1cGxvYWRzLCBzbyB3ZSBjYWxsIHRoYXQuXG4gIGNvbnN0IGtlcm5lbCA9IGdldEtlcm5lbChGcm9tUGl4ZWxzLCBFTkdJTkUuYmFja2VuZE5hbWUpO1xuICBpZiAoa2VybmVsICE9IG51bGwpIHtcbiAgICBjb25zdCBpbnB1dHM6IEZyb21QaXhlbHNJbnB1dHMgPSB7cGl4ZWxzfTtcbiAgICBjb25zdCBhdHRyczogRnJvbVBpeGVsc0F0dHJzID0ge251bUNoYW5uZWxzfTtcbiAgICByZXR1cm4gRU5HSU5FLnJ1bktlcm5lbChcbiAgICAgICAgICAgICAgIEZyb21QaXhlbHMsIGlucHV0cyBhcyB7fSBhcyBOYW1lZFRlbnNvck1hcCxcbiAgICAgICAgICAgICAgIGF0dHJzIGFzIHt9IGFzIE5hbWVkQXR0ck1hcCkgYXMgVGVuc29yM0Q7XG4gIH1cblxuICBjb25zdCBbd2lkdGgsIGhlaWdodF0gPSBpc1ZpZGVvID9cbiAgICAgIFtcbiAgICAgICAgKHBpeGVscyBhcyBIVE1MVmlkZW9FbGVtZW50KS52aWRlb1dpZHRoLFxuICAgICAgICAocGl4ZWxzIGFzIEhUTUxWaWRlb0VsZW1lbnQpLnZpZGVvSGVpZ2h0XG4gICAgICBdIDpcbiAgICAgIFtwaXhlbHMud2lkdGgsIHBpeGVscy5oZWlnaHRdO1xuICBsZXQgdmFsczogVWludDhDbGFtcGVkQXJyYXl8VWludDhBcnJheTtcblxuICBpZiAoaXNDYW52YXNMaWtlKSB7XG4gICAgdmFscyA9XG4gICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1hbnlcbiAgICAgICAgKHBpeGVscyBhcyBhbnkpLmdldENvbnRleHQoJzJkJykuZ2V0SW1hZ2VEYXRhKDAsIDAsIHdpZHRoLCBoZWlnaHQpLmRhdGE7XG4gIH0gZWxzZSBpZiAoaXNJbWFnZURhdGEgfHwgaXNQaXhlbERhdGEpIHtcbiAgICB2YWxzID0gKHBpeGVscyBhcyBQaXhlbERhdGEgfCBJbWFnZURhdGEpLmRhdGE7XG4gIH0gZWxzZSBpZiAoaXNJbWFnZSB8fCBpc1ZpZGVvKSB7XG4gICAgaWYgKGZyb21QaXhlbHMyRENvbnRleHQgPT0gbnVsbCkge1xuICAgICAgZnJvbVBpeGVsczJEQ29udGV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpLmdldENvbnRleHQoJzJkJyk7XG4gICAgfVxuICAgIGZyb21QaXhlbHMyRENvbnRleHQuY2FudmFzLndpZHRoID0gd2lkdGg7XG4gICAgZnJvbVBpeGVsczJEQ29udGV4dC5jYW52YXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgIGZyb21QaXhlbHMyRENvbnRleHQuZHJhd0ltYWdlKFxuICAgICAgICBwaXhlbHMgYXMgSFRNTFZpZGVvRWxlbWVudCwgMCwgMCwgd2lkdGgsIGhlaWdodCk7XG4gICAgdmFscyA9IGZyb21QaXhlbHMyRENvbnRleHQuZ2V0SW1hZ2VEYXRhKDAsIDAsIHdpZHRoLCBoZWlnaHQpLmRhdGE7XG4gIH1cbiAgbGV0IHZhbHVlczogSW50MzJBcnJheTtcbiAgaWYgKG51bUNoYW5uZWxzID09PSA0KSB7XG4gICAgdmFsdWVzID0gbmV3IEludDMyQXJyYXkodmFscyk7XG4gIH0gZWxzZSB7XG4gICAgY29uc3QgbnVtUGl4ZWxzID0gd2lkdGggKiBoZWlnaHQ7XG4gICAgdmFsdWVzID0gbmV3IEludDMyQXJyYXkobnVtUGl4ZWxzICogbnVtQ2hhbm5lbHMpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtUGl4ZWxzOyBpKyspIHtcbiAgICAgIGZvciAobGV0IGNoYW5uZWwgPSAwOyBjaGFubmVsIDwgbnVtQ2hhbm5lbHM7ICsrY2hhbm5lbCkge1xuICAgICAgICB2YWx1ZXNbaSAqIG51bUNoYW5uZWxzICsgY2hhbm5lbF0gPSB2YWxzW2kgKiA0ICsgY2hhbm5lbF07XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGNvbnN0IG91dFNoYXBlOiBbbnVtYmVyLCBudW1iZXIsIG51bWJlcl0gPSBbaGVpZ2h0LCB3aWR0aCwgbnVtQ2hhbm5lbHNdO1xuICByZXR1cm4gdGVuc29yM2QodmFsdWVzLCBvdXRTaGFwZSwgJ2ludDMyJyk7XG59XG5cbi8qKlxuICogRHJhd3MgYSBgdGYuVGVuc29yYCBvZiBwaXhlbCB2YWx1ZXMgdG8gYSBieXRlIGFycmF5IG9yIG9wdGlvbmFsbHkgYVxuICogY2FudmFzLlxuICpcbiAqIFdoZW4gdGhlIGR0eXBlIG9mIHRoZSBpbnB1dCBpcyAnZmxvYXQzMicsIHdlIGFzc3VtZSB2YWx1ZXMgaW4gdGhlIHJhbmdlXG4gKiBbMC0xXS4gT3RoZXJ3aXNlLCB3aGVuIGlucHV0IGlzICdpbnQzMicsIHdlIGFzc3VtZSB2YWx1ZXMgaW4gdGhlIHJhbmdlXG4gKiBbMC0yNTVdLlxuICpcbiAqIFJldHVybnMgYSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2hlbiB0aGUgY2FudmFzIGhhcyBiZWVuIGRyYXduIHRvLlxuICpcbiAqIEBwYXJhbSBpbWcgQSByYW5rLTIgb3IgcmFuay0zIHRlbnNvci4gSWYgcmFuay0yLCBkcmF3cyBncmF5c2NhbGUuIElmXG4gKiAgICAgcmFuay0zLCBtdXN0IGhhdmUgZGVwdGggb2YgMSwgMyBvciA0LiBXaGVuIGRlcHRoIG9mIDEsIGRyYXdzXG4gKiBncmF5c2NhbGUuIFdoZW4gZGVwdGggb2YgMywgd2UgZHJhdyB3aXRoIHRoZSBmaXJzdCB0aHJlZSBjb21wb25lbnRzIG9mXG4gKiB0aGUgZGVwdGggZGltZW5zaW9uIGNvcnJlc3BvbmRpbmcgdG8gciwgZywgYiBhbmQgYWxwaGEgPSAxLiBXaGVuIGRlcHRoIG9mXG4gKiA0LCBhbGwgZm91ciBjb21wb25lbnRzIG9mIHRoZSBkZXB0aCBkaW1lbnNpb24gY29ycmVzcG9uZCB0byByLCBnLCBiLCBhLlxuICogQHBhcmFtIGNhbnZhcyBUaGUgY2FudmFzIHRvIGRyYXcgdG8uXG4gKlxuICogQGRvYyB7aGVhZGluZzogJ0Jyb3dzZXInLCBuYW1lc3BhY2U6ICdicm93c2VyJ31cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHRvUGl4ZWxzKFxuICAgIGltZzogVGVuc29yMkR8VGVuc29yM0R8VGVuc29yTGlrZSxcbiAgICBjYW52YXM/OiBIVE1MQ2FudmFzRWxlbWVudCk6IFByb21pc2U8VWludDhDbGFtcGVkQXJyYXk+IHtcbiAgbGV0ICRpbWcgPSBjb252ZXJ0VG9UZW5zb3IoaW1nLCAnaW1nJywgJ3RvUGl4ZWxzJyk7XG4gIGlmICghKGltZyBpbnN0YW5jZW9mIFRlbnNvcikpIHtcbiAgICAvLyBBc3N1bWUgaW50MzIgaWYgdXNlciBwYXNzZWQgYSBuYXRpdmUgYXJyYXkuXG4gICAgY29uc3Qgb3JpZ2luYWxJbWdUZW5zb3IgPSAkaW1nO1xuICAgICRpbWcgPSBjYXN0KG9yaWdpbmFsSW1nVGVuc29yLCAnaW50MzInKTtcbiAgICBvcmlnaW5hbEltZ1RlbnNvci5kaXNwb3NlKCk7XG4gIH1cbiAgaWYgKCRpbWcucmFuayAhPT0gMiAmJiAkaW1nLnJhbmsgIT09IDMpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIGB0b1BpeGVscyBvbmx5IHN1cHBvcnRzIHJhbmsgMiBvciAzIHRlbnNvcnMsIGdvdCByYW5rICR7JGltZy5yYW5rfS5gKTtcbiAgfVxuICBjb25zdCBbaGVpZ2h0LCB3aWR0aF0gPSAkaW1nLnNoYXBlLnNsaWNlKDAsIDIpO1xuICBjb25zdCBkZXB0aCA9ICRpbWcucmFuayA9PT0gMiA/IDEgOiAkaW1nLnNoYXBlWzJdO1xuXG4gIGlmIChkZXB0aCA+IDQgfHwgZGVwdGggPT09IDIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIGB0b1BpeGVscyBvbmx5IHN1cHBvcnRzIGRlcHRoIG9mIHNpemUgYCArXG4gICAgICAgIGAxLCAzIG9yIDQgYnV0IGdvdCAke2RlcHRofWApO1xuICB9XG5cbiAgaWYgKCRpbWcuZHR5cGUgIT09ICdmbG9hdDMyJyAmJiAkaW1nLmR0eXBlICE9PSAnaW50MzInKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBgVW5zdXBwb3J0ZWQgdHlwZSBmb3IgdG9QaXhlbHM6ICR7JGltZy5kdHlwZX0uYCArXG4gICAgICAgIGAgUGxlYXNlIHVzZSBmbG9hdDMyIG9yIGludDMyIHRlbnNvcnMuYCk7XG4gIH1cblxuICBjb25zdCBkYXRhID0gYXdhaXQgJGltZy5kYXRhKCk7XG4gIGNvbnN0IG11bHRpcGxpZXIgPSAkaW1nLmR0eXBlID09PSAnZmxvYXQzMicgPyAyNTUgOiAxO1xuICBjb25zdCBieXRlcyA9IG5ldyBVaW50OENsYW1wZWRBcnJheSh3aWR0aCAqIGhlaWdodCAqIDQpO1xuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgaGVpZ2h0ICogd2lkdGg7ICsraSkge1xuICAgIGNvbnN0IHJnYmEgPSBbMCwgMCwgMCwgMjU1XTtcblxuICAgIGZvciAobGV0IGQgPSAwOyBkIDwgZGVwdGg7IGQrKykge1xuICAgICAgY29uc3QgdmFsdWUgPSBkYXRhW2kgKiBkZXB0aCArIGRdO1xuXG4gICAgICBpZiAoJGltZy5kdHlwZSA9PT0gJ2Zsb2F0MzInKSB7XG4gICAgICAgIGlmICh2YWx1ZSA8IDAgfHwgdmFsdWUgPiAxKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgICBgVGVuc29yIHZhbHVlcyBmb3IgYSBmbG9hdDMyIFRlbnNvciBtdXN0IGJlIGluIHRoZSBgICtcbiAgICAgICAgICAgICAgYHJhbmdlIFswIC0gMV0gYnV0IGVuY291bnRlcmVkICR7dmFsdWV9LmApO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKCRpbWcuZHR5cGUgPT09ICdpbnQzMicpIHtcbiAgICAgICAgaWYgKHZhbHVlIDwgMCB8fCB2YWx1ZSA+IDI1NSkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAgICAgYFRlbnNvciB2YWx1ZXMgZm9yIGEgaW50MzIgVGVuc29yIG11c3QgYmUgaW4gdGhlIGAgK1xuICAgICAgICAgICAgICBgcmFuZ2UgWzAgLSAyNTVdIGJ1dCBlbmNvdW50ZXJlZCAke3ZhbHVlfS5gKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoZGVwdGggPT09IDEpIHtcbiAgICAgICAgcmdiYVswXSA9IHZhbHVlICogbXVsdGlwbGllcjtcbiAgICAgICAgcmdiYVsxXSA9IHZhbHVlICogbXVsdGlwbGllcjtcbiAgICAgICAgcmdiYVsyXSA9IHZhbHVlICogbXVsdGlwbGllcjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJnYmFbZF0gPSB2YWx1ZSAqIG11bHRpcGxpZXI7XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgaiA9IGkgKiA0O1xuICAgIGJ5dGVzW2ogKyAwXSA9IE1hdGgucm91bmQocmdiYVswXSk7XG4gICAgYnl0ZXNbaiArIDFdID0gTWF0aC5yb3VuZChyZ2JhWzFdKTtcbiAgICBieXRlc1tqICsgMl0gPSBNYXRoLnJvdW5kKHJnYmFbMl0pO1xuICAgIGJ5dGVzW2ogKyAzXSA9IE1hdGgucm91bmQocmdiYVszXSk7XG4gIH1cblxuICBpZiAoY2FudmFzICE9IG51bGwpIHtcbiAgICBjYW52YXMud2lkdGggPSB3aWR0aDtcbiAgICBjYW52YXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgIGNvbnN0IGltYWdlRGF0YSA9IG5ldyBJbWFnZURhdGEoYnl0ZXMsIHdpZHRoLCBoZWlnaHQpO1xuICAgIGN0eC5wdXRJbWFnZURhdGEoaW1hZ2VEYXRhLCAwLCAwKTtcbiAgfVxuICBpZiAoJGltZyAhPT0gaW1nKSB7XG4gICAgJGltZy5kaXNwb3NlKCk7XG4gIH1cbiAgcmV0dXJuIGJ5dGVzO1xufVxuXG5leHBvcnQgY29uc3QgZnJvbVBpeGVscyA9IG9wKHtmcm9tUGl4ZWxzX30pO1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTggR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG5pbXBvcnQge1RlbnNvcjNEfSBmcm9tICcuLi90ZW5zb3InO1xuaW1wb3J0IHtpbmZlclNoYXBlfSBmcm9tICcuLi90ZW5zb3JfdXRpbF9lbnYnO1xuaW1wb3J0IHtUZW5zb3JMaWtlM0R9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7RGF0YVR5cGV9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7YXNzZXJ0Tm9uTnVsbH0gZnJvbSAnLi4vdXRpbCc7XG5pbXBvcnQge21ha2VUZW5zb3J9IGZyb20gJy4vdGVuc29yX29wc191dGlsJztcblxuLyoqXG4gKiBDcmVhdGVzIHJhbmstMyBgdGYuVGVuc29yYCB3aXRoIHRoZSBwcm92aWRlZCB2YWx1ZXMsIHNoYXBlIGFuZCBkdHlwZS5cbiAqXG4gKiBUaGUgc2FtZSBmdW5jdGlvbmFsaXR5IGNhbiBiZSBhY2hpZXZlZCB3aXRoIGB0Zi50ZW5zb3JgLCBidXQgaW4gZ2VuZXJhbFxuICogd2UgcmVjb21tZW5kIHVzaW5nIGB0Zi50ZW5zb3IzZGAgYXMgaXQgbWFrZXMgdGhlIGNvZGUgbW9yZSByZWFkYWJsZS5cbiAqXG4gKiAgYGBganNcbiAqIC8vIFBhc3MgYSBuZXN0ZWQgYXJyYXkuXG4gKiB0Zi50ZW5zb3IzZChbW1sxXSwgWzJdXSwgW1szXSwgWzRdXV0pLnByaW50KCk7XG4gKiBgYGBcbiAqIGBgYGpzXG4gKiAvLyBQYXNzIGEgZmxhdCBhcnJheSBhbmQgc3BlY2lmeSBhIHNoYXBlLlxuICogdGYudGVuc29yM2QoWzEsIDIsIDMsIDRdLCBbMiwgMiwgMV0pLnByaW50KCk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gdmFsdWVzIFRoZSB2YWx1ZXMgb2YgdGhlIHRlbnNvci4gQ2FuIGJlIG5lc3RlZCBhcnJheSBvZiBudW1iZXJzLFxuICogICAgIG9yIGEgZmxhdCBhcnJheSwgb3IgYSBgVHlwZWRBcnJheWAuXG4gKiBAcGFyYW0gc2hhcGUgVGhlIHNoYXBlIG9mIHRoZSB0ZW5zb3IuIElmIG5vdCBwcm92aWRlZCwgIGl0IGlzIGluZmVycmVkIGZyb21cbiAqICAgICBgdmFsdWVzYC5cbiAqIEBwYXJhbSBkdHlwZSBUaGUgZGF0YSB0eXBlLlxuICpcbiAqIEBkb2Mge2hlYWRpbmc6ICdUZW5zb3JzJywgc3ViaGVhZGluZzogJ0NyZWF0aW9uJ31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRlbnNvcjNkKFxuICAgIHZhbHVlczogVGVuc29yTGlrZTNELCBzaGFwZT86IFtudW1iZXIsIG51bWJlciwgbnVtYmVyXSxcbiAgICBkdHlwZT86IERhdGFUeXBlKTogVGVuc29yM0Qge1xuICBhc3NlcnROb25OdWxsKHZhbHVlcyk7XG4gIGlmIChzaGFwZSAhPSBudWxsICYmIHNoYXBlLmxlbmd0aCAhPT0gMykge1xuICAgIHRocm93IG5ldyBFcnJvcigndGVuc29yM2QoKSByZXF1aXJlcyBzaGFwZSB0byBoYXZlIHRocmVlIG51bWJlcnMnKTtcbiAgfVxuICBjb25zdCBpbmZlcnJlZFNoYXBlID0gaW5mZXJTaGFwZSh2YWx1ZXMsIGR0eXBlKTtcbiAgaWYgKGluZmVycmVkU2hhcGUubGVuZ3RoICE9PSAzICYmIGluZmVycmVkU2hhcGUubGVuZ3RoICE9PSAxKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAndGVuc29yM2QoKSByZXF1aXJlcyB2YWx1ZXMgdG8gYmUgbnVtYmVyW11bXVtdIG9yIGZsYXQvVHlwZWRBcnJheScpO1xuICB9XG4gIGlmIChpbmZlcnJlZFNoYXBlLmxlbmd0aCA9PT0gMSAmJiBzaGFwZSA9PSBudWxsKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAndGVuc29yM2QoKSByZXF1aXJlcyBzaGFwZSB0byBiZSBwcm92aWRlZCB3aGVuIGB2YWx1ZXNgICcgK1xuICAgICAgICAnYXJlIGEgZmxhdCBhcnJheScpO1xuICB9XG4gIHJldHVybiBtYWtlVGVuc29yKHZhbHVlcywgc2hhcGUsIGluZmVycmVkU2hhcGUsIGR0eXBlKSBhcyBUZW5zb3IzRDtcbn1cbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE4IEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cbmltcG9ydCB7VGVuc29yfSBmcm9tICcuLi90ZW5zb3InO1xuaW1wb3J0IHtjb21wdXRlU3RyaWRlc30gZnJvbSAnLi4vdXRpbCc7XG5cbi8qKlxuICogVmFsaWRhdGUgZ2F0aGVyIG5kIGlucHV0cy5cbiAqXG4gKiBAcGFyYW0gdGVuc29yIFRoZSB0ZW5zb3IgY29udGFpbnMgdGhlIHNvdXJjZSB2YWx1ZXMuXG4gKiBAcGFyYW0gaW5kaWNlcyBUaGUgdGVuc29yIGNvbnRhaW5zIHRoZSBpbmRpY2VzIHRvIHNsaWNlIHRoZSBzb3VyY2UuXG4gKlxuICogQHJldHVybnMgW3Jlc3VsdFNoYXBlLCBudW1VcGRhdGVzLCBzbGljZVNpemUsIHN0cmlkZXNdXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwcmVwYXJlQW5kVmFsaWRhdGUoXG4gICAgdGVuc29yOiBUZW5zb3IsIGluZGljZXM6IFRlbnNvcik6IFtudW1iZXJbXSwgbnVtYmVyLCBudW1iZXIsIG51bWJlcltdXSB7XG4gIGlmICh0ZW5zb3IucmFuayA8IDEpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICd0Zi5nYXRoZXJORCgpIGV4cGVjdHMgdGhlIGlucHV0IHRvIGJlIHJhbmsgMSBvciBoaWdoZXIsJyArXG4gICAgICAgIGAgYnV0IHRoZSByYW5rIHdhcyAke3RlbnNvci5yYW5rfS5gKTtcbiAgfVxuICBpZiAoaW5kaWNlcy5yYW5rIDwgMSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ3RmLmdhdGhlck5EKCkgZXhwZWN0cyB0aGUgaW5kaWNlcyB0byBiZSByYW5rIDEgb3IgaGlnaGVyLCcgK1xuICAgICAgICBgIGJ1dCB0aGUgcmFuayB3YXMgJHtpbmRpY2VzLnJhbmt9LmApO1xuICB9XG4gIGlmIChpbmRpY2VzLmR0eXBlICE9PSAnaW50MzInKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAndGYuZ2F0aGVyTkQoKSBleHBlY3RzIHRoZSBpbmRpY2VzIHRvIGJlIGludDMyIHR5cGUsJyArXG4gICAgICAgIGAgYnV0IHRoZSBkdHlwZSB3YXMgJHtpbmRpY2VzLmR0eXBlfS5gKTtcbiAgfVxuICBpZiAoaW5kaWNlcy5zaGFwZVtpbmRpY2VzLnJhbmsgLSAxXSA+IHRlbnNvci5yYW5rKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnaW5kZXggaW5uZXJtb3N0IGRpbWVuc2lvbiBsZW5ndGggbXVzdCBiZSA8PSB0ZW5zb3IgcmFuazsgc2F3OiAnICtcbiAgICAgICAgYCR7aW5kaWNlcy5zaGFwZVtpbmRpY2VzLnJhbmsgLSAxXX0gdnMuICR7dGVuc29yLnJhbmt9YCk7XG4gIH1cblxuICBpZiAodGVuc29yLnNpemUgPT09IDApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdSZXF1ZXN0ZWQgbW9yZSB0aGFuIDAgZW50cmllcywgYnV0IGlucHV0IGlzIGVtcHR5LicgK1xuICAgICAgICBgIElucHV0IHNoYXBlOiAke3RlbnNvci5zaGFwZX0uYCk7XG4gIH1cblxuICBjb25zdCBpbmRpY2VzU2hhcGUgPSBpbmRpY2VzLnNoYXBlO1xuICBjb25zdCBzbGljZVJhbmsgPSBpbmRpY2VzU2hhcGVbaW5kaWNlc1NoYXBlLmxlbmd0aCAtIDFdO1xuXG4gIC8vIFRoZSByZXN1bHQgc2hhcGUgaXNcbiAgLy8gICBpbmRpY2VzLnNoYXBlWzotMV0gKyBwYXJhbXMuc2hhcGVbaW5kaWNlcy5zaGFwZVstMV06XVxuICBsZXQgblJlc3VsdCA9IDE7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgaW5kaWNlc1NoYXBlLmxlbmd0aCAtIDE7ICsraSkge1xuICAgIG5SZXN1bHQgKj0gaW5kaWNlc1NoYXBlW2ldO1xuICB9XG5cbiAgY29uc3QgaW5wdXRTaGFwZSA9IHRlbnNvci5zaGFwZTtcblxuICBjb25zdCByZXN1bHRTaGFwZSA9IGluZGljZXNTaGFwZS5zbGljZSgpO1xuICByZXN1bHRTaGFwZS5wb3AoKTtcblxuICBsZXQgc2xpY2VTaXplID0gMTtcbiAgZm9yIChsZXQgaSA9IHNsaWNlUmFuazsgaSA8IHRlbnNvci5yYW5rOyArK2kpIHtcbiAgICBzbGljZVNpemUgKj0gaW5wdXRTaGFwZVtpXTtcbiAgICByZXN1bHRTaGFwZS5wdXNoKGlucHV0U2hhcGVbaV0pO1xuICB9XG5cbiAgY29uc3Qgc3RyaWRlcyA9XG4gICAgICBbLi4uY29tcHV0ZVN0cmlkZXModGVuc29yLnNoYXBlKS5tYXAoc3RyaWRlID0+IHN0cmlkZSAvIHNsaWNlU2l6ZSksXG4gICAgICAgMV0uc2xpY2UoMCwgc2xpY2VSYW5rKTtcblxuICByZXR1cm4gW3Jlc3VsdFNoYXBlLCBuUmVzdWx0LCBzbGljZVNpemUsIHN0cmlkZXNdO1xufVxuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTggR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuaW1wb3J0IHtUZW5zb3JJbmZvfSBmcm9tICcuLi9rZXJuZWxfcmVnaXN0cnknO1xuaW1wb3J0IHtUZW5zb3J9IGZyb20gJy4uL3RlbnNvcic7XG5pbXBvcnQge2NvbXB1dGVTdHJpZGVzLCBzaXplRnJvbVNoYXBlfSBmcm9tICcuLi91dGlsJztcblxuLyoqXG4gKiBDaGVjayB3aGV0aGVyIHVwZGF0ZXMuc2hhcGUgPSBpbmRpY2VzLnNoYXBlWzpiYXRjaERpbV0gK1xuICogc2hhcGVbc2xpY2VEaW06XVxuICpcbiAqIEBwYXJhbSB4IFRoZSBpbnB1dCB0ZW5zb3IuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZVVwZGF0ZVNoYXBlKFxuICAgIHNoYXBlOiBudW1iZXJbXSwgaW5kaWNlczogVGVuc29yLCB1cGRhdGVzOiBUZW5zb3IpIHtcbiAgY29uc3Qgc2xpY2VEaW0gPSAoaW5kaWNlcy5yYW5rID4gMSkgPyBpbmRpY2VzLnNoYXBlW2luZGljZXMucmFuayAtIDFdIDogMTtcbiAgY29uc3QgYmF0Y2hEaW0gPSAoaW5kaWNlcy5yYW5rID4gMSkgPyBpbmRpY2VzLnJhbmsgLSAxIDogMTtcblxuICBjb25zdCBzaGFwZUVycm9yID0gJ011c3QgaGF2ZSB1cGRhdGVzLnNoYXBlID0gaW5kaWNlcy5zaGFwZVs6YmF0Y2hEaW1dICsgJyArXG4gICAgICBgc2hhcGVbc2xpY2VEaW06XSwgZ290IHVwZGF0ZXMuc2hhcGU6ICR7dXBkYXRlcy5zaGFwZX1gICtcbiAgICAgIGAsIGluZGljZXMuc2hhcGU6ICR7aW5kaWNlcy5zaGFwZX0sIHNoYXBlOiAke3NoYXBlfWAgK1xuICAgICAgYCwgc2xpY2VEaW06ICR7c2xpY2VEaW19LCBhbmQgYmF0Y2hEaW06ICR7YmF0Y2hEaW19LmA7XG5cbiAgaWYgKHVwZGF0ZXMucmFuayA8IGJhdGNoRGltKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKHNoYXBlRXJyb3IgKyBgIHVwZGF0ZS5yYW5rIDwgJHtiYXRjaERpbX0uIGApO1xuICB9XG4gIGlmIChzaGFwZS5sZW5ndGggPCBzbGljZURpbSArICh1cGRhdGVzLnJhbmsgLSBiYXRjaERpbSkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIHNoYXBlRXJyb3IgK1xuICAgICAgICBgIE91dHB1dCBzaGFwZSBsZW5ndGggPCAke3NsaWNlRGltICsgKHVwZGF0ZXMucmFuayAtIGJhdGNoRGltKX1gKTtcbiAgfVxuICBpZiAodXBkYXRlcy5yYW5rICE9PSBiYXRjaERpbSArIHNoYXBlLmxlbmd0aCAtIHNsaWNlRGltKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBzaGFwZUVycm9yICsgYCB1cGRhdGUucmFuayAhPSAke2JhdGNoRGltICsgc2hhcGUubGVuZ3RoIC0gc2xpY2VEaW19YCk7XG4gIH1cbiAgZm9yIChsZXQgZCA9IDA7IGQgPCBiYXRjaERpbTsgKytkKSB7XG4gICAgaWYgKHVwZGF0ZXMuc2hhcGVbZF0gIT09IGluZGljZXMuc2hhcGVbZF0pIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICBzaGFwZUVycm9yICtcbiAgICAgICAgICBgIHVwZGF0ZXMuc2hhcGVbJHtkfV0gKCR7dXBkYXRlcy5zaGFwZVtkXX0pICE9IGluZGljZXMuc2hhcGVbJHtkfV0gKCR7XG4gICAgICAgICAgICAgIGluZGljZXMuc2hhcGVbZF19KS5gKTtcbiAgICB9XG4gIH1cbiAgZm9yIChsZXQgZCA9IDA7IGQgPCB1cGRhdGVzLnJhbmsgLSBiYXRjaERpbTsgKytkKSB7XG4gICAgaWYgKHVwZGF0ZXMuc2hhcGVbZCArIGJhdGNoRGltXSAhPT0gc2hhcGVbZCArIHNsaWNlRGltXSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgIHNoYXBlRXJyb3IgK1xuICAgICAgICAgIGAgdXBkYXRlcy5zaGFwZVske2QgKyBiYXRjaERpbX1dICgke1xuICAgICAgICAgICAgICB1cGRhdGVzLnNoYXBlW2QgKyBiYXRjaERpbV19KSAhPSBzaGFwZVske2QgKyBiYXRjaERpbX1dICgke1xuICAgICAgICAgICAgICBzaGFwZVtkICsgYmF0Y2hEaW1dfSlgKTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBTY2F0dGVyU2hhcGVJbmZvIHtcbiAgc2xpY2VSYW5rOiBudW1iZXI7XG4gIG51bVVwZGF0ZXM6IG51bWJlcjtcbiAgc2xpY2VTaXplOiBudW1iZXI7XG4gIHN0cmlkZXM6IG51bWJlcltdO1xuICBvdXRwdXRTaXplOiBudW1iZXI7XG59XG4vKipcbiAqIFZhbGlkYXRlIHNjYXR0ZXIgbmQgaW5wdXRzLlxuICpcbiAqIEBwYXJhbSB1cGRhdGUgVGhlIHRlbnNvciBjb250YWlucyB0aGUgdXBkYXRlIHZhbHVlcy5cbiAqIEBwYXJhbSBpbmRpY2VzIFRoZSB0ZW5zb3IgY29udGFpbnMgdGhlIGluZGljZXMgZm9yIHRoZSB1cGRhdGUgdmFsdWVzLlxuICogQHBhcmFtIHNoYXBlIFRoZSBzaGFwZSBvZiB0aGUgb3V0cHV0IHRlbnNvci5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlSW5wdXQoXG4gICAgdXBkYXRlczogVGVuc29yLCBpbmRpY2VzOiBUZW5zb3IsIHNoYXBlOiBudW1iZXJbXSkge1xuICBpZiAoaW5kaWNlcy5yYW5rIDwgMSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ3RmLnNjYXR0ZXJORCgpIGV4cGVjdHMgdGhlIGluZGljZXMgdG8gYmUgcmFuayAxIG9yIGhpZ2hlciwnICtcbiAgICAgICAgYCBidXQgdGhlIHJhbmsgd2FzICR7aW5kaWNlcy5yYW5rfS5gKTtcbiAgfVxuICBpZiAodXBkYXRlcy5yYW5rIDwgMSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ3RmLnNjYXR0ZXJORCgpIGV4cGVjdHMgdGhlIHVwZGF0ZXMgdG8gYmUgcmFuayAxIG9yIGhpZ2hlciwnICtcbiAgICAgICAgYCBidXQgdGhlIHJhbmsgd2FzICR7dXBkYXRlcy5yYW5rfS5gKTtcbiAgfVxuICBpZiAoaW5kaWNlcy5kdHlwZSAhPT0gJ2ludDMyJykge1xuICAgIHRocm93IG5ldyBFcnJvcihgVGhlIGR0eXBlIG9mICdpbmRpY2VzJyBzaG91bGQgYmUgaW50MzIsIGJ1dCBnb3QgZHR5cGU6ICR7XG4gICAgICAgIGluZGljZXMuZHR5cGV9YCk7XG4gIH1cbiAgaWYgKHNoYXBlLmxlbmd0aCA8IDEpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIGBPdXRwdXQgcmFuayBtdXN0IGJlIGdyZWF0ZXIgb3IgZXF1YWwgdG8gMSwgYnV0IGdvdCBzaGFwZTogJHtzaGFwZX1gKTtcbiAgfVxuXG4gIGlmIChzaGFwZS5sZW5ndGggPT09IDApIHtcbiAgICBpZiAoaW5kaWNlcy5zaXplID09PSAwKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYEluZGljZXMgc3BlY2lmaWVkIGZvciBlbXB0eSBvdXRwdXQuIGluZGljZXMgc2hhcGU6ICR7XG4gICAgICAgICAgaW5kaWNlcy5zaGFwZX1gKTtcbiAgICB9XG4gICAgaWYgKHVwZGF0ZXMuc2l6ZSA9PT0gMCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBVcGRhdGVzIHNwZWNpZmllZCBmb3IgZW1wdHkgb3V0cHV0LiB1cGRhdGVzIHNoYXBlOiAke1xuICAgICAgICAgIHVwZGF0ZXMuc2hhcGV9YCk7XG4gICAgfVxuICB9XG5cbiAgdmFsaWRhdGVVcGRhdGVTaGFwZShzaGFwZSwgaW5kaWNlcywgdXBkYXRlcyk7XG59XG5cbi8qKlxuICogQ2FsY3VsYXRlIHRoZSBzaGFwZSBpbmZvcm1hdGlvbiBmb3IgdGhlIG91dHB1dC5cbiAqXG4gKiBAcGFyYW0gdXBkYXRlIFRoZSB0ZW5zb3IgY29udGFpbnMgdGhlIHVwZGF0ZSB2YWx1ZXMuXG4gKiBAcGFyYW0gaW5kaWNlcyBUaGUgdGVuc29yIGNvbnRhaW5zIHRoZSBpbmRpY2VzIGZvciB0aGUgdXBkYXRlIHZhbHVlcy5cbiAqIEBwYXJhbSBzaGFwZSBUaGUgc2hhcGUgb2YgdGhlIG91dHB1dCB0ZW5zb3IuXG4gKlxuICogQHJldHVybnMgU2NhdHRlclNoYXBlSW5mb1xuICovXG5leHBvcnQgZnVuY3Rpb24gY2FsY3VsYXRlU2hhcGVzKFxuICAgIHVwZGF0ZXM6IFRlbnNvckluZm8sIGluZGljZXM6IFRlbnNvckluZm8sXG4gICAgc2hhcGU6IG51bWJlcltdKTogU2NhdHRlclNoYXBlSW5mbyB7XG4gIC8vIENhbGN1bGF0ZSB0aGUgbnVtYmVyIG9mIGRpbWVuc2lvbnMgaW4gaW5kaWNlc1xuICBjb25zdCBpbmRpY2VzUmFuayA9IGluZGljZXMuc2hhcGUubGVuZ3RoO1xuICBjb25zdCBzbGljZVJhbmsgPSAoaW5kaWNlc1JhbmsgPiAxKSA/IGluZGljZXMuc2hhcGVbaW5kaWNlc1JhbmsgLSAxXSA6IDE7XG5cbiAgLy8gQ2FsY3VsYXRlIHRoZSBudW1iZXIgb2YgZWxlbWVudHMgdGhhdCBtYWtlIHVwIGVhY2ggc2xpY2Ugb2Ygb3VyIHVwZGF0ZWRcbiAgLy8gdGVuc29yLiBUaGlzIGFsbG93cyB1cyB0byB3b3JrIHdpdGggZmxhdHRlbmVkIHRlbnNvcnMgYW5kIGNvcHkgb3ZlciB3aG9sZVxuICAvLyBzbGljZXMgYXQgYSB0aW1lLlxuICBjb25zdCB0b3RhbE5kID0gc2hhcGUubGVuZ3RoO1xuXG4gIGxldCBzbGljZVNpemUgPSAxO1xuICBmb3IgKGxldCBpID0gc2xpY2VSYW5rOyBpIDwgdG90YWxOZDsgKytpKSB7XG4gICAgc2xpY2VTaXplICo9IHNoYXBlW2ldO1xuICB9XG5cbiAgY29uc3Qgc2FmZVNsaWNlRGltID0gKHNsaWNlUmFuayA8IDEpID8gMSA6IHNsaWNlUmFuaztcbiAgY29uc3QgbnVtVXBkYXRlcyA9IHNpemVGcm9tU2hhcGUoaW5kaWNlcy5zaGFwZSkgLyBzYWZlU2xpY2VEaW07XG5cbiAgY29uc3Qgc3RyaWRlcyA9IFsuLi5jb21wdXRlU3RyaWRlcyhzaGFwZS5zbGljZSgwLCBzbGljZVJhbmspKSwgMV07XG4gIGNvbnN0IG91dHB1dFNpemUgPSBzaXplRnJvbVNoYXBlKHNoYXBlKTtcbiAgcmV0dXJuIHtzbGljZVJhbmssIG51bVVwZGF0ZXMsIHNsaWNlU2l6ZSwgc3RyaWRlcywgb3V0cHV0U2l6ZX07XG59XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbmltcG9ydCB7VGVuc29ySW5mb30gZnJvbSAnLi4va2VybmVsX3JlZ2lzdHJ5JztcbmltcG9ydCAqIGFzIHV0aWwgZnJvbSAnLi4vdXRpbCc7XG5cbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnRQYXJhbXNWYWxpZChcbiAgICBpbnB1dDogVGVuc29ySW5mbywgYmVnaW46IG51bWJlcltdLCBzaXplOiBudW1iZXJbXSk6IHZvaWQge1xuICBjb25zdCBpbnB1dFJhbmsgPSBpbnB1dC5zaGFwZS5sZW5ndGg7XG4gIHV0aWwuYXNzZXJ0KFxuICAgICAgaW5wdXRSYW5rID09PSBiZWdpbi5sZW5ndGgsXG4gICAgICAoKSA9PiBgRXJyb3IgaW4gc2xpY2Uke2lucHV0UmFua31EOiBMZW5ndGggb2YgYmVnaW4gJHtiZWdpbn0gbXVzdCBgICtcbiAgICAgICAgICBgbWF0Y2ggdGhlIHJhbmsgb2YgdGhlIGFycmF5ICgke2lucHV0UmFua30pLmApO1xuICB1dGlsLmFzc2VydChcbiAgICAgIGlucHV0UmFuayA9PT0gc2l6ZS5sZW5ndGgsXG4gICAgICAoKSA9PiBgRXJyb3IgaW4gc2xpY2Uke2lucHV0UmFua31EOiBMZW5ndGggb2Ygc2l6ZSAke3NpemV9IG11c3QgYCArXG4gICAgICAgICAgYG1hdGNoIHRoZSByYW5rIG9mIHRoZSBhcnJheSAoJHtpbnB1dFJhbmt9KS5gKTtcblxuICBmb3IgKGxldCBpID0gMDsgaSA8IGlucHV0UmFuazsgKytpKSB7XG4gICAgdXRpbC5hc3NlcnQoXG4gICAgICAgIGJlZ2luW2ldICsgc2l6ZVtpXSA8PSBpbnB1dC5zaGFwZVtpXSxcbiAgICAgICAgKCkgPT4gYEVycm9yIGluIHNsaWNlJHtpbnB1dFJhbmt9RDogYmVnaW5bJHtpfV0gKyBzaXplWyR7aX1dIGAgK1xuICAgICAgICAgICAgYCgke2JlZ2luW2ldICsgc2l6ZVtpXX0pIHdvdWxkIG92ZXJmbG93IGlucHV0LnNoYXBlWyR7aX1dICgke1xuICAgICAgICAgICAgICAgICAgaW5wdXQuc2hhcGVbaV19KWApO1xuICB9XG59XG5cbi8qKiBDb252ZXJ0cyBhIGJpbmFyeSBtYXNrIHRvIGFuIGFycmF5IG9mIGF4ZXMuIFVzZWQgaW4gc3RyaWRlZFNsaWNlKCkuICovXG5leHBvcnQgZnVuY3Rpb24gbWFza1RvQXhlcyhtYXNrOiBudW1iZXIpOiBudW1iZXJbXSB7XG4gIGNvbnN0IGF4ZXMgPSBbXTtcbiAgbGV0IGF4aXMgPSAwO1xuICB3aGlsZSAobWFzayA+IDApIHtcbiAgICBpZiAobWFzayAmIDEpIHtcbiAgICAgIGF4ZXMucHVzaChheGlzKTtcbiAgICB9XG4gICAgbWFzayAvPSAyO1xuICAgIGF4aXMrKztcbiAgfVxuICByZXR1cm4gYXhlcztcbn1cblxuLyoqIENvbXB1dGVzIHRoZSBvdXRwdXQgc2hhcGUgZ2l2ZW4gdGhlIHN0cmlkZWQgc2xpY2UgcGFyYW1zLiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbXB1dGVPdXRTaGFwZShcbiAgICBiZWdpbjogbnVtYmVyW10sIGVuZDogbnVtYmVyW10sIHN0cmlkZXM6IG51bWJlcltdKTogbnVtYmVyW10ge1xuICBjb25zdCBzaXplID0gW107XG4gIGZvciAobGV0IGF4aXMgPSAwOyBheGlzIDwgYmVnaW4ubGVuZ3RoOyBheGlzKyspIHtcbiAgICBzaXplW2F4aXNdID0gTWF0aC5jZWlsKChlbmRbYXhpc10gLSBiZWdpbltheGlzXSkgLyBzdHJpZGVzW2F4aXNdKTtcbiAgfVxuICByZXR1cm4gc2l6ZTtcbn1cblxuLy8gQ3JlYXRlcyBmdWxsIHNlbGVjdGlvbiBhdCB0aGUgZWxpZGVkIGRpbWVuc2lvbnMuIElmIHRoZSBkaW1lbnNpb24gbWF0Y2hlc1xuLy8gdGhlIGVsbGlwc2lzIG1hc2ssIG92ZXJyaWRlIHRoZSBjdXJyZW50IHN0cmlkZSB2YWx1ZS4gT3RoZXJ3aXNlLCBpbnNlcnQuXG5leHBvcnQgZnVuY3Rpb24gc3RyaWRlc1dpdGhFbGlkZWREaW1zKFxuICAgIHN0cmlkZXM6IG51bWJlcltdLCBlbGxpcHNpc0luc2VydGlvbkluZGV4OiBudW1iZXIsIG51bUVsaWRlZEF4ZXM6IG51bWJlcixcbiAgICBpbnB1dFNoYXBlOiBudW1iZXJbXSk6IG51bWJlcltdIHtcbiAgY29uc3QgbmV3U3RyaWRlcyA9IFsuLi5zdHJpZGVzXTtcbiAgZm9yIChsZXQgaSA9IG5ld1N0cmlkZXMubGVuZ3RoOyBpIDwgaW5wdXRTaGFwZS5sZW5ndGg7IGkrKykge1xuICAgIG5ld1N0cmlkZXMucHVzaCgxKTtcbiAgfVxuICBmb3IgKGxldCBpID0gMDsgaSA8IG51bUVsaWRlZEF4ZXM7IGkrKykge1xuICAgIGlmIChpID09PSAwKSB7XG4gICAgICBuZXdTdHJpZGVzW2VsbGlwc2lzSW5zZXJ0aW9uSW5kZXhdID0gMTtcbiAgICB9IGVsc2Uge1xuICAgICAgbmV3U3RyaWRlcy5zcGxpY2UoXG4gICAgICAgICAgZWxsaXBzaXNJbnNlcnRpb25JbmRleCwgMCAvKiBudW0gZWxlbWVudHMgdG8gZGVsZXRlICovLFxuICAgICAgICAgIDEgLyogZWxlbWVudCB0byBhZGQgKi8pO1xuICAgICAgbmV3U3RyaWRlcy5wb3AoKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG5ld1N0cmlkZXM7XG59XG5cbmZ1bmN0aW9uIHVubm9ybWFsaXplQXhpcyhcbiAgICBlbGxpcHNpc0luc2VydGlvbkluZGV4OiBudW1iZXIsIG51bUVsaWRlZEF4ZXM6IG51bWJlcixcbiAgICBub3JtYWxpemVkQXhpczogbnVtYmVyKTogbnVtYmVyIHtcbiAgaWYgKG5vcm1hbGl6ZWRBeGlzIDw9IGVsbGlwc2lzSW5zZXJ0aW9uSW5kZXgpIHtcbiAgICByZXR1cm4gbm9ybWFsaXplZEF4aXM7XG4gIH1cblxuICByZXR1cm4gbm9ybWFsaXplZEF4aXMgLSAobnVtRWxpZGVkQXhlcyAtIDEpO1xufVxuXG5mdW5jdGlvbiBnZXRFbGlkZWRBeGVzKG51bUVsaWRlZEF4ZXM6IG51bWJlciwgZWxsaXBzaXNJbnNlcnRpb25JbmRleDogbnVtYmVyKSB7XG4gIGNvbnN0IGVsaWRlZEF4ZXMgPSBbXTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1FbGlkZWRBeGVzOyBpKyspIHtcbiAgICBlbGlkZWRBeGVzLnB1c2goZWxsaXBzaXNJbnNlcnRpb25JbmRleCArIGkpO1xuICB9XG4gIHJldHVybiBlbGlkZWRBeGVzO1xufVxuXG4vLyBOb3JtYWxpemUgdGhlIHN0YXJ0LCBlbmQgYW5kIHN0cmlkZXMuXG5leHBvcnQgZnVuY3Rpb24gZ2V0Tm9ybWFsaXplZEF4ZXMoXG4gICAgaW5wdXRTaGFwZTogbnVtYmVyW10sIGVsbGlwc2lzQXhlczogbnVtYmVyW10sIG51bUludGVycG9sYXRlZEF4ZXM6IG51bWJlcixcbiAgICBiZWdpbjogbnVtYmVyW10sIGVuZDogbnVtYmVyW10sIHN0cmlkZXM6IG51bWJlcltdLCBiZWdpbk1hc2s6IG51bWJlcixcbiAgICBlbmRNYXNrOiBudW1iZXIsXG4gICAgZWxsaXBzaXNNYXNrOiBudW1iZXIpOiB7YmVnaW46IG51bWJlcltdLCBlbmQ6IG51bWJlcltdLCBzdHJpZGVzOiBudW1iZXJbXX0ge1xuICBjb25zdCBpbnB1dFJhbmsgPSBpbnB1dFNoYXBlLmxlbmd0aDtcbiAgbGV0IG5vcm1hbGl6ZWRCZWdpbiA9IG5ldyBBcnJheShpbnB1dFJhbmspLFxuICAgICAgbm9ybWFsaXplZEVuZCA9IG5ldyBBcnJheShpbnB1dFJhbmspLFxuICAgICAgbm9ybWFsaXplZFN0cmlkZXMgPSBuZXcgQXJyYXkoaW5wdXRSYW5rKTtcbiAgaWYgKGVsbGlwc2lzQXhlcy5sZW5ndGggJiYgbnVtSW50ZXJwb2xhdGVkQXhlcyA+IDApIHtcbiAgICBjb25zdCBmdWxsSW5kZXggPSBlbGxpcHNpc0F4ZXNbMF07XG5cbiAgICAvLyBUaGUgZWxsaXBzaXMgYXBwbGllcyB0byB0aGUgbWFza2VkIGluZGV4IGFzIHdlbGwgYXMgYW55IGRpbWVuc2lvbnNcbiAgICAvLyB0aGF0IGFyZSBpbnRlcnBvbGF0ZWQuXG4gICAgY29uc3QgbnVtRWxpZGVkQXhlcyA9IG51bUludGVycG9sYXRlZEF4ZXMgKyAxO1xuICAgIG5vcm1hbGl6ZWRCZWdpbiA9IHN0YXJ0SW5kaWNlc1dpdGhFbGlkZWREaW1zKFxuICAgICAgICBiZWdpbk1hc2ssIGZ1bGxJbmRleCwgbnVtRWxpZGVkQXhlcywgYmVnaW4sIGlucHV0U2hhcGUpO1xuICAgIG5vcm1hbGl6ZWRFbmQgPSBzdG9wSW5kaWNlc1dpdGhFbGlkZWREaW1zKFxuICAgICAgICBlbmRNYXNrLCBmdWxsSW5kZXgsIG51bUVsaWRlZEF4ZXMsIGVuZCwgaW5wdXRTaGFwZSk7XG4gICAgbm9ybWFsaXplZFN0cmlkZXMgPVxuICAgICAgICBzdHJpZGVzV2l0aEVsaWRlZERpbXMoc3RyaWRlcywgZnVsbEluZGV4LCBudW1FbGlkZWRBeGVzLCBpbnB1dFNoYXBlKTtcbiAgfSBlbHNlIHtcbiAgICBmb3IgKGxldCBheGlzID0gMDsgYXhpcyA8IGlucHV0UmFuazsgYXhpcysrKSB7XG4gICAgICBub3JtYWxpemVkQmVnaW5bYXhpc10gPSBzdGFydEZvckF4aXMoXG4gICAgICAgICAgYmVnaW5NYXNrLCBiZWdpbiwgc3RyaWRlcywgaW5wdXRTaGFwZSwgYXhpcywgZWxsaXBzaXNNYXNrKTtcbiAgICAgIG5vcm1hbGl6ZWRFbmRbYXhpc10gPVxuICAgICAgICAgIHN0b3BGb3JBeGlzKGVuZE1hc2ssIGVuZCwgc3RyaWRlcywgaW5wdXRTaGFwZSwgYXhpcywgZWxsaXBzaXNNYXNrKTtcbiAgICAgIG5vcm1hbGl6ZWRTdHJpZGVzW2F4aXNdID0gc3RyaWRlc0ZvckF4aXMoc3RyaWRlcywgYXhpcywgZWxsaXBzaXNNYXNrKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGJlZ2luOiBub3JtYWxpemVkQmVnaW4sXG4gICAgZW5kOiBub3JtYWxpemVkRW5kLFxuICAgIHN0cmlkZXM6IG5vcm1hbGl6ZWRTdHJpZGVzXG4gIH07XG59XG5cbi8vIENyZWF0ZXMgZnVsbCBzZWxlY3Rpb24gYXQgdGhlIGVsaWRlZCBkaW1lbnNpb25zLiBJZiB0aGUgZGltZW5zaW9uIG1hdGNoZXNcbi8vIHRoZSBlbGxpcHNpcyBtYXNrLCBvdmVycmlkZSB0aGUgY3VycmVudCBzdGFydCB2YWx1ZS4gT3RoZXJ3aXNlLCBpbnNlcnQuXG5leHBvcnQgZnVuY3Rpb24gc3RhcnRJbmRpY2VzV2l0aEVsaWRlZERpbXMoXG4gICAgYmVnaW5NYXNrOiBudW1iZXIsIGVsbGlwc2lzSW5zZXJ0aW9uSW5kZXg6IG51bWJlciwgbnVtRWxpZGVkQXhlczogbnVtYmVyLFxuICAgIG9yaWdpbmFsQmVnaW46IG51bWJlcltdLCBpbnB1dFNoYXBlOiBudW1iZXJbXSk6IG51bWJlcltdIHtcbiAgY29uc3QgbmV3SW5kaWNlcyA9IFsuLi5pbnB1dFNoYXBlXTtcbiAgY29uc3QgZWxpZGVkQXhlcyA9IGdldEVsaWRlZEF4ZXMobnVtRWxpZGVkQXhlcywgZWxsaXBzaXNJbnNlcnRpb25JbmRleCk7XG5cbiAgZm9yIChsZXQgYXhpcyA9IDA7IGF4aXMgPCBuZXdJbmRpY2VzLmxlbmd0aDsgYXhpcysrKSB7XG4gICAgaWYgKGVsaWRlZEF4ZXMuaW5kZXhPZihheGlzKSA+IC0xKSB7XG4gICAgICBuZXdJbmRpY2VzW2F4aXNdID0gMDtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3Qgb3JpZ2luYWxBeGlzID1cbiAgICAgICAgICB1bm5vcm1hbGl6ZUF4aXMoZWxsaXBzaXNJbnNlcnRpb25JbmRleCwgbnVtRWxpZGVkQXhlcywgYXhpcyk7XG4gICAgICBsZXQgb3JpZ2luYWxWYWx1ZSA9IG9yaWdpbmFsQmVnaW5bb3JpZ2luYWxBeGlzXTtcbiAgICAgIGlmIChiZWdpbk1hc2sgJiAxIDw8IG9yaWdpbmFsQXhpcykge1xuICAgICAgICBvcmlnaW5hbFZhbHVlID0gMDtcbiAgICAgIH1cblxuICAgICAgbmV3SW5kaWNlc1theGlzXSA9IG9yaWdpbmFsVmFsdWU7XG4gICAgfVxuICB9XG4gIHJldHVybiBuZXdJbmRpY2VzO1xufVxuXG4vLyBDcmVhdGVzIGZ1bGwgc2VsZWN0aW9uIGF0IHRoZSBlbGlkZWQgZGltZW5zaW9ucy4gSWYgdGhlIGRpbWVuc2lvbiBtYXRjaGVzXG4vLyB0aGUgZWxsaXBzaXMgbWFzaywgb3ZlcnJpZGUgdGhlIGN1cnJlbnQgc3RvcCB2YWx1ZS4gT3RoZXJ3aXNlLCBpbnNlcnQuXG5leHBvcnQgZnVuY3Rpb24gc3RvcEluZGljZXNXaXRoRWxpZGVkRGltcyhcbiAgICBlbmRNYXNrOiBudW1iZXIsIGVsbGlwc2lzSW5zZXJ0aW9uSW5kZXg6IG51bWJlciwgbnVtRWxpZGVkQXhlczogbnVtYmVyLFxuICAgIG9yaWdpbmFsRW5kOiBudW1iZXJbXSwgaW5wdXRTaGFwZTogbnVtYmVyW10pOiBudW1iZXJbXSB7XG4gIGNvbnN0IG5ld0luZGljZXMgPSBbLi4uaW5wdXRTaGFwZV07XG4gIGNvbnN0IGVsaWRlZEF4ZXMgPSBnZXRFbGlkZWRBeGVzKG51bUVsaWRlZEF4ZXMsIGVsbGlwc2lzSW5zZXJ0aW9uSW5kZXgpO1xuXG4gIGZvciAobGV0IGF4aXMgPSAwOyBheGlzIDwgbmV3SW5kaWNlcy5sZW5ndGg7IGF4aXMrKykge1xuICAgIGlmIChlbGlkZWRBeGVzLmluZGV4T2YoYXhpcykgPiAtMSkge1xuICAgICAgbmV3SW5kaWNlc1theGlzXSA9IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBvcmlnaW5hbEF4aXMgPVxuICAgICAgICAgIHVubm9ybWFsaXplQXhpcyhlbGxpcHNpc0luc2VydGlvbkluZGV4LCBudW1FbGlkZWRBeGVzLCBheGlzKTtcbiAgICAgIGxldCBvcmlnaW5hbFZhbHVlID0gb3JpZ2luYWxFbmRbb3JpZ2luYWxBeGlzXTtcbiAgICAgIGlmIChlbmRNYXNrICYgMSA8PCBvcmlnaW5hbEF4aXMpIHtcbiAgICAgICAgb3JpZ2luYWxWYWx1ZSA9IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSO1xuICAgICAgfVxuICAgICAgbmV3SW5kaWNlc1theGlzXSA9IG9yaWdpbmFsVmFsdWU7XG4gICAgfVxuICB9XG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBuZXdJbmRpY2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgLy8gSGFuZGxlIG5lZ2F0aXZlIGluZGljZXNcbiAgICBjb25zdCBheGlzU2l6ZSA9IGlucHV0U2hhcGVbaV07XG4gICAgaWYgKG5ld0luZGljZXNbaV0gPCAwKSB7XG4gICAgICBuZXdJbmRpY2VzW2ldICs9IGF4aXNTaXplO1xuICAgIH1cbiAgICBuZXdJbmRpY2VzW2ldID0gdXRpbC5jbGFtcCgwLCBuZXdJbmRpY2VzW2ldLCBpbnB1dFNoYXBlW2ldKTtcbiAgfVxuICByZXR1cm4gbmV3SW5kaWNlcztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHN0cmlkZXNGb3JBeGlzKFxuICAgIHN0cmlkZXM6IG51bWJlcltdLCBheGlzOiBudW1iZXIsIGVsbGlwc2lzTWFzazogbnVtYmVyKTogbnVtYmVyIHtcbiAgbGV0IHN0cmlkZSA9IHN0cmlkZXNbYXhpc107XG4gIGlmIChlbGxpcHNpc01hc2sgJiAoMSA8PCBheGlzKSB8fCBzdHJpZGUgPT0gbnVsbCkge1xuICAgIHN0cmlkZSA9IDE7XG4gIH1cblxuICByZXR1cm4gc3RyaWRlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc3RhcnRGb3JBeGlzKFxuICAgIGJlZ2luTWFzazogbnVtYmVyLCBzdGFydEluZGljZXM6IG51bWJlcltdLCBzdHJpZGVzOiBudW1iZXJbXSxcbiAgICBpbnB1dFNoYXBlOiBudW1iZXJbXSwgYXhpczogbnVtYmVyLCBlbGxpcHNpc01hc2s6IG51bWJlcik6IG51bWJlciB7XG4gIC8vIEJlZ2luIHdpdGggdGhlIHNwZWNpZmllZCBpbmRleFxuICBsZXQgc3RhcnQgPSBzdGFydEluZGljZXNbYXhpc107XG4gIGNvbnN0IHN0cmlkZSA9IHN0cmlkZXNbYXhpc10gfHwgMTtcblxuICAvLyBDaGVjayB0aGUgYXhpcyBiaXQgZnJvbSByaWdodCBvZiBtYXNrZWQgYXhlcywgb3IgdGhlIGJlZ2luIGluZGV4IGlzIG5vdCBzZXRcbiAgLy8gZm9yIHRoZSBheGlzLlxuICBpZiAoYmVnaW5NYXNrICYgMSA8PCBheGlzIHx8IGVsbGlwc2lzTWFzayAmIDEgPDwgYXhpcyB8fCBzdGFydCA9PSBudWxsKSB7XG4gICAgaWYgKHN0cmlkZSA+IDApIHtcbiAgICAgIC8vIEZvcndhcmQgaXRlcmF0aW9uIC0gdXNlIHRoZSBmaXJzdCBlbGVtZW50LiBUaGVzZSB2YWx1ZXMgd2lsbCBnZXRcbiAgICAgIC8vIGNsYW1wZWQgYmVsb3cgKE5vdGU6IFdlIGNvdWxkIGhhdmUgc2V0IHRoZW0gdG8gMCBhbmQgYXhpc19zaXplLTEsIGJ1dFxuICAgICAgLy8gdXNlIGxvd2VzdCgpIGFuZCBtYXgoKSB0byBtYWludGFpbiBzeW1tZXRyeSB3aXRoIFN0b3BGb3JBeGlzKCkpXG4gICAgICBzdGFydCA9IE51bWJlci5NSU5fU0FGRV9JTlRFR0VSO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBCYWNrd2FyZCBpdGVyYXRpb24gLSB1c2UgdGhlIGxhc3QgZWxlbWVudC5cbiAgICAgIHN0YXJ0ID0gTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVI7XG4gICAgfVxuICB9XG5cbiAgLy8gSGFuZGxlIG5lZ2F0aXZlIGluZGljZXNcbiAgY29uc3QgYXhpc1NpemUgPSBpbnB1dFNoYXBlW2F4aXNdO1xuICBpZiAoc3RhcnQgPCAwKSB7XG4gICAgc3RhcnQgKz0gYXhpc1NpemU7XG4gIH1cblxuICAvLyBDbGFtcGluZ1xuICBzdGFydCA9IHV0aWwuY2xhbXAoMCwgc3RhcnQsIGF4aXNTaXplIC0gMSk7XG5cbiAgcmV0dXJuIHN0YXJ0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc3RvcEZvckF4aXMoXG4gICAgZW5kTWFzazogbnVtYmVyLCBzdG9wSW5kaWNlczogbnVtYmVyW10sIHN0cmlkZXM6IG51bWJlcltdLFxuICAgIGlucHV0U2hhcGU6IG51bWJlcltdLCBheGlzOiBudW1iZXIsIGVsbGlwc2lzTWFzazogbnVtYmVyKTogbnVtYmVyIHtcbiAgLy8gQmVnaW4gd2l0aCB0aGUgc3BlY2lmaWVkIGluZGV4XG4gIGxldCBzdG9wID0gc3RvcEluZGljZXNbYXhpc107XG4gIGNvbnN0IHN0cmlkZSA9IHN0cmlkZXNbYXhpc10gfHwgMTtcblxuICAvLyBDaGVjayB0aGUgYXhpcyBiaXQgZnJvbSByaWdodCBvZiBtYXNrZWQgYXhlcywgb3IgaWYgdGhlIHN0b3AgaW5kZXggaXMgbm90XG4gIC8vIHNldCBmb3IgdGhpcyBheGlzLlxuICBpZiAoZW5kTWFzayAmICgxIDw8IGF4aXMpIHx8IGVsbGlwc2lzTWFzayAmICgxIDw8IGF4aXMpIHx8IHN0b3AgPT0gbnVsbCkge1xuICAgIGlmIChzdHJpZGUgPiAwKSB7XG4gICAgICAvLyBGb3J3YXJkIGl0ZXJhdGlvbiAtIHVzZSB0aGUgbGFzdCBlbGVtZW50LiBUaGVzZSB2YWx1ZXMgd2lsbCBnZXRcbiAgICAgIC8vIGNsYW1wZWQgYmVsb3dcbiAgICAgIHN0b3AgPSBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUjtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gQmFja3dhcmQgaXRlcmF0aW9uIC0gdXNlIHRoZSBmaXJzdCBlbGVtZW50LlxuICAgICAgc3RvcCA9IE51bWJlci5NSU5fU0FGRV9JTlRFR0VSO1xuICAgIH1cbiAgfVxuXG4gIC8vIEhhbmRsZSBuZWdhdGl2ZSBpbmRpY2VzXG4gIGNvbnN0IGF4aXNTaXplID0gaW5wdXRTaGFwZVtheGlzXTtcbiAgaWYgKHN0b3AgPCAwKSB7XG4gICAgc3RvcCArPSBheGlzU2l6ZTtcbiAgfVxuXG4gIC8vIENsYW1waW5nXG4gIC8vIEJlY2F1c2UgdGhlIGVuZCBpbmRleCBwb2ludHMgb25lIHBhc3QgdGhlIGxhc3QgZWxlbWVudCwgd2UgbmVlZCBzbGlnaHRseVxuICAvLyBkaWZmZXJlbnQgY2xhbXBpbmcgcmFuZ2VzIGRlcGVuZGluZyBvbiB0aGUgZGlyZWN0aW9uLlxuICBpZiAoc3RyaWRlID4gMCkge1xuICAgIC8vIEZvcndhcmQgaXRlcmF0aW9uXG4gICAgc3RvcCA9IHV0aWwuY2xhbXAoMCwgc3RvcCwgYXhpc1NpemUpO1xuICB9IGVsc2Uge1xuICAgIC8vIEJhY2t3YXJkIGl0ZXJhdGlvblxuICAgIHN0b3AgPSB1dGlsLmNsYW1wKC0xLCBzdG9wLCBheGlzU2l6ZSAtIDEpO1xuICB9XG5cbiAgcmV0dXJuIHN0b3A7XG59XG5cbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIHRoZSBzbGljZSBvY2N1cGllcyBhIGNvbnRpbm91cyBzZXQgb2YgZWxlbWVudHMgaW4gdGhlXG4gKiAnZmxhdCcgc3BhY2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1NsaWNlQ29udGlub3VzKFxuICAgIHNoYXBlOiBudW1iZXJbXSwgYmVnaW46IG51bWJlcltdLCBzaXplOiBudW1iZXJbXSkge1xuICAvLyBJbmRleCBvZiB0aGUgZmlyc3QgYXhpcyB0aGF0IGhhcyBzaXplID4gMS5cbiAgbGV0IGZpcnN0Tm9uT25lQXhpcyA9IHNpemUubGVuZ3RoO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHNpemUubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoc2l6ZVtpXSA+IDEpIHtcbiAgICAgIGZpcnN0Tm9uT25lQXhpcyA9IGk7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICBmb3IgKGxldCBpID0gZmlyc3ROb25PbmVBeGlzICsgMTsgaSA8IHNpemUubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoYmVnaW5baV0gPiAwIHx8IHNpemVbaV0gIT09IHNoYXBlW2ldKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG4gIHJldHVybiB0cnVlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY29tcHV0ZUZsYXRPZmZzZXQoYmVnaW46IG51bWJlcltdLCBzdHJpZGVzOiBudW1iZXJbXSk6IG51bWJlciB7XG4gIGxldCBmbGF0T2Zmc2V0ID0gYmVnaW4ubGVuZ3RoID4gMCA/IGJlZ2luW2JlZ2luLmxlbmd0aCAtIDFdIDogMTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBiZWdpbi5sZW5ndGggLSAxOyBpKyspIHtcbiAgICBmbGF0T2Zmc2V0ICs9IGJlZ2luW2ldICogc3RyaWRlc1tpXTtcbiAgfVxuICByZXR1cm4gZmxhdE9mZnNldDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlU2xpY2VQYXJhbXMoXG4gICAgeDogVGVuc29ySW5mbywgYmVnaW46IG51bWJlcnxudW1iZXJbXSwgc2l6ZT86IG51bWJlcnxudW1iZXJbXSkge1xuICAvLyBUaGUgZm9sbG93aW5nIGxvZ2ljIGFsbG93cyBmb3IgbW9yZSBlcmdvbm9taWMgY2FsbHMuXG4gIGxldCBiZWdpbl86IG51bWJlcltdO1xuICBjb25zdCB4UmFuayA9IHguc2hhcGUubGVuZ3RoO1xuICBpZiAodHlwZW9mIGJlZ2luID09PSAnbnVtYmVyJykge1xuICAgIGJlZ2luXyA9IFtiZWdpbiwgLi4ubmV3IEFycmF5KHhSYW5rIC0gMSkuZmlsbCgwKV07XG4gIH0gZWxzZSBpZiAoYmVnaW4ubGVuZ3RoIDwgeFJhbmspIHtcbiAgICBiZWdpbl8gPSBiZWdpbi5jb25jYXQobmV3IEFycmF5KHhSYW5rIC0gYmVnaW4ubGVuZ3RoKS5maWxsKDApKTtcbiAgfSBlbHNlIHtcbiAgICBiZWdpbl8gPSBiZWdpbi5zbGljZSgpO1xuICB9XG4gIGJlZ2luXy5mb3JFYWNoKGQgPT4ge1xuICAgIHV0aWwuYXNzZXJ0KFxuICAgICAgICBkICE9PSAtMSwgKCkgPT4gJ3NsaWNlKCkgZG9lcyBub3Qgc3VwcG9ydCBuZWdhdGl2ZSBiZWdpbiBpbmRleGluZy4nKTtcbiAgfSk7XG4gIGxldCBzaXplXzogbnVtYmVyW107XG4gIGlmIChzaXplID09IG51bGwpIHtcbiAgICBzaXplXyA9IG5ldyBBcnJheSh4UmFuaykuZmlsbCgtMSk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIHNpemUgPT09ICdudW1iZXInKSB7XG4gICAgc2l6ZV8gPSBbc2l6ZSwgLi4ubmV3IEFycmF5KHhSYW5rIC0gMSkuZmlsbCgtMSldO1xuICB9IGVsc2UgaWYgKHNpemUubGVuZ3RoIDwgeFJhbmspIHtcbiAgICBzaXplXyA9IHNpemUuY29uY2F0KG5ldyBBcnJheSh4UmFuayAtIHNpemUubGVuZ3RoKS5maWxsKC0xKSk7XG4gIH0gZWxzZSB7XG4gICAgc2l6ZV8gPSBzaXplO1xuICB9XG4gIHNpemVfID0gc2l6ZV8ubWFwKChkLCBpKSA9PiB7XG4gICAgaWYgKGQgPj0gMCkge1xuICAgICAgcmV0dXJuIGQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHV0aWwuYXNzZXJ0KFxuICAgICAgICAgIGQgPT09IC0xLFxuICAgICAgICAgICgpID0+IGBOZWdhdGl2ZSBzaXplIHZhbHVlcyBzaG91bGQgYmUgZXhhY3RseSAtMSBidXQgZ290IGAgK1xuICAgICAgICAgICAgICBgJHtkfSBmb3IgdGhlIHNsaWNlKCkgc2l6ZSBhdCBpbmRleCAke2l9LmApO1xuICAgICAgcmV0dXJuIHguc2hhcGVbaV0gLSBiZWdpbl9baV07XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIFtiZWdpbl8sIHNpemVfXTtcbn1cbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE4IEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuaW1wb3J0IHthc3NlcnR9IGZyb20gJy4vdXRpbCc7XG5cbi8qKlxuICogVHlwZXMgdG8gc3VwcG9ydCBKU09OLWVzcXVlIGRhdGEgc3RydWN0dXJlcyBpbnRlcm5hbGx5LlxuICpcbiAqIEludGVybmFsbHkgQ29uZmlnRGljdCdzIHVzZSBjYW1lbENhc2Uga2V5cyBhbmQgdmFsdWVzIHdoZXJlIHRoZVxuICogdmFsdWVzIGFyZSBjbGFzcyBuYW1lcyB0byBiZSBpbnN0YW50aWF0ZWQuICBPbiB0aGUgcHl0aG9uIHNpZGUsIHRoZXNlXG4gKiB3aWxsIGJlIHNuYWtlX2Nhc2UuICBJbnRlcm5hbGx5IHdlIGFsbG93IEVudW1zIGludG8gdGhlIHZhbHVlcyBmb3IgYmV0dGVyXG4gKiB0eXBlIHNhZmV0eSwgYnV0IHRoZXNlIG5lZWQgdG8gYmUgY29udmVydGVkIHRvIHJhdyBwcmltaXRpdmVzICh1c3VhbGx5XG4gKiBzdHJpbmdzKSBmb3Igcm91bmQtdHJpcHBpbmcgd2l0aCBweXRob24uXG4gKlxuICogdG9Db25maWcgcmV0dXJucyB0aGUgVFMtZnJpZW5kbHkgcmVwcmVzZW50YXRpb24uIG1vZGVsLnRvSlNPTigpIHJldHVybnNcbiAqIHRoZSBweXRob25pYyB2ZXJzaW9uIGFzIHRoYXQncyB0aGUgcG9ydGFibGUgZm9ybWF0LiAgSWYgeW91IG5lZWQgdG9cbiAqIHB5dGhvbi1pZnkgYSBub24tbW9kZWwgbGV2ZWwgdG9Db25maWcgb3V0cHV0LCB5b3UnbGwgbmVlZCB0byB1c2UgYVxuICogY29udmVydFRzVG9QeXRob25pYyBmcm9tIHNlcmlhbGl6YXRpb25fdXRpbHMgaW4gLUxheWVycy5cbiAqXG4gKi9cbmV4cG9ydCBkZWNsYXJlIHR5cGUgQ29uZmlnRGljdFZhbHVlID1cbiAgICBib29sZWFuIHwgbnVtYmVyIHwgc3RyaW5nIHwgbnVsbCB8IENvbmZpZ0RpY3RBcnJheSB8IENvbmZpZ0RpY3Q7XG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgQ29uZmlnRGljdCB7XG4gIFtrZXk6IHN0cmluZ106IENvbmZpZ0RpY3RWYWx1ZTtcbn1cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBDb25maWdEaWN0QXJyYXkgZXh0ZW5kcyBBcnJheTxDb25maWdEaWN0VmFsdWU+IHt9XG5cbi8qKlxuICogVHlwZSB0byByZXByZXNlbnQgdGhlIGNsYXNzLXR5cGUgb2YgU2VyaWFsaXphYmxlIG9iamVjdHMuXG4gKlxuICogSWUgdGhlIGNsYXNzIHByb3RvdHlwZSB3aXRoIGFjY2VzcyB0byB0aGUgY29uc3RydWN0b3IgYW5kIGFueVxuICogc3RhdGljIG1lbWJlcnMvbWV0aG9kcy4gSW5zdGFuY2UgbWV0aG9kcyBhcmUgbm90IGxpc3RlZCBoZXJlLlxuICpcbiAqIFNvdXJjZSBmb3IgdGhpcyBpZGVhOiBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvNDM2MDcyNTVcbiAqL1xuZXhwb3J0IGRlY2xhcmUgdHlwZSBTZXJpYWxpemFibGVDb25zdHJ1Y3RvcjxUIGV4dGVuZHMgU2VyaWFsaXphYmxlPiA9IHtcbiAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWFueVxuICBuZXcgKC4uLmFyZ3M6IGFueVtdKTogVDsgY2xhc3NOYW1lOiBzdHJpbmc7IGZyb21Db25maWc6IEZyb21Db25maWdNZXRob2Q8VD47XG59O1xuZXhwb3J0IGRlY2xhcmUgdHlwZSBGcm9tQ29uZmlnTWV0aG9kPFQgZXh0ZW5kcyBTZXJpYWxpemFibGU+ID1cbiAgICAoY2xzOiBTZXJpYWxpemFibGVDb25zdHJ1Y3RvcjxUPiwgY29uZmlnOiBDb25maWdEaWN0KSA9PiBUO1xuXG4vKipcbiAqIFNlcmlhbGl6YWJsZSBkZWZpbmVzIHRoZSBzZXJpYWxpemF0aW9uIGNvbnRyYWN0LlxuICpcbiAqIFRGSlMgcmVxdWlyZXMgc2VyaWFsaXphYmxlIGNsYXNzZXMgdG8gcmV0dXJuIHRoZWlyIGNsYXNzTmFtZSB3aGVuIGFza2VkXG4gKiB0byBhdm9pZCBpc3N1ZXMgd2l0aCBtaW5pZmljYXRpb24uXG4gKi9cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBTZXJpYWxpemFibGUge1xuICAvKipcbiAgICogUmV0dXJuIHRoZSBjbGFzcyBuYW1lIGZvciB0aGlzIGNsYXNzIHRvIHVzZSBpbiBzZXJpYWxpemF0aW9uIGNvbnRleHRzLlxuICAgKlxuICAgKiBHZW5lcmFsbHkgc3BlYWtpbmcgdGhpcyB3aWxsIGJlIHRoZSBzYW1lIHRoaW5nIHRoYXQgY29uc3RydWN0b3IubmFtZVxuICAgKiB3b3VsZCBoYXZlIHJldHVybmVkLiAgSG93ZXZlciwgdGhlIGNsYXNzIG5hbWUgbmVlZHMgdG8gYmUgcm9idXN0XG4gICAqIGFnYWluc3QgbWluaWZpY2F0aW9uIGZvciBzZXJpYWxpemF0aW9uL2Rlc2VyaWFsaXphdGlvbiB0byB3b3JrIHByb3Blcmx5LlxuICAgKlxuICAgKiBUaGVyZSdzIGFsc28gcGxhY2VzIHN1Y2ggYXMgaW5pdGlhbGl6ZXJzLlZhcmlhbmNlU2NhbGluZywgd2hlcmVcbiAgICogaW1wbGVtZW50YXRpb24gZGV0YWlscyBiZXR3ZWVuIGRpZmZlcmVudCBsYW5ndWFnZXMgbGVkIHRvIGRpZmZlcmVudFxuICAgKiBjbGFzcyBoaWVyYXJjaGllcyBhbmQgYSBub24tbGVhZiBub2RlIGlzIHVzZWQgZm9yIHNlcmlhbGl6YXRpb24gcHVycG9zZXMuXG4gICAqL1xuICBnZXRDbGFzc05hbWUoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gKHRoaXMuY29uc3RydWN0b3IgYXMgU2VyaWFsaXphYmxlQ29uc3RydWN0b3I8U2VyaWFsaXphYmxlPilcbiAgICAgICAgLmNsYXNzTmFtZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm4gYWxsIHRoZSBub24td2VpZ2h0IHN0YXRlIG5lZWRlZCB0byBzZXJpYWxpemUgdGhpcyBvYmplY3QuXG4gICAqL1xuICBhYnN0cmFjdCBnZXRDb25maWcoKTogQ29uZmlnRGljdDtcblxuICAvKipcbiAgICogQ3JlYXRlcyBhbiBpbnN0YW5jZSBvZiBUIGZyb20gYSBDb25maWdEaWN0LlxuICAgKlxuICAgKiBUaGlzIHdvcmtzIGZvciBtb3N0IGRlc2NlbmRhbnRzIG9mIHNlcmlhbGl6YWJsZS4gIEEgZmV3IG5lZWQgdG9cbiAgICogcHJvdmlkZSBzcGVjaWFsIGhhbmRsaW5nLlxuICAgKiBAcGFyYW0gY2xzIEEgQ29uc3RydWN0b3IgZm9yIHRoZSBjbGFzcyB0byBpbnN0YW50aWF0ZS5cbiAgICogQHBhcmFtIGNvbmZpZyBUaGUgQ29uZmlndXJhdGlvbiBmb3IgdGhlIG9iamVjdC5cbiAgICovXG4gIC8qKiBAbm9jb2xsYXBzZSAqL1xuICBzdGF0aWMgZnJvbUNvbmZpZzxUIGV4dGVuZHMgU2VyaWFsaXphYmxlPihcbiAgICAgIGNsczogU2VyaWFsaXphYmxlQ29uc3RydWN0b3I8VD4sIGNvbmZpZzogQ29uZmlnRGljdCk6IFQge1xuICAgIHJldHVybiBuZXcgY2xzKGNvbmZpZyk7XG4gIH1cbn1cblxuLyoqXG4gKiBNYXBzIHN0cmluZyBrZXlzIHRvIGNsYXNzIGNvbnN0cnVjdG9ycy5cbiAqXG4gKiBVc2VkIGR1cmluZyAoZGUpc2VyaWFsaXphdGlvbiBmcm9tIHRoZSBjcm9zcy1sYW5ndWFnZSBKU09OIGZvcm1hdCwgd2hpY2hcbiAqIHJlcXVpcmVzIHRoZSBjbGFzcyBuYW1lIGluIHRoZSBzZXJpYWxpemF0aW9uIGZvcm1hdCBtYXRjaGVzIHRoZSBjbGFzc1xuICogbmFtZXMgYXMgdXNlZCBpbiBQeXRob24sIHNob3VsZCBpdCBleGlzdC5cbiAqL1xuZXhwb3J0IGNsYXNzIFNlcmlhbGl6YXRpb25NYXAge1xuICBwcml2YXRlIHN0YXRpYyBpbnN0YW5jZTogU2VyaWFsaXphdGlvbk1hcDtcbiAgY2xhc3NOYW1lTWFwOiB7XG4gICAgW2NsYXNzTmFtZTogc3RyaW5nXTpcbiAgICAgICAgW1NlcmlhbGl6YWJsZUNvbnN0cnVjdG9yPFNlcmlhbGl6YWJsZT4sIEZyb21Db25maWdNZXRob2Q8U2VyaWFsaXphYmxlPl1cbiAgfTtcblxuICBwcml2YXRlIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuY2xhc3NOYW1lTWFwID0ge307XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgc2luZ2xldG9uIGluc3RhbmNlIG9mIHRoZSBtYXAuXG4gICAqL1xuICBzdGF0aWMgZ2V0TWFwKCk6IFNlcmlhbGl6YXRpb25NYXAge1xuICAgIGlmIChTZXJpYWxpemF0aW9uTWFwLmluc3RhbmNlID09IG51bGwpIHtcbiAgICAgIFNlcmlhbGl6YXRpb25NYXAuaW5zdGFuY2UgPSBuZXcgU2VyaWFsaXphdGlvbk1hcCgpO1xuICAgIH1cbiAgICByZXR1cm4gU2VyaWFsaXphdGlvbk1hcC5pbnN0YW5jZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZWdpc3RlcnMgdGhlIGNsYXNzIGFzIHNlcmlhbGl6YWJsZS5cbiAgICovXG4gIHN0YXRpYyByZWdpc3RlcjxUIGV4dGVuZHMgU2VyaWFsaXphYmxlPihjbHM6IFNlcmlhbGl6YWJsZUNvbnN0cnVjdG9yPFQ+KSB7XG4gICAgU2VyaWFsaXphdGlvbk1hcC5nZXRNYXAoKS5jbGFzc05hbWVNYXBbY2xzLmNsYXNzTmFtZV0gPVxuICAgICAgICBbY2xzLCBjbHMuZnJvbUNvbmZpZ107XG4gIH1cbn1cblxuLyoqXG4gKiBSZWdpc3RlciBhIGNsYXNzIHdpdGggdGhlIHNlcmlhbGl6YXRpb24gbWFwIG9mIFRlbnNvckZsb3cuanMuXG4gKlxuICogVGhpcyBpcyBvZnRlbiB1c2VkIGZvciByZWdpc3RlcmluZyBjdXN0b20gTGF5ZXJzLCBzbyB0aGV5IGNhbiBiZVxuICogc2VyaWFsaXplZCBhbmQgZGVzZXJpYWxpemVkLlxuICpcbiAqIEV4YW1wbGU6XG4gKlxuICogYGBganNcbiAqIGNsYXNzIE15Q3VzdG9tTGF5ZXIgZXh0ZW5kcyB0Zi5sYXllcnMuTGF5ZXIge1xuICogICBzdGF0aWMgY2xhc3NOYW1lID0gJ015Q3VzdG9tTGF5ZXInO1xuICpcbiAqICAgY29uc3RydWN0b3IoY29uZmlnKSB7XG4gKiAgICAgc3VwZXIoY29uZmlnKTtcbiAqICAgfVxuICogfVxuICogdGYuc2VyaWFsaXphdGlvbi5yZWdpc3RlckNsYXNzKE15Q3VzdG9tTGF5ZXIpO1xuICogYGBgXG4gKlxuICogQHBhcmFtIGNscyBUaGUgY2xhc3MgdG8gYmUgcmVnaXN0ZXJlZC4gSXQgbXVzdCBoYXZlIGEgcHVibGljIHN0YXRpYyBtZW1iZXJcbiAqICAgY2FsbGVkIGBjbGFzc05hbWVgIGRlZmluZWQgYW5kIHRoZSB2YWx1ZSBtdXN0IGJlIGEgbm9uLWVtcHR5IHN0cmluZy5cbiAqXG4gKiBAZG9jIHtoZWFkaW5nOiAnTW9kZWxzJywgc3ViaGVhZGluZzogJ1NlcmlhbGl6YXRpb24nLCBpZ25vcmVDSTogdHJ1ZX1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlZ2lzdGVyQ2xhc3M8VCBleHRlbmRzIFNlcmlhbGl6YWJsZT4oXG4gICAgY2xzOiBTZXJpYWxpemFibGVDb25zdHJ1Y3RvcjxUPikge1xuICBhc3NlcnQoXG4gICAgICBjbHMuY2xhc3NOYW1lICE9IG51bGwsXG4gICAgICAoKSA9PiBgQ2xhc3MgYmVpbmcgcmVnaXN0ZXJlZCBkb2VzIG5vdCBoYXZlIHRoZSBzdGF0aWMgY2xhc3NOYW1lIGAgK1xuICAgICAgICAgIGBwcm9wZXJ0eSBkZWZpbmVkLmApO1xuICBhc3NlcnQoXG4gICAgICB0eXBlb2YgY2xzLmNsYXNzTmFtZSA9PT0gJ3N0cmluZycsXG4gICAgICAoKSA9PiBgY2xhc3NOYW1lIGlzIHJlcXVpcmVkIHRvIGJlIGEgc3RyaW5nLCBidXQgZ290IHR5cGUgYCArXG4gICAgICAgICAgdHlwZW9mIGNscy5jbGFzc05hbWUpO1xuICBhc3NlcnQoXG4gICAgICBjbHMuY2xhc3NOYW1lLmxlbmd0aCA+IDAsXG4gICAgICAoKSA9PiBgQ2xhc3MgYmVpbmcgcmVnaXN0ZXJlZCBoYXMgYW4gZW1wdHktc3RyaW5nIGFzIGl0cyBjbGFzc05hbWUsIGAgK1xuICAgICAgICAgIGB3aGljaCBpcyBkaXNhbGxvd2VkLmApO1xuXG4gIFNlcmlhbGl6YXRpb25NYXAucmVnaXN0ZXIoY2xzKTtcbn1cbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuaW1wb3J0IHtFTkdJTkV9IGZyb20gJy4vZW5naW5lJztcbmltcG9ydCB7aW5mZXJTaGFwZX0gZnJvbSAnLi90ZW5zb3JfdXRpbF9lbnYnO1xuaW1wb3J0IHtSZWN1cnNpdmVBcnJheSwgVGVuc29yTGlrZSwgVHlwZWRBcnJheX0gZnJvbSAnLi90eXBlcyc7XG5pbXBvcnQge2FycmF5c0VxdWFsLCBmbGF0dGVuLCBpc1N0cmluZywgaXNUeXBlZEFycmF5fSBmcm9tICcuL3V0aWwnO1xuXG5jb25zdCBURVNUX0VQU0lMT05fRkxPQVQzMiA9IDFlLTM7XG5leHBvcnQgY29uc3QgVEVTVF9FUFNJTE9OX0ZMT0FUMTYgPSAxZS0xO1xuXG5leHBvcnQgZnVuY3Rpb24gZXhwZWN0QXJyYXlzQ2xvc2UoXG4gICAgYWN0dWFsOiBUeXBlZEFycmF5fG51bWJlcnxSZWN1cnNpdmVBcnJheTxudW1iZXI+LFxuICAgIGV4cGVjdGVkOiBUeXBlZEFycmF5fG51bWJlcnxSZWN1cnNpdmVBcnJheTxudW1iZXI+LCBlcHNpbG9uPzogbnVtYmVyKSB7XG4gIGlmIChlcHNpbG9uID09IG51bGwpIHtcbiAgICBlcHNpbG9uID0gdGVzdEVwc2lsb24oKTtcbiAgfVxuICByZXR1cm4gZXhwZWN0QXJyYXlzUHJlZGljYXRlKFxuICAgICAgYWN0dWFsLCBleHBlY3RlZCwgKGEsIGIpID0+IGFyZUNsb3NlKGEgYXMgbnVtYmVyLCBiIGFzIG51bWJlciwgZXBzaWxvbikpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdGVzdEVwc2lsb24oKSB7XG4gIHJldHVybiBFTkdJTkUuYmFja2VuZC5mbG9hdFByZWNpc2lvbigpID09PSAzMiA/IFRFU1RfRVBTSUxPTl9GTE9BVDMyIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVEVTVF9FUFNJTE9OX0ZMT0FUMTY7XG59XG5cbmZ1bmN0aW9uIGV4cGVjdEFycmF5c1ByZWRpY2F0ZShcbiAgICBhY3R1YWw6IFRlbnNvckxpa2UsIGV4cGVjdGVkOiBUZW5zb3JMaWtlLFxuICAgIHByZWRpY2F0ZTogKGE6IHt9LCBiOiB7fSkgPT4gYm9vbGVhbikge1xuICBsZXQgY2hlY2tDbGFzc1R5cGUgPSB0cnVlO1xuICBpZiAoaXNUeXBlZEFycmF5KGFjdHVhbCkgfHwgaXNUeXBlZEFycmF5KGV4cGVjdGVkKSkge1xuICAgIGNoZWNrQ2xhc3NUeXBlID0gZmFsc2U7XG4gIH1cbiAgaWYgKGlzVHlwZWRBcnJheShhY3R1YWwpICYmIGlzVHlwZWRBcnJheShleHBlY3RlZCkpIHtcbiAgICBjaGVja0NsYXNzVHlwZSA9IHRydWU7XG4gIH1cbiAgaWYgKGNoZWNrQ2xhc3NUeXBlKSB7XG4gICAgY29uc3QgYVR5cGUgPSBhY3R1YWwuY29uc3RydWN0b3IubmFtZTtcbiAgICBjb25zdCBiVHlwZSA9IGV4cGVjdGVkLmNvbnN0cnVjdG9yLm5hbWU7XG5cbiAgICBpZiAoYVR5cGUgIT09IGJUeXBlKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgYEFycmF5cyBhcmUgb2YgZGlmZmVyZW50IHR5cGUuIEFjdHVhbDogJHthVHlwZX0uIGAgK1xuICAgICAgICAgIGBFeHBlY3RlZDogJHtiVHlwZX1gKTtcbiAgICB9XG4gIH1cblxuICBpZiAoQXJyYXkuaXNBcnJheShhY3R1YWwpICYmIEFycmF5LmlzQXJyYXkoZXhwZWN0ZWQpKSB7XG4gICAgY29uc3QgYWN0dWFsU2hhcGUgPSBpbmZlclNoYXBlKGFjdHVhbCk7XG4gICAgY29uc3QgZXhwZWN0ZWRTaGFwZSA9IGluZmVyU2hhcGUoZXhwZWN0ZWQpO1xuICAgIGlmICghYXJyYXlzRXF1YWwoYWN0dWFsU2hhcGUsIGV4cGVjdGVkU2hhcGUpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgYEFycmF5cyBoYXZlIGRpZmZlcmVudCBzaGFwZXMuIGAgK1xuICAgICAgICAgIGBBY3R1YWw6IFske2FjdHVhbFNoYXBlfV0uIEV4cGVjdGVkOiBbJHtleHBlY3RlZFNoYXBlfV1gKTtcbiAgICB9XG4gIH1cblxuICBjb25zdCBhY3R1YWxGbGF0ID1cbiAgICAgIGlzVHlwZWRBcnJheShhY3R1YWwpID8gYWN0dWFsIDogZmxhdHRlbihhY3R1YWwgYXMgUmVjdXJzaXZlQXJyYXk8bnVtYmVyPik7XG4gIGNvbnN0IGV4cGVjdGVkRmxhdCA9IGlzVHlwZWRBcnJheShleHBlY3RlZCkgP1xuICAgICAgZXhwZWN0ZWQgOlxuICAgICAgZmxhdHRlbihleHBlY3RlZCBhcyBSZWN1cnNpdmVBcnJheTxudW1iZXI+KTtcblxuICBpZiAoYWN0dWFsRmxhdC5sZW5ndGggIT09IGV4cGVjdGVkRmxhdC5sZW5ndGgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIGBBcnJheXMgaGF2ZSBkaWZmZXJlbnQgbGVuZ3RocyBhY3R1YWw6ICR7YWN0dWFsRmxhdC5sZW5ndGh9IHZzIGAgK1xuICAgICAgICBgZXhwZWN0ZWQ6ICR7ZXhwZWN0ZWRGbGF0Lmxlbmd0aH0uXFxuYCArXG4gICAgICAgIGBBY3R1YWw6ICAgJHthY3R1YWxGbGF0fS5cXG5gICtcbiAgICAgICAgYEV4cGVjdGVkOiAke2V4cGVjdGVkRmxhdH0uYCk7XG4gIH1cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBleHBlY3RlZEZsYXQubGVuZ3RoOyArK2kpIHtcbiAgICBjb25zdCBhID0gYWN0dWFsRmxhdFtpXTtcbiAgICBjb25zdCBlID0gZXhwZWN0ZWRGbGF0W2ldO1xuXG4gICAgaWYgKCFwcmVkaWNhdGUoYSwgZSkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICBgQXJyYXlzIGRpZmZlcjogYWN0dWFsWyR7aX1dID0gJHthfSwgZXhwZWN0ZWRbJHtpfV0gPSAke2V9LlxcbmAgK1xuICAgICAgICAgIGBBY3R1YWw6ICAgJHthY3R1YWxGbGF0fS5cXG5gICtcbiAgICAgICAgICBgRXhwZWN0ZWQ6ICR7ZXhwZWN0ZWRGbGF0fS5gKTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBEb25lRm4ge1xuICAoKTogdm9pZDtcbiAgZmFpbDogKG1lc3NhZ2U/OiBFcnJvcnxzdHJpbmcpID0+IHZvaWQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBleHBlY3RQcm9taXNlVG9GYWlsKGZuOiAoKSA9PiBQcm9taXNlPHt9PiwgZG9uZTogRG9uZUZuKTogdm9pZCB7XG4gIGZuKCkudGhlbigoKSA9PiBkb25lLmZhaWwoKSwgKCkgPT4gZG9uZSgpKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGV4cGVjdEFycmF5c0VxdWFsKGFjdHVhbDogVGVuc29yTGlrZSwgZXhwZWN0ZWQ6IFRlbnNvckxpa2UpIHtcbiAgY29uc3QgZXhwID0gdHlwZW9mIGV4cGVjdGVkID09PSAnc3RyaW5nJyB8fCB0eXBlb2YgZXhwZWN0ZWQgPT09ICdudW1iZXInIHx8XG4gICAgICAgICAgdHlwZW9mIGV4cGVjdGVkID09PSAnYm9vbGVhbicgP1xuICAgICAgW2V4cGVjdGVkXSBhcyBudW1iZXJbXSA6XG4gICAgICBleHBlY3RlZCBhcyBudW1iZXJbXTtcbiAgaWYgKGlzU3RyaW5nKGFjdHVhbCkgfHwgaXNTdHJpbmcoKGFjdHVhbCBhcyBzdHJpbmdbXSlbMF0pIHx8XG4gICAgICBpc1N0cmluZyhleHBlY3RlZCkgfHwgaXNTdHJpbmcoKGV4cGVjdGVkIGFzIHN0cmluZ1tdKVswXSkpIHtcbiAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6IHRyaXBsZS1lcXVhbHNcbiAgICByZXR1cm4gZXhwZWN0QXJyYXlzUHJlZGljYXRlKGFjdHVhbCwgZXhwLCAoYSwgYikgPT4gYSA9PSBiKTtcbiAgfVxuICByZXR1cm4gZXhwZWN0QXJyYXlzUHJlZGljYXRlKFxuICAgICAgYWN0dWFsLCBleHBlY3RlZCwgKGEsIGIpID0+IGFyZUNsb3NlKGEgYXMgbnVtYmVyLCBiIGFzIG51bWJlciwgMCkpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZXhwZWN0TnVtYmVyc0Nsb3NlKGE6IG51bWJlciwgZTogbnVtYmVyLCBlcHNpbG9uPzogbnVtYmVyKSB7XG4gIGlmIChlcHNpbG9uID09IG51bGwpIHtcbiAgICBlcHNpbG9uID0gdGVzdEVwc2lsb24oKTtcbiAgfVxuICBpZiAoIWFyZUNsb3NlKGEsIGUsIGVwc2lsb24pKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBOdW1iZXJzIGRpZmZlcjogYWN0dWFsID09PSAke2F9LCBleHBlY3RlZCA9PT0gJHtlfWApO1xuICB9XG59XG5cbmZ1bmN0aW9uIGFyZUNsb3NlKGE6IG51bWJlciwgZTogbnVtYmVyLCBlcHNpbG9uOiBudW1iZXIpOiBib29sZWFuIHtcbiAgaWYgKCFpc0Zpbml0ZShhKSAmJiAhaXNGaW5pdGUoZSkpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBpZiAoaXNOYU4oYSkgfHwgaXNOYU4oZSkgfHwgTWF0aC5hYnMoYSAtIGUpID4gZXBzaWxvbikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGV4cGVjdFZhbHVlc0luUmFuZ2UoXG4gICAgYWN0dWFsOiBUeXBlZEFycmF5fG51bWJlcltdLCBsb3c6IG51bWJlciwgaGlnaDogbnVtYmVyKSB7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgYWN0dWFsLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKGFjdHVhbFtpXSA8IGxvdyB8fCBhY3R1YWxbaV0gPiBoaWdoKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgYFZhbHVlIG91dCBvZiByYW5nZToke2FjdHVhbFtpXX0gbG93OiAke2xvd30sIGhpZ2g6ICR7aGlnaH1gKTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGV4cGVjdEFycmF5QnVmZmVyc0VxdWFsKFxuICAgIGFjdHVhbDogQXJyYXlCdWZmZXIsIGV4cGVjdGVkOiBBcnJheUJ1ZmZlcikge1xuICAvLyBTYWZhcmkgJiBKYXNtaW5lIGRvbid0IGxpa2UgY29tcGFyaW5nIEFycmF5QnVmZmVycyBkaXJlY3RseS4gV3JhcHBpbmcgaW5cbiAgLy8gYSBGbG9hdDMyQXJyYXkgc29sdmVzIHRoaXMgaXNzdWUuXG4gIGV4cGVjdChuZXcgRmxvYXQzMkFycmF5KGFjdHVhbCkpLnRvRXF1YWwobmV3IEZsb2F0MzJBcnJheShleHBlY3RlZCkpO1xufVxuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTggR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG5pbXBvcnQge0tlcm5lbEJhY2tlbmR9IGZyb20gJy4vYmFja2VuZHMvYmFja2VuZCc7XG5pbXBvcnQge0VOR0lORSwgRW5naW5lLCBNZW1vcnlJbmZvLCBQcm9maWxlSW5mbywgU2NvcGVGbiwgVGltaW5nSW5mb30gZnJvbSAnLi9lbmdpbmUnO1xuaW1wb3J0IHtlbnZ9IGZyb20gJy4vZW52aXJvbm1lbnQnO1xuXG5pbXBvcnQge1BsYXRmb3JtfSBmcm9tICcuL3BsYXRmb3Jtcy9wbGF0Zm9ybSc7XG5pbXBvcnQge3NldERlcHJlY2F0aW9uV2FybmluZ0ZuLCBUZW5zb3J9IGZyb20gJy4vdGVuc29yJztcbmltcG9ydCB7VGVuc29yQ29udGFpbmVyfSBmcm9tICcuL3RlbnNvcl90eXBlcyc7XG5pbXBvcnQge2dldFRlbnNvcnNJbkNvbnRhaW5lcn0gZnJvbSAnLi90ZW5zb3JfdXRpbCc7XG5cbi8qKlxuICogRW5hYmxlcyBwcm9kdWN0aW9uIG1vZGUgd2hpY2ggZGlzYWJsZXMgY29ycmVjdG5lc3MgY2hlY2tzIGluIGZhdm9yIG9mXG4gKiBwZXJmb3JtYW5jZS5cbiAqXG4gKiBAZG9jIHtoZWFkaW5nOiAnRW52aXJvbm1lbnQnfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZW5hYmxlUHJvZE1vZGUoKTogdm9pZCB7XG4gIGVudigpLnNldCgnUFJPRCcsIHRydWUpO1xufVxuXG4vKipcbiAqIEVuYWJsZXMgZGVidWcgbW9kZSB3aGljaCB3aWxsIGxvZyBpbmZvcm1hdGlvbiBhYm91dCBhbGwgZXhlY3V0ZWQga2VybmVsczpcbiAqIHRoZSBlbGFwc2VkIHRpbWUgb2YgdGhlIGtlcm5lbCBleGVjdXRpb24sIGFzIHdlbGwgYXMgdGhlIHJhbmssIHNoYXBlLCBhbmRcbiAqIHNpemUgb2YgdGhlIG91dHB1dCB0ZW5zb3IuXG4gKlxuICogRGVidWcgbW9kZSB3aWxsIHNpZ25pZmljYW50bHkgc2xvdyBkb3duIHlvdXIgYXBwbGljYXRpb24gYXMgaXQgd2lsbFxuICogZG93bmxvYWQgdGhlIHJlc3VsdCBvZiBldmVyeSBvcGVyYXRpb24gdG8gdGhlIENQVS4gVGhpcyBzaG91bGQgbm90IGJlIHVzZWQgaW5cbiAqIHByb2R1Y3Rpb24uIERlYnVnIG1vZGUgZG9lcyBub3QgYWZmZWN0IHRoZSB0aW1pbmcgaW5mb3JtYXRpb24gb2YgdGhlIGtlcm5lbFxuICogZXhlY3V0aW9uIGFzIHdlIGRvIG5vdCBtZWFzdXJlIGRvd25sb2FkIHRpbWUgaW4gdGhlIGtlcm5lbCBleGVjdXRpb24gdGltZS5cbiAqXG4gKiBTZWUgYWxzbzogYHRmLnByb2ZpbGVgLCBgdGYubWVtb3J5YC5cbiAqXG4gKiBAZG9jIHtoZWFkaW5nOiAnRW52aXJvbm1lbnQnfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZW5hYmxlRGVidWdNb2RlKCk6IHZvaWQge1xuICBlbnYoKS5zZXQoJ0RFQlVHJywgdHJ1ZSk7XG59XG5cbi8qKiBHbG9iYWxseSBkaXNhYmxlcyBkZXByZWNhdGlvbiB3YXJuaW5ncyAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRpc2FibGVEZXByZWNhdGlvbldhcm5pbmdzKCk6IHZvaWQge1xuICBlbnYoKS5zZXQoJ0RFUFJFQ0FUSU9OX1dBUk5JTkdTX0VOQUJMRUQnLCBmYWxzZSk7XG4gIGNvbnNvbGUud2FybihgVGVuc29yRmxvdy5qcyBkZXByZWNhdGlvbiB3YXJuaW5ncyBoYXZlIGJlZW4gZGlzYWJsZWQuYCk7XG59XG5cbi8qKiBXYXJuIHVzZXJzIGFib3V0IGRlcHJlY2F0ZWQgZnVuY3Rpb25hbGl0eS4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZXByZWNhdGlvbldhcm4obXNnOiBzdHJpbmcpIHtcbiAgaWYgKGVudigpLmdldEJvb2woJ0RFUFJFQ0FUSU9OX1dBUk5JTkdTX0VOQUJMRUQnKSkge1xuICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgbXNnICsgJyBZb3UgY2FuIGRpc2FibGUgZGVwcmVjYXRpb24gd2FybmluZ3Mgd2l0aCAnICtcbiAgICAgICAgJ3RmLmRpc2FibGVEZXByZWNhdGlvbldhcm5pbmdzKCkuJyk7XG4gIH1cbn1cbnNldERlcHJlY2F0aW9uV2FybmluZ0ZuKGRlcHJlY2F0aW9uV2Fybik7XG5cbi8qKlxuICogRGlzcG9zZSBhbGwgdmFyaWFibGVzIGtlcHQgaW4gYmFja2VuZCBlbmdpbmUuXG4gKlxuICogQGRvYyB7aGVhZGluZzogJ0Vudmlyb25tZW50J31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRpc3Bvc2VWYXJpYWJsZXMoKTogdm9pZCB7XG4gIEVOR0lORS5kaXNwb3NlVmFyaWFibGVzKCk7XG59XG5cbi8qKlxuICogSXQgcmV0dXJucyB0aGUgZ2xvYmFsIGVuZ2luZSB0aGF0IGtlZXBzIHRyYWNrIG9mIGFsbCB0ZW5zb3JzIGFuZCBiYWNrZW5kcy5cbiAqXG4gKiBAZG9jIHtoZWFkaW5nOiAnRW52aXJvbm1lbnQnfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZW5naW5lKCk6IEVuZ2luZSB7XG4gIHJldHVybiBFTkdJTkU7XG59XG5cbi8qKlxuICogUmV0dXJucyBtZW1vcnkgaW5mbyBhdCB0aGUgY3VycmVudCB0aW1lIGluIHRoZSBwcm9ncmFtLiBUaGUgcmVzdWx0IGlzIGFuXG4gKiBvYmplY3Qgd2l0aCB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXM6XG4gKlxuICogLSBgbnVtQnl0ZXNgOiBOdW1iZXIgb2YgYnl0ZXMgYWxsb2NhdGVkICh1bmRpc3Bvc2VkKSBhdCB0aGlzIHRpbWUuXG4gKiAtIGBudW1UZW5zb3JzYDogTnVtYmVyIG9mIHVuaXF1ZSB0ZW5zb3JzIGFsbG9jYXRlZC5cbiAqIC0gYG51bURhdGFCdWZmZXJzYDogTnVtYmVyIG9mIHVuaXF1ZSBkYXRhIGJ1ZmZlcnMgYWxsb2NhdGVkXG4gKiAgICh1bmRpc3Bvc2VkKSBhdCB0aGlzIHRpbWUsIHdoaWNoIGlzIOKJpCB0aGUgbnVtYmVyIG9mIHRlbnNvcnNcbiAqICAgKGUuZy4gYGEucmVzaGFwZShuZXdTaGFwZSlgIG1ha2VzIGEgbmV3IFRlbnNvciB0aGF0IHNoYXJlcyB0aGUgc2FtZVxuICogICBkYXRhIGJ1ZmZlciB3aXRoIGBhYCkuXG4gKiAtIGB1bnJlbGlhYmxlYDogVHJ1ZSBpZiB0aGUgbWVtb3J5IHVzYWdlIGlzIHVucmVsaWFibGUuIFNlZSBgcmVhc29uc2Agd2hlblxuICogICAgYHVucmVsaWFibGVgIGlzIHRydWUuXG4gKiAtIGByZWFzb25zYDogYHN0cmluZ1tdYCwgcmVhc29ucyB3aHkgdGhlIG1lbW9yeSBpcyB1bnJlbGlhYmxlLCBwcmVzZW50IGlmXG4gKiAgICBgdW5yZWxpYWJsZWAgaXMgdHJ1ZS5cbiAqXG4gKiBXZWJHTCBQcm9wZXJ0aWVzOlxuICogLSBgbnVtQnl0ZXNJbkdQVWA6IE51bWJlciBvZiBieXRlcyBhbGxvY2F0ZWQgKHVuZGlzcG9zZWQpIGluIHRoZSBHUFUgb25seSBhdFxuICogICAgIHRoaXMgdGltZS5cbiAqXG4gKiBAZG9jIHtoZWFkaW5nOiAnUGVyZm9ybWFuY2UnLCBzdWJoZWFkaW5nOiAnTWVtb3J5J31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1lbW9yeSgpOiBNZW1vcnlJbmZvIHtcbiAgcmV0dXJuIEVOR0lORS5tZW1vcnkoKTtcbn1cblxuLyoqXG4gKiBFeGVjdXRlcyB0aGUgcHJvdmlkZWQgZnVuY3Rpb24gYGYoKWAgYW5kIHJldHVybnMgYSBwcm9taXNlIHRoYXQgcmVzb2x2ZXNcbiAqIHdpdGggaW5mb3JtYXRpb24gYWJvdXQgdGhlIGZ1bmN0aW9uJ3MgbWVtb3J5IHVzZTpcbiAqIC0gYG5ld0J5dGVzYDogdGhlIG51bWJlciBvZiBuZXcgYnl0ZXMgYWxsb2NhdGVkXG4gKiAtIGBuZXdUZW5zb3JzYDogdGhlIG51bWJlciBvZiBuZXcgdGVuc29ycyBjcmVhdGVkXG4gKiAtIGBwZWFrQnl0ZXNgOiB0aGUgcGVhayBudW1iZXIgb2YgYnl0ZXMgYWxsb2NhdGVkXG4gKiAtIGBrZXJuZWxzYDogYW4gYXJyYXkgb2Ygb2JqZWN0cyBmb3IgZWFjaCBrZXJuZWwgaW52b2x2ZWQgdGhhdCByZXBvcnRzXG4gKiB0aGVpciBpbnB1dCBhbmQgb3V0cHV0IHNoYXBlcywgbnVtYmVyIG9mIGJ5dGVzIHVzZWQsIGFuZCBudW1iZXIgb2YgbmV3XG4gKiB0ZW5zb3JzIGNyZWF0ZWQuXG4gKlxuICogYGBganNcbiAqIGNvbnN0IHByb2ZpbGUgPSBhd2FpdCB0Zi5wcm9maWxlKCgpID0+IHtcbiAqICAgY29uc3QgeCA9IHRmLnRlbnNvcjFkKFsxLCAyLCAzXSk7XG4gKiAgIGxldCB4MiA9IHguc3F1YXJlKCk7XG4gKiAgIHgyLmRpc3Bvc2UoKTtcbiAqICAgeDIgPSB4LnNxdWFyZSgpO1xuICogICB4Mi5kaXNwb3NlKCk7XG4gKiAgIHJldHVybiB4O1xuICogfSk7XG4gKlxuICogY29uc29sZS5sb2coYG5ld0J5dGVzOiAke3Byb2ZpbGUubmV3Qnl0ZXN9YCk7XG4gKiBjb25zb2xlLmxvZyhgbmV3VGVuc29yczogJHtwcm9maWxlLm5ld1RlbnNvcnN9YCk7XG4gKiBjb25zb2xlLmxvZyhgYnl0ZSB1c2FnZSBvdmVyIGFsbCBrZXJuZWxzOiAke3Byb2ZpbGUua2VybmVscy5tYXAoayA9PlxuICogay50b3RhbEJ5dGVzU25hcHNob3QpfWApO1xuICogYGBgXG4gKlxuICpcbiAqIEBkb2Mge2hlYWRpbmc6ICdQZXJmb3JtYW5jZScsIHN1YmhlYWRpbmc6ICdQcm9maWxlJ31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHByb2ZpbGUoZjogKCkgPT4gKFRlbnNvckNvbnRhaW5lciB8IFByb21pc2U8VGVuc29yQ29udGFpbmVyPikpOlxuICAgIFByb21pc2U8UHJvZmlsZUluZm8+IHtcbiAgcmV0dXJuIEVOR0lORS5wcm9maWxlKGYpO1xufVxuXG4vKipcbiAqIEV4ZWN1dGVzIHRoZSBwcm92aWRlZCBmdW5jdGlvbiBgZm5gIGFuZCBhZnRlciBpdCBpcyBleGVjdXRlZCwgY2xlYW5zIHVwIGFsbFxuICogaW50ZXJtZWRpYXRlIHRlbnNvcnMgYWxsb2NhdGVkIGJ5IGBmbmAgZXhjZXB0IHRob3NlIHJldHVybmVkIGJ5IGBmbmAuXG4gKiBgZm5gIG11c3Qgbm90IHJldHVybiBhIFByb21pc2UgKGFzeW5jIGZ1bmN0aW9ucyBub3QgYWxsb3dlZCkuIFRoZSByZXR1cm5lZFxuICogcmVzdWx0IGNhbiBiZSBhIGNvbXBsZXggb2JqZWN0LlxuICpcbiAqIFVzaW5nIHRoaXMgbWV0aG9kIGhlbHBzIGF2b2lkIG1lbW9yeSBsZWFrcy4gSW4gZ2VuZXJhbCwgd3JhcCBjYWxscyB0b1xuICogb3BlcmF0aW9ucyBpbiBgdGYudGlkeWAgZm9yIGF1dG9tYXRpYyBtZW1vcnkgY2xlYW51cC5cbiAqXG4gKiBOT1RFOiBWYXJpYWJsZXMgZG8gKm5vdCogZ2V0IGNsZWFuZWQgdXAgd2hlbiBpbnNpZGUgYSB0aWR5KCkuIElmIHlvdSB3YW50IHRvXG4gKiBkaXNwb3NlIHZhcmlhYmxlcywgcGxlYXNlIHVzZSBgdGYuZGlzcG9zZVZhcmlhYmxlc2Agb3IgY2FsbCBkaXNwb3NlKClcbiAqIGRpcmVjdGx5IG9uIHZhcmlhYmxlcy5cbiAqXG4gKiBgYGBqc1xuICogLy8geSA9IDIgXiAyICsgMVxuICogY29uc3QgeSA9IHRmLnRpZHkoKCkgPT4ge1xuICogICAvLyBhLCBiLCBhbmQgb25lIHdpbGwgYmUgY2xlYW5lZCB1cCB3aGVuIHRoZSB0aWR5IGVuZHMuXG4gKiAgIGNvbnN0IG9uZSA9IHRmLnNjYWxhcigxKTtcbiAqICAgY29uc3QgYSA9IHRmLnNjYWxhcigyKTtcbiAqICAgY29uc3QgYiA9IGEuc3F1YXJlKCk7XG4gKlxuICogICBjb25zb2xlLmxvZygnbnVtVGVuc29ycyAoaW4gdGlkeSk6ICcgKyB0Zi5tZW1vcnkoKS5udW1UZW5zb3JzKTtcbiAqXG4gKiAgIC8vIFRoZSB2YWx1ZSByZXR1cm5lZCBpbnNpZGUgdGhlIHRpZHkgZnVuY3Rpb24gd2lsbCByZXR1cm5cbiAqICAgLy8gdGhyb3VnaCB0aGUgdGlkeSwgaW4gdGhpcyBjYXNlIHRvIHRoZSB2YXJpYWJsZSB5LlxuICogICByZXR1cm4gYi5hZGQob25lKTtcbiAqIH0pO1xuICpcbiAqIGNvbnNvbGUubG9nKCdudW1UZW5zb3JzIChvdXRzaWRlIHRpZHkpOiAnICsgdGYubWVtb3J5KCkubnVtVGVuc29ycyk7XG4gKiB5LnByaW50KCk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gbmFtZU9yRm4gVGhlIG5hbWUgb2YgdGhlIGNsb3N1cmUsIG9yIHRoZSBmdW5jdGlvbiB0byBleGVjdXRlLlxuICogICAgIElmIGEgbmFtZSBpcyBwcm92aWRlZCwgdGhlIDJuZCBhcmd1bWVudCBzaG91bGQgYmUgdGhlIGZ1bmN0aW9uLlxuICogICAgIElmIGRlYnVnIG1vZGUgaXMgb24sIHRoZSB0aW1pbmcgYW5kIHRoZSBtZW1vcnkgdXNhZ2Ugb2YgdGhlIGZ1bmN0aW9uXG4gKiAgICAgd2lsbCBiZSB0cmFja2VkIGFuZCBkaXNwbGF5ZWQgb24gdGhlIGNvbnNvbGUgdXNpbmcgdGhlIHByb3ZpZGVkIG5hbWUuXG4gKiBAcGFyYW0gZm4gVGhlIGZ1bmN0aW9uIHRvIGV4ZWN1dGUuXG4gKlxuICogQGRvYyB7aGVhZGluZzogJ1BlcmZvcm1hbmNlJywgc3ViaGVhZGluZzogJ01lbW9yeSd9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0aWR5PFQgZXh0ZW5kcyBUZW5zb3JDb250YWluZXI+KFxuICAgIG5hbWVPckZuOiBzdHJpbmd8U2NvcGVGbjxUPiwgZm4/OiBTY29wZUZuPFQ+KTogVCB7XG4gIHJldHVybiBFTkdJTkUudGlkeShuYW1lT3JGbiwgZm4pO1xufVxuXG4vKipcbiAqIERpc3Bvc2VzIGFueSBgdGYuVGVuc29yYHMgZm91bmQgd2l0aGluIHRoZSBwcm92aWRlZCBvYmplY3QuXG4gKlxuICogQHBhcmFtIGNvbnRhaW5lciBhbiBvYmplY3QgdGhhdCBtYXkgYmUgYSBgdGYuVGVuc29yYCBvciBtYXkgZGlyZWN0bHlcbiAqICAgICBjb250YWluIGB0Zi5UZW5zb3Jgcywgc3VjaCBhcyBhIGBUZW5zb3JbXWAgb3IgYHtrZXk6IFRlbnNvciwgLi4ufWAuIElmXG4gKiAgICAgdGhlIG9iamVjdCBpcyBub3QgYSBgdGYuVGVuc29yYCBvciBkb2VzIG5vdCBjb250YWluIGBUZW5zb3JzYCwgbm90aGluZ1xuICogICAgIGhhcHBlbnMuIEluIGdlbmVyYWwgaXQgaXMgc2FmZSB0byBwYXNzIGFueSBvYmplY3QgaGVyZSwgZXhjZXB0IHRoYXRcbiAqICAgICBgUHJvbWlzZWBzIGFyZSBub3Qgc3VwcG9ydGVkLlxuICpcbiAqIEBkb2Mge2hlYWRpbmc6ICdQZXJmb3JtYW5jZScsIHN1YmhlYWRpbmc6ICdNZW1vcnknfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZGlzcG9zZShjb250YWluZXI6IFRlbnNvckNvbnRhaW5lcikge1xuICBjb25zdCB0ZW5zb3JzID0gZ2V0VGVuc29yc0luQ29udGFpbmVyKGNvbnRhaW5lcik7XG4gIHRlbnNvcnMuZm9yRWFjaCh0ZW5zb3IgPT4gdGVuc29yLmRpc3Bvc2UoKSk7XG59XG5cbi8qKlxuICogS2VlcHMgYSBgdGYuVGVuc29yYCBnZW5lcmF0ZWQgaW5zaWRlIGEgYHRmLnRpZHlgIGZyb20gYmVpbmcgZGlzcG9zZWRcbiAqIGF1dG9tYXRpY2FsbHkuXG4gKlxuICogYGBganNcbiAqIGxldCBiO1xuICogY29uc3QgeSA9IHRmLnRpZHkoKCkgPT4ge1xuICogICBjb25zdCBvbmUgPSB0Zi5zY2FsYXIoMSk7XG4gKiAgIGNvbnN0IGEgPSB0Zi5zY2FsYXIoMik7XG4gKlxuICogICAvLyBiIHdpbGwgbm90IGJlIGNsZWFuZWQgdXAgYnkgdGhlIHRpZHkuIGEgYW5kIG9uZSB3aWxsIGJlIGNsZWFuZWQgdXBcbiAqICAgLy8gd2hlbiB0aGUgdGlkeSBlbmRzLlxuICogICBiID0gdGYua2VlcChhLnNxdWFyZSgpKTtcbiAqXG4gKiAgIGNvbnNvbGUubG9nKCdudW1UZW5zb3JzIChpbiB0aWR5KTogJyArIHRmLm1lbW9yeSgpLm51bVRlbnNvcnMpO1xuICpcbiAqICAgLy8gVGhlIHZhbHVlIHJldHVybmVkIGluc2lkZSB0aGUgdGlkeSBmdW5jdGlvbiB3aWxsIHJldHVyblxuICogICAvLyB0aHJvdWdoIHRoZSB0aWR5LCBpbiB0aGlzIGNhc2UgdG8gdGhlIHZhcmlhYmxlIHkuXG4gKiAgIHJldHVybiBiLmFkZChvbmUpO1xuICogfSk7XG4gKlxuICogY29uc29sZS5sb2coJ251bVRlbnNvcnMgKG91dHNpZGUgdGlkeSk6ICcgKyB0Zi5tZW1vcnkoKS5udW1UZW5zb3JzKTtcbiAqIGNvbnNvbGUubG9nKCd5OicpO1xuICogeS5wcmludCgpO1xuICogY29uc29sZS5sb2coJ2I6Jyk7XG4gKiBiLnByaW50KCk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gcmVzdWx0IFRoZSB0ZW5zb3IgdG8ga2VlcCBmcm9tIGJlaW5nIGRpc3Bvc2VkLlxuICpcbiAqIEBkb2Mge2hlYWRpbmc6ICdQZXJmb3JtYW5jZScsIHN1YmhlYWRpbmc6ICdNZW1vcnknfVxuICovXG5leHBvcnQgZnVuY3Rpb24ga2VlcDxUIGV4dGVuZHMgVGVuc29yPihyZXN1bHQ6IFQpOiBUIHtcbiAgcmV0dXJuIEVOR0lORS5rZWVwKHJlc3VsdCk7XG59XG5cbi8qKlxuICogRXhlY3V0ZXMgYGYoKWAgYW5kIHJldHVybnMgYSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2l0aCB0aW1pbmdcbiAqIGluZm9ybWF0aW9uLlxuICpcbiAqIFRoZSByZXN1bHQgaXMgYW4gb2JqZWN0IHdpdGggdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzOlxuICpcbiAqIC0gYHdhbGxNc2A6IFdhbGwgZXhlY3V0aW9uIHRpbWUuXG4gKiAtIGBrZXJuZWxNc2A6IEtlcm5lbCBleGVjdXRpb24gdGltZSwgaWdub3JpbmcgZGF0YSB0cmFuc2Zlci4gSWYgdXNpbmcgdGhlXG4gKiBXZWJHTCBiYWNrZW5kIGFuZCB0aGUgcXVlcnkgdGltZXIgZXh0ZW5zaW9uIGlzIG5vdCBhdmFpbGFibGUsIHRoaXMgd2lsbFxuICogcmV0dXJuIGFuIGVycm9yIG9iamVjdC5cbiAqIC0gT24gYFdlYkdMYCBUaGUgZm9sbG93aW5nIGFkZGl0aW9uYWwgcHJvcGVydGllcyBleGlzdDpcbiAqICAgLSBgdXBsb2FkV2FpdE1zYDogQ1BVIGJsb2NraW5nIHRpbWUgb24gdGV4dHVyZSB1cGxvYWRzLlxuICogICAtIGBkb3dubG9hZFdhaXRNc2A6IENQVSBibG9ja2luZyB0aW1lIG9uIHRleHR1cmUgZG93bmxvYWRzIChyZWFkUGl4ZWxzKS5cbiAqXG4gKiBgYGBqc1xuICogY29uc3QgeCA9IHRmLnJhbmRvbU5vcm1hbChbMjAsIDIwXSk7XG4gKiBjb25zdCB0aW1lID0gYXdhaXQgdGYudGltZSgoKSA9PiB4Lm1hdE11bCh4KSk7XG4gKlxuICogY29uc29sZS5sb2coYGtlcm5lbE1zOiAke3RpbWUua2VybmVsTXN9LCB3YWxsVGltZU1zOiAke3RpbWUud2FsbE1zfWApO1xuICogYGBgXG4gKlxuICogQHBhcmFtIGYgVGhlIGZ1bmN0aW9uIHRvIGV4ZWN1dGUgYW5kIHRpbWUuXG4gKlxuICogQGRvYyB7aGVhZGluZzogJ1BlcmZvcm1hbmNlJywgc3ViaGVhZGluZzogJ1RpbWluZyd9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0aW1lKGY6ICgpID0+IHZvaWQpOiBQcm9taXNlPFRpbWluZ0luZm8+IHtcbiAgcmV0dXJuIEVOR0lORS50aW1lKGYpO1xufVxuXG4vKipcbiAqIFNldHMgdGhlIGJhY2tlbmQgKGNwdSwgd2ViZ2wsIHdhc20sIGV0YykgcmVzcG9uc2libGUgZm9yIGNyZWF0aW5nIHRlbnNvcnMgYW5kXG4gKiBleGVjdXRpbmcgb3BlcmF0aW9ucyBvbiB0aG9zZSB0ZW5zb3JzLiBSZXR1cm5zIGEgcHJvbWlzZSB0aGF0IHJlc29sdmVzXG4gKiB0byBhIGJvb2xlYW4gaWYgdGhlIGJhY2tlbmQgaW5pdGlhbGl6YXRpb24gd2FzIHN1Y2Nlc3NmdWwuXG4gKlxuICogTm90ZSB0aGlzIGRpc3Bvc2VzIHRoZSBjdXJyZW50IGJhY2tlbmQsIGlmIGFueSwgYXMgd2VsbCBhcyBhbnkgdGVuc29yc1xuICogYXNzb2NpYXRlZCB3aXRoIGl0LiBBIG5ldyBiYWNrZW5kIGlzIGluaXRpYWxpemVkLCBldmVuIGlmIGl0IGlzIG9mIHRoZVxuICogc2FtZSB0eXBlIGFzIHRoZSBwcmV2aW91cyBvbmUuXG4gKlxuICogQHBhcmFtIGJhY2tlbmROYW1lIFRoZSBuYW1lIG9mIHRoZSBiYWNrZW5kLiBDdXJyZW50bHkgc3VwcG9ydHNcbiAqICAgICBgJ3dlYmdsJ3wnY3B1J2AgaW4gdGhlIGJyb3dzZXIsIGAndGVuc29yZmxvdydgIHVuZGVyIG5vZGUuanNcbiAqICAgICAocmVxdWlyZXMgdGZqcy1ub2RlKSwgYW5kIGAnd2FzbSdgIChyZXF1aXJlcyB0ZmpzLWJhY2tlbmQtd2FzbSkuXG4gKlxuICogQGRvYyB7aGVhZGluZzogJ0JhY2tlbmRzJ31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldEJhY2tlbmQoYmFja2VuZE5hbWU6IHN0cmluZyk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICByZXR1cm4gRU5HSU5FLnNldEJhY2tlbmQoYmFja2VuZE5hbWUpO1xufVxuXG4vKipcbiAqIFJldHVybnMgYSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2hlbiB0aGUgY3VycmVudGx5IHNlbGVjdGVkIGJhY2tlbmQgKG9yIHRoZVxuICogaGlnaGVzdCBwcmlvcml0eSBvbmUpIGhhcyBpbml0aWFsaXplZC4gQXdhaXQgdGhpcyBwcm9taXNlIHdoZW4geW91IGFyZSB1c2luZ1xuICogYSBiYWNrZW5kIHRoYXQgaGFzIGFzeW5jIGluaXRpYWxpemF0aW9uLlxuICpcbiAqIEBkb2Mge2hlYWRpbmc6ICdCYWNrZW5kcyd9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZWFkeSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgcmV0dXJuIEVOR0lORS5yZWFkeSgpO1xufVxuXG4vKipcbiAqIFJldHVybnMgdGhlIGN1cnJlbnQgYmFja2VuZCBuYW1lIChjcHUsIHdlYmdsLCBldGMpLiBUaGUgYmFja2VuZCBpc1xuICogcmVzcG9uc2libGUgZm9yIGNyZWF0aW5nIHRlbnNvcnMgYW5kIGV4ZWN1dGluZyBvcGVyYXRpb25zIG9uIHRob3NlIHRlbnNvcnMuXG4gKlxuICogQGRvYyB7aGVhZGluZzogJ0JhY2tlbmRzJ31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEJhY2tlbmQoKTogc3RyaW5nIHtcbiAgcmV0dXJuIEVOR0lORS5iYWNrZW5kTmFtZTtcbn1cblxuLyoqXG4gKiBSZW1vdmVzIGEgYmFja2VuZCBhbmQgdGhlIHJlZ2lzdGVyZWQgZmFjdG9yeS5cbiAqXG4gKiBAZG9jIHtoZWFkaW5nOiAnQmFja2VuZHMnfVxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlQmFja2VuZChuYW1lOiBzdHJpbmcpOiB2b2lkIHtcbiAgRU5HSU5FLnJlbW92ZUJhY2tlbmQobmFtZSk7XG59XG5cbi8qKlxuICogRmluZHMgdGhlIGJhY2tlbmQgcmVnaXN0ZXJlZCB1bmRlciB0aGUgcHJvdmlkZWQgbmFtZS4gUmV0dXJucyBudWxsIGlmIHRoZVxuICogbmFtZSBpcyBub3QgaW4gdGhlIHJlZ2lzdHJ5LCBvciB0aGUgcmVnaXN0cmF0aW9uIGhhc24ndCBmaW5pc2hlZCB5ZXQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmaW5kQmFja2VuZChuYW1lOiBzdHJpbmcpOiBLZXJuZWxCYWNrZW5kIHtcbiAgcmV0dXJuIEVOR0lORS5maW5kQmFja2VuZChuYW1lKTtcbn1cblxuLyoqXG4gKiBGaW5kcyB0aGUgYmFja2VuZCBmYWN0b3J5IHJlZ2lzdGVyZWQgdW5kZXIgdGhlIHByb3ZpZGVkIG5hbWUuIFJldHVybnMgYVxuICogZnVuY3Rpb24gdGhhdCBwcm9kdWNlcyBhIG5ldyBiYWNrZW5kIHdoZW4gY2FsbGVkLiBSZXR1cm5zIG51bGwgaWYgdGhlIG5hbWVcbiAqIGlzIG5vdCBpbiB0aGUgcmVnaXN0cnkuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmaW5kQmFja2VuZEZhY3RvcnkobmFtZTogc3RyaW5nKTogKCkgPT5cbiAgICBLZXJuZWxCYWNrZW5kIHwgUHJvbWlzZTxLZXJuZWxCYWNrZW5kPiB7XG4gIHJldHVybiBFTkdJTkUuZmluZEJhY2tlbmRGYWN0b3J5KG5hbWUpO1xufVxuXG4vKipcbiAqIFJlZ2lzdGVycyBhIGdsb2JhbCBiYWNrZW5kLiBUaGUgcmVnaXN0cmF0aW9uIHNob3VsZCBoYXBwZW4gd2hlbiBpbXBvcnRpbmdcbiAqIGEgbW9kdWxlIGZpbGUgKGUuZy4gd2hlbiBpbXBvcnRpbmcgYGJhY2tlbmRfd2ViZ2wudHNgKSwgYW5kIGlzIHVzZWQgZm9yXG4gKiBtb2R1bGFyIGJ1aWxkcyAoZS5nLiBjdXN0b20gdGZqcyBidW5kbGUgd2l0aCBvbmx5IHdlYmdsIHN1cHBvcnQpLlxuICpcbiAqIEBwYXJhbSBmYWN0b3J5IFRoZSBiYWNrZW5kIGZhY3RvcnkgZnVuY3Rpb24uIFdoZW4gY2FsbGVkLCBpdCBzaG91bGRcbiAqIHJldHVybiBhIGJhY2tlbmQgaW5zdGFuY2UsIG9yIGEgcHJvbWlzZSBvZiBhbiBpbnN0YW5jZS5cbiAqIEBwYXJhbSBwcmlvcml0eSBUaGUgcHJpb3JpdHkgb2YgdGhlIGJhY2tlbmQgKGhpZ2hlciA9IG1vcmUgaW1wb3J0YW50KS5cbiAqICAgICBJbiBjYXNlIG11bHRpcGxlIGJhY2tlbmRzIGFyZSByZWdpc3RlcmVkLCB0aGUgcHJpb3JpdHkgaXMgdXNlZCB0byBmaW5kXG4gKiAgICAgdGhlIGJlc3QgYmFja2VuZC4gRGVmYXVsdHMgdG8gMS5cbiAqIEByZXR1cm4gRmFsc2UgaWYgdGhlcmUgaXMgYWxyZWFkeSBhIHJlZ2lzdGVyZWQgYmFja2VuZCB1bmRlciB0aGlzIG5hbWUsIHRydWVcbiAqICAgICBpZiBub3QuXG4gKlxuICogQGRvYyB7aGVhZGluZzogJ0JhY2tlbmRzJ31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlZ2lzdGVyQmFja2VuZChcbiAgICBuYW1lOiBzdHJpbmcsIGZhY3Rvcnk6ICgpID0+IEtlcm5lbEJhY2tlbmQgfCBQcm9taXNlPEtlcm5lbEJhY2tlbmQ+LFxuICAgIHByaW9yaXR5ID0gMSk6IGJvb2xlYW4ge1xuICByZXR1cm4gRU5HSU5FLnJlZ2lzdGVyQmFja2VuZChuYW1lLCBmYWN0b3J5LCBwcmlvcml0eSk7XG59XG5cbi8qKlxuICogR2V0cyB0aGUgY3VycmVudCBiYWNrZW5kLiBJZiBubyBiYWNrZW5kcyBoYXZlIGJlZW4gaW5pdGlhbGl6ZWQsIHRoaXMgd2lsbFxuICogYXR0ZW1wdCB0byBpbml0aWFsaXplIHRoZSBiZXN0IGJhY2tlbmQuIFdpbGwgdGhyb3cgYW4gZXJyb3IgaWYgdGhlIGhpZ2hlc3RcbiAqIHByaW9yaXR5IGJhY2tlbmQgaGFzIGFzeW5jIGluaXRpYWxpemF0aW9uLCBpbiB3aGljaCBjYXNlLCB5b3Ugc2hvdWxkIGNhbGxcbiAqICdhd2FpdCB0Zi5yZWFkeSgpJyBiZWZvcmUgcnVubmluZyBvdGhlciBjb2RlLlxuICpcbiAqIEBkb2Mge2hlYWRpbmc6ICdCYWNrZW5kcyd9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBiYWNrZW5kKCk6IEtlcm5lbEJhY2tlbmQge1xuICByZXR1cm4gRU5HSU5FLmJhY2tlbmQ7XG59XG5cbi8qKlxuICogU2V0cyB0aGUgZ2xvYmFsIHBsYXRmb3JtLlxuICpcbiAqIEBwYXJhbSBwbGF0Zm9ybU5hbWUgVGhlIG5hbWUgb2YgdGhpcyBwbGF0Zm9ybS5cbiAqIEBwYXJhbSBwbGF0Zm9ybSBBIHBsYXRmb3JtIGltcGxlbWVudGF0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0UGxhdGZvcm0ocGxhdGZvcm1OYW1lOiBzdHJpbmcsIHBsYXRmb3JtOiBQbGF0Zm9ybSkge1xuICBlbnYoKS5zZXRQbGF0Zm9ybShwbGF0Zm9ybU5hbWUsIHBsYXRmb3JtKTtcbn1cbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cbmltcG9ydCB7RU5HSU5FLCBGb3J3YXJkRnVuY30gZnJvbSAnLi4vZW5naW5lJztcbmltcG9ydCB7QWRkLCBBZGRJbnB1dHN9IGZyb20gJy4uL2tlcm5lbF9uYW1lcyc7XG5pbXBvcnQge1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yJztcbmltcG9ydCB7TmFtZWRUZW5zb3JNYXB9IGZyb20gJy4uL3RlbnNvcl90eXBlcyc7XG5pbXBvcnQge21ha2VUeXBlc01hdGNofSBmcm9tICcuLi90ZW5zb3JfdXRpbCc7XG5pbXBvcnQge2NvbnZlcnRUb1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yX3V0aWxfZW52JztcbmltcG9ydCB7VGVuc29yTGlrZX0gZnJvbSAnLi4vdHlwZXMnO1xuXG5pbXBvcnQge29wfSBmcm9tICcuL29wZXJhdGlvbic7XG5cbi8qKlxuICogQWRkcyB0d28gYHRmLlRlbnNvcmBzIGVsZW1lbnQtd2lzZSwgQSArIEIuIFN1cHBvcnRzIGJyb2FkY2FzdGluZy5cbiAqXG4gKlxuICogYGBganNcbiAqIGNvbnN0IGEgPSB0Zi50ZW5zb3IxZChbMSwgMiwgMywgNF0pO1xuICogY29uc3QgYiA9IHRmLnRlbnNvcjFkKFsxMCwgMjAsIDMwLCA0MF0pO1xuICpcbiAqIGEuYWRkKGIpLnByaW50KCk7ICAvLyBvciB0Zi5hZGQoYSwgYilcbiAqIGBgYFxuICpcbiAqIGBgYGpzXG4gKiAvLyBCcm9hZGNhc3QgYWRkIGEgd2l0aCBiLlxuICogY29uc3QgYSA9IHRmLnNjYWxhcig1KTtcbiAqIGNvbnN0IGIgPSB0Zi50ZW5zb3IxZChbMTAsIDIwLCAzMCwgNDBdKTtcbiAqXG4gKiBhLmFkZChiKS5wcmludCgpOyAgLy8gb3IgdGYuYWRkKGEsIGIpXG4gKiBgYGBcbiAqIEBwYXJhbSBhIFRoZSBmaXJzdCBgdGYuVGVuc29yYCB0byBhZGQuXG4gKiBAcGFyYW0gYiBUaGUgc2Vjb25kIGB0Zi5UZW5zb3JgIHRvIGFkZC4gTXVzdCBoYXZlIHRoZSBzYW1lIHR5cGUgYXMgYGFgLlxuICpcbiAqIEBkb2Mge2hlYWRpbmc6ICdPcGVyYXRpb25zJywgc3ViaGVhZGluZzogJ0FyaXRobWV0aWMnfVxuICovXG5mdW5jdGlvbiBhZGRfPFQgZXh0ZW5kcyBUZW5zb3I+KGE6IFRlbnNvcnxUZW5zb3JMaWtlLCBiOiBUZW5zb3J8VGVuc29yTGlrZSk6IFQge1xuICBsZXQgJGEgPSBjb252ZXJ0VG9UZW5zb3IoYSwgJ2EnLCAnYWRkJyk7XG4gIGxldCAkYiA9IGNvbnZlcnRUb1RlbnNvcihiLCAnYicsICdhZGQnKTtcbiAgWyRhLCAkYl0gPSBtYWtlVHlwZXNNYXRjaCgkYSwgJGIpO1xuXG4gIGNvbnN0IGZvcndhcmQ6IEZvcndhcmRGdW5jPFRlbnNvcj4gPSAoYmFja2VuZCwgc2F2ZSkgPT4ge1xuICAgIGNvbnN0IHJlcyA9IGJhY2tlbmQuYWRkKCRhLCAkYik7XG4gICAgc2F2ZShbJGEsICRiXSk7XG4gICAgcmV0dXJuIHJlcztcbiAgfTtcblxuICBjb25zdCBpbnB1dHM6IEFkZElucHV0cyA9IHthOiAkYSwgYjogJGJ9O1xuXG4gIHJldHVybiBFTkdJTkUucnVuS2VybmVsRnVuYyhcbiAgICAgICAgICAgICBmb3J3YXJkLCBpbnB1dHMgYXMge30gYXMgTmFtZWRUZW5zb3JNYXAsIG51bGwgLyogZ3JhZGllbnQgKi8sXG4gICAgICAgICAgICAgQWRkKSBhcyBUO1xufVxuXG5leHBvcnQgY29uc3QgYWRkID0gb3Aoe2FkZF99KTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuaW1wb3J0IHtFTkdJTkUsIEZvcndhcmRGdW5jfSBmcm9tICcuLi9lbmdpbmUnO1xuaW1wb3J0IHtGbG9vckRpdiwgRmxvb3JEaXZJbnB1dHN9IGZyb20gJy4uL2tlcm5lbF9uYW1lcyc7XG5pbXBvcnQge1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yJztcbmltcG9ydCB7TmFtZWRUZW5zb3JNYXB9IGZyb20gJy4uL3RlbnNvcl90eXBlcyc7XG5pbXBvcnQge21ha2VUeXBlc01hdGNofSBmcm9tICcuLi90ZW5zb3JfdXRpbCc7XG5pbXBvcnQge2NvbnZlcnRUb1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yX3V0aWxfZW52JztcbmltcG9ydCB7VGVuc29yTGlrZX0gZnJvbSAnLi4vdHlwZXMnO1xuXG5pbXBvcnQge29wfSBmcm9tICcuL29wZXJhdGlvbic7XG5cbi8qKlxuICogRGl2aWRlcyB0d28gYHRmLlRlbnNvcmBzIGVsZW1lbnQtd2lzZSwgQSAvIEIuIFN1cHBvcnRzIGJyb2FkY2FzdGluZy5cbiAqIFRoZSByZXN1bHQgaXMgcm91bmRlZCB3aXRoIGZsb29yIGZ1bmN0aW9uLlxuICpcbiAqXG4gKiBgYGBqc1xuICogY29uc3QgYSA9IHRmLnRlbnNvcjFkKFsxLCA0LCA5LCAxNl0pO1xuICogY29uc3QgYiA9IHRmLnRlbnNvcjFkKFsxLCAyLCAzLCA0XSk7XG4gKlxuICogYS5mbG9vckRpdihiKS5wcmludCgpOyAgLy8gb3IgdGYuZGl2KGEsIGIpXG4gKiBgYGBcbiAqXG4gKiBgYGBqc1xuICogLy8gQnJvYWRjYXN0IGRpdiBhIHdpdGggYi5cbiAqIGNvbnN0IGEgPSB0Zi50ZW5zb3IxZChbMiwgNCwgNiwgOF0pO1xuICogY29uc3QgYiA9IHRmLnNjYWxhcigyKTtcbiAqXG4gKiBhLmZsb29yRGl2KGIpLnByaW50KCk7ICAvLyBvciB0Zi5mbG9vckRpdihhLCBiKVxuICogYGBgXG4gKlxuICogQHBhcmFtIGEgVGhlIGZpcnN0IHRlbnNvciBhcyB0aGUgbnVtZXJhdG9yLlxuICogQHBhcmFtIGIgVGhlIHNlY29uZCB0ZW5zb3IgYXMgdGhlIGRlbm9taW5hdG9yLiBNdXN0IGhhdmUgdGhlIHNhbWUgZHR5cGUgYXNcbiAqIGBhYC5cbiAqXG4gKiBAZG9jIHtoZWFkaW5nOiAnT3BlcmF0aW9ucycsIHN1YmhlYWRpbmc6ICdBcml0aG1ldGljJ31cbiAqL1xuZnVuY3Rpb24gZmxvb3JEaXZfPFQgZXh0ZW5kcyBUZW5zb3I+KFxuICAgIGE6IFRlbnNvcnxUZW5zb3JMaWtlLCBiOiBUZW5zb3J8VGVuc29yTGlrZSk6IFQge1xuICBsZXQgJGEgPSBjb252ZXJ0VG9UZW5zb3IoYSwgJ2EnLCAnZmxvb3JEaXYnKTtcbiAgbGV0ICRiID0gY29udmVydFRvVGVuc29yKGIsICdiJywgJ2Zsb29yRGl2Jyk7XG4gIFskYSwgJGJdID0gbWFrZVR5cGVzTWF0Y2goJGEsICRiKTtcblxuICBjb25zdCBmb3J3YXJkOiBGb3J3YXJkRnVuYzxUZW5zb3I+ID0gKGJhY2tlbmQsIHNhdmUpID0+IHtcbiAgICBjb25zdCByZXMgPSBiYWNrZW5kLmZsb29yRGl2KCRhLCAkYik7XG4gICAgc2F2ZShbJGEsICRiXSk7XG4gICAgcmV0dXJuIHJlcztcbiAgfTtcbiAgY29uc3QgaW5wdXRzOiBGbG9vckRpdklucHV0cyA9IHthOiAkYSwgYjogJGJ9O1xuXG4gIHJldHVybiBFTkdJTkUucnVuS2VybmVsRnVuYyhcbiAgICAgICAgICAgICBmb3J3YXJkLCBpbnB1dHMgYXMge30gYXMgTmFtZWRUZW5zb3JNYXAsIG51bGwgLyogZ3JhZGllbnQgKi8sXG4gICAgICAgICAgICAgRmxvb3JEaXYpIGFzIFQ7XG59XG5cbmV4cG9ydCBjb25zdCBmbG9vckRpdiA9IG9wKHtmbG9vckRpdl99KTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuaW1wb3J0IHtFTkdJTkUsIEZvcndhcmRGdW5jfSBmcm9tICcuLi9lbmdpbmUnO1xuaW1wb3J0IHtEaXYsIERpdklucHV0c30gZnJvbSAnLi4va2VybmVsX25hbWVzJztcbmltcG9ydCB7VGVuc29yfSBmcm9tICcuLi90ZW5zb3InO1xuaW1wb3J0IHtOYW1lZFRlbnNvck1hcH0gZnJvbSAnLi4vdGVuc29yX3R5cGVzJztcbmltcG9ydCB7bWFrZVR5cGVzTWF0Y2h9IGZyb20gJy4uL3RlbnNvcl91dGlsJztcbmltcG9ydCB7Y29udmVydFRvVGVuc29yfSBmcm9tICcuLi90ZW5zb3JfdXRpbF9lbnYnO1xuaW1wb3J0IHtUZW5zb3JMaWtlfSBmcm9tICcuLi90eXBlcyc7XG5cbmltcG9ydCB7Zmxvb3JEaXZ9IGZyb20gJy4vZmxvb3JEaXYnO1xuaW1wb3J0IHtvcH0gZnJvbSAnLi9vcGVyYXRpb24nO1xuXG4vKipcbiAqIERpdmlkZXMgdHdvIGB0Zi5UZW5zb3JgcyBlbGVtZW50LXdpc2UsIEEgLyBCLiBTdXBwb3J0cyBicm9hZGNhc3RpbmcuXG4gKlxuICogYGBganNcbiAqIGNvbnN0IGEgPSB0Zi50ZW5zb3IxZChbMSwgNCwgOSwgMTZdKTtcbiAqIGNvbnN0IGIgPSB0Zi50ZW5zb3IxZChbMSwgMiwgMywgNF0pO1xuICpcbiAqIGEuZGl2KGIpLnByaW50KCk7ICAvLyBvciB0Zi5kaXYoYSwgYilcbiAqIGBgYFxuICpcbiAqIGBgYGpzXG4gKiAvLyBCcm9hZGNhc3QgZGl2IGEgd2l0aCBiLlxuICogY29uc3QgYSA9IHRmLnRlbnNvcjFkKFsyLCA0LCA2LCA4XSk7XG4gKiBjb25zdCBiID0gdGYuc2NhbGFyKDIpO1xuICpcbiAqIGEuZGl2KGIpLnByaW50KCk7ICAvLyBvciB0Zi5kaXYoYSwgYilcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBhIFRoZSBmaXJzdCB0ZW5zb3IgYXMgdGhlIG51bWVyYXRvci5cbiAqIEBwYXJhbSBiIFRoZSBzZWNvbmQgdGVuc29yIGFzIHRoZSBkZW5vbWluYXRvci4gTXVzdCBoYXZlIHRoZSBzYW1lIGR0eXBlIGFzXG4gKiBgYWAuXG4gKlxuICogQGRvYyB7aGVhZGluZzogJ09wZXJhdGlvbnMnLCBzdWJoZWFkaW5nOiAnQXJpdGhtZXRpYyd9XG4gKi9cbmZ1bmN0aW9uIGRpdl88VCBleHRlbmRzIFRlbnNvcj4oYTogVGVuc29yfFRlbnNvckxpa2UsIGI6IFRlbnNvcnxUZW5zb3JMaWtlKTogVCB7XG4gIGxldCAkYSA9IGNvbnZlcnRUb1RlbnNvcihhLCAnYScsICdkaXYnKTtcbiAgbGV0ICRiID0gY29udmVydFRvVGVuc29yKGIsICdiJywgJ2RpdicpO1xuICBbJGEsICRiXSA9IG1ha2VUeXBlc01hdGNoKCRhLCAkYik7XG5cbiAgaWYgKCRhLmR0eXBlID09PSAnaW50MzInICYmICRiLmR0eXBlID09PSAnaW50MzInKSB7XG4gICAgcmV0dXJuIGZsb29yRGl2KCRhLCAkYik7XG4gIH1cblxuICBjb25zdCBmb3J3YXJkOiBGb3J3YXJkRnVuYzxUZW5zb3I+ID0gKGJhY2tlbmQsIHNhdmUpID0+IHtcbiAgICBjb25zdCByZXMgPSBiYWNrZW5kLnJlYWxEaXZpZGUoJGEsICRiKTtcbiAgICBzYXZlKFskYSwgJGJdKTtcbiAgICByZXR1cm4gcmVzO1xuICB9O1xuXG4gIGNvbnN0IGlucHV0czogRGl2SW5wdXRzID0ge2E6ICRhLCBiOiAkYn07XG4gIGNvbnN0IGF0dHJzID0ge307XG5cbiAgcmV0dXJuIEVOR0lORS5ydW5LZXJuZWxGdW5jKFxuICAgICAgICAgICAgIGZvcndhcmQsIGlucHV0cyBhcyB7fSBhcyBOYW1lZFRlbnNvck1hcCwgbnVsbCAvKiBncmFkaWVudCAqLywgRGl2LFxuICAgICAgICAgICAgIGF0dHJzKSBhcyBUO1xufVxuXG5leHBvcnQgY29uc3QgZGl2ID0gb3Aoe2Rpdl99KTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuaW1wb3J0IHtFTkdJTkUsIEZvcndhcmRGdW5jfSBmcm9tICcuLi9lbmdpbmUnO1xuaW1wb3J0IHtNdWx0aXBseSwgTXVsdGlwbHlJbnB1dHN9IGZyb20gJy4uL2tlcm5lbF9uYW1lcyc7XG5pbXBvcnQge1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yJztcbmltcG9ydCB7TmFtZWRUZW5zb3JNYXB9IGZyb20gJy4uL3RlbnNvcl90eXBlcyc7XG5pbXBvcnQge21ha2VUeXBlc01hdGNofSBmcm9tICcuLi90ZW5zb3JfdXRpbCc7XG5pbXBvcnQge2NvbnZlcnRUb1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yX3V0aWxfZW52JztcbmltcG9ydCB7VGVuc29yTGlrZX0gZnJvbSAnLi4vdHlwZXMnO1xuXG5pbXBvcnQge29wfSBmcm9tICcuL29wZXJhdGlvbic7XG5cbi8qKlxuICogTXVsdGlwbGllcyB0d28gYHRmLlRlbnNvcmBzIGVsZW1lbnQtd2lzZSwgQSAqIEIuIFN1cHBvcnRzIGJyb2FkY2FzdGluZy5cbiAqXG4gKiBXZSBhbHNvIGV4cG9zZSBgdGYubXVsU3RyaWN0YCB3aGljaCBoYXMgdGhlIHNhbWUgc2lnbmF0dXJlIGFzIHRoaXMgb3AgYW5kXG4gKiBhc3NlcnRzIHRoYXQgYGFgIGFuZCBgYmAgYXJlIHRoZSBzYW1lIHNoYXBlIChkb2VzIG5vdCBicm9hZGNhc3QpLlxuICpcbiAqIGBgYGpzXG4gKiBjb25zdCBhID0gdGYudGVuc29yMWQoWzEsIDIsIDMsIDRdKTtcbiAqIGNvbnN0IGIgPSB0Zi50ZW5zb3IxZChbMiwgMywgNCwgNV0pO1xuICpcbiAqIGEubXVsKGIpLnByaW50KCk7ICAvLyBvciB0Zi5tdWwoYSwgYilcbiAqIGBgYFxuICpcbiAqIGBgYGpzXG4gKiAvLyBCcm9hZGNhc3QgbXVsIGEgd2l0aCBiLlxuICogY29uc3QgYSA9IHRmLnRlbnNvcjFkKFsxLCAyLCAzLCA0XSk7XG4gKiBjb25zdCBiID0gdGYuc2NhbGFyKDUpO1xuICpcbiAqIGEubXVsKGIpLnByaW50KCk7ICAvLyBvciB0Zi5tdWwoYSwgYilcbiAqIGBgYFxuICogQHBhcmFtIGEgVGhlIGZpcnN0IHRlbnNvciB0byBtdWx0aXBseS5cbiAqIEBwYXJhbSBiIFRoZSBzZWNvbmQgdGVuc29yIHRvIG11bHRpcGx5LiBNdXN0IGhhdmUgdGhlIHNhbWUgZHR5cGUgYXMgYGFgLlxuICpcbiAqIEBkb2Mge2hlYWRpbmc6ICdPcGVyYXRpb25zJywgc3ViaGVhZGluZzogJ0FyaXRobWV0aWMnfVxuICovXG5mdW5jdGlvbiBtdWxfPFQgZXh0ZW5kcyBUZW5zb3I+KGE6IFRlbnNvcnxUZW5zb3JMaWtlLCBiOiBUZW5zb3J8VGVuc29yTGlrZSk6IFQge1xuICBsZXQgJGEgPSBjb252ZXJ0VG9UZW5zb3IoYSwgJ2EnLCAnbXVsJyk7XG4gIGxldCAkYiA9IGNvbnZlcnRUb1RlbnNvcihiLCAnYicsICdtdWwnKTtcbiAgWyRhLCAkYl0gPSBtYWtlVHlwZXNNYXRjaCgkYSwgJGIpO1xuXG4gIGNvbnN0IGZvcndhcmQ6IEZvcndhcmRGdW5jPFRlbnNvcj4gPSAoYmFja2VuZCwgc2F2ZSkgPT4ge1xuICAgIGNvbnN0IHJlcyA9IGJhY2tlbmQubXVsdGlwbHkoJGEsICRiKTtcbiAgICBzYXZlKFskYSwgJGJdKTtcbiAgICByZXR1cm4gcmVzO1xuICB9O1xuICBjb25zdCBpbnB1dHM6IE11bHRpcGx5SW5wdXRzID0ge2E6ICRhLCBiOiAkYn07XG5cbiAgcmV0dXJuIEVOR0lORS5ydW5LZXJuZWxGdW5jKFxuICAgICAgICAgICAgIGZvcndhcmQsIGlucHV0cyBhcyB7fSBhcyBOYW1lZFRlbnNvck1hcCwgbnVsbCAvKiBncmFkaWVudCAqLyxcbiAgICAgICAgICAgICBNdWx0aXBseSkgYXMgVDtcbn1cbmV4cG9ydCBjb25zdCBtdWwgPSBvcCh7bXVsX30pO1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTggR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG5pbXBvcnQge0VOR0lORX0gZnJvbSAnLi4vZW5naW5lJztcbmltcG9ydCB7QWJzLCBBYnNJbnB1dHN9IGZyb20gJy4uL2tlcm5lbF9uYW1lcyc7XG5pbXBvcnQge1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yJztcbmltcG9ydCB7TmFtZWRUZW5zb3JNYXB9IGZyb20gJy4uL3RlbnNvcl90eXBlcyc7XG5pbXBvcnQge2NvbnZlcnRUb1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yX3V0aWxfZW52JztcbmltcG9ydCB7VGVuc29yTGlrZX0gZnJvbSAnLi4vdHlwZXMnO1xuXG5pbXBvcnQge29wfSBmcm9tICcuL29wZXJhdGlvbic7XG5cbi8qKlxuICogQ29tcHV0ZXMgYWJzb2x1dGUgdmFsdWUgZWxlbWVudC13aXNlOiBgYWJzKHgpYFxuICpcbiAqIGBgYGpzXG4gKiBjb25zdCB4ID0gdGYudGVuc29yMWQoWy0xLCAyLCAtMywgNF0pO1xuICpcbiAqIHguYWJzKCkucHJpbnQoKTsgIC8vIG9yIHRmLmFicyh4KVxuICogYGBgXG4gKiBAcGFyYW0geCBUaGUgaW5wdXQgYHRmLlRlbnNvcmAuXG4gKlxuICogQGRvYyB7aGVhZGluZzogJ09wZXJhdGlvbnMnLCBzdWJoZWFkaW5nOiAnQmFzaWMgbWF0aCd9XG4gKi9cbmZ1bmN0aW9uIGFic188VCBleHRlbmRzIFRlbnNvcj4oeDogVHxUZW5zb3JMaWtlKTogVCB7XG4gIGNvbnN0ICR4ID0gY29udmVydFRvVGVuc29yKHgsICd4JywgJ2FicycpO1xuXG4gIGNvbnN0IGlucHV0czogQWJzSW5wdXRzID0ge3g6ICR4fTtcblxuICByZXR1cm4gRU5HSU5FLnJ1bktlcm5lbEZ1bmMoKGJhY2tlbmQsIHNhdmUpID0+IHtcbiAgICBzYXZlKFskeF0pO1xuICAgIGlmICgkeC5kdHlwZSA9PT0gJ2NvbXBsZXg2NCcpIHtcbiAgICAgIHJldHVybiBiYWNrZW5kLmNvbXBsZXhBYnMoJHgpO1xuICAgIH1cblxuICAgIHJldHVybiBiYWNrZW5kLmFicygkeCk7XG4gIH0sIGlucHV0cyBhcyB7fSBhcyBOYW1lZFRlbnNvck1hcCwgbnVsbCAvKiBncmFkICovLCBBYnMpO1xufVxuXG5leHBvcnQgY29uc3QgYWJzID0gb3Aoe2Fic199KTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE4IEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cbmltcG9ydCB7RU5HSU5FfSBmcm9tICcuLi9lbmdpbmUnO1xuaW1wb3J0IHtBY29zLCBBY29zSW5wdXRzfSBmcm9tICcuLi9rZXJuZWxfbmFtZXMnO1xuaW1wb3J0IHtUZW5zb3J9IGZyb20gJy4uL3RlbnNvcic7XG5pbXBvcnQge05hbWVkVGVuc29yTWFwfSBmcm9tICcuLi90ZW5zb3JfdHlwZXMnO1xuaW1wb3J0IHtjb252ZXJ0VG9UZW5zb3J9IGZyb20gJy4uL3RlbnNvcl91dGlsX2Vudic7XG5pbXBvcnQge1RlbnNvckxpa2V9IGZyb20gJy4uL3R5cGVzJztcblxuaW1wb3J0IHtvcH0gZnJvbSAnLi9vcGVyYXRpb24nO1xuXG4vKipcbiAqIENvbXB1dGVzIGFjb3Mgb2YgdGhlIGlucHV0IGB0Zi5UZW5zb3JgIGVsZW1lbnQtd2lzZTogYGFjb3MoeClgXG4gKlxuICogYGBganNcbiAqIGNvbnN0IHggPSB0Zi50ZW5zb3IxZChbMCwgMSwgLTEsIC43XSk7XG4gKlxuICogeC5hY29zKCkucHJpbnQoKTsgIC8vIG9yIHRmLmFjb3MoeClcbiAqIGBgYFxuICogQHBhcmFtIHggVGhlIGlucHV0IHRlbnNvci5cbiAqIEBkb2Mge2hlYWRpbmc6ICdPcGVyYXRpb25zJywgc3ViaGVhZGluZzogJ0Jhc2ljIG1hdGgnfVxuICovXG5mdW5jdGlvbiBhY29zXzxUIGV4dGVuZHMgVGVuc29yPih4OiBUfFRlbnNvckxpa2UpOiBUIHtcbiAgY29uc3QgJHggPSBjb252ZXJ0VG9UZW5zb3IoeCwgJ3gnLCAnYWNvcycpO1xuICBjb25zdCBpbnB1dHM6IEFjb3NJbnB1dHMgPSB7eDogJHh9O1xuXG4gIHJldHVybiBFTkdJTkUucnVuS2VybmVsRnVuYygoYmFja2VuZCwgc2F2ZSkgPT4ge1xuICAgIGNvbnN0IHJlcyA9IGJhY2tlbmQuYWNvcygkeCk7XG4gICAgc2F2ZShbJHhdKTtcbiAgICByZXR1cm4gcmVzO1xuICB9LCBpbnB1dHMgYXMge30gYXMgTmFtZWRUZW5zb3JNYXAsIG51bGwgLyogZ3JhZCAqLywgQWNvcyk7XG59XG5leHBvcnQgY29uc3QgYWNvcyA9IG9wKHthY29zX30pO1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTggR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG5pbXBvcnQge0VOR0lORX0gZnJvbSAnLi4vZW5naW5lJztcbmltcG9ydCB7QWNvc2gsIEFjb3NoSW5wdXRzfSBmcm9tICcuLi9rZXJuZWxfbmFtZXMnO1xuaW1wb3J0IHtUZW5zb3J9IGZyb20gJy4uL3RlbnNvcic7XG5pbXBvcnQge05hbWVkVGVuc29yTWFwfSBmcm9tICcuLi90ZW5zb3JfdHlwZXMnO1xuaW1wb3J0IHtjb252ZXJ0VG9UZW5zb3J9IGZyb20gJy4uL3RlbnNvcl91dGlsX2Vudic7XG5pbXBvcnQge1RlbnNvckxpa2V9IGZyb20gJy4uL3R5cGVzJztcblxuaW1wb3J0IHtvcH0gZnJvbSAnLi9vcGVyYXRpb24nO1xuXG4vKipcbiAqIENvbXB1dGVzIHRoZSBpbnZlcnNlIGh5cGVyYm9saWMgY29zIG9mIHRoZSBpbnB1dCBgdGYuVGVuc29yYCBlbGVtZW50LXdpc2U6XG4gKiBgYWNvc2goeClgXG4gKlxuICogYGBganNcbiAqIGNvbnN0IHggPSB0Zi50ZW5zb3IxZChbMTAsIDEsIDMsIDUuN10pO1xuICpcbiAqIHguYWNvc2goKS5wcmludCgpOyAgLy8gb3IgdGYuYWNvc2goeClcbiAqIGBgYFxuICogQHBhcmFtIHggVGhlIGlucHV0IHRlbnNvci5cbiAqXG4gKiBAZG9jIHtoZWFkaW5nOiAnT3BlcmF0aW9ucycsIHN1YmhlYWRpbmc6ICdCYXNpYyBtYXRoJ31cbiAqL1xuZnVuY3Rpb24gYWNvc2hfPFQgZXh0ZW5kcyBUZW5zb3I+KHg6IFR8VGVuc29yTGlrZSk6IFQge1xuICBjb25zdCAkeCA9IGNvbnZlcnRUb1RlbnNvcih4LCAneCcsICdhY29zaCcpO1xuICBjb25zdCBpbnB1dHM6IEFjb3NoSW5wdXRzID0ge3g6ICR4fTtcblxuICByZXR1cm4gRU5HSU5FLnJ1bktlcm5lbEZ1bmMoKGJhY2tlbmQsIHNhdmUpID0+IHtcbiAgICBjb25zdCByZXMgPSBiYWNrZW5kLmFjb3NoKCR4KTtcbiAgICBzYXZlKFskeF0pO1xuICAgIHJldHVybiByZXM7XG4gIH0sIGlucHV0cyBhcyB7fSBhcyBOYW1lZFRlbnNvck1hcCwgbnVsbCAvKiBncmFkICovLCBBY29zaCk7XG59XG5leHBvcnQgY29uc3QgYWNvc2ggPSBvcCh7YWNvc2hffSk7XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5pbXBvcnQge0VOR0lORSwgRm9yd2FyZEZ1bmN9IGZyb20gJy4uL2VuZ2luZSc7XG5pbXBvcnQge0FkZE4sIEFkZE5JbnB1dHN9IGZyb20gJy4uL2tlcm5lbF9uYW1lcyc7XG5pbXBvcnQge1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yJztcbmltcG9ydCB7TmFtZWRUZW5zb3JNYXB9IGZyb20gJy4uL3RlbnNvcl90eXBlcyc7XG5pbXBvcnQge2NvbnZlcnRUb1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yX3V0aWxfZW52JztcbmltcG9ydCB7VGVuc29yTGlrZX0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0ICogYXMgdXRpbCBmcm9tICcuLi91dGlsJztcblxuaW1wb3J0IHtvcH0gZnJvbSAnLi9vcGVyYXRpb24nO1xuXG4vKipcbiAqIEFkZHMgYSBsaXN0IG9mIGB0Zi5UZW5zb3JgcyBlbGVtZW50LXdpc2UsIGVhY2ggd2l0aCB0aGUgc2FtZSBzaGFwZSBhbmQgZHR5cGUuXG4gKlxuICogYGBganNcbiAqIGNvbnN0IGEgPSB0Zi50ZW5zb3IxZChbMSwgMl0pO1xuICogY29uc3QgYiA9IHRmLnRlbnNvcjFkKFszLCA0XSk7XG4gKiBjb25zdCBjID0gdGYudGVuc29yMWQoWzUsIDZdKTtcbiAqXG4gKiB0Zi5hZGROKFthLCBiLCBjXSkucHJpbnQoKTtcbiAqIGBgYFxuICogQHBhcmFtIHRlbnNvcnMgQSBsaXN0IG9mIHRlbnNvcnMgd2l0aCB0aGUgc2FtZSBzaGFwZSBhbmQgZHR5cGUuXG4gKiBAZG9jIHtoZWFkaW5nOiAnT3BlcmF0aW9ucycsIHN1YmhlYWRpbmc6ICdBcml0aG1ldGljJ31cbiAqL1xuZnVuY3Rpb24gYWRkTl88VCBleHRlbmRzIFRlbnNvcj4odGVuc29yczogQXJyYXk8VHxUZW5zb3JMaWtlPik6IFQge1xuICB1dGlsLmFzc2VydChcbiAgICAgIEFycmF5LmlzQXJyYXkodGVuc29ycyksXG4gICAgICAoKSA9PiAnVGhlIGFyZ3VtZW50IHBhc3NlZCB0byB0Zi5hZGROKCkgbXVzdCBiZSBhIGxpc3Qgb2YgdGVuc29ycycpO1xuICB1dGlsLmFzc2VydChcbiAgICAgIHRlbnNvcnMubGVuZ3RoID49IDEsXG4gICAgICAoKSA9PiBgTXVzdCBwYXNzIGF0IGxlYXN0IG9uZSB0ZW5zb3IgdG8gdGYuYWRkTigpLCBidXQgZ290IGAgK1xuICAgICAgICAgIGAke3RlbnNvcnMubGVuZ3RofWApO1xuXG4gIGNvbnN0ICR0ZW5zb3JzID1cbiAgICAgIHRlbnNvcnMubWFwKCh0LCBpKSA9PiBjb252ZXJ0VG9UZW5zb3IodCwgYHRlbnNvcnMke2l9YCwgJ2FkZE4nKSk7XG5cbiAgY29uc3QgZmlyc3RUZW5zb3IgPSAkdGVuc29yc1swXTtcbiAgJHRlbnNvcnMuZm9yRWFjaCh0ID0+IHtcbiAgICBpZiAodC5kdHlwZSAhPT0gZmlyc3RUZW5zb3IuZHR5cGUpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAnQWxsIHRlbnNvcnMgcGFzc2VkIHRvIHRmLmFkZE4oKSBtdXN0IGhhdmUgdGhlIHNhbWUgZHR5cGUnKTtcbiAgICB9XG4gIH0pO1xuXG4gICR0ZW5zb3JzLmZvckVhY2godCA9PiB7XG4gICAgaWYgKCF1dGlsLmFycmF5c0VxdWFsKHQuc2hhcGUsIGZpcnN0VGVuc29yLnNoYXBlKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICdBbGwgdGVuc29ycyBwYXNzZWQgdG8gdGYuYWRkTigpIG11c3QgaGF2ZSB0aGUgc2FtZSBzaGFwZScpO1xuICAgIH1cbiAgfSk7XG5cbiAgY29uc3QgZm9yd2FyZDogRm9yd2FyZEZ1bmM8VGVuc29yPiA9IChiYWNrZW5kLCBzYXZlKSA9PiB7XG4gICAgY29uc3QgcmVzID0gYmFja2VuZC5hZGROKCR0ZW5zb3JzKTtcbiAgICBzYXZlKCR0ZW5zb3JzKTtcbiAgICByZXR1cm4gcmVzO1xuICB9O1xuXG4gIGNvbnN0IGlucHV0czogQWRkTklucHV0cyA9ICR0ZW5zb3JzO1xuXG4gIHJldHVybiBFTkdJTkUucnVuS2VybmVsRnVuYyhcbiAgICAgICAgICAgICBmb3J3YXJkLCBpbnB1dHMgYXMge30gYXMgTmFtZWRUZW5zb3JNYXAsIG51bGwgLyogZ3JhZCAqLywgQWRkTikgYXNcbiAgICAgIFQ7XG59XG5cbmV4cG9ydCBjb25zdCBhZGROID0gb3Aoe2FkZE5ffSk7XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbmltcG9ydCAqIGFzIHV0aWwgZnJvbSAnLi4vdXRpbCc7XG5cbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIHRoZSBheGlzIHNwZWNpZmllcyB0aGUgaW5uZXIgbW9zdCBkaW1lbnNpb25zIG9mIHRoZVxuICogYXJyYXkuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBheGVzQXJlSW5uZXJNb3N0RGltcyhheGVzOiBudW1iZXJbXSwgcmFuazogbnVtYmVyKTogYm9vbGVhbiB7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgYXhlcy5sZW5ndGg7ICsraSkge1xuICAgIGlmIChheGVzW2F4ZXMubGVuZ3RoIC0gaSAtIDFdICE9PSByYW5rIC0gMSAtIGkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb21iaW5lTG9jYXRpb25zKFxuICAgIG91dHB1dExvYzogbnVtYmVyW10sIHJlZHVjZUxvYzogbnVtYmVyW10sIGF4ZXM6IG51bWJlcltdKTogbnVtYmVyW10ge1xuICBjb25zdCByYW5rID0gb3V0cHV0TG9jLmxlbmd0aCArIHJlZHVjZUxvYy5sZW5ndGg7XG4gIGNvbnN0IGxvYyA9IFtdO1xuICBsZXQgb3V0SWR4ID0gMDtcbiAgbGV0IHJlZHVjZUlkeCA9IDA7XG4gIMKgIGZvciAobGV0IGRpbSA9IDA7IGRpbSA8IHJhbms7IGRpbSsrKSB7XG4gICAgaWYgKGF4ZXMuaW5kZXhPZihkaW0pID09PSAtMSkge1xuICAgICAgbG9jLnB1c2gob3V0cHV0TG9jW291dElkeCsrXSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxvYy5wdXNoKHJlZHVjZUxvY1tyZWR1Y2VJZHgrK10pO1xuICAgIH1cbiAgfVxuICByZXR1cm4gbG9jO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY29tcHV0ZU91dEFuZFJlZHVjZVNoYXBlcyhcbiAgICBhU2hhcGU6IG51bWJlcltdLCBheGVzOiBudW1iZXJbXSk6IFtudW1iZXJbXSwgbnVtYmVyW11dIHtcbiAgY29uc3Qgb3V0U2hhcGUgPSBbXTtcbiAgY29uc3QgcmFuayA9IGFTaGFwZS5sZW5ndGg7XG4gIGZvciAobGV0IGRpbSA9IDA7IGRpbSA8IHJhbms7IGRpbSsrKSB7XG4gICAgaWYgKGF4ZXMuaW5kZXhPZihkaW0pID09PSAtMSkge1xuICAgICAgb3V0U2hhcGUucHVzaChhU2hhcGVbZGltXSk7XG4gICAgfVxuICB9XG4gIGNvbnN0IHJlZHVjZVNoYXBlID0gYXhlcy5tYXAoZGltID0+IGFTaGFwZVtkaW1dKTtcbiAgcmV0dXJuIFtvdXRTaGFwZSwgcmVkdWNlU2hhcGVdO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZXhwYW5kU2hhcGVUb0tlZXBEaW0oXG4gICAgc2hhcGU6IG51bWJlcltdLCBheGVzOiBudW1iZXJbXSk6IG51bWJlcltdIHtcbiAgY29uc3QgcmVkdWNlU3ViU2hhcGUgPSBheGVzLm1hcCh4ID0+IDEpO1xuICByZXR1cm4gY29tYmluZUxvY2F0aW9ucyhzaGFwZSwgcmVkdWNlU3ViU2hhcGUsIGF4ZXMpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYXNzZXJ0QXhlc0FyZUlubmVyTW9zdERpbXMoXG4gICAgbXNnOiBzdHJpbmcsIGF4ZXM6IG51bWJlcltdLCByYW5rOiBudW1iZXIpOiB2b2lkIHtcbiAgdXRpbC5hc3NlcnQoXG4gICAgICBheGVzQXJlSW5uZXJNb3N0RGltcyhheGVzLCByYW5rKSxcbiAgICAgICgpID0+IGAke21zZ30gc3VwcG9ydHMgb25seSBpbm5lci1tb3N0IGF4ZXMgZm9yIG5vdy4gYCArXG4gICAgICAgICAgYEdvdCBheGVzICR7YXhlc30gYW5kIHJhbmstJHtyYW5rfSBpbnB1dC5gKTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBheGVzIHBlcm11dGF0aW9uIHRvIGJlIHVzZWQgd2l0aCBgdGYudHJhbnNwb3NlYCwgaWYgc3VjaFxuICogcGVybXV0YXRpb24gaXMgbmVjZXNzYXJ5LiBPdGhlcndpc2UgaXQgcmV0dXJucyBudWxsLiBUaGlzIG1ldGhvZCBpcyB1c2VkIGJ5XG4gKiBvcGVyYXRpb25zIHRoYXQgb3BlcmF0ZSBvbmx5IG9uIGlubmVyLW1vc3QgYXhlcy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEF4ZXNQZXJtdXRhdGlvbihheGVzOiBudW1iZXJbXSwgcmFuazogbnVtYmVyKTogbnVtYmVyW118XG4gICAgbnVsbCB7XG4gIGlmIChheGVzQXJlSW5uZXJNb3N0RGltcyhheGVzLCByYW5rKSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGNvbnN0IHJlc3VsdDogbnVtYmVyW10gPSBbXTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCByYW5rOyArK2kpIHtcbiAgICBpZiAoYXhlcy5pbmRleE9mKGkpID09PSAtMSkge1xuICAgICAgcmVzdWx0LnB1c2goaSk7XG4gICAgfVxuICB9XG4gIGF4ZXMuZm9yRWFjaChheGlzID0+IHJlc3VsdC5wdXNoKGF4aXMpKTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqIFJldHVybnMgdGhlIGF4ZXMgcGVybXV0YXRpb24gdGhhdCB1bmRvZXMgdGhlIG9yaWdpbmFsIHBlcm11dGF0aW9uLiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFVuZG9BeGVzUGVybXV0YXRpb24oYXhlczogbnVtYmVyW10pOiBudW1iZXJbXSB7XG4gIHJldHVybiBheGVzLm1hcCgoYXhpcywgaSkgPT4gW2ksIGF4aXNdKVxuICAgICAgLnNvcnQoKGEsIGIpID0+IGFbMV0gLSBiWzFdKVxuICAgICAgLm1hcCh4ID0+IHhbMF0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0SW5uZXJNb3N0QXhlcyhudW1BeGVzOiBudW1iZXIsIHJhbms6IG51bWJlcik6IG51bWJlcltdIHtcbiAgY29uc3QgcmVzOiBudW1iZXJbXSA9IFtdO1xuICBmb3IgKGxldCBpID0gcmFuayAtIG51bUF4ZXM7IGkgPCByYW5rOyArK2kpIHtcbiAgICByZXMucHVzaChpKTtcbiAgfVxuICByZXR1cm4gcmVzO1xufVxuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG5pbXBvcnQge0VOR0lORSwgRm9yd2FyZEZ1bmN9IGZyb20gJy4uL2VuZ2luZSc7XG5pbXBvcnQge0FsbCwgQWxsQXR0cnMsIEFsbElucHV0c30gZnJvbSAnLi4va2VybmVsX25hbWVzJztcbmltcG9ydCB7TmFtZWRBdHRyTWFwfSBmcm9tICcuLi9rZXJuZWxfcmVnaXN0cnknO1xuaW1wb3J0IHtUZW5zb3J9IGZyb20gJy4uL3RlbnNvcic7XG5pbXBvcnQge05hbWVkVGVuc29yTWFwfSBmcm9tICcuLi90ZW5zb3JfdHlwZXMnO1xuaW1wb3J0IHtjb252ZXJ0VG9UZW5zb3J9IGZyb20gJy4uL3RlbnNvcl91dGlsX2Vudic7XG5pbXBvcnQge1RlbnNvckxpa2V9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7cGFyc2VBeGlzUGFyYW19IGZyb20gJy4uL3V0aWwnO1xuXG5pbXBvcnQge2V4cGFuZFNoYXBlVG9LZWVwRGltLCBnZXRBeGVzUGVybXV0YXRpb24sIGdldElubmVyTW9zdEF4ZXN9IGZyb20gJy4vYXhpc191dGlsJztcbmltcG9ydCB7b3B9IGZyb20gJy4vb3BlcmF0aW9uJztcbmltcG9ydCB7cmVzaGFwZX0gZnJvbSAnLi9yZXNoYXBlJztcbmltcG9ydCB7dHJhbnNwb3NlfSBmcm9tICcuL3RyYW5zcG9zZSc7XG5cbi8qKlxuICogQ29tcHV0ZXMgdGhlIGxvZ2ljYWwgYW5kIG9mIGVsZW1lbnRzIGFjcm9zcyBkaW1lbnNpb25zIG9mIGEgYHRmLlRlbnNvcmAuXG4gKlxuICogUmVkdWNlcyB0aGUgaW5wdXQgYWxvbmcgdGhlIGRpbWVuc2lvbnMgZ2l2ZW4gaW4gYGF4ZXNgLiBVbmxlc3MgYGtlZXBEaW1zYFxuICogaXMgdHJ1ZSwgdGhlIHJhbmsgb2YgdGhlIGB0Zi5UZW5zb3JgIGlzIHJlZHVjZWQgYnkgMSBmb3IgZWFjaCBlbnRyeSBpblxuICogYGF4ZXNgLiBJZiBga2VlcERpbXNgIGlzIHRydWUsIHRoZSByZWR1Y2VkIGRpbWVuc2lvbnMgYXJlIHJldGFpbmVkIHdpdGhcbiAqIGxlbmd0aCAxLiBJZiBgYXhlc2AgaGFzIG5vIGVudHJpZXMsIGFsbCBkaW1lbnNpb25zIGFyZSByZWR1Y2VkLCBhbmQgYW5cbiAqIGB0Zi5UZW5zb3JgIHdpdGggYSBzaW5nbGUgZWxlbWVudCBpcyByZXR1cm5lZC5cbiAqXG4gKiBgYGBqc1xuICogY29uc3QgeCA9IHRmLnRlbnNvcjFkKFsxLCAxLCAxXSwgJ2Jvb2wnKTtcbiAqXG4gKiB4LmFsbCgpLnByaW50KCk7ICAvLyBvciB0Zi5hbGwoeClcbiAqIGBgYFxuICpcbiAqIGBgYGpzXG4gKiBjb25zdCB4ID0gdGYudGVuc29yMmQoWzEsIDEsIDAsIDBdLCBbMiwgMl0sICdib29sJyk7XG4gKlxuICogY29uc3QgYXhpcyA9IDE7XG4gKiB4LmFsbChheGlzKS5wcmludCgpOyAgLy8gb3IgdGYuYWxsKHgsIGF4aXMpXG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0geCBUaGUgaW5wdXQgdGVuc29yLiBNdXN0IGJlIG9mIGR0eXBlIGJvb2wuXG4gKiBAcGFyYW0gYXhpcyBUaGUgZGltZW5zaW9uKHMpIHRvIHJlZHVjZS4gQnkgZGVmYXVsdCBpdCByZWR1Y2VzXG4gKiAgICAgYWxsIGRpbWVuc2lvbnMuXG4gKiBAcGFyYW0ga2VlcERpbXMgSWYgdHJ1ZSwgcmV0YWlucyByZWR1Y2VkIGRpbWVuc2lvbnMgd2l0aCBzaXplIDEuXG4gKlxuICogQGRvYyB7aGVhZGluZzogJ09wZXJhdGlvbnMnLCBzdWJoZWFkaW5nOiAnUmVkdWN0aW9uJ31cbiAqL1xuZnVuY3Rpb24gYWxsXzxUIGV4dGVuZHMgVGVuc29yPihcbiAgICB4OiBUZW5zb3J8VGVuc29yTGlrZSwgYXhpczogbnVtYmVyfG51bWJlcltdID0gbnVsbCwga2VlcERpbXMgPSBmYWxzZSk6IFQge1xuICBsZXQgJHggPSBjb252ZXJ0VG9UZW5zb3IoeCwgJ3gnLCAnYWxsJywgJ2Jvb2wnKTtcblxuICBjb25zdCBmb3J3YXJkOiBGb3J3YXJkRnVuYzxUZW5zb3I+ID0gKGJhY2tlbmQpID0+IHtcbiAgICBjb25zdCBvcmlnQXhlcyA9IHBhcnNlQXhpc1BhcmFtKGF4aXMsICR4LnNoYXBlKTtcbiAgICBsZXQgYXhlcyA9IG9yaWdBeGVzO1xuICAgIGNvbnN0IHBlcm11dGVkQXhlcyA9IGdldEF4ZXNQZXJtdXRhdGlvbihheGVzLCAkeC5yYW5rKTtcbiAgICBpZiAocGVybXV0ZWRBeGVzICE9IG51bGwpIHtcbiAgICAgICR4ID0gdHJhbnNwb3NlKCR4LCBwZXJtdXRlZEF4ZXMpO1xuICAgICAgYXhlcyA9IGdldElubmVyTW9zdEF4ZXMoYXhlcy5sZW5ndGgsICR4LnJhbmspO1xuICAgIH1cbiAgICBjb25zdCByZXMgPSBiYWNrZW5kLmFsbCgkeCwgYXhlcyk7XG4gICAgaWYgKGtlZXBEaW1zKSB7XG4gICAgICBjb25zdCBuZXdTaGFwZSA9IGV4cGFuZFNoYXBlVG9LZWVwRGltKHJlcy5zaGFwZSwgb3JpZ0F4ZXMpO1xuICAgICAgcmV0dXJuIHJlc2hhcGUocmVzLCBuZXdTaGFwZSk7XG4gICAgfVxuICAgIHJldHVybiByZXMgYXMgVDtcbiAgfTtcblxuICBjb25zdCBpbnB1dHM6IEFsbElucHV0cyA9IHt4OiAkeH07XG4gIGNvbnN0IGF0dHJzOiBBbGxBdHRycyA9IHtheGlzLCBrZWVwRGltc307XG5cbiAgcmV0dXJuIEVOR0lORS5ydW5LZXJuZWxGdW5jKFxuICAgICAgICAgICAgIGZvcndhcmQsIGlucHV0cyBhcyB7fSBhcyBOYW1lZFRlbnNvck1hcCwgbnVsbCAvKiBncmFkICovLCBBbGwsXG4gICAgICAgICAgICAgYXR0cnMgYXMge30gYXMgTmFtZWRBdHRyTWFwKSBhcyBUO1xufVxuXG5leHBvcnQgY29uc3QgYWxsID0gb3Aoe2FsbF99KTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuaW1wb3J0IHtFTkdJTkUsIEZvcndhcmRGdW5jfSBmcm9tICcuLi9lbmdpbmUnO1xuaW1wb3J0IHtBbnksIEFueUF0dHJzLCBBbnlJbnB1dHN9IGZyb20gJy4uL2tlcm5lbF9uYW1lcyc7XG5pbXBvcnQge05hbWVkQXR0ck1hcH0gZnJvbSAnLi4va2VybmVsX3JlZ2lzdHJ5JztcbmltcG9ydCB7VGVuc29yfSBmcm9tICcuLi90ZW5zb3InO1xuaW1wb3J0IHtOYW1lZFRlbnNvck1hcH0gZnJvbSAnLi4vdGVuc29yX3R5cGVzJztcbmltcG9ydCB7Y29udmVydFRvVGVuc29yfSBmcm9tICcuLi90ZW5zb3JfdXRpbF9lbnYnO1xuaW1wb3J0IHtUZW5zb3JMaWtlfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQge3BhcnNlQXhpc1BhcmFtfSBmcm9tICcuLi91dGlsJztcblxuaW1wb3J0IHtleHBhbmRTaGFwZVRvS2VlcERpbSwgZ2V0QXhlc1Blcm11dGF0aW9uLCBnZXRJbm5lck1vc3RBeGVzfSBmcm9tICcuL2F4aXNfdXRpbCc7XG5pbXBvcnQge29wfSBmcm9tICcuL29wZXJhdGlvbic7XG5pbXBvcnQge3Jlc2hhcGV9IGZyb20gJy4vcmVzaGFwZSc7XG5pbXBvcnQge3RyYW5zcG9zZX0gZnJvbSAnLi90cmFuc3Bvc2UnO1xuXG4vKipcbiAqIENvbXB1dGVzIHRoZSBsb2dpY2FsIG9yIG9mIGVsZW1lbnRzIGFjcm9zcyBkaW1lbnNpb25zIG9mIGEgYHRmLlRlbnNvcmAuXG4gKlxuICogUmVkdWNlcyB0aGUgaW5wdXQgYWxvbmcgdGhlIGRpbWVuc2lvbnMgZ2l2ZW4gaW4gYGF4ZXNgLiBVbmxlc3MgYGtlZXBEaW1zYFxuICogaXMgdHJ1ZSwgdGhlIHJhbmsgb2YgdGhlIGB0Zi5UZW5zb3JgIGlzIHJlZHVjZWQgYnkgMSBmb3IgZWFjaCBlbnRyeSBpblxuICogYGF4ZXNgLiBJZiBga2VlcERpbXNgIGlzIHRydWUsIHRoZSByZWR1Y2VkIGRpbWVuc2lvbnMgYXJlIHJldGFpbmVkIHdpdGhcbiAqIGxlbmd0aCAxLiBJZiBgYXhlc2AgaGFzIG5vIGVudHJpZXMsIGFsbCBkaW1lbnNpb25zIGFyZSByZWR1Y2VkLCBhbmQgYW5cbiAqIGB0Zi5UZW5zb3JgIHdpdGggYSBzaW5nbGUgZWxlbWVudCBpcyByZXR1cm5lZC5cbiAqXG4gKiBgYGBqc1xuICogY29uc3QgeCA9IHRmLnRlbnNvcjFkKFsxLCAxLCAxXSwgJ2Jvb2wnKTtcbiAqXG4gKiB4LmFueSgpLnByaW50KCk7ICAvLyBvciB0Zi5hbnkoeClcbiAqIGBgYFxuICpcbiAqIGBgYGpzXG4gKiBjb25zdCB4ID0gdGYudGVuc29yMmQoWzEsIDEsIDAsIDBdLCBbMiwgMl0sICdib29sJyk7XG4gKlxuICogY29uc3QgYXhpcyA9IDE7XG4gKiB4LmFueShheGlzKS5wcmludCgpOyAgLy8gb3IgdGYuYW55KHgsIGF4aXMpXG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0geCBUaGUgaW5wdXQgdGVuc29yLiBNdXN0IGJlIG9mIGR0eXBlIGJvb2wuXG4gKiBAcGFyYW0gYXhpcyBUaGUgZGltZW5zaW9uKHMpIHRvIHJlZHVjZS4gQnkgZGVmYXVsdCBpdCByZWR1Y2VzXG4gKiAgICAgYWxsIGRpbWVuc2lvbnMuXG4gKiBAcGFyYW0ga2VlcERpbXMgSWYgdHJ1ZSwgcmV0YWlucyByZWR1Y2VkIGRpbWVuc2lvbnMgd2l0aCBzaXplIDEuXG4gKlxuICogQGRvYyB7aGVhZGluZzogJ09wZXJhdGlvbnMnLCBzdWJoZWFkaW5nOiAnUmVkdWN0aW9uJ31cbiAqL1xuZnVuY3Rpb24gYW55XzxUIGV4dGVuZHMgVGVuc29yPihcbiAgICB4OiBUZW5zb3J8VGVuc29yTGlrZSwgYXhpczogbnVtYmVyfG51bWJlcltdID0gbnVsbCwga2VlcERpbXMgPSBmYWxzZSk6IFQge1xuICBsZXQgJHggPSBjb252ZXJ0VG9UZW5zb3IoeCwgJ3gnLCAnYW55JywgJ2Jvb2wnKTtcblxuICBjb25zdCBmb3J3YXJkOiBGb3J3YXJkRnVuYzxUZW5zb3I+ID0gKGJhY2tlbmQpID0+IHtcbiAgICBjb25zdCBvcmlnQXhlcyA9IHBhcnNlQXhpc1BhcmFtKGF4aXMsICR4LnNoYXBlKTtcbiAgICBsZXQgYXhlcyA9IG9yaWdBeGVzO1xuICAgIGNvbnN0IHBlcm11dGVkQXhlcyA9IGdldEF4ZXNQZXJtdXRhdGlvbihheGVzLCAkeC5yYW5rKTtcbiAgICBpZiAocGVybXV0ZWRBeGVzICE9IG51bGwpIHtcbiAgICAgICR4ID0gdHJhbnNwb3NlKCR4LCBwZXJtdXRlZEF4ZXMpO1xuICAgICAgYXhlcyA9IGdldElubmVyTW9zdEF4ZXMoYXhlcy5sZW5ndGgsICR4LnJhbmspO1xuICAgIH1cbiAgICBjb25zdCByZXMgPSBiYWNrZW5kLmFueSgkeCwgYXhlcyk7XG4gICAgaWYgKGtlZXBEaW1zKSB7XG4gICAgICBjb25zdCBuZXdTaGFwZSA9IGV4cGFuZFNoYXBlVG9LZWVwRGltKHJlcy5zaGFwZSwgb3JpZ0F4ZXMpO1xuICAgICAgcmV0dXJuIHJlc2hhcGUocmVzLCBuZXdTaGFwZSk7XG4gICAgfVxuICAgIHJldHVybiByZXMgYXMgVDtcbiAgfTtcblxuICBjb25zdCBpbnB1dHM6IEFueUlucHV0cyA9IHt4OiAkeH07XG4gIGNvbnN0IGF0dHJzOiBBbnlBdHRycyA9IHtheGlzLCBrZWVwRGltc307XG5cbiAgcmV0dXJuIEVOR0lORS5ydW5LZXJuZWxGdW5jKFxuICAgICAgICAgICAgIGZvcndhcmQsIGlucHV0cyBhcyB7fSBhcyBOYW1lZFRlbnNvck1hcCwgbnVsbCAvKiBncmFkICovLCBBbnksXG4gICAgICAgICAgICAgYXR0cnMgYXMge30gYXMgTmFtZWRBdHRyTWFwKSBhcyBUO1xufVxuXG4vLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6dmFyaWFibGUtbmFtZVxuZXhwb3J0IGNvbnN0IGFueSA9IG9wKHthbnlffSk7XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbmltcG9ydCB7RU5HSU5FLCBGb3J3YXJkRnVuY30gZnJvbSAnLi4vZW5naW5lJztcbmltcG9ydCB7QXJnTWF4LCBBcmdNYXhBdHRycywgQXJnTWF4SW5wdXRzfSBmcm9tICcuLi9rZXJuZWxfbmFtZXMnO1xuaW1wb3J0IHtOYW1lZEF0dHJNYXB9IGZyb20gJy4uL2tlcm5lbF9yZWdpc3RyeSc7XG5pbXBvcnQge1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yJztcbmltcG9ydCB7TmFtZWRUZW5zb3JNYXB9IGZyb20gJy4uL3RlbnNvcl90eXBlcyc7XG5pbXBvcnQge2NvbnZlcnRUb1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yX3V0aWxfZW52JztcbmltcG9ydCB7VGVuc29yTGlrZX0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0ICogYXMgdXRpbCBmcm9tICcuLi91dGlsJztcblxuaW1wb3J0ICogYXMgYXhpc191dGlsIGZyb20gJy4vYXhpc191dGlsJztcbmltcG9ydCB7b3B9IGZyb20gJy4vb3BlcmF0aW9uJztcbmltcG9ydCB7dHJhbnNwb3NlfSBmcm9tICcuL3RyYW5zcG9zZSc7XG5cbi8qKlxuICogUmV0dXJucyB0aGUgaW5kaWNlcyBvZiB0aGUgbWF4aW11bSB2YWx1ZXMgYWxvbmcgYW4gYGF4aXNgLlxuICpcbiAqIFRoZSByZXN1bHQgaGFzIHRoZSBzYW1lIHNoYXBlIGFzIGBpbnB1dGAgd2l0aCB0aGUgZGltZW5zaW9uIGFsb25nIGBheGlzYFxuICogcmVtb3ZlZC5cbiAqXG4gKiBgYGBqc1xuICogY29uc3QgeCA9IHRmLnRlbnNvcjFkKFsxLCAyLCAzXSk7XG4gKlxuICogeC5hcmdNYXgoKS5wcmludCgpOyAgLy8gb3IgdGYuYXJnTWF4KHgpXG4gKiBgYGBcbiAqXG4gKiBgYGBqc1xuICogY29uc3QgeCA9IHRmLnRlbnNvcjJkKFsxLCAyLCA0LCAzXSwgWzIsIDJdKTtcbiAqXG4gKiBjb25zdCBheGlzID0gMTtcbiAqIHguYXJnTWF4KGF4aXMpLnByaW50KCk7ICAvLyBvciB0Zi5hcmdNYXgoeCwgYXhpcylcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB4IFRoZSBpbnB1dCB0ZW5zb3IuXG4gKiBAcGFyYW0gYXhpcyBUaGUgZGltZW5zaW9uIHRvIHJlZHVjZS4gRGVmYXVsdHMgdG8gMCAob3V0ZXItbW9zdCBkaW1lbnNpb24pLlxuICpcbiAqIEBkb2Mge2hlYWRpbmc6ICdPcGVyYXRpb25zJywgc3ViaGVhZGluZzogJ1JlZHVjdGlvbid9XG4gKi9cbmZ1bmN0aW9uIGFyZ01heF88VCBleHRlbmRzIFRlbnNvcj4oeDogVGVuc29yfFRlbnNvckxpa2UsIGF4aXMgPSAwKTogVCB7XG4gIGxldCAkeCA9IGNvbnZlcnRUb1RlbnNvcih4LCAneCcsICdhcmdNYXgnKTtcblxuICBjb25zdCBmb3J3YXJkOiBGb3J3YXJkRnVuYzxUZW5zb3I+ID0gKGJhY2tlbmQsIHNhdmUpID0+IHtcbiAgICBzYXZlKFskeF0pO1xuXG4gICAgbGV0IGF4ZXMgPSB1dGlsLnBhcnNlQXhpc1BhcmFtKGF4aXMsICR4LnNoYXBlKTtcbiAgICBjb25zdCBwZXJtdXRlZEF4ZXMgPSBheGlzX3V0aWwuZ2V0QXhlc1Blcm11dGF0aW9uKGF4ZXMsICR4LnJhbmspO1xuICAgIGlmIChwZXJtdXRlZEF4ZXMgIT0gbnVsbCkge1xuICAgICAgJHggPSB0cmFuc3Bvc2UoJHgsIHBlcm11dGVkQXhlcyk7XG4gICAgICBheGVzID0gYXhpc191dGlsLmdldElubmVyTW9zdEF4ZXMoYXhlcy5sZW5ndGgsICR4LnJhbmspO1xuICAgIH1cbiAgICByZXR1cm4gYmFja2VuZC5hcmdNYXgoJHgsIGF4ZXNbMF0pO1xuICB9O1xuXG4gIGNvbnN0IGlucHV0czogQXJnTWF4SW5wdXRzID0ge3g6ICR4fTtcbiAgY29uc3QgYXR0cnM6IEFyZ01heEF0dHJzID0ge2F4aXN9O1xuXG4gIHJldHVybiBFTkdJTkUucnVuS2VybmVsRnVuYyhcbiAgICAgICAgICAgICBmb3J3YXJkLCBpbnB1dHMgYXMge30gYXMgTmFtZWRUZW5zb3JNYXAsIG51bGwgLyogZ3JhZCAqLywgQXJnTWF4LFxuICAgICAgICAgICAgIGF0dHJzIGFzIHt9IGFzIE5hbWVkQXR0ck1hcCkgYXMgVDtcbn1cblxuZXhwb3J0IGNvbnN0IGFyZ01heCA9IG9wKHthcmdNYXhffSk7XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbmltcG9ydCB7RU5HSU5FLCBGb3J3YXJkRnVuY30gZnJvbSAnLi4vZW5naW5lJztcbmltcG9ydCB7QXJnTWluLCBBcmdNaW5BdHRycywgQXJnTWluSW5wdXRzfSBmcm9tICcuLi9rZXJuZWxfbmFtZXMnO1xuaW1wb3J0IHtOYW1lZEF0dHJNYXB9IGZyb20gJy4uL2tlcm5lbF9yZWdpc3RyeSc7XG5pbXBvcnQge1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yJztcbmltcG9ydCB7TmFtZWRUZW5zb3JNYXB9IGZyb20gJy4uL3RlbnNvcl90eXBlcyc7XG5pbXBvcnQge2NvbnZlcnRUb1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yX3V0aWxfZW52JztcbmltcG9ydCB7VGVuc29yTGlrZX0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0ICogYXMgdXRpbCBmcm9tICcuLi91dGlsJztcblxuaW1wb3J0ICogYXMgYXhpc191dGlsIGZyb20gJy4vYXhpc191dGlsJztcbmltcG9ydCB7b3B9IGZyb20gJy4vb3BlcmF0aW9uJztcbmltcG9ydCB7dHJhbnNwb3NlfSBmcm9tICcuL3RyYW5zcG9zZSc7XG5cbi8qKlxuICogUmV0dXJucyB0aGUgaW5kaWNlcyBvZiB0aGUgbWluaW11bSB2YWx1ZXMgYWxvbmcgYW4gYGF4aXNgLlxuICpcbiAqIFRoZSByZXN1bHQgaGFzIHRoZSBzYW1lIHNoYXBlIGFzIGBpbnB1dGAgd2l0aCB0aGUgZGltZW5zaW9uIGFsb25nIGBheGlzYFxuICogcmVtb3ZlZC5cbiAqXG4gKiBgYGBqc1xuICogY29uc3QgeCA9IHRmLnRlbnNvcjFkKFsxLCAyLCAzXSk7XG4gKlxuICogeC5hcmdNaW4oKS5wcmludCgpOyAgLy8gb3IgdGYuYXJnTWluKHgpXG4gKiBgYGBcbiAqXG4gKiBgYGBqc1xuICogY29uc3QgeCA9IHRmLnRlbnNvcjJkKFsxLCAyLCA0LCAzXSwgWzIsIDJdKTtcbiAqXG4gKiBjb25zdCBheGlzID0gMTtcbiAqIHguYXJnTWluKGF4aXMpLnByaW50KCk7ICAvLyBvciB0Zi5hcmdNaW4oeCwgYXhpcylcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB4IFRoZSBpbnB1dCB0ZW5zb3IuXG4gKiBAcGFyYW0gYXhpcyBUaGUgZGltZW5zaW9uIHRvIHJlZHVjZS4gRGVmYXVsdHMgdG8gMCAob3V0ZXItbW9zdCBkaW1lbnNpb24pLlxuICpcbiAqIEBkb2Mge2hlYWRpbmc6ICdPcGVyYXRpb25zJywgc3ViaGVhZGluZzogJ1JlZHVjdGlvbid9XG4gKi9cbmZ1bmN0aW9uIGFyZ01pbl88VCBleHRlbmRzIFRlbnNvcj4oeDogVGVuc29yfFRlbnNvckxpa2UsIGF4aXMgPSAwKTogVCB7XG4gIGxldCAkeCA9IGNvbnZlcnRUb1RlbnNvcih4LCAneCcsICdhcmdNaW4nKTtcblxuICBjb25zdCBmb3J3YXJkOiBGb3J3YXJkRnVuYzxUZW5zb3I+ID0gKGJhY2tlbmQsIHNhdmUpID0+IHtcbiAgICBzYXZlKFskeF0pO1xuXG4gICAgaWYgKGF4aXMgPT0gbnVsbCkge1xuICAgICAgYXhpcyA9IDA7XG4gICAgfVxuICAgIGxldCBheGVzID0gdXRpbC5wYXJzZUF4aXNQYXJhbShheGlzLCAkeC5zaGFwZSk7XG4gICAgY29uc3QgcGVybXV0ZWRBeGVzID0gYXhpc191dGlsLmdldEF4ZXNQZXJtdXRhdGlvbihheGVzLCAkeC5yYW5rKTtcbiAgICBpZiAocGVybXV0ZWRBeGVzICE9IG51bGwpIHtcbiAgICAgICR4ID0gdHJhbnNwb3NlKCR4LCBwZXJtdXRlZEF4ZXMpO1xuICAgICAgYXhlcyA9IGF4aXNfdXRpbC5nZXRJbm5lck1vc3RBeGVzKGF4ZXMubGVuZ3RoLCAkeC5yYW5rKTtcbiAgICB9XG4gICAgcmV0dXJuIGJhY2tlbmQuYXJnTWluKCR4LCBheGVzWzBdKTtcbiAgfTtcblxuICBjb25zdCBpbnB1dHM6IEFyZ01pbklucHV0cyA9IHt4OiAkeH07XG4gIGNvbnN0IGF0dHJzOiBBcmdNaW5BdHRycyA9IHtheGlzfTtcblxuICByZXR1cm4gRU5HSU5FLnJ1bktlcm5lbEZ1bmMoXG4gICAgICAgICAgICAgZm9yd2FyZCwgaW5wdXRzIGFzIHt9IGFzIE5hbWVkVGVuc29yTWFwLCBudWxsIC8qIGdyYWQgKi8sIEFyZ01pbixcbiAgICAgICAgICAgICBhdHRycyBhcyB7fSBhcyBOYW1lZEF0dHJNYXApIGFzIFQ7XG59XG5cbmV4cG9ydCBjb25zdCBhcmdNaW4gPSBvcCh7YXJnTWluX30pO1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTggR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG5pbXBvcnQge0VOR0lORX0gZnJvbSAnLi4vZW5naW5lJztcbmltcG9ydCB7QXNpbiwgQXNpbklucHV0c30gZnJvbSAnLi4va2VybmVsX25hbWVzJztcbmltcG9ydCB7VGVuc29yfSBmcm9tICcuLi90ZW5zb3InO1xuaW1wb3J0IHtOYW1lZFRlbnNvck1hcH0gZnJvbSAnLi4vdGVuc29yX3R5cGVzJztcbmltcG9ydCB7Y29udmVydFRvVGVuc29yfSBmcm9tICcuLi90ZW5zb3JfdXRpbF9lbnYnO1xuaW1wb3J0IHtUZW5zb3JMaWtlfSBmcm9tICcuLi90eXBlcyc7XG5cbmltcG9ydCB7b3B9IGZyb20gJy4vb3BlcmF0aW9uJztcblxuLyoqXG4gKiBDb21wdXRlcyBhc2luIG9mIHRoZSBpbnB1dCBgdGYuVGVuc29yYCBlbGVtZW50LXdpc2U6IGBhc2luKHgpYFxuICpcbiAqIGBgYGpzXG4gKiBjb25zdCB4ID0gdGYudGVuc29yMWQoWzAsIDEsIC0xLCAuN10pO1xuICpcbiAqIHguYXNpbigpLnByaW50KCk7ICAvLyBvciB0Zi5hc2luKHgpXG4gKiBgYGBcbiAqIEBwYXJhbSB4IFRoZSBpbnB1dCB0ZW5zb3IuXG4gKiBAZG9jIHtoZWFkaW5nOiAnT3BlcmF0aW9ucycsIHN1YmhlYWRpbmc6ICdCYXNpYyBtYXRoJ31cbiAqL1xuZnVuY3Rpb24gYXNpbl88VCBleHRlbmRzIFRlbnNvcj4oeDogVHxUZW5zb3JMaWtlKTogVCB7XG4gIGNvbnN0ICR4ID0gY29udmVydFRvVGVuc29yKHgsICd4JywgJ2FzaW4nKTtcbiAgY29uc3QgaW5wdXRzOiBBc2luSW5wdXRzID0ge3g6ICR4fTtcblxuICByZXR1cm4gRU5HSU5FLnJ1bktlcm5lbEZ1bmMoKGJhY2tlbmQsIHNhdmUpID0+IHtcbiAgICBjb25zdCByZXMgPSBiYWNrZW5kLmFzaW4oJHgpO1xuICAgIHNhdmUoWyR4XSk7XG4gICAgcmV0dXJuIHJlcztcbiAgfSwgaW5wdXRzIGFzIHt9IGFzIE5hbWVkVGVuc29yTWFwLCBudWxsIC8qIGdyYWQgKi8sIEFzaW4pO1xufVxuZXhwb3J0IGNvbnN0IGFzaW4gPSBvcCh7YXNpbl99KTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE4IEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuaW1wb3J0IHtFTkdJTkV9IGZyb20gJy4uL2VuZ2luZSc7XG5pbXBvcnQge0FzaW5oLCBBc2luaElucHV0c30gZnJvbSAnLi4va2VybmVsX25hbWVzJztcbmltcG9ydCB7VGVuc29yfSBmcm9tICcuLi90ZW5zb3InO1xuaW1wb3J0IHtOYW1lZFRlbnNvck1hcH0gZnJvbSAnLi4vdGVuc29yX3R5cGVzJztcbmltcG9ydCB7Y29udmVydFRvVGVuc29yfSBmcm9tICcuLi90ZW5zb3JfdXRpbF9lbnYnO1xuaW1wb3J0IHtUZW5zb3JMaWtlfSBmcm9tICcuLi90eXBlcyc7XG5cbmltcG9ydCB7b3B9IGZyb20gJy4vb3BlcmF0aW9uJztcblxuLyoqXG4gKiBDb21wdXRlcyBpbnZlcnNlIGh5cGVyYm9saWMgc2luIG9mIHRoZSBpbnB1dCBgdGYuVGVuc29yYCBlbGVtZW50LXdpc2U6XG4gKiBgYXNpbmgoeClgXG4gKlxuICogYGBganNcbiAqIGNvbnN0IHggPSB0Zi50ZW5zb3IxZChbMCwgMSwgLTEsIC43XSk7XG4gKlxuICogeC5hc2luaCgpLnByaW50KCk7ICAvLyBvciB0Zi5hc2luaCh4KVxuICogYGBgXG4gKiBAcGFyYW0geCBUaGUgaW5wdXQgdGVuc29yLlxuICpcbiAqIEBkb2Mge2hlYWRpbmc6ICdPcGVyYXRpb25zJywgc3ViaGVhZGluZzogJ0Jhc2ljIG1hdGgnfVxuICovXG5mdW5jdGlvbiBhc2luaF88VCBleHRlbmRzIFRlbnNvcj4oeDogVHxUZW5zb3JMaWtlKTogVCB7XG4gIGNvbnN0ICR4ID0gY29udmVydFRvVGVuc29yKHgsICd4JywgJ2FzaW5oJyk7XG5cbiAgY29uc3QgaW5wdXRzOiBBc2luaElucHV0cyA9IHt4OiAkeH07XG5cbiAgcmV0dXJuIEVOR0lORS5ydW5LZXJuZWxGdW5jKChiYWNrZW5kLCBzYXZlKSA9PiB7XG4gICAgY29uc3QgcmVzID0gYmFja2VuZC5hc2luaCgkeCk7XG4gICAgc2F2ZShbJHhdKTtcbiAgICByZXR1cm4gcmVzO1xuICB9LCBpbnB1dHMgYXMge30gYXMgTmFtZWRUZW5zb3JNYXAsIG51bGwgLyogZ3JhZCAqLywgQXNpbmgpO1xufVxuZXhwb3J0IGNvbnN0IGFzaW5oID0gb3Aoe2FzaW5oX30pO1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTggR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG5pbXBvcnQge0VOR0lORX0gZnJvbSAnLi4vZW5naW5lJztcbmltcG9ydCB7QXRhbiwgQXRhbklucHV0c30gZnJvbSAnLi4va2VybmVsX25hbWVzJztcbmltcG9ydCB7VGVuc29yfSBmcm9tICcuLi90ZW5zb3InO1xuaW1wb3J0IHtOYW1lZFRlbnNvck1hcH0gZnJvbSAnLi4vdGVuc29yX3R5cGVzJztcbmltcG9ydCB7Y29udmVydFRvVGVuc29yfSBmcm9tICcuLi90ZW5zb3JfdXRpbF9lbnYnO1xuaW1wb3J0IHtUZW5zb3JMaWtlfSBmcm9tICcuLi90eXBlcyc7XG5cbmltcG9ydCB7b3B9IGZyb20gJy4vb3BlcmF0aW9uJztcblxuLyoqXG4gKiBDb21wdXRlcyBhdGFuIG9mIHRoZSBpbnB1dCBgdGYuVGVuc29yYCBlbGVtZW50LXdpc2U6IGBhdGFuKHgpYFxuICpcbiAqIGBgYGpzXG4gKiBjb25zdCB4ID0gdGYudGVuc29yMWQoWzAsIDEsIC0xLCAuN10pO1xuICpcbiAqIHguYXRhbigpLnByaW50KCk7ICAvLyBvciB0Zi5hdGFuKHgpXG4gKiBgYGBcbiAqIEBwYXJhbSB4IFRoZSBpbnB1dCB0ZW5zb3IuXG4gKlxuICogQGRvYyB7aGVhZGluZzogJ09wZXJhdGlvbnMnLCBzdWJoZWFkaW5nOiAnQmFzaWMgbWF0aCd9XG4gKi9cbmZ1bmN0aW9uIGF0YW5fPFQgZXh0ZW5kcyBUZW5zb3I+KHg6IFR8VGVuc29yTGlrZSk6IFQge1xuICBjb25zdCAkeCA9IGNvbnZlcnRUb1RlbnNvcih4LCAneCcsICdhdGFuJyk7XG5cbiAgY29uc3QgaW5wdXRzOiBBdGFuSW5wdXRzID0ge3g6ICR4fTtcblxuICByZXR1cm4gRU5HSU5FLnJ1bktlcm5lbEZ1bmMoKGJhY2tlbmQsIHNhdmUpID0+IHtcbiAgICBjb25zdCByZXMgPSBiYWNrZW5kLmF0YW4oJHgpO1xuICAgIHNhdmUoWyR4XSk7XG4gICAgcmV0dXJuIHJlcztcbiAgfSwgaW5wdXRzIGFzIHt9IGFzIE5hbWVkVGVuc29yTWFwLCBudWxsIC8qIGdyYWQgKi8sIEF0YW4pO1xufVxuZXhwb3J0IGNvbnN0IGF0YW4gPSBvcCh7YXRhbl99KTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuaW1wb3J0IHtFTkdJTkUsIEZvcndhcmRGdW5jfSBmcm9tICcuLi9lbmdpbmUnO1xuaW1wb3J0IHtBdGFuMiwgQXRhbjJJbnB1dHN9IGZyb20gJy4uL2tlcm5lbF9uYW1lcyc7XG5pbXBvcnQge1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yJztcbmltcG9ydCB7TmFtZWRUZW5zb3JNYXB9IGZyb20gJy4uL3RlbnNvcl90eXBlcyc7XG5pbXBvcnQge21ha2VUeXBlc01hdGNofSBmcm9tICcuLi90ZW5zb3JfdXRpbCc7XG5pbXBvcnQge2NvbnZlcnRUb1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yX3V0aWxfZW52JztcbmltcG9ydCB7VGVuc29yTGlrZX0gZnJvbSAnLi4vdHlwZXMnO1xuXG5pbXBvcnQge29wfSBmcm9tICcuL29wZXJhdGlvbic7XG5cbi8qKlxuICogQ29tcHV0ZXMgYXJjdGFuZ2VudCBvZiBgdGYuVGVuc29yYHMgYSAvIGIgZWxlbWVudC13aXNlOiBgYXRhbjIoYSwgYilgLlxuICogU3VwcG9ydHMgYnJvYWRjYXN0aW5nLlxuICpcbiAqIGBgYGpzXG4gKiBjb25zdCBhID0gdGYudGVuc29yMWQoWzEuMCwgMS4wLCAtMS4wLCAuN10pO1xuICogY29uc3QgYiA9IHRmLnRlbnNvcjFkKFsyLjAsIDEzLjAsIDMuNSwgLjIxXSk7XG4gKlxuICogdGYuYXRhbjIoYSwgYikucHJpbnQoKVxuICogYGBgXG4gKlxuICogQHBhcmFtIGEgVGhlIGZpcnN0IHRlbnNvci5cbiAqIEBwYXJhbSBiIFRoZSBzZWNvbmQgdGVuc29yLiBNdXN0IGhhdmUgdGhlIHNhbWUgZHR5cGUgYXMgYGFgLlxuICpcbiAqIEBkb2Mge2hlYWRpbmc6ICdPcGVyYXRpb25zJywgc3ViaGVhZGluZzogJ0Jhc2ljIG1hdGgnfVxuICovXG5mdW5jdGlvbiBhdGFuMl88VCBleHRlbmRzIFRlbnNvcj4oXG4gICAgYTogVGVuc29yfFRlbnNvckxpa2UsIGI6IFRlbnNvcnxUZW5zb3JMaWtlKTogVCB7XG4gIGxldCAkYSA9IGNvbnZlcnRUb1RlbnNvcihhLCAnYScsICdhdGFuMicpO1xuICBsZXQgJGIgPSBjb252ZXJ0VG9UZW5zb3IoYiwgJ2InLCAnYXRhbjInKTtcbiAgWyRhLCAkYl0gPSBtYWtlVHlwZXNNYXRjaCgkYSwgJGIpO1xuXG4gIGNvbnN0IGZvcndhcmQ6IEZvcndhcmRGdW5jPFRlbnNvcj4gPSAoYmFja2VuZCwgc2F2ZSkgPT4ge1xuICAgIGNvbnN0IHJlcyA9IGJhY2tlbmQuYXRhbjIoJGEsICRiKTtcbiAgICBzYXZlKFskYSwgJGJdKTtcbiAgICByZXR1cm4gcmVzO1xuICB9O1xuICBjb25zdCBpbnB1dHM6IEF0YW4ySW5wdXRzID0ge2E6ICRhLCBiOiAkYn07XG5cbiAgcmV0dXJuIEVOR0lORS5ydW5LZXJuZWxGdW5jKFxuICAgICAgICAgICAgIGZvcndhcmQsIGlucHV0cyBhcyB7fSBhcyBOYW1lZFRlbnNvck1hcCwgbnVsbCAvKiBncmFkaWVudCAqLyxcbiAgICAgICAgICAgICBBdGFuMikgYXMgVDtcbn1cblxuZXhwb3J0IGNvbnN0IGF0YW4yID0gb3Aoe2F0YW4yX30pO1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTggR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG5pbXBvcnQge0VOR0lORX0gZnJvbSAnLi4vZW5naW5lJztcbmltcG9ydCB7QXRhbmgsIEF0YW5oSW5wdXRzfSBmcm9tICcuLi9rZXJuZWxfbmFtZXMnO1xuaW1wb3J0IHtUZW5zb3J9IGZyb20gJy4uL3RlbnNvcic7XG5pbXBvcnQge05hbWVkVGVuc29yTWFwfSBmcm9tICcuLi90ZW5zb3JfdHlwZXMnO1xuaW1wb3J0IHtjb252ZXJ0VG9UZW5zb3J9IGZyb20gJy4uL3RlbnNvcl91dGlsX2Vudic7XG5pbXBvcnQge1RlbnNvckxpa2V9IGZyb20gJy4uL3R5cGVzJztcblxuaW1wb3J0IHtvcH0gZnJvbSAnLi9vcGVyYXRpb24nO1xuXG4vKipcbiAqIENvbXB1dGVzIGludmVyc2UgaHlwZXJib2xpYyB0YW4gb2YgdGhlIGlucHV0IGB0Zi5UZW5zb3JgIGVsZW1lbnQtd2lzZTpcbiAqIGBhdGFuaCh4KWBcbiAqXG4gKiBgYGBqc1xuICogY29uc3QgeCA9IHRmLnRlbnNvcjFkKFswLCAuMSwgLS4xLCAuN10pO1xuICpcbiAqIHguYXRhbmgoKS5wcmludCgpOyAgLy8gb3IgdGYuYXRhbmgoeClcbiAqIGBgYFxuICogQHBhcmFtIHggVGhlIGlucHV0IHRlbnNvci5cbiAqXG4gKiBAZG9jIHtoZWFkaW5nOiAnT3BlcmF0aW9ucycsIHN1YmhlYWRpbmc6ICdCYXNpYyBtYXRoJ31cbiAqL1xuZnVuY3Rpb24gYXRhbmhfPFQgZXh0ZW5kcyBUZW5zb3I+KHg6IFR8VGVuc29yTGlrZSk6IFQge1xuICBjb25zdCAkeCA9IGNvbnZlcnRUb1RlbnNvcih4LCAneCcsICdhdGFuaCcpO1xuXG4gIGNvbnN0IGlucHV0czogQXRhbmhJbnB1dHMgPSB7eDogJHh9O1xuXG4gIHJldHVybiBFTkdJTkUucnVuS2VybmVsRnVuYygoYmFja2VuZCwgc2F2ZSkgPT4ge1xuICAgIGNvbnN0IHJlcyA9IGJhY2tlbmQuYXRhbmgoJHgpO1xuICAgIHNhdmUoWyR4XSk7XG4gICAgcmV0dXJuIHJlcztcbiAgfSwgaW5wdXRzIGFzIHt9IGFzIE5hbWVkVGVuc29yTWFwLCBudWxsIC8qIGdyYWQgKi8sIEF0YW5oKTtcbn1cbmV4cG9ydCBjb25zdCBhdGFuaCA9IG9wKHthdGFuaF99KTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuaW1wb3J0ICogYXMgdXRpbCBmcm9tICcuLi91dGlsJztcblxudHlwZSBQYWRUeXBlID0gJ1NBTUUnfCdWQUxJRCd8J05VTUJFUid8J0VYUExJQ0lUJztcblxuLy8gRm9yIE5IV0Mgc2hvdWxkIGJlIGluIHRoZSBmb2xsb3dpbmcgZm9ybTpcbi8vICBbWzAsIDBdLCBbcGFkX3RvcCxwYWRfYm90dG9tXSwgW3BhZF9sZWZ0LCBwYWRfcmlnaHRdLCBbMCwgMF1dXG4vLyBGb3IgTkNIVyBzaG91bGQgYmUgaW4gdGhlIGZvbGxvd2luZyBmb3JtOlxuLy8gIFtbMCwgMF0sIFswLCAwXSwgW3BhZF90b3AscGFkX2JvdHRvbV0sIFtwYWRfbGVmdCwgcGFkX3JpZ2h0XV1cbi8vIFJlZmVyZW5jZTogaHR0cHM6Ly93d3cudGVuc29yZmxvdy5vcmcvYXBpX2RvY3MvcHl0aG9uL3RmL25uL2NvbnYyZFxuZXhwb3J0IHR5cGUgRXhwbGljaXRQYWRkaW5nID1cbiAgICBbW251bWJlciwgbnVtYmVyXSwgW251bWJlciwgbnVtYmVyXSwgW251bWJlciwgbnVtYmVyXSwgW251bWJlciwgbnVtYmVyXV07XG5cbmV4cG9ydCB0eXBlIFBhZEluZm8gPSB7XG4gIHRvcDogbnVtYmVyLFxuICBsZWZ0OiBudW1iZXIsXG4gIHJpZ2h0OiBudW1iZXIsXG4gIGJvdHRvbTogbnVtYmVyLFxuICB0eXBlOiBQYWRUeXBlXG59O1xuXG5leHBvcnQgdHlwZSBQYWRJbmZvM0QgPSB7XG4gIHRvcDogbnVtYmVyLFxuICBsZWZ0OiBudW1iZXIsXG4gIHJpZ2h0OiBudW1iZXIsXG4gIGJvdHRvbTogbnVtYmVyLFxuICBmcm9udDogbnVtYmVyLFxuICBiYWNrOiBudW1iZXIsXG4gIHR5cGU6IFBhZFR5cGVcbn07XG5cbi8qKlxuICogSW5mb3JtYXRpb24gYWJvdXQgdGhlIGZvcndhcmQgcGFzcyBvZiBhIGNvbnZvbHV0aW9uL3Bvb2xpbmcgb3BlcmF0aW9uLlxuICogSXQgaW5jbHVkZXMgaW5wdXQgYW5kIG91dHB1dCBzaGFwZSwgc3RyaWRlcywgZmlsdGVyIHNpemUgYW5kIHBhZGRpbmdcbiAqIGluZm9ybWF0aW9uLlxuICovXG5leHBvcnQgdHlwZSBDb252MkRJbmZvID0ge1xuICBiYXRjaFNpemU6IG51bWJlcixcbiAgaW5IZWlnaHQ6IG51bWJlcixcbiAgaW5XaWR0aDogbnVtYmVyLFxuICBpbkNoYW5uZWxzOiBudW1iZXIsXG4gIG91dEhlaWdodDogbnVtYmVyLFxuICBvdXRXaWR0aDogbnVtYmVyLFxuICBvdXRDaGFubmVsczogbnVtYmVyLFxuICBkYXRhRm9ybWF0OiAnY2hhbm5lbHNGaXJzdCd8J2NoYW5uZWxzTGFzdCcsXG4gIHN0cmlkZUhlaWdodDogbnVtYmVyLFxuICBzdHJpZGVXaWR0aDogbnVtYmVyLFxuICBkaWxhdGlvbkhlaWdodDogbnVtYmVyLFxuICBkaWxhdGlvbldpZHRoOiBudW1iZXIsXG4gIGZpbHRlckhlaWdodDogbnVtYmVyLFxuICBmaWx0ZXJXaWR0aDogbnVtYmVyLFxuICBlZmZlY3RpdmVGaWx0ZXJIZWlnaHQ6IG51bWJlcixcbiAgZWZmZWN0aXZlRmlsdGVyV2lkdGg6IG51bWJlcixcbiAgcGFkSW5mbzogUGFkSW5mbyxcbiAgaW5TaGFwZTogW251bWJlciwgbnVtYmVyLCBudW1iZXIsIG51bWJlcl0sXG4gIG91dFNoYXBlOiBbbnVtYmVyLCBudW1iZXIsIG51bWJlciwgbnVtYmVyXSxcbiAgZmlsdGVyU2hhcGU6IFtudW1iZXIsIG51bWJlciwgbnVtYmVyLCBudW1iZXJdXG59O1xuXG4vKipcbiAqXG4gKiBAcGFyYW0gaW5wdXRTaGFwZSBJbnB1dCB0ZW5zb3Igc2hhcGUgaXMgb2YgdGhlIGZvbGxvd2luZyBkaW1lbnNpb25zOlxuICogICAgIGBbYmF0Y2gsIGhlaWdodCwgd2lkdGgsIGluQ2hhbm5lbHNdYC5cbiAqIEBwYXJhbSBmaWx0ZXJTaGFwZSBUaGUgZmlsdGVyIHNoYXBlIGlzIG9mIHRoZSBmb2xsb3dpbmcgZGltZW5zaW9uczpcbiAqICAgICBgW2ZpbHRlckhlaWdodCwgZmlsdGVyV2lkdGgsIGRlcHRoXWAuXG4gKiBAcGFyYW0gc3RyaWRlcyBUaGUgc3RyaWRlcyBvZiB0aGUgc2xpZGluZyB3aW5kb3cgZm9yIGVhY2ggZGltZW5zaW9uIG9mIHRoZVxuICogICAgIGlucHV0IHRlbnNvcjogYFtzdHJpZGVIZWlnaHQsIHN0cmlkZVdpZHRoXWAuXG4gKiAgICAgSWYgYHN0cmlkZXNgIGlzIGEgc2luZ2xlIG51bWJlcixcbiAqICAgICB0aGVuIGBzdHJpZGVIZWlnaHQgPT0gc3RyaWRlV2lkdGhgLlxuICogQHBhcmFtIHBhZCBUaGUgdHlwZSBvZiBwYWRkaW5nIGFsZ29yaXRobS5cbiAqICAgIC0gYHNhbWVgIGFuZCBzdHJpZGUgMTogb3V0cHV0IHdpbGwgYmUgb2Ygc2FtZSBzaXplIGFzIGlucHV0LFxuICogICAgICAgcmVnYXJkbGVzcyBvZiBmaWx0ZXIgc2l6ZS5cbiAqICAgIC0gYHZhbGlkYDogb3V0cHV0IHdpbGwgYmUgc21hbGxlciB0aGFuIGlucHV0IGlmIGZpbHRlciBpcyBsYXJnZXJcbiAqICAgICAgIHRoYW4gMSoxeDEuXG4gKiAgICAtIEZvciBtb3JlIGluZm8sIHNlZSB0aGlzIGd1aWRlOlxuICogICAgIFtodHRwczovL3d3dy50ZW5zb3JmbG93Lm9yZy9hcGlfZ3VpZGVzL3B5dGhvbi9ubiNDb252b2x1dGlvbl0oXG4gKiAgICAgICAgICBodHRwczovL3d3dy50ZW5zb3JmbG93Lm9yZy9hcGlfZ3VpZGVzL3B5dGhvbi9ubiNDb252b2x1dGlvbilcbiAqIEBwYXJhbSBkYXRhRm9ybWF0IFRoZSBkYXRhIGZvcm1hdCBvZiB0aGUgaW5wdXQgYW5kIG91dHB1dCBkYXRhLlxuICogICAgIERlZmF1bHRzIHRvICdOSFdDJy5cbiAqIEBwYXJhbSBkaWxhdGlvbnMgVGhlIGRpbGF0aW9uIHJhdGVzOiBgW2RpbGF0aW9uSGVpZ2h0LCBkaWxhdGlvbldpZHRoXWAuXG4gKiAgICAgRGVmYXVsdHMgdG8gYFsxLCAxXWAuIElmIGBkaWxhdGlvbnNgIGlzIGEgc2luZ2xlIG51bWJlciwgdGhlblxuICogICAgIGBkaWxhdGlvbkhlaWdodCA9PSBkaWxhdGlvbldpZHRoYC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbXB1dGVEaWxhdGlvbjJESW5mbyhcbiAgICBpbnB1dFNoYXBlOiBbbnVtYmVyLCBudW1iZXIsIG51bWJlciwgbnVtYmVyXSxcbiAgICBmaWx0ZXJTaGFwZTogW251bWJlciwgbnVtYmVyLCBudW1iZXJdLCBzdHJpZGVzOiBudW1iZXJ8W251bWJlciwgbnVtYmVyXSxcbiAgICBwYWQ6ICdzYW1lJ3wndmFsaWQnfG51bWJlciwgZGF0YUZvcm1hdDogJ05IV0MnID0gJ05IV0MnLFxuICAgIGRpbGF0aW9uczogbnVtYmVyfFtudW1iZXIsIG51bWJlcl0pIHtcbiAgLy8gYGNvbXB1dGVyQ29udjJESW5mb2AgcmVxdWlyZSBmaWx0ZXJTaGFwZSB0byBiZSBpbiB0aGUgZGltZW5zaW9uIG9mOlxuICAvLyBgW2ZpbHRlckhlaWdodCwgZmlsdGVyV2lkdGgsIGRlcHRoLCBvdXREZXB0aF1gLCBkaWxhdGlvbjJkIGRvZXNuJ3QgaGF2ZVxuICAvLyBvdXREZXB0aCwgaXQgc2hvdWxkIGhhdmUgdGhlIHNhbWUgZGVwdGggYXMgdGhlIGlucHV0LlxuICAvLyBJbnB1dCBzaGFwZTogW2JhdGNoLCBoZWlnaHQsIHdpZHRoLCBpbkNoYW5uZWxzXVxuICBjb25zdCBpbnB1dENoYW5uZWxzID0gaW5wdXRTaGFwZVszXTtcbiAgY29uc3QgJGZpbHRlclNoYXBlID1cbiAgICAgIFsuLi5maWx0ZXJTaGFwZSwgaW5wdXRDaGFubmVsc10gYXMgW251bWJlciwgbnVtYmVyLCBudW1iZXIsIG51bWJlcl07XG4gIGNvbnN0ICRkYXRhRm9ybWF0ID0gY29udmVydENvbnYyRERhdGFGb3JtYXQoZGF0YUZvcm1hdCk7XG5cbiAgcmV0dXJuIGNvbXB1dGVDb252MkRJbmZvKFxuICAgICAgaW5wdXRTaGFwZSwgJGZpbHRlclNoYXBlLCBzdHJpZGVzLCBkaWxhdGlvbnMsIHBhZCxcbiAgICAgIG51bGwgLyogcm91bmRpbmdNb2RlICovLCBudWxsIC8qIGRlcHRoV2lzZSAqLywgJGRhdGFGb3JtYXQpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY29tcHV0ZVBvb2wyREluZm8oXG4gICAgaW5TaGFwZTogW251bWJlciwgbnVtYmVyLCBudW1iZXIsIG51bWJlcl0sXG4gICAgZmlsdGVyU2l6ZTogW251bWJlciwgbnVtYmVyXXxudW1iZXIsIHN0cmlkZXM6IG51bWJlcnxbbnVtYmVyLCBudW1iZXJdLFxuICAgIGRpbGF0aW9uczogbnVtYmVyfFtudW1iZXIsIG51bWJlcl0sIHBhZDogJ3NhbWUnfCd2YWxpZCd8bnVtYmVyLFxuICAgIHJvdW5kaW5nTW9kZT86ICdmbG9vcid8J3JvdW5kJ3wnY2VpbCcsXG4gICAgZGF0YUZvcm1hdDogJ2NoYW5uZWxzRmlyc3QnfCdjaGFubmVsc0xhc3QnID0gJ2NoYW5uZWxzTGFzdCcpOiBDb252MkRJbmZvIHtcbiAgY29uc3QgW2ZpbHRlckhlaWdodCwgZmlsdGVyV2lkdGhdID0gcGFyc2VUdXBsZVBhcmFtKGZpbHRlclNpemUpO1xuXG4gIGxldCBmaWx0ZXJTaGFwZTogW251bWJlciwgbnVtYmVyLCBudW1iZXIsIG51bWJlcl07XG4gIGlmIChkYXRhRm9ybWF0ID09PSAnY2hhbm5lbHNMYXN0Jykge1xuICAgIGZpbHRlclNoYXBlID0gW2ZpbHRlckhlaWdodCwgZmlsdGVyV2lkdGgsIGluU2hhcGVbM10sIGluU2hhcGVbM11dO1xuICB9IGVsc2UgaWYgKGRhdGFGb3JtYXQgPT09ICdjaGFubmVsc0ZpcnN0Jykge1xuICAgIGZpbHRlclNoYXBlID0gW2ZpbHRlckhlaWdodCwgZmlsdGVyV2lkdGgsIGluU2hhcGVbMV0sIGluU2hhcGVbMV1dO1xuICB9IGVsc2Uge1xuICAgIHRocm93IG5ldyBFcnJvcihgVW5rbm93biBkYXRhRm9ybWF0ICR7ZGF0YUZvcm1hdH1gKTtcbiAgfVxuXG4gIHJldHVybiBjb21wdXRlQ29udjJESW5mbyhcbiAgICAgIGluU2hhcGUsIGZpbHRlclNoYXBlLCBzdHJpZGVzLCBkaWxhdGlvbnMsIHBhZCwgcm91bmRpbmdNb2RlLCBmYWxzZSxcbiAgICAgIGRhdGFGb3JtYXQpO1xufVxuXG4vKipcbiAqIENvbXB1dGVzIHRoZSBpbmZvcm1hdGlvbiBmb3IgYSBmb3J3YXJkIHBhc3Mgb2YgYSBwb29saW5nM0Qgb3BlcmF0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY29tcHV0ZVBvb2wzREluZm8oXG4gICAgaW5TaGFwZTogW251bWJlciwgbnVtYmVyLCBudW1iZXIsIG51bWJlciwgbnVtYmVyXSxcbiAgICBmaWx0ZXJTaXplOiBudW1iZXJ8W251bWJlciwgbnVtYmVyLCBudW1iZXJdLFxuICAgIHN0cmlkZXM6IG51bWJlcnxbbnVtYmVyLCBudW1iZXIsIG51bWJlcl0sXG4gICAgZGlsYXRpb25zOiBudW1iZXJ8W251bWJlciwgbnVtYmVyLCBudW1iZXJdLCBwYWQ6ICdzYW1lJ3wndmFsaWQnfG51bWJlcixcbiAgICByb3VuZGluZ01vZGU/OiAnZmxvb3InfCdyb3VuZCd8J2NlaWwnLFxuICAgIGRhdGFGb3JtYXQ6ICdOREhXQyd8J05DREhXJyA9ICdOREhXQycpOiBDb252M0RJbmZvIHtcbiAgY29uc3QgW2ZpbHRlckRlcHRoLCBmaWx0ZXJIZWlnaHQsIGZpbHRlcldpZHRoXSA9IHBhcnNlM1R1cGxlUGFyYW0oZmlsdGVyU2l6ZSk7XG5cbiAgbGV0IGZpbHRlclNoYXBlOiBbbnVtYmVyLCBudW1iZXIsIG51bWJlciwgbnVtYmVyLCBudW1iZXJdO1xuICBsZXQgJGRhdGFGb3JtYXQ6ICdjaGFubmVsc0ZpcnN0J3wnY2hhbm5lbHNMYXN0JztcbiAgaWYgKGRhdGFGb3JtYXQgPT09ICdOREhXQycpIHtcbiAgICAkZGF0YUZvcm1hdCA9ICdjaGFubmVsc0xhc3QnO1xuICAgIGZpbHRlclNoYXBlID1cbiAgICAgICAgW2ZpbHRlckRlcHRoLCBmaWx0ZXJIZWlnaHQsIGZpbHRlcldpZHRoLCBpblNoYXBlWzRdLCBpblNoYXBlWzRdXTtcbiAgfSBlbHNlIGlmIChkYXRhRm9ybWF0ID09PSAnTkNESFcnKSB7XG4gICAgJGRhdGFGb3JtYXQgPSAnY2hhbm5lbHNGaXJzdCc7XG4gICAgZmlsdGVyU2hhcGUgPVxuICAgICAgICBbZmlsdGVyRGVwdGgsIGZpbHRlckhlaWdodCwgZmlsdGVyV2lkdGgsIGluU2hhcGVbMV0sIGluU2hhcGVbMV1dO1xuICB9IGVsc2Uge1xuICAgIHRocm93IG5ldyBFcnJvcihgVW5rbm93biBkYXRhRm9ybWF0ICR7ZGF0YUZvcm1hdH1gKTtcbiAgfVxuXG4gIHJldHVybiBjb21wdXRlQ29udjNESW5mbyhcbiAgICAgIGluU2hhcGUsIGZpbHRlclNoYXBlLCBzdHJpZGVzLCBkaWxhdGlvbnMsIHBhZCwgZmFsc2UsICRkYXRhRm9ybWF0LFxuICAgICAgcm91bmRpbmdNb2RlKTtcbn1cblxuLyoqXG4gKiBDb21wdXRlcyB0aGUgaW5mb3JtYXRpb24gZm9yIGEgZm9yd2FyZCBwYXNzIG9mIGEgY29udm9sdXRpb24vcG9vbGluZ1xuICogb3BlcmF0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY29tcHV0ZUNvbnYyREluZm8oXG4gICAgaW5TaGFwZTogW251bWJlciwgbnVtYmVyLCBudW1iZXIsIG51bWJlcl0sXG4gICAgZmlsdGVyU2hhcGU6IFtudW1iZXIsIG51bWJlciwgbnVtYmVyLCBudW1iZXJdLFxuICAgIHN0cmlkZXM6IG51bWJlcnxbbnVtYmVyLCBudW1iZXJdLCBkaWxhdGlvbnM6IG51bWJlcnxbbnVtYmVyLCBudW1iZXJdLFxuICAgIHBhZDogJ3NhbWUnfCd2YWxpZCd8bnVtYmVyfEV4cGxpY2l0UGFkZGluZyxcbiAgICByb3VuZGluZ01vZGU/OiAnZmxvb3InfCdyb3VuZCd8J2NlaWwnLCBkZXB0aHdpc2UgPSBmYWxzZSxcbiAgICBkYXRhRm9ybWF0OiAnY2hhbm5lbHNGaXJzdCd8J2NoYW5uZWxzTGFzdCcgPSAnY2hhbm5lbHNMYXN0Jyk6IENvbnYyREluZm8ge1xuICBsZXQgW2JhdGNoU2l6ZSwgaW5IZWlnaHQsIGluV2lkdGgsIGluQ2hhbm5lbHNdID0gWy0xLCAtMSwgLTEsIC0xXTtcbiAgaWYgKGRhdGFGb3JtYXQgPT09ICdjaGFubmVsc0xhc3QnKSB7XG4gICAgW2JhdGNoU2l6ZSwgaW5IZWlnaHQsIGluV2lkdGgsIGluQ2hhbm5lbHNdID0gaW5TaGFwZTtcbiAgfSBlbHNlIGlmIChkYXRhRm9ybWF0ID09PSAnY2hhbm5lbHNGaXJzdCcpIHtcbiAgICBbYmF0Y2hTaXplLCBpbkNoYW5uZWxzLCBpbkhlaWdodCwgaW5XaWR0aF0gPSBpblNoYXBlO1xuICB9IGVsc2Uge1xuICAgIHRocm93IG5ldyBFcnJvcihgVW5rbm93biBkYXRhRm9ybWF0ICR7ZGF0YUZvcm1hdH1gKTtcbiAgfVxuXG4gIGNvbnN0IFtmaWx0ZXJIZWlnaHQsIGZpbHRlcldpZHRoLCAsIGZpbHRlckNoYW5uZWxzXSA9IGZpbHRlclNoYXBlO1xuICBjb25zdCBbc3RyaWRlSGVpZ2h0LCBzdHJpZGVXaWR0aF0gPSBwYXJzZVR1cGxlUGFyYW0oc3RyaWRlcyk7XG4gIGNvbnN0IFtkaWxhdGlvbkhlaWdodCwgZGlsYXRpb25XaWR0aF0gPSBwYXJzZVR1cGxlUGFyYW0oZGlsYXRpb25zKTtcblxuICBjb25zdCBlZmZlY3RpdmVGaWx0ZXJIZWlnaHQgPVxuICAgICAgZ2V0RWZmZWN0aXZlRmlsdGVyU2l6ZShmaWx0ZXJIZWlnaHQsIGRpbGF0aW9uSGVpZ2h0KTtcbiAgY29uc3QgZWZmZWN0aXZlRmlsdGVyV2lkdGggPVxuICAgICAgZ2V0RWZmZWN0aXZlRmlsdGVyU2l6ZShmaWx0ZXJXaWR0aCwgZGlsYXRpb25XaWR0aCk7XG4gIGNvbnN0IHtwYWRJbmZvLCBvdXRIZWlnaHQsIG91dFdpZHRofSA9IGdldFBhZEFuZE91dEluZm8oXG4gICAgICBwYWQsIGluSGVpZ2h0LCBpbldpZHRoLCBzdHJpZGVIZWlnaHQsIHN0cmlkZVdpZHRoLCBlZmZlY3RpdmVGaWx0ZXJIZWlnaHQsXG4gICAgICBlZmZlY3RpdmVGaWx0ZXJXaWR0aCwgcm91bmRpbmdNb2RlLCBkYXRhRm9ybWF0KTtcblxuICBjb25zdCBvdXRDaGFubmVscyA9IGRlcHRod2lzZSA/IGZpbHRlckNoYW5uZWxzICogaW5DaGFubmVscyA6IGZpbHRlckNoYW5uZWxzO1xuXG4gIGxldCBvdXRTaGFwZTogW251bWJlciwgbnVtYmVyLCBudW1iZXIsIG51bWJlcl07XG4gIGlmIChkYXRhRm9ybWF0ID09PSAnY2hhbm5lbHNGaXJzdCcpIHtcbiAgICBvdXRTaGFwZSA9IFtiYXRjaFNpemUsIG91dENoYW5uZWxzLCBvdXRIZWlnaHQsIG91dFdpZHRoXTtcbiAgfSBlbHNlIGlmIChkYXRhRm9ybWF0ID09PSAnY2hhbm5lbHNMYXN0Jykge1xuICAgIG91dFNoYXBlID0gW2JhdGNoU2l6ZSwgb3V0SGVpZ2h0LCBvdXRXaWR0aCwgb3V0Q2hhbm5lbHNdO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBiYXRjaFNpemUsXG4gICAgZGF0YUZvcm1hdCxcbiAgICBpbkhlaWdodCxcbiAgICBpbldpZHRoLFxuICAgIGluQ2hhbm5lbHMsXG4gICAgb3V0SGVpZ2h0LFxuICAgIG91dFdpZHRoLFxuICAgIG91dENoYW5uZWxzLFxuICAgIHBhZEluZm8sXG4gICAgc3RyaWRlSGVpZ2h0LFxuICAgIHN0cmlkZVdpZHRoLFxuICAgIGZpbHRlckhlaWdodCxcbiAgICBmaWx0ZXJXaWR0aCxcbiAgICBlZmZlY3RpdmVGaWx0ZXJIZWlnaHQsXG4gICAgZWZmZWN0aXZlRmlsdGVyV2lkdGgsXG4gICAgZGlsYXRpb25IZWlnaHQsXG4gICAgZGlsYXRpb25XaWR0aCxcbiAgICBpblNoYXBlLFxuICAgIG91dFNoYXBlLFxuICAgIGZpbHRlclNoYXBlXG4gIH07XG59XG5cbi8qKlxuICogSW5mb3JtYXRpb24gYWJvdXQgdGhlIGZvcndhcmQgcGFzcyBvZiBhIDNEIGNvbnZvbHV0aW9uL3Bvb2xpbmcgb3BlcmF0aW9uLlxuICogSXQgaW5jbHVkZXMgaW5wdXQgYW5kIG91dHB1dCBzaGFwZSwgc3RyaWRlcywgZmlsdGVyIHNpemUgYW5kIHBhZGRpbmdcbiAqIGluZm9ybWF0aW9uLlxuICovXG5leHBvcnQgdHlwZSBDb252M0RJbmZvID0ge1xuICBiYXRjaFNpemU6IG51bWJlcixcbiAgaW5EZXB0aDogbnVtYmVyLFxuICBpbkhlaWdodDogbnVtYmVyLFxuICBpbldpZHRoOiBudW1iZXIsXG4gIGluQ2hhbm5lbHM6IG51bWJlcixcbiAgb3V0RGVwdGg6IG51bWJlcixcbiAgb3V0SGVpZ2h0OiBudW1iZXIsXG4gIG91dFdpZHRoOiBudW1iZXIsXG4gIG91dENoYW5uZWxzOiBudW1iZXIsXG4gIGRhdGFGb3JtYXQ6ICdjaGFubmVsc0ZpcnN0J3wnY2hhbm5lbHNMYXN0JyxcbiAgc3RyaWRlRGVwdGg6IG51bWJlcixcbiAgc3RyaWRlSGVpZ2h0OiBudW1iZXIsXG4gIHN0cmlkZVdpZHRoOiBudW1iZXIsXG4gIGRpbGF0aW9uRGVwdGg6IG51bWJlcixcbiAgZGlsYXRpb25IZWlnaHQ6IG51bWJlcixcbiAgZGlsYXRpb25XaWR0aDogbnVtYmVyLFxuICBmaWx0ZXJEZXB0aDogbnVtYmVyLFxuICBmaWx0ZXJIZWlnaHQ6IG51bWJlcixcbiAgZmlsdGVyV2lkdGg6IG51bWJlcixcbiAgZWZmZWN0aXZlRmlsdGVyRGVwdGg6IG51bWJlcixcbiAgZWZmZWN0aXZlRmlsdGVySGVpZ2h0OiBudW1iZXIsXG4gIGVmZmVjdGl2ZUZpbHRlcldpZHRoOiBudW1iZXIsXG4gIHBhZEluZm86IFBhZEluZm8zRCxcbiAgaW5TaGFwZTogW251bWJlciwgbnVtYmVyLCBudW1iZXIsIG51bWJlciwgbnVtYmVyXSxcbiAgb3V0U2hhcGU6IFtudW1iZXIsIG51bWJlciwgbnVtYmVyLCBudW1iZXIsIG51bWJlcl0sXG4gIGZpbHRlclNoYXBlOiBbbnVtYmVyLCBudW1iZXIsIG51bWJlciwgbnVtYmVyLCBudW1iZXJdXG59O1xuXG4vKipcbiAqIENvbXB1dGVzIHRoZSBpbmZvcm1hdGlvbiBmb3IgYSBmb3J3YXJkIHBhc3Mgb2YgYSAzRCBjb252b2x1dGlvbi9wb29saW5nXG4gKiBvcGVyYXRpb24uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb21wdXRlQ29udjNESW5mbyhcbiAgICBpblNoYXBlOiBbbnVtYmVyLCBudW1iZXIsIG51bWJlciwgbnVtYmVyLCBudW1iZXJdLFxuICAgIGZpbHRlclNoYXBlOiBbbnVtYmVyLCBudW1iZXIsIG51bWJlciwgbnVtYmVyLCBudW1iZXJdLFxuICAgIHN0cmlkZXM6IG51bWJlcnxbbnVtYmVyLCBudW1iZXIsIG51bWJlcl0sXG4gICAgZGlsYXRpb25zOiBudW1iZXJ8W251bWJlciwgbnVtYmVyLCBudW1iZXJdLCBwYWQ6ICdzYW1lJ3wndmFsaWQnfG51bWJlcixcbiAgICBkZXB0aHdpc2UgPSBmYWxzZSxcbiAgICBkYXRhRm9ybWF0OiAnY2hhbm5lbHNGaXJzdCd8J2NoYW5uZWxzTGFzdCcgPSAnY2hhbm5lbHNMYXN0JyxcbiAgICByb3VuZGluZ01vZGU/OiAnZmxvb3InfCdyb3VuZCd8J2NlaWwnKTogQ29udjNESW5mbyB7XG4gIGxldCBbYmF0Y2hTaXplLCBpbkRlcHRoLCBpbkhlaWdodCwgaW5XaWR0aCwgaW5DaGFubmVsc10gPVxuICAgICAgWy0xLCAtMSwgLTEsIC0xLCAtMV07XG4gIGlmIChkYXRhRm9ybWF0ID09PSAnY2hhbm5lbHNMYXN0Jykge1xuICAgIFtiYXRjaFNpemUsIGluRGVwdGgsIGluSGVpZ2h0LCBpbldpZHRoLCBpbkNoYW5uZWxzXSA9IGluU2hhcGU7XG4gIH0gZWxzZSBpZiAoZGF0YUZvcm1hdCA9PT0gJ2NoYW5uZWxzRmlyc3QnKSB7XG4gICAgW2JhdGNoU2l6ZSwgaW5DaGFubmVscywgaW5EZXB0aCwgaW5IZWlnaHQsIGluV2lkdGhdID0gaW5TaGFwZTtcbiAgfSBlbHNlIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYFVua25vd24gZGF0YUZvcm1hdCAke2RhdGFGb3JtYXR9YCk7XG4gIH1cblxuICBjb25zdCBbZmlsdGVyRGVwdGgsIGZpbHRlckhlaWdodCwgZmlsdGVyV2lkdGgsICwgZmlsdGVyQ2hhbm5lbHNdID1cbiAgICAgIGZpbHRlclNoYXBlO1xuICBjb25zdCBbc3RyaWRlRGVwdGgsIHN0cmlkZUhlaWdodCwgc3RyaWRlV2lkdGhdID0gcGFyc2UzVHVwbGVQYXJhbShzdHJpZGVzKTtcbiAgY29uc3QgW2RpbGF0aW9uRGVwdGgsIGRpbGF0aW9uSGVpZ2h0LCBkaWxhdGlvbldpZHRoXSA9XG4gICAgICBwYXJzZTNUdXBsZVBhcmFtKGRpbGF0aW9ucyk7XG5cbiAgY29uc3QgZWZmZWN0aXZlRmlsdGVyRGVwdGggPVxuICAgICAgZ2V0RWZmZWN0aXZlRmlsdGVyU2l6ZShmaWx0ZXJEZXB0aCwgZGlsYXRpb25EZXB0aCk7XG4gIGNvbnN0IGVmZmVjdGl2ZUZpbHRlckhlaWdodCA9XG4gICAgICBnZXRFZmZlY3RpdmVGaWx0ZXJTaXplKGZpbHRlckhlaWdodCwgZGlsYXRpb25IZWlnaHQpO1xuICBjb25zdCBlZmZlY3RpdmVGaWx0ZXJXaWR0aCA9XG4gICAgICBnZXRFZmZlY3RpdmVGaWx0ZXJTaXplKGZpbHRlcldpZHRoLCBkaWxhdGlvbldpZHRoKTtcbiAgY29uc3Qge3BhZEluZm8sIG91dERlcHRoLCBvdXRIZWlnaHQsIG91dFdpZHRofSA9IGdldDNEUGFkQW5kT3V0SW5mbyhcbiAgICAgIHBhZCwgaW5EZXB0aCwgaW5IZWlnaHQsIGluV2lkdGgsIHN0cmlkZURlcHRoLCBzdHJpZGVIZWlnaHQsIHN0cmlkZVdpZHRoLFxuICAgICAgZWZmZWN0aXZlRmlsdGVyRGVwdGgsIGVmZmVjdGl2ZUZpbHRlckhlaWdodCwgZWZmZWN0aXZlRmlsdGVyV2lkdGgsXG4gICAgICByb3VuZGluZ01vZGUpO1xuXG4gIGNvbnN0IG91dENoYW5uZWxzID0gZGVwdGh3aXNlID8gZmlsdGVyQ2hhbm5lbHMgKiBpbkNoYW5uZWxzIDogZmlsdGVyQ2hhbm5lbHM7XG5cbiAgbGV0IG91dFNoYXBlOiBbbnVtYmVyLCBudW1iZXIsIG51bWJlciwgbnVtYmVyLCBudW1iZXJdO1xuICBpZiAoZGF0YUZvcm1hdCA9PT0gJ2NoYW5uZWxzRmlyc3QnKSB7XG4gICAgb3V0U2hhcGUgPSBbYmF0Y2hTaXplLCBvdXRDaGFubmVscywgb3V0RGVwdGgsIG91dEhlaWdodCwgb3V0V2lkdGhdO1xuICB9IGVsc2UgaWYgKGRhdGFGb3JtYXQgPT09ICdjaGFubmVsc0xhc3QnKSB7XG4gICAgb3V0U2hhcGUgPSBbYmF0Y2hTaXplLCBvdXREZXB0aCwgb3V0SGVpZ2h0LCBvdXRXaWR0aCwgb3V0Q2hhbm5lbHNdO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBiYXRjaFNpemUsXG4gICAgZGF0YUZvcm1hdCxcbiAgICBpbkRlcHRoLFxuICAgIGluSGVpZ2h0LFxuICAgIGluV2lkdGgsXG4gICAgaW5DaGFubmVscyxcbiAgICBvdXREZXB0aCxcbiAgICBvdXRIZWlnaHQsXG4gICAgb3V0V2lkdGgsXG4gICAgb3V0Q2hhbm5lbHMsXG4gICAgcGFkSW5mbyxcbiAgICBzdHJpZGVEZXB0aCxcbiAgICBzdHJpZGVIZWlnaHQsXG4gICAgc3RyaWRlV2lkdGgsXG4gICAgZmlsdGVyRGVwdGgsXG4gICAgZmlsdGVySGVpZ2h0LFxuICAgIGZpbHRlcldpZHRoLFxuICAgIGVmZmVjdGl2ZUZpbHRlckRlcHRoLFxuICAgIGVmZmVjdGl2ZUZpbHRlckhlaWdodCxcbiAgICBlZmZlY3RpdmVGaWx0ZXJXaWR0aCxcbiAgICBkaWxhdGlvbkRlcHRoLFxuICAgIGRpbGF0aW9uSGVpZ2h0LFxuICAgIGRpbGF0aW9uV2lkdGgsXG4gICAgaW5TaGFwZSxcbiAgICBvdXRTaGFwZSxcbiAgICBmaWx0ZXJTaGFwZVxuICB9O1xufVxuXG5mdW5jdGlvbiBjb21wdXRlT3V0cHV0U2hhcGUyRChcbiAgICBpblNoYXBlOiBbbnVtYmVyLCBudW1iZXJdLCBmaWVsZFNpemU6IG51bWJlciwgc3RyaWRlOiBudW1iZXIsXG4gICAgemVyb1BhZD86IG51bWJlciwgcm91bmRpbmdNb2RlPzogJ2Zsb29yJ3wncm91bmQnfCdjZWlsJyk6IFtudW1iZXIsIG51bWJlcl0ge1xuICBpZiAoemVyb1BhZCA9PSBudWxsKSB7XG4gICAgemVyb1BhZCA9IGNvbXB1dGVEZWZhdWx0UGFkKGluU2hhcGUsIGZpZWxkU2l6ZSwgc3RyaWRlKTtcbiAgfVxuICBjb25zdCBpbnB1dFJvd3MgPSBpblNoYXBlWzBdO1xuICBjb25zdCBpbnB1dENvbHMgPSBpblNoYXBlWzFdO1xuXG4gIGNvbnN0IG91dHB1dFJvd3MgPSBjb25kaXRpb25hbFJvdW5kKFxuICAgICAgKGlucHV0Um93cyAtIGZpZWxkU2l6ZSArIDIgKiB6ZXJvUGFkKSAvIHN0cmlkZSArIDEsIHJvdW5kaW5nTW9kZSk7XG4gIHV0aWwuYXNzZXJ0KFxuICAgICAgdXRpbC5pc0ludChvdXRwdXRSb3dzKSxcbiAgICAgICgpID0+IGBUaGUgb3V0cHV0ICMgb2Ygcm93cyAoJHtvdXRwdXRSb3dzfSkgbXVzdCBiZSBhbiBpbnRlZ2VyLiBgICtcbiAgICAgICAgICBgQ2hhbmdlIHRoZSBzdHJpZGUgYW5kL29yIHplcm8gcGFkIHBhcmFtZXRlcnNgKTtcblxuICBjb25zdCBvdXRwdXRDb2xzID0gY29uZGl0aW9uYWxSb3VuZChcbiAgICAgIChpbnB1dENvbHMgLSBmaWVsZFNpemUgKyAyICogemVyb1BhZCkgLyBzdHJpZGUgKyAxLCByb3VuZGluZ01vZGUpO1xuICB1dGlsLmFzc2VydChcbiAgICAgIHV0aWwuaXNJbnQob3V0cHV0Q29scyksXG4gICAgICAoKSA9PiBgVGhlIG91dHB1dCAjIG9mIGNvbHVtbnMgKCR7b3V0cHV0Q29sc30pIG11c3QgYmUgYW4gaW50ZWdlci4gYCArXG4gICAgICAgICAgYENoYW5nZSB0aGUgc3RyaWRlIGFuZC9vciB6ZXJvIHBhZCBwYXJhbWV0ZXJzYCk7XG5cbiAgcmV0dXJuIFtvdXRwdXRSb3dzLCBvdXRwdXRDb2xzXTtcbn1cblxuZnVuY3Rpb24gY29tcHV0ZU91dHB1dFNoYXBlNEQoXG4gICAgaW5TaGFwZTogW251bWJlciwgbnVtYmVyLCBudW1iZXIsIG51bWJlcl0sIGZpZWxkU2l6ZTogbnVtYmVyLFxuICAgIG91dENoYW5uZWxzOiBudW1iZXIsIHN0cmlkZTogbnVtYmVyLCB6ZXJvUGFkPzogbnVtYmVyLFxuICAgIHJvdW5kaW5nTW9kZT86ICdmbG9vcid8J3JvdW5kJ3wnY2VpbCcpOiBbbnVtYmVyLCBudW1iZXIsIG51bWJlciwgbnVtYmVyXSB7XG4gIGlmICh6ZXJvUGFkID09IG51bGwpIHtcbiAgICB6ZXJvUGFkID0gY29tcHV0ZURlZmF1bHRQYWQoaW5TaGFwZSwgZmllbGRTaXplLCBzdHJpZGUpO1xuICB9XG4gIGNvbnN0IGlucHV0RGVwdGggPSBpblNoYXBlWzBdO1xuICBjb25zdCBpbnB1dFJvd3MgPSBpblNoYXBlWzFdO1xuICBjb25zdCBpbnB1dENvbHMgPSBpblNoYXBlWzJdO1xuXG4gIGNvbnN0IG91dHB1dERlcHRocyA9IGNvbmRpdGlvbmFsUm91bmQoXG4gICAgICAoaW5wdXREZXB0aCAtIGZpZWxkU2l6ZSArIDIgKiB6ZXJvUGFkKSAvIHN0cmlkZSArIDEsIHJvdW5kaW5nTW9kZSk7XG4gIHV0aWwuYXNzZXJ0KFxuICAgICAgdXRpbC5pc0ludChvdXRwdXREZXB0aHMpLFxuICAgICAgKCkgPT4gYFRoZSBvdXRwdXQgIyBvZiBkZXB0aHMgKCR7b3V0cHV0RGVwdGhzfSkgbXVzdCBiZSBhbiBpbnRlZ2VyLiBgICtcbiAgICAgICAgICBgQ2hhbmdlIHRoZSBzdHJpZGUgYW5kL29yIHplcm8gcGFkIHBhcmFtZXRlcnNgKTtcblxuICBjb25zdCBvdXRwdXRSb3dzID0gY29uZGl0aW9uYWxSb3VuZChcbiAgICAgIChpbnB1dFJvd3MgLSBmaWVsZFNpemUgKyAyICogemVyb1BhZCkgLyBzdHJpZGUgKyAxLCByb3VuZGluZ01vZGUpO1xuICB1dGlsLmFzc2VydChcbiAgICAgIHV0aWwuaXNJbnQob3V0cHV0Um93cyksXG4gICAgICAoKSA9PiBgVGhlIG91dHB1dCAjIG9mIHJvd3MgKCR7b3V0cHV0Um93c30pIG11c3QgYmUgYW4gaW50ZWdlci4gYCArXG4gICAgICAgICAgYENoYW5nZSB0aGUgc3RyaWRlIGFuZC9vciB6ZXJvIHBhZCBwYXJhbWV0ZXJzYCk7XG5cbiAgY29uc3Qgb3V0cHV0Q29scyA9IGNvbmRpdGlvbmFsUm91bmQoXG4gICAgICAoaW5wdXRDb2xzIC0gZmllbGRTaXplICsgMiAqIHplcm9QYWQpIC8gc3RyaWRlICsgMSwgcm91bmRpbmdNb2RlKTtcbiAgdXRpbC5hc3NlcnQoXG4gICAgICB1dGlsLmlzSW50KG91dHB1dENvbHMpLFxuICAgICAgKCkgPT4gYFRoZSBvdXRwdXQgIyBvZiBjb2x1bW5zICgke291dHB1dENvbHN9KSBtdXN0IGJlIGFuIGludGVnZXIuIGAgK1xuICAgICAgICAgIGBDaGFuZ2UgdGhlIHN0cmlkZSBhbmQvb3IgemVybyBwYWQgcGFyYW1ldGVyc2ApO1xuXG4gIHJldHVybiBbb3V0cHV0RGVwdGhzLCBvdXRwdXRSb3dzLCBvdXRwdXRDb2xzLCBvdXRDaGFubmVsc107XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb21wdXRlRGVmYXVsdFBhZChcbiAgICBpbnB1dFNoYXBlOiBbbnVtYmVyLCBudW1iZXJdfFtudW1iZXIsIG51bWJlciwgbnVtYmVyLCBudW1iZXJdLFxuICAgIGZpZWxkU2l6ZTogbnVtYmVyLCBzdHJpZGU6IG51bWJlciwgZGlsYXRpb24gPSAxKTogbnVtYmVyIHtcbiAgY29uc3QgZWZmZWN0aXZlRmllbGRTaXplID0gZ2V0RWZmZWN0aXZlRmlsdGVyU2l6ZShmaWVsZFNpemUsIGRpbGF0aW9uKTtcbiAgcmV0dXJuIE1hdGguZmxvb3IoXG4gICAgICAoaW5wdXRTaGFwZVswXSAqIChzdHJpZGUgLSAxKSAtIHN0cmlkZSArIGVmZmVjdGl2ZUZpZWxkU2l6ZSkgLyAyKTtcbn1cblxuZnVuY3Rpb24gcGFyc2VUdXBsZVBhcmFtKHBhcmFtOiBudW1iZXJ8bnVtYmVyW10pOiBbbnVtYmVyLCBudW1iZXIsIG51bWJlcl0ge1xuICBpZiAodHlwZW9mIHBhcmFtID09PSAnbnVtYmVyJykge1xuICAgIHJldHVybiBbcGFyYW0sIHBhcmFtLCBwYXJhbV07XG4gIH1cbiAgaWYgKHBhcmFtLmxlbmd0aCA9PT0gMikge1xuICAgIHJldHVybiBbcGFyYW1bMF0sIHBhcmFtWzFdLCAxXTtcbiAgfVxuICByZXR1cm4gcGFyYW0gYXMgW251bWJlciwgbnVtYmVyLCBudW1iZXJdO1xufVxuXG5mdW5jdGlvbiBwYXJzZTNUdXBsZVBhcmFtKHBhcmFtOiBudW1iZXJ8W251bWJlciwgbnVtYmVyLCBudW1iZXJdKTpcbiAgICBbbnVtYmVyLCBudW1iZXIsIG51bWJlcl0ge1xuICByZXR1cm4gdHlwZW9mIHBhcmFtID09PSAnbnVtYmVyJyA/IFtwYXJhbSwgcGFyYW0sIHBhcmFtXSA6IHBhcmFtO1xufVxuXG4vKiBTZWUgaHR0cHM6Ly93d3cudGVuc29yZmxvdy5vcmcvYXBpX2RvY3MvcHl0aG9uL3RmL25uL2F0cm91c19jb252MmRcbiAqIEF0cm91cyBjb252b2x1dGlvbiBpcyBlcXVpdmFsZW50IHRvIHN0YW5kYXJkIGNvbnZvbHV0aW9uIHdpdGggdXBzYW1wbGVkXG4gKiBmaWx0ZXJzIHdpdGggZWZmZWN0aXZlX2ZpbHRlcl9oZWlnaHQgPVxuICogZmlsdGVyX2hlaWdodCArIChmaWx0ZXJfaGVpZ2h0IC0gMSkgKiAoZGlsYXRpb24gLSAxKVxuICogYW5kIGVmZmVjdGl2ZV9maWx0ZXJfd2lkdGggPVxuICogZmlsdGVyX3dpZHRoICsgKGZpbHRlcl93aWR0aCAtIDEpICogKGRpbGF0aW9uIC0gMSksXG4gKiBwcm9kdWNlZCBieSBpbnNlcnRpbmcgZGlsYXRpb24gLSAxIHplcm9zIGFsb25nIGNvbnNlY3V0aXZlIGVsZW1lbnRzIGFjcm9zc1xuICogdGhlIGZpbHRlcnMnIHNwYXRpYWwgZGltZW5zaW9ucy5cbiAqIFdoZW4gdGhlcmUgaXMgYSBkaWxhdGlvbiwgdGhpcyBjb252ZXJ0cyBhIGZpbHRlciBkaW1lbnNpb24gdG8gdGhlXG4gKiBlZmZlY3RpdmUgZmlsdGVyIGRpbWVuc2lvbiwgc28gaXQgY2FuIGJlIHVzZWQgaW4gYSBzdGFuZGFyZCBjb252b2x1dGlvbi5cbiAqL1xuZnVuY3Rpb24gZ2V0RWZmZWN0aXZlRmlsdGVyU2l6ZShmaWx0ZXJTaXplOiBudW1iZXIsIGRpbGF0aW9uOiBudW1iZXIpIHtcbiAgaWYgKGRpbGF0aW9uIDw9IDEpIHtcbiAgICByZXR1cm4gZmlsdGVyU2l6ZTtcbiAgfVxuXG4gIHJldHVybiBmaWx0ZXJTaXplICsgKGZpbHRlclNpemUgLSAxKSAqIChkaWxhdGlvbiAtIDEpO1xufVxuXG5mdW5jdGlvbiBnZXRQYWRBbmRPdXRJbmZvKFxuICAgIHBhZDogJ3NhbWUnfCd2YWxpZCd8bnVtYmVyfEV4cGxpY2l0UGFkZGluZywgaW5IZWlnaHQ6IG51bWJlcixcbiAgICBpbldpZHRoOiBudW1iZXIsIHN0cmlkZUhlaWdodDogbnVtYmVyLCBzdHJpZGVXaWR0aDogbnVtYmVyLFxuICAgIGZpbHRlckhlaWdodDogbnVtYmVyLCBmaWx0ZXJXaWR0aDogbnVtYmVyLFxuICAgIHJvdW5kaW5nTW9kZTogJ2Zsb29yJ3wncm91bmQnfCdjZWlsJyxcbiAgICBkYXRhRm9ybWF0OiAnY2hhbm5lbHNGaXJzdCd8XG4gICAgJ2NoYW5uZWxzTGFzdCcpOiB7cGFkSW5mbzogUGFkSW5mbywgb3V0SGVpZ2h0OiBudW1iZXIsIG91dFdpZHRoOiBudW1iZXJ9IHtcbiAgbGV0IHBhZEluZm86IFBhZEluZm87XG4gIGxldCBvdXRIZWlnaHQ6IG51bWJlcjtcbiAgbGV0IG91dFdpZHRoOiBudW1iZXI7XG5cbiAgaWYgKHR5cGVvZiBwYWQgPT09ICdudW1iZXInKSB7XG4gICAgY29uc3QgcGFkVHlwZSA9IChwYWQgPT09IDApID8gJ1ZBTElEJyA6ICdOVU1CRVInO1xuICAgIHBhZEluZm8gPSB7dG9wOiBwYWQsIGJvdHRvbTogcGFkLCBsZWZ0OiBwYWQsIHJpZ2h0OiBwYWQsIHR5cGU6IHBhZFR5cGV9O1xuICAgIGNvbnN0IG91dFNoYXBlID0gY29tcHV0ZU91dHB1dFNoYXBlMkQoXG4gICAgICAgIFtpbkhlaWdodCwgaW5XaWR0aF0sIGZpbHRlckhlaWdodCwgc3RyaWRlSGVpZ2h0LCBwYWQsIHJvdW5kaW5nTW9kZSk7XG4gICAgb3V0SGVpZ2h0ID0gb3V0U2hhcGVbMF07XG4gICAgb3V0V2lkdGggPSBvdXRTaGFwZVsxXTtcbiAgfSBlbHNlIGlmIChwYWQgPT09ICdzYW1lJykge1xuICAgIG91dEhlaWdodCA9IE1hdGguY2VpbChpbkhlaWdodCAvIHN0cmlkZUhlaWdodCk7XG4gICAgb3V0V2lkdGggPSBNYXRoLmNlaWwoaW5XaWR0aCAvIHN0cmlkZVdpZHRoKTtcbiAgICBjb25zdCBwYWRBbG9uZ0hlaWdodCA9XG4gICAgICAgIE1hdGgubWF4KDAsIChvdXRIZWlnaHQgLSAxKSAqIHN0cmlkZUhlaWdodCArIGZpbHRlckhlaWdodCAtIGluSGVpZ2h0KTtcbiAgICBjb25zdCBwYWRBbG9uZ1dpZHRoID1cbiAgICAgICAgTWF0aC5tYXgoMCwgKG91dFdpZHRoIC0gMSkgKiBzdHJpZGVXaWR0aCArIGZpbHRlcldpZHRoIC0gaW5XaWR0aCk7XG4gICAgY29uc3QgdG9wID0gTWF0aC5mbG9vcihwYWRBbG9uZ0hlaWdodCAvIDIpO1xuICAgIGNvbnN0IGJvdHRvbSA9IHBhZEFsb25nSGVpZ2h0IC0gdG9wO1xuICAgIGNvbnN0IGxlZnQgPSBNYXRoLmZsb29yKHBhZEFsb25nV2lkdGggLyAyKTtcbiAgICBjb25zdCByaWdodCA9IHBhZEFsb25nV2lkdGggLSBsZWZ0O1xuICAgIHBhZEluZm8gPSB7dG9wLCBib3R0b20sIGxlZnQsIHJpZ2h0LCB0eXBlOiAnU0FNRSd9O1xuICB9IGVsc2UgaWYgKHBhZCA9PT0gJ3ZhbGlkJykge1xuICAgIHBhZEluZm8gPSB7dG9wOiAwLCBib3R0b206IDAsIGxlZnQ6IDAsIHJpZ2h0OiAwLCB0eXBlOiAnVkFMSUQnfTtcbiAgICBvdXRIZWlnaHQgPSBNYXRoLmNlaWwoKGluSGVpZ2h0IC0gZmlsdGVySGVpZ2h0ICsgMSkgLyBzdHJpZGVIZWlnaHQpO1xuICAgIG91dFdpZHRoID0gTWF0aC5jZWlsKChpbldpZHRoIC0gZmlsdGVyV2lkdGggKyAxKSAvIHN0cmlkZVdpZHRoKTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgcGFkID09PSAnb2JqZWN0Jykge1xuICAgIGNvbnN0IHRvcCA9IGRhdGFGb3JtYXQgPT09ICdjaGFubmVsc0xhc3QnID8gcGFkWzFdWzBdIDogcGFkWzJdWzBdO1xuICAgIGNvbnN0IGJvdHRvbSA9IGRhdGFGb3JtYXQgPT09ICdjaGFubmVsc0xhc3QnID8gcGFkWzFdWzFdIDogcGFkWzJdWzFdO1xuICAgIGNvbnN0IGxlZnQgPSBkYXRhRm9ybWF0ID09PSAnY2hhbm5lbHNMYXN0JyA/IHBhZFsyXVswXSA6IHBhZFszXVswXTtcbiAgICBjb25zdCByaWdodCA9IGRhdGFGb3JtYXQgPT09ICdjaGFubmVsc0xhc3QnID8gcGFkWzJdWzFdIDogcGFkWzNdWzFdO1xuICAgIGNvbnN0IHBhZFR5cGUgPSAodG9wID09PSAwICYmIGJvdHRvbSA9PT0gMCAmJiBsZWZ0ID09PSAwICYmIHJpZ2h0ID09PSAwKSA/XG4gICAgICAgICdWQUxJRCcgOlxuICAgICAgICAnRVhQTElDSVQnO1xuICAgIHBhZEluZm8gPSB7dG9wLCBib3R0b20sIGxlZnQsIHJpZ2h0LCB0eXBlOiBwYWRUeXBlfTtcbiAgICBvdXRIZWlnaHQgPSBjb25kaXRpb25hbFJvdW5kKFxuICAgICAgICAoaW5IZWlnaHQgLSBmaWx0ZXJIZWlnaHQgKyB0b3AgKyBib3R0b20pIC8gc3RyaWRlSGVpZ2h0ICsgMSxcbiAgICAgICAgcm91bmRpbmdNb2RlKTtcbiAgICBvdXRXaWR0aCA9IGNvbmRpdGlvbmFsUm91bmQoXG4gICAgICAgIChpbldpZHRoIC0gZmlsdGVyV2lkdGggKyBsZWZ0ICsgcmlnaHQpIC8gc3RyaWRlV2lkdGggKyAxLCByb3VuZGluZ01vZGUpO1xuICB9IGVsc2Uge1xuICAgIHRocm93IEVycm9yKGBVbmtub3duIHBhZGRpbmcgcGFyYW1ldGVyOiAke3BhZH1gKTtcbiAgfVxuICByZXR1cm4ge3BhZEluZm8sIG91dEhlaWdodCwgb3V0V2lkdGh9O1xufVxuXG5mdW5jdGlvbiBnZXQzRFBhZEFuZE91dEluZm8oXG4gICAgcGFkOiAnc2FtZSd8J3ZhbGlkJ3xudW1iZXIsIGluRGVwdGg6IG51bWJlciwgaW5IZWlnaHQ6IG51bWJlcixcbiAgICBpbldpZHRoOiBudW1iZXIsIHN0cmlkZURlcHRoOiBudW1iZXIsIHN0cmlkZUhlaWdodDogbnVtYmVyLFxuICAgIHN0cmlkZVdpZHRoOiBudW1iZXIsIGZpbHRlckRlcHRoOiBudW1iZXIsIGZpbHRlckhlaWdodDogbnVtYmVyLFxuICAgIGZpbHRlcldpZHRoOiBudW1iZXIsIHJvdW5kaW5nTW9kZT86ICdmbG9vcid8J3JvdW5kJ3wnY2VpbCcpOiB7XG4gIHBhZEluZm86IFBhZEluZm8zRCxcbiAgb3V0RGVwdGg6IG51bWJlcixcbiAgb3V0SGVpZ2h0OiBudW1iZXIsXG4gIG91dFdpZHRoOiBudW1iZXJcbn0ge1xuICBsZXQgcGFkSW5mbzogUGFkSW5mbzNEO1xuICBsZXQgb3V0RGVwdGg6IG51bWJlcjtcbiAgbGV0IG91dEhlaWdodDogbnVtYmVyO1xuICBsZXQgb3V0V2lkdGg6IG51bWJlcjtcblxuICBpZiAodHlwZW9mIHBhZCA9PT0gJ251bWJlcicpIHtcbiAgICBjb25zdCBwYWRUeXBlID0gKHBhZCA9PT0gMCkgPyAnVkFMSUQnIDogJ05VTUJFUic7XG4gICAgcGFkSW5mbyA9IHtcbiAgICAgIHRvcDogcGFkLFxuICAgICAgYm90dG9tOiBwYWQsXG4gICAgICBsZWZ0OiBwYWQsXG4gICAgICByaWdodDogcGFkLFxuICAgICAgZnJvbnQ6IHBhZCxcbiAgICAgIGJhY2s6IHBhZCxcbiAgICAgIHR5cGU6IHBhZFR5cGVcbiAgICB9O1xuICAgIGNvbnN0IG91dFNoYXBlID0gY29tcHV0ZU91dHB1dFNoYXBlNEQoXG4gICAgICAgIFtpbkRlcHRoLCBpbkhlaWdodCwgaW5XaWR0aCwgMV0sIGZpbHRlckRlcHRoLCAxLCBzdHJpZGVEZXB0aCwgcGFkLFxuICAgICAgICByb3VuZGluZ01vZGUpO1xuICAgIG91dERlcHRoID0gb3V0U2hhcGVbMF07XG4gICAgb3V0SGVpZ2h0ID0gb3V0U2hhcGVbMV07XG4gICAgb3V0V2lkdGggPSBvdXRTaGFwZVsyXTtcbiAgfSBlbHNlIGlmIChwYWQgPT09ICdzYW1lJykge1xuICAgIG91dERlcHRoID0gTWF0aC5jZWlsKGluRGVwdGggLyBzdHJpZGVEZXB0aCk7XG4gICAgb3V0SGVpZ2h0ID0gTWF0aC5jZWlsKGluSGVpZ2h0IC8gc3RyaWRlSGVpZ2h0KTtcbiAgICBvdXRXaWR0aCA9IE1hdGguY2VpbChpbldpZHRoIC8gc3RyaWRlV2lkdGgpO1xuICAgIGNvbnN0IHBhZEFsb25nRGVwdGggPSAob3V0RGVwdGggLSAxKSAqIHN0cmlkZURlcHRoICsgZmlsdGVyRGVwdGggLSBpbkRlcHRoO1xuICAgIGNvbnN0IHBhZEFsb25nSGVpZ2h0ID1cbiAgICAgICAgKG91dEhlaWdodCAtIDEpICogc3RyaWRlSGVpZ2h0ICsgZmlsdGVySGVpZ2h0IC0gaW5IZWlnaHQ7XG4gICAgY29uc3QgcGFkQWxvbmdXaWR0aCA9IChvdXRXaWR0aCAtIDEpICogc3RyaWRlV2lkdGggKyBmaWx0ZXJXaWR0aCAtIGluV2lkdGg7XG4gICAgY29uc3QgZnJvbnQgPSBNYXRoLmZsb29yKHBhZEFsb25nRGVwdGggLyAyKTtcbiAgICBjb25zdCBiYWNrID0gcGFkQWxvbmdEZXB0aCAtIGZyb250O1xuICAgIGNvbnN0IHRvcCA9IE1hdGguZmxvb3IocGFkQWxvbmdIZWlnaHQgLyAyKTtcbiAgICBjb25zdCBib3R0b20gPSBwYWRBbG9uZ0hlaWdodCAtIHRvcDtcbiAgICBjb25zdCBsZWZ0ID0gTWF0aC5mbG9vcihwYWRBbG9uZ1dpZHRoIC8gMik7XG4gICAgY29uc3QgcmlnaHQgPSBwYWRBbG9uZ1dpZHRoIC0gbGVmdDtcblxuICAgIHBhZEluZm8gPSB7dG9wLCBib3R0b20sIGxlZnQsIHJpZ2h0LCBmcm9udCwgYmFjaywgdHlwZTogJ1NBTUUnfTtcbiAgfSBlbHNlIGlmIChwYWQgPT09ICd2YWxpZCcpIHtcbiAgICBwYWRJbmZvID0ge1xuICAgICAgdG9wOiAwLFxuICAgICAgYm90dG9tOiAwLFxuICAgICAgbGVmdDogMCxcbiAgICAgIHJpZ2h0OiAwLFxuICAgICAgZnJvbnQ6IDAsXG4gICAgICBiYWNrOiAwLFxuICAgICAgdHlwZTogJ1ZBTElEJ1xuICAgIH07XG4gICAgb3V0RGVwdGggPSBNYXRoLmNlaWwoKGluRGVwdGggLSBmaWx0ZXJEZXB0aCArIDEpIC8gc3RyaWRlRGVwdGgpO1xuICAgIG91dEhlaWdodCA9IE1hdGguY2VpbCgoaW5IZWlnaHQgLSBmaWx0ZXJIZWlnaHQgKyAxKSAvIHN0cmlkZUhlaWdodCk7XG4gICAgb3V0V2lkdGggPSBNYXRoLmNlaWwoKGluV2lkdGggLSBmaWx0ZXJXaWR0aCArIDEpIC8gc3RyaWRlV2lkdGgpO1xuICB9IGVsc2Uge1xuICAgIHRocm93IEVycm9yKGBVbmtub3duIHBhZGRpbmcgcGFyYW1ldGVyOiAke3BhZH1gKTtcbiAgfVxuICByZXR1cm4ge3BhZEluZm8sIG91dERlcHRoLCBvdXRIZWlnaHQsIG91dFdpZHRofTtcbn1cblxuLyoqXG4gKiBSb3VuZHMgYSB2YWx1ZSBkZXBlbmRpbmcgb24gdGhlIHJvdW5kaW5nIG1vZGVcbiAqIEBwYXJhbSB2YWx1ZVxuICogQHBhcmFtIHJvdW5kaW5nTW9kZVxuICovXG5mdW5jdGlvbiBjb25kaXRpb25hbFJvdW5kKFxuICAgIHZhbHVlOiBudW1iZXIsIHJvdW5kaW5nTW9kZT86ICdmbG9vcid8J3JvdW5kJ3wnY2VpbCcpIHtcbiAgaWYgKCFyb3VuZGluZ01vZGUpIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cbiAgc3dpdGNoIChyb3VuZGluZ01vZGUpIHtcbiAgICBjYXNlICdyb3VuZCc6XG4gICAgICAvLyB1c2VkIGZvciBDYWZmZSBDb252XG4gICAgICByZXR1cm4gTWF0aC5yb3VuZCh2YWx1ZSk7XG4gICAgY2FzZSAnY2VpbCc6XG4gICAgICAvLyB1c2VkIGZvciBDYWZmZSBQb29sXG4gICAgICByZXR1cm4gTWF0aC5jZWlsKHZhbHVlKTtcbiAgICBjYXNlICdmbG9vcic6XG4gICAgICByZXR1cm4gTWF0aC5mbG9vcih2YWx1ZSk7XG4gICAgZGVmYXVsdDpcbiAgICAgIHRocm93IG5ldyBFcnJvcihgVW5rbm93biByb3VuZGluZ01vZGUgJHtyb3VuZGluZ01vZGV9YCk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHR1cGxlVmFsdWVzQXJlT25lKHBhcmFtOiBudW1iZXJ8bnVtYmVyW10pOiBib29sZWFuIHtcbiAgY29uc3QgW2RpbUEsIGRpbUIsIGRpbUNdID0gcGFyc2VUdXBsZVBhcmFtKHBhcmFtKTtcbiAgcmV0dXJuIGRpbUEgPT09IDEgJiYgZGltQiA9PT0gMSAmJiBkaW1DID09PSAxO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZWl0aGVyU3RyaWRlc09yRGlsYXRpb25zQXJlT25lKFxuICAgIHN0cmlkZXM6IG51bWJlcnxudW1iZXJbXSwgZGlsYXRpb25zOiBudW1iZXJ8bnVtYmVyW10pOiBib29sZWFuIHtcbiAgcmV0dXJuIHR1cGxlVmFsdWVzQXJlT25lKHN0cmlkZXMpIHx8IHR1cGxlVmFsdWVzQXJlT25lKGRpbGF0aW9ucyk7XG59XG5cbi8qKlxuICogQ29udmVydCBDb252MkQgZGF0YUZvcm1hdCBmcm9tICdOSFdDJ3wnTkNIVycgdG9cbiAqICAgICdjaGFubmVsc0xhc3QnfCdjaGFubmVsc0ZpcnN0J1xuICogQHBhcmFtIGRhdGFGb3JtYXQgaW4gJ05IV0MnfCdOQ0hXJyBtb2RlXG4gKiBAcmV0dXJuIGRhdGFGb3JtYXQgaW4gJ2NoYW5uZWxzTGFzdCd8J2NoYW5uZWxzRmlyc3QnIG1vZGVcbiAqIEB0aHJvd3MgdW5rbm93biBkYXRhRm9ybWF0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb252ZXJ0Q29udjJERGF0YUZvcm1hdChkYXRhRm9ybWF0OiAnTkhXQyd8J05DSFcnKTpcbiAgICAnY2hhbm5lbHNMYXN0J3wnY2hhbm5lbHNGaXJzdCcge1xuICBpZiAoZGF0YUZvcm1hdCA9PT0gJ05IV0MnKSB7XG4gICAgcmV0dXJuICdjaGFubmVsc0xhc3QnO1xuICB9IGVsc2UgaWYgKGRhdGFGb3JtYXQgPT09ICdOQ0hXJykge1xuICAgIHJldHVybiAnY2hhbm5lbHNGaXJzdCc7XG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBVbmtub3duIGRhdGFGb3JtYXQgJHtkYXRhRm9ybWF0fWApO1xuICB9XG59XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbmltcG9ydCB7RU5HSU5FLCBGb3J3YXJkRnVuY30gZnJvbSAnLi4vZW5naW5lJztcbmltcG9ydCB7QXZnUG9vbCwgQXZnUG9vbEF0dHJzLCBBdmdQb29sSW5wdXRzfSBmcm9tICcuLi9rZXJuZWxfbmFtZXMnO1xuaW1wb3J0IHtOYW1lZEF0dHJNYXB9IGZyb20gJy4uL2tlcm5lbF9yZWdpc3RyeSc7XG5pbXBvcnQge1RlbnNvciwgVGVuc29yM0QsIFRlbnNvcjREfSBmcm9tICcuLi90ZW5zb3InO1xuaW1wb3J0IHtOYW1lZFRlbnNvck1hcH0gZnJvbSAnLi4vdGVuc29yX3R5cGVzJztcbmltcG9ydCB7Y29udmVydFRvVGVuc29yfSBmcm9tICcuLi90ZW5zb3JfdXRpbF9lbnYnO1xuaW1wb3J0IHtUZW5zb3JMaWtlfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgKiBhcyB1dGlsIGZyb20gJy4uL3V0aWwnO1xuXG5pbXBvcnQge2Nhc3R9IGZyb20gJy4vY2FzdCc7XG5pbXBvcnQgKiBhcyBjb252X3V0aWwgZnJvbSAnLi9jb252X3V0aWwnO1xuaW1wb3J0IHtvcH0gZnJvbSAnLi9vcGVyYXRpb24nO1xuaW1wb3J0IHtyZXNoYXBlfSBmcm9tICcuL3Jlc2hhcGUnO1xuXG4vKipcbiAqIENvbXB1dGVzIHRoZSAyRCBhdmVyYWdlIHBvb2xpbmcgb2YgYW4gaW1hZ2UuXG4gKlxuICogQHBhcmFtIHggVGhlIGlucHV0IHRlbnNvciwgb2YgcmFuayA0IG9yIHJhbmsgMyBvZiBzaGFwZVxuICogICAgIGBbYmF0Y2gsIGhlaWdodCwgd2lkdGgsIGluQ2hhbm5lbHNdYC4gSWYgcmFuayAzLCBiYXRjaCBvZiAxIGlzIGFzc3VtZWQuXG4gKiBAcGFyYW0gZmlsdGVyU2l6ZSBUaGUgZmlsdGVyIHNpemU6IGBbZmlsdGVySGVpZ2h0LCBmaWx0ZXJXaWR0aF1gLiBJZlxuICogICAgIGBmaWx0ZXJTaXplYCBpcyBhIHNpbmdsZSBudW1iZXIsIHRoZW4gYGZpbHRlckhlaWdodCA9PSBmaWx0ZXJXaWR0aGAuXG4gKiBAcGFyYW0gc3RyaWRlcyBUaGUgc3RyaWRlcyBvZiB0aGUgcG9vbGluZzogYFtzdHJpZGVIZWlnaHQsIHN0cmlkZVdpZHRoXWAuIElmXG4gKiAgICAgYHN0cmlkZXNgIGlzIGEgc2luZ2xlIG51bWJlciwgdGhlbiBgc3RyaWRlSGVpZ2h0ID09IHN0cmlkZVdpZHRoYC5cbiAqIEBwYXJhbSBwYWQgVGhlIHR5cGUgb2YgcGFkZGluZyBhbGdvcml0aG06XG4gKiAgICAtIGBzYW1lYCBhbmQgc3RyaWRlIDE6IG91dHB1dCB3aWxsIGJlIG9mIHNhbWUgc2l6ZSBhcyBpbnB1dCxcbiAqICAgICAgIHJlZ2FyZGxlc3Mgb2YgZmlsdGVyIHNpemUuXG4gKiAgICAtIGB2YWxpZGA6IG91dHB1dCB3aWxsIGJlIHNtYWxsZXIgdGhhbiBpbnB1dCBpZiBmaWx0ZXIgaXMgbGFyZ2VyXG4gKiAgICAgICB0aGFuIDF4MS5cbiAqICAgIC0gRm9yIG1vcmUgaW5mbywgc2VlIHRoaXMgZ3VpZGU6XG4gKiAgICAgW2h0dHBzOi8vd3d3LnRlbnNvcmZsb3cub3JnL2FwaV9ndWlkZXMvcHl0aG9uL25uI0NvbnZvbHV0aW9uXShcbiAqICAgICAgICAgaHR0cHM6Ly93d3cudGVuc29yZmxvdy5vcmcvYXBpX2d1aWRlcy9weXRob24vbm4jQ29udm9sdXRpb24pXG4gKiBAcGFyYW0gZGltUm91bmRpbmdNb2RlIFRoZSByb3VuZGluZyBtb2RlIHVzZWQgd2hlbiBjb21wdXRpbmcgb3V0cHV0XG4gKiAgICAgZGltZW5zaW9ucyBpZiBwYWQgaXMgYSBudW1iZXIuIElmIG5vbmUgaXMgcHJvdmlkZWQsIGl0IHdpbGwgbm90IHJvdW5kXG4gKiAgICAgYW5kIGVycm9yIGlmIHRoZSBvdXRwdXQgaXMgb2YgZnJhY3Rpb25hbCBzaXplLlxuICovXG5mdW5jdGlvbiBhdmdQb29sXzxUIGV4dGVuZHMgVGVuc29yM0R8VGVuc29yNEQ+KFxuICAgIHg6IFR8VGVuc29yTGlrZSwgZmlsdGVyU2l6ZTogW251bWJlciwgbnVtYmVyXXxudW1iZXIsXG4gICAgc3RyaWRlczogW251bWJlciwgbnVtYmVyXXxudW1iZXIsIHBhZDogJ3ZhbGlkJ3wnc2FtZSd8bnVtYmVyLFxuICAgIGRpbVJvdW5kaW5nTW9kZT86ICdmbG9vcid8J3JvdW5kJ3wnY2VpbCcpOiBUIHtcbiAgY29uc3QgJHggPSBjb252ZXJ0VG9UZW5zb3IoeCwgJ3gnLCAnYXZnUG9vbCcsICdmbG9hdDMyJyk7XG4gIGNvbnN0IGRpbGF0aW9ucyA9IDE7XG5cbiAgdXRpbC5hc3NlcnQoXG4gICAgICBjb252X3V0aWwuZWl0aGVyU3RyaWRlc09yRGlsYXRpb25zQXJlT25lKHN0cmlkZXMsIGRpbGF0aW9ucyksXG4gICAgICAoKSA9PiAnRXJyb3IgaW4gYXZnUG9vbDogRWl0aGVyIHN0cmlkZXMgb3IgZGlsYXRpb25zIG11c3QgYmUgMS4gJyArXG4gICAgICAgICAgYEdvdCBzdHJpZGVzICR7c3RyaWRlc30gYW5kIGRpbGF0aW9ucyAnJHtkaWxhdGlvbnN9J2ApO1xuXG4gIGxldCB4NEQgPSAkeCBhcyBUZW5zb3I0RDtcbiAgbGV0IHJlc2hhcGVkVG80RCA9IGZhbHNlO1xuICBpZiAoJHgucmFuayA9PT0gMykge1xuICAgIHJlc2hhcGVkVG80RCA9IHRydWU7XG4gICAgeDREID0gcmVzaGFwZSgkeCwgWzEsICR4LnNoYXBlWzBdLCAkeC5zaGFwZVsxXSwgJHguc2hhcGVbMl1dKTtcbiAgfVxuXG4gIHV0aWwuYXNzZXJ0KFxuICAgICAgeDRELnJhbmsgPT09IDQsXG4gICAgICAoKSA9PiBgRXJyb3IgaW4gYXZnUG9vbDogeCBtdXN0IGJlIHJhbmsgNCBidXQgZ290IHJhbmsgJHt4NEQucmFua30uYCk7XG5cbiAgaWYgKGRpbVJvdW5kaW5nTW9kZSAhPSBudWxsKSB7XG4gICAgdXRpbC5hc3NlcnQoXG4gICAgICAgIHV0aWwuaXNJbnQocGFkIGFzIG51bWJlciksXG4gICAgICAgICgpID0+IGBFcnJvciBpbiBhdmdQb29sOiBwYWQgbXVzdCBiZSBhbiBpbnRlZ2VyIHdoZW4gdXNpbmcsIGAgK1xuICAgICAgICAgICAgYGRpbVJvdW5kaW5nTW9kZSAke2RpbVJvdW5kaW5nTW9kZX0gYnV0IGdvdCBwYWQgJHtwYWR9LmApO1xuICB9XG5cbiAgY29uc3QgZm9yd2FyZDogRm9yd2FyZEZ1bmM8VGVuc29yPiA9IChiYWNrZW5kLCBzYXZlKSA9PiB7XG4gICAgY29uc3QgY29udkluZm8gPSBjb252X3V0aWwuY29tcHV0ZVBvb2wyREluZm8oXG4gICAgICAgIHg0RC5zaGFwZSwgZmlsdGVyU2l6ZSwgc3RyaWRlcywgMSAvKiBkaWxhdGlvbnMgKi8sIHBhZCxcbiAgICAgICAgZGltUm91bmRpbmdNb2RlKTtcblxuICAgIHNhdmUoW3g0RF0pO1xuXG4gICAgaWYgKGNvbnZJbmZvLmZpbHRlcldpZHRoID09PSAxICYmIGNvbnZJbmZvLmZpbHRlckhlaWdodCA9PT0gMSAmJlxuICAgICAgICB1dGlsLmFycmF5c0VxdWFsKGNvbnZJbmZvLmluU2hhcGUsIGNvbnZJbmZvLm91dFNoYXBlKSkge1xuICAgICAgcmV0dXJuIHg0RC5jbG9uZSgpO1xuICAgIH1cblxuICAgIHJldHVybiBiYWNrZW5kLmF2Z1Bvb2woeDRELCBjb252SW5mbyk7XG4gIH07XG5cbiAgY29uc3QgaW5wdXRzOiBBdmdQb29sSW5wdXRzID0ge3g6IHg0RH07XG5cbiAgY29uc3QgYXR0cnM6IEF2Z1Bvb2xBdHRycyA9IHtmaWx0ZXJTaXplLCBzdHJpZGVzLCBwYWQsIGRpbVJvdW5kaW5nTW9kZX07XG5cbiAgbGV0IHJlcyA9IEVOR0lORS5ydW5LZXJuZWxGdW5jKFxuICAgICAgZm9yd2FyZCwgaW5wdXRzIGFzIHt9IGFzIE5hbWVkVGVuc29yTWFwLCBudWxsIC8qIGdyYWQgKi8sIEF2Z1Bvb2wsXG4gICAgICBhdHRycyBhcyB7fSBhcyBOYW1lZEF0dHJNYXApO1xuXG4gIHJlcyA9IGNhc3QocmVzLCAkeC5kdHlwZSk7XG5cbiAgaWYgKHJlc2hhcGVkVG80RCkge1xuICAgIHJldHVybiByZXNoYXBlKHJlcywgW3Jlcy5zaGFwZVsxXSwgcmVzLnNoYXBlWzJdLCByZXMuc2hhcGVbM11dKSBhcyBUO1xuICB9XG5cbiAgcmV0dXJuIHJlcyBhcyBUO1xufVxuXG5leHBvcnQgY29uc3QgYXZnUG9vbCA9IG9wKHthdmdQb29sX30pO1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG5pbXBvcnQge0VOR0lORSwgRm9yd2FyZEZ1bmN9IGZyb20gJy4uL2VuZ2luZSc7XG5pbXBvcnQge2RlcHJlY2F0aW9uV2Fybn0gZnJvbSAnLi4vZ2xvYmFscyc7XG5pbXBvcnQge0F2Z1Bvb2wzRCwgQXZnUG9vbDNEQXR0cnMsIEF2Z1Bvb2wzRElucHV0c30gZnJvbSAnLi4va2VybmVsX25hbWVzJztcbmltcG9ydCB7TmFtZWRBdHRyTWFwfSBmcm9tICcuLi9rZXJuZWxfcmVnaXN0cnknO1xuaW1wb3J0IHtUZW5zb3IsIFRlbnNvcjRELCBUZW5zb3I1RH0gZnJvbSAnLi4vdGVuc29yJztcbmltcG9ydCB7TmFtZWRUZW5zb3JNYXB9IGZyb20gJy4uL3RlbnNvcl90eXBlcyc7XG5pbXBvcnQge2NvbnZlcnRUb1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yX3V0aWxfZW52JztcbmltcG9ydCB7VGVuc29yTGlrZX0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0ICogYXMgdXRpbCBmcm9tICcuLi91dGlsJztcblxuaW1wb3J0IHtjYXN0fSBmcm9tICcuL2Nhc3QnO1xuaW1wb3J0ICogYXMgY29udl91dGlsIGZyb20gJy4vY29udl91dGlsJztcbmltcG9ydCB7b3B9IGZyb20gJy4vb3BlcmF0aW9uJztcbmltcG9ydCB7cmVzaGFwZX0gZnJvbSAnLi9yZXNoYXBlJztcblxuLyoqXG4gKiBDb21wdXRlcyB0aGUgM0QgYXZlcmFnZSBwb29saW5nLlxuICpcbiAqIGBgYGpzXG4gKiBjb25zdCB4ID0gdGYudGVuc29yNWQoWzEsIDIsIDMsIDQsIDUsIDYsIDcsIDhdLCBbMSwgMiwgMiwgMiwgMV0pO1xuICogY29uc3QgcmVzdWx0ID0gdGYuYXZnUG9vbDNkKHgsIDIsIDEsICd2YWxpZCcpO1xuICogcmVzdWx0LnByaW50KCk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0geCBUaGUgaW5wdXQgdGVuc29yLCBvZiByYW5rIDUgb3IgcmFuayA0IG9mIHNoYXBlXG4gKiAgICAgYFtiYXRjaCwgZGVwdGgsIGhlaWdodCwgd2lkdGgsIGluQ2hhbm5lbHNdYC5cbiAqIEBwYXJhbSBmaWx0ZXJTaXplIFRoZSBmaWx0ZXIgc2l6ZTpcbiAqICAgICBgW2ZpbHRlckRlcHRoLCBmaWx0ZXJIZWlnaHQsIGZpbHRlcldpZHRoXWAuXG4gKiAgICAgSWYgYGZpbHRlclNpemVgIGlzIGEgc2luZ2xlIG51bWJlcixcbiAqICAgICB0aGVuIGBmaWx0ZXJEZXB0aCA9PSBmaWx0ZXJIZWlnaHQgPT0gZmlsdGVyV2lkdGhgLlxuICogQHBhcmFtIHN0cmlkZXMgVGhlIHN0cmlkZXMgb2YgdGhlIHBvb2xpbmc6XG4gKiAgICAgYFtzdHJpZGVEZXB0aCwgc3RyaWRlSGVpZ2h0LCBzdHJpZGVXaWR0aF1gLlxuICogICAgIElmIGBzdHJpZGVzYCBpcyBhIHNpbmdsZSBudW1iZXIsXG4gKiAgICAgdGhlbiBgc3RyaWRlRGVwdGggPT0gc3RyaWRlSGVpZ2h0ID09IHN0cmlkZVdpZHRoYC5cbiAqIEBwYXJhbSBwYWQgVGhlIHR5cGUgb2YgcGFkZGluZyBhbGdvcml0aG0uXG4gKiAgICAtIGBzYW1lYCBhbmQgc3RyaWRlIDE6IG91dHB1dCB3aWxsIGJlIG9mIHNhbWUgc2l6ZSBhcyBpbnB1dCxcbiAqICAgICAgIHJlZ2FyZGxlc3Mgb2YgZmlsdGVyIHNpemUuXG4gKiAgICAtIGB2YWxpZGA6IG91dHB1dCB3aWxsIGJlIHNtYWxsZXIgdGhhbiBpbnB1dCBpZiBmaWx0ZXIgaXMgbGFyZ2VyXG4gKiAgICAgICB0aGFuIDEqMXgxLlxuICogICAgLSBGb3IgbW9yZSBpbmZvLCBzZWUgdGhpcyBndWlkZTpcbiAqICAgICBbaHR0cHM6Ly93d3cudGVuc29yZmxvdy5vcmcvYXBpX2d1aWRlcy9weXRob24vbm4jQ29udm9sdXRpb25dKFxuICogICAgICAgICAgaHR0cHM6Ly93d3cudGVuc29yZmxvdy5vcmcvYXBpX2d1aWRlcy9weXRob24vbm4jQ29udm9sdXRpb24pXG4gKiBAcGFyYW0gZGltUm91bmRpbmdNb2RlIFRoZSByb3VuZGluZyBtb2RlIHVzZWQgd2hlbiBjb21wdXRpbmcgb3V0cHV0XG4gKiAgICAgZGltZW5zaW9ucyBpZiBwYWQgaXMgYSBudW1iZXIuIElmIG5vbmUgaXMgcHJvdmlkZWQsIGl0IHdpbGwgbm90IHJvdW5kXG4gKiAgICAgYW5kIGVycm9yIGlmIHRoZSBvdXRwdXQgaXMgb2YgZnJhY3Rpb25hbCBzaXplLlxuICogQHBhcmFtIGRhdGFGb3JtYXQgQW4gb3B0aW9uYWwgc3RyaW5nIGZyb206IFwiTkRIV0NcIiwgXCJOQ0RIV1wiLiBEZWZhdWx0cyB0b1xuICogICAgIFwiTkRIV0NcIi4gU3BlY2lmeSB0aGUgZGF0YSBmb3JtYXQgb2YgdGhlIGlucHV0IGFuZCBvdXRwdXQgZGF0YS4gV2l0aCB0aGVcbiAqICAgICBkZWZhdWx0IGZvcm1hdCBcIk5ESFdDXCIsIHRoZSBkYXRhIGlzIHN0b3JlZCBpbiB0aGUgb3JkZXIgb2Y6IFtiYXRjaCxcbiAqICAgICBkZXB0aCwgaGVpZ2h0LCB3aWR0aCwgY2hhbm5lbHNdLiBPbmx5IFwiTkRIV0NcIiBpcyBjdXJyZW50bHkgc3VwcG9ydGVkLlxuICogQHBhcmFtIGRpbGF0aW9ucyBEZXByZWNhdGVkLCB0aGlzIGZpZWxkIHdpbGwgYmUgZ29uZSBpbiB2My4wLjAuXG4gKiAgICAgVGhlIGRpbGF0aW9uIHJhdGVzOlxuICogICAgIGBbZGlsYXRpb25EZXB0aCwgZGlsYXRpb25IZWlnaHQsIGRpbGF0aW9uV2lkdGhdYFxuICogICAgIGluIHdoaWNoIHdlIHNhbXBsZSBpbnB1dCB2YWx1ZXMgYWNyb3NzIHRoZSBkZXB0aCwgaGVpZ2h0IGFuZCB3aWR0aFxuICogICAgIGRpbWVuc2lvbnMgaW4gZGlsYXRlZCBwb29saW5nLlxuICogICAgIERlZmF1bHRzIHRvIGBbMSwgMSwgMV1gLiBJZiBgZGlsYXRpb25zYCBpcyBhIHNpbmdsZSBudW1iZXIsXG4gKiAgICAgdGhlbiBgZGlsYXRpb25EZXB0aCA9PSBkaWxhdGlvbkhlaWdodCA9PSBkaWxhdGlvbldpZHRoYC5cbiAqICAgICBJZiBpdCBpcyBncmVhdGVyIHRoYW4gMSwgdGhlbiBhbGwgdmFsdWVzIG9mIGBzdHJpZGVzYCBtdXN0IGJlIDEuXG4gKlxuICogQGRvYyB7aGVhZGluZzogJ09wZXJhdGlvbnMnLCBzdWJoZWFkaW5nOiAnQ29udm9sdXRpb24nfVxuICovXG5mdW5jdGlvbiBhdmdQb29sM2RfPFQgZXh0ZW5kcyBUZW5zb3I0RHxUZW5zb3I1RD4oXG4gICAgeDogVHxUZW5zb3JMaWtlLCBmaWx0ZXJTaXplOiBbbnVtYmVyLCBudW1iZXIsIG51bWJlcl18bnVtYmVyLFxuICAgIHN0cmlkZXM6IFtudW1iZXIsIG51bWJlciwgbnVtYmVyXXxudW1iZXIsIHBhZDogJ3ZhbGlkJ3wnc2FtZSd8bnVtYmVyLFxuICAgIGRpbVJvdW5kaW5nTW9kZT86ICdmbG9vcid8J3JvdW5kJ3wnY2VpbCcsXG4gICAgZGF0YUZvcm1hdDogJ05ESFdDJ3wnTkNESFcnID0gJ05ESFdDJyxcbiAgICBkaWxhdGlvbnM/OiBbbnVtYmVyLCBudW1iZXIsIG51bWJlcl18bnVtYmVyKTogVCB7XG4gIGlmIChkaWxhdGlvbnMgPT0gbnVsbCkge1xuICAgIGRpbGF0aW9ucyA9IFsxLCAxLCAxXTtcbiAgfSBlbHNlIHtcbiAgICBkZXByZWNhdGlvbldhcm4oXG4gICAgICAgICdkaWxhdGlvbnMgaXMgZGVwcmVjYXRlZCwgdGhpcyBmaWVsZCB3aWxsIGJlIGdvbmUgaW4gJyArXG4gICAgICAgICd2My4wLjAuJyk7XG4gIH1cblxuICBjb25zdCAkeCA9IGNvbnZlcnRUb1RlbnNvcih4LCAneCcsICdhdmdQb29sM2QnLCAnZmxvYXQzMicpO1xuXG4gIGxldCB4NUQgPSAkeCBhcyBUZW5zb3I1RDtcbiAgbGV0IHJlc2hhcGVkVG81RCA9IGZhbHNlO1xuICBpZiAoJHgucmFuayA9PT0gNCkge1xuICAgIHJlc2hhcGVkVG81RCA9IHRydWU7XG4gICAgeDVEID0gcmVzaGFwZSgkeCwgWzEsICR4LnNoYXBlWzBdLCAkeC5zaGFwZVsxXSwgJHguc2hhcGVbMl0sICR4LnNoYXBlWzNdXSk7XG4gIH1cblxuICB1dGlsLmFzc2VydChcbiAgICAgIHg1RC5yYW5rID09PSA1LFxuICAgICAgKCkgPT4gYEVycm9yIGluIGF2Z1Bvb2wzZDogeCBtdXN0IGJlIHJhbmsgNSBidXQgZ290IHJhbmsgJHt4NUQucmFua30uYCk7XG4gIHV0aWwuYXNzZXJ0KFxuICAgICAgZGF0YUZvcm1hdCA9PT0gJ05ESFdDJyxcbiAgICAgICgpID0+IGBFcnJvciBpbiBhdmdQb29sM2Q6IE9ubHkgTkRIV0MgaXMgY3VycmVudGx5IHN1cHBvcnRlZCwgYCArXG4gICAgICAgICAgYGJ1dCBnb3QgZGF0YUZvcm1hdCBvZiAke2RhdGFGb3JtYXR9YCk7XG4gIHV0aWwuYXNzZXJ0KFxuICAgICAgY29udl91dGlsLmVpdGhlclN0cmlkZXNPckRpbGF0aW9uc0FyZU9uZShzdHJpZGVzLCBkaWxhdGlvbnMpLFxuICAgICAgKCkgPT4gJ0Vycm9yIGluIGF2Z1Bvb2wzZDogRWl0aGVyIHN0cmlkZXMgb3IgZGlsYXRpb25zIG11c3QgYmUgMS4gJyArXG4gICAgICAgICAgYEdvdCBzdHJpZGVzICR7c3RyaWRlc30gYW5kIGRpbGF0aW9ucyAnJHtkaWxhdGlvbnN9J2ApO1xuXG4gIGlmIChkaW1Sb3VuZGluZ01vZGUgIT0gbnVsbCkge1xuICAgIHV0aWwuYXNzZXJ0KFxuICAgICAgICB1dGlsLmlzSW50KHBhZCBhcyBudW1iZXIpLFxuICAgICAgICAoKSA9PiBgRXJyb3IgaW4gYXZnUG9vbDNkOiBwYWQgbXVzdCBiZSBhbiBpbnRlZ2VyIHdoZW4gdXNpbmcsIGAgK1xuICAgICAgICAgICAgYGRpbVJvdW5kaW5nTW9kZSAke2RpbVJvdW5kaW5nTW9kZX0gYnV0IGdvdCBwYWQgJHtwYWR9LmApO1xuICB9XG5cbiAgY29uc3QgZm9yd2FyZDogRm9yd2FyZEZ1bmM8VGVuc29yPiA9IChiYWNrZW5kLCBzYXZlKSA9PiB7XG4gICAgaWYgKGRpbGF0aW9ucyA9PSBudWxsKSB7XG4gICAgICBkaWxhdGlvbnMgPSBbMSwgMSwgMV07XG4gICAgfVxuXG4gICAgY29uc3QgY29udkluZm8gPSBjb252X3V0aWwuY29tcHV0ZVBvb2wzREluZm8oXG4gICAgICAgIHg1RC5zaGFwZSwgZmlsdGVyU2l6ZSwgc3RyaWRlcywgZGlsYXRpb25zLCBwYWQsIGRpbVJvdW5kaW5nTW9kZSxcbiAgICAgICAgZGF0YUZvcm1hdCk7XG5cbiAgICBzYXZlKFt4NURdKTtcblxuICAgIHJldHVybiBiYWNrZW5kLmF2Z1Bvb2wzZCh4NUQsIGNvbnZJbmZvKTtcbiAgfTtcblxuICBjb25zdCBpbnB1dHM6IEF2Z1Bvb2wzRElucHV0cyA9IHt4OiB4NUR9O1xuXG4gIGNvbnN0IGF0dHJzOiBBdmdQb29sM0RBdHRycyA9XG4gICAgICB7ZmlsdGVyU2l6ZSwgc3RyaWRlcywgcGFkLCBkaW1Sb3VuZGluZ01vZGUsIGRhdGFGb3JtYXQsIGRpbGF0aW9uc307XG5cbiAgbGV0IHJlcyA9IEVOR0lORS5ydW5LZXJuZWxGdW5jKFxuICAgICAgZm9yd2FyZCwgaW5wdXRzIGFzIHt9IGFzIE5hbWVkVGVuc29yTWFwLCBudWxsIC8qIGdyYWQgKi8sIEF2Z1Bvb2wzRCxcbiAgICAgIGF0dHJzIGFzIHt9IGFzIE5hbWVkQXR0ck1hcCk7XG5cbiAgcmVzID0gY2FzdChyZXMsIHg1RC5kdHlwZSk7XG5cbiAgaWYgKHJlc2hhcGVkVG81RCkge1xuICAgIHJldHVybiByZXNoYXBlKFxuICAgICAgICAgICAgICAgcmVzLCBbcmVzLnNoYXBlWzFdLCByZXMuc2hhcGVbMl0sIHJlcy5zaGFwZVszXSwgcmVzLnNoYXBlWzRdXSkgYXNcbiAgICAgICAgVDtcbiAgfVxuXG4gIHJldHVybiByZXMgYXMgVDtcbn1cblxuZXhwb3J0IGNvbnN0IGF2Z1Bvb2wzZCA9IG9wKHthdmdQb29sM2RffSk7XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbmltcG9ydCAqIGFzIHV0aWwgZnJvbSAnLi4vdXRpbCc7XG5cbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnRQYXJhbXNDb25zaXN0ZW50KHNoYXBlczogbnVtYmVyW11bXSwgYXhpczogbnVtYmVyKSB7XG4gIGNvbnN0IHJhbmsgPSBzaGFwZXNbMF0ubGVuZ3RoO1xuICBzaGFwZXMuZm9yRWFjaCgoc2hhcGUsIGkpID0+IHtcbiAgICB1dGlsLmFzc2VydChcbiAgICAgICAgc2hhcGUubGVuZ3RoID09PSByYW5rLFxuICAgICAgICAoKSA9PlxuICAgICAgICAgICAgYEVycm9yIGluIGNvbmNhdCR7cmFua31EOiByYW5rIG9mIHRlbnNvcnNbJHtpfV0gbXVzdCBiZSB0aGUgc2FtZSBgICtcbiAgICAgICAgICAgIGBhcyB0aGUgcmFuayBvZiB0aGUgcmVzdCAoJHtyYW5rfSlgKTtcbiAgfSk7XG5cbiAgdXRpbC5hc3NlcnQoXG4gICAgICBheGlzID49IDAgJiYgYXhpcyA8IHJhbmssXG4gICAgICAoKSA9PiBgRXJyb3IgaW4gY29uY2F0JHtyYW5rfUQ6IGF4aXMgbXVzdCBiZSBiZXR3ZWVuIDAgYW5kICR7cmFuayAtIDF9LmApO1xuXG4gIGNvbnN0IGZpcnN0U2hhcGUgPSBzaGFwZXNbMF07XG4gIHNoYXBlcy5mb3JFYWNoKChzaGFwZSwgaSkgPT4ge1xuICAgIGZvciAobGV0IHIgPSAwOyByIDwgcmFuazsgcisrKSB7XG4gICAgICB1dGlsLmFzc2VydChcbiAgICAgICAgICAociA9PT0gYXhpcykgfHwgKHNoYXBlW3JdID09PSBmaXJzdFNoYXBlW3JdKSxcbiAgICAgICAgICAoKSA9PiBgRXJyb3IgaW4gY29uY2F0JHtyYW5rfUQ6IFNoYXBlIG9mIHRlbnNvcnNbJHtpfV0gKCR7c2hhcGV9KSBgICtcbiAgICAgICAgICAgICAgYGRvZXMgbm90IG1hdGNoIHRoZSBzaGFwZSBvZiB0aGUgcmVzdCAoJHtmaXJzdFNoYXBlfSkgYCArXG4gICAgICAgICAgICAgIGBhbG9uZyB0aGUgbm9uLWNvbmNhdGVuYXRlZCBheGlzICR7aX0uYCk7XG4gICAgfVxuICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbXB1dGVPdXRTaGFwZShzaGFwZXM6IG51bWJlcltdW10sIGF4aXM6IG51bWJlcik6IG51bWJlcltdIHtcbiAgY29uc3Qgb3V0cHV0U2hhcGUgPSBzaGFwZXNbMF0uc2xpY2UoKTtcbiAgZm9yIChsZXQgaSA9IDE7IGkgPCBzaGFwZXMubGVuZ3RoOyBpKyspIHtcbiAgICBvdXRwdXRTaGFwZVtheGlzXSArPSBzaGFwZXNbaV1bYXhpc107XG4gIH1cbiAgcmV0dXJuIG91dHB1dFNoYXBlO1xufVxuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuaW1wb3J0IHtFTkdJTkUsIEZvcndhcmRGdW5jfSBmcm9tICcuLi9lbmdpbmUnO1xuaW1wb3J0IHtDb25jYXQsIENvbmNhdEF0dHJzLCBDb25jYXRJbnB1dHN9IGZyb20gJy4uL2tlcm5lbF9uYW1lcyc7XG5pbXBvcnQge05hbWVkQXR0ck1hcH0gZnJvbSAnLi4va2VybmVsX3JlZ2lzdHJ5JztcbmltcG9ydCB7VGVuc29yfSBmcm9tICcuLi90ZW5zb3InO1xuaW1wb3J0IHtOYW1lZFRlbnNvck1hcH0gZnJvbSAnLi4vdGVuc29yX3R5cGVzJztcbmltcG9ydCB7Y29udmVydFRvVGVuc29yQXJyYXl9IGZyb20gJy4uL3RlbnNvcl91dGlsX2Vudic7XG5pbXBvcnQge1RlbnNvckxpa2V9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7YXNzZXJ0LCBwYXJzZUF4aXNQYXJhbSwgc2l6ZUZyb21TaGFwZX0gZnJvbSAnLi4vdXRpbCc7XG5cbmltcG9ydCB7YXNzZXJ0UGFyYW1zQ29uc2lzdGVudCwgY29tcHV0ZU91dFNoYXBlfSBmcm9tICcuL2NvbmNhdF91dGlsJztcbmltcG9ydCB7b3B9IGZyb20gJy4vb3BlcmF0aW9uJztcbmltcG9ydCB7dGVuc29yfSBmcm9tICcuL3RlbnNvcic7XG5cbi8qKlxuICogQ29uY2F0ZW5hdGVzIGEgbGlzdCBvZiBgdGYuVGVuc29yYHMgYWxvbmcgYSBnaXZlbiBheGlzLlxuICpcbiAqIFRoZSB0ZW5zb3JzIHJhbmtzIGFuZCB0eXBlcyBtdXN0IG1hdGNoLCBhbmQgdGhlaXIgc2l6ZXMgbXVzdCBtYXRjaCBpbiBhbGxcbiAqIGRpbWVuc2lvbnMgZXhjZXB0IGBheGlzYC5cbiAqXG4gKiBBbHNvIGF2YWlsYWJsZSBhcmUgc3RyaWN0ZXIgcmFuay1zcGVjaWZpYyBtZXRob2RzIHRoYXQgYXNzZXJ0IHRoYXRcbiAqIGB0ZW5zb3JzYCBhcmUgb2YgdGhlIGdpdmVuIHJhbms6XG4gKiAgIC0gYHRmLmNvbmNhdDFkYFxuICogICAtIGB0Zi5jb25jYXQyZGBcbiAqICAgLSBgdGYuY29uY2F0M2RgXG4gKiAgIC0gYHRmLmNvbmNhdDRkYFxuICpcbiAqIEV4Y2VwdCBgdGYuY29uY2F0MWRgICh3aGljaCBkb2VzIG5vdCBoYXZlIGF4aXMgcGFyYW0pLCBhbGwgbWV0aG9kcyBoYXZlXG4gKiBzYW1lIHNpZ25hdHVyZSBhcyB0aGlzIG1ldGhvZC5cbiAqXG4gKiBgYGBqc1xuICogY29uc3QgYSA9IHRmLnRlbnNvcjFkKFsxLCAyXSk7XG4gKiBjb25zdCBiID0gdGYudGVuc29yMWQoWzMsIDRdKTtcbiAqIGEuY29uY2F0KGIpLnByaW50KCk7ICAvLyBvciBhLmNvbmNhdChiKVxuICogYGBgXG4gKlxuICogYGBganNcbiAqIGNvbnN0IGEgPSB0Zi50ZW5zb3IxZChbMSwgMl0pO1xuICogY29uc3QgYiA9IHRmLnRlbnNvcjFkKFszLCA0XSk7XG4gKiBjb25zdCBjID0gdGYudGVuc29yMWQoWzUsIDZdKTtcbiAqIHRmLmNvbmNhdChbYSwgYiwgY10pLnByaW50KCk7XG4gKiBgYGBcbiAqXG4gKiBgYGBqc1xuICogY29uc3QgYSA9IHRmLnRlbnNvcjJkKFtbMSwgMl0sIFsxMCwgMjBdXSk7XG4gKiBjb25zdCBiID0gdGYudGVuc29yMmQoW1szLCA0XSwgWzMwLCA0MF1dKTtcbiAqIGNvbnN0IGF4aXMgPSAxO1xuICogdGYuY29uY2F0KFthLCBiXSwgYXhpcykucHJpbnQoKTtcbiAqIGBgYFxuICogQHBhcmFtIHRlbnNvcnMgQSBsaXN0IG9mIHRlbnNvcnMgdG8gY29uY2F0ZW5hdGUuXG4gKiBAcGFyYW0gYXhpcyBUaGUgYXhpcyB0byBjb25jYXRlIGFsb25nLiBEZWZhdWx0cyB0byAwICh0aGUgZmlyc3QgZGltKS5cbiAqXG4gKiBAZG9jIHtoZWFkaW5nOiAnVGVuc29ycycsIHN1YmhlYWRpbmc6ICdTbGljaW5nIGFuZCBKb2luaW5nJ31cbiAqL1xuZnVuY3Rpb24gY29uY2F0XzxUIGV4dGVuZHMgVGVuc29yPih0ZW5zb3JzOiBBcnJheTxUfFRlbnNvckxpa2U+LCBheGlzID0gMCk6IFQge1xuICBhc3NlcnQodGVuc29ycy5sZW5ndGggPj0gMSwgKCkgPT4gJ1Bhc3MgYXQgbGVhc3Qgb25lIHRlbnNvciB0byBjb25jYXQnKTtcblxuICBsZXQgJHRlbnNvcnMgPSBjb252ZXJ0VG9UZW5zb3JBcnJheSh0ZW5zb3JzLCAndGVuc29ycycsICdjb25jYXQnKTtcblxuICBpZiAoJHRlbnNvcnNbMF0uZHR5cGUgPT09ICdjb21wbGV4NjQnKSB7XG4gICAgJHRlbnNvcnMuZm9yRWFjaCh0ZW5zb3IgPT4ge1xuICAgICAgaWYgKHRlbnNvci5kdHlwZSAhPT0gJ2NvbXBsZXg2NCcpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDYW5ub3QgY29uY2F0ZW5hdGUgY29tcGxleDY0IHRlbnNvcnMgd2l0aCBhIHRlbnNvclxuICAgICAgICAgIHdpdGggZHR5cGUgJHt0ZW5zb3IuZHR5cGV9LiBgKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGNvbnN0IGZvcndhcmQ6IEZvcndhcmRGdW5jPFRlbnNvcj4gPSAoYmFja2VuZCwgc2F2ZSkgPT4ge1xuICAgIGNvbnN0ICRheGlzID0gcGFyc2VBeGlzUGFyYW0oYXhpcywgJHRlbnNvcnNbMF0uc2hhcGUpWzBdO1xuICAgIGNvbnN0IG91dFNoYXBlID0gY29tcHV0ZU91dFNoYXBlKCR0ZW5zb3JzLm1hcCh0ID0+IHQuc2hhcGUpLCAkYXhpcyk7XG4gICAgaWYgKHNpemVGcm9tU2hhcGUob3V0U2hhcGUpID09PSAwKSB7XG4gICAgICByZXR1cm4gdGVuc29yKFtdLCBvdXRTaGFwZSkgYXMgVDtcbiAgICB9XG4gICAgLy8gS2VlcCBvbmx5IG5vbi1lbXB0eSB0ZW5zb3JzIChpZ25vcmUgdGVuc29ycyB3aXRoIDAgaW4gdGhlaXIgc2hhcGUpLlxuICAgICR0ZW5zb3JzID0gJHRlbnNvcnMuZmlsdGVyKHQgPT4gdC5zaXplID4gMCk7XG4gICAgaWYgKCR0ZW5zb3JzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgcmV0dXJuICR0ZW5zb3JzWzBdO1xuICAgIH1cblxuICAgIGNvbnN0IHNoYXBlcyA9ICR0ZW5zb3JzLm1hcCh0ID0+IHQuc2hhcGUpO1xuICAgIGFzc2VydFBhcmFtc0NvbnNpc3RlbnQoc2hhcGVzLCAkYXhpcyk7XG5cbiAgICBjb25zdCByZXMgPSBiYWNrZW5kLmNvbmNhdCgkdGVuc29ycywgJGF4aXMpO1xuICAgIHNhdmUoJHRlbnNvcnMpO1xuICAgIHJldHVybiByZXM7XG4gIH07XG5cbiAgY29uc3QgaW5wdXRzOiBDb25jYXRJbnB1dHMgPSAkdGVuc29ycztcbiAgY29uc3QgYXR0cjogQ29uY2F0QXR0cnMgPSB7YXhpc307XG5cbiAgcmV0dXJuIEVOR0lORS5ydW5LZXJuZWxGdW5jKFxuICAgICAgICAgICAgIGZvcndhcmQsIGlucHV0cyBhcyB7fSBhcyBOYW1lZFRlbnNvck1hcCwgbnVsbCAvKiBncmFkICovLCBDb25jYXQsXG4gICAgICAgICAgICAgYXR0ciBhcyB7fSBhcyBOYW1lZEF0dHJNYXApIGFzIFQ7XG59XG5cbmV4cG9ydCBjb25zdCBjb25jYXQgPSBvcCh7Y29uY2F0X30pO1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTggR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG5pbXBvcnQge0VOR0lORX0gZnJvbSAnLi4vZW5naW5lJztcbmltcG9ydCB7U2lnbW9pZCwgU2lnbW9pZElucHV0c30gZnJvbSAnLi4va2VybmVsX25hbWVzJztcbmltcG9ydCB7VGVuc29yfSBmcm9tICcuLi90ZW5zb3InO1xuaW1wb3J0IHtOYW1lZFRlbnNvck1hcH0gZnJvbSAnLi4vdGVuc29yX3R5cGVzJztcbmltcG9ydCB7Y29udmVydFRvVGVuc29yfSBmcm9tICcuLi90ZW5zb3JfdXRpbF9lbnYnO1xuaW1wb3J0IHtUZW5zb3JMaWtlfSBmcm9tICcuLi90eXBlcyc7XG5cbmltcG9ydCB7b3B9IGZyb20gJy4vb3BlcmF0aW9uJztcblxuLyoqXG4gKiBDb21wdXRlcyBzaWdtb2lkIGVsZW1lbnQtd2lzZSwgYDEgLyAoMSArIGV4cCgteCkpYFxuICpcbiAqIGBgYGpzXG4gKiBjb25zdCB4ID0gdGYudGVuc29yMWQoWzAsIC0xLCAyLCAtM10pO1xuICpcbiAqIHguc2lnbW9pZCgpLnByaW50KCk7ICAvLyBvciB0Zi5zaWdtb2lkKHgpXG4gKiBgYGBcbiAqIEBwYXJhbSB4IFRoZSBpbnB1dCB0ZW5zb3IuXG4gKlxuICogQGRvYyB7aGVhZGluZzogJ09wZXJhdGlvbnMnLCBzdWJoZWFkaW5nOiAnQmFzaWMgbWF0aCd9XG4gKi9cbmZ1bmN0aW9uIHNpZ21vaWRfPFQgZXh0ZW5kcyBUZW5zb3I+KHg6IFR8VGVuc29yTGlrZSk6IFQge1xuICBjb25zdCAkeCA9IGNvbnZlcnRUb1RlbnNvcih4LCAneCcsICdzaWdtb2lkJyk7XG5cbiAgY29uc3QgaW5wdXRzOiBTaWdtb2lkSW5wdXRzID0ge3g6ICR4fTtcblxuICByZXR1cm4gRU5HSU5FLnJ1bktlcm5lbEZ1bmMoKGJhY2tlbmQsIHNhdmUpID0+IHtcbiAgICBjb25zdCByZXMgPSBiYWNrZW5kLnNpZ21vaWQoJHgpO1xuICAgIHNhdmUoW3Jlc10pO1xuICAgIHJldHVybiByZXM7XG4gIH0sIGlucHV0cyBhcyB7fSBhcyBOYW1lZFRlbnNvck1hcCwgbnVsbCAvKiBncmFkICovLCBTaWdtb2lkKTtcbn1cbmV4cG9ydCBjb25zdCBzaWdtb2lkID0gb3Aoe3NpZ21vaWRffSk7XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbmltcG9ydCB7RU5HSU5FLCBGb3J3YXJkRnVuY30gZnJvbSAnLi4vZW5naW5lJztcbmltcG9ydCB7U2xpY2UsIFNsaWNlQXR0cnMsIFNsaWNlSW5wdXRzfSBmcm9tICcuLi9rZXJuZWxfbmFtZXMnO1xuaW1wb3J0IHtOYW1lZEF0dHJNYXB9IGZyb20gJy4uL2tlcm5lbF9yZWdpc3RyeSc7XG5pbXBvcnQge1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yJztcbmltcG9ydCB7TmFtZWRUZW5zb3JNYXB9IGZyb20gJy4uL3RlbnNvcl90eXBlcyc7XG5pbXBvcnQge2NvbnZlcnRUb1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yX3V0aWxfZW52JztcbmltcG9ydCB7UmFuaywgVGVuc29yTGlrZX0gZnJvbSAnLi4vdHlwZXMnO1xuXG5pbXBvcnQge29wfSBmcm9tICcuL29wZXJhdGlvbic7XG5pbXBvcnQgKiBhcyBzbGljZV91dGlsIGZyb20gJy4vc2xpY2VfdXRpbCc7XG5cbi8qKlxuICogRXh0cmFjdHMgYSBzbGljZSBmcm9tIGEgYHRmLlRlbnNvcmAgc3RhcnRpbmcgYXQgY29vcmRpbmF0ZXMgYGJlZ2luYFxuICogYW5kIGlzIG9mIHNpemUgYHNpemVgLlxuICpcbiAqIEFsc28gYXZhaWxhYmxlIGFyZSBzdHJpY3RlciByYW5rLXNwZWNpZmljIG1ldGhvZHMgd2l0aCB0aGUgc2FtZSBzaWduYXR1cmVcbiAqIGFzIHRoaXMgbWV0aG9kIHRoYXQgYXNzZXJ0IHRoYXQgYHhgIGlzIG9mIHRoZSBnaXZlbiByYW5rOlxuICogICAtIGB0Zi5zbGljZTFkYFxuICogICAtIGB0Zi5zbGljZTJkYFxuICogICAtIGB0Zi5zbGljZTNkYFxuICogICAtIGB0Zi5zbGljZTRkYFxuICpcbiAqIGBgYGpzXG4gKiBjb25zdCB4ID0gdGYudGVuc29yMWQoWzEsIDIsIDMsIDRdKTtcbiAqXG4gKiB4LnNsaWNlKFsxXSwgWzJdKS5wcmludCgpO1xuICogYGBgXG4gKlxuICogYGBganNcbiAqIGNvbnN0IHggPSB0Zi50ZW5zb3IyZChbMSwgMiwgMywgNF0sIFsyLCAyXSk7XG4gKlxuICogeC5zbGljZShbMSwgMF0sIFsxLCAyXSkucHJpbnQoKTtcbiAqIGBgYFxuICogQHBhcmFtIHggVGhlIGlucHV0IGB0Zi5UZW5zb3JgIHRvIHNsaWNlIGZyb20uXG4gKiBAcGFyYW0gYmVnaW4gVGhlIGNvb3JkaW5hdGVzIHRvIHN0YXJ0IHRoZSBzbGljZSBmcm9tLiBUaGUgbGVuZ3RoIGNhbiBiZVxuICogICAgIGxlc3MgdGhhbiB0aGUgcmFuayBvZiB4IC0gdGhlIHJlc3Qgb2YgdGhlIGF4ZXMgd2lsbCBoYXZlIGltcGxpY2l0IDAgYXNcbiAqICAgICBzdGFydC4gQ2FuIGFsc28gYmUgYSBzaW5nbGUgbnVtYmVyLCBpbiB3aGljaCBjYXNlIGl0IHNwZWNpZmllcyB0aGVcbiAqICAgICBmaXJzdCBheGlzLlxuICogQHBhcmFtIHNpemUgVGhlIHNpemUgb2YgdGhlIHNsaWNlLiBUaGUgbGVuZ3RoIGNhbiBiZSBsZXNzIHRoYW4gdGhlIHJhbmsgb2ZcbiAqICAgICB4IC0gdGhlIHJlc3Qgb2YgdGhlIGF4ZXMgd2lsbCBoYXZlIGltcGxpY2l0IC0xLiBBIHZhbHVlIG9mIC0xIHJlcXVlc3RzXG4gKiAgICAgdGhlIHJlc3Qgb2YgdGhlIGRpbWVuc2lvbnMgaW4gdGhlIGF4aXMuIENhbiBhbHNvIGJlIGEgc2luZ2xlIG51bWJlcixcbiAqICAgICBpbiB3aGljaCBjYXNlIGl0IHNwZWNpZmllcyB0aGUgc2l6ZSBvZiB0aGUgZmlyc3QgYXhpcy5cbiAqXG4gKiBAZG9jIHtoZWFkaW5nOiAnVGVuc29ycycsIHN1YmhlYWRpbmc6ICdTbGljaW5nIGFuZCBKb2luaW5nJ31cbiAqL1xuZnVuY3Rpb24gc2xpY2VfPFIgZXh0ZW5kcyBSYW5rLCBUIGV4dGVuZHMgVGVuc29yPFI+PihcbiAgICB4OiBUfFRlbnNvckxpa2UsIGJlZ2luOiBudW1iZXJ8bnVtYmVyW10sIHNpemU/OiBudW1iZXJ8bnVtYmVyW10pOiBUIHtcbiAgY29uc3QgJHggPSBjb252ZXJ0VG9UZW5zb3IoeCwgJ3gnLCAnc2xpY2UnKTtcblxuICBpZiAoJHgucmFuayA9PT0gMCkge1xuICAgIHRocm93IG5ldyBFcnJvcignU2xpY2luZyBzY2FsYXIgaXMgbm90IHBvc3NpYmxlJyk7XG4gIH1cblxuICBjb25zdCBmb3J3YXJkOiBGb3J3YXJkRnVuYzxUZW5zb3I+ID0gKGJhY2tlbmQsIHNhdmUpID0+IHtcbiAgICBjb25zdCBbYmVnaW5fLCBzaXplX10gPSBzbGljZV91dGlsLnBhcnNlU2xpY2VQYXJhbXMoJHgsIGJlZ2luLCBzaXplKTtcbiAgICBzbGljZV91dGlsLmFzc2VydFBhcmFtc1ZhbGlkKCR4LCBiZWdpbl8sIHNpemVfKTtcbiAgICBzYXZlKFskeF0pO1xuICAgIHJldHVybiBiYWNrZW5kLnNsaWNlKCR4LCBiZWdpbl8sIHNpemVfKTtcbiAgfTtcblxuICBjb25zdCBpbnB1dHM6IFNsaWNlSW5wdXRzID0ge3g6ICR4fTtcbiAgY29uc3QgYXR0cnM6IFNsaWNlQXR0cnMgPSB7YmVnaW4sIHNpemV9O1xuXG4gIHJldHVybiBFTkdJTkUucnVuS2VybmVsRnVuYyhcbiAgICAgICAgICAgICBmb3J3YXJkLCBpbnB1dHMgYXMge30gYXMgTmFtZWRUZW5zb3JNYXAsIG51bGwgLyogZ3JhZCAqLywgU2xpY2UsXG4gICAgICAgICAgICAgYXR0cnMgYXMge30gYXMgTmFtZWRBdHRyTWFwKSBhcyBUO1xufVxuXG5leHBvcnQgY29uc3Qgc2xpY2UgPSBvcCh7c2xpY2VffSk7XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbmltcG9ydCB7RU5HSU5FfSBmcm9tICcuLi9lbmdpbmUnO1xuaW1wb3J0IHtUYW5oLCBUYW5oSW5wdXRzfSBmcm9tICcuLi9rZXJuZWxfbmFtZXMnO1xuaW1wb3J0IHtUZW5zb3J9IGZyb20gJy4uL3RlbnNvcic7XG5pbXBvcnQge05hbWVkVGVuc29yTWFwfSBmcm9tICcuLi90ZW5zb3JfdHlwZXMnO1xuaW1wb3J0IHtjb252ZXJ0VG9UZW5zb3J9IGZyb20gJy4uL3RlbnNvcl91dGlsX2Vudic7XG5pbXBvcnQge1RlbnNvckxpa2V9IGZyb20gJy4uL3R5cGVzJztcblxuaW1wb3J0IHtvcH0gZnJvbSAnLi9vcGVyYXRpb24nO1xuXG4vKipcbiAqIENvbXB1dGVzIGh5cGVyYm9saWMgdGFuZ2VudCBvZiB0aGUgaW5wdXQgYHRmLlRlbnNvcmAgZWxlbWVudC13aXNlOiBgdGFuaCh4KWBcbiAqXG4gKiBgYGBqc1xuICogY29uc3QgeCA9IHRmLnRlbnNvcjFkKFswLCAxLCAtMSwgNzBdKTtcbiAqXG4gKiB4LnRhbmgoKS5wcmludCgpOyAgLy8gb3IgdGYudGFuaCh4KVxuICogYGBgXG4gKiBAcGFyYW0geCBUaGUgaW5wdXQgdGVuc29yLlxuICpcbiAqIEBkb2Mge2hlYWRpbmc6ICdPcGVyYXRpb25zJywgc3ViaGVhZGluZzogJ0Jhc2ljIG1hdGgnfVxuICovXG5mdW5jdGlvbiB0YW5oXzxUIGV4dGVuZHMgVGVuc29yPih4OiBUfFRlbnNvckxpa2UpOiBUIHtcbiAgY29uc3QgJHggPSBjb252ZXJ0VG9UZW5zb3IoeCwgJ3gnLCAndGFuaCcpO1xuXG4gIGNvbnN0IGlucHV0czogVGFuaElucHV0cyA9IHt4OiAkeH07XG5cbiAgcmV0dXJuIEVOR0lORS5ydW5LZXJuZWxGdW5jKChiYWNrZW5kLCBzYXZlKSA9PiB7XG4gICAgY29uc3QgeSA9IGJhY2tlbmQudGFuaCgkeCk7XG4gICAgc2F2ZShbeV0pO1xuICAgIHJldHVybiB5O1xuICB9LCBpbnB1dHMgYXMge30gYXMgTmFtZWRUZW5zb3JNYXAsIG51bGwgLyogZ3JhZCAqLywgVGFuaCk7XG59XG5leHBvcnQgY29uc3QgdGFuaCA9IG9wKHt0YW5oX30pO1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG5pbXBvcnQge1NjYWxhciwgVGVuc29yMUQsIFRlbnNvcjJEfSBmcm9tICcuLi90ZW5zb3InO1xuaW1wb3J0IHtjb252ZXJ0VG9UZW5zb3J9IGZyb20gJy4uL3RlbnNvcl91dGlsX2Vudic7XG5pbXBvcnQge1RlbnNvckxpa2V9IGZyb20gJy4uL3R5cGVzJztcblxuaW1wb3J0IHthZGR9IGZyb20gJy4vYWRkJztcbmltcG9ydCB7Y29uY2F0fSBmcm9tICcuL2NvbmNhdCc7XG5pbXBvcnQge21hdE11bH0gZnJvbSAnLi9tYXRfbXVsJztcbmltcG9ydCB7bXVsfSBmcm9tICcuL211bCc7XG5pbXBvcnQge29wfSBmcm9tICcuL29wZXJhdGlvbic7XG5pbXBvcnQge3NpZ21vaWR9IGZyb20gJy4vc2lnbW9pZCc7XG5pbXBvcnQge3NsaWNlfSBmcm9tICcuL3NsaWNlJztcbmltcG9ydCB7dGFuaH0gZnJvbSAnLi90YW5oJztcblxuLyoqXG4gKiBDb21wdXRlcyB0aGUgbmV4dCBzdGF0ZSBhbmQgb3V0cHV0IG9mIGEgQmFzaWNMU1RNQ2VsbC5cbiAqXG4gKiBSZXR1cm5zIGBbbmV3QywgbmV3SF1gLlxuICpcbiAqIERlcml2ZWQgZnJvbSB0Zi5jb250cmliLnJubi5CYXNpY0xTVE1DZWxsLlxuICpcbiAqIEBwYXJhbSBmb3JnZXRCaWFzIEZvcmdldCBiaWFzIGZvciB0aGUgY2VsbC5cbiAqIEBwYXJhbSBsc3RtS2VybmVsIFRoZSB3ZWlnaHRzIGZvciB0aGUgY2VsbC5cbiAqIEBwYXJhbSBsc3RtQmlhcyBUaGUgYmlhcyBmb3IgdGhlIGNlbGwuXG4gKiBAcGFyYW0gZGF0YSBUaGUgaW5wdXQgdG8gdGhlIGNlbGwuXG4gKiBAcGFyYW0gYyBQcmV2aW91cyBjZWxsIHN0YXRlLlxuICogQHBhcmFtIGggUHJldmlvdXMgY2VsbCBvdXRwdXQuXG4gKlxuICogQGRvYyB7aGVhZGluZzogJ09wZXJhdGlvbnMnLCBzdWJoZWFkaW5nOiAnUk5OJ31cbiAqL1xuZnVuY3Rpb24gYmFzaWNMU1RNQ2VsbF8oXG4gICAgZm9yZ2V0QmlhczogU2NhbGFyfFRlbnNvckxpa2UsIGxzdG1LZXJuZWw6IFRlbnNvcjJEfFRlbnNvckxpa2UsXG4gICAgbHN0bUJpYXM6IFRlbnNvcjFEfFRlbnNvckxpa2UsIGRhdGE6IFRlbnNvcjJEfFRlbnNvckxpa2UsXG4gICAgYzogVGVuc29yMkR8VGVuc29yTGlrZSwgaDogVGVuc29yMkR8VGVuc29yTGlrZSk6IFtUZW5zb3IyRCwgVGVuc29yMkRdIHtcbiAgY29uc3QgJGZvcmdldEJpYXMgPVxuICAgICAgY29udmVydFRvVGVuc29yKGZvcmdldEJpYXMsICdmb3JnZXRCaWFzJywgJ2Jhc2ljTFNUTUNlbGwnKTtcbiAgY29uc3QgJGxzdG1LZXJuZWwgPVxuICAgICAgY29udmVydFRvVGVuc29yKGxzdG1LZXJuZWwsICdsc3RtS2VybmVsJywgJ2Jhc2ljTFNUTUNlbGwnKTtcbiAgY29uc3QgJGxzdG1CaWFzID0gY29udmVydFRvVGVuc29yKGxzdG1CaWFzLCAnbHN0bUJpYXMnLCAnYmFzaWNMU1RNQ2VsbCcpO1xuICBjb25zdCAkZGF0YSA9IGNvbnZlcnRUb1RlbnNvcihkYXRhLCAnZGF0YScsICdiYXNpY0xTVE1DZWxsJyk7XG4gIGNvbnN0ICRjID0gY29udmVydFRvVGVuc29yKGMsICdjJywgJ2Jhc2ljTFNUTUNlbGwnKTtcbiAgY29uc3QgJGggPSBjb252ZXJ0VG9UZW5zb3IoaCwgJ2gnLCAnYmFzaWNMU1RNQ2VsbCcpO1xuXG4gIGNvbnN0IGNvbWJpbmVkID0gY29uY2F0KFskZGF0YSwgJGhdLCAxKTtcbiAgY29uc3Qgd2VpZ2h0ZWQgPSBtYXRNdWwoY29tYmluZWQsICRsc3RtS2VybmVsKTtcbiAgY29uc3QgcmVzOiBUZW5zb3IyRCA9IGFkZCh3ZWlnaHRlZCwgJGxzdG1CaWFzKTtcblxuICAvLyBpID0gaW5wdXRfZ2F0ZSwgaiA9IG5ld19pbnB1dCwgZiA9IGZvcmdldF9nYXRlLCBvID0gb3V0cHV0X2dhdGVcbiAgY29uc3QgYmF0Y2hTaXplID0gcmVzLnNoYXBlWzBdO1xuICBjb25zdCBzbGljZUNvbHMgPSByZXMuc2hhcGVbMV0gLyA0O1xuICBjb25zdCBzbGljZVNpemU6IFtudW1iZXIsIG51bWJlcl0gPSBbYmF0Y2hTaXplLCBzbGljZUNvbHNdO1xuICBjb25zdCBpID0gc2xpY2UocmVzLCBbMCwgMF0sIHNsaWNlU2l6ZSk7XG4gIGNvbnN0IGogPSBzbGljZShyZXMsIFswLCBzbGljZUNvbHNdLCBzbGljZVNpemUpO1xuICBjb25zdCBmID0gc2xpY2UocmVzLCBbMCwgc2xpY2VDb2xzICogMl0sIHNsaWNlU2l6ZSk7XG4gIGNvbnN0IG8gPSBzbGljZShyZXMsIFswLCBzbGljZUNvbHMgKiAzXSwgc2xpY2VTaXplKTtcblxuICBjb25zdCBuZXdDOiBUZW5zb3IyRCA9XG4gICAgICBhZGQobXVsKHNpZ21vaWQoaSksIHRhbmgoaikpLFxuICAgICAgICAgIG11bCgkYywgc2lnbW9pZChhZGQoJGZvcmdldEJpYXMsIGYpKSBhcyBUZW5zb3IyRCkpO1xuICBjb25zdCBuZXdIOiBUZW5zb3IyRCA9IG11bCh0YW5oKG5ld0MpLCBzaWdtb2lkKG8pKTtcbiAgcmV0dXJuIFtuZXdDLCBuZXdIXTtcbn1cblxuZXhwb3J0IGNvbnN0IGJhc2ljTFNUTUNlbGwgPSBvcCh7YmFzaWNMU1RNQ2VsbF99KTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuaW1wb3J0IHtFTkdJTkUsIEZvcndhcmRGdW5jfSBmcm9tICcuLi9lbmdpbmUnO1xuaW1wb3J0IHtCYXRjaFRvU3BhY2VORCwgQmF0Y2hUb1NwYWNlTkRBdHRycywgQmF0Y2hUb1NwYWNlTkRJbnB1dHN9IGZyb20gJy4uL2tlcm5lbF9uYW1lcyc7XG5pbXBvcnQge05hbWVkQXR0ck1hcH0gZnJvbSAnLi4va2VybmVsX3JlZ2lzdHJ5JztcbmltcG9ydCB7VGVuc29yfSBmcm9tICcuLi90ZW5zb3InO1xuaW1wb3J0IHtOYW1lZFRlbnNvck1hcH0gZnJvbSAnLi4vdGVuc29yX3R5cGVzJztcbmltcG9ydCB7Y29udmVydFRvVGVuc29yfSBmcm9tICcuLi90ZW5zb3JfdXRpbF9lbnYnO1xuaW1wb3J0IHtUZW5zb3JMaWtlfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgKiBhcyB1dGlsIGZyb20gJy4uL3V0aWwnO1xuXG5pbXBvcnQge29wfSBmcm9tICcuL29wZXJhdGlvbic7XG5cbi8qKlxuICogVGhpcyBvcGVyYXRpb24gcmVzaGFwZXMgdGhlIFwiYmF0Y2hcIiBkaW1lbnNpb24gMCBpbnRvIGBNICsgMWAgZGltZW5zaW9ucyBvZlxuICogc2hhcGUgYGJsb2NrU2hhcGUgKyBbYmF0Y2hdYCwgaW50ZXJsZWF2ZXMgdGhlc2UgYmxvY2tzIGJhY2sgaW50byB0aGUgZ3JpZFxuICogZGVmaW5lZCBieSB0aGUgc3BhdGlhbCBkaW1lbnNpb25zIGBbMSwgLi4uLCBNXWAsIHRvIG9idGFpbiBhIHJlc3VsdCB3aXRoXG4gKiB0aGUgc2FtZSByYW5rIGFzIHRoZSBpbnB1dC4gVGhlIHNwYXRpYWwgZGltZW5zaW9ucyBvZiB0aGlzIGludGVybWVkaWF0ZVxuICogcmVzdWx0IGFyZSB0aGVuIG9wdGlvbmFsbHkgY3JvcHBlZCBhY2NvcmRpbmcgdG8gYGNyb3BzYCB0byBwcm9kdWNlIHRoZVxuICogb3V0cHV0LiBUaGlzIGlzIHRoZSByZXZlcnNlIG9mIGB0Zi5zcGFjZVRvQmF0Y2hORGAuIFNlZSBiZWxvdyBmb3IgYSBwcmVjaXNlXG4gKiBkZXNjcmlwdGlvbi5cbiAqXG4gKiBgYGBqc1xuICogY29uc3QgeCA9IHRmLnRlbnNvcjRkKFsxLCAyLCAzLCA0XSwgWzQsIDEsIDEsIDFdKTtcbiAqIGNvbnN0IGJsb2NrU2hhcGUgPSBbMiwgMl07XG4gKiBjb25zdCBjcm9wcyA9IFtbMCwgMF0sIFswLCAwXV07XG4gKlxuICogeC5iYXRjaFRvU3BhY2VORChibG9ja1NoYXBlLCBjcm9wcykucHJpbnQoKTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB4IEEgYHRmLlRlbnNvcmAuIE4tRCB3aXRoIGB4LnNoYXBlYCA9IGBbYmF0Y2hdICsgc3BhdGlhbFNoYXBlICtcbiAqIHJlbWFpbmluZ1NoYXBlYCwgd2hlcmUgc3BhdGlhbFNoYXBlIGhhcyBgTWAgZGltZW5zaW9ucy5cbiAqIEBwYXJhbSBibG9ja1NoYXBlIEEgMS1EIGFycmF5LiBNdXN0IGhhdmUgc2hhcGUgYFtNXWAsIGFsbCB2YWx1ZXMgbXVzdFxuICogYmUgPj0gMS5cbiAqIEBwYXJhbSBjcm9wcyBBIDItRCBhcnJheS4gIE11c3QgaGF2ZSBzaGFwZSBgW00sIDJdYCwgYWxsIHZhbHVlcyBtdXN0IGJlID49IDAuXG4gKiBgY3JvcHNbaV0gPSBbY3JvcFN0YXJ0LCBjcm9wRW5kXWAgc3BlY2lmaWVzIHRoZSBhbW91bnQgdG8gY3JvcCBmcm9tIGlucHV0XG4gKiBkaW1lbnNpb24gYGkgKyAxYCwgd2hpY2ggY29ycmVzcG9uZHMgdG8gc3BhdGlhbCBkaW1lbnNpb24gYGlgLiBJdCBpcyByZXF1aXJlZFxuICogdGhhdCBgY3JvcFN0YXJ0W2ldICsgY3JvcEVuZFtpXSA8PSBibG9ja1NoYXBlW2ldICogaW5wdXRTaGFwZVtpICsgMV1gXG4gKlxuICogVGhpcyBvcGVyYXRpb24gaXMgZXF1aXZhbGVudCB0byB0aGUgZm9sbG93aW5nIHN0ZXBzOlxuICpcbiAqIDEuIFJlc2hhcGUgYHhgIHRvIGByZXNoYXBlZGAgb2Ygc2hhcGU6IGBbYmxvY2tTaGFwZVswXSwgLi4uLFxuICogYmxvY2tTaGFwZVtNLTFdLCBiYXRjaCAvIHByb2QoYmxvY2tTaGFwZSksIHguc2hhcGVbMV0sIC4uLixcbiAqIHguc2hhcGVbTi0xXV1gXG4gKlxuICogMi4gUGVybXV0ZSBkaW1lbnNpb25zIG9mIGByZXNoYXBlZGB0byBwcm9kdWNlIGBwZXJtdXRlZGAgb2Ygc2hhcGUgYFtiYXRjaCAvXG4gKiBwcm9kKGJsb2NrU2hhcGUpLHguc2hhcGVbMV0sIGJsb2NrU2hhcGVbMF0sIC4uLiwgeC5zaGFwZVtNXSxcbiAqIGJsb2NrU2hhcGVbTS0xXSx4LnNoYXBlW00rMV0sIC4uLiwgeC5zaGFwZVtOLTFdXWBcbiAqXG4gKiAzLiBSZXNoYXBlIGBwZXJtdXRlZGAgdG8gcHJvZHVjZSBgcmVzaGFwZWRQZXJtdXRlZGAgb2Ygc2hhcGUgYFtiYXRjaCAvXG4gKiBwcm9kKGJsb2NrU2hhcGUpLHguc2hhcGVbMV0gKiBibG9ja1NoYXBlWzBdLCAuLi4sIHguc2hhcGVbTV0gKlxuICogYmxvY2tTaGFwZVtNLTFdLHguc2hhcGVbTSsxXSwgLi4uLCB4LnNoYXBlW04tMV1dYFxuICpcbiAqIDQuIENyb3AgdGhlIHN0YXJ0IGFuZCBlbmQgb2YgZGltZW5zaW9ucyBgWzEsIC4uLiwgTV1gIG9mIGByZXNoYXBlZFBlcm11dGVkYFxuICogYWNjb3JkaW5nIHRvIGBjcm9wc2AgdG8gcHJvZHVjZSB0aGUgb3V0cHV0IG9mIHNoYXBlOiBgW2JhdGNoIC9cbiAqIHByb2QoYmxvY2tTaGFwZSkseC5zaGFwZVsxXSAqIGJsb2NrU2hhcGVbMF0gLSBjcm9wc1swLDBdIC0gY3JvcHNbMCwxXSxcbiAqIC4uLiwgeC5zaGFwZVtNXSAqIGJsb2NrU2hhcGVbTS0xXSAtIGNyb3BzW00tMSwwXSAtXG4gKiBjcm9wc1tNLTEsMV0seC5zaGFwZVtNKzFdLCAuLi4sIHguc2hhcGVbTi0xXV1gXG4gKlxuICogQGRvYyB7aGVhZGluZzogJ1RlbnNvcnMnLCBzdWJoZWFkaW5nOiAnVHJhbnNmb3JtYXRpb25zJ31cbiAqL1xuZnVuY3Rpb24gYmF0Y2hUb1NwYWNlTkRfPFQgZXh0ZW5kcyBUZW5zb3I+KFxuICAgIHg6IFR8VGVuc29yTGlrZSwgYmxvY2tTaGFwZTogbnVtYmVyW10sIGNyb3BzOiBudW1iZXJbXVtdKTogVCB7XG4gIGNvbnN0ICR4ID0gY29udmVydFRvVGVuc29yKHgsICd4JywgJ2JhdGNoVG9TcGFjZU5EJyk7XG4gIGNvbnN0IHByb2QgPSBibG9ja1NoYXBlLnJlZHVjZSgoYSwgYikgPT4gYSAqIGIpO1xuXG4gIHV0aWwuYXNzZXJ0KFxuICAgICAgJHgucmFuayA+PSAxICsgYmxvY2tTaGFwZS5sZW5ndGgsXG4gICAgICAoKSA9PiBgaW5wdXQgcmFuayBpcyAkeyR4LnJhbmt9IGJ1dCBzaG91bGQgYmUgPiB0aGFuIGJsb2NrU2hhcGUubGVuZ3RoICR7XG4gICAgICAgICAgYmxvY2tTaGFwZS5sZW5ndGh9YCk7XG5cbiAgdXRpbC5hc3NlcnQoXG4gICAgICBjcm9wcy5sZW5ndGggPT09IGJsb2NrU2hhcGUubGVuZ3RoLFxuICAgICAgKCkgPT4gYGNyb3BzLmxlbmd0aCBpcyAke1xuICAgICAgICAgIGNyb3BzLmxlbmd0aH0gYnV0IHNob3VsZCBiZSBlcXVhbCB0byBibG9ja1NoYXBlLmxlbmd0aCAgJHtcbiAgICAgICAgICBibG9ja1NoYXBlLmxlbmd0aH1gKTtcblxuICB1dGlsLmFzc2VydChcbiAgICAgICR4LnNoYXBlWzBdICUgcHJvZCA9PT0gMCxcbiAgICAgICgpID0+IGBpbnB1dCB0ZW5zb3IgYmF0Y2ggaXMgJHtcbiAgICAgICAgICAgICAgICAkeC5zaGFwZVswXX0gYnV0IGlzIG5vdCBkaXZpc2libGUgYnkgdGhlIHByb2R1Y3Qgb2YgYCArXG4gICAgICAgICAgYHRoZSBlbGVtZW50cyBvZiBibG9ja1NoYXBlICR7YmxvY2tTaGFwZS5qb2luKCcgKiAnKX0gPT09ICR7cHJvZH1gKTtcblxuICBjb25zdCBmb3J3YXJkOiBGb3J3YXJkRnVuYzxUPiA9IGJhY2tlbmQgPT4ge1xuICAgIHJldHVybiBiYWNrZW5kLmJhdGNoVG9TcGFjZU5EKCR4LCBibG9ja1NoYXBlLCBjcm9wcyk7XG4gIH07XG5cbiAgY29uc3QgaW5wdXRzOiBCYXRjaFRvU3BhY2VORElucHV0cyA9IHt4OiAkeH07XG4gIGNvbnN0IGF0dHJzOiBCYXRjaFRvU3BhY2VOREF0dHJzID0ge2Jsb2NrU2hhcGUsIGNyb3BzfTtcblxuICByZXR1cm4gRU5HSU5FLnJ1bktlcm5lbEZ1bmMoXG4gICAgICBmb3J3YXJkLCBpbnB1dHMgYXMge30gYXMgTmFtZWRUZW5zb3JNYXAsIG51bGwgLyogZ3JhZGllbnQgKi8sXG4gICAgICBCYXRjaFRvU3BhY2VORCwgYXR0cnMgYXMge30gYXMgTmFtZWRBdHRyTWFwKTtcbn1cblxuZXhwb3J0IGNvbnN0IGJhdGNoVG9TcGFjZU5EID0gb3Aoe2JhdGNoVG9TcGFjZU5EX30pO1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG5pbXBvcnQge0VOR0lORSwgRm9yd2FyZEZ1bmN9IGZyb20gJy4uL2VuZ2luZSc7XG5pbXBvcnQge0Z1c2VkQmF0Y2hOb3JtLCBGdXNlZEJhdGNoTm9ybUF0dHJzLCBGdXNlZEJhdGNoTm9ybUlucHV0c30gZnJvbSAnLi4va2VybmVsX25hbWVzJztcbmltcG9ydCB7TmFtZWRBdHRyTWFwfSBmcm9tICcuLi9rZXJuZWxfcmVnaXN0cnknO1xuaW1wb3J0IHtUZW5zb3IsIFRlbnNvcjFELCBUZW5zb3I0RH0gZnJvbSAnLi4vdGVuc29yJztcbmltcG9ydCB7TmFtZWRUZW5zb3JNYXB9IGZyb20gJy4uL3RlbnNvcl90eXBlcyc7XG5pbXBvcnQge2NvbnZlcnRUb1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yX3V0aWxfZW52JztcbmltcG9ydCB7UmFuaywgVGVuc29yTGlrZX0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0ICogYXMgdXRpbCBmcm9tICcuLi91dGlsJztcblxuaW1wb3J0IHt4QXM0RH0gZnJvbSAnLi9iYXRjaG5vcm1fdXRpbCc7XG5pbXBvcnQge29wfSBmcm9tICcuL29wZXJhdGlvbic7XG5pbXBvcnQge3Jlc2hhcGV9IGZyb20gJy4vcmVzaGFwZSc7XG5cbi8qKlxuICogQmF0Y2ggbm9ybWFsaXphdGlvbi5cbiAqXG4gKiBBcyBkZXNjcmliZWQgaW5cbiAqIFtodHRwOi8vYXJ4aXYub3JnL2Ficy8xNTAyLjAzMTY3XShodHRwOi8vYXJ4aXYub3JnL2Ficy8xNTAyLjAzMTY3KS5cbiAqXG4gKiBNZWFuLCB2YXJpYW5jZSwgc2NhbGUsIGFuZCBvZmZzZXQgY2FuIGJlIG9mIHR3byBzaGFwZXM6XG4gKiAgIC0gVGhlIHNhbWUgc2hhcGUgYXMgdGhlIGlucHV0LlxuICogICAtIEluIHRoZSBjb21tb24gY2FzZSwgdGhlIGRlcHRoIGRpbWVuc2lvbiBpcyB0aGUgbGFzdCBkaW1lbnNpb24gb2YgeCwgc29cbiAqICAgICB0aGUgdmFsdWVzIHdvdWxkIGJlIGFuIGB0Zi5UZW5zb3IxRGAgb2Ygc2hhcGUgW2RlcHRoXS5cbiAqXG4gKiBBbHNvIGF2YWlsYWJsZSBhcmUgc3RyaWN0ZXIgcmFuay1zcGVjaWZpYyBtZXRob2RzIHdpdGggdGhlIHNhbWUgc2lnbmF0dXJlXG4gKiBhcyB0aGlzIG1ldGhvZCB0aGF0IGFzc2VydCB0aGF0IHBhcmFtZXRlcnMgcGFzc2VkIGFyZSBvZiBnaXZlbiByYW5rXG4gKiAgIC0gYHRmLmJhdGNoTm9ybTJkYFxuICogICAtIGB0Zi5iYXRjaE5vcm0zZGBcbiAqICAgLSBgdGYuYmF0Y2hOb3JtNGRgXG4gKlxuICogQHBhcmFtIHggVGhlIGlucHV0IFRlbnNvci5cbiAqIEBwYXJhbSBtZWFuIEEgbWVhbiBUZW5zb3IuXG4gKiBAcGFyYW0gdmFyaWFuY2UgQSB2YXJpYW5jZSBUZW5zb3IuXG4gKiBAcGFyYW0gb2Zmc2V0IEFuIG9mZnNldCBUZW5zb3IuXG4gKiBAcGFyYW0gc2NhbGUgQSBzY2FsZSBUZW5zb3IuXG4gKiBAcGFyYW0gdmFyaWFuY2VFcHNpbG9uIEEgc21hbGwgZmxvYXQgbnVtYmVyIHRvIGF2b2lkIGRpdmlkaW5nIGJ5IDAuXG4gKlxuICogQGRvYyB7aGVhZGluZzogJ09wZXJhdGlvbnMnLCBzdWJoZWFkaW5nOiAnTm9ybWFsaXphdGlvbid9XG4gKi9cbmZ1bmN0aW9uIGJhdGNoTm9ybV88UiBleHRlbmRzIFJhbms+KFxuICAgIHg6IFRlbnNvcjxSPnxUZW5zb3JMaWtlLCBtZWFuOiBUZW5zb3I8Uj58VGVuc29yMUR8VGVuc29yTGlrZSxcbiAgICB2YXJpYW5jZTogVGVuc29yPFI+fFRlbnNvcjFEfFRlbnNvckxpa2UsXG4gICAgb2Zmc2V0PzogVGVuc29yPFI+fFRlbnNvcjFEfFRlbnNvckxpa2UsXG4gICAgc2NhbGU/OiBUZW5zb3I8Uj58VGVuc29yMUR8VGVuc29yTGlrZSxcbiAgICB2YXJpYW5jZUVwc2lsb24/OiBudW1iZXIpOiBUZW5zb3I8Uj4ge1xuICBpZiAodmFyaWFuY2VFcHNpbG9uID09IG51bGwpIHtcbiAgICB2YXJpYW5jZUVwc2lsb24gPSAwLjAwMTtcbiAgfVxuICBjb25zdCAkeCA9IGNvbnZlcnRUb1RlbnNvcih4LCAneCcsICdiYXRjaE5vcm0nKTtcbiAgY29uc3QgJG1lYW4gPSBjb252ZXJ0VG9UZW5zb3IobWVhbiwgJ21lYW4nLCAnYmF0Y2hOb3JtJyk7XG4gIGNvbnN0ICR2YXJpYW5jZSA9IGNvbnZlcnRUb1RlbnNvcih2YXJpYW5jZSwgJ3ZhcmlhbmNlJywgJ2JhdGNoTm9ybScpO1xuICBsZXQgJHNjYWxlOiBUZW5zb3I8Uj58VGVuc29yMUQ7XG4gIGlmIChzY2FsZSAhPSBudWxsKSB7XG4gICAgJHNjYWxlID0gY29udmVydFRvVGVuc29yKHNjYWxlLCAnc2NhbGUnLCAnYmF0Y2hOb3JtJyk7XG4gIH1cbiAgbGV0ICRvZmZzZXQ6IFRlbnNvcjxSPnxUZW5zb3IxRDtcbiAgaWYgKG9mZnNldCAhPSBudWxsKSB7XG4gICAgJG9mZnNldCA9IGNvbnZlcnRUb1RlbnNvcihvZmZzZXQsICdvZmZzZXQnLCAnYmF0Y2hOb3JtJyk7XG4gIH1cblxuICB1dGlsLmFzc2VydChcbiAgICAgICRtZWFuLnJhbmsgPT09ICR2YXJpYW5jZS5yYW5rLFxuICAgICAgKCkgPT4gJ0JhdGNoIG5vcm1hbGl6YXRpb24gZ3JhZGllbnQgcmVxdWlyZXMgbWVhbiBhbmQgdmFyaWFuY2UgdG8gaGF2ZSAnICtcbiAgICAgICAgICAnZXF1YWwgcmFua3MuJyk7XG4gIHV0aWwuYXNzZXJ0KFxuICAgICAgJG9mZnNldCA9PSBudWxsIHx8ICRtZWFuLnJhbmsgPT09ICRvZmZzZXQucmFuayxcbiAgICAgICgpID0+ICdCYXRjaCBub3JtYWxpemF0aW9uIGdyYWRpZW50IHJlcXVpcmVzIG1lYW4gYW5kIG9mZnNldCB0byBoYXZlICcgK1xuICAgICAgICAgICdlcXVhbCByYW5rcy4nKTtcbiAgdXRpbC5hc3NlcnQoXG4gICAgICAkc2NhbGUgPT0gbnVsbCB8fCAkbWVhbi5yYW5rID09PSAkc2NhbGUucmFuayxcbiAgICAgICgpID0+ICdCYXRjaCBub3JtYWxpemF0aW9uIGdyYWRpZW50IHJlcXVpcmVzIG1lYW4gYW5kIHNjYWxlIHRvIGhhdmUgJyArXG4gICAgICAgICAgJ2VxdWFsIHJhbmtzLicpO1xuXG4gIGNvbnN0IHg0RDogVGVuc29yNEQgPSB4QXM0RCgkeCk7XG5cbiAgY29uc3QgZm9yd2FyZDogRm9yd2FyZEZ1bmM8VGVuc29yPiA9IChiYWNrZW5kLCBzYXZlKSA9PiB7XG4gICAgc2F2ZShbeDRELCAkbWVhbiwgJHZhcmlhbmNlLCAkc2NhbGVdKTtcblxuICAgIHJldHVybiBiYWNrZW5kLmJhdGNoTm9ybShcbiAgICAgICAgeDRELCBhczFET3I0RCgkbWVhbiksIGFzMURPcjREKCR2YXJpYW5jZSksIGFzMURPcjREKCRvZmZzZXQpLFxuICAgICAgICBhczFET3I0RCgkc2NhbGUpLCB2YXJpYW5jZUVwc2lsb24pO1xuICB9O1xuXG4gIGNvbnN0IGlucHV0czogRnVzZWRCYXRjaE5vcm1JbnB1dHMgPSB7XG4gICAgeDogeDRELFxuICAgIHNjYWxlOiAkc2NhbGUsXG4gICAgb2Zmc2V0OiAkb2Zmc2V0LFxuICAgIG1lYW46ICRtZWFuLFxuICAgIHZhcmlhbmNlOiAkdmFyaWFuY2VcbiAgfTtcblxuICBjb25zdCBhdHRyczogRnVzZWRCYXRjaE5vcm1BdHRycyA9IHt2YXJpYW5jZUVwc2lsb259O1xuXG4gIGNvbnN0IHJlcyA9IEVOR0lORS5ydW5LZXJuZWxGdW5jKFxuICAgICAgZm9yd2FyZCwgaW5wdXRzIGFzIHt9IGFzIE5hbWVkVGVuc29yTWFwLCBudWxsIC8qIGdyYWRpZW50ICovLFxuICAgICAgRnVzZWRCYXRjaE5vcm0sIGF0dHJzIGFzIHt9IGFzIE5hbWVkQXR0ck1hcCk7XG5cbiAgcmV0dXJuIHJlc2hhcGUocmVzLCAkeC5zaGFwZSk7XG59XG5cbmZ1bmN0aW9uIGFzMURPcjREKHg6IFRlbnNvcik6IFRlbnNvcjREfFRlbnNvcjFEIHtcbiAgaWYgKHggPT0gbnVsbCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGlmICh4LnJhbmsgPT09IDApIHtcbiAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tdW5uZWNlc3NhcnktdHlwZS1hc3NlcnRpb25cbiAgICByZXR1cm4gcmVzaGFwZSh4LCBbeC5zaXplXSkgYXMgVGVuc29yMUQ7XG4gIH0gZWxzZSBpZiAoeC5yYW5rID09PSAxKSB7XG4gICAgcmV0dXJuIHggYXMgVGVuc29yMUQ7XG4gIH0gZWxzZSBpZiAoeC5yYW5rID09PSAyKSB7XG4gICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLXVubmVjZXNzYXJ5LXR5cGUtYXNzZXJ0aW9uXG4gICAgcmV0dXJuIHJlc2hhcGUoeCwgWzEsIDEsIHguc2hhcGVbMF0sIHguc2hhcGVbMV1dKSBhcyBUZW5zb3I0RDtcbiAgfSBlbHNlIGlmICh4LnJhbmsgPT09IDMpIHtcbiAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tdW5uZWNlc3NhcnktdHlwZS1hc3NlcnRpb25cbiAgICByZXR1cm4gcmVzaGFwZSh4LCBbMSwgeC5zaGFwZVswXSwgeC5zaGFwZVsxXSwgeC5zaGFwZVsyXV0pIGFzIFRlbnNvcjREO1xuICB9XG4gIHJldHVybiB4IGFzIFRlbnNvcjREO1xufVxuXG5leHBvcnQgY29uc3QgYmF0Y2hOb3JtID0gb3Aoe2JhdGNoTm9ybV99KTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cbmltcG9ydCB7VGVuc29yLCBUZW5zb3I0RH0gZnJvbSAnLi4vdGVuc29yJztcbmltcG9ydCB7UmFua30gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHtyZXNoYXBlfSBmcm9tICcuL3Jlc2hhcGUnO1xuXG5leHBvcnQgZnVuY3Rpb24geEFzNEQ8UiBleHRlbmRzIFJhbms+KHg6IFRlbnNvcjxSPikge1xuICBsZXQgeDREOiBUZW5zb3I0RDtcbiAgaWYgKHgucmFuayA9PT0gMCB8fCB4LnJhbmsgPT09IDEpIHtcbiAgICB4NEQgPSByZXNoYXBlKHgsIFsxLCAxLCAxLCB4LnNpemVdKTtcbiAgfSBlbHNlIGlmICh4LnJhbmsgPT09IDIpIHtcbiAgICB4NEQgPSByZXNoYXBlKHgsIFsxLCAxLCB4LnNoYXBlWzBdLCB4LnNoYXBlWzFdXSk7XG4gIH0gZWxzZSBpZiAoeC5yYW5rID09PSAzKSB7XG4gICAgeDREID0gcmVzaGFwZSh4LCBbMSwgeC5zaGFwZVswXSwgeC5zaGFwZVsxXSwgeC5zaGFwZVsyXV0pO1xuICB9IGVsc2Uge1xuICAgIHg0RCA9IHggYXMgVGVuc29yNEQ7XG4gIH1cblxuICByZXR1cm4geDREO1xufVxuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuaW1wb3J0IHtUZW5zb3IxRCwgVGVuc29yMkR9IGZyb20gJy4uL3RlbnNvcic7XG5pbXBvcnQge2NvbnZlcnRUb1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yX3V0aWxfZW52JztcbmltcG9ydCB7VGVuc29yTGlrZX0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0ICogYXMgdXRpbCBmcm9tICcuLi91dGlsJztcblxuaW1wb3J0IHtiYXRjaE5vcm19IGZyb20gJy4vYmF0Y2hub3JtJztcbmltcG9ydCB7b3B9IGZyb20gJy4vb3BlcmF0aW9uJztcblxuLyoqXG4gKiBCYXRjaCBub3JtYWxpemF0aW9uLCBzdHJpY3RseSBmb3IgMkQuIEZvciB0aGUgbW9yZSByZWxheGVkIHZlcnNpb24sIHNlZVxuICogYHRmLmJhdGNoTm9ybWAuXG4gKlxuICogQHBhcmFtIHggVGhlIGlucHV0IFRlbnNvci5cbiAqIEBwYXJhbSBtZWFuIEEgbWVhbiBUZW5zb3IuXG4gKiBAcGFyYW0gdmFyaWFuY2UgQSB2YXJpYW5jZSBUZW5zb3IuXG4gKiBAcGFyYW0gb2Zmc2V0IEFuIG9mZnNldCBUZW5zb3IuXG4gKiBAcGFyYW0gc2NhbGUgQSBzY2FsZSBUZW5zb3IuXG4gKiBAcGFyYW0gdmFyaWFuY2VFcHNpbG9uIEEgc21hbGwgZmxvYXQgbnVtYmVyIHRvIGF2b2lkIGRpdmlkaW5nIGJ5IDAuXG4gKi9cbmZ1bmN0aW9uIGJhdGNoTm9ybTJkXyhcbiAgICB4OiBUZW5zb3IyRHxUZW5zb3JMaWtlLCBtZWFuOiBUZW5zb3IyRHxUZW5zb3IxRHxUZW5zb3JMaWtlLFxuICAgIHZhcmlhbmNlOiBUZW5zb3IyRHxUZW5zb3IxRHxUZW5zb3JMaWtlLFxuICAgIG9mZnNldD86IFRlbnNvcjJEfFRlbnNvcjFEfFRlbnNvckxpa2UsIHNjYWxlPzogVGVuc29yMkR8VGVuc29yMUR8VGVuc29yTGlrZSxcbiAgICB2YXJpYW5jZUVwc2lsb24/OiBudW1iZXIpOiBUZW5zb3IyRCB7XG4gIGNvbnN0ICR4ID0gY29udmVydFRvVGVuc29yKHgsICd4JywgJ2JhdGNoTm9ybScpO1xuICBjb25zdCAkbWVhbiA9IGNvbnZlcnRUb1RlbnNvcihtZWFuLCAnbWVhbicsICdiYXRjaE5vcm0nKTtcbiAgY29uc3QgJHZhcmlhbmNlID0gY29udmVydFRvVGVuc29yKHZhcmlhbmNlLCAndmFyaWFuY2UnLCAnYmF0Y2hOb3JtJyk7XG4gIGxldCAkc2NhbGU6IFRlbnNvcjJEfFRlbnNvcjFEO1xuICBpZiAoc2NhbGUgIT0gbnVsbCkge1xuICAgICRzY2FsZSA9IGNvbnZlcnRUb1RlbnNvcihzY2FsZSwgJ3NjYWxlJywgJ2JhdGNoTm9ybScpO1xuICB9XG4gIGxldCAkb2Zmc2V0OiBUZW5zb3IyRHxUZW5zb3IxRDtcbiAgaWYgKG9mZnNldCAhPSBudWxsKSB7XG4gICAgJG9mZnNldCA9IGNvbnZlcnRUb1RlbnNvcihvZmZzZXQsICdvZmZzZXQnLCAnYmF0Y2hOb3JtJyk7XG4gIH1cbiAgdXRpbC5hc3NlcnQoXG4gICAgICAkeC5yYW5rID09PSAyLFxuICAgICAgKCkgPT4gYEVycm9yIGluIGJhdGNoTm9ybTJEOiB4IG11c3QgYmUgcmFuayAyIGJ1dCBnb3QgcmFuayBgICtcbiAgICAgICAgICBgJHskeC5yYW5rfS5gKTtcbiAgdXRpbC5hc3NlcnQoXG4gICAgICAkbWVhbi5yYW5rID09PSAyIHx8ICRtZWFuLnJhbmsgPT09IDEsXG4gICAgICAoKSA9PiBgRXJyb3IgaW4gYmF0Y2hOb3JtMkQ6IG1lYW4gbXVzdCBiZSByYW5rIDIgb3IgcmFuayAxIGJ1dCBgICtcbiAgICAgICAgICBgZ290IHJhbmsgJHskbWVhbi5yYW5rfS5gKTtcbiAgdXRpbC5hc3NlcnQoXG4gICAgICAkdmFyaWFuY2UucmFuayA9PT0gMiB8fCAkdmFyaWFuY2UucmFuayA9PT0gMSxcbiAgICAgICgpID0+IGBFcnJvciBpbiBiYXRjaE5vcm0yRDogdmFyaWFuY2UgbXVzdCBiZSByYW5rIDIgb3IgcmFuayAxIGAgK1xuICAgICAgICAgIGBidXQgZ290IHJhbmsgJHskdmFyaWFuY2UucmFua30uYCk7XG4gIGlmICgkc2NhbGUgIT0gbnVsbCkge1xuICAgIHV0aWwuYXNzZXJ0KFxuICAgICAgICAkc2NhbGUucmFuayA9PT0gMiB8fCAkc2NhbGUucmFuayA9PT0gMSxcbiAgICAgICAgKCkgPT4gYEVycm9yIGluIGJhdGNoTm9ybTJEOiBzY2FsZSBtdXN0IGJlIHJhbmsgMiBvciByYW5rIDEgYCArXG4gICAgICAgICAgICBgYnV0IGdvdCByYW5rICR7JHNjYWxlLnJhbmt9LmApO1xuICB9XG4gIGlmICgkb2Zmc2V0ICE9IG51bGwpIHtcbiAgICB1dGlsLmFzc2VydChcbiAgICAgICAgJG9mZnNldC5yYW5rID09PSAyIHx8ICRvZmZzZXQucmFuayA9PT0gMSxcbiAgICAgICAgKCkgPT4gYEVycm9yIGluIGJhdGNoTm9ybTJEOiBvZmZzZXQgbXVzdCBiZSByYW5rIDIgb3IgcmFuayAxIGAgK1xuICAgICAgICAgICAgYGJ1dCBnb3QgcmFuayAkeyRvZmZzZXQucmFua30uYCk7XG4gIH1cblxuICByZXR1cm4gYmF0Y2hOb3JtKCR4LCAkbWVhbiwgJHZhcmlhbmNlLCAkb2Zmc2V0LCAkc2NhbGUsIHZhcmlhbmNlRXBzaWxvbik7XG59XG5cbmV4cG9ydCBjb25zdCBiYXRjaE5vcm0yZCA9IG9wKHtiYXRjaE5vcm0yZF99KTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cbmltcG9ydCB7VGVuc29yMUQsIFRlbnNvcjNEfSBmcm9tICcuLi90ZW5zb3InO1xuaW1wb3J0IHtjb252ZXJ0VG9UZW5zb3J9IGZyb20gJy4uL3RlbnNvcl91dGlsX2Vudic7XG5pbXBvcnQge1RlbnNvckxpa2V9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCAqIGFzIHV0aWwgZnJvbSAnLi4vdXRpbCc7XG5cbmltcG9ydCB7YmF0Y2hOb3JtfSBmcm9tICcuL2JhdGNobm9ybSc7XG5pbXBvcnQge29wfSBmcm9tICcuL29wZXJhdGlvbic7XG5cbi8qKlxuICogQmF0Y2ggbm9ybWFsaXphdGlvbiwgc3RyaWN0bHkgZm9yIDNELiBGb3IgdGhlIG1vcmUgcmVsYXhlZCB2ZXJzaW9uLCBzZWVcbiAqIGB0Zi5iYXRjaE5vcm1gLlxuICpcbiAqIEBwYXJhbSB4IFRoZSBpbnB1dCBUZW5zb3IuXG4gKiBAcGFyYW0gbWVhbiBBIG1lYW4gVGVuc29yLlxuICogQHBhcmFtIHZhcmlhbmNlIEEgdmFyaWFuY2UgVGVuc29yLlxuICogQHBhcmFtIG9mZnNldCBBbiBvZmZzZXQgVGVuc29yLlxuICogQHBhcmFtIHNjYWxlIEEgc2NhbGUgVGVuc29yLlxuICogQHBhcmFtIHZhcmlhbmNlRXBzaWxvbiBBIHNtYWxsIGZsb2F0IG51bWJlciB0byBhdm9pZCBkaXZpZGluZyBieSAwLlxuICovXG5mdW5jdGlvbiBiYXRjaE5vcm0zZF8oXG4gICAgeDogVGVuc29yM0R8VGVuc29yTGlrZSwgbWVhbjogVGVuc29yM0R8VGVuc29yMUR8VGVuc29yTGlrZSxcbiAgICB2YXJpYW5jZTogVGVuc29yM0R8VGVuc29yMUR8VGVuc29yTGlrZSxcbiAgICBvZmZzZXQ/OiBUZW5zb3IzRHxUZW5zb3IxRHxUZW5zb3JMaWtlLCBzY2FsZT86IFRlbnNvcjNEfFRlbnNvcjFEfFRlbnNvckxpa2UsXG4gICAgdmFyaWFuY2VFcHNpbG9uPzogbnVtYmVyKTogVGVuc29yM0Qge1xuICBjb25zdCAkeCA9IGNvbnZlcnRUb1RlbnNvcih4LCAneCcsICdiYXRjaE5vcm0nKTtcbiAgY29uc3QgJG1lYW4gPSBjb252ZXJ0VG9UZW5zb3IobWVhbiwgJ21lYW4nLCAnYmF0Y2hOb3JtJyk7XG4gIGNvbnN0ICR2YXJpYW5jZSA9IGNvbnZlcnRUb1RlbnNvcih2YXJpYW5jZSwgJ3ZhcmlhbmNlJywgJ2JhdGNoTm9ybScpO1xuICBsZXQgJHNjYWxlOiBUZW5zb3IzRHxUZW5zb3IxRDtcbiAgaWYgKHNjYWxlICE9IG51bGwpIHtcbiAgICAkc2NhbGUgPSBjb252ZXJ0VG9UZW5zb3Ioc2NhbGUsICdzY2FsZScsICdiYXRjaE5vcm0nKTtcbiAgfVxuICBsZXQgJG9mZnNldDogVGVuc29yM0R8VGVuc29yMUQ7XG4gIGlmIChvZmZzZXQgIT0gbnVsbCkge1xuICAgICRvZmZzZXQgPSBjb252ZXJ0VG9UZW5zb3Iob2Zmc2V0LCAnb2Zmc2V0JywgJ2JhdGNoTm9ybScpO1xuICB9XG4gIHV0aWwuYXNzZXJ0KFxuICAgICAgJHgucmFuayA9PT0gMyxcbiAgICAgICgpID0+IGBFcnJvciBpbiBiYXRjaE5vcm0zRDogeCBtdXN0IGJlIHJhbmsgMyBidXQgZ290IHJhbmsgYCArXG4gICAgICAgICAgYCR7JHgucmFua30uYCk7XG4gIHV0aWwuYXNzZXJ0KFxuICAgICAgJG1lYW4ucmFuayA9PT0gMyB8fCAkbWVhbi5yYW5rID09PSAxLFxuICAgICAgKCkgPT4gYEVycm9yIGluIGJhdGNoTm9ybTNEOiBtZWFuIG11c3QgYmUgcmFuayAzIG9yIHJhbmsgMSBidXQgYCArXG4gICAgICAgICAgYGdvdCByYW5rICR7JG1lYW4ucmFua30uYCk7XG4gIHV0aWwuYXNzZXJ0KFxuICAgICAgJHZhcmlhbmNlLnJhbmsgPT09IDMgfHwgJHZhcmlhbmNlLnJhbmsgPT09IDEsXG4gICAgICAoKSA9PiBgRXJyb3IgaW4gYmF0Y2hOb3JtM0Q6IHZhcmlhbmNlIG11c3QgYmUgcmFuayAzIG9yIHJhbmsgMSBgICtcbiAgICAgICAgICBgYnV0IGdvdCByYW5rICR7JHZhcmlhbmNlLnJhbmt9LmApO1xuICBpZiAoJHNjYWxlICE9IG51bGwpIHtcbiAgICB1dGlsLmFzc2VydChcbiAgICAgICAgJHNjYWxlLnJhbmsgPT09IDMgfHwgJHNjYWxlLnJhbmsgPT09IDEsXG4gICAgICAgICgpID0+IGBFcnJvciBpbiBiYXRjaE5vcm0zRDogc2NhbGUgbXVzdCBiZSByYW5rIDMgb3IgcmFuayAxIGAgK1xuICAgICAgICAgICAgYGJ1dCBnb3QgcmFuayAkeyRzY2FsZS5yYW5rfS5gKTtcbiAgfVxuICBpZiAoJG9mZnNldCAhPSBudWxsKSB7XG4gICAgdXRpbC5hc3NlcnQoXG4gICAgICAgICRvZmZzZXQucmFuayA9PT0gMyB8fCAkb2Zmc2V0LnJhbmsgPT09IDEsXG4gICAgICAgICgpID0+IGBFcnJvciBpbiBiYXRjaE5vcm0zRDogb2Zmc2V0IG11c3QgYmUgcmFuayAzIG9yIHJhbmsgMSBgICtcbiAgICAgICAgICAgIGBidXQgZ290IHJhbmsgJHskb2Zmc2V0LnJhbmt9LmApO1xuICB9XG5cbiAgcmV0dXJuIGJhdGNoTm9ybSgkeCwgJG1lYW4sICR2YXJpYW5jZSwgJG9mZnNldCwgJHNjYWxlLCB2YXJpYW5jZUVwc2lsb24pO1xufVxuXG5leHBvcnQgY29uc3QgYmF0Y2hOb3JtM2QgPSBvcCh7YmF0Y2hOb3JtM2RffSk7XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5pbXBvcnQge1RlbnNvcjFELCBUZW5zb3I0RH0gZnJvbSAnLi4vdGVuc29yJztcbmltcG9ydCB7Y29udmVydFRvVGVuc29yfSBmcm9tICcuLi90ZW5zb3JfdXRpbF9lbnYnO1xuaW1wb3J0IHtUZW5zb3JMaWtlfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgKiBhcyB1dGlsIGZyb20gJy4uL3V0aWwnO1xuXG5pbXBvcnQge2JhdGNoTm9ybX0gZnJvbSAnLi9iYXRjaG5vcm0nO1xuaW1wb3J0IHtvcH0gZnJvbSAnLi9vcGVyYXRpb24nO1xuXG4vKipcbiAqIEJhdGNoIG5vcm1hbGl6YXRpb24sIHN0cmljdGx5IGZvciA0RC4gRm9yIHRoZSBtb3JlIHJlbGF4ZWQgdmVyc2lvbiwgc2VlXG4gKiBgdGYuYmF0Y2hOb3JtYC5cbiAqXG4gKiBAcGFyYW0geCBUaGUgaW5wdXQgVGVuc29yLlxuICogQHBhcmFtIG1lYW4gQSBtZWFuIFRlbnNvci5cbiAqIEBwYXJhbSB2YXJpYW5jZSBBIHZhcmlhbmNlIFRlbnNvci5cbiAqIEBwYXJhbSBvZmZzZXQgQW4gb2Zmc2V0IFRlbnNvci5cbiAqIEBwYXJhbSBzY2FsZSBBIHNjYWxlIFRlbnNvci5cbiAqIEBwYXJhbSB2YXJpYW5jZUVwc2lsb24gQSBzbWFsbCBmbG9hdCBudW1iZXIgdG8gYXZvaWQgZGl2aWRpbmcgYnkgMC5cbiAqL1xuZnVuY3Rpb24gYmF0Y2hOb3JtNGRfKFxuICAgIHg6IFRlbnNvcjREfFRlbnNvckxpa2UsIG1lYW46IFRlbnNvcjREfFRlbnNvcjFEfFRlbnNvckxpa2UsXG4gICAgdmFyaWFuY2U6IFRlbnNvcjREfFRlbnNvcjFEfFRlbnNvckxpa2UsXG4gICAgb2Zmc2V0PzogVGVuc29yNER8VGVuc29yMUR8VGVuc29yTGlrZSwgc2NhbGU/OiBUZW5zb3I0RHxUZW5zb3IxRHxUZW5zb3JMaWtlLFxuICAgIHZhcmlhbmNlRXBzaWxvbj86IG51bWJlcik6IFRlbnNvcjREIHtcbiAgY29uc3QgJHggPSBjb252ZXJ0VG9UZW5zb3IoeCwgJ3gnLCAnYmF0Y2hOb3JtJyk7XG4gIGNvbnN0ICRtZWFuID0gY29udmVydFRvVGVuc29yKG1lYW4sICdtZWFuJywgJ2JhdGNoTm9ybScpO1xuICBjb25zdCAkdmFyaWFuY2UgPSBjb252ZXJ0VG9UZW5zb3IodmFyaWFuY2UsICd2YXJpYW5jZScsICdiYXRjaE5vcm0nKTtcbiAgbGV0ICRzY2FsZTogVGVuc29yNER8VGVuc29yMUQ7XG4gIGlmIChzY2FsZSAhPSBudWxsKSB7XG4gICAgJHNjYWxlID0gY29udmVydFRvVGVuc29yKHNjYWxlLCAnc2NhbGUnLCAnYmF0Y2hOb3JtJyk7XG4gIH1cbiAgbGV0ICRvZmZzZXQ6IFRlbnNvcjREfFRlbnNvcjFEO1xuICBpZiAob2Zmc2V0ICE9IG51bGwpIHtcbiAgICAkb2Zmc2V0ID0gY29udmVydFRvVGVuc29yKG9mZnNldCwgJ29mZnNldCcsICdiYXRjaE5vcm0nKTtcbiAgfVxuICB1dGlsLmFzc2VydChcbiAgICAgICR4LnJhbmsgPT09IDQsXG4gICAgICAoKSA9PiBgRXJyb3IgaW4gYmF0Y2hOb3JtNEQ6IHggbXVzdCBiZSByYW5rIDQgYnV0IGdvdCByYW5rIGAgK1xuICAgICAgICAgIGAkeyR4LnJhbmt9LmApO1xuICB1dGlsLmFzc2VydChcbiAgICAgICRtZWFuLnJhbmsgPT09IDQgfHwgJG1lYW4ucmFuayA9PT0gMSxcbiAgICAgICgpID0+IGBFcnJvciBpbiBiYXRjaE5vcm00RDogbWVhbiBtdXN0IGJlIHJhbmsgNCBvciByYW5rIDEgYnV0IGAgK1xuICAgICAgICAgIGBnb3QgcmFuayAkeyRtZWFuLnJhbmt9LmApO1xuICB1dGlsLmFzc2VydChcbiAgICAgICR2YXJpYW5jZS5yYW5rID09PSA0IHx8ICR2YXJpYW5jZS5yYW5rID09PSAxLFxuICAgICAgKCkgPT4gYEVycm9yIGluIGJhdGNoTm9ybTREOiB2YXJpYW5jZSBtdXN0IGJlIHJhbmsgNCBvciByYW5rIDEgYCArXG4gICAgICAgICAgYGJ1dCBnb3QgcmFuayAkeyR2YXJpYW5jZS5yYW5rfS5gKTtcbiAgaWYgKCRzY2FsZSAhPSBudWxsKSB7XG4gICAgdXRpbC5hc3NlcnQoXG4gICAgICAgICRzY2FsZS5yYW5rID09PSA0IHx8ICRzY2FsZS5yYW5rID09PSAxLFxuICAgICAgICAoKSA9PiBgRXJyb3IgaW4gYmF0Y2hOb3JtNEQ6IHNjYWxlIG11c3QgYmUgcmFuayA0IG9yIHJhbmsgMSBgICtcbiAgICAgICAgICAgIGBidXQgZ290IHJhbmsgJHskc2NhbGUucmFua30uYCk7XG4gIH1cbiAgaWYgKCRvZmZzZXQgIT0gbnVsbCkge1xuICAgIHV0aWwuYXNzZXJ0KFxuICAgICAgICAkb2Zmc2V0LnJhbmsgPT09IDQgfHwgJG9mZnNldC5yYW5rID09PSAxLFxuICAgICAgICAoKSA9PiBgRXJyb3IgaW4gYmF0Y2hOb3JtNEQ6IG9mZnNldCBtdXN0IGJlIHJhbmsgNCBvciByYW5rIDEgYCArXG4gICAgICAgICAgICBgYnV0IGdvdCByYW5rICR7JG9mZnNldC5yYW5rfS5gKTtcbiAgfVxuICByZXR1cm4gYmF0Y2hOb3JtKCR4LCAkbWVhbiwgJHZhcmlhbmNlLCAkb2Zmc2V0LCAkc2NhbGUsIHZhcmlhbmNlRXBzaWxvbik7XG59XG5cbmV4cG9ydCBjb25zdCBiYXRjaE5vcm00ZCA9IG9wKHtiYXRjaE5vcm00ZF99KTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuaW1wb3J0IHtLZXJuZWxCYWNrZW5kfSBmcm9tICcuLi9iYWNrZW5kcy9iYWNrZW5kJztcbmltcG9ydCB7RU5HSU5FfSBmcm9tICcuLi9lbmdpbmUnO1xuaW1wb3J0IHtCcm9hZGNhc3RUbywgQnJvYWRDYXN0VG9BdHRycywgQnJvYWRjYXN0VG9JbnB1dHN9IGZyb20gJy4uL2tlcm5lbF9uYW1lcyc7XG5pbXBvcnQge05hbWVkQXR0ck1hcH0gZnJvbSAnLi4va2VybmVsX3JlZ2lzdHJ5JztcbmltcG9ydCB7VGVuc29yfSBmcm9tICcuLi90ZW5zb3InO1xuaW1wb3J0IHtOYW1lZFRlbnNvck1hcH0gZnJvbSAnLi4vdGVuc29yX3R5cGVzJztcbmltcG9ydCB7Y29udmVydFRvVGVuc29yfSBmcm9tICcuLi90ZW5zb3JfdXRpbF9lbnYnO1xuaW1wb3J0IHtSYW5rLCBTaGFwZU1hcCwgVGVuc29yTGlrZX0gZnJvbSAnLi4vdHlwZXMnO1xuXG5pbXBvcnQge2Nsb25lfSBmcm9tICcuL2Nsb25lJztcbmltcG9ydCB7b3B9IGZyb20gJy4vb3BlcmF0aW9uJztcbmltcG9ydCB7cmVzaGFwZX0gZnJvbSAnLi9yZXNoYXBlJztcblxuLyoqXG4gKiBCcm9hZGNhc3QgYW4gYXJyYXkgdG8gYSBjb21wYXRpYmxlIHNoYXBlIE51bVB5LXN0eWxlLlxuICpcbiAqIFRoZSB0ZW5zb3IncyBzaGFwZSBpcyBjb21wYXJlZCB0byB0aGUgYnJvYWRjYXN0IHNoYXBlIGZyb20gZW5kIHRvIGJlZ2lubmluZy5cbiAqIE9uZXMgYXJlIHByZXBlbmRlZCB0byB0aGUgdGVuc29yJ3Mgc2hhcGUgdW50aWwgaXMgaGFzIHRoZSBzYW1lIGxlbmd0aCBhc1xuICogdGhlIGJyb2FkY2FzdCBzaGFwZS4gSWYgaW5wdXQuc2hhcGVbaV09PXNoYXBlW2ldLCB0aGUgKGkrMSktdGggYXhpcyBpc1xuICogYWxyZWFkeSBicm9hZGNhc3QtY29tcGF0aWJsZS4gSWYgaW5wdXQuc2hhcGVbaV09PTEgYW5kIHNoYXBlW2ldPT1OLCB0aGVuXG4gKiB0aGUgaW5wdXQgdGVuc29yIGlzIHRpbGVkIE4gdGltZXMgYWxvbmcgdGhhdCBheGlzICh1c2luZyB0Zi50aWxlKS5cbiAqXG4gKiBAcGFyYW0gaW5wdXQgVGhlIHRlbnNvciB0aGF0IGlzIHRvIGJlIGJyb2FkY2FzdGVkLlxuICogQHBhcmFtIHNoYXBlIFRoZSBpbnB1dCBpcyB0byBiZSBicm9hZGNhc3QgdG8gdGhpcyBzaGFwZS5cbiAqXG4gKiBAZG9jIHtoZWFkaW5nOiAnVGVuc29ycycsIHN1YmhlYWRpbmc6ICdUcmFuc2Zvcm1hdGlvbnMnfVxuICovXG5mdW5jdGlvbiBicm9hZGNhc3RUb188UiBleHRlbmRzIFJhbms+KFxuICAgIHg6IFRlbnNvcnxUZW5zb3JMaWtlLCBzaGFwZTogU2hhcGVNYXBbUl0pOiBUZW5zb3I8Uj4ge1xuICBsZXQgaW5wdXQgPSBjb252ZXJ0VG9UZW5zb3IoeCwgJ2Jyb2FkY2FzdFRvJywgJ3gnKTtcbiAgY29uc3QgeFNoYXBlID0gaW5wdXQuc2hhcGU7XG5cbiAgaWYgKHNoYXBlLnNvbWUoZCA9PiAhKGQgPiAwKSB8fCBkICUgMSAhPT0gMCkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYGJyb2FkY2FzdFRvKCk6IEludmFsaWQgYnJvYWRjYXN0IHNoYXBlIFske3NoYXBlfV0uYCk7XG4gIH1cblxuICBpZiAoc2hhcGUubGVuZ3RoIDwgaW5wdXQucmFuaykge1xuICAgIHRocm93IG5ldyBFcnJvcihgYnJvYWRjYXN0VG8oKTogc2hhcGUubGVuZ3RoPSR7c2hhcGUubGVuZ3RofSA8IGlucHV0LnJhbms9JHtcbiAgICAgICAgaW5wdXQucmFua30uYCk7XG4gIH1cblxuICBpZiAoc2hhcGUubGVuZ3RoID4gaW5wdXQucmFuaykge1xuICAgIGNvbnN0IG5ld1NoYXBlID0gaW5wdXQuc2hhcGUuc2xpY2UoKTtcbiAgICB3aGlsZSAobmV3U2hhcGUubGVuZ3RoIDwgc2hhcGUubGVuZ3RoKSB7XG4gICAgICBuZXdTaGFwZS51bnNoaWZ0KDEpO1xuICAgIH1cbiAgICBpbnB1dCA9IHJlc2hhcGUoaW5wdXQsIG5ld1NoYXBlKTtcbiAgfVxuXG4gIGNvbnN0IGlucHV0U2hhcGUgPSBpbnB1dC5zaGFwZTtcbiAgY29uc3QgcmVwczogbnVtYmVyW10gPSBBcnJheS5mcm9tKHNoYXBlKTtcbiAgZm9yIChsZXQgaSA9IHNoYXBlLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgaWYgKGlucHV0U2hhcGVbaV0gPT09IHNoYXBlW2ldKSB7XG4gICAgICByZXBzW2ldID0gMTtcbiAgICB9IGVsc2UgaWYgKGlucHV0LnNoYXBlW2ldICE9PSAxKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgYGJyb2FkY2FzdFRvKCk6IFske3hTaGFwZX1dIGNhbm5vdCBiZSBicm9hZGNhc3QgdG8gWyR7c2hhcGV9XS5gKTtcbiAgICB9XG4gIH1cbiAgY29uc3QgYXhlcyA9IHJlcHMubWFwKChuLCBpKSA9PiBuID4gMSA/IGkgOiAtMSkuZmlsdGVyKGkgPT4gaSA+PSAwKTtcblxuICBpZiAoYXhlcy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gY2xvbmUoaW5wdXQpIGFzIFRlbnNvcjxSPjtcbiAgfVxuXG4gIGNvbnN0IGZvcndhcmQgPSAoYmFja2VuZDogS2VybmVsQmFja2VuZCkgPT4gYmFja2VuZC50aWxlKGlucHV0LCByZXBzKTtcblxuICBjb25zdCBpbnB1dHM6IEJyb2FkY2FzdFRvSW5wdXRzID0ge3g6IGlucHV0fTtcbiAgY29uc3QgYXR0cnM6IEJyb2FkQ2FzdFRvQXR0cnMgPSB7c2hhcGUsIGlucHV0U2hhcGV9O1xuXG4gIHJldHVybiBFTkdJTkUucnVuS2VybmVsRnVuYyhcbiAgICAgICAgICAgICBmb3J3YXJkLCBpbnB1dHMgYXMgdW5rbm93biBhcyBOYW1lZFRlbnNvck1hcCwgbnVsbCAvKiBncmFkICovLFxuICAgICAgICAgICAgIEJyb2FkY2FzdFRvLCBhdHRycyBhcyB1bmtub3duIGFzIE5hbWVkQXR0ck1hcCkgYXMgVGVuc29yPFI+O1xufVxuXG5leHBvcnQgY29uc3QgYnJvYWRjYXN0VG8gPSBvcCh7YnJvYWRjYXN0VG9ffSk7XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbmltcG9ydCB7RU5HSU5FfSBmcm9tICcuLi9lbmdpbmUnO1xuaW1wb3J0IHtDZWlsLCBDZWlsSW5wdXRzfSBmcm9tICcuLi9rZXJuZWxfbmFtZXMnO1xuaW1wb3J0IHtUZW5zb3J9IGZyb20gJy4uL3RlbnNvcic7XG5pbXBvcnQge05hbWVkVGVuc29yTWFwfSBmcm9tICcuLi90ZW5zb3JfdHlwZXMnO1xuaW1wb3J0IHtjb252ZXJ0VG9UZW5zb3J9IGZyb20gJy4uL3RlbnNvcl91dGlsX2Vudic7XG5pbXBvcnQge1RlbnNvckxpa2V9IGZyb20gJy4uL3R5cGVzJztcblxuaW1wb3J0IHtvcH0gZnJvbSAnLi9vcGVyYXRpb24nO1xuXG4vKipcbiAqIENvbXB1dGVzIGNlaWxpbmcgb2YgaW5wdXQgYHRmLlRlbnNvcmAgZWxlbWVudC13aXNlOiBgY2VpbCh4KWBcbiAqXG4gKiBgYGBqc1xuICogY29uc3QgeCA9IHRmLnRlbnNvcjFkKFsuNiwgMS4xLCAtMy4zXSk7XG4gKlxuICogeC5jZWlsKCkucHJpbnQoKTsgIC8vIG9yIHRmLmNlaWwoeClcbiAqIGBgYFxuICogQHBhcmFtIHggVGhlIGlucHV0IFRlbnNvci5cbiAqXG4gKiBAZG9jIHtoZWFkaW5nOiAnT3BlcmF0aW9ucycsIHN1YmhlYWRpbmc6ICdCYXNpYyBtYXRoJ31cbiAqL1xuZnVuY3Rpb24gY2VpbF88VCBleHRlbmRzIFRlbnNvcj4oeDogVHxUZW5zb3JMaWtlKTogVCB7XG4gIGNvbnN0ICR4ID0gY29udmVydFRvVGVuc29yKHgsICd4JywgJ2NlaWwnKTtcblxuICBjb25zdCBpbnB1dHM6IENlaWxJbnB1dHMgPSB7eDogJHh9O1xuICByZXR1cm4gRU5HSU5FLnJ1bktlcm5lbEZ1bmMoXG4gICAgICBiYWNrZW5kID0+IGJhY2tlbmQuY2VpbCgkeCksIGlucHV0cyBhcyB7fSBhcyBOYW1lZFRlbnNvck1hcCxcbiAgICAgIG51bGwgLyogZ3JhZCAqLywgQ2VpbCk7XG59XG5leHBvcnQgY29uc3QgY2VpbCA9IG9wKHtjZWlsX30pO1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTggR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuaW1wb3J0IHtFTkdJTkV9IGZyb20gJy4uL2VuZ2luZSc7XG5pbXBvcnQge0NsaXBCeVZhbHVlLCBDbGlwQnlWYWx1ZUF0dHJzLCBDbGlwQnlWYWx1ZUlucHV0c30gZnJvbSAnLi4va2VybmVsX25hbWVzJztcbmltcG9ydCB7TmFtZWRBdHRyTWFwfSBmcm9tICcuLi9rZXJuZWxfcmVnaXN0cnknO1xuaW1wb3J0IHtUZW5zb3J9IGZyb20gJy4uL3RlbnNvcic7XG5pbXBvcnQge05hbWVkVGVuc29yTWFwfSBmcm9tICcuLi90ZW5zb3JfdHlwZXMnO1xuaW1wb3J0IHtjb252ZXJ0VG9UZW5zb3J9IGZyb20gJy4uL3RlbnNvcl91dGlsX2Vudic7XG5pbXBvcnQge1RlbnNvckxpa2V9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCAqIGFzIHV0aWwgZnJvbSAnLi4vdXRpbCc7XG5cbmltcG9ydCB7b3B9IGZyb20gJy4vb3BlcmF0aW9uJztcblxuLyoqXG4gKiBDbGlwcyB2YWx1ZXMgZWxlbWVudC13aXNlLiBgbWF4KG1pbih4LCBjbGlwVmFsdWVNYXgpLCBjbGlwVmFsdWVNaW4pYFxuICpcbiAqIGBgYGpzXG4gKiBjb25zdCB4ID0gdGYudGVuc29yMWQoWy0xLCAyLCAtMywgNF0pO1xuICpcbiAqIHguY2xpcEJ5VmFsdWUoLTIsIDMpLnByaW50KCk7ICAvLyBvciB0Zi5jbGlwQnlWYWx1ZSh4LCAtMiwgMylcbiAqIGBgYFxuICogQHBhcmFtIHggVGhlIGlucHV0IHRlbnNvci5cbiAqIEBwYXJhbSBjbGlwVmFsdWVNaW4gTG93ZXItYm91bmQgb2YgcmFuZ2UgdG8gYmUgY2xpcHBlZCB0by5cbiAqIEBwYXJhbSBjbGlwVmFsdWVNYXggVXBwZXItYm91bmQgb2YgcmFuZ2UgdG8gYmUgY2xpcHBlZCB0by5cbiAqXG4gKiBAZG9jIHtoZWFkaW5nOiAnT3BlcmF0aW9ucycsIHN1YmhlYWRpbmc6ICdCYXNpYyBtYXRoJ31cbiAqL1xuZnVuY3Rpb24gY2xpcEJ5VmFsdWVfPFQgZXh0ZW5kcyBUZW5zb3I+KFxuICAgIHg6IFR8VGVuc29yTGlrZSwgY2xpcFZhbHVlTWluOiBudW1iZXIsIGNsaXBWYWx1ZU1heDogbnVtYmVyKTogVCB7XG4gIGNvbnN0ICR4ID0gY29udmVydFRvVGVuc29yKHgsICd4JywgJ2NsaXBCeVZhbHVlJyk7XG4gIHV0aWwuYXNzZXJ0KFxuICAgICAgKGNsaXBWYWx1ZU1pbiA8PSBjbGlwVmFsdWVNYXgpLFxuICAgICAgKCkgPT4gYEVycm9yIGluIGNsaXA6IG1pbiAoJHtjbGlwVmFsdWVNaW59KSBtdXN0IGJlIGAgK1xuICAgICAgICAgIGBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gbWF4ICgke2NsaXBWYWx1ZU1heH0pLmApO1xuXG4gIGNvbnN0IGlucHV0czogQ2xpcEJ5VmFsdWVJbnB1dHMgPSB7eDogJHh9O1xuICBjb25zdCBhdHRyczogQ2xpcEJ5VmFsdWVBdHRycyA9IHtjbGlwVmFsdWVNaW4sIGNsaXBWYWx1ZU1heH07XG5cbiAgcmV0dXJuIEVOR0lORS5ydW5LZXJuZWxGdW5jKFxuICAgICAgKGJhY2tlbmQsIHNhdmUpID0+IHtcbiAgICAgICAgY29uc3QgcmVzID0gYmFja2VuZC5jbGlwKCR4LCBjbGlwVmFsdWVNaW4sIGNsaXBWYWx1ZU1heCk7XG4gICAgICAgIHNhdmUoWyR4XSk7XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgICB9LFxuICAgICAgaW5wdXRzIGFzIHt9IGFzIE5hbWVkVGVuc29yTWFwLCBudWxsIC8qIGdyYWQgKi8sIENsaXBCeVZhbHVlLFxuICAgICAgYXR0cnMgYXMge30gYXMgTmFtZWRBdHRyTWFwKTtcbn1cblxuZXhwb3J0IGNvbnN0IGNsaXBCeVZhbHVlID0gb3Aoe2NsaXBCeVZhbHVlX30pO1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuaW1wb3J0IHtUZW5zb3IxRH0gZnJvbSAnLi4vdGVuc29yJztcbmltcG9ydCB7VGVuc29yTGlrZX0gZnJvbSAnLi4vdHlwZXMnO1xuXG5pbXBvcnQge2NvbmNhdH0gZnJvbSAnLi9jb25jYXQnO1xuaW1wb3J0IHtvcH0gZnJvbSAnLi9vcGVyYXRpb24nO1xuXG4vKipcbiAqIENvbmNhdGVuYXRlcyBhIGxpc3Qgb2ZgdGYuVGVuc29yMURgcyBhbG9uZyBhbiBheGlzLiBTZWUgYGNvbmNhdGAgZm9yIGRldGFpbHMuXG4gKlxuICogRm9yIGV4YW1wbGUsIGlmOlxuICogQTogc2hhcGUoMykgPSB8cjEsIGcxLCBiMXxcbiAqIEI6IHNoYXBlKDIpID0gfHIyLCBnMnxcbiAqIEMgPSB0Zi5jb25jYXQxZChbQSwgQl0pID09IHxyMSwgZzEsIGIxLCByMiwgZzJ8XG4gKlxuICogQHBhcmFtIHRlbnNvcnMgQSBsaXN0IG9mYHRmLlRlbnNvcmBzIHRvIGNvbmNhdGVuYXRlLlxuICogQHJldHVybiBUaGUgY29uY2F0ZW5hdGVkIGFycmF5LlxuICovXG5mdW5jdGlvbiBjb25jYXQxZF8odGVuc29yczogQXJyYXk8VGVuc29yMUR8VGVuc29yTGlrZT4pOiBUZW5zb3IxRCB7XG4gIHJldHVybiBjb25jYXQodGVuc29ycywgMCAvKiBheGlzICovKTtcbn1cblxuZXhwb3J0IGNvbnN0IGNvbmNhdDFkID0gb3Aoe2NvbmNhdDFkX30pO1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuaW1wb3J0IHtUZW5zb3IyRH0gZnJvbSAnLi4vdGVuc29yJztcbmltcG9ydCB7VGVuc29yTGlrZX0gZnJvbSAnLi4vdHlwZXMnO1xuXG5pbXBvcnQge2NvbmNhdH0gZnJvbSAnLi9jb25jYXQnO1xuaW1wb3J0IHtvcH0gZnJvbSAnLi9vcGVyYXRpb24nO1xuXG4vKipcbiAqIENvbmNhdGVuYXRlcyBhIGxpc3Qgb2ZgdGYuVGVuc29yMkRgcyBhbG9uZyBhbiBheGlzLiBTZWUgYGNvbmNhdGAgZm9yIGRldGFpbHMuXG4gKlxuICogRm9yIGV4YW1wbGUsIGlmOlxuICogQTogc2hhcGUoMiwgMykgPSB8IHIxLCBnMSwgYjEgfFxuICogICAgICAgICAgICAgICAgICB8IHIyLCBnMiwgYjIgfFxuICpcbiAqIEI6IHNoYXBlKDIsIDMpID0gfCByMywgZzMsIGIzIHxcbiAqICAgICAgICAgICAgICAgICAgfCByNCwgZzQsIGI0IHxcbiAqXG4gKiBDID0gdGYuY29uY2F0MmQoW0EsIEJdLCBheGlzKVxuICpcbiAqIGlmIGF4aXMgPSAwOlxuICogQzogc2hhcGUoNCwgMykgPSB8IHIxLCBnMSwgYjEgfFxuICogICAgICAgICAgICAgICAgICB8IHIyLCBnMiwgYjIgfFxuICogICAgICAgICAgICAgICAgICB8IHIzLCBnMywgYjMgfFxuICogICAgICAgICAgICAgICAgICB8IHI0LCBnNCwgYjQgfFxuICpcbiAqIGlmIGF4aXMgPSAxOlxuICogQyA9IHNoYXBlKDIsIDYpID0gfCByMSwgZzEsIGIxLCByMywgZzMsIGIzIHxcbiAqICAgICAgICAgICAgICAgICAgIHwgcjIsIGcyLCBiMiwgcjQsIGc0LCBiNCB8XG4gKlxuICpcbiAqIEBwYXJhbSB0ZW5zb3JzIEEgbGlzdCBvZiBgdGYuVGVuc29yYHMgdG8gY29uY2F0ZW5hdGUuXG4gKiBAcGFyYW0gYXhpcyBUaGUgYXhpcyB0byBjb25jYXRlbmF0ZSBhbG9uZy5cbiAqIEByZXR1cm4gVGhlIGNvbmNhdGVuYXRlZCBhcnJheS5cbiAqL1xuZnVuY3Rpb24gY29uY2F0MmRfKFxuICAgIHRlbnNvcnM6IEFycmF5PFRlbnNvcjJEfFRlbnNvckxpa2U+LCBheGlzOiBudW1iZXIpOiBUZW5zb3IyRCB7XG4gIHJldHVybiBjb25jYXQodGVuc29ycywgYXhpcyk7XG59XG5cbmV4cG9ydCBjb25zdCBjb25jYXQyZCA9IG9wKHtjb25jYXQyZF99KTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cbmltcG9ydCB7VGVuc29yM0R9IGZyb20gJy4uL3RlbnNvcic7XG5pbXBvcnQge1RlbnNvckxpa2V9IGZyb20gJy4uL3R5cGVzJztcblxuaW1wb3J0IHtjb25jYXR9IGZyb20gJy4vY29uY2F0JztcbmltcG9ydCB7b3B9IGZyb20gJy4vb3BlcmF0aW9uJztcblxuLyoqXG4gKiBDb25jYXRlbmF0ZXMgYSBsaXN0IG9mIGB0Zi5UZW5zb3IzRGBzIGFsb25nIGFuIGF4aXMuXG4gKiBTZWUgYGNvbmNhdGAgZm9yIGRldGFpbHMuXG4gKlxuICogRm9yIGV4YW1wbGUsIGlmOlxuICogQTogc2hhcGUoMiwgMSwgMykgPSB8IHIxLCBnMSwgYjEgfFxuICogICAgICAgICAgICAgICAgICAgICB8IHIyLCBnMiwgYjIgfFxuICpcbiAqIEI6IHNoYXBlKDIsIDEsIDMpID0gfCByMywgZzMsIGIzIHxcbiAqICAgICAgICAgICAgICAgICAgICAgfCByNCwgZzQsIGI0IHxcbiAqXG4gKiBDID0gdGYuY29uY2F0M2QoW0EsIEJdLCBheGlzKVxuICpcbiAqIGlmIGF4aXMgPSAwOlxuICogQzogc2hhcGUoNCwgMSwgMykgPSB8IHIxLCBnMSwgYjEgfFxuICogICAgICAgICAgICAgICAgICAgICB8IHIyLCBnMiwgYjIgfFxuICogICAgICAgICAgICAgICAgICAgICB8IHIzLCBnMywgYjMgfFxuICogICAgICAgICAgICAgICAgICAgICB8IHI0LCBnNCwgYjQgfFxuICpcbiAqIGlmIGF4aXMgPSAxOlxuICogQzogc2hhcGUoMiwgMiwgMykgPSB8IHIxLCBnMSwgYjEsIHIzLCBnMywgYjMgfFxuICogICAgICAgICAgICAgICAgICAgICB8IHIyLCBnMiwgYjIsIHI0LCBnNCwgYjQgfFxuICpcbiAqIGlmIGF4aXMgPSAyOlxuICogQyA9IHNoYXBlKDIsIDEsIDYpID0gfCByMSwgZzEsIGIxLCByMywgZzMsIGIzIHxcbiAqICAgICAgICAgICAgICAgICAgICAgIHwgcjIsIGcyLCBiMiwgcjQsIGc0LCBiNCB8XG4gKlxuICogQHBhcmFtIHRlbnNvcnMgQSBsaXN0IG9mYHRmLlRlbnNvcmBzIHRvIGNvbmNhdGVuYXRlLlxuICogQHBhcmFtIGF4aXMgVGhlIGF4aXMgdG8gY29uY2F0ZSBhbG9uZy5cbiAqIEByZXR1cm4gVGhlIGNvbmNhdGVuYXRlZCBhcnJheS5cbiAqL1xuZnVuY3Rpb24gY29uY2F0M2RfKFxuICAgIHRlbnNvcnM6IEFycmF5PFRlbnNvcjNEfFRlbnNvckxpa2U+LCBheGlzOiBudW1iZXIpOiBUZW5zb3IzRCB7XG4gIHJldHVybiBjb25jYXQodGVuc29ycywgYXhpcyk7XG59XG5cbmV4cG9ydCBjb25zdCBjb25jYXQzZCA9IG9wKHtjb25jYXQzZF99KTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cbmltcG9ydCB7VGVuc29yNER9IGZyb20gJy4uL3RlbnNvcic7XG5pbXBvcnQge1RlbnNvckxpa2V9IGZyb20gJy4uL3R5cGVzJztcblxuaW1wb3J0IHtjb25jYXR9IGZyb20gJy4vY29uY2F0JztcbmltcG9ydCB7b3B9IGZyb20gJy4vb3BlcmF0aW9uJztcblxuLyoqXG4gKiBDb25jYXRlbmF0ZXMgYSBsaXN0IG9mIGB0Zi5UZW5zb3I0RGBzIGFsb25nIGFuIGF4aXMuXG4gKiBTZWUgYGNvbmNhdGAgZm9yIGRldGFpbHMuXG4gKlxuICogQHBhcmFtIHRlbnNvcnMgQSBsaXN0IG9mIGB0Zi5UZW5zb3JgcyB0byBjb25jYXRlbmF0ZS5cbiAqIEBwYXJhbSBheGlzIFRoZSBheGlzIHRvIGNvbmNhdGUgYWxvbmcuXG4gKiBAcmV0dXJuIFRoZSBjb25jYXRlbmF0ZWQgYXJyYXkuXG4gKi9cbmZ1bmN0aW9uIGNvbmNhdDRkXyhcbiAgICB0ZW5zb3JzOiBBcnJheTxUZW5zb3I0RHxUZW5zb3JMaWtlPiwgYXhpczogbnVtYmVyKTogVGVuc29yNEQge1xuICByZXR1cm4gY29uY2F0KHRlbnNvcnMsIGF4aXMpO1xufVxuXG5leHBvcnQgY29uc3QgY29uY2F0NGQgPSBvcCh7Y29uY2F0NGRffSk7XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5pbXBvcnQge0VOR0lORSwgRm9yd2FyZEZ1bmN9IGZyb20gJy4uL2VuZ2luZSc7XG5pbXBvcnQge0NvbnYyRCwgQ29udjJEQXR0cnMsIENvbnYyRElucHV0c30gZnJvbSAnLi4va2VybmVsX25hbWVzJztcbmltcG9ydCB7TmFtZWRBdHRyTWFwfSBmcm9tICcuLi9rZXJuZWxfcmVnaXN0cnknO1xuaW1wb3J0IHtUZW5zb3IsIFRlbnNvcjNELCBUZW5zb3I0RH0gZnJvbSAnLi4vdGVuc29yJztcbmltcG9ydCB7TmFtZWRUZW5zb3JNYXB9IGZyb20gJy4uL3RlbnNvcl90eXBlcyc7XG5pbXBvcnQge2NvbnZlcnRUb1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yX3V0aWxfZW52JztcbmltcG9ydCB7VGVuc29yTGlrZX0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0ICogYXMgdXRpbCBmcm9tICcuLi91dGlsJztcblxuaW1wb3J0ICogYXMgY29udl91dGlsIGZyb20gJy4vY29udl91dGlsJztcbmltcG9ydCB7b3B9IGZyb20gJy4vb3BlcmF0aW9uJztcbmltcG9ydCB7cmVzaGFwZX0gZnJvbSAnLi9yZXNoYXBlJztcblxuLyoqXG4gKiBDb21wdXRlcyBhIDJEIGNvbnZvbHV0aW9uIG92ZXIgdGhlIGlucHV0IHguXG4gKlxuICogQHBhcmFtIHggVGhlIGlucHV0IHRlbnNvciwgb2YgcmFuayA0IG9yIHJhbmsgMywgb2Ygc2hhcGVcbiAqICAgICBgW2JhdGNoLCBoZWlnaHQsIHdpZHRoLCBpbkNoYW5uZWxzXWAuIElmIHJhbmsgMywgYmF0Y2ggb2YgMSBpc1xuICogYXNzdW1lZC5cbiAqIEBwYXJhbSBmaWx0ZXIgVGhlIGZpbHRlciwgcmFuayA0LCBvZiBzaGFwZVxuICogICAgIGBbZmlsdGVySGVpZ2h0LCBmaWx0ZXJXaWR0aCwgaW5EZXB0aCwgb3V0RGVwdGhdYC5cbiAqIEBwYXJhbSBzdHJpZGVzIFRoZSBzdHJpZGVzIG9mIHRoZSBjb252b2x1dGlvbjogYFtzdHJpZGVIZWlnaHQsXG4gKiBzdHJpZGVXaWR0aF1gLlxuICogQHBhcmFtIHBhZCBUaGUgdHlwZSBvZiBwYWRkaW5nIGFsZ29yaXRobS5cbiAqICAgIC0gYHNhbWVgIGFuZCBzdHJpZGUgMTogb3V0cHV0IHdpbGwgYmUgb2Ygc2FtZSBzaXplIGFzIGlucHV0LFxuICogICAgICAgcmVnYXJkbGVzcyBvZiBmaWx0ZXIgc2l6ZS5cbiAqICAgIC0gYHZhbGlkYDogb3V0cHV0IHdpbGwgYmUgc21hbGxlciB0aGFuIGlucHV0IGlmIGZpbHRlciBpcyBsYXJnZXJcbiAqICAgICAgIHRoYW4gMXgxLlxuICogICAtIEZvciBtb3JlIGluZm8sIHNlZSB0aGlzIGd1aWRlOlxuICogICAgIFtodHRwczovL3d3dy50ZW5zb3JmbG93Lm9yZy9hcGlfZ3VpZGVzL3B5dGhvbi9ubiNDb252b2x1dGlvbl0oXG4gKiAgICAgICAgICBodHRwczovL3d3dy50ZW5zb3JmbG93Lm9yZy9hcGlfZ3VpZGVzL3B5dGhvbi9ubiNDb252b2x1dGlvbilcbiAqIEBwYXJhbSBkYXRhRm9ybWF0OiBBbiBvcHRpb25hbCBzdHJpbmcgZnJvbTogXCJOSFdDXCIsIFwiTkNIV1wiLiBEZWZhdWx0cyB0b1xuICogICAgIFwiTkhXQ1wiLiBTcGVjaWZ5IHRoZSBkYXRhIGZvcm1hdCBvZiB0aGUgaW5wdXQgYW5kIG91dHB1dCBkYXRhLiBXaXRoIHRoZVxuICogICAgIGRlZmF1bHQgZm9ybWF0IFwiTkhXQ1wiLCB0aGUgZGF0YSBpcyBzdG9yZWQgaW4gdGhlIG9yZGVyIG9mOiBbYmF0Y2gsXG4gKiAgICAgaGVpZ2h0LCB3aWR0aCwgY2hhbm5lbHNdLlxuICogQHBhcmFtIGRpbGF0aW9ucyBUaGUgZGlsYXRpb24gcmF0ZXM6IGBbZGlsYXRpb25IZWlnaHQsIGRpbGF0aW9uV2lkdGhdYFxuICogICAgIGluIHdoaWNoIHdlIHNhbXBsZSBpbnB1dCB2YWx1ZXMgYWNyb3NzIHRoZSBoZWlnaHQgYW5kIHdpZHRoIGRpbWVuc2lvbnNcbiAqICAgICBpbiBhdHJvdXMgY29udm9sdXRpb24uIERlZmF1bHRzIHRvIGBbMSwgMV1gLiBJZiBgZGlsYXRpb25zYCBpcyBhIHNpbmdsZVxuICogICAgIG51bWJlciwgdGhlbiBgZGlsYXRpb25IZWlnaHQgPT0gZGlsYXRpb25XaWR0aGAuIElmIGl0IGlzIGdyZWF0ZXIgdGhhblxuICogICAgIDEsIHRoZW4gYWxsIHZhbHVlcyBvZiBgc3RyaWRlc2AgbXVzdCBiZSAxLlxuICogQHBhcmFtIGRpbVJvdW5kaW5nTW9kZSBUaGUgcm91bmRpbmcgbW9kZSB1c2VkIHdoZW4gY29tcHV0aW5nIG91dHB1dFxuICogICAgIGRpbWVuc2lvbnMgaWYgcGFkIGlzIGEgbnVtYmVyLiBJZiBub25lIGlzIHByb3ZpZGVkLCBpdCB3aWxsIG5vdCByb3VuZFxuICogICAgIGFuZCBlcnJvciBpZiB0aGUgb3V0cHV0IGlzIG9mIGZyYWN0aW9uYWwgc2l6ZS5cbiAqXG4gKiBAZG9jIHtoZWFkaW5nOiAnT3BlcmF0aW9ucycsIHN1YmhlYWRpbmc6ICdDb252b2x1dGlvbid9XG4gKi9cbmZ1bmN0aW9uIGNvbnYyZF88VCBleHRlbmRzIFRlbnNvcjNEfFRlbnNvcjREPihcbiAgICB4OiBUfFRlbnNvckxpa2UsIGZpbHRlcjogVGVuc29yNER8VGVuc29yTGlrZSxcbiAgICBzdHJpZGVzOiBbbnVtYmVyLCBudW1iZXJdfG51bWJlcixcbiAgICBwYWQ6ICd2YWxpZCd8J3NhbWUnfG51bWJlcnxjb252X3V0aWwuRXhwbGljaXRQYWRkaW5nLFxuICAgIGRhdGFGb3JtYXQ6ICdOSFdDJ3wnTkNIVycgPSAnTkhXQycsXG4gICAgZGlsYXRpb25zOiBbbnVtYmVyLCBudW1iZXJdfG51bWJlciA9IFsxLCAxXSxcbiAgICBkaW1Sb3VuZGluZ01vZGU/OiAnZmxvb3InfCdyb3VuZCd8J2NlaWwnKTogVCB7XG4gIGNvbnN0ICR4ID0gY29udmVydFRvVGVuc29yKHgsICd4JywgJ2NvbnYyZCcpO1xuICBjb25zdCAkZmlsdGVyID0gY29udmVydFRvVGVuc29yKGZpbHRlciwgJ2ZpbHRlcicsICdjb252MmQnKTtcblxuICBsZXQgeDREID0gJHggYXMgVGVuc29yNEQ7XG4gIGxldCByZXNoYXBlZFRvNEQgPSBmYWxzZTtcblxuICBpZiAoJHgucmFuayA9PT0gMykge1xuICAgIHJlc2hhcGVkVG80RCA9IHRydWU7XG4gICAgeDREID0gcmVzaGFwZSgkeCwgWzEsICR4LnNoYXBlWzBdLCAkeC5zaGFwZVsxXSwgJHguc2hhcGVbMl1dKTtcbiAgfVxuXG4gIHV0aWwuYXNzZXJ0KFxuICAgICAgeDRELnJhbmsgPT09IDQsXG4gICAgICAoKSA9PiBgRXJyb3IgaW4gY29udjJkOiBpbnB1dCBtdXN0IGJlIHJhbmsgNCwgYnV0IGdvdCByYW5rICR7eDRELnJhbmt9LmApO1xuICB1dGlsLmFzc2VydChcbiAgICAgICRmaWx0ZXIucmFuayA9PT0gNCxcbiAgICAgICgpID0+IGBFcnJvciBpbiBjb252MmQ6IGZpbHRlciBtdXN0IGJlIHJhbmsgNCwgYnV0IGdvdCByYW5rIGAgK1xuICAgICAgICAgIGAkeyRmaWx0ZXIucmFua30uYCk7XG4gIGlmIChkaW1Sb3VuZGluZ01vZGUgIT0gbnVsbCkge1xuICAgIHV0aWwuYXNzZXJ0KFxuICAgICAgICB1dGlsLmlzSW50KHBhZCBhcyBudW1iZXIpLFxuICAgICAgICAoKSA9PiBgRXJyb3IgaW4gY29udjJkOiBwYWQgbXVzdCBiZSBhbiBpbnRlZ2VyIHdoZW4gdXNpbmcsIGAgK1xuICAgICAgICAgICAgYGRpbVJvdW5kaW5nTW9kZSAke2RpbVJvdW5kaW5nTW9kZX0gYnV0IGdvdCBwYWQgJHtwYWR9LmApO1xuICB9XG5cbiAgY29uc3QgaW5EZXB0aCA9IGRhdGFGb3JtYXQgPT09ICdOSFdDJyA/IHg0RC5zaGFwZVszXSA6IHg0RC5zaGFwZVsxXTtcbiAgdXRpbC5hc3NlcnQoXG4gICAgICBpbkRlcHRoID09PSAkZmlsdGVyLnNoYXBlWzJdLFxuICAgICAgKCkgPT4gYEVycm9yIGluIGNvbnYyZDogZGVwdGggb2YgaW5wdXQgKCR7aW5EZXB0aH0pIG11c3QgbWF0Y2ggYCArXG4gICAgICAgICAgYGlucHV0IGRlcHRoIGZvciBmaWx0ZXIgJHskZmlsdGVyLnNoYXBlWzJdfS5gKTtcbiAgdXRpbC5hc3NlcnQoXG4gICAgICBjb252X3V0aWwuZWl0aGVyU3RyaWRlc09yRGlsYXRpb25zQXJlT25lKHN0cmlkZXMsIGRpbGF0aW9ucyksXG4gICAgICAoKSA9PiAnRXJyb3IgaW4gY29udjJEOiBFaXRoZXIgc3RyaWRlcyBvciBkaWxhdGlvbnMgbXVzdCBiZSAxLiAnICtcbiAgICAgICAgICBgR290IHN0cmlkZXMgJHtzdHJpZGVzfSBhbmQgZGlsYXRpb25zICcke2RpbGF0aW9uc30nYCk7XG5cbiAgY29uc3QgZm9yd2FyZDogRm9yd2FyZEZ1bmM8VGVuc29yPiA9IChiYWNrZW5kLCBzYXZlKSA9PiB7XG4gICAgY29uc3QgJGRhdGFGb3JtYXQgPSBjb252X3V0aWwuY29udmVydENvbnYyRERhdGFGb3JtYXQoZGF0YUZvcm1hdCk7XG4gICAgY29uc3QgY29udkluZm8gPSBjb252X3V0aWwuY29tcHV0ZUNvbnYyREluZm8oXG4gICAgICAgIHg0RC5zaGFwZSwgJGZpbHRlci5zaGFwZSwgc3RyaWRlcywgZGlsYXRpb25zLCBwYWQsIGRpbVJvdW5kaW5nTW9kZSxcbiAgICAgICAgZmFsc2UsICRkYXRhRm9ybWF0KTtcbiAgICBjb25zdCByZXMgPSBiYWNrZW5kLmNvbnYyZCh4NEQsICRmaWx0ZXIsIGNvbnZJbmZvKTtcblxuICAgIHNhdmUoW3g0RCwgJGZpbHRlcl0pO1xuXG4gICAgcmV0dXJuIHJlcztcbiAgfTtcblxuICBjb25zdCBpbnB1dHM6IENvbnYyRElucHV0cyA9IHt4OiB4NEQsIGZpbHRlcjogJGZpbHRlcn07XG4gIGNvbnN0IGF0dHJzOlxuICAgICAgQ29udjJEQXR0cnMgPSB7c3RyaWRlcywgcGFkLCBkYXRhRm9ybWF0LCBkaWxhdGlvbnMsIGRpbVJvdW5kaW5nTW9kZX07XG5cbiAgY29uc3QgcmVzID0gRU5HSU5FLnJ1bktlcm5lbEZ1bmMoXG4gICAgICBmb3J3YXJkLCBpbnB1dHMgYXMge30gYXMgTmFtZWRUZW5zb3JNYXAsIG51bGwgLyogZ3JhZCAqLywgQ29udjJELFxuICAgICAgYXR0cnMgYXMge30gYXMgTmFtZWRBdHRyTWFwKTtcblxuICBpZiAocmVzaGFwZWRUbzREKSB7XG4gICAgcmV0dXJuIHJlc2hhcGUocmVzLCBbcmVzLnNoYXBlWzFdLCByZXMuc2hhcGVbMl0sIHJlcy5zaGFwZVszXV0pIGFzIFQ7XG4gIH1cbiAgcmV0dXJuIHJlcyBhcyBUO1xufVxuXG5leHBvcnQgY29uc3QgY29udjJkID0gb3Aoe2NvbnYyZF99KTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cbmltcG9ydCB7VGVuc29yMkQsIFRlbnNvcjNELCBUZW5zb3I0RH0gZnJvbSAnLi4vdGVuc29yJztcbmltcG9ydCB7Y29udmVydFRvVGVuc29yfSBmcm9tICcuLi90ZW5zb3JfdXRpbF9lbnYnO1xuaW1wb3J0IHtUZW5zb3JMaWtlfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgKiBhcyB1dGlsIGZyb20gJy4uL3V0aWwnO1xuXG5pbXBvcnQge2NvbnYyZH0gZnJvbSAnLi9jb252MmQnO1xuaW1wb3J0ICogYXMgY29udl91dGlsIGZyb20gJy4vY29udl91dGlsJztcbmltcG9ydCB7b3B9IGZyb20gJy4vb3BlcmF0aW9uJztcbmltcG9ydCB7cmVzaGFwZX0gZnJvbSAnLi9yZXNoYXBlJztcblxuLyoqXG4gKiBDb21wdXRlcyBhIDFEIGNvbnZvbHV0aW9uIG92ZXIgdGhlIGlucHV0IHguXG4gKlxuICogQHBhcmFtIHggVGhlIGlucHV0IHRlbnNvciwgb2YgcmFuayAzIG9yIHJhbmsgMiwgb2Ygc2hhcGVcbiAqICAgICBgW2JhdGNoLCB3aWR0aCwgaW5DaGFubmVsc11gLiBJZiByYW5rIDIsIGJhdGNoIG9mIDEgaXMgYXNzdW1lZC5cbiAqIEBwYXJhbSBmaWx0ZXIgVGhlIGZpbHRlciwgcmFuayAzLCBvZiBzaGFwZVxuICogICAgIGBbZmlsdGVyV2lkdGgsIGluRGVwdGgsIG91dERlcHRoXWAuXG4gKiBAcGFyYW0gc3RyaWRlIFRoZSBudW1iZXIgb2YgZW50cmllcyBieSB3aGljaCB0aGUgZmlsdGVyIGlzIG1vdmVkIHJpZ2h0IGF0XG4gKiAgICAgZWFjaCBzdGVwLlxuICogQHBhcmFtIHBhZCBUaGUgdHlwZSBvZiBwYWRkaW5nIGFsZ29yaXRobS5cbiAqICAgIC0gYHNhbWVgIGFuZCBzdHJpZGUgMTogb3V0cHV0IHdpbGwgYmUgb2Ygc2FtZSBzaXplIGFzIGlucHV0LFxuICogICAgICAgcmVnYXJkbGVzcyBvZiBmaWx0ZXIgc2l6ZS5cbiAqICAgIC0gYHZhbGlkYDogb3V0cHV0IHdpbGwgYmUgc21hbGxlciB0aGFuIGlucHV0IGlmIGZpbHRlciBpcyBsYXJnZXJcbiAqICAgICAgIHRoYW4gMXgxLlxuICogICAtIEZvciBtb3JlIGluZm8sIHNlZSB0aGlzIGd1aWRlOlxuICogICAgIFtodHRwczovL3d3dy50ZW5zb3JmbG93Lm9yZy9hcGlfZ3VpZGVzL3B5dGhvbi9ubiNDb252b2x1dGlvbl0oXG4gKiAgICAgICAgICBodHRwczovL3d3dy50ZW5zb3JmbG93Lm9yZy9hcGlfZ3VpZGVzL3B5dGhvbi9ubiNDb252b2x1dGlvbilcbiAqIEBwYXJhbSBkYXRhRm9ybWF0IEFuIG9wdGlvbmFsIHN0cmluZyBmcm9tIFwiTldDXCIsIFwiTkNXXCIuIERlZmF1bHRzIHRvIFwiTldDXCIsXG4gKiAgICAgdGhlIGRhdGEgaXMgc3RvcmVkIGluIHRoZSBvcmRlciBvZiBbYmF0Y2gsIGluX3dpZHRoLCBpbl9jaGFubmVsc10uIE9ubHlcbiAqICAgICBcIk5XQ1wiIGlzIGN1cnJlbnRseSBzdXBwb3J0ZWQuXG4gKiBAcGFyYW0gZGlsYXRpb24gVGhlIGRpbGF0aW9uIHJhdGUgaW4gd2hpY2ggd2Ugc2FtcGxlIGlucHV0IHZhbHVlcyBpblxuICogICAgIGF0cm91cyBjb252b2x1dGlvbi4gRGVmYXVsdHMgdG8gYDFgLiBJZiBpdCBpcyBncmVhdGVyIHRoYW4gMSwgdGhlblxuICogICAgIHN0cmlkZSBtdXN0IGJlIGAxYC5cbiAqIEBwYXJhbSBkaW1Sb3VuZGluZ01vZGUgVGhlIHJvdW5kaW5nIG1vZGUgdXNlZCB3aGVuIGNvbXB1dGluZyBvdXRwdXRcbiAqICAgICBkaW1lbnNpb25zIGlmIHBhZCBpcyBhIG51bWJlci4gSWYgbm9uZSBpcyBwcm92aWRlZCwgaXQgd2lsbCBub3Qgcm91bmRcbiAqICAgICBhbmQgZXJyb3IgaWYgdGhlIG91dHB1dCBpcyBvZiBmcmFjdGlvbmFsIHNpemUuXG4gKlxuICogQGRvYyB7aGVhZGluZzogJ09wZXJhdGlvbnMnLCBzdWJoZWFkaW5nOiAnQ29udm9sdXRpb24nfVxuICovXG5mdW5jdGlvbiBjb252MWRfPFQgZXh0ZW5kcyBUZW5zb3IyRHxUZW5zb3IzRD4oXG4gICAgeDogVHxUZW5zb3JMaWtlLCBmaWx0ZXI6IFRlbnNvcjNEfFRlbnNvckxpa2UsIHN0cmlkZTogbnVtYmVyLFxuICAgIHBhZDogJ3ZhbGlkJ3wnc2FtZSd8bnVtYmVyfGNvbnZfdXRpbC5FeHBsaWNpdFBhZGRpbmcsXG4gICAgZGF0YUZvcm1hdDogJ05XQyd8J05DVycgPSAnTldDJywgZGlsYXRpb24gPSAxLFxuICAgIGRpbVJvdW5kaW5nTW9kZT86ICdmbG9vcid8J3JvdW5kJ3wnY2VpbCcpOiBUIHtcbiAgY29uc3QgJHggPSBjb252ZXJ0VG9UZW5zb3IoeCwgJ3gnLCAnY29udjFkJyk7XG4gIGNvbnN0ICRmaWx0ZXIgPSBjb252ZXJ0VG9UZW5zb3IoZmlsdGVyLCAnZmlsdGVyJywgJ2NvbnYxZCcpO1xuXG4gIGxldCB4M0QgPSAkeCBhcyBUZW5zb3IzRDtcbiAgbGV0IHJlc2hhcGVkVG8zRCA9IGZhbHNlO1xuICBpZiAoJHgucmFuayA9PT0gMikge1xuICAgIHJlc2hhcGVkVG8zRCA9IHRydWU7XG4gICAgeDNEID0gcmVzaGFwZSgkeCwgWzEsICR4LnNoYXBlWzBdLCAkeC5zaGFwZVsxXV0pO1xuICB9XG5cbiAgdXRpbC5hc3NlcnQoXG4gICAgICB4M0QucmFuayA9PT0gMyxcbiAgICAgICgpID0+IGBFcnJvciBpbiBjb252MWQ6IGlucHV0IG11c3QgYmUgcmFuayAzLCBidXQgZ290IHJhbmsgJHt4M0QucmFua30uYCk7XG4gIHV0aWwuYXNzZXJ0KFxuICAgICAgJGZpbHRlci5yYW5rID09PSAzLFxuICAgICAgKCkgPT4gYEVycm9yIGluIGNvbnYxZDogZmlsdGVyIG11c3QgYmUgcmFuayAzLCBidXQgZ290IHJhbmsgYCArXG4gICAgICAgICAgYCR7JGZpbHRlci5yYW5rfS5gKTtcbiAgaWYgKGRpbVJvdW5kaW5nTW9kZSAhPSBudWxsKSB7XG4gICAgdXRpbC5hc3NlcnQoXG4gICAgICAgIHV0aWwuaXNJbnQocGFkIGFzIG51bWJlciksXG4gICAgICAgICgpID0+IGBFcnJvciBpbiBjb252MWQ6IHBhZCBtdXN0IGJlIGFuIGludGVnZXIgd2hlbiB1c2luZywgYCArXG4gICAgICAgICAgICBgZGltUm91bmRpbmdNb2RlICR7ZGltUm91bmRpbmdNb2RlfSBidXQgZ290IHBhZCAke3BhZH0uYCk7XG4gIH1cblxuICB1dGlsLmFzc2VydChcbiAgICAgIHgzRC5zaGFwZVsyXSA9PT0gJGZpbHRlci5zaGFwZVsxXSxcbiAgICAgICgpID0+IGBFcnJvciBpbiBjb252MWQ6IGRlcHRoIG9mIGlucHV0ICgke3gzRC5zaGFwZVsyXX0pIG11c3QgbWF0Y2ggYCArXG4gICAgICAgICAgYGlucHV0IGRlcHRoIGZvciBmaWx0ZXIgJHskZmlsdGVyLnNoYXBlWzFdfS5gKTtcbiAgdXRpbC5hc3NlcnQoXG4gICAgICBjb252X3V0aWwuZWl0aGVyU3RyaWRlc09yRGlsYXRpb25zQXJlT25lKHN0cmlkZSwgZGlsYXRpb24pLFxuICAgICAgKCkgPT4gJ0Vycm9yIGluIGNvbnYxRDogRWl0aGVyIHN0cmlkZSBvciBkaWxhdGlvbiBtdXN0IGJlIDEuICcgK1xuICAgICAgICAgIGBHb3Qgc3RyaWRlICR7c3RyaWRlfSBhbmQgZGlsYXRpb24gJyR7ZGlsYXRpb259J2ApO1xuICB1dGlsLmFzc2VydChcbiAgICAgIGRhdGFGb3JtYXQgPT09ICdOV0MnLFxuICAgICAgKCkgPT4gYEVycm9yIGluIGNvbnYxZDogZ290IGRhdGFGb3JtYXQgb2YgJHtcbiAgICAgICAgICBkYXRhRm9ybWF0fSBidXQgb25seSBOV0MgaXMgY3VycmVudGx5IHN1cHBvcnRlZC5gKTtcblxuICBjb25zdCBmaWx0ZXI0RCA9IHJlc2hhcGUoXG4gICAgICAkZmlsdGVyLCBbMSwgJGZpbHRlci5zaGFwZVswXSwgJGZpbHRlci5zaGFwZVsxXSwgJGZpbHRlci5zaGFwZVsyXV0pO1xuICBjb25zdCBpbnB1dDREID0gcmVzaGFwZSh4M0QsIFt4M0Quc2hhcGVbMF0sIDEsIHgzRC5zaGFwZVsxXSwgeDNELnNoYXBlWzJdXSk7XG4gIGNvbnN0IHN0cmlkZXM6IFtudW1iZXIsIG51bWJlcl0gPSBbMSwgc3RyaWRlXTtcbiAgY29uc3QgZGlsYXRpb25zOiBbbnVtYmVyLCBudW1iZXJdID0gWzEsIGRpbGF0aW9uXTtcblxuICBjb25zdCBjb252MmREYXRhRm9ybWF0ID0gJ05IV0MnO1xuXG4gIGNvbnN0IHJlcyA9IGNvbnYyZChcbiAgICAgIChpbnB1dDREIGFzIFRlbnNvcjREKSwgKGZpbHRlcjREIGFzIFRlbnNvcjREKSwgc3RyaWRlcywgcGFkLFxuICAgICAgY29udjJkRGF0YUZvcm1hdCwgZGlsYXRpb25zLCBkaW1Sb3VuZGluZ01vZGUpO1xuXG4gIGlmIChyZXNoYXBlZFRvM0QpIHtcbiAgICByZXR1cm4gcmVzaGFwZShyZXMsIFtyZXMuc2hhcGVbMl0sIHJlcy5zaGFwZVszXV0pIGFzIFQ7XG4gIH1cblxuICByZXR1cm4gcmVzaGFwZShyZXMsIFtyZXMuc2hhcGVbMF0sIHJlcy5zaGFwZVsyXSwgcmVzLnNoYXBlWzNdXSkgYXMgVDtcbn1cblxuZXhwb3J0IGNvbnN0IGNvbnYxZCA9IG9wKHtjb252MWRffSk7XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5pbXBvcnQge0VOR0lORSwgRm9yd2FyZEZ1bmN9IGZyb20gJy4uL2VuZ2luZSc7XG5pbXBvcnQge0NvbnYyREJhY2twcm9wSW5wdXQsIENvbnYyREJhY2twcm9wSW5wdXRBdHRycywgQ29udjJEQmFja3Byb3BJbnB1dElucHV0c30gZnJvbSAnLi4va2VybmVsX25hbWVzJztcbmltcG9ydCB7TmFtZWRBdHRyTWFwfSBmcm9tICcuLi9rZXJuZWxfcmVnaXN0cnknO1xuaW1wb3J0IHtUZW5zb3IsIFRlbnNvcjNELCBUZW5zb3I0RH0gZnJvbSAnLi4vdGVuc29yJztcbmltcG9ydCB7TmFtZWRUZW5zb3JNYXB9IGZyb20gJy4uL3RlbnNvcl90eXBlcyc7XG5pbXBvcnQgKiBhcyB1dGlsIGZyb20gJy4uL3V0aWwnO1xuXG5pbXBvcnQgKiBhcyBjb252X3V0aWwgZnJvbSAnLi9jb252X3V0aWwnO1xuaW1wb3J0IHtvcH0gZnJvbSAnLi9vcGVyYXRpb24nO1xuaW1wb3J0IHtyZXNoYXBlfSBmcm9tICcuL3Jlc2hhcGUnO1xuXG4vKipcbiAqIENvbXB1dGVzIHRoZSBkZXJpdmF0aXZlIG9mIHRoZSBpbnB1dCBvZiBhIDJEIGNvbnZvbHV0aW9uLlxuICpcbiAqIEBwYXJhbSB4U2hhcGUgVGhlIHNoYXBlIG9mIHRoZSBpbnB1dDogW2JhdGNoLCBoZWlnaHQsIHdpZHRoLCBpbkRlcHRoXS5cbiAqIElmIGxlbmd0aCBvZiAzLCBiYXRjaCBvZiAxIGlzIGFzc3VtZWQuXG4gKiBAcGFyYW0gZHkgVGhlIGRlcml2YXRpdmUgb2YgdGhlIG91dHB1dCwgb2YgcmFuayA0IG9yIHJhbmsgMyBvZiBzaGFwZVxuICogICBgW2JhdGNoLCBvdXRIZWlnaHQsIG91dFdpZHRoLCBvdXREZXB0aF1gLiBJZiByYW5rIDMsIGJhdGNoIG9mIDEgaXNcbiAqIGFzc3VtZWQuXG4gKiBAcGFyYW0gZmlsdGVyIFRoZSBmaWx0ZXIsIHJhbmsgNCwgb2Ygc2hhcGVcbiAqICAgICBgW2ZpbHRlckhlaWdodCwgZmlsdGVyV2lkdGgsIGluRGVwdGgsIG91dERlcHRoXWAuXG4gKiBAcGFyYW0gc3RyaWRlcyBUaGUgc3RyaWRlcyBvZiB0aGUgY29udm9sdXRpb246IGBbc3RyaWRlSGVpZ2h0LFxuICogc3RyaWRlV2lkdGhdYC5cbiAqIEBwYXJhbSBwYWQgVGhlIHR5cGUgb2YgcGFkZGluZyBhbGdvcml0aG0gdXNlZDpcbiAqICAgIC0gYHNhbWVgIGFuZCBzdHJpZGUgMTogb3V0cHV0IHdpbGwgYmUgb2Ygc2FtZSBzaXplIGFzIGlucHV0LFxuICogICAgICAgcmVnYXJkbGVzcyBvZiBmaWx0ZXIgc2l6ZS5cbiAqICAgIC0gYHZhbGlkYDogb3V0cHV0IHdpbGwgYmUgc21hbGxlciB0aGFuIGlucHV0IGlmIGZpbHRlciBpcyBsYXJnZXJcbiAqICAgICAgIHRoYW4gMXgxLlxuICogQHBhcmFtIGRhdGFGb3JtYXQ6IEFuIG9wdGlvbmFsIHN0cmluZyBmcm9tOiBcIk5IV0NcIiwgXCJOQ0hXXCIuIERlZmF1bHRzIHRvXG4gKiAgICAgXCJOSFdDXCIuIFNwZWNpZnkgdGhlIGRhdGEgZm9ybWF0IG9mIHRoZSBpbnB1dCBhbmQgb3V0cHV0IGRhdGEuIFdpdGggdGhlXG4gKiAgICAgZGVmYXVsdCBmb3JtYXQgXCJOSFdDXCIsIHRoZSBkYXRhIGlzIHN0b3JlZCBpbiB0aGUgb3JkZXIgb2Y6IFtiYXRjaCxcbiAqICAgICBoZWlnaHQsIHdpZHRoLCBjaGFubmVsc10uXG4gKiBAcGFyYW0gZGltUm91bmRpbmdNb2RlIFRoZSByb3VuZGluZyBtb2RlIHVzZWQgd2hlbiBjb21wdXRpbmcgb3V0cHV0XG4gKiAgICAgZGltZW5zaW9ucyBpZiBwYWQgaXMgYSBudW1iZXIuIElmIG5vbmUgaXMgcHJvdmlkZWQsIGl0IHdpbGwgbm90IHJvdW5kXG4gKiAgICAgYW5kIGVycm9yIGlmIHRoZSBvdXRwdXQgaXMgb2YgZnJhY3Rpb25hbCBzaXplLlxuICovXG5mdW5jdGlvbiBjb252MkRCYWNrcHJvcElucHV0XzxUIGV4dGVuZHMgVGVuc29yM0R8VGVuc29yNEQ+KFxuICAgIHhTaGFwZTogW251bWJlciwgbnVtYmVyLCBudW1iZXIsIG51bWJlcl18W251bWJlciwgbnVtYmVyLCBudW1iZXJdLCBkeTogVCxcbiAgICBmaWx0ZXI6IFRlbnNvcjRELCBzdHJpZGVzOiBbbnVtYmVyLCBudW1iZXJdfG51bWJlcixcbiAgICBwYWQ6ICd2YWxpZCd8J3NhbWUnfG51bWJlcnxjb252X3V0aWwuRXhwbGljaXRQYWRkaW5nLFxuICAgIGRhdGFGb3JtYXQ6ICdOSFdDJ3wnTkNIVycgPSAnTkhXQycsXG4gICAgZGltUm91bmRpbmdNb2RlPzogJ2Zsb29yJ3wncm91bmQnfCdjZWlsJyk6IFQge1xuICB1dGlsLmFzc2VydChcbiAgICAgIHhTaGFwZS5sZW5ndGggPT09IGR5LnJhbmssXG4gICAgICAoKSA9PiBgTGVuZ3RoIG9mIGluU2hhcGUgYCArXG4gICAgICAgICAgYCgke3hTaGFwZS5sZW5ndGh9KSBhbmQgcmFuayBvZiBkeSAoJHtkeS5yYW5rfSkgbXVzdCBtYXRjaGApO1xuXG4gIGxldCB4U2hhcGU0RCA9IHhTaGFwZSBhcyBbbnVtYmVyLCBudW1iZXIsIG51bWJlciwgbnVtYmVyXTtcbiAgbGV0IGR5NEQgPSBkeSBhcyBUZW5zb3I0RDtcbiAgbGV0IHJlc2hhcGVkVG80RCA9IGZhbHNlO1xuICBpZiAoZHkucmFuayA9PT0gMykge1xuICAgIHJlc2hhcGVkVG80RCA9IHRydWU7XG4gICAgZHk0RCA9IHJlc2hhcGUoZHksIFsxLCBkeS5zaGFwZVswXSwgZHkuc2hhcGVbMV0sIGR5LnNoYXBlWzJdXSk7XG4gICAgeFNoYXBlNEQgPSBbMSwgeFNoYXBlWzBdLCB4U2hhcGVbMV0sIHhTaGFwZVsyXV07XG4gIH1cblxuICB1dGlsLmFzc2VydChcbiAgICAgIHhTaGFwZTRELmxlbmd0aCA9PT0gNCxcbiAgICAgICgpID0+XG4gICAgICAgICAgYEVycm9yIGluIGNvbnYyZERlcklucHV0OiBpblNoYXBlIG11c3QgYmUgbGVuZ3RoIDQsIGJ1dCBnb3QgbGVuZ3RoIGAgK1xuICAgICAgICAgIGAke3hTaGFwZTRELmxlbmd0aH0uYCk7XG4gIHV0aWwuYXNzZXJ0KFxuICAgICAgZHk0RC5yYW5rID09PSA0LFxuICAgICAgKCkgPT4gYEVycm9yIGluIGNvbnYyZERlcklucHV0OiBkeSBtdXN0IGJlIHJhbmsgNCwgYnV0IGdvdCBgICtcbiAgICAgICAgICBgcmFuayAke2R5NEQucmFua31gKTtcbiAgdXRpbC5hc3NlcnQoXG4gICAgICBmaWx0ZXIucmFuayA9PT0gNCxcbiAgICAgICgpID0+IGBFcnJvciBpbiBjb252MmREZXJJbnB1dDogZmlsdGVyIG11c3QgYmUgcmFuayA0LCBidXQgZ290IGAgK1xuICAgICAgICAgIGByYW5rICR7ZmlsdGVyLnJhbmt9YCk7XG4gIGNvbnN0IGluRGVwdGggPSBkYXRhRm9ybWF0ID09PSAnTkhXQycgPyB4U2hhcGU0RFszXSA6IHhTaGFwZTREWzFdO1xuICBjb25zdCBvdXREZXB0aCA9IGRhdGFGb3JtYXQgPT09ICdOSFdDJyA/IGR5NEQuc2hhcGVbM10gOiBkeTRELnNoYXBlWzFdO1xuICB1dGlsLmFzc2VydChcbiAgICAgIGluRGVwdGggPT09IGZpbHRlci5zaGFwZVsyXSxcbiAgICAgICgpID0+IGBFcnJvciBpbiBjb252MmREZXJJbnB1dDogZGVwdGggb2YgaW5wdXQgKCR7aW5EZXB0aH0pIG11c3QgYCArXG4gICAgICAgICAgYG1hdGNoIGlucHV0IGRlcHRoIGZvciBmaWx0ZXIgJHtmaWx0ZXIuc2hhcGVbMl19LmApO1xuICB1dGlsLmFzc2VydChcbiAgICAgIG91dERlcHRoID09PSBmaWx0ZXIuc2hhcGVbM10sXG4gICAgICAoKSA9PiBgRXJyb3IgaW4gY29udjJkRGVySW5wdXQ6IGRlcHRoIG9mIG91dHB1dCAoJHtvdXREZXB0aH0pIG11c3QgYCArXG4gICAgICAgICAgYG1hdGNoIG91dHB1dCBkZXB0aCBmb3IgZmlsdGVyICR7ZmlsdGVyLnNoYXBlWzNdfS5gKTtcbiAgaWYgKGRpbVJvdW5kaW5nTW9kZSAhPSBudWxsKSB7XG4gICAgdXRpbC5hc3NlcnQoXG4gICAgICAgIHV0aWwuaXNJbnQocGFkIGFzIG51bWJlciksXG4gICAgICAgICgpID0+IGBFcnJvciBpbiBjb252MmREZXJJbnB1dDogcGFkIG11c3QgYmUgYW4gaW50ZWdlciB3aGVuIHVzaW5nLCBgICtcbiAgICAgICAgICAgIGBkaW1Sb3VuZGluZ01vZGUgJHtkaW1Sb3VuZGluZ01vZGV9IGJ1dCBnb3QgcGFkICR7cGFkfS5gKTtcbiAgfVxuXG4gIGNvbnN0IGZvcndhcmQ6IEZvcndhcmRGdW5jPFRlbnNvcj4gPSAoYmFja2VuZCwgc2F2ZSkgPT4ge1xuICAgIGNvbnN0IGRpbGF0aW9ucyA9IDE7XG5cbiAgICBjb25zdCAkZGF0YUZvcm1hdCA9IGNvbnZfdXRpbC5jb252ZXJ0Q29udjJERGF0YUZvcm1hdChkYXRhRm9ybWF0KTtcbiAgICBjb25zdCBjb252SW5mbyA9IGNvbnZfdXRpbC5jb21wdXRlQ29udjJESW5mbyhcbiAgICAgICAgeFNoYXBlNEQsIGZpbHRlci5zaGFwZSwgc3RyaWRlcywgZGlsYXRpb25zLCBwYWQsIGRpbVJvdW5kaW5nTW9kZSwgZmFsc2UsXG4gICAgICAgICRkYXRhRm9ybWF0KTtcblxuICAgIGNvbnN0IHJlcyA9IGJhY2tlbmQuY29udjJkRGVySW5wdXQoZHk0RCwgZmlsdGVyLCBjb252SW5mbyk7XG5cbiAgICBzYXZlKFtkeTRELCBmaWx0ZXJdKTtcblxuICAgIHJldHVybiByZXM7XG4gIH07XG5cbiAgY29uc3QgaW5wdXRzOiBDb252MkRCYWNrcHJvcElucHV0SW5wdXRzID0ge2R5OiBkeTRELCBmaWx0ZXJ9O1xuXG4gIGNvbnN0IGF0dHJzOiBDb252MkRCYWNrcHJvcElucHV0QXR0cnMgPVxuICAgICAge3N0cmlkZXMsIHBhZCwgZGF0YUZvcm1hdCwgZGltUm91bmRpbmdNb2RlLCBpbnB1dFNoYXBlOiB4U2hhcGU0RH07XG5cbiAgY29uc3QgcmVzID0gRU5HSU5FLnJ1bktlcm5lbEZ1bmMoXG4gICAgICBmb3J3YXJkLCBpbnB1dHMgYXMge30gYXMgTmFtZWRUZW5zb3JNYXAsIG51bGwgLyogZ3JhZCAqLyxcbiAgICAgIENvbnYyREJhY2twcm9wSW5wdXQsIGF0dHJzIGFzIHt9IGFzIE5hbWVkQXR0ck1hcCk7XG5cbiAgaWYgKHJlc2hhcGVkVG80RCkge1xuICAgIHJldHVybiByZXNoYXBlKHJlcywgW3Jlcy5zaGFwZVsxXSwgcmVzLnNoYXBlWzJdLCByZXMuc2hhcGVbM11dKSBhcyBUO1xuICB9XG4gIHJldHVybiByZXMgYXMgVDtcbn1cblxuZXhwb3J0IGNvbnN0IGNvbnYyREJhY2twcm9wSW5wdXQgPSBvcCh7Y29udjJEQmFja3Byb3BJbnB1dF99KTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cbmltcG9ydCB7VGVuc29yM0QsIFRlbnNvcjREfSBmcm9tICcuLi90ZW5zb3InO1xuaW1wb3J0IHtjb252ZXJ0VG9UZW5zb3J9IGZyb20gJy4uL3RlbnNvcl91dGlsX2Vudic7XG5pbXBvcnQge1RlbnNvckxpa2V9IGZyb20gJy4uL3R5cGVzJztcblxuaW1wb3J0IHtjb252MkRCYWNrcHJvcElucHV0fSBmcm9tICcuL2NvbnYyZF9iYWNrcHJvcF9pbnB1dCc7XG5pbXBvcnQge29wfSBmcm9tICcuL29wZXJhdGlvbic7XG5cbi8qKlxuICogQ29tcHV0ZXMgdGhlIHRyYW5zcG9zZWQgMkQgY29udm9sdXRpb24gb2YgYW4gaW1hZ2UsIGFsc28ga25vd24gYXMgYVxuICogZGVjb252b2x1dGlvbi5cbiAqXG4gKiBAcGFyYW0geCBUaGUgaW5wdXQgaW1hZ2UsIG9mIHJhbmsgNCBvciByYW5rIDMsIG9mIHNoYXBlXG4gKiAgIGBbYmF0Y2gsIGhlaWdodCwgd2lkdGgsIGluRGVwdGhdYC4gSWYgcmFuayAzLCBiYXRjaCBvZiAxIGlzIGFzc3VtZWQuXG4gKiBAcGFyYW0gZmlsdGVyIFRoZSBmaWx0ZXIsIHJhbmsgNCwgb2Ygc2hhcGVcbiAqICAgICBgW2ZpbHRlckhlaWdodCwgZmlsdGVyV2lkdGgsIG91dERlcHRoLCBpbkRlcHRoXWAuXG4gKiAgICAgYGluRGVwdGhgIG11c3QgbWF0Y2ggYGluRGVwdGhgIGluIGB4YC5cbiAqIEBwYXJhbSBvdXRwdXRTaGFwZSBPdXRwdXQgc2hhcGUsIG9mIHJhbmsgNCBvciByYW5rIDM6XG4gKiAgICAgYFtiYXRjaCwgaGVpZ2h0LCB3aWR0aCwgb3V0RGVwdGhdYC4gSWYgcmFuayAzLCBiYXRjaCBvZiAxIGlzIGFzc3VtZWQuXG4gKiBAcGFyYW0gc3RyaWRlcyBUaGUgc3RyaWRlcyBvZiB0aGUgb3JpZ2luYWwgY29udm9sdXRpb246XG4gKiAgICAgYFtzdHJpZGVIZWlnaHQsIHN0cmlkZVdpZHRoXWAuXG4gKiBAcGFyYW0gcGFkICBUaGUgdHlwZSBvZiBwYWRkaW5nIGFsZ29yaXRobSB1c2VkIGluIHRoZSBub24tdHJhbnNwb3NlIHZlcnNpb25cbiAqICAgIG9mIHRoZSBvcC5cbiAqIEBwYXJhbSBkaW1Sb3VuZGluZ01vZGUgVGhlIHJvdW5kaW5nIG1vZGUgdXNlZCB3aGVuIGNvbXB1dGluZyBvdXRwdXRcbiAqICAgIGRpbWVuc2lvbnMgaWYgcGFkIGlzIGEgbnVtYmVyLiBJZiBub25lIGlzIHByb3ZpZGVkLCBpdCB3aWxsIG5vdCByb3VuZFxuICogICAgYW5kIGVycm9yIGlmIHRoZSBvdXRwdXQgaXMgb2YgZnJhY3Rpb25hbCBzaXplLlxuICpcbiAqIEBkb2Mge2hlYWRpbmc6ICdPcGVyYXRpb25zJywgc3ViaGVhZGluZzogJ0NvbnZvbHV0aW9uJ31cbiAqL1xuZnVuY3Rpb24gY29udjJkVHJhbnNwb3NlXzxUIGV4dGVuZHMgVGVuc29yM0R8VGVuc29yNEQ+KFxuICAgIHg6IFR8VGVuc29yTGlrZSwgZmlsdGVyOiBUZW5zb3I0RHxUZW5zb3JMaWtlLFxuICAgIG91dHB1dFNoYXBlOiBbbnVtYmVyLCBudW1iZXIsIG51bWJlciwgbnVtYmVyXXxbbnVtYmVyLCBudW1iZXIsIG51bWJlcl0sXG4gICAgc3RyaWRlczogW251bWJlciwgbnVtYmVyXXxudW1iZXIsIHBhZDogJ3ZhbGlkJ3wnc2FtZSd8bnVtYmVyLFxuICAgIGRpbVJvdW5kaW5nTW9kZT86ICdmbG9vcid8J3JvdW5kJ3wnY2VpbCcpOiBUIHtcbiAgY29uc3QgJHggPSBjb252ZXJ0VG9UZW5zb3IoeCwgJ3gnLCAnY29udjJkVHJhbnNwb3NlJyk7XG4gIGNvbnN0ICRmaWx0ZXIgPSBjb252ZXJ0VG9UZW5zb3IoZmlsdGVyLCAnZmlsdGVyJywgJ2NvbnYyZFRyYW5zcG9zZScpO1xuXG4gIHJldHVybiBjb252MkRCYWNrcHJvcElucHV0KFxuICAgICAgb3V0cHV0U2hhcGUsICR4LCAkZmlsdGVyLCBzdHJpZGVzLCBwYWQsICdOSFdDJywgZGltUm91bmRpbmdNb2RlKTtcbn1cblxuZXhwb3J0IGNvbnN0IGNvbnYyZFRyYW5zcG9zZSA9IG9wKHtjb252MmRUcmFuc3Bvc2VffSk7XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5pbXBvcnQge0VOR0lORSwgRm9yd2FyZEZ1bmN9IGZyb20gJy4uL2VuZ2luZSc7XG5pbXBvcnQge0NvbnYzRCwgQ29udjNEQXR0cnMsIENvbnYzRElucHV0c30gZnJvbSAnLi4va2VybmVsX25hbWVzJztcbmltcG9ydCB7TmFtZWRBdHRyTWFwfSBmcm9tICcuLi9rZXJuZWxfcmVnaXN0cnknO1xuaW1wb3J0IHtUZW5zb3IsIFRlbnNvcjRELCBUZW5zb3I1RH0gZnJvbSAnLi4vdGVuc29yJztcbmltcG9ydCB7TmFtZWRUZW5zb3JNYXB9IGZyb20gJy4uL3RlbnNvcl90eXBlcyc7XG5pbXBvcnQge2NvbnZlcnRUb1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yX3V0aWxfZW52JztcbmltcG9ydCB7VGVuc29yTGlrZX0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0ICogYXMgdXRpbCBmcm9tICcuLi91dGlsJztcblxuaW1wb3J0ICogYXMgY29udl91dGlsIGZyb20gJy4vY29udl91dGlsJztcbmltcG9ydCB7ZWl0aGVyU3RyaWRlc09yRGlsYXRpb25zQXJlT25lfSBmcm9tICcuL2NvbnZfdXRpbCc7XG5pbXBvcnQge29wfSBmcm9tICcuL29wZXJhdGlvbic7XG5pbXBvcnQge3Jlc2hhcGV9IGZyb20gJy4vcmVzaGFwZSc7XG5cbi8qKlxuICogQ29tcHV0ZXMgYSAzRCBjb252b2x1dGlvbiBvdmVyIHRoZSBpbnB1dCB4LlxuICpcbiAqIEBwYXJhbSB4IFRoZSBpbnB1dCB0ZW5zb3IsIG9mIHJhbmsgNSBvciByYW5rIDQsIG9mIHNoYXBlXG4gKiAgICAgYFtiYXRjaCwgZGVwdGgsIGhlaWdodCwgd2lkdGgsIGNoYW5uZWxzXWAuIElmIHJhbmsgNCxcbiAqIGJhdGNoIG9mIDEgaXMgYXNzdW1lZC5cbiAqIEBwYXJhbSBmaWx0ZXIgVGhlIGZpbHRlciwgcmFuayA1LCBvZiBzaGFwZVxuICogICAgIGBbZmlsdGVyRGVwdGgsIGZpbHRlckhlaWdodCwgZmlsdGVyV2lkdGgsIGluQ2hhbm5lbHMsIG91dENoYW5uZWxzXWAuXG4gKiAgICAgIGluQ2hhbm5lbHMgbXVzdCBtYXRjaCBiZXR3ZWVuIGlucHV0IGFuZCBmaWx0ZXIuXG4gKiBAcGFyYW0gc3RyaWRlcyBUaGUgc3RyaWRlcyBvZiB0aGUgY29udm9sdXRpb246IGBbc3RyaWRlRGVwdGgsIHN0cmlkZUhlaWdodCxcbiAqIHN0cmlkZVdpZHRoXWAuXG4gKiBAcGFyYW0gcGFkIFRoZSB0eXBlIG9mIHBhZGRpbmcgYWxnb3JpdGhtLlxuICogICAgLSBgc2FtZWAgYW5kIHN0cmlkZSAxOiBvdXRwdXQgd2lsbCBiZSBvZiBzYW1lIHNpemUgYXMgaW5wdXQsXG4gKiAgICAgICByZWdhcmRsZXNzIG9mIGZpbHRlciBzaXplLlxuICogICAgLSBgdmFsaWRgOiBvdXRwdXQgd2lsbCBiZSBzbWFsbGVyIHRoYW4gaW5wdXQgaWYgZmlsdGVyIGlzIGxhcmdlclxuICogICAgICAgdGhhbiAxeDEuXG4gKiAgIC0gRm9yIG1vcmUgaW5mbywgc2VlIHRoaXMgZ3VpZGU6XG4gKiAgICAgW2h0dHBzOi8vd3d3LnRlbnNvcmZsb3cub3JnL2FwaV9ndWlkZXMvcHl0aG9uL25uI0NvbnZvbHV0aW9uXShcbiAqICAgICAgICAgIGh0dHBzOi8vd3d3LnRlbnNvcmZsb3cub3JnL2FwaV9ndWlkZXMvcHl0aG9uL25uI0NvbnZvbHV0aW9uKVxuICogQHBhcmFtIGRhdGFGb3JtYXQ6IEFuIG9wdGlvbmFsIHN0cmluZyBmcm9tOiBcIk5ESFdDXCIsIFwiTkNESFdcIi4gRGVmYXVsdHMgdG9cbiAqICAgICBcIk5ESFdDXCIuIFNwZWNpZnkgdGhlIGRhdGEgZm9ybWF0IG9mIHRoZSBpbnB1dCBhbmQgb3V0cHV0IGRhdGEuIFdpdGggdGhlXG4gKiAgICAgZGVmYXVsdCBmb3JtYXQgXCJOREhXQ1wiLCB0aGUgZGF0YSBpcyBzdG9yZWQgaW4gdGhlIG9yZGVyIG9mOiBbYmF0Y2gsXG4gKiAgICAgZGVwdGgsIGhlaWdodCwgd2lkdGgsIGNoYW5uZWxzXS4gT25seSBcIk5ESFdDXCIgaXMgY3VycmVudGx5IHN1cHBvcnRlZC5cbiAqIEBwYXJhbSBkaWxhdGlvbnMgVGhlIGRpbGF0aW9uIHJhdGVzOiBgW2RpbGF0aW9uRGVwdGgsIGRpbGF0aW9uSGVpZ2h0LFxuICogICAgIGRpbGF0aW9uV2lkdGhdYCBpbiB3aGljaCB3ZSBzYW1wbGUgaW5wdXQgdmFsdWVzIGFjcm9zcyB0aGUgaGVpZ2h0XG4gKiAgICAgYW5kIHdpZHRoIGRpbWVuc2lvbnMgaW4gYXRyb3VzIGNvbnZvbHV0aW9uLiBEZWZhdWx0cyB0byBgWzEsIDEsIDFdYC5cbiAqICAgICBJZiBgZGlsYXRpb25zYCBpcyBhIHNpbmdsZSBudW1iZXIsIHRoZW5cbiAqICAgICBgZGlsYXRpb25EZXB0aCA9PSBkaWxhdGlvbkhlaWdodCA9PSBkaWxhdGlvbldpZHRoYC4gSWYgaXQgaXMgZ3JlYXRlclxuICogICAgIHRoYW4gMSwgdGhlbiBhbGwgdmFsdWVzIG9mIGBzdHJpZGVzYCBtdXN0IGJlIDEuXG4gKlxuICogQGRvYyB7aGVhZGluZzogJ09wZXJhdGlvbnMnLCBzdWJoZWFkaW5nOiAnQ29udm9sdXRpb24nfVxuICovXG5mdW5jdGlvbiBjb252M2RfPFQgZXh0ZW5kcyBUZW5zb3I0RHxUZW5zb3I1RD4oXG4gICAgeDogVHxUZW5zb3JMaWtlLCBmaWx0ZXI6IFRlbnNvcjVEfFRlbnNvckxpa2UsXG4gICAgc3RyaWRlczogW251bWJlciwgbnVtYmVyLCBudW1iZXJdfG51bWJlciwgcGFkOiAndmFsaWQnfCdzYW1lJyxcbiAgICBkYXRhRm9ybWF0OiAnTkRIV0MnfCdOQ0RIVycgPSAnTkRIV0MnLFxuICAgIGRpbGF0aW9uczogW251bWJlciwgbnVtYmVyLCBudW1iZXJdfG51bWJlciA9IFsxLCAxLCAxXSk6IFQge1xuICBjb25zdCAkeCA9IGNvbnZlcnRUb1RlbnNvcih4LCAneCcsICdjb252M2QnKTtcbiAgY29uc3QgJGZpbHRlciA9IGNvbnZlcnRUb1RlbnNvcihmaWx0ZXIsICdmaWx0ZXInLCAnY29udjNkJyk7XG5cbiAgbGV0IHg1RCA9ICR4IGFzIFRlbnNvcjVEO1xuICBsZXQgcmVzaGFwZWRUbzVEID0gZmFsc2U7XG5cbiAgaWYgKCR4LnJhbmsgPT09IDQpIHtcbiAgICByZXNoYXBlZFRvNUQgPSB0cnVlO1xuICAgIHg1RCA9IHJlc2hhcGUoJHgsIFsxLCAkeC5zaGFwZVswXSwgJHguc2hhcGVbMV0sICR4LnNoYXBlWzJdLCAkeC5zaGFwZVszXV0pO1xuICB9XG4gIHV0aWwuYXNzZXJ0KFxuICAgICAgeDVELnJhbmsgPT09IDUsXG4gICAgICAoKSA9PiBgRXJyb3IgaW4gY29udjNkOiBpbnB1dCBtdXN0IGJlIHJhbmsgNSwgYnV0IGdvdCByYW5rICR7eDVELnJhbmt9LmApO1xuICB1dGlsLmFzc2VydChcbiAgICAgICRmaWx0ZXIucmFuayA9PT0gNSxcbiAgICAgICgpID0+IGBFcnJvciBpbiBjb252M2Q6IGZpbHRlciBtdXN0IGJlIHJhbmsgNSwgYnV0IGdvdCByYW5rIGAgK1xuICAgICAgICAgIGAkeyRmaWx0ZXIucmFua30uYCk7XG4gIHV0aWwuYXNzZXJ0KFxuICAgICAgeDVELnNoYXBlWzRdID09PSAkZmlsdGVyLnNoYXBlWzNdLFxuICAgICAgKCkgPT4gYEVycm9yIGluIGNvbnYzZDogZGVwdGggb2YgaW5wdXQgKCR7eDVELnNoYXBlWzRdfSkgbXVzdCBtYXRjaCBgICtcbiAgICAgICAgICBgaW5wdXQgZGVwdGggZm9yIGZpbHRlciAkeyRmaWx0ZXIuc2hhcGVbM119LmApO1xuICB1dGlsLmFzc2VydChcbiAgICAgIGVpdGhlclN0cmlkZXNPckRpbGF0aW9uc0FyZU9uZShzdHJpZGVzLCBkaWxhdGlvbnMpLFxuICAgICAgKCkgPT4gJ0Vycm9yIGluIGNvbnYzRDogRWl0aGVyIHN0cmlkZXMgb3IgZGlsYXRpb25zIG11c3QgYmUgMS4gJyArXG4gICAgICAgICAgYEdvdCBzdHJpZGVzICR7c3RyaWRlc30gYW5kIGRpbGF0aW9ucyAnJHtkaWxhdGlvbnN9J2ApO1xuICB1dGlsLmFzc2VydChcbiAgICAgIGRhdGFGb3JtYXQgPT09ICdOREhXQycsXG4gICAgICAoKSA9PiBgRXJyb3IgaW4gY29udjNkOiBnb3QgZGF0YUZvcm1hdCBvZiAke1xuICAgICAgICAgIGRhdGFGb3JtYXR9IGJ1dCBvbmx5IE5ESFdDIGlzIGN1cnJlbnRseSBzdXBwb3J0ZWQuYCk7XG5cbiAgY29uc3QgZm9yd2FyZDogRm9yd2FyZEZ1bmM8VGVuc29yPiA9IChiYWNrZW5kLCBzYXZlKSA9PiB7XG4gICAgY29uc3QgY29udkluZm8gPSBjb252X3V0aWwuY29tcHV0ZUNvbnYzREluZm8oXG4gICAgICAgIHg1RC5zaGFwZSwgJGZpbHRlci5zaGFwZSwgc3RyaWRlcywgZGlsYXRpb25zLCBwYWQpO1xuICAgIGNvbnN0IHJlcyA9IGJhY2tlbmQuY29udjNkKHg1RCwgJGZpbHRlciwgY29udkluZm8pO1xuXG4gICAgc2F2ZShbeDVELCAkZmlsdGVyXSk7XG5cbiAgICByZXR1cm4gcmVzO1xuICB9O1xuXG4gIGNvbnN0IGlucHV0czogQ29udjNESW5wdXRzID0ge3g6IHg1RCwgZmlsdGVyOiAkZmlsdGVyfTtcblxuICBjb25zdCBhdHRyczogQ29udjNEQXR0cnMgPSB7c3RyaWRlcywgcGFkLCBkYXRhRm9ybWF0LCBkaWxhdGlvbnN9O1xuXG4gIGNvbnN0IHJlcyA9IEVOR0lORS5ydW5LZXJuZWxGdW5jKFxuICAgICAgZm9yd2FyZCwgaW5wdXRzIGFzIHt9IGFzIE5hbWVkVGVuc29yTWFwLCBudWxsIC8qIGdyYWQgKi8sIENvbnYzRCxcbiAgICAgIGF0dHJzIGFzIHt9IGFzIE5hbWVkQXR0ck1hcCk7XG5cbiAgaWYgKHJlc2hhcGVkVG81RCkge1xuICAgIHJldHVybiByZXNoYXBlKFxuICAgICAgICAgICAgICAgcmVzLCBbcmVzLnNoYXBlWzFdLCByZXMuc2hhcGVbMl0sIHJlcy5zaGFwZVszXSwgcmVzLnNoYXBlWzRdXSkgYXNcbiAgICAgICAgVDtcbiAgfVxuICByZXR1cm4gcmVzIGFzIFQ7XG59XG5cbmV4cG9ydCBjb25zdCBjb252M2QgPSBvcCh7Y29udjNkX30pO1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuaW1wb3J0IHtFTkdJTkUsIEZvcndhcmRGdW5jfSBmcm9tICcuLi9lbmdpbmUnO1xuaW1wb3J0IHtDb252M0RCYWNrcHJvcElucHV0QXR0cnMsIENvbnYzREJhY2twcm9wSW5wdXRJbnB1dHMsIENvbnYzREJhY2twcm9wSW5wdXRWMn0gZnJvbSAnLi4va2VybmVsX25hbWVzJztcbmltcG9ydCB7TmFtZWRBdHRyTWFwfSBmcm9tICcuLi9rZXJuZWxfcmVnaXN0cnknO1xuaW1wb3J0IHtUZW5zb3IsIFRlbnNvcjRELCBUZW5zb3I1RH0gZnJvbSAnLi4vdGVuc29yJztcbmltcG9ydCB7TmFtZWRUZW5zb3JNYXB9IGZyb20gJy4uL3RlbnNvcl90eXBlcyc7XG5pbXBvcnQgKiBhcyB1dGlsIGZyb20gJy4uL3V0aWwnO1xuXG5pbXBvcnQgKiBhcyBjb252X3V0aWwgZnJvbSAnLi9jb252X3V0aWwnO1xuaW1wb3J0IHtvcH0gZnJvbSAnLi9vcGVyYXRpb24nO1xuaW1wb3J0IHtyZXNoYXBlfSBmcm9tICcuL3Jlc2hhcGUnO1xuXG4vKipcbiAqIENvbXB1dGVzIHRoZSBkZXJpdmF0aXZlIG9mIHRoZSBpbnB1dCBvZiBhIDNEIGNvbnZvbHV0aW9uLlxuICpcbiAqIEBwYXJhbSB4U2hhcGUgVGhlIHNoYXBlIG9mIHRoZSBpbnB1dDogW2JhdGNoLCBkZXB0aCwgaGVpZ2h0LCB3aWR0aCxcbiAqIGluX2NoYW5uZWxzXS4gSWYgbGVuZ3RoIG9mIDQsIGJhdGNoIG9mIDEgaXMgYXNzdW1lZC5cbiAqIEBwYXJhbSBkeSBUaGUgZGVyaXZhdGl2ZSBvZiB0aGUgb3V0cHV0LCBvZiByYW5rIDUgb3IgcmFuayA0IG9mIHNoYXBlXG4gKiAgIGBbYmF0Y2gsIG91dERlcHRoLCBvdXRIZWlnaHQsIG91dFdpZHRoLCBpbl9jaGFubmVsc11gLlxuICogSWYgcmFuayA0LCBiYXRjaCBvZiAxIGlzIGFzc3VtZWQuXG4gKiBAcGFyYW0gZmlsdGVyIFRoZSBmaWx0ZXIsIHJhbmsgNSwgb2Ygc2hhcGVcbiAqICAgICBgW2ZpbHRlckRlcHRoLCBmaWx0ZXJIZWlnaHQsIGZpbHRlcldpZHRoLCBpbkRlcHRoLCBvdXREZXB0aF1gLlxuICogQHBhcmFtIHN0cmlkZXMgVGhlIHN0cmlkZXMgb2YgdGhlIGNvbnZvbHV0aW9uOiBgW3N0cmlkZURlcHRoLCBzdHJpZGVIZWlnaHQsXG4gKiBzdHJpZGVXaWR0aF1gLlxuICogQHBhcmFtIHBhZCBUaGUgdHlwZSBvZiBwYWRkaW5nIGFsZ29yaXRobSB1c2VkOlxuICogICAgLSBgc2FtZWAgYW5kIHN0cmlkZSAxOiBvdXRwdXQgd2lsbCBiZSBvZiBzYW1lIHNpemUgYXMgaW5wdXQsXG4gKiAgICAgICByZWdhcmRsZXNzIG9mIGZpbHRlciBzaXplLlxuICogICAgLSBgdmFsaWRgOiBvdXRwdXQgd2lsbCBiZSBzbWFsbGVyIHRoYW4gaW5wdXQgaWYgZmlsdGVyIGlzIGxhcmdlclxuICogICAgICAgdGhhbiAxeDEuXG4gKi9cbmZ1bmN0aW9uIGNvbnYzREJhY2twcm9wSW5wdXRfPFQgZXh0ZW5kcyBUZW5zb3I0RHxUZW5zb3I1RD4oXG4gICAgeFNoYXBlOlxuICAgICAgICBbbnVtYmVyLCBudW1iZXIsIG51bWJlciwgbnVtYmVyLFxuICAgICAgICAgbnVtYmVyXXxbbnVtYmVyLCBudW1iZXIsIG51bWJlciwgbnVtYmVyXSxcbiAgICBkeTogVCwgZmlsdGVyOiBUZW5zb3I1RCwgc3RyaWRlczogW251bWJlciwgbnVtYmVyLCBudW1iZXJdfG51bWJlcixcbiAgICBwYWQ6ICd2YWxpZCd8J3NhbWUnKTogVCB7XG4gIHV0aWwuYXNzZXJ0KFxuICAgICAgeFNoYXBlLmxlbmd0aCA9PT0gZHkucmFuayxcbiAgICAgICgpID0+IGBMZW5ndGggb2YgaW5TaGFwZSBgICtcbiAgICAgICAgICBgKCR7eFNoYXBlLmxlbmd0aH0pIGFuZCByYW5rIG9mIGR5ICgke2R5LnJhbmt9KSBtdXN0IG1hdGNoYCk7XG5cbiAgbGV0IHhTaGFwZTVEID0geFNoYXBlIGFzIFtudW1iZXIsIG51bWJlciwgbnVtYmVyLCBudW1iZXIsIG51bWJlcl07XG4gIGxldCBkeTVEID0gZHkgYXMgVGVuc29yNUQ7XG4gIGxldCByZXNoYXBlZFRvNUQgPSBmYWxzZTtcbiAgaWYgKGR5LnJhbmsgPT09IDQpIHtcbiAgICByZXNoYXBlZFRvNUQgPSB0cnVlO1xuICAgIGR5NUQgPSByZXNoYXBlKGR5LCBbMSwgZHkuc2hhcGVbMF0sIGR5LnNoYXBlWzFdLCBkeS5zaGFwZVsyXSwgZHkuc2hhcGVbM11dKTtcbiAgICB4U2hhcGU1RCA9IFsxLCB4U2hhcGVbMF0sIHhTaGFwZVsxXSwgeFNoYXBlWzJdLCB4U2hhcGVbM11dO1xuICB9XG5cbiAgY29uc3QgaW5EZXB0aCA9IHhTaGFwZTVEWzRdO1xuICBjb25zdCBvdXREZXB0aCA9IGR5NUQuc2hhcGVbNF07XG4gIHV0aWwuYXNzZXJ0KFxuICAgICAgeFNoYXBlNUQubGVuZ3RoID09PSA1LFxuICAgICAgKCkgPT5cbiAgICAgICAgICBgRXJyb3IgaW4gY29udjNkRGVySW5wdXQ6IGluU2hhcGUgbXVzdCBiZSBsZW5ndGggNSwgYnV0IGdvdCBsZW5ndGggYCArXG4gICAgICAgICAgYCR7eFNoYXBlNUQubGVuZ3RofS5gKTtcbiAgdXRpbC5hc3NlcnQoXG4gICAgICBkeTVELnJhbmsgPT09IDUsXG4gICAgICAoKSA9PiBgRXJyb3IgaW4gY29udjNkRGVySW5wdXQ6IGR5IG11c3QgYmUgcmFuayA1LCBidXQgZ290IGAgK1xuICAgICAgICAgIGByYW5rICR7ZHk1RC5yYW5rfWApO1xuICB1dGlsLmFzc2VydChcbiAgICAgIGZpbHRlci5yYW5rID09PSA1LFxuICAgICAgKCkgPT4gYEVycm9yIGluIGNvbnYzZERlcklucHV0OiBmaWx0ZXIgbXVzdCBiZSByYW5rIDUsIGJ1dCBnb3QgYCArXG4gICAgICAgICAgYHJhbmsgJHtmaWx0ZXIucmFua31gKTtcbiAgdXRpbC5hc3NlcnQoXG4gICAgICBpbkRlcHRoID09PSBmaWx0ZXIuc2hhcGVbM10sXG4gICAgICAoKSA9PiBgRXJyb3IgaW4gY29udjNkRGVySW5wdXQ6IGRlcHRoIG9mIGlucHV0ICgke2luRGVwdGh9KSBtdXN0IGAgK1xuICAgICAgICAgIGBtYXRjaCBpbnB1dCBkZXB0aCBmb3IgZmlsdGVyICR7ZmlsdGVyLnNoYXBlWzNdfS5gKTtcbiAgdXRpbC5hc3NlcnQoXG4gICAgICBvdXREZXB0aCA9PT0gZmlsdGVyLnNoYXBlWzRdLFxuICAgICAgKCkgPT4gYEVycm9yIGluIGNvbnYzZERlcklucHV0OiBkZXB0aCBvZiBvdXRwdXQgKCR7b3V0RGVwdGh9KSBtdXN0IGAgK1xuICAgICAgICAgIGBtYXRjaCBvdXRwdXQgZGVwdGggZm9yIGZpbHRlciAke2ZpbHRlci5zaGFwZVs0XX0uYCk7XG5cbiAgY29uc3QgZm9yd2FyZDogRm9yd2FyZEZ1bmM8VGVuc29yPiA9IGJhY2tlbmQgPT4ge1xuICAgIGNvbnN0IGRpbGF0aW9ucyA9IDE7XG5cbiAgICBjb25zdCBjb252SW5mbyA9IGNvbnZfdXRpbC5jb21wdXRlQ29udjNESW5mbyhcbiAgICAgICAgeFNoYXBlNUQsIGZpbHRlci5zaGFwZSwgc3RyaWRlcywgZGlsYXRpb25zLCBwYWQpO1xuXG4gICAgcmV0dXJuIGJhY2tlbmQuY29udjNkRGVySW5wdXQoZHk1RCwgZmlsdGVyLCBjb252SW5mbyk7XG4gIH07XG5cbiAgY29uc3QgaW5wdXRzOiBDb252M0RCYWNrcHJvcElucHV0SW5wdXRzID0ge2R5OiBkeTVEfTtcblxuICBjb25zdCBhdHRyczogQ29udjNEQmFja3Byb3BJbnB1dEF0dHJzID0ge3BhZH07XG5cbiAgY29uc3QgcmVzID0gRU5HSU5FLnJ1bktlcm5lbEZ1bmMoXG4gICAgICBmb3J3YXJkLCBpbnB1dHMgYXMge30gYXMgTmFtZWRUZW5zb3JNYXAsIG51bGwsIENvbnYzREJhY2twcm9wSW5wdXRWMixcbiAgICAgIGF0dHJzIGFzIHt9IGFzIE5hbWVkQXR0ck1hcCk7XG5cbiAgaWYgKHJlc2hhcGVkVG81RCkge1xuICAgIHJldHVybiByZXNoYXBlKFxuICAgICAgICAgICAgICAgcmVzLCBbcmVzLnNoYXBlWzFdLCByZXMuc2hhcGVbMl0sIHJlcy5zaGFwZVszXSwgcmVzLnNoYXBlWzRdXSkgYXNcbiAgICAgICAgVDtcbiAgfVxuICByZXR1cm4gcmVzIGFzIFQ7XG59XG5cbmV4cG9ydCBjb25zdCBjb252M0RCYWNrcHJvcElucHV0ID0gb3Aoe2NvbnYzREJhY2twcm9wSW5wdXRffSk7XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5pbXBvcnQge1RlbnNvcjRELCBUZW5zb3I1RH0gZnJvbSAnLi4vdGVuc29yJztcbmltcG9ydCB7Y29udmVydFRvVGVuc29yfSBmcm9tICcuLi90ZW5zb3JfdXRpbF9lbnYnO1xuaW1wb3J0IHtUZW5zb3JMaWtlfSBmcm9tICcuLi90eXBlcyc7XG5cbmltcG9ydCB7Y29udjNEQmFja3Byb3BJbnB1dH0gZnJvbSAnLi9jb252M2RfYmFja3Byb3BfaW5wdXQnO1xuaW1wb3J0IHtvcH0gZnJvbSAnLi9vcGVyYXRpb24nO1xuXG4vKipcbiAqIENvbXB1dGVzIHRoZSB0cmFuc3Bvc2VkIDNEIGNvbnZvbHV0aW9uIG9mIGEgdm9sdW1lLCBhbHNvIGtub3duIGFzIGFcbiAqIGRlY29udm9sdXRpb24uXG4gKlxuICogQHBhcmFtIHggVGhlIGlucHV0IGltYWdlLCBvZiByYW5rIDUgb3IgcmFuayA0LCBvZiBzaGFwZVxuICogICBgW2JhdGNoLCBkZXB0aCwgaGVpZ2h0LCB3aWR0aCwgaW5EZXB0aF1gLiBJZiByYW5rIDQsIGJhdGNoIG9mIDEgaXMgYXNzdW1lZC5cbiAqIEBwYXJhbSBmaWx0ZXIgVGhlIGZpbHRlciwgcmFuayA0LCBvZiBzaGFwZVxuICogICAgIGBbZGVwdGgsIGZpbHRlckhlaWdodCwgZmlsdGVyV2lkdGgsIG91dERlcHRoLCBpbkRlcHRoXWAuXG4gKiAgICAgYGluRGVwdGhgIG11c3QgbWF0Y2ggYGluRGVwdGhgIGluIGB4YC5cbiAqIEBwYXJhbSBvdXRwdXRTaGFwZSBPdXRwdXQgc2hhcGUsIG9mIHJhbmsgNSBvciByYW5rIDQ6XG4gKiAgICAgYFtiYXRjaCwgZGVwdGgsIGhlaWdodCwgd2lkdGgsIG91dERlcHRoXWAuIElmIHJhbmsgMywgYmF0Y2ggb2YgMSBpc1xuICogICAgYXNzdW1lZC5cbiAqIEBwYXJhbSBzdHJpZGVzIFRoZSBzdHJpZGVzIG9mIHRoZSBvcmlnaW5hbCBjb252b2x1dGlvbjpcbiAqICAgICBgW3N0cmlkZURlcHRoLCBzdHJpZGVIZWlnaHQsIHN0cmlkZVdpZHRoXWAuXG4gKiBAcGFyYW0gcGFkICBUaGUgdHlwZSBvZiBwYWRkaW5nIGFsZ29yaXRobSB1c2VkIGluIHRoZSBub24tdHJhbnNwb3NlIHZlcnNpb25cbiAqICAgIG9mIHRoZSBvcC5cbiAqXG4gKiBAZG9jIHtoZWFkaW5nOiAnT3BlcmF0aW9ucycsIHN1YmhlYWRpbmc6ICdDb252b2x1dGlvbid9XG4gKi9cbmZ1bmN0aW9uIGNvbnYzZFRyYW5zcG9zZV88VCBleHRlbmRzIFRlbnNvcjREfFRlbnNvcjVEPihcbiAgICB4OiBUfFRlbnNvckxpa2UsIGZpbHRlcjogVGVuc29yNUR8VGVuc29yTGlrZSxcbiAgICBvdXRwdXRTaGFwZTpcbiAgICAgICAgW251bWJlciwgbnVtYmVyLCBudW1iZXIsIG51bWJlcixcbiAgICAgICAgIG51bWJlcl18W251bWJlciwgbnVtYmVyLCBudW1iZXIsIG51bWJlcl0sXG4gICAgc3RyaWRlczogW251bWJlciwgbnVtYmVyLCBudW1iZXJdfG51bWJlciwgcGFkOiAndmFsaWQnfCdzYW1lJyk6IFQge1xuICBjb25zdCAkeCA9IGNvbnZlcnRUb1RlbnNvcih4LCAneCcsICdjb252M2RUcmFuc3Bvc2UnKTtcbiAgY29uc3QgJGZpbHRlciA9IGNvbnZlcnRUb1RlbnNvcihmaWx0ZXIsICdmaWx0ZXInLCAnY29udjNkVHJhbnNwb3NlJyk7XG5cbiAgcmV0dXJuIGNvbnYzREJhY2twcm9wSW5wdXQob3V0cHV0U2hhcGUsICR4LCAkZmlsdGVyLCBzdHJpZGVzLCBwYWQpO1xufVxuXG5leHBvcnQgY29uc3QgY29udjNkVHJhbnNwb3NlID0gb3Aoe2NvbnYzZFRyYW5zcG9zZV99KTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE4IEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuaW1wb3J0IHtFTkdJTkV9IGZyb20gJy4uL2VuZ2luZSc7XG5pbXBvcnQge0NvcywgQ29zSW5wdXRzfSBmcm9tICcuLi9rZXJuZWxfbmFtZXMnO1xuaW1wb3J0IHtUZW5zb3J9IGZyb20gJy4uL3RlbnNvcic7XG5pbXBvcnQge05hbWVkVGVuc29yTWFwfSBmcm9tICcuLi90ZW5zb3JfdHlwZXMnO1xuaW1wb3J0IHtjb252ZXJ0VG9UZW5zb3J9IGZyb20gJy4uL3RlbnNvcl91dGlsX2Vudic7XG5pbXBvcnQge1RlbnNvckxpa2V9IGZyb20gJy4uL3R5cGVzJztcblxuaW1wb3J0IHtvcH0gZnJvbSAnLi9vcGVyYXRpb24nO1xuXG4vKipcbiAqIENvbXB1dGVzIGNvcyBvZiB0aGUgaW5wdXQgYHRmLlRlbnNvcmAgZWxlbWVudC13aXNlOiBgY29zKHgpYFxuICpcbiAqIGBgYGpzXG4gKiBjb25zdCB4ID0gdGYudGVuc29yMWQoWzAsIE1hdGguUEkgLyAyLCBNYXRoLlBJICogMyAvIDRdKTtcbiAqXG4gKiB4LmNvcygpLnByaW50KCk7ICAvLyBvciB0Zi5jb3MoeClcbiAqIGBgYFxuICogQHBhcmFtIHggVGhlIGlucHV0IHRlbnNvci5cbiAqXG4gKiBAZG9jIHtoZWFkaW5nOiAnT3BlcmF0aW9ucycsIHN1YmhlYWRpbmc6ICdCYXNpYyBtYXRoJ31cbiAqL1xuZnVuY3Rpb24gY29zXzxUIGV4dGVuZHMgVGVuc29yPih4OiBUfFRlbnNvckxpa2UpOiBUIHtcbiAgY29uc3QgJHggPSBjb252ZXJ0VG9UZW5zb3IoeCwgJ3gnLCAnY29zJyk7XG5cbiAgY29uc3QgaW5wdXRzOiBDb3NJbnB1dHMgPSB7eDogJHh9O1xuXG4gIHJldHVybiBFTkdJTkUucnVuS2VybmVsRnVuYygoYmFja2VuZCwgc2F2ZSkgPT4ge1xuICAgIGNvbnN0IHJlcyA9IGJhY2tlbmQuY29zKCR4KTtcbiAgICBzYXZlKFskeF0pO1xuICAgIHJldHVybiByZXM7XG4gIH0sIGlucHV0cyBhcyB7fSBhcyBOYW1lZFRlbnNvck1hcCwgbnVsbCAvKiBncmFkICovLCBDb3MpO1xufVxuZXhwb3J0IGNvbnN0IGNvcyA9IG9wKHtjb3NffSk7XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbmltcG9ydCB7RU5HSU5FfSBmcm9tICcuLi9lbmdpbmUnO1xuaW1wb3J0IHtDb3NoLCBDb3NoSW5wdXRzfSBmcm9tICcuLi9rZXJuZWxfbmFtZXMnO1xuaW1wb3J0IHtUZW5zb3J9IGZyb20gJy4uL3RlbnNvcic7XG5pbXBvcnQge05hbWVkVGVuc29yTWFwfSBmcm9tICcuLi90ZW5zb3JfdHlwZXMnO1xuaW1wb3J0IHtjb252ZXJ0VG9UZW5zb3J9IGZyb20gJy4uL3RlbnNvcl91dGlsX2Vudic7XG5pbXBvcnQge1RlbnNvckxpa2V9IGZyb20gJy4uL3R5cGVzJztcblxuaW1wb3J0IHtvcH0gZnJvbSAnLi9vcGVyYXRpb24nO1xuXG4vKipcbiAqIENvbXB1dGVzIGh5cGVyYm9saWMgY29zIG9mIHRoZSBpbnB1dCBgdGYuVGVuc29yYCBlbGVtZW50LXdpc2U6IGBjb3NoKHgpYFxuICpcbiAqIGBgYGpzXG4gKiBjb25zdCB4ID0gdGYudGVuc29yMWQoWzAsIDEsIC0xLCAuN10pO1xuICpcbiAqIHguY29zaCgpLnByaW50KCk7ICAvLyBvciB0Zi5jb3NoKHgpXG4gKiBgYGBcbiAqIEBwYXJhbSB4IFRoZSBpbnB1dCB0ZW5zb3IuXG4gKlxuICogQGRvYyB7aGVhZGluZzogJ09wZXJhdGlvbnMnLCBzdWJoZWFkaW5nOiAnQmFzaWMgbWF0aCd9XG4gKi9cbmZ1bmN0aW9uIGNvc2hfPFQgZXh0ZW5kcyBUZW5zb3I+KHg6IFR8VGVuc29yTGlrZSk6IFQge1xuICBjb25zdCAkeCA9IGNvbnZlcnRUb1RlbnNvcih4LCAneCcsICdjb3NoJyk7XG4gIGNvbnN0IGlucHV0czogQ29zaElucHV0cyA9IHt4OiAkeH07XG5cbiAgcmV0dXJuIEVOR0lORS5ydW5LZXJuZWxGdW5jKChiYWNrZW5kLCBzYXZlKSA9PiB7XG4gICAgY29uc3QgcmVzID0gYmFja2VuZC5jb3NoKCR4KTtcbiAgICBzYXZlKFskeF0pO1xuICAgIHJldHVybiByZXM7XG4gIH0sIGlucHV0cyBhcyB7fSBhcyBOYW1lZFRlbnNvck1hcCwgbnVsbCAvKiBncmFkICovLCBDb3NoKTtcbn1cbmV4cG9ydCBjb25zdCBjb3NoID0gb3Aoe2Nvc2hffSk7XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbmltcG9ydCB7S2VybmVsQmFja2VuZH0gZnJvbSAnLi4vYmFja2VuZHMvYmFja2VuZCc7XG5pbXBvcnQge0VOR0lORSwgRm9yd2FyZEZ1bmN9IGZyb20gJy4uL2VuZ2luZSc7XG5pbXBvcnQge0N1bXN1bSwgQ3Vtc3VtQXR0cnMsIEN1bXN1bUlucHV0c30gZnJvbSAnLi4va2VybmVsX25hbWVzJztcbmltcG9ydCB7TmFtZWRBdHRyTWFwfSBmcm9tICcuLi9rZXJuZWxfcmVnaXN0cnknO1xuaW1wb3J0IHtUZW5zb3J9IGZyb20gJy4uL3RlbnNvcic7XG5pbXBvcnQge0dyYWRTYXZlRnVuYywgTmFtZWRUZW5zb3JNYXB9IGZyb20gJy4uL3RlbnNvcl90eXBlcyc7XG5pbXBvcnQge2NvbnZlcnRUb1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yX3V0aWxfZW52JztcbmltcG9ydCB7VGVuc29yTGlrZX0gZnJvbSAnLi4vdHlwZXMnO1xuXG5pbXBvcnQge2dldEF4ZXNQZXJtdXRhdGlvbiwgZ2V0SW5uZXJNb3N0QXhlcywgZ2V0VW5kb0F4ZXNQZXJtdXRhdGlvbn0gZnJvbSAnLi9heGlzX3V0aWwnO1xuaW1wb3J0IHtvcH0gZnJvbSAnLi9vcGVyYXRpb24nO1xuaW1wb3J0IHt0cmFuc3Bvc2V9IGZyb20gJy4vdHJhbnNwb3NlJztcblxuLyoqXG4gKiBDb21wdXRlcyB0aGUgY3VtdWxhdGl2ZSBzdW0gb2YgYSBgdGYuVGVuc29yYCBhbG9uZyBgYXhpc2AuXG4gKlxuICogYGBganNcbiAqIGNvbnN0IHggPSB0Zi50ZW5zb3IoWzEsIDIsIDMsIDRdKTtcbiAqIHguY3Vtc3VtKCkucHJpbnQoKTtcbiAqIGBgYFxuICogYGBganNcbiAqIGNvbnN0IHggPSB0Zi50ZW5zb3IoW1sxLCAyXSwgWzMsIDRdXSk7XG4gKiB4LmN1bXN1bSgpLnByaW50KCk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0geCBUaGUgaW5wdXQgdGVuc29yIHRvIGJlIHN1bW1lZC5cbiAqIEBwYXJhbSBheGlzIFRoZSBheGlzIGFsb25nIHdoaWNoIHRvIHN1bS4gT3B0aW9uYWwuIERlZmF1bHRzIHRvIDAuXG4gKiBAcGFyYW0gZXhjbHVzaXZlIFdoZXRoZXIgdG8gcGVyZm9ybSBleGNsdXNpdmUgY3VtdWxhdGl2ZSBzdW0uIE9wdGlvbmFsLlxuICogICAgIERlZmF1bHRzIHRvIGZhbHNlLiBJZiBzZXQgdG8gdHJ1ZSB0aGVuIHRoZSBzdW0gb2YgZWFjaCB0ZW5zb3IgZW50cnlcbiAqICAgICBkb2VzIG5vdCBpbmNsdWRlIGl0cyBvd24gdmFsdWUsIGJ1dCBvbmx5IHRoZSB2YWx1ZXMgcHJldmlvdXMgdG8gaXRcbiAqICAgICBhbG9uZyB0aGUgc3BlY2lmaWVkIGF4aXMuXG4gKiBAcGFyYW0gcmV2ZXJzZSBXaGV0aGVyIHRvIHN1bSBpbiB0aGUgb3Bwb3NpdGUgZGlyZWN0aW9uLiBPcHRpb25hbC5cbiAqICAgICBEZWZhdWx0cyB0byBmYWxzZS5cbiAqXG4gKiBAZG9jIHtoZWFkaW5nOiAnT3BlcmF0aW9ucycsIHN1YmhlYWRpbmc6ICdTY2FuJ31cbiAqL1xuZnVuY3Rpb24gY3Vtc3VtXzxUIGV4dGVuZHMgVGVuc29yPihcbiAgICB4OiBUZW5zb3J8VGVuc29yTGlrZSwgYXhpcyA9IDAsIGV4Y2x1c2l2ZSA9IGZhbHNlLCByZXZlcnNlID0gZmFsc2UpOiBUIHtcbiAgY29uc3QgJHggPSBjb252ZXJ0VG9UZW5zb3IoeCwgJ3gnLCAnY3Vtc3VtJyk7XG5cbiAgY29uc3QgZm9yd2FyZDogRm9yd2FyZEZ1bmM8VGVuc29yPiA9XG4gICAgICAoYmFja2VuZDogS2VybmVsQmFja2VuZCwgc2F2ZTogR3JhZFNhdmVGdW5jKSA9PiB7XG4gICAgICAgIGNvbnN0IHBlcm11dGF0aW9uID0gZ2V0QXhlc1Blcm11dGF0aW9uKFtheGlzXSwgJHgucmFuayk7XG4gICAgICAgIGxldCBwZXJtdXRlZFggPSAkeDtcbiAgICAgICAgaWYgKHBlcm11dGF0aW9uICE9IG51bGwpIHtcbiAgICAgICAgICBwZXJtdXRlZFggPSB0cmFuc3Bvc2UoJHgsIHBlcm11dGF0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwZXJtdXRlZEF4aXMgPSBnZXRJbm5lck1vc3RBeGVzKDEsICR4LnJhbmspWzBdO1xuICAgICAgICBsZXQgdmFsdWUgPSBiYWNrZW5kLmN1bXN1bShwZXJtdXRlZFgsIHBlcm11dGVkQXhpcywgZXhjbHVzaXZlLCByZXZlcnNlKTtcbiAgICAgICAgc2F2ZShbJHhdKTtcblxuICAgICAgICBpZiAocGVybXV0YXRpb24gIT0gbnVsbCkge1xuICAgICAgICAgIGNvbnN0IHJldmVyc2VQZXJtdXRhdGlvbiA9IGdldFVuZG9BeGVzUGVybXV0YXRpb24ocGVybXV0YXRpb24pO1xuICAgICAgICAgIHZhbHVlID0gdHJhbnNwb3NlKHZhbHVlLCByZXZlcnNlUGVybXV0YXRpb24pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH07XG5cbiAgY29uc3QgaW5wdXRzOiBDdW1zdW1JbnB1dHMgPSB7eDogJHh9O1xuICBjb25zdCBhdHRyczogQ3Vtc3VtQXR0cnMgPSB7YXhpcywgZXhjbHVzaXZlLCByZXZlcnNlfTtcblxuICByZXR1cm4gRU5HSU5FLnJ1bktlcm5lbEZ1bmMoXG4gICAgICAgICAgICAgZm9yd2FyZCwgaW5wdXRzIGFzIHt9IGFzIE5hbWVkVGVuc29yTWFwLCBudWxsIC8qIGdyYWQgKi8sIEN1bXN1bSxcbiAgICAgICAgICAgICBhdHRycyBhcyB7fSBhcyBOYW1lZEF0dHJNYXApIGFzIFQ7XG59XG5cbmV4cG9ydCBjb25zdCBjdW1zdW0gPSBvcCh7Y3Vtc3VtX30pO1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG5pbXBvcnQge0VOR0lORSwgRm9yd2FyZEZ1bmN9IGZyb20gJy4uL2VuZ2luZSc7XG5pbXBvcnQge0RlcHRoVG9TcGFjZSwgRGVwdGhUb1NwYWNlQXR0cnMsIERlcHRoVG9TcGFjZUlucHV0c30gZnJvbSAnLi4va2VybmVsX25hbWVzJztcbmltcG9ydCB7TmFtZWRBdHRyTWFwfSBmcm9tICcuLi9rZXJuZWxfcmVnaXN0cnknO1xuaW1wb3J0IHtUZW5zb3I0RH0gZnJvbSAnLi4vdGVuc29yJztcbmltcG9ydCB7TmFtZWRUZW5zb3JNYXB9IGZyb20gJy4uL3RlbnNvcl90eXBlcyc7XG5pbXBvcnQge2NvbnZlcnRUb1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yX3V0aWxfZW52JztcbmltcG9ydCB7VGVuc29yTGlrZTREfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgKiBhcyB1dGlsIGZyb20gJy4uL3V0aWwnO1xuXG5pbXBvcnQge29wfSBmcm9tICcuL29wZXJhdGlvbic7XG5cbi8qKlxuICogUmVhcnJhbmdlcyBkYXRhIGZyb20gZGVwdGggaW50byBibG9ja3Mgb2Ygc3BhdGlhbCBkYXRhLiBNb3JlIHNwZWNpZmljYWxseSxcbiAqIHRoaXMgb3Agb3V0cHV0cyBhIGNvcHkgb2YgdGhlIGlucHV0IHRlbnNvciB3aGVyZSB2YWx1ZXMgZnJvbSB0aGUgYGRlcHRoYFxuICogZGltZW5zaW9uIGFyZSBtb3ZlZCBpbiBzcGF0aWFsIGJsb2NrcyB0byB0aGUgYGhlaWdodGAgYW5kIGB3aWR0aGAgZGltZW5zaW9ucy5cbiAqIFRoZSBhdHRyIGBibG9ja1NpemVgIGluZGljYXRlcyB0aGUgaW5wdXQgYmxvY2sgc2l6ZSBhbmQgaG93IHRoZSBkYXRhIGlzXG4gKiBtb3ZlZC5cbiAqXG4gKiAgLSBDaHVua3Mgb2YgZGF0YSBvZiBzaXplIGBibG9ja1NpemUgKiBibG9ja1NpemVgIGZyb20gZGVwdGggYXJlIHJlYXJyYW5nZWRcbiAqIGludG8gbm9uLW92ZXJsYXBwaW5nIGJsb2NrcyBvZiBzaXplIGBibG9ja1NpemUgeCBibG9ja1NpemVgXG4gKlxuICogIC0gVGhlIHdpZHRoIHRoZSBvdXRwdXQgdGVuc29yIGlzIGBpbnB1dFdpZHRoICogYmxvY2tTaXplYCwgd2hlcmVhcyB0aGVcbiAqIGhlaWdodCBpcyBgaW5wdXRIZWlnaHQgKiBibG9ja1NpemVgXG4gKlxuICogIC0gVGhlIFksIFggY29vcmRpbmF0ZXMgd2l0aGluIGVhY2ggYmxvY2sgb2YgdGhlIG91dHB1dCBpbWFnZSBhcmUgZGV0ZXJtaW5lZFxuICogYnkgdGhlIGhpZ2ggb3JkZXIgY29tcG9uZW50IG9mIHRoZSBpbnB1dCBjaGFubmVsIGluZGV4XG4gKlxuICogIC0gVGhlIGRlcHRoIG9mIHRoZSBpbnB1dCB0ZW5zb3IgbXVzdCBiZSBkaXZpc2libGUgYnkgYGJsb2NrU2l6ZSAqXG4gKiBibG9ja1NpemVgXG4gKlxuICogVGhlIGBkYXRhRm9ybWF0YCBhdHRyIHNwZWNpZmllcyB0aGUgbGF5b3V0IG9mIHRoZSBpbnB1dCBhbmQgb3V0cHV0IHRlbnNvcnNcbiAqIHdpdGggdGhlIGZvbGxvd2luZyBvcHRpb25zOiBcIk5IV0NcIjogWyBgYmF0Y2gsIGhlaWdodCwgd2lkdGgsIGNoYW5uZWxzYCBdXG4gKiBcIk5DSFdcIjogWyBgYmF0Y2gsIGNoYW5uZWxzLCBoZWlnaHQsIHdpZHRoYCBdXG4gKlxuICogYGBganNcbiAqIGNvbnN0IHggPSB0Zi50ZW5zb3I0ZChbMSwgMiwgMywgNF0sIFsxLCAxLCAxLCA0XSk7XG4gKiBjb25zdCBibG9ja1NpemUgPSAyO1xuICogY29uc3QgZGF0YUZvcm1hdCA9IFwiTkhXQ1wiO1xuICpcbiAqIHRmLmRlcHRoVG9TcGFjZSh4LCBibG9ja1NpemUsIGRhdGFGb3JtYXQpLnByaW50KCk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0geCBUaGUgaW5wdXQgdGVuc29yIG9mIHJhbmsgNFxuICogQHBhcmFtIGJsb2NrU0l6ZSAgQW4gYGludGAgdGhhdCBpcyBgPj0gMmAuIFRoZSBzaXplIG9mIHRoZSBzcGF0aWFsIGJsb2NrXG4gKiBAcGFyYW0gZGF0YUZvcm1hdCBBbiBvcHRpb25hbCBzdHJpbmcgZnJvbTogXCJOSFdDXCIsIFwiTkNIV1wiLiBEZWZhdWx0cyB0byBcIk5IV0NcIlxuICpcbiAqIEBkb2Mge2hlYWRpbmc6ICdUZW5zb3JzJywgc3ViaGVhZGluZzogJ1RyYW5zZm9ybWF0aW9ucyd9XG4gKi9cbmZ1bmN0aW9uIGRlcHRoVG9TcGFjZV8oXG4gICAgeDogVGVuc29yNER8VGVuc29yTGlrZTRELCBibG9ja1NpemU6IG51bWJlcixcbiAgICBkYXRhRm9ybWF0OiAnTkhXQyd8J05DSFcnID0gJ05IV0MnKTogVGVuc29yNEQge1xuICBjb25zdCAkeCA9IGNvbnZlcnRUb1RlbnNvcih4LCAneCcsICdkZXB0aFRvU3BhY2UnKSBhcyBUZW5zb3I0RDtcblxuICBjb25zdCBpbnB1dEhlaWdodCA9IChkYXRhRm9ybWF0ID09PSAnTkhXQycpID8gJHguc2hhcGVbMV0gOiAkeC5zaGFwZVsyXTtcbiAgY29uc3QgaW5wdXRXaWR0aCA9IChkYXRhRm9ybWF0ID09PSAnTkhXQycpID8gJHguc2hhcGVbMl0gOiAkeC5zaGFwZVszXTtcbiAgY29uc3QgaW5wdXREZXB0aCA9IChkYXRhRm9ybWF0ID09PSAnTkhXQycpID8gJHguc2hhcGVbM10gOiAkeC5zaGFwZVsxXTtcblxuICB1dGlsLmFzc2VydChcbiAgICAgIGlucHV0SGVpZ2h0ICogYmxvY2tTaXplID49IDAsXG4gICAgICAoKSA9PiBgTmVnYXRpdmUgZGltZW5zaW9uIHNpemUgY2F1c2VkIGJ5IG92ZXJmbG93IHdoZW4gbXVsdGlwbHlpbmdcbiAgICAke2lucHV0SGVpZ2h0fSBhbmQgJHtibG9ja1NpemV9ICBmb3IgZGVwdGhUb1NwYWNlIHdpdGggaW5wdXQgc2hhcGVcbiAgICAkeyR4LnNoYXBlfWApO1xuXG4gIHV0aWwuYXNzZXJ0KFxuICAgICAgaW5wdXRXaWR0aCAqIGJsb2NrU2l6ZSA+PSAwLFxuICAgICAgKCkgPT4gYE5lZ2F0aXZlIGRpbWVuc2lvbiBzaXplIGNhdXNlZCBieSBvdmVyZmxvdyB3aGVuIG11bHRpcGx5aW5nXG4gICAgJHtpbnB1dFdpZHRofSBhbmQgJHtibG9ja1NpemV9IGZvciBkZXB0aFRvU3BhY2Ugd2l0aCBpbnB1dCBzaGFwZVxuICAgICAgICAkeyR4LnNoYXBlfWApO1xuXG4gIHV0aWwuYXNzZXJ0KFxuICAgICAgKGlucHV0RGVwdGggJSAoYmxvY2tTaXplICogYmxvY2tTaXplKSA9PT0gMCksXG4gICAgICAoKSA9PiBgRGltZW5zaW9uIHNpemUgbXVzdCBiZSBldmVubHkgZGl2aXNpYmxlIGJ5ICR7XG4gICAgICAgICAgYmxvY2tTaXplICogYmxvY2tTaXplfSBidXQgaXMgJHtcbiAgICAgICAgICBpbnB1dERlcHRofSBmb3IgZGVwdGhUb1NwYWNlIHdpdGggaW5wdXQgc2hhcGUgJHskeC5zaGFwZX1gKTtcblxuICBjb25zdCBmb3J3YXJkOiBGb3J3YXJkRnVuYzxUZW5zb3I0RD4gPSBiYWNrZW5kID0+XG4gICAgICBiYWNrZW5kLmRlcHRoVG9TcGFjZSgkeCwgYmxvY2tTaXplLCBkYXRhRm9ybWF0KTtcblxuICBjb25zdCBpbnB1dHM6IERlcHRoVG9TcGFjZUlucHV0cyA9IHt4OiAkeH07XG4gIGNvbnN0IGF0dHJzOiBEZXB0aFRvU3BhY2VBdHRycyA9IHtibG9ja1NpemUsIGRhdGFGb3JtYXR9O1xuXG4gIHJldHVybiBFTkdJTkUucnVuS2VybmVsRnVuYyhcbiAgICAgIGZvcndhcmQsIGlucHV0cyBhcyB7fSBhcyBOYW1lZFRlbnNvck1hcCwgbnVsbCAvKiBncmFkaWVudCAqLyxcbiAgICAgIERlcHRoVG9TcGFjZSwgYXR0cnMgYXMge30gYXMgTmFtZWRBdHRyTWFwKTtcbn1cblxuZXhwb3J0IGNvbnN0IGRlcHRoVG9TcGFjZSA9IG9wKHtkZXB0aFRvU3BhY2VffSk7XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5pbXBvcnQge0VOR0lORSwgRm9yd2FyZEZ1bmN9IGZyb20gJy4uL2VuZ2luZSc7XG5pbXBvcnQge0RlcHRod2lzZUNvbnYyZE5hdGl2ZSwgRGVwdGh3aXNlQ29udjJkTmF0aXZlQXR0cnMsIERlcHRod2lzZUNvbnYyZE5hdGl2ZUlucHV0c30gZnJvbSAnLi4va2VybmVsX25hbWVzJztcbmltcG9ydCB7TmFtZWRBdHRyTWFwfSBmcm9tICcuLi9rZXJuZWxfcmVnaXN0cnknO1xuaW1wb3J0IHtUZW5zb3IsIFRlbnNvcjNELCBUZW5zb3I0RH0gZnJvbSAnLi4vdGVuc29yJztcbmltcG9ydCB7TmFtZWRUZW5zb3JNYXB9IGZyb20gJy4uL3RlbnNvcl90eXBlcyc7XG5pbXBvcnQge2NvbnZlcnRUb1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yX3V0aWxfZW52JztcbmltcG9ydCB7VGVuc29yTGlrZX0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0ICogYXMgdXRpbCBmcm9tICcuLi91dGlsJztcblxuaW1wb3J0ICogYXMgY29udl91dGlsIGZyb20gJy4vY29udl91dGlsJztcbmltcG9ydCB7b3B9IGZyb20gJy4vb3BlcmF0aW9uJztcbmltcG9ydCB7cmVzaGFwZX0gZnJvbSAnLi9yZXNoYXBlJztcblxuLyoqXG4gKiBEZXB0aHdpc2UgMkQgY29udm9sdXRpb24uXG4gKlxuICogR2l2ZW4gYSA0RCBgaW5wdXRgIGFycmF5IGFuZCBhIGBmaWx0ZXJgIGFycmF5IG9mIHNoYXBlXG4gKiBgW2ZpbHRlckhlaWdodCwgZmlsdGVyV2lkdGgsIGluQ2hhbm5lbHMsIGNoYW5uZWxNdWx0aXBsaWVyXWAgY29udGFpbmluZ1xuICogYGluQ2hhbm5lbHNgIGNvbnZvbHV0aW9uYWwgZmlsdGVycyBvZiBkZXB0aCAxLCB0aGlzIG9wIGFwcGxpZXMgYVxuICogZGlmZmVyZW50IGZpbHRlciB0byBlYWNoIGlucHV0IGNoYW5uZWwgKGV4cGFuZGluZyBmcm9tIDEgY2hhbm5lbCB0b1xuICogYGNoYW5uZWxNdWx0aXBsaWVyYCBjaGFubmVscyBmb3IgZWFjaCksIHRoZW4gY29uY2F0ZW5hdGVzIHRoZSByZXN1bHRzXG4gKiB0b2dldGhlci4gVGhlIG91dHB1dCBoYXMgYGluQ2hhbm5lbHMgKiBjaGFubmVsTXVsdGlwbGllcmAgY2hhbm5lbHMuXG4gKlxuICogU2VlXG4gKiBbaHR0cHM6Ly93d3cudGVuc29yZmxvdy5vcmcvYXBpX2RvY3MvcHl0aG9uL3RmL25uL2RlcHRod2lzZV9jb252MmRdKFxuICogICAgIGh0dHBzOi8vd3d3LnRlbnNvcmZsb3cub3JnL2FwaV9kb2NzL3B5dGhvbi90Zi9ubi9kZXB0aHdpc2VfY29udjJkKVxuICogZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBAcGFyYW0geCBUaGUgaW5wdXQgdGVuc29yLCBvZiByYW5rIDQgb3IgcmFuayAzLCBvZiBzaGFwZVxuICogICAgIGBbYmF0Y2gsIGhlaWdodCwgd2lkdGgsIGluQ2hhbm5lbHNdYC4gSWYgcmFuayAzLCBiYXRjaCBvZiAxIGlzXG4gKiBhc3N1bWVkLlxuICogQHBhcmFtIGZpbHRlciBUaGUgZmlsdGVyIHRlbnNvciwgcmFuayA0LCBvZiBzaGFwZVxuICogICAgIGBbZmlsdGVySGVpZ2h0LCBmaWx0ZXJXaWR0aCwgaW5DaGFubmVscywgY2hhbm5lbE11bHRpcGxpZXJdYC5cbiAqIEBwYXJhbSBzdHJpZGVzIFRoZSBzdHJpZGVzIG9mIHRoZSBjb252b2x1dGlvbjogYFtzdHJpZGVIZWlnaHQsXG4gKiBzdHJpZGVXaWR0aF1gLiBJZiBzdHJpZGVzIGlzIGEgc2luZ2xlIG51bWJlciwgdGhlbiBgc3RyaWRlSGVpZ2h0ID09XG4gKiBzdHJpZGVXaWR0aGAuXG4gKiBAcGFyYW0gcGFkIFRoZSB0eXBlIG9mIHBhZGRpbmcgYWxnb3JpdGhtLlxuICogICAtIGBzYW1lYCBhbmQgc3RyaWRlIDE6IG91dHB1dCB3aWxsIGJlIG9mIHNhbWUgc2l6ZSBhcyBpbnB1dCxcbiAqICAgICAgIHJlZ2FyZGxlc3Mgb2YgZmlsdGVyIHNpemUuXG4gKiAgIC0gYHZhbGlkYDogb3V0cHV0IHdpbGwgYmUgc21hbGxlciB0aGFuIGlucHV0IGlmIGZpbHRlciBpcyBsYXJnZXJcbiAqICAgICAgIHRoYW4gMXgxLlxuICogICAtIEZvciBtb3JlIGluZm8sIHNlZSB0aGlzIGd1aWRlOlxuICogICAgIFtodHRwczovL3d3dy50ZW5zb3JmbG93Lm9yZy9hcGlfZ3VpZGVzL3B5dGhvbi9ubiNDb252b2x1dGlvbl0oXG4gKiAgICAgICAgICBodHRwczovL3d3dy50ZW5zb3JmbG93Lm9yZy9hcGlfZ3VpZGVzL3B5dGhvbi9ubiNDb252b2x1dGlvbilcbiAqIEBwYXJhbSBkaWxhdGlvbnMgVGhlIGRpbGF0aW9uIHJhdGVzOiBgW2RpbGF0aW9uSGVpZ2h0LCBkaWxhdGlvbldpZHRoXWBcbiAqICAgICBpbiB3aGljaCB3ZSBzYW1wbGUgaW5wdXQgdmFsdWVzIGFjcm9zcyB0aGUgaGVpZ2h0IGFuZCB3aWR0aCBkaW1lbnNpb25zXG4gKiAgICAgaW4gYXRyb3VzIGNvbnZvbHV0aW9uLiBEZWZhdWx0cyB0byBgWzEsIDFdYC4gSWYgYHJhdGVgIGlzIGEgc2luZ2xlXG4gKiAgICAgbnVtYmVyLCB0aGVuIGBkaWxhdGlvbkhlaWdodCA9PSBkaWxhdGlvbldpZHRoYC4gSWYgaXQgaXMgZ3JlYXRlciB0aGFuXG4gKiAgICAgMSwgdGhlbiBhbGwgdmFsdWVzIG9mIGBzdHJpZGVzYCBtdXN0IGJlIDEuXG4gKiBAcGFyYW0gZGF0YUZvcm1hdDogQW4gb3B0aW9uYWwgc3RyaW5nIGZyb206IFwiTkhXQ1wiLCBcIk5DSFdcIi4gRGVmYXVsdHMgdG9cbiAqICAgICBcIk5IV0NcIi4gU3BlY2lmeSB0aGUgZGF0YSBmb3JtYXQgb2YgdGhlIGlucHV0IGFuZCBvdXRwdXQgZGF0YS4gV2l0aCB0aGVcbiAqICAgICBkZWZhdWx0IGZvcm1hdCBcIk5IV0NcIiwgdGhlIGRhdGEgaXMgc3RvcmVkIGluIHRoZSBvcmRlciBvZjogW2JhdGNoLFxuICogICAgIGhlaWdodCwgd2lkdGgsIGNoYW5uZWxzXS4gT25seSBcIk5IV0NcIiBpcyBjdXJyZW50bHkgc3VwcG9ydGVkLlxuICogQHBhcmFtIGRpbVJvdW5kaW5nTW9kZSBUaGUgcm91bmRpbmcgbW9kZSB1c2VkIHdoZW4gY29tcHV0aW5nIG91dHB1dFxuICogICAgIGRpbWVuc2lvbnMgaWYgcGFkIGlzIGEgbnVtYmVyLiBJZiBub25lIGlzIHByb3ZpZGVkLCBpdCB3aWxsIG5vdCByb3VuZFxuICogICAgIGFuZCBlcnJvciBpZiB0aGUgb3V0cHV0IGlzIG9mIGZyYWN0aW9uYWwgc2l6ZS5cbiAqXG4gKiBAZG9jIHtoZWFkaW5nOiAnT3BlcmF0aW9ucycsIHN1YmhlYWRpbmc6ICdDb252b2x1dGlvbid9XG4gKi9cbmZ1bmN0aW9uIGRlcHRod2lzZUNvbnYyZF88VCBleHRlbmRzIFRlbnNvcjNEfFRlbnNvcjREPihcbiAgICB4OiBUfFRlbnNvckxpa2UsIGZpbHRlcjogVGVuc29yNER8VGVuc29yTGlrZSxcbiAgICBzdHJpZGVzOiBbbnVtYmVyLCBudW1iZXJdfG51bWJlciwgcGFkOiAndmFsaWQnfCdzYW1lJ3xudW1iZXIsXG4gICAgZGF0YUZvcm1hdDogJ05IV0MnfCdOQ0hXJyA9ICdOSFdDJyxcbiAgICBkaWxhdGlvbnM6IFtudW1iZXIsIG51bWJlcl18bnVtYmVyID0gWzEsIDFdLFxuICAgIGRpbVJvdW5kaW5nTW9kZT86ICdmbG9vcid8J3JvdW5kJ3wnY2VpbCcpOiBUIHtcbiAgY29uc3QgJHggPSBjb252ZXJ0VG9UZW5zb3IoeCwgJ3gnLCAnZGVwdGh3aXNlQ29udjJkJyk7XG4gIGNvbnN0ICRmaWx0ZXIgPSBjb252ZXJ0VG9UZW5zb3IoZmlsdGVyLCAnZmlsdGVyJywgJ2RlcHRod2lzZUNvbnYyZCcpO1xuXG4gIGxldCB4NEQgPSAkeCBhcyBUZW5zb3I0RDtcbiAgbGV0IHJlc2hhcGVkVG80RCA9IGZhbHNlO1xuICBpZiAoJHgucmFuayA9PT0gMykge1xuICAgIHJlc2hhcGVkVG80RCA9IHRydWU7XG4gICAgeDREID0gcmVzaGFwZSgkeCwgWzEsICR4LnNoYXBlWzBdLCAkeC5zaGFwZVsxXSwgJHguc2hhcGVbMl1dKTtcbiAgfVxuICB1dGlsLmFzc2VydChcbiAgICAgIHg0RC5yYW5rID09PSA0LFxuICAgICAgKCkgPT4gYEVycm9yIGluIGRlcHRod2lzZUNvbnYyZDogaW5wdXQgbXVzdCBiZSByYW5rIDQsIGJ1dCBnb3QgYCArXG4gICAgICAgICAgYHJhbmsgJHt4NEQucmFua30uYCk7XG4gIHV0aWwuYXNzZXJ0KFxuICAgICAgJGZpbHRlci5yYW5rID09PSA0LFxuICAgICAgKCkgPT4gYEVycm9yIGluIGRlcHRod2lzZUNvbnYyZDogZmlsdGVyIG11c3QgYmUgcmFuayA0LCBidXQgZ290IHJhbmsgYCArXG4gICAgICAgICAgYCR7JGZpbHRlci5yYW5rfS5gKTtcbiAgdXRpbC5hc3NlcnQoXG4gICAgICB4NEQuc2hhcGVbM10gPT09ICRmaWx0ZXIuc2hhcGVbMl0sXG4gICAgICAoKSA9PiBgRXJyb3IgaW4gZGVwdGh3aXNlQ29udjJkOiBudW1iZXIgb2YgaW5wdXQgY2hhbm5lbHMgYCArXG4gICAgICAgICAgYCgke3g0RC5zaGFwZVszXX0pIG11c3QgbWF0Y2ggdGhlIGluQ2hhbm5lbHMgZGltZW5zaW9uIGluIGAgK1xuICAgICAgICAgIGBmaWx0ZXIgJHskZmlsdGVyLnNoYXBlWzJdfS5gKTtcblxuICBpZiAoZGltUm91bmRpbmdNb2RlICE9IG51bGwpIHtcbiAgICB1dGlsLmFzc2VydChcbiAgICAgICAgdXRpbC5pc0ludChwYWQgYXMgbnVtYmVyKSxcbiAgICAgICAgKCkgPT4gYEVycm9yIGluIGRlcHRod2lzZUNvbnYyZDogcGFkIG11c3QgYmUgYW4gaW50ZWdlciB3aGVuIHVzaW5nLCBgICtcbiAgICAgICAgICAgIGBkaW1Sb3VuZGluZ01vZGUgJHtkaW1Sb3VuZGluZ01vZGV9IGJ1dCBnb3QgcGFkICR7cGFkfS5gKTtcbiAgfVxuXG4gIGNvbnN0IGZvcndhcmQ6IEZvcndhcmRGdW5jPFRlbnNvcj4gPSAoYmFja2VuZCwgc2F2ZSkgPT4ge1xuICAgIGlmIChkaWxhdGlvbnMgPT0gbnVsbCkge1xuICAgICAgZGlsYXRpb25zID0gWzEsIDFdO1xuICAgIH1cblxuICAgIHV0aWwuYXNzZXJ0KFxuICAgICAgICBjb252X3V0aWwuZWl0aGVyU3RyaWRlc09yRGlsYXRpb25zQXJlT25lKHN0cmlkZXMsIGRpbGF0aW9ucyksXG4gICAgICAgICgpID0+ICdFcnJvciBpbiBkZXB0aHdpc2VDb252MmQ6IEVpdGhlciBzdHJpZGVzIG9yIGRpbGF0aW9ucyBtdXN0IGJlICcgK1xuICAgICAgICAgICAgYDEuIEdvdCBzdHJpZGVzICR7c3RyaWRlc30gYW5kIGRpbGF0aW9ucyAnJHtkaWxhdGlvbnN9J2ApO1xuXG4gICAgY29uc3QgY29udkluZm8gPSBjb252X3V0aWwuY29tcHV0ZUNvbnYyREluZm8oXG4gICAgICAgIHg0RC5zaGFwZSwgJGZpbHRlci5zaGFwZSwgc3RyaWRlcywgZGlsYXRpb25zLCBwYWQsIGRpbVJvdW5kaW5nTW9kZSxcbiAgICAgICAgdHJ1ZSAvKiBkZXB0aHdpc2UgKi8pO1xuICAgIGNvbnN0IHJlcyA9IGJhY2tlbmQuZGVwdGh3aXNlQ29udjJEKHg0RCwgJGZpbHRlciwgY29udkluZm8pO1xuICAgIHNhdmUoW3g0RCwgJGZpbHRlcl0pO1xuICAgIHJldHVybiByZXM7XG4gIH07XG5cbiAgY29uc3QgaW5wdXRzOiBEZXB0aHdpc2VDb252MmROYXRpdmVJbnB1dHMgPSB7eDogeDRELCBmaWx0ZXI6ICRmaWx0ZXJ9O1xuICBjb25zdCBhdHRyczogRGVwdGh3aXNlQ29udjJkTmF0aXZlQXR0cnMgPVxuICAgICAge3N0cmlkZXMsIHBhZCwgZGF0YUZvcm1hdCwgZGlsYXRpb25zLCBkaW1Sb3VuZGluZ01vZGV9O1xuXG4gIGNvbnN0IHJlcyA9IEVOR0lORS5ydW5LZXJuZWxGdW5jKFxuICAgICAgZm9yd2FyZCwgaW5wdXRzIGFzIHt9IGFzIE5hbWVkVGVuc29yTWFwLCBudWxsIC8qIGdyYWQgKi8sXG4gICAgICBEZXB0aHdpc2VDb252MmROYXRpdmUsIGF0dHJzIGFzIHt9IGFzIE5hbWVkQXR0ck1hcCk7XG5cbiAgaWYgKHJlc2hhcGVkVG80RCkge1xuICAgIHJldHVybiByZXNoYXBlKHJlcywgW3Jlcy5zaGFwZVsxXSwgcmVzLnNoYXBlWzJdLCByZXMuc2hhcGVbM11dKSBhcyBUO1xuICB9XG4gIHJldHVybiByZXMgYXMgVDtcbn1cblxuZXhwb3J0IGNvbnN0IGRlcHRod2lzZUNvbnYyZCA9IG9wKHtkZXB0aHdpc2VDb252MmRffSk7XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbmltcG9ydCB7RU5HSU5FLCBGb3J3YXJkRnVuY30gZnJvbSAnLi4vZW5naW5lJztcbmltcG9ydCB7RGlhZywgRGlhZ0lucHV0c30gZnJvbSAnLi4va2VybmVsX25hbWVzJztcbmltcG9ydCB7VGVuc29yfSBmcm9tICcuLi90ZW5zb3InO1xuaW1wb3J0IHtOYW1lZFRlbnNvck1hcH0gZnJvbSAnLi4vdGVuc29yX3R5cGVzJztcbmltcG9ydCB7Y29udmVydFRvVGVuc29yfSBmcm9tICcuLi90ZW5zb3JfdXRpbF9lbnYnO1xuXG5pbXBvcnQge29wfSBmcm9tICcuL29wZXJhdGlvbic7XG5pbXBvcnQge3Jlc2hhcGV9IGZyb20gJy4vcmVzaGFwZSc7XG5cbi8qKlxuICogUmV0dXJucyBhIGRpYWdvbmFsIHRlbnNvciB3aXRoIGEgZ2l2ZW4gZGlhZ29uYWwgdmFsdWVzLlxuICpcbiAqIEdpdmVuIGEgZGlhZ29uYWwsIHRoaXMgb3BlcmF0aW9uIHJldHVybnMgYSB0ZW5zb3Igd2l0aCB0aGUgZGlhZ29uYWwgYW5kXG4gKiBldmVyeXRoaW5nIGVsc2UgcGFkZGVkIHdpdGggemVyb3MuXG4gKlxuICogQXNzdW1lIHRoZSBpbnB1dCBoYXMgZGltZW5zaW9ucyBgW0QxLC4uLiwgRGtdYCwgdGhlbiB0aGUgb3V0cHV0IGlzIGEgdGVuc29yXG4gKiBvZiByYW5rIDJrIHdpdGggZGltZW5zaW9ucyBgW0QxLC4uLiwgRGssIEQxLC4uLiwgRGtdYFxuICpcbiAqIGBgYGpzXG4gKiBjb25zdCB4ID0gdGYudGVuc29yMWQoWzEsIDIsIDMsIDRdKTtcbiAqXG4gKiB0Zi5kaWFnKHgpLnByaW50KClcbiAqIGBgYFxuICogYGBganNcbiAqIGNvbnN0IHggPSB0Zi50ZW5zb3IxZChbMSwgMiwgMywgNCwgNSwgNiwgNiwgOF0sIFs0LCAyXSlcbiAqXG4gKiB0Zi5kaWFnKHgpLnByaW50KClcbiAqIGBgYFxuICogQHBhcmFtIHggVGhlIGlucHV0IHRlbnNvci5cbiAqL1xuZnVuY3Rpb24gZGlhZ18oeDogVGVuc29yKTogVGVuc29yIHtcbiAgY29uc3QgJHggPSBjb252ZXJ0VG9UZW5zb3IoeCwgJ3gnLCAnZGlhZycpO1xuXG4gIGNvbnN0IGZvcndhcmQ6IEZvcndhcmRGdW5jPFRlbnNvcj4gPSBiYWNrZW5kID0+IHtcbiAgICBjb25zdCBmbGF0ID0gcmVzaGFwZSgkeCwgWyR4LnNpemVdKTtcbiAgICBjb25zdCByZXN1bHQgPSBiYWNrZW5kLmRpYWcoZmxhdCk7XG4gICAgY29uc3Qgb3V0U2hhcGUgPSBbLi4ueC5zaGFwZSwgLi4ueC5zaGFwZV07XG5cbiAgICByZXR1cm4gcmVzaGFwZShyZXN1bHQsIG91dFNoYXBlKTtcbiAgfTtcblxuICBjb25zdCBpbnB1dHM6IERpYWdJbnB1dHMgPSB7eDogJHh9O1xuXG4gIHJldHVybiBFTkdJTkUucnVuS2VybmVsRnVuYyhcbiAgICAgIGZvcndhcmQsIGlucHV0cyBhcyB7fSBhcyBOYW1lZFRlbnNvck1hcCwgbnVsbCAvKiBncmFkICovLCBEaWFnKTtcbn1cblxuZXhwb3J0IGNvbnN0IGRpYWcgPSBvcCh7ZGlhZ199KTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuaW1wb3J0IHtFTkdJTkV9IGZyb20gJy4uL2VuZ2luZSc7XG5pbXBvcnQge0RpbGF0aW9uMkQsIERpbGF0aW9uMkRBdHRycywgRGlsYXRpb24yRElucHV0c30gZnJvbSAnLi4va2VybmVsX25hbWVzJztcbmltcG9ydCB7TmFtZWRBdHRyTWFwfSBmcm9tICcuLi9rZXJuZWxfcmVnaXN0cnknO1xuaW1wb3J0IHtUZW5zb3IzRCwgVGVuc29yNER9IGZyb20gJy4uL3RlbnNvcic7XG5pbXBvcnQge05hbWVkVGVuc29yTWFwfSBmcm9tICcuLi90ZW5zb3JfdHlwZXMnO1xuaW1wb3J0IHtjb252ZXJ0VG9UZW5zb3J9IGZyb20gJy4uL3RlbnNvcl91dGlsX2Vudic7XG5pbXBvcnQge1RlbnNvckxpa2V9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCAqIGFzIHV0aWwgZnJvbSAnLi4vdXRpbCc7XG5cbmltcG9ydCB7b3B9IGZyb20gJy4vb3BlcmF0aW9uJztcbmltcG9ydCB7cmVzaGFwZX0gZnJvbSAnLi9yZXNoYXBlJztcblxuLyoqXG4gKiBDb21wdXRlcyB0aGUgZ3JheXNjYWxlIGRpbGF0aW9uIG92ZXIgdGhlIGlucHV0IGB4YC5cbiAqXG4gKiBAcGFyYW0geCBUaGUgaW5wdXQgdGVuc29yLCByYW5rIDMgb3IgcmFuayA0IG9mIHNoYXBlXG4gKiAgICAgYFtiYXRjaCwgaGVpZ2h0LCB3aWR0aCwgaW5DaGFubmVsc11gLiBJZiByYW5rIDMsIGJhdGNoIG9mIDEgaXMgYXNzdW1lZC5cbiAqIEBwYXJhbSBmaWx0ZXIgVGhlIGZpbHRlciB0ZW5zb3IsIHJhbmsgMywgb2Ygc2hhcGVcbiAqICAgICBgW2ZpbHRlckhlaWdodCwgZmlsdGVyV2lkdGgsIGRlcHRoXWAuXG4gKiBAcGFyYW0gc3RyaWRlcyBUaGUgc3RyaWRlcyBvZiB0aGUgc2xpZGluZyB3aW5kb3cgZm9yIGVhY2ggZGltZW5zaW9uIG9mIHRoZVxuICogICAgIGlucHV0IHRlbnNvcjogYFtzdHJpZGVIZWlnaHQsIHN0cmlkZVdpZHRoXWAuXG4gKiAgICAgSWYgYHN0cmlkZXNgIGlzIGEgc2luZ2xlIG51bWJlcixcbiAqICAgICB0aGVuIGBzdHJpZGVIZWlnaHQgPT0gc3RyaWRlV2lkdGhgLlxuICogQHBhcmFtIHBhZCBUaGUgdHlwZSBvZiBwYWRkaW5nIGFsZ29yaXRobS5cbiAqICAgIC0gYHNhbWVgIGFuZCBzdHJpZGUgMTogb3V0cHV0IHdpbGwgYmUgb2Ygc2FtZSBzaXplIGFzIGlucHV0LFxuICogICAgICAgcmVnYXJkbGVzcyBvZiBmaWx0ZXIgc2l6ZS5cbiAqICAgIC0gYHZhbGlkYDogb3V0cHV0IHdpbGwgYmUgc21hbGxlciB0aGFuIGlucHV0IGlmIGZpbHRlciBpcyBsYXJnZXJcbiAqICAgICAgIHRoYW4gMSoxeDEuXG4gKiAgICAtIEZvciBtb3JlIGluZm8sIHNlZSB0aGlzIGd1aWRlOlxuICogICAgIFtodHRwczovL3d3dy50ZW5zb3JmbG93Lm9yZy9hcGlfZ3VpZGVzL3B5dGhvbi9ubiNDb252b2x1dGlvbl0oXG4gKiAgICAgICAgICBodHRwczovL3d3dy50ZW5zb3JmbG93Lm9yZy9hcGlfZ3VpZGVzL3B5dGhvbi9ubiNDb252b2x1dGlvbilcbiAqIEBwYXJhbSBkYXRhRm9ybWF0IFNwZWNpZnkgdGhlIGRhdGEgZm9ybWF0IG9mIHRoZSBpbnB1dCBhbmQgb3V0cHV0IGRhdGEuXG4gKiAgICAgIERlZmF1bHRzIHRvICdOSFdDJy4gT25seSAnTkhXQycgaXMgY3VycmVudGx5IHN1cHBvcnRlZC4gV2l0aCB0aGVcbiAqICAgICAgZGVmYXVsdCBmb3JtYXQgXCJOSFdDXCIsIHRoZSBkYXRhIGlzIHN0b3JlZCBpbiB0aGUgb3JkZXIgb2Y6IFtiYXRjaCxcbiAqICAgICAgaGVpZ2h0LCB3aWR0aCwgY2hhbm5lbHNdLlxuICogQHBhcmFtIGRpbGF0aW9ucyBUaGUgZGlsYXRpb24gcmF0ZXM6IGBbZGlsYXRpb25IZWlnaHQsIGRpbGF0aW9uV2lkdGhdYFxuICogICAgIGluIHdoaWNoIHdlIHNhbXBsZSBpbnB1dCB2YWx1ZXMgYWNyb3NzIHRoZSBoZWlnaHQgYW5kIHdpZHRoIGRpbWVuc2lvbnNcbiAqICAgICBmb3IgYXRyb3VzIG1vcnBob2xvZ2ljYWwgZGlsYXRpb24uIERlZmF1bHRzIHRvIGBbMSwgMV1gLiBJZiBgZGlsYXRpb25zYFxuICogICAgIGlzIGEgc2luZ2xlIG51bWJlciwgdGhlbiBgZGlsYXRpb25IZWlnaHQgPT0gZGlsYXRpb25XaWR0aGAuIElmIGl0IGlzXG4gKiAgICAgZ3JlYXRlciB0aGFuIDEsIHRoZW4gYWxsIHZhbHVlcyBvZiBgc3RyaWRlc2AgbXVzdCBiZSAxLlxuICpcbiAqIEBkb2Mge2hlYWRpbmc6ICdPcGVyYXRpb25zJywgc3ViaGVhZGluZzogJ0Jhc2ljIG1hdGgnfVxuICovXG5mdW5jdGlvbiBkaWxhdGlvbjJkXzxUIGV4dGVuZHMgVGVuc29yM0R8VGVuc29yNEQ+KFxuICAgIHg6IFR8VGVuc29yTGlrZSwgZmlsdGVyOiBUZW5zb3IzRHxUZW5zb3JMaWtlLFxuICAgIHN0cmlkZXM6IFtudW1iZXIsIG51bWJlcl18bnVtYmVyLCBwYWQ6ICd2YWxpZCd8J3NhbWUnLFxuICAgIGRpbGF0aW9uczogW251bWJlciwgbnVtYmVyXXxudW1iZXIgPSBbMSwgMV0sXG4gICAgZGF0YUZvcm1hdDogJ05IV0MnID0gJ05IV0MnKTogVCB7XG4gIGNvbnN0ICR4ID0gY29udmVydFRvVGVuc29yKHgsICd4JywgJ2RpbGF0aW9uMmQnKTtcbiAgY29uc3QgJGZpbHRlciA9IGNvbnZlcnRUb1RlbnNvcihmaWx0ZXIsICdmaWx0ZXInLCAnZGlsYXRpb24yZCcpO1xuXG4gIHV0aWwuYXNzZXJ0KFxuICAgICAgJHgucmFuayA9PT0gMyB8fCAkeC5yYW5rID09PSA0LFxuICAgICAgKCkgPT4gYEVycm9yIGluIGRpbGF0aW9uMmQ6IGlucHV0IG11c3QgYmUgcmFuayAzIG9yIDQsIGJ1dCBnb3QgcmFuayBgICtcbiAgICAgICAgICBgJHskeC5yYW5rfS5gKTtcbiAgdXRpbC5hc3NlcnQoXG4gICAgICAkZmlsdGVyLnJhbmsgPT09IDMsXG4gICAgICAoKSA9PiBgRXJyb3IgaW4gZGlsYXRpb24yZDogZmlsdGVyIG11c3QgYmUgcmFuayAzLCBidXQgZ290IHJhbmsgYCArXG4gICAgICAgICAgYCR7JGZpbHRlci5yYW5rfS5gKTtcbiAgdXRpbC5hc3NlcnQoXG4gICAgICBkYXRhRm9ybWF0ID09PSAnTkhXQycsXG4gICAgICAoKSA9PiBgRXJyb3IgaW4gZGlsYXRpb24yZDogT25seSBOSFdDIGlzIGN1cnJlbnRseSBzdXBwb3J0ZWQsIGAgK1xuICAgICAgICAgIGBidXQgZ290IGRhdGFGb3JtYXQgb2YgJHtkYXRhRm9ybWF0fWApO1xuXG4gIGxldCB4NEQgPSAkeCBhcyBUZW5zb3I0RDtcbiAgbGV0IHJlc2hhcGVkVG80RCA9IGZhbHNlO1xuXG4gIGlmICgkeC5yYW5rID09PSAzKSB7XG4gICAgeDREID0gcmVzaGFwZSgkeCwgWzEsICR4LnNoYXBlWzBdLCAkeC5zaGFwZVsxXSwgJHguc2hhcGVbMl1dKTtcbiAgICByZXNoYXBlZFRvNEQgPSB0cnVlO1xuICB9XG5cbiAgY29uc3QgaW5wdXRzOiBEaWxhdGlvbjJESW5wdXRzID0ge3g6IHg0RCwgZmlsdGVyOiAkZmlsdGVyfTtcbiAgY29uc3QgYXR0cnM6IERpbGF0aW9uMkRBdHRycyA9IHtzdHJpZGVzLCBwYWQsIGRpbGF0aW9uc307XG5cbiAgY29uc3QgcmVzID0gRU5HSU5FLnJ1bktlcm5lbChcbiAgICAgICAgICAgICAgICAgIERpbGF0aW9uMkQsIGlucHV0cyBhcyB7fSBhcyBOYW1lZFRlbnNvck1hcCxcbiAgICAgICAgICAgICAgICAgIGF0dHJzIGFzIHt9IGFzIE5hbWVkQXR0ck1hcCkgYXMgVDtcblxuICBpZiAocmVzaGFwZWRUbzREKSB7XG4gICAgcmV0dXJuIHJlc2hhcGUocmVzLCBbcmVzLnNoYXBlWzFdLCByZXMuc2hhcGVbMl0sIHJlcy5zaGFwZVszXV0pIGFzIFQ7XG4gIH1cblxuICByZXR1cm4gcmVzO1xufVxuXG5leHBvcnQgY29uc3QgZGlsYXRpb24yZCA9IG9wKHtkaWxhdGlvbjJkX30pO1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG4vKipcbiAqIFJldHVybnMgdGhlIGRpbWVuc2lvbnMgaW4gdGhlIGlucHV0IHNoYXBlIHRoYXQgYXJlIGJyb2FkY2FzdGVkIHRvXG4gKiBwcm9kdWNlIHRoZSBwcm92aWRlZCBvdXRwdXQgc2hhcGUuXG4gKlxuICogVGhlIHJldHVybmVkIGRpbWVuc2lvbnMgYXJlIDAtaW5kZXhlZCBhbmQgc29ydGVkLiBBbiBleGFtcGxlOlxuICogaW5TaGFwZSA9IFs0LCAxLCAzXVxuICogb3V0U2hhcGUgPSBbNSwgNCwgMywgM11cbiAqIHJlc3VsdCA9IFsxXS4gRGltZW5zaW9uIDEgKDJuZCBkaW1lbnNpb24gb2YgaW5wdXQpIGdldHMgYnJvYWRjYXN0ZWQgMSA9PiAzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0QnJvYWRjYXN0RGltcyhcbiAgICBpblNoYXBlOiBudW1iZXJbXSwgb3V0U2hhcGU6IG51bWJlcltdKTogbnVtYmVyW10ge1xuICBjb25zdCBpblJhbmsgPSBpblNoYXBlLmxlbmd0aDtcbiAgY29uc3QgZGltczogbnVtYmVyW10gPSBbXTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBpblJhbms7IGkrKykge1xuICAgIGNvbnN0IGRpbSA9IGluUmFuayAtIDEgLSBpO1xuICAgIGNvbnN0IGEgPSBpblNoYXBlW2RpbV0gfHwgMTtcbiAgICBjb25zdCBiID0gb3V0U2hhcGVbb3V0U2hhcGUubGVuZ3RoIC0gMSAtIGldIHx8IDE7XG4gICAgaWYgKGIgPiAxICYmIGEgPT09IDEpIHtcbiAgICAgIGRpbXMudW5zaGlmdChkaW0pO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZGltcztcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBheGVzIGluIHRoZSBvdXRwdXQgc3BhY2UgdGhhdCBzaG91bGQgYmUgcmVkdWNlZCB0byBwcm9kdWNlXG4gKiB0aGUgaW5wdXQgc3BhY2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRSZWR1Y3Rpb25BeGVzKFxuICAgIGluU2hhcGU6IG51bWJlcltdLCBvdXRTaGFwZTogbnVtYmVyW10pOiBudW1iZXJbXSB7XG4gIGNvbnN0IHJlc3VsdDogbnVtYmVyW10gPSBbXTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBvdXRTaGFwZS5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IGluRGltID0gaW5TaGFwZVtpblNoYXBlLmxlbmd0aCAtIGkgLSAxXTtcbiAgICBjb25zdCBvdXRBeGlzID0gb3V0U2hhcGUubGVuZ3RoIC0gaSAtIDE7XG4gICAgY29uc3Qgb3V0RGltID0gb3V0U2hhcGVbb3V0QXhpc107XG4gICAgaWYgKGluRGltID09IG51bGwgfHwgKGluRGltID09PSAxICYmIG91dERpbSA+IDEpKSB7XG4gICAgICByZXN1bHQudW5zaGlmdChvdXRBeGlzKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFzc2VydEFuZEdldEJyb2FkY2FzdFNoYXBlKFxuICAgIHNoYXBlQTogbnVtYmVyW10sIHNoYXBlQjogbnVtYmVyW10pOiBudW1iZXJbXSB7XG4gIGNvbnN0IHJlc3VsdDogbnVtYmVyW10gPSBbXTtcbiAgY29uc3QgbCA9IE1hdGgubWF4KHNoYXBlQS5sZW5ndGgsIHNoYXBlQi5sZW5ndGgpO1xuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbDsgaSsrKSB7XG4gICAgbGV0IGEgPSBzaGFwZUFbc2hhcGVBLmxlbmd0aCAtIGkgLSAxXTtcbiAgICBpZiAoYSA9PSBudWxsKSB7XG4gICAgICBhID0gMTtcbiAgICB9XG4gICAgbGV0IGIgPSBzaGFwZUJbc2hhcGVCLmxlbmd0aCAtIGkgLSAxXTtcbiAgICBpZiAoYiA9PSBudWxsKSB7XG4gICAgICBiID0gMTtcbiAgICB9XG4gICAgaWYgKGEgPT09IDEpIHtcbiAgICAgIHJlc3VsdC51bnNoaWZ0KGIpO1xuICAgIH0gZWxzZSBpZiAoYiA9PT0gMSkge1xuICAgICAgcmVzdWx0LnVuc2hpZnQoYSk7XG4gICAgfSBlbHNlIGlmIChhICE9PSBiKSB7XG4gICAgICBjb25zdCBlcnJNc2cgPSBgT3BlcmFuZHMgY291bGQgbm90IGJlIGJyb2FkY2FzdCB0b2dldGhlciB3aXRoIHNoYXBlcyBgICtcbiAgICAgICAgICBgJHtzaGFwZUF9IGFuZCAke3NoYXBlQn0uYDtcbiAgICAgIHRocm93IEVycm9yKGVyck1zZyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3VsdC51bnNoaWZ0KGEpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuaW1wb3J0IHtFTkdJTkUsIEZvcndhcmRGdW5jfSBmcm9tICcuLi9lbmdpbmUnO1xuaW1wb3J0IHtFcXVhbCwgRXF1YWxJbnB1dHN9IGZyb20gJy4uL2tlcm5lbF9uYW1lcyc7XG5pbXBvcnQge1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yJztcbmltcG9ydCB7TmFtZWRUZW5zb3JNYXB9IGZyb20gJy4uL3RlbnNvcl90eXBlcyc7XG5pbXBvcnQge21ha2VUeXBlc01hdGNofSBmcm9tICcuLi90ZW5zb3JfdXRpbCc7XG5pbXBvcnQge2NvbnZlcnRUb1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yX3V0aWxfZW52JztcbmltcG9ydCB7VGVuc29yTGlrZX0gZnJvbSAnLi4vdHlwZXMnO1xuXG5pbXBvcnQge2Fzc2VydEFuZEdldEJyb2FkY2FzdFNoYXBlfSBmcm9tICcuL2Jyb2FkY2FzdF91dGlsJztcbmltcG9ydCB7b3B9IGZyb20gJy4vb3BlcmF0aW9uJztcblxuLyoqXG4gKiBSZXR1cm5zIHRoZSB0cnV0aCB2YWx1ZSBvZiAoYSA9PSBiKSBlbGVtZW50LXdpc2UuIFN1cHBvcnRzIGJyb2FkY2FzdGluZy5cbiAqXG4gKiBgYGBqc1xuICogY29uc3QgYSA9IHRmLnRlbnNvcjFkKFsxLCAyLCAzXSk7XG4gKiBjb25zdCBiID0gdGYudGVuc29yMWQoWzIsIDIsIDJdKTtcbiAqXG4gKiBhLmVxdWFsKGIpLnByaW50KCk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gYSBUaGUgZmlyc3QgaW5wdXQgdGVuc29yLlxuICogQHBhcmFtIGIgVGhlIHNlY29uZCBpbnB1dCB0ZW5zb3IuIE11c3QgaGF2ZSB0aGUgc2FtZSBkdHlwZSBhcyBgYWAuXG4gKlxuICogQGRvYyB7aGVhZGluZzogJ09wZXJhdGlvbnMnLCBzdWJoZWFkaW5nOiAnTG9naWNhbCd9XG4gKi9cbmZ1bmN0aW9uIGVxdWFsXzxUIGV4dGVuZHMgVGVuc29yPihcbiAgICBhOiBUZW5zb3J8VGVuc29yTGlrZSwgYjogVGVuc29yfFRlbnNvckxpa2UpOiBUIHtcbiAgbGV0ICRhID0gY29udmVydFRvVGVuc29yKGEsICdhJywgJ2VxdWFsJyk7XG4gIGxldCAkYiA9IGNvbnZlcnRUb1RlbnNvcihiLCAnYicsICdlcXVhbCcpO1xuICBbJGEsICRiXSA9IG1ha2VUeXBlc01hdGNoKCRhLCAkYik7XG5cbiAgYXNzZXJ0QW5kR2V0QnJvYWRjYXN0U2hhcGUoJGEuc2hhcGUsICRiLnNoYXBlKTtcblxuICBjb25zdCBmb3J3YXJkOiBGb3J3YXJkRnVuYzxUZW5zb3I+ID0gYmFja2VuZCA9PiBiYWNrZW5kLmVxdWFsKCRhLCAkYik7XG5cbiAgY29uc3QgaW5wdXRzOiBFcXVhbElucHV0cyA9IHthOiAkYSwgYjogJGJ9O1xuXG4gIHJldHVybiBFTkdJTkUucnVuS2VybmVsRnVuYyhcbiAgICAgICAgICAgICBmb3J3YXJkLCBpbnB1dHMgYXMge30gYXMgTmFtZWRUZW5zb3JNYXAsIG51bGwsIEVxdWFsKSBhcyBUO1xufVxuXG5leHBvcnQgY29uc3QgZXF1YWwgPSBvcCh7ZXF1YWxffSk7XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbmltcG9ydCB7RU5HSU5FLCBGb3J3YXJkRnVuY30gZnJvbSAnLi4vZW5naW5lJztcbmltcG9ydCB7U2VsZWN0VjIsIFNlbGVjdFYySW5wdXRzfSBmcm9tICcuLi9rZXJuZWxfbmFtZXMnO1xuaW1wb3J0IHtUZW5zb3J9IGZyb20gJy4uL3RlbnNvcic7XG5pbXBvcnQge05hbWVkVGVuc29yTWFwfSBmcm9tICcuLi90ZW5zb3JfdHlwZXMnO1xuaW1wb3J0IHtjb252ZXJ0VG9UZW5zb3J9IGZyb20gJy4uL3RlbnNvcl91dGlsX2Vudic7XG5pbXBvcnQge1RlbnNvckxpa2V9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7YXNzZXJ0LCBhc3NlcnRTaGFwZXNNYXRjaH0gZnJvbSAnLi4vdXRpbCc7XG5cbmltcG9ydCB7YnJvYWRjYXN0VG99IGZyb20gJy4vYnJvYWRjYXN0X3RvJztcbmltcG9ydCB7YXNzZXJ0QW5kR2V0QnJvYWRjYXN0U2hhcGV9IGZyb20gJy4vYnJvYWRjYXN0X3V0aWwnO1xuaW1wb3J0IHtvcH0gZnJvbSAnLi9vcGVyYXRpb24nO1xuXG4vKipcbiAqIFJldHVybnMgdGhlIGVsZW1lbnRzLCBlaXRoZXIgYGFgIG9yIGBiYCBkZXBlbmRpbmcgb24gdGhlIGBjb25kaXRpb25gLlxuICpcbiAqIElmIHRoZSBjb25kaXRpb24gaXMgdHJ1ZSwgc2VsZWN0IGZyb20gYGFgLCBvdGhlcndpc2Ugc2VsZWN0IGZyb20gYGJgLlxuICpcbiAqIGBgYGpzXG4gKiBjb25zdCBjb25kID0gdGYudGVuc29yMWQoW2ZhbHNlLCBmYWxzZSwgdHJ1ZV0sICdib29sJyk7XG4gKiBjb25zdCBhID0gdGYudGVuc29yMWQoWzEgLCAyLCAzXSk7XG4gKiBjb25zdCBiID0gdGYudGVuc29yMWQoWy0xLCAtMiwgLTNdKTtcbiAqXG4gKiBhLndoZXJlKGNvbmQsIGIpLnByaW50KCk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gY29uZGl0aW9uIFRoZSBpbnB1dCBjb25kaXRpb24uIE11c3QgYmUgb2YgZHR5cGUgYm9vbC5cbiAqIEBwYXJhbSBhIElmIGBjb25kaXRpb25gIGlzIHJhbmsgMSwgYGFgIG1heSBoYXZlIGEgaGlnaGVyIHJhbmsgYnV0XG4gKiAgICAgaXRzIGZpcnN0IGRpbWVuc2lvbiBtdXN0IG1hdGNoIHRoZSBzaXplIG9mIGBjb25kaXRpb25gLlxuICogQHBhcmFtIGIgQSB0ZW5zb3Igd2l0aCB0aGUgc2FtZSBkdHlwZSBhcyBgYWAgYW5kIHdpdGggc2hhcGUgdGhhdCBpc1xuICogICAgIGNvbXBhdGlibGUgd2l0aCBgYWAuXG4gKiBAcmV0dXJuIEEgdGVuc29yIHdpdGggc2FtZSBkdHlwZSBhcyBgYWAgYW5kIGBiYCwgYW5kIHNoYXBlIHRoYXQgaXNcbiAqICAgICBicm9hZGNhc3RhYmxlIGZyb20gYGFgIGFuZCBgYmAuXG4gKlxuICogQGRvYyB7aGVhZGluZzogJ09wZXJhdGlvbnMnLCBzdWJoZWFkaW5nOiAnTG9naWNhbCd9XG4gKi9cbmZ1bmN0aW9uIHdoZXJlXzxUIGV4dGVuZHMgVGVuc29yPihcbiAgICBjb25kaXRpb246IFRlbnNvcnxUZW5zb3JMaWtlLCBhOiBUfFRlbnNvckxpa2UsIGI6IFR8VGVuc29yTGlrZSk6IFQge1xuICBjb25zdCAkYSA9IGNvbnZlcnRUb1RlbnNvcihhLCAnYScsICd3aGVyZScpO1xuICBjb25zdCAkYiA9IGNvbnZlcnRUb1RlbnNvcihiLCAnYicsICd3aGVyZScpO1xuICBjb25zdCAkY29uZGl0aW9uID0gY29udmVydFRvVGVuc29yKGNvbmRpdGlvbiwgJ2NvbmRpdGlvbicsICd3aGVyZScsICdib29sJyk7XG4gIC8vIFRPRE86IG1vdmUgdGhpcyBsb2dpYyB0byBmb3J3YXJkIGZ1bmN0aW9uIHdoZW4gdGhlIGJyb2FkY2FzdFRvIG9wIGlzXG4gIC8vIGltcGxlbWVudGVkIGluIFdBU00uXG4gIC8vIEZpbmQgdGhlIGJyb2FkY2FzdGFibGUgc2hhcGUgZm9yICRhIGFuZCAkYi5cbiAgY29uc3QgYnJvYWRjYXN0U2hhcGUgPSBhc3NlcnRBbmRHZXRCcm9hZGNhc3RTaGFwZSgkYS5zaGFwZSwgJGIuc2hhcGUpO1xuICBjb25zdCAkYnJvYWRjYXN0ZWRBID0gYnJvYWRjYXN0VG8oJGEsIGJyb2FkY2FzdFNoYXBlKTtcbiAgY29uc3QgJGJyb2FkY2FzdGVkQiA9IGJyb2FkY2FzdFRvKCRiLCBicm9hZGNhc3RTaGFwZSk7XG4gIGlmICgkY29uZGl0aW9uLnJhbmsgPT09IDEpIHtcbiAgICAvLyBJZiBjb25kaXRpb24gcmFuayBpcyAxLCB0aGVuIHRoZSBmaXJzdCBkaW1lbnNpb24gbXVzdCBtYXRjaCB0aGUgc2l6ZSBvZlxuICAgIC8vIGNvbmRpdGlvbi5cbiAgICBhc3NlcnQoXG4gICAgICAgICRjb25kaXRpb24uc2hhcGVbMF0gPT09ICRhLnNoYXBlWzBdLFxuICAgICAgICAoKSA9PiAnVGhlIGZpcnN0IGRpbWVuc2lvbiBvZiBgYWAgbXVzdCBtYXRjaCB0aGUgc2l6ZSBvZiBgY29uZGl0aW9uYC4nKTtcbiAgfVxuXG4gIGlmICgkY29uZGl0aW9uLnJhbmsgIT09IDEpIHtcbiAgICAvLyBBIG11c3QgaGF2ZSB0aGUgc2FtZSBzaGFwZSBhcyBjb25kaXRpb24uXG4gICAgYXNzZXJ0U2hhcGVzTWF0Y2goXG4gICAgICAgICRjb25kaXRpb24uc2hhcGUsICRicm9hZGNhc3RlZEIuc2hhcGUsICdFcnJvciBpbiB3aGVyZTogJyk7XG4gIH1cblxuICBjb25zdCBmb3J3YXJkOiBGb3J3YXJkRnVuYzxUZW5zb3I+ID0gKGJhY2tlbmQsIHNhdmUpID0+IHtcbiAgICBjb25zdCByZXMgPSBiYWNrZW5kLnNlbGVjdCgkY29uZGl0aW9uLCAkYnJvYWRjYXN0ZWRBLCAkYnJvYWRjYXN0ZWRCKTtcbiAgICBzYXZlKFskY29uZGl0aW9uXSk7XG4gICAgcmV0dXJuIHJlcztcbiAgfTtcbiAgY29uc3QgaW5wdXRzOiBTZWxlY3RWMklucHV0cyA9IHtcbiAgICBjb25kaXRpb246ICRjb25kaXRpb24sXG4gICAgdDogJGJyb2FkY2FzdGVkQSxcbiAgICBlOiAkYnJvYWRjYXN0ZWRCXG4gIH07XG4gIHJldHVybiBFTkdJTkUucnVuS2VybmVsRnVuYyhcbiAgICAgICAgICAgICBmb3J3YXJkLCBpbnB1dHMgYXMgdW5rbm93biBhcyBOYW1lZFRlbnNvck1hcCwgbnVsbCAvKiBncmFkaWVudCAqLyxcbiAgICAgICAgICAgICBTZWxlY3RWMikgYXMgVDtcbn1cblxuZXhwb3J0IGNvbnN0IHdoZXJlID0gb3Aoe3doZXJlX30pO1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTggR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG5pbXBvcnQge0VOR0lORX0gZnJvbSAnLi4vZW5naW5lJztcbmltcG9ydCB7WmVyb3NMaWtlLCBaZXJvc0xpa2VJbnB1dHN9IGZyb20gJy4uL2tlcm5lbF9uYW1lcyc7XG5pbXBvcnQge1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yJztcbmltcG9ydCB7TmFtZWRUZW5zb3JNYXB9IGZyb20gJy4uL3RlbnNvcl90eXBlcyc7XG5pbXBvcnQge2NvbnZlcnRUb1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yX3V0aWxfZW52JztcbmltcG9ydCB7VGVuc29yTGlrZX0gZnJvbSAnLi4vdHlwZXMnO1xuXG5pbXBvcnQge29wfSBmcm9tICcuL29wZXJhdGlvbic7XG5cbi8qKlxuICogQ3JlYXRlcyBhIGB0Zi5UZW5zb3JgIHdpdGggYWxsIGVsZW1lbnRzIHNldCB0byAwIHdpdGggdGhlIHNhbWUgc2hhcGUgYXMgdGhlXG4gKiBnaXZlbiB0ZW5zb3IuXG4gKlxuICogYGBganNcbiAqIGNvbnN0IHggPSB0Zi50ZW5zb3IoWzEsIDJdKTtcbiAqIHRmLnplcm9zTGlrZSh4KS5wcmludCgpO1xuICogYGBgXG4gKlxuICogQHBhcmFtIHggVGhlIHRlbnNvciBvZiByZXF1aXJlZCBzaGFwZS5cbiAqXG4gKiBAZG9jIHtoZWFkaW5nOiAnVGVuc29ycycsIHN1YmhlYWRpbmc6ICdDcmVhdGlvbid9XG4gKi9cbmZ1bmN0aW9uIHplcm9zTGlrZV88VCBleHRlbmRzIFRlbnNvcj4oeDogVHxUZW5zb3JMaWtlKTogVCB7XG4gIGNvbnN0ICR4ID0gY29udmVydFRvVGVuc29yKHgsICd4JywgJ3plcm9zTGlrZScpO1xuICBjb25zdCBpbnB1dHM6IFplcm9zTGlrZUlucHV0cyA9IHt4OiAkeH07XG4gIHJldHVybiBFTkdJTkUucnVuS2VybmVsRnVuYyhcbiAgICAgICAgICAgICBiYWNrZW5kID0+IGJhY2tlbmQuemVyb3NMaWtlKCR4KSwgaW5wdXRzIGFzIHt9IGFzIE5hbWVkVGVuc29yTWFwLFxuICAgICAgICAgICAgIG51bGwgLyogZ3JhZCAqLywgWmVyb3NMaWtlKSBhcyBUO1xufVxuZXhwb3J0IGNvbnN0IHplcm9zTGlrZSA9IG9wKHt6ZXJvc0xpa2VffSk7XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbmltcG9ydCB7VGVuc29yfSBmcm9tICcuLi90ZW5zb3InO1xuaW1wb3J0IHttYWtlVHlwZXNNYXRjaH0gZnJvbSAnLi4vdGVuc29yX3V0aWwnO1xuaW1wb3J0IHtjb252ZXJ0VG9UZW5zb3J9IGZyb20gJy4uL3RlbnNvcl91dGlsX2Vudic7XG5pbXBvcnQge1RlbnNvckxpa2V9IGZyb20gJy4uL3R5cGVzJztcblxuaW1wb3J0IHtkaXZ9IGZyb20gJy4vZGl2JztcbmltcG9ydCB7ZXF1YWx9IGZyb20gJy4vZXF1YWwnO1xuaW1wb3J0IHtvcH0gZnJvbSAnLi9vcGVyYXRpb24nO1xuaW1wb3J0IHt3aGVyZX0gZnJvbSAnLi93aGVyZSc7XG5pbXBvcnQge3plcm9zTGlrZX0gZnJvbSAnLi96ZXJvc19saWtlJztcblxuLyoqXG4gKiBEaXZpZGVzIHR3byBgdGYuVGVuc29yYHMgZWxlbWVudC13aXNlLCBBIC8gQi4gU3VwcG9ydHMgYnJvYWRjYXN0aW5nLiBSZXR1cm4gMFxuICogaWYgZGVub21pbmF0b3IgaXMgMC5cbiAqXG4gKlxuICogYGBganNcbiAqIGNvbnN0IGEgPSB0Zi50ZW5zb3IxZChbMSwgNCwgOSwgMTZdKTtcbiAqIGNvbnN0IGIgPSB0Zi50ZW5zb3IxZChbMSwgMiwgMywgNF0pO1xuICogY29uc3QgYyA9IHRmLnRlbnNvcjFkKFswLCAwLCAwLCAwXSk7XG4gKlxuICogYS5kaXZOb05hbihiKS5wcmludCgpOyAgLy8gb3IgdGYuZGl2Tm9OYW4oYSwgYilcbiAqIGEuZGl2Tm9OYW4oYykucHJpbnQoKTsgIC8vIG9yIHRmLmRpdk5vTmFuKGEsIGMpXG4gKiBgYGBcbiAqXG4gKiBgYGBqc1xuICogLy8gQnJvYWRjYXN0IGRpdiBhIHdpdGggYi5cbiAqIGNvbnN0IGEgPSB0Zi50ZW5zb3IxZChbMiwgNCwgNiwgOF0pO1xuICogY29uc3QgYiA9IHRmLnNjYWxhcigyKTtcbiAqIGNvbnN0IGMgPSB0Zi5zY2FsYXIoMCk7XG4gKlxuICogYS5kaXZOb05hbihiKS5wcmludCgpOyAgLy8gb3IgdGYuZGl2Tm9OYW4oYSwgYilcbiAqIGEuZGl2Tm9OYW4oYykucHJpbnQoKTsgIC8vIG9yIHRmLmRpdk5vTmFuKGEsIGMpXG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gYSBUaGUgZmlyc3QgdGVuc29yIGFzIHRoZSBudW1lcmF0b3IuXG4gKiBAcGFyYW0gYiBUaGUgc2Vjb25kIHRlbnNvciBhcyB0aGUgZGVub21pbmF0b3IuIE11c3QgaGF2ZSB0aGUgc2FtZSBkdHlwZSBhc1xuICogYGFgLlxuICpcbiAqIEBkb2Mge2hlYWRpbmc6ICdPcGVyYXRpb25zJywgc3ViaGVhZGluZzogJ0FyaXRobWV0aWMnfVxuICovXG5mdW5jdGlvbiBkaXZOb05hbl88VCBleHRlbmRzIFRlbnNvcj4oXG4gICAgYTogVGVuc29yfFRlbnNvckxpa2UsIGI6IFRlbnNvcnxUZW5zb3JMaWtlKTogVCB7XG4gIC8vIFRPRE86IE1ha2UgdGhpcyBpbnRvIGl0cyBvd24ga2VybmVsLlxuICBsZXQgJGEgPSBjb252ZXJ0VG9UZW5zb3IoYSwgJ2EnLCAnZGl2Jyk7XG4gIGxldCAkYiA9IGNvbnZlcnRUb1RlbnNvcihiLCAnYicsICdkaXYnKTtcbiAgWyRhLCAkYl0gPSBtYWtlVHlwZXNNYXRjaCgkYSwgJGIpO1xuXG4gIGNvbnN0IGRpdlJlc3VsdCA9IGRpdigkYSwgJGIpO1xuICBjb25zdCB6ZXJvcyA9IHplcm9zTGlrZShkaXZSZXN1bHQpO1xuICBjb25zdCBiRXF1YWxzWmVybyA9IGVxdWFsKCRiLCB6ZXJvcyk7XG4gIHJldHVybiB3aGVyZShiRXF1YWxzWmVybywgemVyb3MsIGRpdlJlc3VsdCkgYXMgVDtcbn1cblxuZXhwb3J0IGNvbnN0IGRpdk5vTmFuID0gb3Aoe2Rpdk5vTmFuX30pO1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG5pbXBvcnQge1RlbnNvcix9IGZyb20gJy4uL3RlbnNvcic7XG5pbXBvcnQge2NvbnZlcnRUb1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yX3V0aWxfZW52JztcbmltcG9ydCB7VGVuc29yTGlrZX0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0ICogYXMgdXRpbCBmcm9tICcuLi91dGlsJztcblxuaW1wb3J0IHttYXRNdWx9IGZyb20gJy4vbWF0X211bCc7XG5pbXBvcnQge29wfSBmcm9tICcuL29wZXJhdGlvbic7XG5pbXBvcnQge3Jlc2hhcGV9IGZyb20gJy4vcmVzaGFwZSc7XG5cbi8qKlxuICogQ29tcHV0ZXMgdGhlIGRvdCBwcm9kdWN0IG9mIHR3byBtYXRyaWNlcyBhbmQvb3IgdmVjdG9ycywgYHQxYCBhbmQgYHQyYC5cbiAqXG4gKiBgYGBqc1xuICogY29uc3QgYSA9IHRmLnRlbnNvcjFkKFsxLCAyXSk7XG4gKiBjb25zdCBiID0gdGYudGVuc29yMmQoW1sxLCAyXSwgWzMsIDRdXSk7XG4gKiBjb25zdCBjID0gdGYudGVuc29yMmQoW1sxLCAyLCAzXSwgWzQsIDUsIDZdXSk7XG4gKlxuICogYS5kb3QoYikucHJpbnQoKTsgIC8vIG9yIHRmLmRvdChhLCBiKVxuICogYi5kb3QoYSkucHJpbnQoKTtcbiAqIGIuZG90KGMpLnByaW50KCk7XG4gKiBgYGBcbiAqIEBwYXJhbSB0MSBUaGUgZmlyc3QgdGVuc29yIGluIHRoZSBkb3Qgb3BlcmF0aW9uLlxuICogQHBhcmFtIHQyIFRoZSBzZWNvbmQgdGVuc29yIGluIHRoZSBkb3Qgb3BlcmF0aW9uLlxuICpcbiAqIEBkb2Mge2hlYWRpbmc6ICdPcGVyYXRpb25zJywgc3ViaGVhZGluZzogJ01hdHJpY2VzJ31cbiAqL1xuZnVuY3Rpb24gZG90Xyh0MTogVGVuc29yfFRlbnNvckxpa2UsIHQyOiBUZW5zb3J8VGVuc29yTGlrZSk6IFRlbnNvciB7XG4gIGNvbnN0ICR0MSA9IGNvbnZlcnRUb1RlbnNvcih0MSwgJ3QxJywgJ2RvdCcpO1xuICBjb25zdCAkdDIgPSBjb252ZXJ0VG9UZW5zb3IodDIsICd0MicsICdkb3QnKTtcblxuICB1dGlsLmFzc2VydChcbiAgICAgICgkdDEucmFuayA9PT0gMSB8fCAkdDEucmFuayA9PT0gMikgJiYgKCR0Mi5yYW5rID09PSAxIHx8ICR0Mi5yYW5rID09PSAyKSxcbiAgICAgICgpID0+IGBFcnJvciBpbiBkb3Q6IGlucHV0cyBtdXN0IGFsbCBiZSByYW5rIDEgb3IgMiwgYnV0IGdvdCByYW5rcyBgICtcbiAgICAgICAgICBgJHskdDEucmFua30gYW5kICR7JHQyLnJhbmt9LmApO1xuXG4gIGNvbnN0IHQxSW5uZXIgPSAoJHQxLnJhbmsgPT09IDEgPyAkdDEuc2l6ZSA6ICR0MS5zaGFwZVsxXSk7XG4gIGNvbnN0IHQySW5uZXIgPSAoJHQyLnJhbmsgPT09IDEgPyAkdDIuc2l6ZSA6ICR0Mi5zaGFwZVswXSk7XG5cbiAgdXRpbC5hc3NlcnQoXG4gICAgICB0MUlubmVyID09PSB0MklubmVyLFxuICAgICAgKCkgPT4gYEVycm9yIGluIGRvdDogaW5uZXIgZGltZW5zaW9ucyBvZiBpbnB1dHMgbXVzdCBtYXRjaCwgYnV0IGdvdCBgICtcbiAgICAgICAgICBgJHt0MUlubmVyfSBhbmQgJHt0MklubmVyfS5gKTtcblxuICBpZiAoJHQxLnJhbmsgPT09IDEgJiYgJHQyLnJhbmsgPT09IDEpIHtcbiAgICBjb25zdCB0MTJEID0gcmVzaGFwZSgkdDEsIFsxLCAtMV0pO1xuICAgIGNvbnN0IHQyMkQgPSByZXNoYXBlKCR0MiwgWy0xLCAxXSk7XG4gICAgY29uc3QgdDF0MiA9IG1hdE11bCh0MTJELCB0MjJEKTtcbiAgICByZXR1cm4gcmVzaGFwZSh0MXQyLCBbXSk7XG4gIH0gZWxzZSBpZiAoJHQxLnJhbmsgPT09IDEgJiYgJHQyLnJhbmsgPT09IDIpIHtcbiAgICBjb25zdCB0MTJEID0gcmVzaGFwZSgkdDEsIFsxLCAtMV0pO1xuICAgIGNvbnN0IHQyMkQgPSByZXNoYXBlKCR0MiwgWyR0Mi5zaGFwZVswXSwgJHQyLnNoYXBlWzFdXSk7XG4gICAgY29uc3QgdDF0MiA9IG1hdE11bCh0MTJELCB0MjJEKTtcbiAgICByZXR1cm4gcmVzaGFwZSh0MXQyLCBbdDF0Mi5zaXplXSk7XG4gIH0gZWxzZSBpZiAoJHQxLnJhbmsgPT09IDIgJiYgJHQyLnJhbmsgPT09IDEpIHtcbiAgICBjb25zdCB0MjJEID0gcmVzaGFwZSgkdDIsIFstMSwgMV0pO1xuICAgIGNvbnN0IHQxdDIgPSBtYXRNdWwoJHQxLCB0MjJEKTtcbiAgICByZXR1cm4gcmVzaGFwZSh0MXQyLCBbdDF0Mi5zaXplXSk7XG4gIH0gZWxzZSB7XG4gICAgY29uc3QgdDIyRCA9IHJlc2hhcGUoJHQyLCBbJHQyLnNoYXBlWzBdLCAkdDIuc2hhcGVbMV1dKTtcbiAgICBjb25zdCB0MXQyID0gbWF0TXVsKCR0MSwgdDIyRCk7XG4gICAgcmV0dXJuIHQxdDI7XG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IGRvdCA9IG9wKHtkb3RffSk7XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbmltcG9ydCB7RU5HSU5FLCBGb3J3YXJkRnVuY30gZnJvbSAnLi4vZW5naW5lJztcbmltcG9ydCB7RWx1LCBFbHVJbnB1dHN9IGZyb20gJy4uL2tlcm5lbF9uYW1lcyc7XG5pbXBvcnQge1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yJztcbmltcG9ydCB7TmFtZWRUZW5zb3JNYXB9IGZyb20gJy4uL3RlbnNvcl90eXBlcyc7XG5pbXBvcnQge2NvbnZlcnRUb1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yX3V0aWxfZW52JztcbmltcG9ydCB7VGVuc29yTGlrZX0gZnJvbSAnLi4vdHlwZXMnO1xuXG5pbXBvcnQge29wfSBmcm9tICcuL29wZXJhdGlvbic7XG5cbi8qKlxuICogQ29tcHV0ZXMgZXhwb25lbnRpYWwgbGluZWFyIGVsZW1lbnQtd2lzZTogYHggPiAwID8gZSBeIHggLSAxIDogMGAuXG4gKlxuICogYGBganNcbiAqIGNvbnN0IHggPSB0Zi50ZW5zb3IxZChbLTEsIDEsIC0zLCAyXSk7XG4gKlxuICogeC5lbHUoKS5wcmludCgpOyAgLy8gb3IgdGYuZWx1KHgpXG4gKiBgYGBcbiAqIEBwYXJhbSB4IFRoZSBpbnB1dCB0ZW5zb3IuXG4gKlxuICogQGRvYyB7aGVhZGluZzogJ09wZXJhdGlvbnMnLCBzdWJoZWFkaW5nOiAnQmFzaWMgbWF0aCd9XG4gKi9cbmZ1bmN0aW9uIGVsdV88VCBleHRlbmRzIFRlbnNvcj4oeDogVHxUZW5zb3JMaWtlKTogVCB7XG4gIGNvbnN0ICR4ID0gY29udmVydFRvVGVuc29yKHgsICd4JywgJ2VsdScpO1xuXG4gIGNvbnN0IGZvcndhcmQ6IEZvcndhcmRGdW5jPFRlbnNvcj4gPSAoYmFja2VuZCwgc2F2ZSkgPT4ge1xuICAgIGNvbnN0IHkgPSBiYWNrZW5kLmVsdSgkeCk7XG4gICAgc2F2ZShbeV0pO1xuICAgIHJldHVybiB5O1xuICB9O1xuXG4gIGNvbnN0IGlucHV0czogRWx1SW5wdXRzID0ge3g6ICR4fTtcblxuICByZXR1cm4gRU5HSU5FLnJ1bktlcm5lbEZ1bmMoXG4gICAgICAgICAgICAgZm9yd2FyZCwgaW5wdXRzIGFzIHt9IGFzIE5hbWVkVGVuc29yTWFwLCBudWxsIC8qIGdyYWQgKi8sIEVsdSkgYXNcbiAgICAgIFQ7XG59XG5cbmV4cG9ydCBjb25zdCBlbHUgPSBvcCh7ZWx1X30pO1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTggR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG5pbXBvcnQge0VOR0lORX0gZnJvbSAnLi4vZW5naW5lJztcbmltcG9ydCB7RXJmLCBFcmZJbnB1dHN9IGZyb20gJy4uL2tlcm5lbF9uYW1lcyc7XG5pbXBvcnQge1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yJztcbmltcG9ydCB7TmFtZWRUZW5zb3JNYXB9IGZyb20gJy4uL3RlbnNvcl90eXBlcyc7XG5pbXBvcnQge2NvbnZlcnRUb1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yX3V0aWxfZW52JztcbmltcG9ydCB7VGVuc29yTGlrZX0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0ICogYXMgdXRpbCBmcm9tICcuLi91dGlsJztcblxuaW1wb3J0IHtjYXN0fSBmcm9tICcuL2Nhc3QnO1xuaW1wb3J0IHtvcH0gZnJvbSAnLi9vcGVyYXRpb24nO1xuXG4vKipcbiAqIENvbXB1dGVzIGdhdXNlIGVycm9yIGZ1bmN0aW9uIG9mIHRoZSBpbnB1dCBgdGYuVGVuc29yYCBlbGVtZW50LXdpc2U6XG4gKiBgZXJmKHgpYFxuICpcbiAqIGBgYGpzXG4gKiBjb25zdCB4ID0gdGYudGVuc29yMWQoWzAsIC4xLCAtLjEsIC43XSk7XG4gKlxuICogeC5lcmYoKS5wcmludCgpOyAvLyBvciB0Zi5lcmYoeCk7XG4gKiBgYGBcbiAqIEBwYXJhbSB4IFRoZSBpbnB1dCB0ZW5zb3IuXG4gKlxuICogQGRvYyB7aGVhZGluZzogJ09wZXJhdGlvbnMnLCBzdWJoZWFkaW5nOiAnQmFzaWMgbWF0aCd9XG4gKi9cbmZ1bmN0aW9uIGVyZl88VCBleHRlbmRzIFRlbnNvcj4oeDogVHxUZW5zb3JMaWtlKTogVCB7XG4gIGxldCAkeCA9IGNvbnZlcnRUb1RlbnNvcih4LCAneCcsICdlcmYnKTtcbiAgdXRpbC5hc3NlcnQoXG4gICAgICAkeC5kdHlwZSA9PT0gJ2ludDMyJyB8fCAkeC5kdHlwZSA9PT0gJ2Zsb2F0MzInLFxuICAgICAgKCkgPT4gJ0lucHV0IGR0eXBlIG11c3QgYmUgYGludDMyYCBvciBgZmxvYXQzMmAuJyk7XG5cbiAgaWYgKCR4LmR0eXBlID09PSAnaW50MzInKSB7XG4gICAgJHggPSBjYXN0KCR4LCAnZmxvYXQzMicpO1xuICB9XG5cbiAgY29uc3QgaW5wdXRzOiBFcmZJbnB1dHMgPSB7eDogJHh9O1xuICByZXR1cm4gRU5HSU5FLnJ1bktlcm5lbEZ1bmMoKGJhY2tlbmQsIHNhdmUpID0+IHtcbiAgICBjb25zdCByZXMgPSBiYWNrZW5kLmVyZigkeCk7XG4gICAgc2F2ZShbJHhdKTtcbiAgICByZXR1cm4gcmVzO1xuICB9LCBpbnB1dHMgYXMge30gYXMgTmFtZWRUZW5zb3JNYXAsIG51bGwgLyogZ3JhZCAqLywgRXJmKTtcbn1cbmV4cG9ydCBjb25zdCBlcmYgPSBvcCh7ZXJmX30pO1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTggR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG5pbXBvcnQge0VOR0lORX0gZnJvbSAnLi4vZW5naW5lJztcbmltcG9ydCB7RXhwLCBFeHBJbnB1dHN9IGZyb20gJy4uL2tlcm5lbF9uYW1lcyc7XG5pbXBvcnQge1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yJztcbmltcG9ydCB7TmFtZWRUZW5zb3JNYXB9IGZyb20gJy4uL3RlbnNvcl90eXBlcyc7XG5pbXBvcnQge2NvbnZlcnRUb1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yX3V0aWxfZW52JztcbmltcG9ydCB7VGVuc29yTGlrZX0gZnJvbSAnLi4vdHlwZXMnO1xuXG5pbXBvcnQge29wfSBmcm9tICcuL29wZXJhdGlvbic7XG5cbi8qKlxuICogQ29tcHV0ZXMgZXhwb25lbnRpYWwgb2YgdGhlIGlucHV0IGB0Zi5UZW5zb3JgIGVsZW1lbnQtd2lzZS4gYGUgXiB4YFxuICpcbiAqIGBgYGpzXG4gKiBjb25zdCB4ID0gdGYudGVuc29yMWQoWzEsIDIsIC0zXSk7XG4gKlxuICogeC5leHAoKS5wcmludCgpOyAgLy8gb3IgdGYuZXhwKHgpXG4gKiBgYGBcbiAqIEBwYXJhbSB4IFRoZSBpbnB1dCB0ZW5zb3IuXG4gKlxuICogQGRvYyB7aGVhZGluZzogJ09wZXJhdGlvbnMnLCBzdWJoZWFkaW5nOiAnQmFzaWMgbWF0aCd9XG4gKi9cbmZ1bmN0aW9uIGV4cF88VCBleHRlbmRzIFRlbnNvcj4oeDogVHxUZW5zb3JMaWtlKTogVCB7XG4gIGNvbnN0ICR4ID0gY29udmVydFRvVGVuc29yKHgsICd4JywgJ2V4cCcpO1xuXG4gIGNvbnN0IGlucHV0czogRXhwSW5wdXRzID0ge3g6ICR4fTtcbiAgcmV0dXJuIEVOR0lORS5ydW5LZXJuZWxGdW5jKChiYWNrZW5kLCBzYXZlKSA9PiB7XG4gICAgY29uc3QgcmVzID0gYmFja2VuZC5leHAoJHgpO1xuICAgIHNhdmUoW3Jlc10pO1xuICAgIHJldHVybiByZXM7XG4gIH0sIGlucHV0cyBhcyB7fSBhcyBOYW1lZFRlbnNvck1hcCwgbnVsbCAvKiBncmFkICovLCBFeHApO1xufVxuZXhwb3J0IGNvbnN0IGV4cCA9IG9wKHtleHBffSk7XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbmltcG9ydCB7VGVuc29yfSBmcm9tICcuLi90ZW5zb3InO1xuaW1wb3J0IHtjb252ZXJ0VG9UZW5zb3J9IGZyb20gJy4uL3RlbnNvcl91dGlsX2Vudic7XG5pbXBvcnQge0RhdGFUeXBlLCBUZW5zb3JMaWtlfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgKiBhcyB1dGlsIGZyb20gJy4uL3V0aWwnO1xuXG5pbXBvcnQge29wfSBmcm9tICcuL29wZXJhdGlvbic7XG5pbXBvcnQge3Jlc2hhcGV9IGZyb20gJy4vcmVzaGFwZSc7XG5cbi8qKlxuICogUmV0dXJucyBhIGB0Zi5UZW5zb3JgIHRoYXQgaGFzIGV4cGFuZGVkIHJhbmssIGJ5IGluc2VydGluZyBhIGRpbWVuc2lvblxuICogaW50byB0aGUgdGVuc29yJ3Mgc2hhcGUuXG4gKlxuICogYGBganNcbiAqIGNvbnN0IHggPSB0Zi50ZW5zb3IxZChbMSwgMiwgMywgNF0pO1xuICogY29uc3QgYXhpcyA9IDE7XG4gKiB4LmV4cGFuZERpbXMoYXhpcykucHJpbnQoKTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB4IFRoZSBpbnB1dCB0ZW5zb3Igd2hvc2UgZGltZW5zaW9ucyB0byBiZSBleHBhbmRlZC5cbiAqIEBwYXJhbSBheGlzIFRoZSBkaW1lbnNpb24gaW5kZXggYXQgd2hpY2ggdG8gaW5zZXJ0IHNoYXBlIG9mIGAxYC4gRGVmYXVsdHNcbiAqICAgICB0byAwICh0aGUgZmlyc3QgZGltZW5zaW9uKS5cbiAqXG4gKiBAZG9jIHtoZWFkaW5nOiAnVGVuc29ycycsIHN1YmhlYWRpbmc6ICdUcmFuc2Zvcm1hdGlvbnMnfVxuICovXG5mdW5jdGlvbiBleHBhbmREaW1zXzxUIGV4dGVuZHMgVGVuc29yPih4OiBUZW5zb3J8VGVuc29yTGlrZSwgYXhpcyA9IDApOiBUIHtcbiAgY29uc3QgcGFyc2VBczogRGF0YVR5cGUgPSBudWxsO1xuICBjb25zdCAkeCA9IGNvbnZlcnRUb1RlbnNvcih4LCAneCcsICdleHBhbmREaW1zJywgcGFyc2VBcyk7XG5cbiAgdXRpbC5hc3NlcnQoYXhpcyA8PSAkeC5yYW5rLCAoKSA9PiAnQXhpcyBtdXN0IGJlIDw9IHJhbmsgb2YgdGhlIHRlbnNvcicpO1xuICBjb25zdCBuZXdTaGFwZSA9ICR4LnNoYXBlLnNsaWNlKCk7XG4gIGlmIChheGlzIDwgMCkge1xuICAgIC8vIE5lZ2F0aXZlIHZhbHVlIGlzIGNvdW50ZWQgZnJvbSB0aGUgdGFpbCBvZiByYW5rLlxuICAgIHV0aWwuYXNzZXJ0KFxuICAgICAgICAtKCR4LnJhbmsgKyAxKSA8PSBheGlzLFxuICAgICAgICAoKSA9PiBgQXhpcyBtdXN0IGJlIGluIHRoZSBpbnRlcnZhbCBbJHstICgkeC5yYW5rICsgMSl9LCAkeyR4LnJhbmt9XWApO1xuICAgIGF4aXMgPSAkeC5yYW5rICsgYXhpcyArIDE7XG4gIH1cbiAgbmV3U2hhcGUuc3BsaWNlKGF4aXMsIDAsIDEpO1xuICByZXR1cm4gcmVzaGFwZSgkeCwgbmV3U2hhcGUpIGFzIFQ7XG59XG5cbmV4cG9ydCBjb25zdCBleHBhbmREaW1zID0gb3Aoe2V4cGFuZERpbXNffSk7XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbmltcG9ydCB7RU5HSU5FfSBmcm9tICcuLi9lbmdpbmUnO1xuaW1wb3J0IHtFeHBtMSwgRXhwbTFJbnB1dHN9IGZyb20gJy4uL2tlcm5lbF9uYW1lcyc7XG5pbXBvcnQge1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yJztcbmltcG9ydCB7TmFtZWRUZW5zb3JNYXB9IGZyb20gJy4uL3RlbnNvcl90eXBlcyc7XG5pbXBvcnQge2NvbnZlcnRUb1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yX3V0aWxfZW52JztcbmltcG9ydCB7VGVuc29yTGlrZX0gZnJvbSAnLi4vdHlwZXMnO1xuXG5pbXBvcnQge29wfSBmcm9tICcuL29wZXJhdGlvbic7XG5cbi8qKlxuICogQ29tcHV0ZXMgZXhwb25lbnRpYWwgb2YgdGhlIGlucHV0IGB0Zi5UZW5zb3JgIG1pbnVzIG9uZSBlbGVtZW50LXdpc2UuXG4gKiBgZSBeIHggLSAxYFxuICpcbiAqIGBgYGpzXG4gKiBjb25zdCB4ID0gdGYudGVuc29yMWQoWzEsIDIsIC0zXSk7XG4gKlxuICogeC5leHBtMSgpLnByaW50KCk7ICAvLyBvciB0Zi5leHBtMSh4KVxuICogYGBgXG4gKiBAcGFyYW0geCBUaGUgaW5wdXQgdGVuc29yLlxuICpcbiAqIEBkb2Mge2hlYWRpbmc6ICdPcGVyYXRpb25zJywgc3ViaGVhZGluZzogJ0Jhc2ljIG1hdGgnfVxuICovXG5mdW5jdGlvbiBleHBtMV88VCBleHRlbmRzIFRlbnNvcj4oeDogVHxUZW5zb3JMaWtlKTogVCB7XG4gIGNvbnN0ICR4ID0gY29udmVydFRvVGVuc29yKHgsICd4JywgJ2V4cG0xJyk7XG5cbiAgY29uc3QgaW5wdXRzOiBFeHBtMUlucHV0cyA9IHt4OiAkeH07XG4gIHJldHVybiBFTkdJTkUucnVuS2VybmVsRnVuYygoYmFja2VuZCwgc2F2ZSkgPT4ge1xuICAgIGNvbnN0IHJlcyA9IGJhY2tlbmQuZXhwbTEoJHgpO1xuICAgIHNhdmUoWyR4XSk7XG4gICAgcmV0dXJuIHJlcztcbiAgfSwgaW5wdXRzIGFzIHt9IGFzIE5hbWVkVGVuc29yTWFwLCBudWxsIC8qIGdyYWQgKi8sIEV4cG0xKTtcbn1cbmV4cG9ydCBjb25zdCBleHBtMSA9IG9wKHtleHBtMV99KTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuaW1wb3J0IHtFTkdJTkUsIEZvcndhcmRGdW5jfSBmcm9tICcuLi9lbmdpbmUnO1xuaW1wb3J0IHtUaWxlLCBUaWxlQXR0cnMsIFRpbGVJbnB1dHN9IGZyb20gJy4uL2tlcm5lbF9uYW1lcyc7XG5pbXBvcnQge05hbWVkQXR0ck1hcH0gZnJvbSAnLi4va2VybmVsX3JlZ2lzdHJ5JztcbmltcG9ydCB7VGVuc29yfSBmcm9tICcuLi90ZW5zb3InO1xuaW1wb3J0IHtOYW1lZFRlbnNvck1hcH0gZnJvbSAnLi4vdGVuc29yX3R5cGVzJztcbmltcG9ydCB7Y29udmVydFRvVGVuc29yfSBmcm9tICcuLi90ZW5zb3JfdXRpbF9lbnYnO1xuaW1wb3J0IHtEYXRhVHlwZSwgVGVuc29yTGlrZX0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0ICogYXMgdXRpbCBmcm9tICcuLi91dGlsJztcblxuaW1wb3J0IHtvcH0gZnJvbSAnLi9vcGVyYXRpb24nO1xuXG4vKipcbiAqIENvbnN0cnVjdCBhIHRlbnNvciBieSByZXBlYXRpbmcgaXQgdGhlIG51bWJlciBvZiB0aW1lcyBnaXZlbiBieSByZXBzLlxuICpcbiAqIFRoaXMgb3BlcmF0aW9uIGNyZWF0ZXMgYSBuZXcgdGVuc29yIGJ5IHJlcGxpY2F0aW5nIGBpbnB1dGAgYHJlcHNgXG4gKiB0aW1lcy4gVGhlIG91dHB1dCB0ZW5zb3IncyBpJ3RoIGRpbWVuc2lvbiBoYXMgYGlucHV0LnNoYXBlW2ldICpcbiAqIHJlcHNbaV1gIGVsZW1lbnRzLCBhbmQgdGhlIHZhbHVlcyBvZiBgaW5wdXRgIGFyZSByZXBsaWNhdGVkXG4gKiBgcmVwc1tpXWAgdGltZXMgYWxvbmcgdGhlIGkndGggZGltZW5zaW9uLiBGb3IgZXhhbXBsZSwgdGlsaW5nXG4gKiBgW2EsIGIsIGMsIGRdYCBieSBgWzJdYCBwcm9kdWNlcyBgW2EsIGIsIGMsIGQsIGEsIGIsIGMsIGRdYC5cbiAqXG4gKiBgYGBqc1xuICogY29uc3QgYSA9IHRmLnRlbnNvcjFkKFsxLCAyXSk7XG4gKlxuICogYS50aWxlKFsyXSkucHJpbnQoKTsgICAgLy8gb3IgYS50aWxlKFsyXSlcbiAqIGBgYFxuICpcbiAqIGBgYGpzXG4gKiBjb25zdCBhID0gdGYudGVuc29yMmQoWzEsIDIsIDMsIDRdLCBbMiwgMl0pO1xuICpcbiAqIGEudGlsZShbMSwgMl0pLnByaW50KCk7ICAvLyBvciBhLnRpbGUoWzEsIDJdKVxuICogYGBgXG4gKiBAcGFyYW0geCBUaGUgdGVuc29yIHRvIHRpbGUuXG4gKiBAcGFyYW0gcmVwcyBEZXRlcm1pbmVzIHRoZSBudW1iZXIgb2YgcmVwbGljYXRpb25zIHBlciBkaW1lbnNpb24uXG4gKlxuICogQGRvYyB7aGVhZGluZzogJ1RlbnNvcnMnLCBzdWJoZWFkaW5nOiAnU2xpY2luZyBhbmQgSm9pbmluZyd9XG4gKi9cbmZ1bmN0aW9uIHRpbGVfPFQgZXh0ZW5kcyBUZW5zb3I+KHg6IFR8VGVuc29yTGlrZSwgcmVwczogbnVtYmVyW10pOiBUIHtcbiAgY29uc3QgcGFyc2VBczogRGF0YVR5cGUgPSBudWxsO1xuICBjb25zdCAkeCA9IGNvbnZlcnRUb1RlbnNvcih4LCAneCcsICd0aWxlJywgcGFyc2VBcyk7XG4gIHV0aWwuYXNzZXJ0KFxuICAgICAgJHgucmFuayA9PT0gcmVwcy5sZW5ndGgsXG4gICAgICAoKSA9PiBgRXJyb3IgaW4gdHJhbnNwb3NlOiByYW5rIG9mIGlucHV0ICR7JHgucmFua30gYCArXG4gICAgICAgICAgYG11c3QgbWF0Y2ggbGVuZ3RoIG9mIHJlcHMgJHtyZXBzfS5gKTtcblxuICBjb25zdCBmb3J3YXJkOiBGb3J3YXJkRnVuYzxUPiA9IChiYWNrZW5kLCBzYXZlKSA9PiB7XG4gICAgY29uc3QgcmVzID0gYmFja2VuZC50aWxlKCR4LCByZXBzKTtcbiAgICBzYXZlKFskeF0pO1xuICAgIHJldHVybiByZXM7XG4gIH07XG5cbiAgY29uc3QgaW5wdXRzVG9TYXZlID0gWyR4XTtcbiAgY29uc3QgaW5wdXRzOiBUaWxlSW5wdXRzID0ge3g6ICR4fTtcbiAgY29uc3QgYXR0cnM6IFRpbGVBdHRycyA9IHtyZXBzfTtcblxuICByZXR1cm4gRU5HSU5FLnJ1bktlcm5lbEZ1bmMoXG4gICAgICBmb3J3YXJkLCBpbnB1dHMgYXMgdW5rbm93biBhcyBOYW1lZFRlbnNvck1hcCwgbnVsbCAvKiBncmFkICovLCBUaWxlLFxuICAgICAgYXR0cnMgYXMgdW5rbm93biBhcyBOYW1lZEF0dHJNYXAsIGlucHV0c1RvU2F2ZSk7XG59XG5cbmV4cG9ydCBjb25zdCB0aWxlID0gb3Aoe3RpbGVffSk7XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbmltcG9ydCB7VGVuc29yMkR9IGZyb20gJy4uL3RlbnNvcic7XG5pbXBvcnQge0RhdGFUeXBlfSBmcm9tICcuLi90eXBlcyc7XG5cbmltcG9ydCB7YnVmZmVyfSBmcm9tICcuL2J1ZmZlcic7XG5pbXBvcnQge2V4cGFuZERpbXN9IGZyb20gJy4vZXhwYW5kX2RpbXMnO1xuaW1wb3J0IHtvcH0gZnJvbSAnLi9vcGVyYXRpb24nO1xuaW1wb3J0IHtyZXNoYXBlfSBmcm9tICcuL3Jlc2hhcGUnO1xuaW1wb3J0IHt0aWxlfSBmcm9tICcuL3RpbGUnO1xuXG4vKipcbiAqIENyZWF0ZSBhbiBpZGVudGl0eSBtYXRyaXguXG4gKlxuICogQHBhcmFtIG51bVJvd3MgTnVtYmVyIG9mIHJvd3MuXG4gKiBAcGFyYW0gbnVtQ29sdW1ucyBOdW1iZXIgb2YgY29sdW1ucy4gRGVmYXVsdHMgdG8gYG51bVJvd3NgLlxuICogQHBhcmFtIGJhdGNoU2hhcGUgSWYgcHJvdmlkZWQsIHdpbGwgYWRkIHRoZSBiYXRjaCBzaGFwZSB0byB0aGUgYmVnaW5uaW5nXG4gKiAgIG9mIHRoZSBzaGFwZSBvZiB0aGUgcmV0dXJuZWQgYHRmLlRlbnNvcmAgYnkgcmVwZWF0aW5nIHRoZSBpZGVudGl0eVxuICogICBtYXRyaXguXG4gKiBAcGFyYW0gZHR5cGUgRGF0YSB0eXBlLlxuICogQHJldHVybnMgSWRlbnRpdHkgbWF0cml4IG9mIHRoZSBzcGVjaWZpZWQgc2l6ZSBhbmQgZGF0YSB0eXBlLCBwb3NzaWJseVxuICogICB3aXRoIGJhdGNoIHJlcGV0aXRpb24gaWYgYGJhdGNoU2hhcGVgIGlzIHNwZWNpZmllZC5cbiAqXG4gKiBAZG9jIHtoZWFkaW5nOiAnVGVuc29ycycsIHN1YmhlYWRpbmc6ICdDcmVhdGlvbid9XG4gKi9cbmZ1bmN0aW9uIGV5ZV8oXG4gICAgbnVtUm93czogbnVtYmVyLCBudW1Db2x1bW5zPzogbnVtYmVyLFxuICAgIGJhdGNoU2hhcGU/OlxuICAgICAgICBbXG4gICAgICAgICAgbnVtYmVyXG4gICAgICAgIF18W251bWJlcixcbiAgICAgICAgICAgbnVtYmVyXXxbbnVtYmVyLCBudW1iZXIsIG51bWJlcl18W251bWJlciwgbnVtYmVyLCBudW1iZXIsIG51bWJlcl0sXG4gICAgZHR5cGU6IERhdGFUeXBlID0gJ2Zsb2F0MzInKTogVGVuc29yMkQge1xuICBpZiAobnVtQ29sdW1ucyA9PSBudWxsKSB7XG4gICAgbnVtQ29sdW1ucyA9IG51bVJvd3M7XG4gIH1cbiAgY29uc3QgYnVmZiA9IGJ1ZmZlcihbbnVtUm93cywgbnVtQ29sdW1uc10sIGR0eXBlKTtcbiAgY29uc3QgbiA9IG51bVJvd3MgPD0gbnVtQ29sdW1ucyA/IG51bVJvd3MgOiBudW1Db2x1bW5zO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IG47ICsraSkge1xuICAgIGJ1ZmYuc2V0KDEsIGksIGkpO1xuICB9XG4gIGNvbnN0IG91dDogVGVuc29yMkQgPSByZXNoYXBlKGJ1ZmYudG9UZW5zb3IoKSwgW251bVJvd3MsIG51bUNvbHVtbnNdKTtcbiAgaWYgKGJhdGNoU2hhcGUgPT0gbnVsbCkge1xuICAgIHJldHVybiBvdXQ7XG4gIH0gZWxzZSB7XG4gICAgaWYgKGJhdGNoU2hhcGUubGVuZ3RoID09PSAxKSB7XG4gICAgICByZXR1cm4gdGlsZShleHBhbmREaW1zKG91dCwgMCksIFtiYXRjaFNoYXBlWzBdLCAxLCAxXSkgYXMgVGVuc29yMkQ7XG4gICAgfSBlbHNlIGlmIChiYXRjaFNoYXBlLmxlbmd0aCA9PT0gMikge1xuICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLXVubmVjZXNzYXJ5LXR5cGUtYXNzZXJ0aW9uXG4gICAgICByZXR1cm4gdGlsZShcbiAgICAgICAgICAgICAgICAgZXhwYW5kRGltcyhleHBhbmREaW1zKG91dCwgMCksIDApLFxuICAgICAgICAgICAgICAgICBbYmF0Y2hTaGFwZVswXSwgYmF0Y2hTaGFwZVsxXSwgMSwgMV0pIGFzIFRlbnNvcjJEO1xuICAgIH0gZWxzZSBpZiAoYmF0Y2hTaGFwZS5sZW5ndGggPT09IDMpIHtcbiAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby11bm5lY2Vzc2FyeS10eXBlLWFzc2VydGlvblxuICAgICAgcmV0dXJuIHRpbGUoZXhwYW5kRGltcyhleHBhbmREaW1zKGV4cGFuZERpbXMob3V0LCAwKSwgMCksIDApLCBbXG4gICAgICAgICAgICAgICBiYXRjaFNoYXBlWzBdLCBiYXRjaFNoYXBlWzFdLCBiYXRjaFNoYXBlWzJdLCAxLCAxXG4gICAgICAgICAgICAgXSkgYXMgVGVuc29yMkQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICBgZXllKCkgY3VycmVudGx5IHN1cHBvcnRzIG9ubHkgMUQgYW5kIDJEIGAgK1xuICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1hbnlcbiAgICAgICAgICBgYmF0Y2hTaGFwZXMsIGJ1dCByZWNlaXZlZCAkeyhiYXRjaFNoYXBlIGFzIGFueSkubGVuZ3RofUQuYCk7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBjb25zdCBleWUgPSBvcCh7ZXllX30pO1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG5pbXBvcnQge0VOR0lORX0gZnJvbSAnLi4vZW5naW5lJztcbmltcG9ydCB7RmlsbCwgRmlsbEF0dHJzfSBmcm9tICcuLi9rZXJuZWxfbmFtZXMnO1xuaW1wb3J0IHtOYW1lZEF0dHJNYXB9IGZyb20gJy4uL2tlcm5lbF9yZWdpc3RyeSc7XG5pbXBvcnQge1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yJztcbmltcG9ydCB7RGF0YVR5cGUsIFJhbmssIFNoYXBlTWFwfSBmcm9tICcuLi90eXBlcyc7XG5cbi8qKlxuICogQ3JlYXRlcyBhIGB0Zi5UZW5zb3JgIGZpbGxlZCB3aXRoIGEgc2NhbGFyIHZhbHVlLlxuICpcbiAqIGBgYGpzXG4gKiB0Zi5maWxsKFsyLCAyXSwgNCkucHJpbnQoKTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBzaGFwZSBBbiBhcnJheSBvZiBpbnRlZ2VycyBkZWZpbmluZyB0aGUgb3V0cHV0IHRlbnNvciBzaGFwZS5cbiAqIEBwYXJhbSB2YWx1ZSBUaGUgc2NhbGFyIHZhbHVlIHRvIGZpbGwgdGhlIHRlbnNvciB3aXRoLlxuICogQHBhcmFtIGR0eXBlIFRoZSB0eXBlIG9mIGFuIGVsZW1lbnQgaW4gdGhlIHJlc3VsdGluZyB0ZW5zb3IuIERlZmF1bHRzIHRvXG4gKiAnZmxvYXQnLlxuICpcbiAqIEBkb2Mge2hlYWRpbmc6ICdUZW5zb3JzJywgc3ViaGVhZGluZzogJ0NyZWF0aW9uJ31cbiAqL1xuZnVuY3Rpb24gZmlsbDxSIGV4dGVuZHMgUmFuaz4oXG4gICAgc2hhcGU6IFNoYXBlTWFwW1JdLCB2YWx1ZTogbnVtYmVyfHN0cmluZywgZHR5cGU/OiBEYXRhVHlwZSk6IFRlbnNvcjxSPiB7XG4gIGNvbnN0IGF0dHJzOiBGaWxsQXR0cnMgPSB7c2hhcGUsIHZhbHVlLCBkdHlwZX07XG5cbiAgcmV0dXJuIEVOR0lORS5ydW5LZXJuZWxGdW5jKFxuICAgICAgYmFja2VuZCA9PiBiYWNrZW5kLmZpbGwoc2hhcGUsIHZhbHVlLCBkdHlwZSksIHt9LCBudWxsLCBGaWxsLFxuICAgICAgYXR0cnMgYXMge30gYXMgTmFtZWRBdHRyTWFwKTtcbn1cblxuZXhwb3J0IHtmaWxsfTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE4IEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cbmltcG9ydCB7RU5HSU5FfSBmcm9tICcuLi9lbmdpbmUnO1xuaW1wb3J0IHtGbG9vciwgRmxvb3JJbnB1dHN9IGZyb20gJy4uL2tlcm5lbF9uYW1lcyc7XG5pbXBvcnQge1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yJztcbmltcG9ydCB7TmFtZWRUZW5zb3JNYXB9IGZyb20gJy4uL3RlbnNvcl90eXBlcyc7XG5pbXBvcnQge2NvbnZlcnRUb1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yX3V0aWxfZW52JztcbmltcG9ydCB7VGVuc29yTGlrZX0gZnJvbSAnLi4vdHlwZXMnO1xuXG5pbXBvcnQge29wfSBmcm9tICcuL29wZXJhdGlvbic7XG5cbi8qKlxuICogQ29tcHV0ZXMgZmxvb3Igb2YgaW5wdXQgYHRmLlRlbnNvcmAgZWxlbWVudC13aXNlOiBgZmxvb3IoeClgLlxuICpcbiAqIGBgYGpzXG4gKiBjb25zdCB4ID0gdGYudGVuc29yMWQoWy42LCAxLjEsIC0zLjNdKTtcbiAqXG4gKiB4LmZsb29yKCkucHJpbnQoKTsgIC8vIG9yIHRmLmZsb29yKHgpXG4gKiBgYGBcbiAqIEBwYXJhbSB4IFRoZSBpbnB1dCB0ZW5zb3IuXG4gKlxuICogQGRvYyB7aGVhZGluZzogJ09wZXJhdGlvbnMnLCBzdWJoZWFkaW5nOiAnQmFzaWMgbWF0aCd9XG4gKi9cbmZ1bmN0aW9uIGZsb29yXzxUIGV4dGVuZHMgVGVuc29yPih4OiBUfFRlbnNvckxpa2UpOiBUIHtcbiAgY29uc3QgJHggPSBjb252ZXJ0VG9UZW5zb3IoeCwgJ3gnLCAnZmxvb3InKTtcblxuICBjb25zdCBpbnB1dHM6IEZsb29ySW5wdXRzID0ge3g6ICR4fTtcbiAgcmV0dXJuIEVOR0lORS5ydW5LZXJuZWxGdW5jKFxuICAgICAgYmFja2VuZCA9PiBiYWNrZW5kLmZsb29yKCR4KSwgaW5wdXRzIGFzIHt9IGFzIE5hbWVkVGVuc29yTWFwLFxuICAgICAgbnVsbCAvKiBncmFkICovLCBGbG9vcik7XG59XG5leHBvcnQgY29uc3QgZmxvb3IgPSBvcCh7Zmxvb3JffSk7XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbmltcG9ydCB7VGVuc29yfSBmcm9tICcuLi90ZW5zb3InO1xuaW1wb3J0IHtuZWFyZXN0RGl2aXNvcn0gZnJvbSAnLi4vdXRpbCc7XG5cbmltcG9ydCB7UEFSQUxMRUxJWkVfVEhSRVNIT0xEfSBmcm9tICcuL3JlZHVjZV91dGlsJztcblxuZXhwb3J0IGludGVyZmFjZSBTZWdPcEluZm8ge1xuICB3aW5kb3dTaXplOiBudW1iZXI7XG4gIGJhdGNoU2l6ZTogbnVtYmVyO1xuICBpblNpemU6IG51bWJlcjtcbiAgbnVtU2VnbWVudHM6IG51bWJlcjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNlZ09wQ29tcHV0ZU9wdGltYWxXaW5kb3dTaXplKFxuICAgIGluU2l6ZTogbnVtYmVyLCBudW1TZWdtZW50czogbnVtYmVyKTogbnVtYmVyIHtcbiAgbGV0IGRvbmUgPSBmYWxzZTtcbiAgbGV0IHJlcztcblxuICBpZiAoaW5TaXplIDw9IFBBUkFMTEVMSVpFX1RIUkVTSE9MRCkge1xuICAgIHJlcyA9IGluU2l6ZTtcbiAgICBkb25lID0gdHJ1ZTtcbiAgfSBlbHNlIHtcbiAgICByZXMgPSBuZWFyZXN0RGl2aXNvcihpblNpemUsIE1hdGguZmxvb3IoTWF0aC5zcXJ0KGluU2l6ZSkpKTtcbiAgfVxuXG4gIHdoaWxlICghZG9uZSkge1xuICAgIGlmIChyZXMgPiBudW1TZWdtZW50cyB8fCByZXMgPT09IGluU2l6ZSkge1xuICAgICAgZG9uZSA9IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlcyA9IG5lYXJlc3REaXZpc29yKGluU2l6ZSwgcmVzICsgMSk7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXM7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb21wdXRlT3V0U2hhcGUoXG4gICAgYVNoYXBlOiBudW1iZXJbXSwgYXhpczogbnVtYmVyLCBudW1TZWdtZW50czogbnVtYmVyKTogbnVtYmVyW10ge1xuICBjb25zdCBvdXRTaGFwZSA9IFtdO1xuICBjb25zdCByYW5rID0gYVNoYXBlLmxlbmd0aDtcbiAgZm9yIChsZXQgZGltID0gMDsgZGltIDwgcmFuazsgZGltKyspIHtcbiAgICBpZiAoZGltICE9PSBheGlzKSB7XG4gICAgICBvdXRTaGFwZS5wdXNoKGFTaGFwZVtkaW1dKTtcbiAgICB9IGVsc2Uge1xuICAgICAgb3V0U2hhcGUucHVzaChudW1TZWdtZW50cyk7XG4gICAgfVxuICB9XG4gIHJldHVybiBvdXRTaGFwZTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBHYXRoZXJPcFNoYXBlSW5mbyB7XG4gIGJhdGNoU2l6ZTogbnVtYmVyO1xuICBzbGljZVNpemU6IG51bWJlcjtcbiAgZGltU2l6ZTogbnVtYmVyO1xuICBvdXRwdXRTaGFwZTogbnVtYmVyW107XG59XG5leHBvcnQgZnVuY3Rpb24gY29sbGVjdEdhdGhlck9wU2hhcGVJbmZvKFxuICAgIHg6IFRlbnNvciwgaW5kaWNlczogVGVuc29yLCBheGlzOiBudW1iZXIpOiBHYXRoZXJPcFNoYXBlSW5mbyB7XG4gIGNvbnN0IGRpbVNpemUgPSB4LnNoYXBlW2F4aXNdO1xuXG4gIGNvbnN0IG91dHB1dFNoYXBlOiBudW1iZXJbXSA9IFtdO1xuICBsZXQgYmF0Y2hTaXplID0gMTtcbiAgbGV0IHNsaWNlU2l6ZSA9IDE7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgYXhpczsgaSsrKSB7XG4gICAgb3V0cHV0U2hhcGUucHVzaCh4LnNoYXBlW2ldKTtcbiAgICBiYXRjaFNpemUgKj0geC5zaGFwZVtpXTtcbiAgfVxuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgaW5kaWNlcy5yYW5rOyBpKyspIHtcbiAgICBvdXRwdXRTaGFwZS5wdXNoKGluZGljZXMuc2hhcGVbaV0pO1xuICB9XG5cbiAgZm9yIChsZXQgaSA9IGF4aXMgKyAxOyBpIDwgeC5yYW5rOyBpKyspIHtcbiAgICBvdXRwdXRTaGFwZS5wdXNoKHguc2hhcGVbaV0pO1xuICAgIHNsaWNlU2l6ZSAqPSB4LnNoYXBlW2ldO1xuICB9XG5cbiAgcmV0dXJuIHtiYXRjaFNpemUsIHNsaWNlU2l6ZSwgZGltU2l6ZSwgb3V0cHV0U2hhcGV9O1xufVxuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG4vKipcbiAqIElucHV0cyBvZiBzaXplIGFib3ZlIHRoaXMgdGhyZXNob2xkIHdpbGwgYmUgcGFyYWxsZWxpemVkIGJ5IGNhbGxpbmcgbXVsdGlwbGVcbiAqIHNoYWRlciBwcm9ncmFtcy5cbiAqL1xuaW1wb3J0IHtuZWFyZXN0RGl2aXNvcn0gZnJvbSAnLi4vdXRpbCc7XG5cbmV4cG9ydCBjb25zdCBQQVJBTExFTElaRV9USFJFU0hPTEQgPSAzMDtcblxuZXhwb3J0IGludGVyZmFjZSBSZWR1Y2VJbmZvIHtcbiAgd2luZG93U2l6ZTogbnVtYmVyO1xuICBiYXRjaFNpemU6IG51bWJlcjtcbiAgaW5TaXplOiBudW1iZXI7XG4gIG91dFNpemU6IG51bWJlcjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbXB1dGVPcHRpbWFsV2luZG93U2l6ZShpblNpemU6IG51bWJlcik6IG51bWJlciB7XG4gIGlmIChpblNpemUgPD0gUEFSQUxMRUxJWkVfVEhSRVNIT0xEKSB7XG4gICAgcmV0dXJuIGluU2l6ZTtcbiAgfVxuICByZXR1cm4gbmVhcmVzdERpdmlzb3IoaW5TaXplLCBNYXRoLmZsb29yKE1hdGguc3FydChpblNpemUpKSk7XG59XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbmltcG9ydCB7RU5HSU5FLCBGb3J3YXJkRnVuY30gZnJvbSAnLi4vZW5naW5lJztcbmltcG9ydCB7R2F0aGVyVjIsIEdhdGhlclYyQXR0cnMsIEdhdGhlclYySW5wdXRzfSBmcm9tICcuLi9rZXJuZWxfbmFtZXMnO1xuaW1wb3J0IHtOYW1lZEF0dHJNYXB9IGZyb20gJy4uL2tlcm5lbF9yZWdpc3RyeSc7XG5pbXBvcnQge1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yJztcbmltcG9ydCB7TmFtZWRUZW5zb3JNYXB9IGZyb20gJy4uL3RlbnNvcl90eXBlcyc7XG5pbXBvcnQge2NvbnZlcnRUb1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yX3V0aWxfZW52JztcbmltcG9ydCB7VGVuc29yTGlrZX0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHtwYXJzZUF4aXNQYXJhbX0gZnJvbSAnLi4vdXRpbCc7XG5cbmltcG9ydCB7b3B9IGZyb20gJy4vb3BlcmF0aW9uJztcbmltcG9ydCB7cmVzaGFwZX0gZnJvbSAnLi9yZXNoYXBlJztcbmltcG9ydCB7Y29sbGVjdEdhdGhlck9wU2hhcGVJbmZvfSBmcm9tICcuL3NlZ21lbnRfdXRpbCc7XG5cbi8qKlxuICogR2F0aGVyIHNsaWNlcyBmcm9tIHRlbnNvciBgeGAncyBheGlzIGBheGlzYCBhY2NvcmRpbmcgdG8gYGluZGljZXNgLlxuICpcbiAqIGBgYGpzXG4gKiBjb25zdCB4ID0gdGYudGVuc29yMWQoWzEsIDIsIDMsIDRdKTtcbiAqIGNvbnN0IGluZGljZXMgPSB0Zi50ZW5zb3IxZChbMSwgMywgM10sICdpbnQzMicpO1xuICpcbiAqIHguZ2F0aGVyKGluZGljZXMpLnByaW50KCk7XG4gKiBgYGBcbiAqXG4gKiBgYGBqc1xuICogY29uc3QgeCA9IHRmLnRlbnNvcjJkKFsxLCAyLCAzLCA0XSwgWzIsIDJdKTtcbiAqIGNvbnN0IGluZGljZXMgPSB0Zi50ZW5zb3IxZChbMSwgMSwgMF0sICdpbnQzMicpO1xuICpcbiAqIHguZ2F0aGVyKGluZGljZXMpLnByaW50KCk7XG4gKiBgYGBcbiAqIEBwYXJhbSB4IFRoZSBpbnB1dCB0ZW5zb3Igd2hvc2Ugc2xpY2VzIHRvIGJlIGdhdGhlcmVkLlxuICogQHBhcmFtIGluZGljZXMgVGhlIGluZGljZXMgb2YgdGhlIHZhbHVlcyB0byBleHRyYWN0LlxuICogQHBhcmFtIGF4aXMgVGhlIGF4aXMgb3ZlciB3aGljaCB0byBzZWxlY3QgdmFsdWVzLiBEZWZhdWx0cyB0byAwLlxuICpcbiAqIEBkb2Mge2hlYWRpbmc6ICdUZW5zb3JzJywgc3ViaGVhZGluZzogJ1NsaWNpbmcgYW5kIEpvaW5pbmcnfVxuICovXG5mdW5jdGlvbiBnYXRoZXJfPFQgZXh0ZW5kcyBUZW5zb3I+KFxuICAgIHg6IFR8VGVuc29yTGlrZSwgaW5kaWNlczogVGVuc29yfFRlbnNvckxpa2UsIGF4aXMgPSAwKTogVCB7XG4gIGNvbnN0ICR4ID0gY29udmVydFRvVGVuc29yKHgsICd4JywgJ2dhdGhlcicpO1xuICBjb25zdCAkaW5kaWNlcyA9IGNvbnZlcnRUb1RlbnNvcihpbmRpY2VzLCAnaW5kaWNlcycsICdnYXRoZXInLCAnaW50MzInKTtcblxuICBjb25zdCBpbnB1dHM6IEdhdGhlclYySW5wdXRzID0ge3g6ICR4LCBpbmRpY2VzOiAkaW5kaWNlc307XG4gIGNvbnN0IGF0dHJzOiBHYXRoZXJWMkF0dHJzID0ge2F4aXN9O1xuXG4gIGNvbnN0IGZvcndhcmQ6IEZvcndhcmRGdW5jPFRlbnNvcj4gPSAoYmFja2VuZCwgc2F2ZSkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZEF4aXMgPSBwYXJzZUF4aXNQYXJhbShheGlzLCAkeC5zaGFwZSlbMF07XG4gICAgY29uc3Qgc2hhcGVJbmZvID0gY29sbGVjdEdhdGhlck9wU2hhcGVJbmZvKCR4LCAkaW5kaWNlcywgcGFyc2VkQXhpcyk7XG5cbiAgICBjb25zdCByZXMgPVxuICAgICAgICBiYWNrZW5kLmdhdGhlcigkeCwgcmVzaGFwZSgkaW5kaWNlcywgWyRpbmRpY2VzLnNpemVdKSwgcGFyc2VkQXhpcyk7XG4gICAgc2F2ZShbJHgsICRpbmRpY2VzXSk7XG5cbiAgICByZXR1cm4gcmVzaGFwZShyZXMsIHNoYXBlSW5mby5vdXRwdXRTaGFwZSk7XG4gIH07XG5cbiAgcmV0dXJuIEVOR0lORS5ydW5LZXJuZWxGdW5jKFxuICAgICAgICAgICAgIGZvcndhcmQsIGlucHV0cyBhcyB7fSBhcyBOYW1lZFRlbnNvck1hcCwgbnVsbCAvKiBncmFkICovLCBHYXRoZXJWMixcbiAgICAgICAgICAgICBhdHRycyBhcyB7fSBhcyBOYW1lZEF0dHJNYXApIGFzIFQ7XG59XG5cbmV4cG9ydCBjb25zdCBnYXRoZXIgPSBvcCh7Z2F0aGVyX30pO1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuaW1wb3J0IHtFTkdJTkUsIEZvcndhcmRGdW5jfSBmcm9tICcuLi9lbmdpbmUnO1xuaW1wb3J0IHtHcmVhdGVyLCBHcmVhdGVySW5wdXRzfSBmcm9tICcuLi9rZXJuZWxfbmFtZXMnO1xuaW1wb3J0IHtUZW5zb3J9IGZyb20gJy4uL3RlbnNvcic7XG5pbXBvcnQge05hbWVkVGVuc29yTWFwfSBmcm9tICcuLi90ZW5zb3JfdHlwZXMnO1xuaW1wb3J0IHttYWtlVHlwZXNNYXRjaH0gZnJvbSAnLi4vdGVuc29yX3V0aWwnO1xuaW1wb3J0IHtjb252ZXJ0VG9UZW5zb3J9IGZyb20gJy4uL3RlbnNvcl91dGlsX2Vudic7XG5pbXBvcnQge1RlbnNvckxpa2V9IGZyb20gJy4uL3R5cGVzJztcblxuaW1wb3J0IHthc3NlcnRBbmRHZXRCcm9hZGNhc3RTaGFwZX0gZnJvbSAnLi9icm9hZGNhc3RfdXRpbCc7XG5pbXBvcnQge29wfSBmcm9tICcuL29wZXJhdGlvbic7XG5cbi8qKlxuICogUmV0dXJucyB0aGUgdHJ1dGggdmFsdWUgb2YgKGEgPiBiKSBlbGVtZW50LXdpc2UuIFN1cHBvcnRzIGJyb2FkY2FzdGluZy5cbiAqXG4gKiBgYGBqc1xuICogY29uc3QgYSA9IHRmLnRlbnNvcjFkKFsxLCAyLCAzXSk7XG4gKiBjb25zdCBiID0gdGYudGVuc29yMWQoWzIsIDIsIDJdKTtcbiAqXG4gKiBhLmdyZWF0ZXIoYikucHJpbnQoKTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBhIFRoZSBmaXJzdCBpbnB1dCB0ZW5zb3IuXG4gKiBAcGFyYW0gYiBUaGUgc2Vjb25kIGlucHV0IHRlbnNvci4gTXVzdCBoYXZlIHRoZSBzYW1lIGR0eXBlIGFzIGBhYC5cbiAqXG4gKiBAZG9jIHtoZWFkaW5nOiAnT3BlcmF0aW9ucycsIHN1YmhlYWRpbmc6ICdMb2dpY2FsJ31cbiAqL1xuZnVuY3Rpb24gZ3JlYXRlcl88VCBleHRlbmRzIFRlbnNvcj4oXG4gICAgYTogVGVuc29yfFRlbnNvckxpa2UsIGI6IFRlbnNvcnxUZW5zb3JMaWtlKTogVCB7XG4gIGxldCAkYSA9IGNvbnZlcnRUb1RlbnNvcihhLCAnYScsICdncmVhdGVyJyk7XG4gIGxldCAkYiA9IGNvbnZlcnRUb1RlbnNvcihiLCAnYicsICdncmVhdGVyJyk7XG4gIFskYSwgJGJdID0gbWFrZVR5cGVzTWF0Y2goJGEsICRiKTtcblxuICBhc3NlcnRBbmRHZXRCcm9hZGNhc3RTaGFwZSgkYS5zaGFwZSwgJGIuc2hhcGUpO1xuXG4gIGNvbnN0IGZvcndhcmQ6IEZvcndhcmRGdW5jPFRlbnNvcj4gPSBiYWNrZW5kID0+IGJhY2tlbmQuZ3JlYXRlcigkYSwgJGIpO1xuXG4gIGNvbnN0IGlucHV0czogR3JlYXRlcklucHV0cyA9IHthOiAkYSwgYjogJGJ9O1xuXG4gIHJldHVybiBFTkdJTkUucnVuS2VybmVsRnVuYyhcbiAgICAgICAgICAgICBmb3J3YXJkLCBpbnB1dHMgYXMge30gYXMgTmFtZWRUZW5zb3JNYXAsIG51bGwgLyogZ3JhZCAqLyxcbiAgICAgICAgICAgICBHcmVhdGVyKSBhcyBUO1xufVxuXG5leHBvcnQgY29uc3QgZ3JlYXRlciA9IG9wKHtncmVhdGVyX30pO1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuaW1wb3J0IHtFTkdJTkUsIEZvcndhcmRGdW5jfSBmcm9tICcuLi9lbmdpbmUnO1xuaW1wb3J0IHtHcmVhdGVyRXF1YWwsIEdyZWF0ZXJFcXVhbElucHV0c30gZnJvbSAnLi4va2VybmVsX25hbWVzJztcbmltcG9ydCB7VGVuc29yfSBmcm9tICcuLi90ZW5zb3InO1xuaW1wb3J0IHtOYW1lZFRlbnNvck1hcH0gZnJvbSAnLi4vdGVuc29yX3R5cGVzJztcbmltcG9ydCB7bWFrZVR5cGVzTWF0Y2h9IGZyb20gJy4uL3RlbnNvcl91dGlsJztcbmltcG9ydCB7Y29udmVydFRvVGVuc29yfSBmcm9tICcuLi90ZW5zb3JfdXRpbF9lbnYnO1xuaW1wb3J0IHtUZW5zb3JMaWtlfSBmcm9tICcuLi90eXBlcyc7XG5cbmltcG9ydCB7YXNzZXJ0QW5kR2V0QnJvYWRjYXN0U2hhcGV9IGZyb20gJy4vYnJvYWRjYXN0X3V0aWwnO1xuaW1wb3J0IHtvcH0gZnJvbSAnLi9vcGVyYXRpb24nO1xuXG4vKipcbiAqIFJldHVybnMgdGhlIHRydXRoIHZhbHVlIG9mIChhID49IGIpIGVsZW1lbnQtd2lzZS4gU3VwcG9ydHMgYnJvYWRjYXN0aW5nLlxuICpcbiAqIGBgYGpzXG4gKiBjb25zdCBhID0gdGYudGVuc29yMWQoWzEsIDIsIDNdKTtcbiAqIGNvbnN0IGIgPSB0Zi50ZW5zb3IxZChbMiwgMiwgMl0pO1xuICpcbiAqIGEuZ3JlYXRlckVxdWFsKGIpLnByaW50KCk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gYSBUaGUgZmlyc3QgaW5wdXQgdGVuc29yLlxuICogQHBhcmFtIGIgVGhlIHNlY29uZCBpbnB1dCB0ZW5zb3IuIE11c3QgaGF2ZSB0aGUgc2FtZSBkdHlwZSBhcyBgYWAuXG4gKlxuICogQGRvYyB7aGVhZGluZzogJ09wZXJhdGlvbnMnLCBzdWJoZWFkaW5nOiAnTG9naWNhbCd9XG4gKi9cbmZ1bmN0aW9uIGdyZWF0ZXJFcXVhbF88VCBleHRlbmRzIFRlbnNvcj4oXG4gICAgYTogVGVuc29yfFRlbnNvckxpa2UsIGI6IFRlbnNvcnxUZW5zb3JMaWtlKTogVCB7XG4gIGxldCAkYSA9IGNvbnZlcnRUb1RlbnNvcihhLCAnYScsICdncmVhdGVyRXF1YWwnKTtcbiAgbGV0ICRiID0gY29udmVydFRvVGVuc29yKGIsICdiJywgJ2dyZWF0ZXJFcXVhbCcpO1xuICBbJGEsICRiXSA9IG1ha2VUeXBlc01hdGNoKCRhLCAkYik7XG5cbiAgYXNzZXJ0QW5kR2V0QnJvYWRjYXN0U2hhcGUoJGEuc2hhcGUsICRiLnNoYXBlKTtcblxuICBjb25zdCBmb3J3YXJkOiBGb3J3YXJkRnVuYzxUZW5zb3I+ID0gKGJhY2tlbmQsIHNhdmUpID0+IHtcbiAgICBjb25zdCByZXMgPSBiYWNrZW5kLmdyZWF0ZXJFcXVhbCgkYSwgJGIpO1xuICAgIHNhdmUoWyRhLCAkYl0pO1xuICAgIHJldHVybiByZXM7XG4gIH07XG5cbiAgY29uc3QgaW5wdXRzOiBHcmVhdGVyRXF1YWxJbnB1dHMgPSB7YTogJGEsIGI6ICRifTtcblxuICByZXR1cm4gRU5HSU5FLnJ1bktlcm5lbEZ1bmMoXG4gICAgICAgICAgICAgZm9yd2FyZCwgaW5wdXRzIGFzIHt9IGFzIE5hbWVkVGVuc29yTWFwLCBudWxsIC8qIGdyYWQgKi8sXG4gICAgICAgICAgICAgR3JlYXRlckVxdWFsKSBhcyBUO1xufVxuXG5leHBvcnQgY29uc3QgZ3JlYXRlckVxdWFsID0gb3Aoe2dyZWF0ZXJFcXVhbF99KTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuaW1wb3J0IHtFTkdJTkUsIEZvcndhcmRGdW5jfSBmcm9tICcuLi9lbmdpbmUnO1xuaW1wb3J0IHtJbWFnLCBJbWFnSW5wdXRzfSBmcm9tICcuLi9rZXJuZWxfbmFtZXMnO1xuaW1wb3J0IHtUZW5zb3J9IGZyb20gJy4uL3RlbnNvcic7XG5pbXBvcnQge05hbWVkVGVuc29yTWFwfSBmcm9tICcuLi90ZW5zb3JfdHlwZXMnO1xuaW1wb3J0IHtjb252ZXJ0VG9UZW5zb3J9IGZyb20gJy4uL3RlbnNvcl91dGlsX2Vudic7XG5pbXBvcnQge1RlbnNvckxpa2V9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7b3B9IGZyb20gJy4vb3BlcmF0aW9uJztcbi8qKlxuICogUmV0dXJucyB0aGUgaW1hZ2luYXJ5IHBhcnQgb2YgYSBjb21wbGV4IChvciByZWFsKSB0ZW5zb3IuXG4gKlxuICogR2l2ZW4gYSB0ZW5zb3IgaW5wdXQsIHRoaXMgb3BlcmF0aW9uIHJldHVybnMgYSB0ZW5zb3Igb2YgdHlwZSBmbG9hdCB0aGF0IGlzXG4gKiB0aGUgaW1hZ2luYXJ5IHBhcnQgb2YgZWFjaCBlbGVtZW50IGluIGlucHV0IGNvbnNpZGVyZWQgYXMgYSBjb21wbGV4IG51bWJlci5cbiAqIElmIGlucHV0IGlzIHJlYWwsIGEgdGVuc29yIG9mIGFsbCB6ZXJvcyBpcyByZXR1cm5lZC5cbiAqXG4gKiBgYGBqc1xuICogY29uc3QgeCA9IHRmLmNvbXBsZXgoWy0yLjI1LCAzLjI1XSwgWzQuNzUsIDUuNzVdKTtcbiAqIHRmLmltYWcoeCkucHJpbnQoKTtcbiAqIGBgYFxuICpcbiAqIEBkb2Mge2hlYWRpbmc6ICdUZW5zb3JzJywgc3ViaGVhZGluZzogJ0NyZWF0aW9uJ31cbiAqL1xuZnVuY3Rpb24gaW1hZ188VCBleHRlbmRzIFRlbnNvcj4oaW5wdXQ6IFR8VGVuc29yTGlrZSk6IFQge1xuICBjb25zdCAkaW5wdXQgPSBjb252ZXJ0VG9UZW5zb3IoaW5wdXQsICdpbnB1dCcsICdpbWFnJyk7XG5cbiAgY29uc3QgZm9yd2FyZDogRm9yd2FyZEZ1bmM8VGVuc29yPiA9IChiYWNrZW5kKSA9PiB7XG4gICAgcmV0dXJuIGJhY2tlbmQuaW1hZygkaW5wdXQpO1xuICB9O1xuXG4gIGNvbnN0IGlucHV0czogSW1hZ0lucHV0cyA9IHtpbnB1dDogJGlucHV0fTtcbiAgcmV0dXJuIEVOR0lORS5ydW5LZXJuZWxGdW5jKFxuICAgICAgICAgICAgIGZvcndhcmQsIGlucHV0cyBhcyB7fSBhcyBOYW1lZFRlbnNvck1hcCwgbnVsbCAvKiBncmFkaWVudCAqLyxcbiAgICAgICAgICAgICBJbWFnKSBhcyBUO1xufVxuXG5leHBvcnQgY29uc3QgaW1hZyA9IG9wKHtpbWFnX30pO1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTggR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG5pbXBvcnQge0VOR0lORX0gZnJvbSAnLi4vZW5naW5lJztcbmltcG9ydCB7SXNGaW5pdGUsIElzRmluaXRlSW5wdXRzfSBmcm9tICcuLi9rZXJuZWxfbmFtZXMnO1xuaW1wb3J0IHtUZW5zb3J9IGZyb20gJy4uL3RlbnNvcic7XG5pbXBvcnQge05hbWVkVGVuc29yTWFwfSBmcm9tICcuLi90ZW5zb3JfdHlwZXMnO1xuaW1wb3J0IHtjb252ZXJ0VG9UZW5zb3J9IGZyb20gJy4uL3RlbnNvcl91dGlsX2Vudic7XG5pbXBvcnQge1RlbnNvckxpa2V9IGZyb20gJy4uL3R5cGVzJztcblxuaW1wb3J0IHtvcH0gZnJvbSAnLi9vcGVyYXRpb24nO1xuXG4vKipcbiAqIFJldHVybnMgd2hpY2ggZWxlbWVudHMgb2YgeCBhcmUgZmluaXRlLlxuICpcbiAqIGBgYGpzXG4gKiBjb25zdCB4ID0gdGYudGVuc29yMWQoW05hTiwgSW5maW5pdHksIC1JbmZpbml0eSwgMCwgMV0pO1xuICpcbiAqIHguaXNGaW5pdGUoKS5wcmludCgpOyAgLy8gb3IgdGYuaXNOYU4oeClcbiAqIGBgYFxuICogQHBhcmFtIHggVGhlIGlucHV0IFRlbnNvci5cbiAqXG4gKiBAZG9jIHtoZWFkaW5nOiAnT3BlcmF0aW9ucycsIHN1YmhlYWRpbmc6ICdCYXNpYyBtYXRoJ31cbiAqL1xuZnVuY3Rpb24gaXNGaW5pdGVfPFQgZXh0ZW5kcyBUZW5zb3I+KHg6IFR8VGVuc29yTGlrZSk6IFQge1xuICBjb25zdCAkeCA9IGNvbnZlcnRUb1RlbnNvcih4LCAneCcsICdpc0Zpbml0ZScpO1xuXG4gIGNvbnN0IGlucHV0czogSXNGaW5pdGVJbnB1dHMgPSB7eDogJHh9O1xuXG4gIHJldHVybiBFTkdJTkUucnVuS2VybmVsRnVuYyhcbiAgICAgIChiYWNrZW5kKSA9PiBiYWNrZW5kLmlzRmluaXRlKCR4KSwgaW5wdXRzIGFzIHt9IGFzIE5hbWVkVGVuc29yTWFwLFxuICAgICAgbnVsbCAvKiBncmFkICovLCBJc0Zpbml0ZSk7XG59XG5leHBvcnQgY29uc3QgaXNGaW5pdGUgPSBvcCh7aXNGaW5pdGVffSk7XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbmltcG9ydCB7RU5HSU5FfSBmcm9tICcuLi9lbmdpbmUnO1xuaW1wb3J0IHtJc0luZiwgSXNJbmZJbnB1dHN9IGZyb20gJy4uL2tlcm5lbF9uYW1lcyc7XG5pbXBvcnQge1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yJztcbmltcG9ydCB7TmFtZWRUZW5zb3JNYXB9IGZyb20gJy4uL3RlbnNvcl90eXBlcyc7XG5pbXBvcnQge2NvbnZlcnRUb1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yX3V0aWxfZW52JztcbmltcG9ydCB7VGVuc29yTGlrZX0gZnJvbSAnLi4vdHlwZXMnO1xuXG5pbXBvcnQge29wfSBmcm9tICcuL29wZXJhdGlvbic7XG5cbi8qKlxuICogUmV0dXJucyB3aGljaCBlbGVtZW50cyBvZiB4IGFyZSBJbmZpbml0eSBvciAtSW5maW5pdHkuXG4gKlxuICogYGBganNcbiAqIGNvbnN0IHggPSB0Zi50ZW5zb3IxZChbTmFOLCBJbmZpbml0eSwgLUluZmluaXR5LCAwLCAxXSk7XG4gKlxuICogeC5pc0luZigpLnByaW50KCk7ICAvLyBvciB0Zi5pc05hTih4KVxuICogYGBgXG4gKiBAcGFyYW0geCBUaGUgaW5wdXQgVGVuc29yLlxuICpcbiAqIEBkb2Mge2hlYWRpbmc6ICdPcGVyYXRpb25zJywgc3ViaGVhZGluZzogJ0Jhc2ljIG1hdGgnfVxuICovXG5mdW5jdGlvbiBpc0luZl88VCBleHRlbmRzIFRlbnNvcj4oeDogVHxUZW5zb3JMaWtlKTogVCB7XG4gIGNvbnN0ICR4ID0gY29udmVydFRvVGVuc29yKHgsICd4JywgJ2lzSW5mJyk7XG5cbiAgY29uc3QgaW5wdXRzOiBJc0luZklucHV0cyA9IHt4OiAkeH07XG5cbiAgcmV0dXJuIEVOR0lORS5ydW5LZXJuZWxGdW5jKFxuICAgICAgKGJhY2tlbmQpID0+IGJhY2tlbmQuaXNJbmYoJHgpLCBpbnB1dHMgYXMge30gYXMgTmFtZWRUZW5zb3JNYXAsXG4gICAgICBudWxsIC8qIGdyYWQgKi8sIElzSW5mKTtcbn1cbmV4cG9ydCBjb25zdCBpc0luZiA9IG9wKHtpc0luZl99KTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE4IEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuaW1wb3J0IHtFTkdJTkV9IGZyb20gJy4uL2VuZ2luZSc7XG5pbXBvcnQge0lzTmFuLCBJc05hbklucHV0c30gZnJvbSAnLi4va2VybmVsX25hbWVzJztcbmltcG9ydCB7VGVuc29yfSBmcm9tICcuLi90ZW5zb3InO1xuaW1wb3J0IHtOYW1lZFRlbnNvck1hcH0gZnJvbSAnLi4vdGVuc29yX3R5cGVzJztcbmltcG9ydCB7Y29udmVydFRvVGVuc29yfSBmcm9tICcuLi90ZW5zb3JfdXRpbF9lbnYnO1xuaW1wb3J0IHtUZW5zb3JMaWtlfSBmcm9tICcuLi90eXBlcyc7XG5cbmltcG9ydCB7b3B9IGZyb20gJy4vb3BlcmF0aW9uJztcblxuLyoqXG4gKiBSUmV0dXJucyB3aGljaCBlbGVtZW50cyBvZiB4IGFyZSBOYU4uXG4gKlxuICogYGBganNcbiAqIGNvbnN0IHggPSB0Zi50ZW5zb3IxZChbTmFOLCBJbmZpbml0eSwgLUluZmluaXR5LCAwLCAxXSk7XG4gKlxuICogeC5pc05hTigpLnByaW50KCk7ICAvLyBvciB0Zi5pc05hTih4KVxuICogYGBgXG4gKiBAcGFyYW0geCBUaGUgaW5wdXQgVGVuc29yLlxuICpcbiAqIEBkb2Mge2hlYWRpbmc6ICdPcGVyYXRpb25zJywgc3ViaGVhZGluZzogJ0Jhc2ljIG1hdGgnfVxuICovXG5mdW5jdGlvbiBpc05hTl88VCBleHRlbmRzIFRlbnNvcj4oeDogVHxUZW5zb3JMaWtlKTogVCB7XG4gIGNvbnN0ICR4ID0gY29udmVydFRvVGVuc29yKHgsICd4JywgJ2lzTmFOJyk7XG4gIGNvbnN0IGlucHV0czogSXNOYW5JbnB1dHMgPSB7eDogJHh9O1xuXG4gIHJldHVybiBFTkdJTkUucnVuS2VybmVsRnVuYyhcbiAgICAgIGJhY2tlbmQgPT4gYmFja2VuZC5pc05hTigkeCksIGlucHV0cyBhcyB7fSBhcyBOYW1lZFRlbnNvck1hcCxcbiAgICAgIG51bGwgLyogZ3JhZCAqLywgSXNOYW4pO1xufVxuZXhwb3J0IGNvbnN0IGlzTmFOID0gb3Aoe2lzTmFOX30pO1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG5pbXBvcnQge0VOR0lORSwgRm9yd2FyZEZ1bmN9IGZyb20gJy4uL2VuZ2luZSc7XG5pbXBvcnQge01heGltdW0sIE1heGltdW1JbnB1dHN9IGZyb20gJy4uL2tlcm5lbF9uYW1lcyc7XG5pbXBvcnQge1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yJztcbmltcG9ydCB7TmFtZWRUZW5zb3JNYXB9IGZyb20gJy4uL3RlbnNvcl90eXBlcyc7XG5pbXBvcnQge21ha2VUeXBlc01hdGNofSBmcm9tICcuLi90ZW5zb3JfdXRpbCc7XG5pbXBvcnQge2NvbnZlcnRUb1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yX3V0aWxfZW52JztcbmltcG9ydCB7VGVuc29yTGlrZX0gZnJvbSAnLi4vdHlwZXMnO1xuXG5pbXBvcnQge2Fzc2VydEFuZEdldEJyb2FkY2FzdFNoYXBlfSBmcm9tICcuL2Jyb2FkY2FzdF91dGlsJztcbmltcG9ydCB7Y2FzdH0gZnJvbSAnLi9jYXN0JztcbmltcG9ydCB7b3B9IGZyb20gJy4vb3BlcmF0aW9uJztcblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBtYXggb2YgYSBhbmQgYiAoYGEgPiBiID8gYSA6IGJgKSBlbGVtZW50LXdpc2UuXG4gKiBTdXBwb3J0cyBicm9hZGNhc3RpbmcuXG4gKlxuICogV2UgYWxzbyBleHBvc2UgYHRmLm1heGltdW1TdHJpY3RgIHdoaWNoIGhhcyB0aGUgc2FtZSBzaWduYXR1cmUgYXMgdGhpcyBvcCBhbmRcbiAqIGFzc2VydHMgdGhhdCBgYWAgYW5kIGBiYCBhcmUgdGhlIHNhbWUgc2hhcGUgKGRvZXMgbm90IGJyb2FkY2FzdCkuXG4gKlxuICogYGBganNcbiAqIGNvbnN0IGEgPSB0Zi50ZW5zb3IxZChbMSwgNCwgMywgMTZdKTtcbiAqIGNvbnN0IGIgPSB0Zi50ZW5zb3IxZChbMSwgMiwgOSwgNF0pO1xuICpcbiAqIGEubWF4aW11bShiKS5wcmludCgpOyAgLy8gb3IgdGYubWF4aW11bShhLCBiKVxuICogYGBgXG4gKlxuICogYGBganNcbiAqIC8vIEJyb2FkY2FzdCBtYXhpbXVtIGEgd2l0aCBiLlxuICogY29uc3QgYSA9IHRmLnRlbnNvcjFkKFsyLCA0LCA2LCA4XSk7XG4gKiBjb25zdCBiID0gdGYuc2NhbGFyKDUpO1xuICpcbiAqIGEubWF4aW11bShiKS5wcmludCgpOyAgLy8gb3IgdGYubWF4aW11bShhLCBiKVxuICogYGBgXG4gKlxuICogQHBhcmFtIGEgVGhlIGZpcnN0IHRlbnNvci5cbiAqIEBwYXJhbSBiIFRoZSBzZWNvbmQgdGVuc29yLiBNdXN0IGhhdmUgdGhlIHNhbWUgdHlwZSBhcyBgYWAuXG4gKlxuICogQGRvYyB7aGVhZGluZzogJ09wZXJhdGlvbnMnLCBzdWJoZWFkaW5nOiAnQXJpdGhtZXRpYyd9XG4gKi9cbmZ1bmN0aW9uIG1heGltdW1fPFQgZXh0ZW5kcyBUZW5zb3I+KFxuICAgIGE6IFRlbnNvcnxUZW5zb3JMaWtlLCBiOiBUZW5zb3J8VGVuc29yTGlrZSk6IFQge1xuICBsZXQgJGEgPSBjb252ZXJ0VG9UZW5zb3IoYSwgJ2EnLCAnbWF4aW11bScpO1xuICBsZXQgJGIgPSBjb252ZXJ0VG9UZW5zb3IoYiwgJ2InLCAnbWF4aW11bScpO1xuICBbJGEsICRiXSA9IG1ha2VUeXBlc01hdGNoKCRhLCAkYik7XG5cbiAgaWYgKCRhLmR0eXBlID09PSAnYm9vbCcpIHtcbiAgICAkYSA9IGNhc3QoJGEsICdpbnQzMicpO1xuICAgICRiID0gY2FzdCgkYiwgJ2ludDMyJyk7XG4gIH1cbiAgYXNzZXJ0QW5kR2V0QnJvYWRjYXN0U2hhcGUoJGEuc2hhcGUsICRiLnNoYXBlKTtcblxuICBjb25zdCBmb3J3YXJkOiBGb3J3YXJkRnVuYzxUZW5zb3I+ID0gKGJhY2tlbmQsIHNhdmUpID0+IHtcbiAgICBjb25zdCByZXMgPSBiYWNrZW5kLm1heGltdW0oJGEsICRiKTtcbiAgICBzYXZlKFskYSwgJGJdKTtcbiAgICByZXR1cm4gcmVzO1xuICB9O1xuXG4gIGNvbnN0IGlucHV0czogTWF4aW11bUlucHV0cyA9IHthOiAkYSwgYjogJGJ9O1xuXG4gIHJldHVybiBFTkdJTkUucnVuS2VybmVsRnVuYyhcbiAgICAgICAgICAgICBmb3J3YXJkLCBpbnB1dHMgYXMge30gYXMgTmFtZWRUZW5zb3JNYXAsIG51bGwgLyogZ3JhZGllbnQgKi8sXG4gICAgICAgICAgICAgTWF4aW11bSkgYXMgVDtcbn1cblxuZXhwb3J0IGNvbnN0IG1heGltdW0gPSBvcCh7bWF4aW11bV99KTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE4IEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuaW1wb3J0IHtTY2FsYXJ9IGZyb20gJy4uL3RlbnNvcic7XG5pbXBvcnQge0RhdGFUeXBlfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQge2lzVHlwZWRBcnJheX0gZnJvbSAnLi4vdXRpbCc7XG5pbXBvcnQge21ha2VUZW5zb3J9IGZyb20gJy4vdGVuc29yX29wc191dGlsJztcblxuLyoqXG4gKiBDcmVhdGVzIHJhbmstMCBgdGYuVGVuc29yYCAoc2NhbGFyKSB3aXRoIHRoZSBwcm92aWRlZCB2YWx1ZSBhbmQgZHR5cGUuXG4gKlxuICogVGhlIHNhbWUgZnVuY3Rpb25hbGl0eSBjYW4gYmUgYWNoaWV2ZWQgd2l0aCBgdGYudGVuc29yYCwgYnV0IGluIGdlbmVyYWxcbiAqIHdlIHJlY29tbWVuZCB1c2luZyBgdGYuc2NhbGFyYCBhcyBpdCBtYWtlcyB0aGUgY29kZSBtb3JlIHJlYWRhYmxlLlxuICpcbiAqIGBgYGpzXG4gKiB0Zi5zY2FsYXIoMy4xNCkucHJpbnQoKTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB2YWx1ZSBUaGUgdmFsdWUgb2YgdGhlIHNjYWxhci5cbiAqIEBwYXJhbSBkdHlwZSBUaGUgZGF0YSB0eXBlLlxuICpcbiAqIEBkb2Mge2hlYWRpbmc6ICdUZW5zb3JzJywgc3ViaGVhZGluZzogJ0NyZWF0aW9uJ31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNjYWxhcihcbiAgICB2YWx1ZTogbnVtYmVyfGJvb2xlYW58c3RyaW5nfFVpbnQ4QXJyYXksIGR0eXBlPzogRGF0YVR5cGUpOiBTY2FsYXIge1xuICBpZiAoKChpc1R5cGVkQXJyYXkodmFsdWUpICYmIGR0eXBlICE9PSAnc3RyaW5nJykgfHwgQXJyYXkuaXNBcnJheSh2YWx1ZSkpICYmXG4gICAgICBkdHlwZSAhPT0gJ2NvbXBsZXg2NCcpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdFcnJvciBjcmVhdGluZyBhIG5ldyBTY2FsYXI6IHZhbHVlIG11c3QgYmUgYSBwcmltaXRpdmUgJyArXG4gICAgICAgICcobnVtYmVyfGJvb2xlYW58c3RyaW5nKScpO1xuICB9XG4gIGlmIChkdHlwZSA9PT0gJ3N0cmluZycgJiYgaXNUeXBlZEFycmF5KHZhbHVlKSAmJlxuICAgICAgISh2YWx1ZSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnV2hlbiBtYWtpbmcgYSBzY2FsYXIgZnJvbSBlbmNvZGVkIHN0cmluZywgJyArXG4gICAgICAgICd0aGUgdmFsdWUgbXVzdCBiZSBgVWludDhBcnJheWAuJyk7XG4gIH1cbiAgY29uc3Qgc2hhcGU6IG51bWJlcltdID0gW107XG4gIGNvbnN0IGluZmVycmVkU2hhcGU6IG51bWJlcltdID0gW107XG4gIHJldHVybiBtYWtlVGVuc29yKHZhbHVlLCBzaGFwZSwgaW5mZXJyZWRTaGFwZSwgZHR5cGUpIGFzIFNjYWxhcjtcbn1cbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuaW1wb3J0IHtUZW5zb3J9IGZyb20gJy4uL3RlbnNvcic7XG5pbXBvcnQge2NvbnZlcnRUb1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yX3V0aWxfZW52JztcbmltcG9ydCB7VGVuc29yTGlrZX0gZnJvbSAnLi4vdHlwZXMnO1xuXG5pbXBvcnQge21heGltdW19IGZyb20gJy4vbWF4aW11bSc7XG5pbXBvcnQge211bH0gZnJvbSAnLi9tdWwnO1xuaW1wb3J0IHtvcH0gZnJvbSAnLi9vcGVyYXRpb24nO1xuaW1wb3J0IHtzY2FsYXJ9IGZyb20gJy4vc2NhbGFyJztcblxuLyoqXG4gKiBDb21wdXRlcyBsZWFreSByZWN0aWZpZWQgbGluZWFyIGVsZW1lbnQtd2lzZS5cbiAqXG4gKiBTZWVcbiAqIFtodHRwOi8vd2ViLnN0YW5mb3JkLmVkdS9+YXduaS9wYXBlcnMvcmVsdV9oeWJyaWRfaWNtbDIwMTNfZmluYWwucGRmXShcbiAqICAgICBodHRwOi8vd2ViLnN0YW5mb3JkLmVkdS9+YXduaS9wYXBlcnMvcmVsdV9oeWJyaWRfaWNtbDIwMTNfZmluYWwucGRmKVxuICpcbiAqIGBgYGpzXG4gKiBjb25zdCB4ID0gdGYudGVuc29yMWQoWy0xLCAyLCAtMywgNF0pO1xuICpcbiAqIHgubGVha3lSZWx1KDAuMSkucHJpbnQoKTsgIC8vIG9yIHRmLmxlYWt5UmVsdSh4LCAwLjEpXG4gKiBgYGBcbiAqIEBwYXJhbSB4IFRoZSBpbnB1dCB0ZW5zb3IuXG4gKiBAcGFyYW0gYWxwaGEgVGhlIHNjYWxpbmcgZmFjdG9yIGZvciBuZWdhdGl2ZSB2YWx1ZXMsIGRlZmF1bHRzIHRvIDAuMi5cbiAqXG4gKiBAZG9jIHtoZWFkaW5nOiAnT3BlcmF0aW9ucycsIHN1YmhlYWRpbmc6ICdCYXNpYyBtYXRoJ31cbiAqL1xuZnVuY3Rpb24gbGVha3lSZWx1XzxUIGV4dGVuZHMgVGVuc29yPih4OiBUfFRlbnNvckxpa2UsIGFscGhhID0gMC4yKTogVCB7XG4gIGNvbnN0ICR4ID0gY29udmVydFRvVGVuc29yKHgsICd4JywgJ2xlYWt5UmVsdScpO1xuICByZXR1cm4gbWF4aW11bShtdWwoc2NhbGFyKGFscGhhKSwgJHgpLCAkeCk7XG59XG5cbmV4cG9ydCBjb25zdCBsZWFreVJlbHUgPSBvcCh7bGVha3lSZWx1X30pO1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuaW1wb3J0IHtFTkdJTkUsIEZvcndhcmRGdW5jfSBmcm9tICcuLi9lbmdpbmUnO1xuaW1wb3J0IHtMZXNzLCBMZXNzSW5wdXRzfSBmcm9tICcuLi9rZXJuZWxfbmFtZXMnO1xuaW1wb3J0IHtUZW5zb3J9IGZyb20gJy4uL3RlbnNvcic7XG5pbXBvcnQge05hbWVkVGVuc29yTWFwfSBmcm9tICcuLi90ZW5zb3JfdHlwZXMnO1xuaW1wb3J0IHttYWtlVHlwZXNNYXRjaH0gZnJvbSAnLi4vdGVuc29yX3V0aWwnO1xuaW1wb3J0IHtjb252ZXJ0VG9UZW5zb3J9IGZyb20gJy4uL3RlbnNvcl91dGlsX2Vudic7XG5pbXBvcnQge1RlbnNvckxpa2V9IGZyb20gJy4uL3R5cGVzJztcblxuaW1wb3J0IHthc3NlcnRBbmRHZXRCcm9hZGNhc3RTaGFwZX0gZnJvbSAnLi9icm9hZGNhc3RfdXRpbCc7XG5pbXBvcnQge29wfSBmcm9tICcuL29wZXJhdGlvbic7XG5cbi8qKlxuICogUmV0dXJucyB0aGUgdHJ1dGggdmFsdWUgb2YgKGEgPCBiKSBlbGVtZW50LXdpc2UuIFN1cHBvcnRzIGJyb2FkY2FzdGluZy5cbiAqXG4gKiBgYGBqc1xuICogY29uc3QgYSA9IHRmLnRlbnNvcjFkKFsxLCAyLCAzXSk7XG4gKiBjb25zdCBiID0gdGYudGVuc29yMWQoWzIsIDIsIDJdKTtcbiAqXG4gKiBhLmxlc3MoYikucHJpbnQoKTtcbiAqIGBgYFxuICogQHBhcmFtIGEgVGhlIGZpcnN0IGlucHV0IHRlbnNvci5cbiAqIEBwYXJhbSBiIFRoZSBzZWNvbmQgaW5wdXQgdGVuc29yLiBNdXN0IGhhdmUgdGhlIHNhbWUgZHR5cGUgYXMgYGFgLlxuICpcbiAqIEBkb2Mge2hlYWRpbmc6ICdPcGVyYXRpb25zJywgc3ViaGVhZGluZzogJ0xvZ2ljYWwnfVxuICovXG5mdW5jdGlvbiBsZXNzXzxUIGV4dGVuZHMgVGVuc29yPihcbiAgICBhOiBUZW5zb3J8VGVuc29yTGlrZSwgYjogVGVuc29yfFRlbnNvckxpa2UpOiBUIHtcbiAgbGV0ICRhID0gY29udmVydFRvVGVuc29yKGEsICdhJywgJ2xlc3MnKTtcbiAgbGV0ICRiID0gY29udmVydFRvVGVuc29yKGIsICdiJywgJ2xlc3MnKTtcbiAgWyRhLCAkYl0gPSBtYWtlVHlwZXNNYXRjaCgkYSwgJGIpO1xuXG4gIGFzc2VydEFuZEdldEJyb2FkY2FzdFNoYXBlKCRhLnNoYXBlLCAkYi5zaGFwZSk7XG5cbiAgY29uc3QgZm9yd2FyZDogRm9yd2FyZEZ1bmM8VGVuc29yPiA9IGJhY2tlbmQgPT4gYmFja2VuZC5sZXNzKCRhLCAkYik7XG5cbiAgY29uc3QgaW5wdXRzOiBMZXNzSW5wdXRzID0ge2E6ICRhLCBiOiAkYn07XG5cbiAgcmV0dXJuIEVOR0lORS5ydW5LZXJuZWxGdW5jKFxuICAgICAgICAgICAgIGZvcndhcmQsIGlucHV0cyBhcyB7fSBhcyBOYW1lZFRlbnNvck1hcCwgbnVsbCAvKiBncmFkICovLCBMZXNzKSBhc1xuICAgICAgVDtcbn1cblxuZXhwb3J0IGNvbnN0IGxlc3MgPSBvcCh7bGVzc199KTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cbmltcG9ydCB7RU5HSU5FLCBGb3J3YXJkRnVuY30gZnJvbSAnLi4vZW5naW5lJztcbmltcG9ydCB7TGVzc0VxdWFsLCBMZXNzRXF1YWxJbnB1dHN9IGZyb20gJy4uL2tlcm5lbF9uYW1lcyc7XG5pbXBvcnQge1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yJztcbmltcG9ydCB7TmFtZWRUZW5zb3JNYXB9IGZyb20gJy4uL3RlbnNvcl90eXBlcyc7XG5pbXBvcnQge21ha2VUeXBlc01hdGNofSBmcm9tICcuLi90ZW5zb3JfdXRpbCc7XG5pbXBvcnQge2NvbnZlcnRUb1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yX3V0aWxfZW52JztcbmltcG9ydCB7VGVuc29yTGlrZX0gZnJvbSAnLi4vdHlwZXMnO1xuXG5pbXBvcnQge2Fzc2VydEFuZEdldEJyb2FkY2FzdFNoYXBlfSBmcm9tICcuL2Jyb2FkY2FzdF91dGlsJztcbmltcG9ydCB7b3B9IGZyb20gJy4vb3BlcmF0aW9uJztcblxuLyoqXG4gKiBSZXR1cm5zIHRoZSB0cnV0aCB2YWx1ZSBvZiAoYSA8PSBiKSBlbGVtZW50LXdpc2UuIFN1cHBvcnRzIGJyb2FkY2FzdGluZy5cbiAqXG4gKiBgYGBqc1xuICogY29uc3QgYSA9IHRmLnRlbnNvcjFkKFsxLCAyLCAzXSk7XG4gKiBjb25zdCBiID0gdGYudGVuc29yMWQoWzIsIDIsIDJdKTtcbiAqXG4gKiBhLmxlc3NFcXVhbChiKS5wcmludCgpO1xuICogYGBgXG4gKlxuICogQHBhcmFtIGEgVGhlIGZpcnN0IGlucHV0IHRlbnNvci5cbiAqIEBwYXJhbSBiIFRoZSBzZWNvbmQgaW5wdXQgdGVuc29yLiBNdXN0IGhhdmUgdGhlIHNhbWUgZHR5cGUgYXMgYGFgLlxuICpcbiAqIEBkb2Mge2hlYWRpbmc6ICdPcGVyYXRpb25zJywgc3ViaGVhZGluZzogJ0xvZ2ljYWwnfVxuICovXG5mdW5jdGlvbiBsZXNzRXF1YWxfPFQgZXh0ZW5kcyBUZW5zb3I+KFxuICAgIGE6IFRlbnNvcnxUZW5zb3JMaWtlLCBiOiBUZW5zb3J8VGVuc29yTGlrZSk6IFQge1xuICBsZXQgJGEgPSBjb252ZXJ0VG9UZW5zb3IoYSwgJ2EnLCAnbGVzc0VxdWFsJyk7XG4gIGxldCAkYiA9IGNvbnZlcnRUb1RlbnNvcihiLCAnYicsICdsZXNzRXF1YWwnKTtcbiAgWyRhLCAkYl0gPSBtYWtlVHlwZXNNYXRjaCgkYSwgJGIpO1xuXG4gIGFzc2VydEFuZEdldEJyb2FkY2FzdFNoYXBlKCRhLnNoYXBlLCAkYi5zaGFwZSk7XG5cbiAgY29uc3QgZm9yd2FyZDogRm9yd2FyZEZ1bmM8VGVuc29yPiA9IChiYWNrZW5kLCBzYXZlKSA9PiB7XG4gICAgY29uc3QgcmVzID0gYmFja2VuZC5sZXNzRXF1YWwoJGEsICRiKTtcbiAgICBzYXZlKFskYSwgJGJdKTtcbiAgICByZXR1cm4gcmVzO1xuICB9O1xuXG4gIGNvbnN0IGlucHV0czogTGVzc0VxdWFsSW5wdXRzID0ge2E6ICRhLCBiOiAkYn07XG5cbiAgcmV0dXJuIEVOR0lORS5ydW5LZXJuZWxGdW5jKFxuICAgICAgICAgICAgIGZvcndhcmQsIGlucHV0cyBhcyB7fSBhcyBOYW1lZFRlbnNvck1hcCwgbnVsbCAvKiBncmFkICovLFxuICAgICAgICAgICAgIExlc3NFcXVhbCkgYXMgVDtcbn1cblxuZXhwb3J0IGNvbnN0IGxlc3NFcXVhbCA9IG9wKHtsZXNzRXF1YWxffSk7XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbmltcG9ydCB7RU5HSU5FLCBGb3J3YXJkRnVuY30gZnJvbSAnLi4vZW5naW5lJztcbmltcG9ydCB7TFJOLCBMUk5BdHRycywgTFJOSW5wdXRzfSBmcm9tICcuLi9rZXJuZWxfbmFtZXMnO1xuaW1wb3J0IHtOYW1lZEF0dHJNYXB9IGZyb20gJy4uL2tlcm5lbF9yZWdpc3RyeSc7XG5pbXBvcnQge1RlbnNvciwgVGVuc29yM0QsIFRlbnNvcjREfSBmcm9tICcuLi90ZW5zb3InO1xuaW1wb3J0IHtOYW1lZFRlbnNvck1hcH0gZnJvbSAnLi4vdGVuc29yX3R5cGVzJztcbmltcG9ydCB7Y29udmVydFRvVGVuc29yfSBmcm9tICcuLi90ZW5zb3JfdXRpbF9lbnYnO1xuaW1wb3J0IHtUZW5zb3JMaWtlfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgKiBhcyB1dGlsIGZyb20gJy4uL3V0aWwnO1xuXG5pbXBvcnQge29wfSBmcm9tICcuL29wZXJhdGlvbic7XG5pbXBvcnQge3Jlc2hhcGV9IGZyb20gJy4vcmVzaGFwZSc7XG5cbi8qKlxuICogTm9ybWFsaXplcyB0aGUgYWN0aXZhdGlvbiBvZiBhIGxvY2FsIG5laWdoYm9yaG9vZCBhY3Jvc3Mgb3Igd2l0aGluXG4gKiBjaGFubmVscy5cbiAqXG4gKiBAcGFyYW0geCBUaGUgaW5wdXQgdGVuc29yLiBUaGUgNC1EIGlucHV0IHRlbnNvciBpcyB0cmVhdGVkIGFzIGEgMy1EIGFycmF5XG4gKiAgICAgb2YgMUQgdmVjdG9ycyAoYWxvbmcgdGhlIGxhc3QgZGltZW5zaW9uKSwgYW5kIGVhY2ggdmVjdG9yIGlzXG4gKiAgICAgbm9ybWFsaXplZCBpbmRlcGVuZGVudGx5LlxuICogQHBhcmFtIGRlcHRoUmFkaXVzIFRoZSBudW1iZXIgb2YgYWRqYWNlbnQgY2hhbm5lbHMgaW4gdGhlIDFEIG5vcm1hbGl6YXRpb25cbiAqICAgICB3aW5kb3cuXG4gKiBAcGFyYW0gYmlhcyBBIGNvbnN0YW50IGJpYXMgdGVybSBmb3IgdGhlIGJhc2lzLlxuICogQHBhcmFtIGFscGhhIEEgc2NhbGUgZmFjdG9yLCB1c3VhbGx5IHBvc2l0aXZlLlxuICogQHBhcmFtIGJldGEgQW4gZXhwb25lbnQuXG4gKlxuICogQGRvYyB7aGVhZGluZzogJ09wZXJhdGlvbnMnLCBzdWJoZWFkaW5nOiAnTm9ybWFsaXphdGlvbid9XG4gKi9cbmZ1bmN0aW9uIGxvY2FsUmVzcG9uc2VOb3JtYWxpemF0aW9uXzxUIGV4dGVuZHMgVGVuc29yM0R8VGVuc29yNEQ+KFxuICAgIHg6IFR8VGVuc29yTGlrZSwgZGVwdGhSYWRpdXMgPSA1LCBiaWFzID0gMSwgYWxwaGEgPSAxLCBiZXRhID0gMC41KTogVCB7XG4gIGNvbnN0ICR4ID0gY29udmVydFRvVGVuc29yKHgsICd4JywgJ2xvY2FsUmVzcG9uc2VOb3JtYWxpemF0aW9uJyk7XG4gIHV0aWwuYXNzZXJ0KFxuICAgICAgJHgucmFuayA9PT0gNCB8fCAkeC5yYW5rID09PSAzLFxuICAgICAgKCkgPT4gYEVycm9yIGluIGxvY2FsUmVzcG9uc2VOb3JtYWxpemF0aW9uOiB4IG11c3QgYmUgcmFuayAzIG9yIDQgYnV0IGdvdFxuICAgICAgICAgICAgICAgcmFuayAkeyR4LnJhbmt9LmApO1xuICB1dGlsLmFzc2VydChcbiAgICAgIHV0aWwuaXNJbnQoZGVwdGhSYWRpdXMpLFxuICAgICAgKCkgPT4gYEVycm9yIGluIGxvY2FsUmVzcG9uc2VOb3JtYWxpemF0aW9uOiBkZXB0aFJhZGl1cyBtdXN0IGJlIGFuIGAgK1xuICAgICAgICAgIGBpbnRlZ2VyIGJ1dCBnb3QgZGVwdGhSYWRpdXMgJHtkZXB0aFJhZGl1c30uYCk7XG5cbiAgbGV0IHg0RCA9ICR4IGFzIFRlbnNvcjREO1xuICBsZXQgcmVzaGFwZWRUbzREID0gZmFsc2U7XG4gIGlmICgkeC5yYW5rID09PSAzKSB7XG4gICAgcmVzaGFwZWRUbzREID0gdHJ1ZTtcbiAgICB4NEQgPSByZXNoYXBlKCR4LCBbMSwgJHguc2hhcGVbMF0sICR4LnNoYXBlWzFdLCAkeC5zaGFwZVsyXV0pO1xuICB9XG5cbiAgY29uc3QgZm9yd2FyZDogRm9yd2FyZEZ1bmM8VGVuc29yPiA9IChiYWNrZW5kLCBzYXZlKSA9PiB7XG4gICAgY29uc3QgeSA9IGJhY2tlbmQubG9jYWxSZXNwb25zZU5vcm1hbGl6YXRpb240RChcbiAgICAgICAgeDRELCBkZXB0aFJhZGl1cywgYmlhcywgYWxwaGEsIGJldGEpO1xuXG4gICAgc2F2ZShbeDRELCB5XSk7XG5cbiAgICByZXR1cm4geTtcbiAgfTtcblxuICBjb25zdCBpbnB1dHM6IExSTklucHV0cyA9IHt4OiB4NER9O1xuXG4gIGNvbnN0IGF0dHJzOiBMUk5BdHRycyA9IHtkZXB0aFJhZGl1cywgYmlhcywgYWxwaGEsIGJldGF9O1xuXG4gIGNvbnN0IHJlcyA9IEVOR0lORS5ydW5LZXJuZWxGdW5jKFxuICAgICAgZm9yd2FyZCwgaW5wdXRzIGFzIHt9IGFzIE5hbWVkVGVuc29yTWFwLCBudWxsIC8qIGdyYWQgKi8sIExSTixcbiAgICAgIGF0dHJzIGFzIHt9IGFzIE5hbWVkQXR0ck1hcCk7XG5cbiAgaWYgKHJlc2hhcGVkVG80RCkge1xuICAgIHJldHVybiByZXNoYXBlKHJlcywgW3Jlcy5zaGFwZVsxXSwgcmVzLnNoYXBlWzJdLCByZXMuc2hhcGVbM11dKSBhcyBUO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiByZXMgYXMgVDtcbiAgfVxufVxuXG5leHBvcnQgY29uc3QgbG9jYWxSZXNwb25zZU5vcm1hbGl6YXRpb24gPSBvcCh7bG9jYWxSZXNwb25zZU5vcm1hbGl6YXRpb25ffSk7XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbmltcG9ydCB7RU5HSU5FfSBmcm9tICcuLi9lbmdpbmUnO1xuaW1wb3J0IHtMb2csIExvZ0lucHV0c30gZnJvbSAnLi4va2VybmVsX25hbWVzJztcbmltcG9ydCB7VGVuc29yfSBmcm9tICcuLi90ZW5zb3InO1xuaW1wb3J0IHtOYW1lZFRlbnNvck1hcH0gZnJvbSAnLi4vdGVuc29yX3R5cGVzJztcbmltcG9ydCB7Y29udmVydFRvVGVuc29yfSBmcm9tICcuLi90ZW5zb3JfdXRpbF9lbnYnO1xuaW1wb3J0IHtUZW5zb3JMaWtlfSBmcm9tICcuLi90eXBlcyc7XG5cbmltcG9ydCB7b3B9IGZyb20gJy4vb3BlcmF0aW9uJztcblxuLyoqXG4gKiBDb21wdXRlcyBuYXR1cmFsIGxvZ2FyaXRobSBvZiB0aGUgaW5wdXQgYHRmLlRlbnNvcmAgZWxlbWVudC13aXNlOiBgbG4oeClgXG4gKlxuICogYGBganNcbiAqIGNvbnN0IHggPSB0Zi50ZW5zb3IxZChbMSwgMiwgTWF0aC5FXSk7XG4gKlxuICogeC5sb2coKS5wcmludCgpOyAgLy8gb3IgdGYubG9nKHgpXG4gKiBgYGBcbiAqIEBwYXJhbSB4IFRoZSBpbnB1dCB0ZW5zb3IuXG4gKlxuICogQGRvYyB7aGVhZGluZzogJ09wZXJhdGlvbnMnLCBzdWJoZWFkaW5nOiAnQmFzaWMgbWF0aCd9XG4gKi9cbmZ1bmN0aW9uIGxvZ188VCBleHRlbmRzIFRlbnNvcj4oeDogVHxUZW5zb3JMaWtlKTogVCB7XG4gIGNvbnN0ICR4ID0gY29udmVydFRvVGVuc29yKHgsICd4JywgJ2xvZycpO1xuXG4gIGNvbnN0IGlucHV0czogTG9nSW5wdXRzID0ge3g6ICR4fTtcbiAgcmV0dXJuIEVOR0lORS5ydW5LZXJuZWxGdW5jKChiYWNrZW5kLCBzYXZlKSA9PiB7XG4gICAgY29uc3QgcmVzID0gYmFja2VuZC5sb2coJHgpO1xuICAgIHNhdmUoWyR4XSk7XG4gICAgcmV0dXJuIHJlcztcbiAgfSwgaW5wdXRzIGFzIHt9IGFzIE5hbWVkVGVuc29yTWFwLCBudWxsIC8qIGdyYWQgKi8sIExvZyk7XG59XG5leHBvcnQgY29uc3QgbG9nID0gb3Aoe2xvZ199KTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE4IEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuaW1wb3J0IHtFTkdJTkV9IGZyb20gJy4uL2VuZ2luZSc7XG5pbXBvcnQge0xvZzFwLCBMb2cxcElucHV0c30gZnJvbSAnLi4va2VybmVsX25hbWVzJztcbmltcG9ydCB7VGVuc29yfSBmcm9tICcuLi90ZW5zb3InO1xuaW1wb3J0IHtOYW1lZFRlbnNvck1hcH0gZnJvbSAnLi4vdGVuc29yX3R5cGVzJztcbmltcG9ydCB7Y29udmVydFRvVGVuc29yfSBmcm9tICcuLi90ZW5zb3JfdXRpbF9lbnYnO1xuaW1wb3J0IHtUZW5zb3JMaWtlfSBmcm9tICcuLi90eXBlcyc7XG5cbmltcG9ydCB7b3B9IGZyb20gJy4vb3BlcmF0aW9uJztcblxuLyoqXG4gKiBDb21wdXRlcyBuYXR1cmFsIGxvZ2FyaXRobSBvZiB0aGUgaW5wdXQgYHRmLlRlbnNvcmAgcGx1cyBvbmVcbiAqIGVsZW1lbnQtd2lzZTogYGxuKDEgKyB4KWBcbiAqXG4gKiBgYGBqc1xuICogY29uc3QgeCA9IHRmLnRlbnNvcjFkKFsxLCAyLCBNYXRoLkUgLSAxXSk7XG4gKlxuICogeC5sb2cxcCgpLnByaW50KCk7ICAvLyBvciB0Zi5sb2cxcCh4KVxuICogYGBgXG4gKiBAcGFyYW0geCBUaGUgaW5wdXQgdGVuc29yLlxuICpcbiAqIEBkb2Mge2hlYWRpbmc6ICdPcGVyYXRpb25zJywgc3ViaGVhZGluZzogJ0Jhc2ljIG1hdGgnfVxuICovXG5mdW5jdGlvbiBsb2cxcF88VCBleHRlbmRzIFRlbnNvcj4oeDogVHxUZW5zb3JMaWtlKTogVCB7XG4gIGNvbnN0ICR4ID0gY29udmVydFRvVGVuc29yKHgsICd4JywgJ2xvZzFwJyk7XG5cbiAgY29uc3QgaW5wdXRzOiBMb2cxcElucHV0cyA9IHt4OiAkeH07XG4gIHJldHVybiBFTkdJTkUucnVuS2VybmVsRnVuYygoYmFja2VuZCwgc2F2ZSkgPT4ge1xuICAgIGNvbnN0IHJlcyA9IGJhY2tlbmQubG9nMXAoJHgpO1xuICAgIHNhdmUoWyR4XSk7XG4gICAgcmV0dXJuIHJlcztcbiAgfSwgaW5wdXRzIGFzIHt9IGFzIE5hbWVkVGVuc29yTWFwLCBudWxsIC8qIGdyYWQgKi8sIExvZzFwKTtcbn1cbmV4cG9ydCBjb25zdCBsb2cxcCA9IG9wKHtsb2cxcF99KTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE4IEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuaW1wb3J0IHtDdXN0b21HcmFkaWVudEZ1bmMsIEVOR0lORX0gZnJvbSAnLi9lbmdpbmUnO1xuaW1wb3J0IHtTY2FsYXIsIFRlbnNvciwgVmFyaWFibGV9IGZyb20gJy4vdGVuc29yJztcbmltcG9ydCB7TmFtZWRUZW5zb3JNYXB9IGZyb20gJy4vdGVuc29yX3R5cGVzJztcbmltcG9ydCB7Y29udmVydFRvVGVuc29yLCBjb252ZXJ0VG9UZW5zb3JBcnJheX0gZnJvbSAnLi90ZW5zb3JfdXRpbF9lbnYnO1xuaW1wb3J0IHtUZW5zb3JMaWtlfSBmcm9tICcuL3R5cGVzJztcbmltcG9ydCAqIGFzIHV0aWwgZnJvbSAnLi91dGlsJztcblxuLyoqXG4gKiBQcm92aWRlZCBgZih4KWAsIHJldHVybnMgYW5vdGhlciBmdW5jdGlvbiBgZyh4LCBkeT8pYCwgd2hpY2ggZ2l2ZXMgdGhlXG4gKiBncmFkaWVudCBvZiBgZih4KWAgd2l0aCByZXNwZWN0IHRvIGB4YC5cbiAqXG4gKiBJZiBgZHlgIGlzIHByb3ZpZGVkLCB0aGUgZ3JhZGllbnQgb2YgYGYoeCkubXVsKGR5KS5zdW0oKWAgd2l0aCByZXNwZWN0IHRvXG4gKiBgeGAgaXMgY29tcHV0ZWQgaW5zdGVhZC4gYGYoeClgIG11c3QgdGFrZSBhIHNpbmdsZSB0ZW5zb3IgYHhgIGFuZCByZXR1cm4gYVxuICogc2luZ2xlIHRlbnNvciBgeWAuIElmIGBmKClgIHRha2VzIG11bHRpcGxlIGlucHV0cywgdXNlIGB0Zi5ncmFkc2AgaW5zdGVhZC5cbiAqXG4gKiBgYGBqc1xuICogLy8gZih4KSA9IHggXiAyXG4gKiBjb25zdCBmID0geCA9PiB4LnNxdWFyZSgpO1xuICogLy8gZicoeCkgPSAyeFxuICogY29uc3QgZyA9IHRmLmdyYWQoZik7XG4gKlxuICogY29uc3QgeCA9IHRmLnRlbnNvcjFkKFsyLCAzXSk7XG4gKiBnKHgpLnByaW50KCk7XG4gKiBgYGBcbiAqXG4gKiBgYGBqc1xuICogLy8gZih4KSA9IHggXiAzXG4gKiBjb25zdCBmID0geCA9PiB4LnBvdyh0Zi5zY2FsYXIoMywgJ2ludDMyJykpO1xuICogLy8gZicoeCkgPSAzeCBeIDJcbiAqIGNvbnN0IGcgPSB0Zi5ncmFkKGYpO1xuICogLy8gZicnKHgpID0gNnhcbiAqIGNvbnN0IGdnID0gdGYuZ3JhZChnKTtcbiAqXG4gKiBjb25zdCB4ID0gdGYudGVuc29yMWQoWzIsIDNdKTtcbiAqIGdnKHgpLnByaW50KCk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gZiBUaGUgZnVuY3Rpb24gZih4KSwgdG8gY29tcHV0ZSBncmFkaWVudCBmb3IuXG4gKlxuICogQGRvYyB7aGVhZGluZzogJ1RyYWluaW5nJywgc3ViaGVhZGluZzogJ0dyYWRpZW50cyd9XG4gKi9cbmZ1bmN0aW9uIGdyYWQoZjogKHg6IFRlbnNvcikgPT4gVGVuc29yKTogKFxuICAgIHg6IFRlbnNvckxpa2V8VGVuc29yLCBkeT86IFRlbnNvckxpa2V8VGVuc29yKSA9PiBUZW5zb3Ige1xuICB1dGlsLmFzc2VydChcbiAgICAgIHV0aWwuaXNGdW5jdGlvbihmKSwgKCkgPT4gJ1RoZSBmIHBhc3NlZCBpbiBncmFkKGYpIG11c3QgYmUgYSBmdW5jdGlvbicpO1xuICByZXR1cm4gKHg6IFRlbnNvckxpa2V8VGVuc29yLCBkeT86IFRlbnNvckxpa2V8VGVuc29yKTogVGVuc29yID0+IHtcbiAgICAvLyB4IGNhbiBiZSBvZiBhbnkgZHR5cGUsIHRodXMgbnVsbCBhcyB0aGUgbGFzdCBhcmd1bWVudC5cbiAgICBjb25zdCAkeCA9IGNvbnZlcnRUb1RlbnNvcih4LCAneCcsICd0Zi5ncmFkJywgbnVsbCk7XG4gICAgY29uc3QgJGR5OiBUZW5zb3IgPVxuICAgICAgICAoZHkgIT0gbnVsbCkgPyBjb252ZXJ0VG9UZW5zb3IoZHksICdkeScsICd0Zi5ncmFkJykgOiBudWxsO1xuICAgIHJldHVybiBFTkdJTkUudGlkeSgoKSA9PiB7XG4gICAgICBjb25zdCB7dmFsdWUsIGdyYWRzfSA9IEVOR0lORS5ncmFkaWVudHMoKCkgPT4gZigkeCksIFskeF0sICRkeSk7XG4gICAgICBpZiAoJGR5ICE9IG51bGwpIHtcbiAgICAgICAgdXRpbC5hc3NlcnRTaGFwZXNNYXRjaChcbiAgICAgICAgICAgIHZhbHVlLnNoYXBlLCAkZHkuc2hhcGUsXG4gICAgICAgICAgICAnVGhlIHNoYXBlIG9mIGR5IHBhc3NlZCBpbiBncmFkKGYpKHgsIGR5KSBtdXN0IG1hdGNoIHRoZSBzaGFwZSAnICtcbiAgICAgICAgICAgICAgICAncmV0dXJuZWQgYnkgZih4KScpO1xuICAgICAgfVxuICAgICAgY2hlY2tHcmFkcyhncmFkcyk7XG4gICAgICByZXR1cm4gZ3JhZHNbMF07XG4gICAgfSk7XG4gIH07XG59XG5cbi8qKlxuICogUHJvdmlkZWQgYGYoeDEsIHgyLC4uLilgLCByZXR1cm5zIGFub3RoZXIgZnVuY3Rpb24gYGcoW3gxLCB4MiwuLi5dLCBkeT8pYCxcbiAqIHdoaWNoIGdpdmVzIGFuIGFycmF5IG9mIGdyYWRpZW50cyBvZiBgZigpYCB3aXRoIHJlc3BlY3QgdG8gZWFjaCBpbnB1dFxuICogW2B4MWAsYHgyYCwuLi5dLlxuICpcbiAqIElmIGBkeWAgaXMgcGFzc2VkIHdoZW4gY2FsbGluZyBgZygpYCwgdGhlIGdyYWRpZW50IG9mXG4gKiBgZih4MSwuLi4pLm11bChkeSkuc3VtKClgIHdpdGggcmVzcGVjdCB0byBlYWNoIGlucHV0IGlzIGNvbXB1dGVkIGluc3RlYWQuXG4gKiBUaGUgcHJvdmlkZWQgYGZgIG11c3QgdGFrZSBvbmUgb3IgbW9yZSB0ZW5zb3JzIGFuZCByZXR1cm4gYSBzaW5nbGUgdGVuc29yXG4gKiBgeWAuIElmIGBmKClgIHRha2VzIGEgc2luZ2xlIGlucHV0LCB3ZSByZWNvbW1lbmQgdXNpbmcgYHRmLmdyYWRgIGluc3RlYWQuXG4gKlxuICogYGBganNcbiAqIC8vIGYoYSwgYikgPSBhICogYlxuICogY29uc3QgZiA9IChhLCBiKSA9PiBhLm11bChiKTtcbiAqIC8vIGRmIC8gZGEgPSBiLCBkZiAvIGRiID0gYVxuICogY29uc3QgZyA9IHRmLmdyYWRzKGYpO1xuICpcbiAqIGNvbnN0IGEgPSB0Zi50ZW5zb3IxZChbMiwgM10pO1xuICogY29uc3QgYiA9IHRmLnRlbnNvcjFkKFstMiwgLTNdKTtcbiAqIGNvbnN0IFtkYSwgZGJdID0gZyhbYSwgYl0pO1xuICogY29uc29sZS5sb2coJ2RhJyk7XG4gKiBkYS5wcmludCgpO1xuICogY29uc29sZS5sb2coJ2RiJyk7XG4gKiBkYi5wcmludCgpO1xuICogYGBgXG4gKlxuICogQHBhcmFtIGYgVGhlIGZ1bmN0aW9uIGBmKHgxLCB4MiwuLi4pYCB0byBjb21wdXRlIGdyYWRpZW50cyBmb3IuXG4gKlxuICogQGRvYyB7aGVhZGluZzogJ1RyYWluaW5nJywgc3ViaGVhZGluZzogJ0dyYWRpZW50cyd9XG4gKi9cbmZ1bmN0aW9uIGdyYWRzKGY6ICguLi5hcmdzOiBUZW5zb3JbXSkgPT4gVGVuc29yKTogKFxuICAgIGFyZ3M6IEFycmF5PFRlbnNvcnxUZW5zb3JMaWtlPiwgZHk/OiBUZW5zb3J8VGVuc29yTGlrZSkgPT4gVGVuc29yW10ge1xuICB1dGlsLmFzc2VydChcbiAgICAgIHV0aWwuaXNGdW5jdGlvbihmKSwgKCkgPT4gJ1RoZSBmIHBhc3NlZCBpbiBncmFkcyhmKSBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcbiAgcmV0dXJuIChhcmdzOiBBcnJheTxUZW5zb3J8VGVuc29yTGlrZT4sIGR5PzogVGVuc29yfFRlbnNvckxpa2UpOiBUZW5zb3JbXSA9PiB7XG4gICAgdXRpbC5hc3NlcnQoXG4gICAgICAgIEFycmF5LmlzQXJyYXkoYXJncyksXG4gICAgICAgICgpID0+ICdUaGUgYXJncyBwYXNzZWQgaW4gZ3JhZHMoZikoYXJncykgbXVzdCBiZSBhbiBhcnJheSAnICtcbiAgICAgICAgICAgICdvZiBgVGVuc29yYHMgb3IgYFRlbnNvckxpa2VgcycpO1xuICAgIC8vIGFyZ3MgY2FuIGJlIG9mIGFueSBkdHlwZSwgdGh1cyBudWxsIGFzIHRoZSBsYXN0IGFyZ3VtZW50LlxuICAgIGNvbnN0ICRhcmdzID0gY29udmVydFRvVGVuc29yQXJyYXkoYXJncywgJ2FyZ3MnLCAndGYuZ3JhZHMnLCBudWxsKTtcbiAgICBjb25zdCAkZHk6IFRlbnNvciA9XG4gICAgICAgIChkeSAhPSBudWxsKSA/IGNvbnZlcnRUb1RlbnNvcihkeSwgJ2R5JywgJ3RmLmdyYWRzJykgOiBudWxsO1xuICAgIHJldHVybiBFTkdJTkUudGlkeSgoKSA9PiB7XG4gICAgICBjb25zdCB7dmFsdWUsIGdyYWRzfSA9IEVOR0lORS5ncmFkaWVudHMoKCkgPT4gZiguLi4kYXJncyksICRhcmdzLCAkZHkpO1xuICAgICAgaWYgKCRkeSAhPSBudWxsKSB7XG4gICAgICAgIHV0aWwuYXNzZXJ0U2hhcGVzTWF0Y2goXG4gICAgICAgICAgICB2YWx1ZS5zaGFwZSwgJGR5LnNoYXBlLFxuICAgICAgICAgICAgJ1RoZSBzaGFwZSBvZiBkeSBwYXNzZWQgaW4gZ3JhZHMoZikoW3gxLC4uLl0sIGR5KSBtdXN0ICcgK1xuICAgICAgICAgICAgICAgICdtYXRjaCB0aGUgc2hhcGUgcmV0dXJuZWQgYnkgZihbeDEsLi4uXSknKTtcbiAgICAgIH1cbiAgICAgIGNoZWNrR3JhZHMoZ3JhZHMpO1xuICAgICAgcmV0dXJuIGdyYWRzO1xuICAgIH0pO1xuICB9O1xufVxuXG4vKipcbiAqIExpa2UgYHRmLmdyYWRgLCBidXQgYWxzbyByZXR1cm5zIHRoZSB2YWx1ZSBvZiBgZigpYC4gVXNlZnVsIHdoZW4gYGYoKWBcbiAqIHJldHVybnMgYSBtZXRyaWMgeW91IHdhbnQgdG8gc2hvdy5cbiAqXG4gKiBUaGUgcmVzdWx0IGlzIGEgcmljaCBvYmplY3Qgd2l0aCB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXM6XG4gKiAtIGdyYWQ6IFRoZSBncmFkaWVudCBvZiBgZih4KWAgdy5yLnQgYHhgIChyZXN1bHQgb2YgYHRmLmdyYWRgKS5cbiAqIC0gdmFsdWU6IFRoZSB2YWx1ZSByZXR1cm5lZCBieSBgZih4KWAuXG4gKlxuICogYGBganNcbiAqIC8vIGYoeCkgPSB4IF4gMlxuICogY29uc3QgZiA9IHggPT4geC5zcXVhcmUoKTtcbiAqIC8vIGYnKHgpID0gMnhcbiAqIGNvbnN0IGcgPSB0Zi52YWx1ZUFuZEdyYWQoZik7XG4gKlxuICogY29uc3QgeCA9IHRmLnRlbnNvcjFkKFsyLCAzXSk7XG4gKiBjb25zdCB7dmFsdWUsIGdyYWR9ID0gZyh4KTtcbiAqXG4gKiBjb25zb2xlLmxvZygndmFsdWUnKTtcbiAqIHZhbHVlLnByaW50KCk7XG4gKiBjb25zb2xlLmxvZygnZ3JhZCcpO1xuICogZ3JhZC5wcmludCgpO1xuICogYGBgXG4gKlxuICogQGRvYyB7aGVhZGluZzogJ1RyYWluaW5nJywgc3ViaGVhZGluZzogJ0dyYWRpZW50cyd9XG4gKi9cbmZ1bmN0aW9uIHZhbHVlQW5kR3JhZDxJIGV4dGVuZHMgVGVuc29yLCBPIGV4dGVuZHMgVGVuc29yPihmOiAoeDogSSkgPT4gTyk6IChcbiAgICB4OiBJLCBkeT86IE8pID0+IHtcbiAgdmFsdWU6IE87XG4gIGdyYWQ6IEk7XG59IHtcbiAgdXRpbC5hc3NlcnQoXG4gICAgICB1dGlsLmlzRnVuY3Rpb24oZiksXG4gICAgICAoKSA9PiAnVGhlIGYgcGFzc2VkIGluIHZhbHVlQW5kR3JhZChmKSBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcbiAgcmV0dXJuICh4OiBJLCBkeT86IE8pID0+IHtcbiAgICB1dGlsLmFzc2VydChcbiAgICAgICAgeCBpbnN0YW5jZW9mIFRlbnNvcixcbiAgICAgICAgKCkgPT4gJ1RoZSB4IHBhc3NlZCBpbiB2YWx1ZUFuZEdyYWQoZikoeCkgbXVzdCBiZSBhIHRlbnNvcicpO1xuICAgIHV0aWwuYXNzZXJ0KFxuICAgICAgICBkeSA9PSBudWxsIHx8IGR5IGluc3RhbmNlb2YgVGVuc29yLFxuICAgICAgICAoKSA9PiAnVGhlIGR5IHBhc3NlZCBpbiB2YWx1ZUFuZEdyYWQoZikoeCwgZHkpIG11c3QgYmUgYSB0ZW5zb3InKTtcbiAgICBjb25zdCB7Z3JhZHMsIHZhbHVlfSA9IEVOR0lORS5ncmFkaWVudHMoKCkgPT4gZih4KSwgW3hdLCBkeSk7XG4gICAgY2hlY2tHcmFkcyhncmFkcyk7XG4gICAgcmV0dXJuIHtncmFkOiBncmFkc1swXSBhcyBJLCB2YWx1ZX07XG4gIH07XG59XG5cbi8qKlxuICogTGlrZSBgdGYuZ3JhZHNgLCBidXQgcmV0dXJucyBhbHNvIHRoZSB2YWx1ZSBvZiBgZigpYC4gVXNlZnVsIHdoZW4gYGYoKWBcbiAqIHJldHVybnMgYSBtZXRyaWMgeW91IHdhbnQgdG8gc2hvdy5cbiAqXG4gKiBUaGUgcmVzdWx0IGlzIGEgcmljaCBvYmplY3Qgd2l0aCB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXM6XG4gKiAtIGdyYWRzOiBUaGUgZ3JhZGllbnRzIG9mIGBmKClgIHcuci50IGVhY2ggaW5wdXQgKHJlc3VsdCBvZiBgdGYuZ3JhZHNgKS5cbiAqIC0gdmFsdWU6IFRoZSB2YWx1ZSByZXR1cm5lZCBieSBgZih4KWAuXG4gKlxuICogYGBganNcbiAqIC8vIGYoYSwgYikgPSBhICogYlxuICogY29uc3QgZiA9IChhLCBiKSA9PiBhLm11bChiKTtcbiAqIC8vIGRmL2RhID0gYiwgZGYvZGIgPSBhXG4gKiBjb25zdCBnID0gdGYudmFsdWVBbmRHcmFkcyhmKTtcbiAqXG4gKiBjb25zdCBhID0gdGYudGVuc29yMWQoWzIsIDNdKTtcbiAqIGNvbnN0IGIgPSB0Zi50ZW5zb3IxZChbLTIsIC0zXSk7XG4gKiBjb25zdCB7dmFsdWUsIGdyYWRzfSA9IGcoW2EsIGJdKTtcbiAqXG4gKiBjb25zdCBbZGEsIGRiXSA9IGdyYWRzO1xuICpcbiAqIGNvbnNvbGUubG9nKCd2YWx1ZScpO1xuICogdmFsdWUucHJpbnQoKTtcbiAqXG4gKiBjb25zb2xlLmxvZygnZGEnKTtcbiAqIGRhLnByaW50KCk7XG4gKiBjb25zb2xlLmxvZygnZGInKTtcbiAqIGRiLnByaW50KCk7XG4gKiBgYGBcbiAqXG4gKiBAZG9jIHtoZWFkaW5nOiAnVHJhaW5pbmcnLCBzdWJoZWFkaW5nOiAnR3JhZGllbnRzJ31cbiAqL1xuZnVuY3Rpb24gdmFsdWVBbmRHcmFkczxPIGV4dGVuZHMgVGVuc29yPihmOiAoLi4uYXJnczogVGVuc29yW10pID0+IE8pOiAoXG4gICAgYXJnczogVGVuc29yW10sIGR5PzogTykgPT4ge1xuICBncmFkczogVGVuc29yW107XG4gIHZhbHVlOiBPO1xufSB7XG4gIHV0aWwuYXNzZXJ0KFxuICAgICAgdXRpbC5pc0Z1bmN0aW9uKGYpLFxuICAgICAgKCkgPT4gJ1RoZSBmIHBhc3NlZCBpbiB2YWx1ZUFuZEdyYWRzKGYpIG11c3QgYmUgYSBmdW5jdGlvbicpO1xuICByZXR1cm4gKGFyZ3M6IFRlbnNvcltdLCBkeT86IE8pID0+IHtcbiAgICB1dGlsLmFzc2VydChcbiAgICAgICAgQXJyYXkuaXNBcnJheShhcmdzKSAmJiBhcmdzLmV2ZXJ5KGFyZyA9PiBhcmcgaW5zdGFuY2VvZiBUZW5zb3IpLFxuICAgICAgICAoKSA9PiAnVGhlIGFyZ3MgcGFzc2VkIGluIHZhbHVlQW5kR3JhZHMoZikoYXJncykgbXVzdCBiZSBhcnJheSBvZiAnICtcbiAgICAgICAgICAgICd0ZW5zb3JzJyk7XG4gICAgdXRpbC5hc3NlcnQoXG4gICAgICAgIGR5ID09IG51bGwgfHwgZHkgaW5zdGFuY2VvZiBUZW5zb3IsXG4gICAgICAgICgpID0+ICdUaGUgZHkgcGFzc2VkIGluIHZhbHVlQW5kR3JhZHMoZikoYXJncywgZHkpIG11c3QgYmUgYSB0ZW5zb3InKTtcbiAgICBjb25zdCByZXMgPSBFTkdJTkUuZ3JhZGllbnRzKCgpID0+IGYoLi4uYXJncyksIGFyZ3MsIGR5KTtcbiAgICBpZiAoZHkgIT0gbnVsbCkge1xuICAgICAgdXRpbC5hc3NlcnRTaGFwZXNNYXRjaChcbiAgICAgICAgICByZXMudmFsdWUuc2hhcGUsIGR5LnNoYXBlLFxuICAgICAgICAgICdUaGUgc2hhcGUgb2YgZHkgcGFzc2VkIGluIHZhbHVlQW5kR3JhZHMoZikoW3gxLC4uLl0sIGR5KSBtdXN0ICcgK1xuICAgICAgICAgICAgICAnbWF0Y2ggdGhlIHNoYXBlIHJldHVybmVkIGJ5IGYoW3gxLC4uLl0pJyk7XG4gICAgfVxuICAgIGNoZWNrR3JhZHMocmVzLmdyYWRzKTtcbiAgICByZXR1cm4gcmVzO1xuICB9O1xufVxuXG4vKipcbiAqIENvbXB1dGVzIGFuZCByZXR1cm5zIHRoZSBncmFkaWVudCBvZiBmKHgpIHdpdGggcmVzcGVjdCB0byB0aGUgbGlzdCBvZlxuICogdHJhaW5hYmxlIHZhcmlhYmxlcyBwcm92aWRlZCBieSBgdmFyTGlzdGAuIElmIG5vIGxpc3QgaXMgcHJvdmlkZWQsIGl0XG4gKiBkZWZhdWx0cyB0byBhbGwgdHJhaW5hYmxlIHZhcmlhYmxlcy5cbiAqXG4gKiBgYGBqc1xuICogY29uc3QgYSA9IHRmLnZhcmlhYmxlKHRmLnRlbnNvcjFkKFszLCA0XSkpO1xuICogY29uc3QgYiA9IHRmLnZhcmlhYmxlKHRmLnRlbnNvcjFkKFs1LCA2XSkpO1xuICogY29uc3QgeCA9IHRmLnRlbnNvcjFkKFsxLCAyXSk7XG4gKlxuICogLy8gZihhLCBiKSA9IGEgKiB4IF4gMiArIGIgKiB4XG4gKiBjb25zdCBmID0gKCkgPT4gYS5tdWwoeC5zcXVhcmUoKSkuYWRkKGIubXVsKHgpKS5zdW0oKTtcbiAqIC8vIGRmL2RhID0geCBeIDIsIGRmL2RiID0geFxuICogY29uc3Qge3ZhbHVlLCBncmFkc30gPSB0Zi52YXJpYWJsZUdyYWRzKGYpO1xuICpcbiAqIE9iamVjdC5rZXlzKGdyYWRzKS5mb3JFYWNoKHZhck5hbWUgPT4gZ3JhZHNbdmFyTmFtZV0ucHJpbnQoKSk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gZiBUaGUgZnVuY3Rpb24gdG8gZXhlY3V0ZS4gZigpIHNob3VsZCByZXR1cm4gYSBzY2FsYXIuXG4gKiBAcGFyYW0gdmFyTGlzdCBUaGUgbGlzdCBvZiB2YXJpYWJsZXMgdG8gY29tcHV0ZSB0aGUgZ3JhZGllbnRzIHdpdGggcmVzcGVjdFxuICogICAgIHRvLiBEZWZhdWx0cyB0byBhbGwgdHJhaW5hYmxlIHZhcmlhYmxlcy5cbiAqIEByZXR1cm5zIEFuIG9iamVjdCB3aXRoIHRoZSBmb2xsb3dpbmcga2V5cyBhbmQgdmFsdWVzOlxuICogICAtIGB2YWx1ZWA6IFRoZSB2YWx1ZSBvZiB0aGUgZnVuY3Rpb24gYGZgLlxuICogICAtIGBncmFkc2A6IEEgbWFwIGZyb20gdGhlIG5hbWVzIG9mIHRoZSB2YXJpYWJsZXMgdG8gdGhlIGdyYWRpZW50cy5cbiAqICAgICBJZiB0aGUgYHZhckxpc3RgIGFyZ3VtZW50IGlzIHByb3ZpZGVkIGV4cGxpY2l0bHkgYW5kIGNvbnRhaW5zIGEgc3Vic2V0IG9mXG4gKiAgICAgbm9uLXRyYWluYWJsZSB2YXJpYWJsZXMsIHRoaXMgbWFwIGluIHRoZSByZXR1cm4gdmFsdWUgd2lsbCBjb250YWluIGtleXNcbiAqICAgICB0aGF0IG1hcCB0aGUgbmFtZXMgb2YgdGhlIG5vbi10cmFpbmFibGUgdmFyaWFibGVzIHRvIGBudWxsYC5cbiAqXG4gKiBAZG9jIHtoZWFkaW5nOiAnVHJhaW5pbmcnLCBzdWJoZWFkaW5nOiAnR3JhZGllbnRzJ31cbiAqL1xuZnVuY3Rpb24gdmFyaWFibGVHcmFkcyhmOiAoKSA9PiBTY2FsYXIsIHZhckxpc3Q/OiBWYXJpYWJsZVtdKTpcbiAgICB7dmFsdWU6IFNjYWxhciwgZ3JhZHM6IE5hbWVkVGVuc29yTWFwfSB7XG4gIHV0aWwuYXNzZXJ0KFxuICAgICAgdXRpbC5pc0Z1bmN0aW9uKGYpLFxuICAgICAgKCkgPT4gJ1RoZSBmIHBhc3NlZCBpbiB2YXJpYWJsZUdyYWRzKGYpIG11c3QgYmUgYSBmdW5jdGlvbicpO1xuICB1dGlsLmFzc2VydChcbiAgICAgIHZhckxpc3QgPT0gbnVsbCB8fFxuICAgICAgICAgIEFycmF5LmlzQXJyYXkodmFyTGlzdCkgJiYgdmFyTGlzdC5ldmVyeSh2ID0+IHYgaW5zdGFuY2VvZiBWYXJpYWJsZSksXG4gICAgICAoKSA9PlxuICAgICAgICAgICdUaGUgdmFyTGlzdCBwYXNzZWQgaW4gdmFyaWFibGVHcmFkcyhmLCB2YXJMaXN0KSBtdXN0IGJlIGFuIGFycmF5ICcgK1xuICAgICAgICAgICdvZiB2YXJpYWJsZXMnKTtcblxuICBjb25zdCBzcGVjaWZpZWRWYXJMaXN0ID0gdmFyTGlzdCAhPSBudWxsO1xuICBpZiAoIXNwZWNpZmllZFZhckxpc3QpIHtcbiAgICAvLyBHZXQgYWxsIG9mIHRoZSB0cmFpbmFibGUgdmFyaWFibGVzLlxuICAgIHZhckxpc3QgPSBbXTtcbiAgICBmb3IgKGNvbnN0IHZhck5hbWUgaW4gRU5HSU5FLnJlZ2lzdGVyZWRWYXJpYWJsZXMpIHtcbiAgICAgIHZhckxpc3QucHVzaChFTkdJTkUucmVnaXN0ZXJlZFZhcmlhYmxlc1t2YXJOYW1lXSk7XG4gICAgfVxuICB9XG5cbiAgY29uc3Qgc3BlY2lmaWVkTm9uVHJhaW5hYmxlOiBWYXJpYWJsZVtdID1cbiAgICAgIHNwZWNpZmllZFZhckxpc3QgPyB2YXJMaXN0LmZpbHRlcih2YXJpYWJsZSA9PiAhdmFyaWFibGUudHJhaW5hYmxlKSA6IG51bGw7XG5cbiAgLy8gUHJ1bmUgbm9uLXRyYWluYWJsZSB2YXJpYWJsZXMuXG4gIGNvbnN0IG9yaWdpbmFsVmFyQ291bnQgPSB2YXJMaXN0Lmxlbmd0aDtcbiAgdmFyTGlzdCA9IHZhckxpc3QuZmlsdGVyKHZhcmlhYmxlID0+IHZhcmlhYmxlLnRyYWluYWJsZSk7XG4gIHV0aWwuYXNzZXJ0KFxuICAgICAgdmFyTGlzdC5sZW5ndGggPiAwLFxuICAgICAgKCkgPT4gYHZhcmlhYmxlR3JhZHMoKSBleHBlY3RzIGF0IGxlYXN0IG9uZSBvZiB0aGUgaW5wdXQgdmFyaWFibGVzIHRvIGAgK1xuICAgICAgICAgIGBiZSB0cmFpbmFibGUsIGJ1dCBub25lIG9mIHRoZSAke29yaWdpbmFsVmFyQ291bnR9IHZhcmlhYmxlcyBpcyBgICtcbiAgICAgICAgICBgdHJhaW5hYmxlLmApO1xuXG4gIGNvbnN0IGFsbG93Tm9HcmFkaWVudHMgPSB0cnVlO1xuICBjb25zdCB7dmFsdWUsIGdyYWRzfSA9IEVOR0lORS5ncmFkaWVudHMoZiwgdmFyTGlzdCwgbnVsbCwgYWxsb3dOb0dyYWRpZW50cyk7XG5cbiAgdXRpbC5hc3NlcnQoXG4gICAgICBncmFkcy5zb21lKGcgPT4gZyAhPSBudWxsKSxcbiAgICAgICgpID0+ICdDYW5ub3QgZmluZCBhIGNvbm5lY3Rpb24gYmV0d2VlbiBhbnkgdmFyaWFibGUgYW5kIHRoZSByZXN1bHQgb2YgJyArXG4gICAgICAgICAgJ3RoZSBsb3NzIGZ1bmN0aW9uIHk9Zih4KS4gUGxlYXNlIG1ha2Ugc3VyZSB0aGUgb3BlcmF0aW9ucyB0aGF0ICcgK1xuICAgICAgICAgICd1c2UgdmFyaWFibGVzIGFyZSBpbnNpZGUgdGhlIGZ1bmN0aW9uIGYgcGFzc2VkIHRvIG1pbmltaXplKCkuJyk7XG4gIHV0aWwuYXNzZXJ0KFxuICAgICAgdmFsdWUucmFuayA9PT0gMCxcbiAgICAgICgpID0+IGBUaGUgZiBwYXNzZWQgaW4gdmFyaWFibGVHcmFkcyhmKSBtdXN0IHJldHVybiBhIHNjYWxhciwgYnV0IGl0IGAgK1xuICAgICAgICAgIGByZXR1cm5lZCBhIHJhbmstJHt2YWx1ZS5yYW5rfSB0ZW5zb3JgKTtcblxuICBjb25zdCBuYW1lZEdyYWRzOiBOYW1lZFRlbnNvck1hcCA9IHt9O1xuICB2YXJMaXN0LmZvckVhY2goKHYsIGkpID0+IHtcbiAgICBpZiAoZ3JhZHNbaV0gIT0gbnVsbCkge1xuICAgICAgbmFtZWRHcmFkc1t2Lm5hbWVdID0gZ3JhZHNbaV07XG4gICAgfVxuICB9KTtcbiAgaWYgKHNwZWNpZmllZE5vblRyYWluYWJsZSAhPSBudWxsKSB7XG4gICAgLy8gSWYgdmFyTGlzdCBpcyBleHBsaWNpdGx5IHByb3ZpZGVkIGFuZCBjb250YWlucyBub24tdHJhaW5hYmxlIHZhbHVlcyxcbiAgICAvLyBhZGQgdGhlbSB0byB0aGUgcmV0dXJuZWQgZ3JhZGllbnRzIHdpdGggYG51bGxgIHZhbHVlcy5cbiAgICBzcGVjaWZpZWROb25UcmFpbmFibGUuZm9yRWFjaCh2ID0+IG5hbWVkR3JhZHNbdi5uYW1lXSA9IG51bGwpO1xuICB9XG4gIHJldHVybiB7dmFsdWUsIGdyYWRzOiBuYW1lZEdyYWRzfTtcbn1cblxuLyoqXG4gKiBPdmVycmlkZXMgdGhlIGdyYWRpZW50IGNvbXB1dGF0aW9uIG9mIGEgZnVuY3Rpb24gYGZgLlxuICpcbiAqIFRha2VzIGEgZnVuY3Rpb25cbiAqIGBmKC4uLmlucHV0cywgc2F2ZSkgPT4ge3ZhbHVlOiBUZW5zb3IsIGdyYWRGdW5jOiAoZHksIHNhdmVkKSA9PiBUZW5zb3JbXX1gXG4gKiBhbmQgcmV0dXJucyBhbm90aGVyIGZ1bmN0aW9uIGBnKC4uLmlucHV0cylgIHdoaWNoIHRha2VzIHRoZSBzYW1lIGlucHV0cyBhc1xuICogYGZgLiBXaGVuIGNhbGxlZCwgYGdgIHJldHVybnMgYGYoKS52YWx1ZWAuIEluIGJhY2t3YXJkIG1vZGUsIGN1c3RvbSBncmFkaWVudHNcbiAqIHdpdGggcmVzcGVjdCB0byBlYWNoIGlucHV0IG9mIGBmYCBhcmUgY29tcHV0ZWQgdXNpbmcgYGYoKS5ncmFkRnVuY2AuXG4gKlxuICogVGhlIGBzYXZlYCBmdW5jdGlvbiBwYXNzc2VkIHRvIGBmYCBzaG91bGQgYmUgdXNlZCBmb3Igc2F2aW5nIHRlbnNvcnMgbmVlZGVkXG4gKiBpbiB0aGUgZ3JhZGllbnQuIEFuZCB0aGUgYHNhdmVkYCBwYXNzZWQgdG8gdGhlIGBncmFkRnVuY2AgaXMgYVxuICogYE5hbWVkVGVuc29yTWFwYCwgd2hpY2ggY29udGFpbnMgdGhvc2Ugc2F2ZWQgdGVuc29yLlxuICpcbiAqIGBgYGpzXG4gKiBjb25zdCBjdXN0b21PcCA9IHRmLmN1c3RvbUdyYWQoKHgsIHNhdmUpID0+IHtcbiAqICAgLy8gU2F2ZSB4IHRvIG1ha2Ugc3VyZSBpdCdzIGF2YWlsYWJsZSBsYXRlciBmb3IgdGhlIGdyYWRpZW50LlxuICogICBzYXZlKFt4XSk7XG4gKiAgIC8vIE92ZXJyaWRlIGdyYWRpZW50IG9mIG91ciBjdXN0b20geCBeIDIgb3AgdG8gYmUgZHkgKiBhYnMoeCk7XG4gKiAgIHJldHVybiB7XG4gKiAgICAgdmFsdWU6IHguc3F1YXJlKCksXG4gKiAgICAgLy8gTm90ZSBgc2F2ZWQueGAgd2hpY2ggcG9pbnRzIHRvIHRoZSBgeGAgd2Ugc2F2ZWQgZWFybGllci5cbiAqICAgICBncmFkRnVuYzogKGR5LCBzYXZlZCkgPT4gW2R5Lm11bChzYXZlZFswXS5hYnMoKSldXG4gKiAgIH07XG4gKiB9KTtcbiAqXG4gKiBjb25zdCB4ID0gdGYudGVuc29yMWQoWy0xLCAtMiwgM10pO1xuICogY29uc3QgZHggPSB0Zi5ncmFkKHggPT4gY3VzdG9tT3AoeCkpO1xuICpcbiAqIGNvbnNvbGUubG9nKGBmKHgpOmApO1xuICogY3VzdG9tT3AoeCkucHJpbnQoKTtcbiAqIGNvbnNvbGUubG9nKGBmJyh4KTpgKTtcbiAqIGR4KHgpLnByaW50KCk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gZiBUaGUgZnVuY3Rpb24gdG8gZXZhbHVhdGUgaW4gZm9yd2FyZCBtb2RlLCB3aGljaCBzaG91bGQgcmV0dXJuXG4gKiAgICAgYHt2YWx1ZTogVGVuc29yLCBncmFkRnVuYzogKGR5LCBzYXZlZCkgPT4gVGVuc29yW119YCwgd2hlcmUgYGdyYWRGdW5jYFxuICogICAgIHJldHVybnMgdGhlIGN1c3RvbSBncmFkaWVudHMgb2YgYGZgIHdpdGggcmVzcGVjdCB0byBpdHMgaW5wdXRzLlxuICpcbiAqIEBkb2Mge2hlYWRpbmc6ICdUcmFpbmluZycsIHN1YmhlYWRpbmc6ICdHcmFkaWVudHMnfVxuICovXG5mdW5jdGlvbiBjdXN0b21HcmFkPFQgZXh0ZW5kcyBUZW5zb3I+KGY6IEN1c3RvbUdyYWRpZW50RnVuYzxUPik6XG4gICAgKC4uLmFyZ3M6IFRlbnNvcltdKSA9PiBUIHtcbiAgcmV0dXJuIEVOR0lORS5jdXN0b21HcmFkKGYpO1xufVxuXG5mdW5jdGlvbiBjaGVja0dyYWRzKGdyYWRzOiBUZW5zb3JbXSkge1xuICBjb25zdCBudW1OdWxsR3JhZGllbnRzID0gZ3JhZHMuZmlsdGVyKGcgPT4gZyA9PSBudWxsKS5sZW5ndGg7XG4gIGlmIChudW1OdWxsR3JhZGllbnRzID4gMCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgYENhbm5vdCBjb21wdXRlIGdyYWRpZW50IG9mIHk9Zih4KSB3aXRoIHJlc3BlY3QgdG8geC4gTWFrZSBzdXJlIHRoYXRcbiAgICB0aGUgZiB5b3UgcGFzc2VkIGVuY2xvc2VzIGFsbCBvcGVyYXRpb25zIHRoYXQgbGVhZCBmcm9tIHggdG8geS5gKTtcbiAgfVxufVxuXG5leHBvcnQge1xuICBjdXN0b21HcmFkLFxuICB2YXJpYWJsZUdyYWRzLFxuICB2YWx1ZUFuZEdyYWQsXG4gIHZhbHVlQW5kR3JhZHMsXG4gIGdyYWQsXG4gIGdyYWRzLFxufTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE4IEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuaW1wb3J0IHtFTkdJTkV9IGZyb20gJy4uL2VuZ2luZSc7XG5pbXBvcnQge05lZ2F0ZSwgTmVnYXRlSW5wdXRzfSBmcm9tICcuLi9rZXJuZWxfbmFtZXMnO1xuaW1wb3J0IHtUZW5zb3J9IGZyb20gJy4uL3RlbnNvcic7XG5pbXBvcnQge05hbWVkVGVuc29yTWFwfSBmcm9tICcuLi90ZW5zb3JfdHlwZXMnO1xuaW1wb3J0IHtjb252ZXJ0VG9UZW5zb3J9IGZyb20gJy4uL3RlbnNvcl91dGlsX2Vudic7XG5pbXBvcnQge1RlbnNvckxpa2V9IGZyb20gJy4uL3R5cGVzJztcblxuaW1wb3J0IHtvcH0gZnJvbSAnLi9vcGVyYXRpb24nO1xuXG4vKipcbiAqIENvbXB1dGVzIGAtMSAqIHhgIGVsZW1lbnQtd2lzZS5cbiAqXG4gKiBgYGBqc1xuICogY29uc3QgeCA9IHRmLnRlbnNvcjJkKFsxLCAyLCAtMiwgMF0sIFsyLCAyXSk7XG4gKlxuICogeC5uZWcoKS5wcmludCgpOyAgLy8gb3IgdGYubmVnKHgpXG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0geCBUaGUgaW5wdXQgdGVuc29yLlxuICpcbiAqIEBkb2Mge2hlYWRpbmc6ICdPcGVyYXRpb25zJywgc3ViaGVhZGluZzogJ0Jhc2ljIG1hdGgnfVxuICovXG5mdW5jdGlvbiBuZWdfPFQgZXh0ZW5kcyBUZW5zb3I+KHg6IFR8VGVuc29yTGlrZSk6IFQge1xuICBjb25zdCAkeCA9IGNvbnZlcnRUb1RlbnNvcih4LCAneCcsICduZWcnKTtcblxuICBjb25zdCBpbnB1dHM6IE5lZ2F0ZUlucHV0cyA9IHt4OiAkeH07XG4gIHJldHVybiBFTkdJTkUucnVuS2VybmVsRnVuYyhcbiAgICAgIGJhY2tlbmQgPT4gYmFja2VuZC5uZWcoJHgpLCBpbnB1dHMgYXMge30gYXMgTmFtZWRUZW5zb3JNYXAsXG4gICAgICBudWxsIC8qIGdyYWQgKi8sIE5lZ2F0ZSk7XG59XG5leHBvcnQgY29uc3QgbmVnID0gb3Aoe25lZ199KTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE4IEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuaW1wb3J0IHtFTkdJTkV9IGZyb20gJy4uL2VuZ2luZSc7XG5pbXBvcnQge1NvZnRwbHVzLCBTb2Z0cGx1c0lucHV0c30gZnJvbSAnLi4va2VybmVsX25hbWVzJztcbmltcG9ydCB7VGVuc29yfSBmcm9tICcuLi90ZW5zb3InO1xuaW1wb3J0IHtOYW1lZFRlbnNvck1hcH0gZnJvbSAnLi4vdGVuc29yX3R5cGVzJztcbmltcG9ydCB7Y29udmVydFRvVGVuc29yfSBmcm9tICcuLi90ZW5zb3JfdXRpbF9lbnYnO1xuaW1wb3J0IHtUZW5zb3JMaWtlfSBmcm9tICcuLi90eXBlcyc7XG5cbmltcG9ydCB7b3B9IGZyb20gJy4vb3BlcmF0aW9uJztcblxuLyoqXG4gKiBDb21wdXRlcyBzb2Z0cGx1cyBvZiB0aGUgaW5wdXQgYHRmLlRlbnNvcmAgZWxlbWVudC13aXNlOiBgbG9nKGV4cCh4KSArIDEpYFxuICpcbiAqIGBgYGpzXG4gKiBjb25zdCB4ID0gdGYudGVuc29yMWQoWzAsIDEsIC0xLCAuN10pO1xuICpcbiAqIHguc29mdHBsdXMoKS5wcmludCgpOyAgLy8gb3IgdGYuc29mdHBsdXMoeClcbiAqIGBgYFxuICogQHBhcmFtIHggVGhlIGlucHV0IHRlbnNvci5cbiAqXG4gKiBAZG9jIHtoZWFkaW5nOiAnT3BlcmF0aW9ucycsIHN1YmhlYWRpbmc6ICdCYXNpYyBtYXRoJ31cbiAqL1xuZnVuY3Rpb24gc29mdHBsdXNfPFQgZXh0ZW5kcyBUZW5zb3I+KHg6IFR8VGVuc29yTGlrZSk6IFQge1xuICBjb25zdCAkeCA9IGNvbnZlcnRUb1RlbnNvcih4LCAneCcsICdzb2Z0cGx1cycpO1xuXG4gIGNvbnN0IGlucHV0czogU29mdHBsdXNJbnB1dHMgPSB7eDogJHh9O1xuICByZXR1cm4gRU5HSU5FLnJ1bktlcm5lbEZ1bmMoKGJhY2tlbmQsIHNhdmUpID0+IHtcbiAgICBjb25zdCByZXMgPSBiYWNrZW5kLnNvZnRwbHVzKCR4KTtcbiAgICBzYXZlKFskeF0pO1xuICAgIHJldHVybiByZXM7XG4gIH0sIGlucHV0cyBhcyB7fSBhcyBOYW1lZFRlbnNvck1hcCwgbnVsbCAvKiBncmFkICovLCBTb2Z0cGx1cyk7XG59XG5leHBvcnQgY29uc3Qgc29mdHBsdXMgPSBvcCh7c29mdHBsdXNffSk7XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbmltcG9ydCB7Y3VzdG9tR3JhZH0gZnJvbSAnLi4vZ3JhZGllbnRzJztcbmltcG9ydCB7VGVuc29yfSBmcm9tICcuLi90ZW5zb3InO1xuaW1wb3J0IHtjb252ZXJ0VG9UZW5zb3J9IGZyb20gJy4uL3RlbnNvcl91dGlsX2Vudic7XG5pbXBvcnQge1RlbnNvckxpa2V9IGZyb20gJy4uL3R5cGVzJztcblxuaW1wb3J0IHttdWx9IGZyb20gJy4vbXVsJztcbmltcG9ydCB7bmVnfSBmcm9tICcuL25lZyc7XG5pbXBvcnQge29wfSBmcm9tICcuL29wZXJhdGlvbic7XG5pbXBvcnQge3NpZ21vaWR9IGZyb20gJy4vc2lnbW9pZCc7XG5pbXBvcnQge3NvZnRwbHVzfSBmcm9tICcuL3NvZnRwbHVzJztcblxuLyoqXG4gKiBDb21wdXRlcyBsb2cgc2lnbW9pZCBvZiB0aGUgaW5wdXQgYHRmLlRlbnNvcmAgZWxlbWVudC13aXNlOlxuICogYGxvZ1NpZ21vaWQoeClgLiBGb3IgbnVtZXJpY2FsIHN0YWJpbGl0eSwgd2UgdXNlIGAtdGYuc29mdHBsdXMoLXgpYC5cbiAqXG4gKiBgYGBqc1xuICogY29uc3QgeCA9IHRmLnRlbnNvcjFkKFswLCAxLCAtMSwgLjddKTtcbiAqXG4gKiB4LmxvZ1NpZ21vaWQoKS5wcmludCgpOyAgLy8gb3IgdGYubG9nU2lnbW9pZCh4KVxuICogYGBgXG4gKiBAcGFyYW0geCBUaGUgaW5wdXQgdGVuc29yLlxuICpcbiAqIEBkb2Mge2hlYWRpbmc6ICdPcGVyYXRpb25zJywgc3ViaGVhZGluZzogJ0Jhc2ljIG1hdGgnfVxuICovXG5mdW5jdGlvbiBsb2dTaWdtb2lkXzxUIGV4dGVuZHMgVGVuc29yPih4OiBUfFRlbnNvckxpa2UpOiBUIHtcbiAgY29uc3QgJHggPSBjb252ZXJ0VG9UZW5zb3IoeCwgJ3gnLCAnbG9nU2lnbW9pZCcpO1xuXG4gIC8vIFVzZSBhIGN1c3RvbSBncmFkaWVudCB0byBtYWludGFpbiBwcmV2aW91cyBpbXBsZW1lbnRhdGlvbi5cbiAgLy8gVGhlcmUgaXMgbm8gTG9nU2lnbW9pZCBrZXJuZWwgaW4gVEYgc28gd2UgY2FuJ3QgdXNlIGVuZ2luZS5ydW5LZXJuZWxcbiAgLy8gZGlyZWN0bHlcbiAgY29uc3QgY3VzdG9tT3AgPSBjdXN0b21HcmFkKCh4OiBUZW5zb3IpID0+IHtcbiAgICAvLyBUT0RPKHlhc3NvZ2JhKSB3ZSBjYW4gcmVtb3ZlIHRoZSBjaGFpbmVkIHNvZnRwbHVzIGNhbGwgaGVyZSBvbmx5XG4gICAgLy8gYWZ0ZXIgYmFja2VuZHMgaGF2ZSBtb2R1YWxyaXplZCBzb2Z0cGx1cyBhdCB3aGljaCBwb2ludCB3ZSBjYW4gY2FsbFxuICAgIC8vIGVuZ2luZSBydW5LZXJuZWwoLi4uLCBTb3RmcGx1cywgLi4uKSBkaXJlY3RseS5cbiAgICBjb25zdCB2YWx1ZSA9IG5lZyhzb2Z0cGx1cyhuZWcoeCkpKTtcblxuICAgIGNvbnN0IGdyYWRGdW5jID0gKGR5OiBUKSA9PiB7XG4gICAgICBjb25zdCBkZXJYID0gbXVsKGR5LCBzaWdtb2lkKG5lZyh4KSkpO1xuICAgICAgcmV0dXJuIGRlclg7XG4gICAgfTtcbiAgICByZXR1cm4ge3ZhbHVlLCBncmFkRnVuY307XG4gIH0pO1xuXG4gIHJldHVybiBjdXN0b21PcCgkeCkgYXMgVDtcbn1cbmV4cG9ydCBjb25zdCBsb2dTaWdtb2lkID0gb3Aoe2xvZ1NpZ21vaWRffSk7XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbmltcG9ydCB7S2VybmVsQmFja2VuZH0gZnJvbSAnLi4vYmFja2VuZHMvYmFja2VuZCc7XG5pbXBvcnQge0VOR0lORSwgRm9yd2FyZEZ1bmN9IGZyb20gJy4uL2VuZ2luZSc7XG5pbXBvcnQge01heCwgTWF4QXR0cnMsIE1heElucHV0c30gZnJvbSAnLi4va2VybmVsX25hbWVzJztcbmltcG9ydCB7TmFtZWRBdHRyTWFwfSBmcm9tICcuLi9rZXJuZWxfcmVnaXN0cnknO1xuaW1wb3J0IHtUZW5zb3J9IGZyb20gJy4uL3RlbnNvcic7XG5pbXBvcnQge0dyYWRTYXZlRnVuYywgTmFtZWRUZW5zb3JNYXB9IGZyb20gJy4uL3RlbnNvcl90eXBlcyc7XG5pbXBvcnQge2NvbnZlcnRUb1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yX3V0aWxfZW52JztcbmltcG9ydCB7VGVuc29yTGlrZX0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0ICogYXMgdXRpbCBmcm9tICcuLi91dGlsJztcblxuaW1wb3J0ICogYXMgYXhpc191dGlsIGZyb20gJy4vYXhpc191dGlsJztcbmltcG9ydCB7b3B9IGZyb20gJy4vb3BlcmF0aW9uJztcbmltcG9ydCB7cmVzaGFwZX0gZnJvbSAnLi9yZXNoYXBlJztcbmltcG9ydCB7dHJhbnNwb3NlfSBmcm9tICcuL3RyYW5zcG9zZSc7XG5cbi8qKlxuICogQ29tcHV0ZXMgdGhlIG1heGltdW0gb2YgZWxlbWVudHMgYWNyb3NzIGRpbWVuc2lvbnMgb2YgYSBgdGYuVGVuc29yYC5cbiAqXG4gKiBSZWR1Y2VzIHRoZSBpbnB1dCBhbG9uZyB0aGUgZGltZW5zaW9ucyBnaXZlbiBpbiBgYXhlc2AuIFVubGVzcyBga2VlcERpbXNgXG4gKiBpcyB0cnVlLCB0aGUgcmFuayBvZiB0aGUgYHRmLlRlbnNvcmAgaXMgcmVkdWNlZCBieSAxIGZvciBlYWNoIGVudHJ5IGluXG4gKiBgYXhlc2AuIElmIGBrZWVwRGltc2AgaXMgdHJ1ZSwgdGhlIHJlZHVjZWQgZGltZW5zaW9ucyBhcmUgcmV0YWluZWQgd2l0aFxuICogbGVuZ3RoIDEuIElmIGBheGVzYCBoYXMgbm8gZW50cmllcywgYWxsIGRpbWVuc2lvbnMgYXJlIHJlZHVjZWQsIGFuZCBhblxuICogYHRmLlRlbnNvcmAgd2l0aCBhIHNpbmdsZSBlbGVtZW50IGlzIHJldHVybmVkLlxuICpcbiAqIGBgYGpzXG4gKiBjb25zdCB4ID0gdGYudGVuc29yMWQoWzEsIDIsIDNdKTtcbiAqXG4gKiB4Lm1heCgpLnByaW50KCk7ICAvLyBvciB0Zi5tYXgoeClcbiAqIGBgYFxuICpcbiAqIGBgYGpzXG4gKiBjb25zdCB4ID0gdGYudGVuc29yMmQoWzEsIDIsIDMsIDRdLCBbMiwgMl0pO1xuICpcbiAqIGNvbnN0IGF4aXMgPSAxO1xuICogeC5tYXgoYXhpcykucHJpbnQoKTsgIC8vIG9yIHRmLm1heCh4LCBheGlzKVxuICogYGBgXG4gKlxuICogQHBhcmFtIHggVGhlIGlucHV0IHRlbnNvci5cbiAqIEBwYXJhbSBheGlzIFRoZSBkaW1lbnNpb24ocykgdG8gcmVkdWNlLiBCeSBkZWZhdWx0IGl0IHJlZHVjZXNcbiAqICAgICBhbGwgZGltZW5zaW9ucy5cbiAqIEBwYXJhbSBrZWVwRGltcyBJZiB0cnVlLCByZXRhaW5zIHJlZHVjZWQgZGltZW5zaW9ucyB3aXRoIHNpemUgMS5cbiAqXG4gKiBAZG9jIHtoZWFkaW5nOiAnT3BlcmF0aW9ucycsIHN1YmhlYWRpbmc6ICdSZWR1Y3Rpb24nfVxuICovXG5mdW5jdGlvbiBtYXhfPFQgZXh0ZW5kcyBUZW5zb3I+KFxuICAgIHg6IFRlbnNvcnxUZW5zb3JMaWtlLCBheGlzOiBudW1iZXJ8bnVtYmVyW10gPSBudWxsLCBrZWVwRGltcyA9IGZhbHNlKTogVCB7XG4gIGNvbnN0ICR4ID0gY29udmVydFRvVGVuc29yKHgsICd4JywgJ21heCcpO1xuICBjb25zdCBmb3J3YXJkOiBGb3J3YXJkRnVuYzxUZW5zb3I+ID1cbiAgICAgIChiYWNrZW5kOiBLZXJuZWxCYWNrZW5kLCBzYXZlOiBHcmFkU2F2ZUZ1bmMpID0+IHtcbiAgICAgICAgY29uc3Qgb3JpZ0F4ZXMgPSB1dGlsLnBhcnNlQXhpc1BhcmFtKGF4aXMsICR4LnNoYXBlKTtcbiAgICAgICAgbGV0IGF4ZXMgPSBvcmlnQXhlcztcbiAgICAgICAgY29uc3QgcGVybXV0ZWRBeGVzID0gYXhpc191dGlsLmdldEF4ZXNQZXJtdXRhdGlvbihheGVzLCAkeC5yYW5rKTtcbiAgICAgICAgbGV0IG1heElucHV0ID0gJHg7XG4gICAgICAgIGlmIChwZXJtdXRlZEF4ZXMgIT0gbnVsbCkge1xuICAgICAgICAgIG1heElucHV0ID0gdHJhbnNwb3NlKCR4LCBwZXJtdXRlZEF4ZXMpO1xuICAgICAgICAgIGF4ZXMgPSBheGlzX3V0aWwuZ2V0SW5uZXJNb3N0QXhlcyhheGVzLmxlbmd0aCwgbWF4SW5wdXQucmFuayk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB5ID0gYmFja2VuZC5tYXgobWF4SW5wdXQsIGF4ZXMpO1xuICAgICAgICBpZiAocGVybXV0ZWRBeGVzICE9IG51bGwpIHtcbiAgICAgICAgICBtYXhJbnB1dC5kaXNwb3NlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgcmVzID0geTtcbiAgICAgICAgaWYgKGtlZXBEaW1zKSB7XG4gICAgICAgICAgY29uc3QgZXhwYW5kZWRTaGFwZSA9IGF4aXNfdXRpbC5leHBhbmRTaGFwZVRvS2VlcERpbShcbiAgICAgICAgICAgICAgcmVzLnNoYXBlLCB1dGlsLnBhcnNlQXhpc1BhcmFtKGF4aXMsICR4LnNoYXBlKSk7XG4gICAgICAgICAgcmVzID0gcmVzaGFwZShyZXMsIGV4cGFuZGVkU2hhcGUpIGFzIFQ7XG4gICAgICAgICAgeS5kaXNwb3NlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBzYXZlKFskeCwgcmVzXSk7XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgICB9O1xuXG4gIGNvbnN0IGlucHV0czogTWF4SW5wdXRzID0ge3g6ICR4fTtcbiAgY29uc3QgYXR0cnM6IE1heEF0dHJzID0ge3JlZHVjdGlvbkluZGljZXM6IGF4aXMsIGtlZXBEaW1zfTtcblxuICByZXR1cm4gRU5HSU5FLnJ1bktlcm5lbEZ1bmMoXG4gICAgICAgICAgICAgZm9yd2FyZCwgaW5wdXRzIGFzIHt9IGFzIE5hbWVkVGVuc29yTWFwLCBudWxsIC8qIGdyYWRpZW50ICovLCBNYXgsXG4gICAgICAgICAgICAgYXR0cnMgYXMge30gYXMgTmFtZWRBdHRyTWFwKSBhcyBUO1xufVxuXG5leHBvcnQgY29uc3QgbWF4ID0gb3Aoe21heF99KTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cbmltcG9ydCB7RU5HSU5FLCBGb3J3YXJkRnVuY30gZnJvbSAnLi4vZW5naW5lJztcbmltcG9ydCB7U3ViLCBTdWJJbnB1dHN9IGZyb20gJy4uL2tlcm5lbF9uYW1lcyc7XG5pbXBvcnQge1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yJztcbmltcG9ydCB7TmFtZWRUZW5zb3JNYXB9IGZyb20gJy4uL3RlbnNvcl90eXBlcyc7XG5pbXBvcnQge21ha2VUeXBlc01hdGNofSBmcm9tICcuLi90ZW5zb3JfdXRpbCc7XG5pbXBvcnQge2NvbnZlcnRUb1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yX3V0aWxfZW52JztcbmltcG9ydCB7VGVuc29yTGlrZX0gZnJvbSAnLi4vdHlwZXMnO1xuXG5pbXBvcnQge29wfSBmcm9tICcuL29wZXJhdGlvbic7XG5cbi8qKlxuICogU3VidHJhY3RzIHR3byBgdGYuVGVuc29yYHMgZWxlbWVudC13aXNlLCBBIC0gQi4gU3VwcG9ydHMgYnJvYWRjYXN0aW5nLlxuICpcbiAqIGBgYGpzXG4gKiBjb25zdCBhID0gdGYudGVuc29yMWQoWzEwLCAyMCwgMzAsIDQwXSk7XG4gKiBjb25zdCBiID0gdGYudGVuc29yMWQoWzEsIDIsIDMsIDRdKTtcbiAqXG4gKiBhLnN1YihiKS5wcmludCgpOyAgLy8gb3IgdGYuc3ViKGEsIGIpXG4gKiBgYGBcbiAqXG4gKiBgYGBqc1xuICogLy8gQnJvYWRjYXN0IHN1YnRyYWN0IGEgd2l0aCBiLlxuICogY29uc3QgYSA9IHRmLnRlbnNvcjFkKFsxMCwgMjAsIDMwLCA0MF0pO1xuICogY29uc3QgYiA9IHRmLnNjYWxhcig1KTtcbiAqXG4gKiBhLnN1YihiKS5wcmludCgpOyAgLy8gb3IgdGYuc3ViKGEsIGIpXG4gKiBgYGBcbiAqIEBwYXJhbSBhIFRoZSBmaXJzdCBgdGYuVGVuc29yYCB0byBzdWJ0cmFjdCBmcm9tLlxuICogQHBhcmFtIGIgVGhlIHNlY29uZCBgdGYuVGVuc29yYCB0byBiZSBzdWJ0cmFjdGVkLiBNdXN0IGhhdmUgdGhlIHNhbWUgZHR5cGUgYXNcbiAqIGBhYC5cbiAqXG4gKiBAZG9jIHtoZWFkaW5nOiAnT3BlcmF0aW9ucycsIHN1YmhlYWRpbmc6ICdBcml0aG1ldGljJ31cbiAqL1xuZnVuY3Rpb24gc3ViXzxUIGV4dGVuZHMgVGVuc29yPihhOiBUZW5zb3J8VGVuc29yTGlrZSwgYjogVGVuc29yfFRlbnNvckxpa2UpOiBUIHtcbiAgbGV0ICRhID0gY29udmVydFRvVGVuc29yKGEsICdhJywgJ3N1YicpO1xuICBsZXQgJGIgPSBjb252ZXJ0VG9UZW5zb3IoYiwgJ2InLCAnc3ViJyk7XG4gIFskYSwgJGJdID0gbWFrZVR5cGVzTWF0Y2goJGEsICRiKTtcblxuICBjb25zdCBmb3J3YXJkOiBGb3J3YXJkRnVuYzxUZW5zb3I+ID0gKGJhY2tlbmQsIHNhdmUpID0+IHtcbiAgICBjb25zdCByZXMgPSBiYWNrZW5kLnN1YnRyYWN0KCRhLCAkYik7XG4gICAgc2F2ZShbJGEsICRiXSk7XG4gICAgcmV0dXJuIHJlcztcbiAgfTtcblxuICBjb25zdCBpbnB1dHM6IFN1YklucHV0cyA9IHthOiAkYSwgYjogJGJ9O1xuXG4gIHJldHVybiBFTkdJTkUucnVuS2VybmVsRnVuYyhcbiAgICAgICAgICAgICBmb3J3YXJkLCBpbnB1dHMgYXMge30gYXMgTmFtZWRUZW5zb3JNYXAsIG51bGwgLyogZ3JhZCAqLywgU3ViKSBhc1xuICAgICAgVDtcbn1cblxuZXhwb3J0IGNvbnN0IHN1YiA9IG9wKHtzdWJffSk7XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5pbXBvcnQge0VOR0lORSwgRm9yd2FyZEZ1bmN9IGZyb20gJy4uL2VuZ2luZSc7XG5pbXBvcnQge1N1bSwgU3VtQXR0cnMsIFN1bUlucHV0c30gZnJvbSAnLi4va2VybmVsX25hbWVzJztcbmltcG9ydCB7TmFtZWRBdHRyTWFwfSBmcm9tICcuLi9rZXJuZWxfcmVnaXN0cnknO1xuaW1wb3J0IHtUZW5zb3J9IGZyb20gJy4uL3RlbnNvcic7XG5pbXBvcnQge05hbWVkVGVuc29yTWFwfSBmcm9tICcuLi90ZW5zb3JfdHlwZXMnO1xuaW1wb3J0IHtjb252ZXJ0VG9UZW5zb3J9IGZyb20gJy4uL3RlbnNvcl91dGlsX2Vudic7XG5pbXBvcnQge1RlbnNvckxpa2V9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7cGFyc2VBeGlzUGFyYW19IGZyb20gJy4uL3V0aWwnO1xuXG5pbXBvcnQge2V4cGFuZFNoYXBlVG9LZWVwRGltLCBnZXRBeGVzUGVybXV0YXRpb24sIGdldElubmVyTW9zdEF4ZXN9IGZyb20gJy4vYXhpc191dGlsJztcbmltcG9ydCB7Y2FzdH0gZnJvbSAnLi9jYXN0JztcbmltcG9ydCB7b3B9IGZyb20gJy4vb3BlcmF0aW9uJztcbmltcG9ydCB7cmVzaGFwZX0gZnJvbSAnLi9yZXNoYXBlJztcbmltcG9ydCB7dHJhbnNwb3NlfSBmcm9tICcuL3RyYW5zcG9zZSc7XG5cbi8qKlxuICogQ29tcHV0ZXMgdGhlIHN1bSBvZiBlbGVtZW50cyBhY3Jvc3MgZGltZW5zaW9ucyBvZiBhIGB0Zi5UZW5zb3JgLlxuICpcbiAqIFJlZHVjZXMgdGhlIGlucHV0IGFsb25nIHRoZSBkaW1lbnNpb25zIGdpdmVuIGluIGBheGVzYC4gVW5sZXNzIGBrZWVwRGltc2BcbiAqIGlzIHRydWUsIHRoZSByYW5rIG9mIHRoZSBgdGYuVGVuc29yYCBpcyByZWR1Y2VkIGJ5IDEgZm9yIGVhY2ggZW50cnkgaW5cbiAqIGBheGVzYC4gSWYgYGtlZXBEaW1zYCBpcyB0cnVlLCB0aGUgcmVkdWNlZCBkaW1lbnNpb25zIGFyZSByZXRhaW5lZCB3aXRoXG4gKiBsZW5ndGggMS4gSWYgYXhlcyBoYXMgbm8gZW50cmllcywgYWxsIGRpbWVuc2lvbnMgYXJlIHJlZHVjZWQsIGFuZCBhXG4gKiBgdGYuVGVuc29yYCB3aXRoIGEgc2luZ2xlIGVsZW1lbnQgaXMgcmV0dXJuZWQuXG4gKlxuICogYGBganNcbiAqIGNvbnN0IHggPSB0Zi50ZW5zb3IxZChbMSwgMiwgM10pO1xuICpcbiAqIHguc3VtKCkucHJpbnQoKTsgIC8vIG9yIHRmLnN1bSh4KVxuICogYGBgXG4gKlxuICogYGBganNcbiAqIGNvbnN0IHggPSB0Zi50ZW5zb3IyZChbMSwgMiwgMywgNF0sIFsyLCAyXSk7XG4gKlxuICogY29uc3QgYXhpcyA9IDE7XG4gKiB4LnN1bShheGlzKS5wcmludCgpOyAgLy8gb3IgdGYuc3VtKHgsIGF4aXMpXG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0geCBUaGUgaW5wdXQgdGVuc29yIHRvIGNvbXB1dGUgdGhlIHN1bSBvdmVyLiBJZiB0aGUgZHR5cGUgaXMgYGJvb2xgXG4gKiAgIGl0IHdpbGwgYmUgY29udmVydGVkIHRvIGBpbnQzMmAgYW5kIHRoZSBvdXRwdXQgZHR5cGUgd2lsbCBiZSBgaW50MzJgLlxuICogQHBhcmFtIGF4aXMgVGhlIGRpbWVuc2lvbihzKSB0byByZWR1Y2UuIEJ5IGRlZmF1bHQgaXQgcmVkdWNlc1xuICogICAgIGFsbCBkaW1lbnNpb25zLlxuICogQHBhcmFtIGtlZXBEaW1zIElmIHRydWUsIHJldGFpbnMgcmVkdWNlZCBkaW1lbnNpb25zIHdpdGggc2l6ZSAxLlxuICpcbiAqIEBkb2Mge2hlYWRpbmc6ICdPcGVyYXRpb25zJywgc3ViaGVhZGluZzogJ1JlZHVjdGlvbid9XG4gKi9cbmZ1bmN0aW9uIHN1bV88VCBleHRlbmRzIFRlbnNvcj4oXG4gICAgeDogVGVuc29yfFRlbnNvckxpa2UsIGF4aXM6IG51bWJlcnxudW1iZXJbXSA9IG51bGwsIGtlZXBEaW1zID0gZmFsc2UpOiBUIHtcbiAgbGV0ICR4ID0gY29udmVydFRvVGVuc29yKHgsICd4JywgJ3N1bScpO1xuICBpZiAoJHguZHR5cGUgPT09ICdib29sJykge1xuICAgICR4ID0gY2FzdCgkeCwgJ2ludDMyJyk7XG4gIH1cblxuICBjb25zdCBmb3J3YXJkOiBGb3J3YXJkRnVuYzxUZW5zb3I+ID0gKGJhY2tlbmQsIHNhdmUpID0+IHtcbiAgICBzYXZlKFskeF0pO1xuICAgIGNvbnN0IGF4ZXMgPSBwYXJzZUF4aXNQYXJhbShheGlzLCAkeC5zaGFwZSk7XG5cbiAgICBjb25zdCBwZXJtdXRhdGlvbiA9IGdldEF4ZXNQZXJtdXRhdGlvbihheGVzLCAkeC5yYW5rKTtcbiAgICBsZXQgcmVkdWN0aW9uQXhlcyA9IGF4ZXM7XG4gICAgbGV0IHBlcm11dGVkWCA9ICR4O1xuICAgIGlmIChwZXJtdXRhdGlvbiAhPSBudWxsKSB7XG4gICAgICBwZXJtdXRlZFggPSB0cmFuc3Bvc2UoJHgsIHBlcm11dGF0aW9uKTtcbiAgICAgIHJlZHVjdGlvbkF4ZXMgPSBnZXRJbm5lck1vc3RBeGVzKHJlZHVjdGlvbkF4ZXMubGVuZ3RoLCAkeC5yYW5rKTtcbiAgICB9XG4gICAgbGV0IHZhbHVlID0gYmFja2VuZC5zdW0ocGVybXV0ZWRYLCByZWR1Y3Rpb25BeGVzKTtcbiAgICBpZiAoa2VlcERpbXMpIHtcbiAgICAgIGNvbnN0IG5ld1NoYXBlID0gZXhwYW5kU2hhcGVUb0tlZXBEaW0odmFsdWUuc2hhcGUsIGF4ZXMpO1xuICAgICAgdmFsdWUgPSByZXNoYXBlKHZhbHVlLCBuZXdTaGFwZSk7XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZTtcbiAgfTtcblxuICBjb25zdCBpbnB1dHM6IFN1bUlucHV0cyA9IHt4OiAkeH07XG4gIGNvbnN0IGF0dHJzOiBTdW1BdHRycyA9IHtheGlzLCBrZWVwRGltc307XG5cbiAgcmV0dXJuIEVOR0lORS5ydW5LZXJuZWxGdW5jKFxuICAgICAgICAgICAgIGZvcndhcmQsIGlucHV0cyBhcyB7fSBhcyBOYW1lZFRlbnNvck1hcCwgbnVsbCAvKiBncmFkICovLCBTdW0sXG4gICAgICAgICAgICAgYXR0cnMgYXMge30gYXMgTmFtZWRBdHRyTWFwKSBhcyBUO1xufVxuXG5leHBvcnQgY29uc3Qgc3VtID0gb3Aoe3N1bV99KTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuaW1wb3J0IHtFTkdJTkUsIEZvcndhcmRGdW5jfSBmcm9tICcuLi9lbmdpbmUnO1xuaW1wb3J0IHtMb2dTb2Z0bWF4LCBMb2dTb2Z0bWF4QXR0cnMsIExvZ1NvZnRtYXhJbnB1dHN9IGZyb20gJy4uL2tlcm5lbF9uYW1lcyc7XG5pbXBvcnQge05hbWVkQXR0ck1hcH0gZnJvbSAnLi4va2VybmVsX3JlZ2lzdHJ5JztcbmltcG9ydCB7VGVuc29yfSBmcm9tICcuLi90ZW5zb3InO1xuaW1wb3J0IHtOYW1lZFRlbnNvck1hcH0gZnJvbSAnLi4vdGVuc29yX3R5cGVzJztcbmltcG9ydCB7Y29udmVydFRvVGVuc29yfSBmcm9tICcuLi90ZW5zb3JfdXRpbF9lbnYnO1xuaW1wb3J0IHtUZW5zb3JMaWtlfSBmcm9tICcuLi90eXBlcyc7XG5cbmltcG9ydCB7Y2FzdH0gZnJvbSAnLi9jYXN0JztcbmltcG9ydCB7ZXhwfSBmcm9tICcuL2V4cCc7XG5pbXBvcnQge2xvZ30gZnJvbSAnLi9sb2cnO1xuaW1wb3J0IHttYXh9IGZyb20gJy4vbWF4JztcbmltcG9ydCB7b3B9IGZyb20gJy4vb3BlcmF0aW9uJztcbmltcG9ydCB7c3VifSBmcm9tICcuL3N1Yic7XG5pbXBvcnQge3N1bX0gZnJvbSAnLi9zdW0nO1xuXG4vKipcbiAqIENvbXB1dGVzIHRoZSBsb2cgc29mdG1heC5cbiAqXG4gKiBgYGBqc1xuICogY29uc3QgYSA9IHRmLnRlbnNvcjFkKFsxLCAyLCAzXSk7XG4gKlxuICogYS5sb2dTb2Z0bWF4KCkucHJpbnQoKTsgIC8vIG9yIHRmLmxvZ1NvZnRtYXgoYSlcbiAqIGBgYFxuICpcbiAqIGBgYGpzXG4gKiBjb25zdCBhID0gdGYudGVuc29yMmQoWzIsIDQsIDYsIDEsIDIsIDNdLCBbMiwgM10pO1xuICpcbiAqIGEubG9nU29mdG1heCgpLnByaW50KCk7ICAvLyBvciB0Zi5sb2dTb2Z0bWF4KGEpXG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gbG9naXRzIFRoZSBsb2dpdHMgYXJyYXkuXG4gKiBAcGFyYW0gYXhpcyBUaGUgZGltZW5zaW9uIHNvZnRtYXggd291bGQgYmUgcGVyZm9ybWVkIG9uLiBEZWZhdWx0cyB0byBgLTFgXG4gKiAgICAgd2hpY2ggaW5kaWNhdGVzIHRoZSBsYXN0IGRpbWVuc2lvbi5cbiAqXG4gKiBAZG9jIHtoZWFkaW5nOiAnT3BlcmF0aW9ucycsIHN1YmhlYWRpbmc6ICdOb3JtYWxpemF0aW9uJ31cbiAqL1xuZnVuY3Rpb24gbG9nU29mdG1heF88VCBleHRlbmRzIFRlbnNvcj4obG9naXRzOiBUfFRlbnNvckxpa2UsIGF4aXMgPSAtMSk6IFQge1xuICBjb25zdCAkbG9naXRzID0gY29udmVydFRvVGVuc29yKGxvZ2l0cywgJ2xvZ2l0cycsICdsb2dTb2Z0bWF4Jyk7XG5cbiAgaWYgKGF4aXMgPT09IC0xKSB7XG4gICAgYXhpcyA9ICRsb2dpdHMucmFuayAtIDE7XG4gIH1cbiAgaWYgKGF4aXMgIT09ICRsb2dpdHMucmFuayAtIDEpIHtcbiAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgJ0xvZyBTb2Z0bWF4IGFsb25nIGEgbm9uLWxhc3QgZGltZW5zaW9uIGlzIG5vdCB5ZXQgc3VwcG9ydGVkLiAnICtcbiAgICAgICAgYExvZ2l0cyB3YXMgcmFuayAkeyRsb2dpdHMucmFua30gYW5kIGF4aXMgd2FzICR7YXhpc31gKTtcbiAgfVxuXG4gIGNvbnN0IGZvcndhcmQ6IEZvcndhcmRGdW5jPFRlbnNvcj4gPSAoYmFja2VuZCwgc2F2ZSkgPT4ge1xuICAgIGNvbnN0IGtlZXBEaW1zID0gdHJ1ZTtcbiAgICBjb25zdCB4TWF4ID0gbWF4KGxvZ2l0cywgYXhpcywgdHJ1ZSk7XG4gICAgY29uc3Qgc2hpZnRlZCA9IHN1Yihsb2dpdHMsIHhNYXgpO1xuICAgIGNvbnN0IHZhbHVlID1cbiAgICAgICAgc3ViKGNhc3Qoc2hpZnRlZCwgJ2Zsb2F0MzInKSwgbG9nKHN1bShleHAoc2hpZnRlZCksIGF4aXMsIGtlZXBEaW1zKSkpO1xuICAgIHNhdmUoW3ZhbHVlXSk7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9O1xuXG4gIGNvbnN0IGlucHV0czogTG9nU29mdG1heElucHV0cyA9IHtsb2dpdHM6ICRsb2dpdHN9O1xuICBjb25zdCBhdHRyczogTG9nU29mdG1heEF0dHJzID0ge2F4aXN9O1xuXG4gIHJldHVybiBFTkdJTkUucnVuS2VybmVsRnVuYyhcbiAgICAgICAgICAgICBmb3J3YXJkLCBpbnB1dHMgYXMge30gYXMgTmFtZWRUZW5zb3JNYXAsIG51bGwgLyogZ3JhZCAqLyxcbiAgICAgICAgICAgICBMb2dTb2Z0bWF4LCBhdHRycyBhcyB7fSBhcyBOYW1lZEF0dHJNYXApIGFzIFQ7XG59XG5cbmV4cG9ydCBjb25zdCBsb2dTb2Z0bWF4ID0gb3Aoe2xvZ1NvZnRtYXhffSk7XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbmltcG9ydCB7VGVuc29yfSBmcm9tICcuLi90ZW5zb3InO1xuaW1wb3J0IHtjb252ZXJ0VG9UZW5zb3J9IGZyb20gJy4uL3RlbnNvcl91dGlsX2Vudic7XG5pbXBvcnQge1RlbnNvckxpa2V9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7cGFyc2VBeGlzUGFyYW19IGZyb20gJy4uL3V0aWwnO1xuXG5pbXBvcnQge2FkZH0gZnJvbSAnLi9hZGQnO1xuaW1wb3J0IHtleHBhbmRTaGFwZVRvS2VlcERpbX0gZnJvbSAnLi9heGlzX3V0aWwnO1xuaW1wb3J0IHtleHB9IGZyb20gJy4vZXhwJztcbmltcG9ydCB7bG9nfSBmcm9tICcuL2xvZyc7XG5pbXBvcnQge21heH0gZnJvbSAnLi9tYXgnO1xuaW1wb3J0IHtvcH0gZnJvbSAnLi9vcGVyYXRpb24nO1xuaW1wb3J0IHtyZXNoYXBlfSBmcm9tICcuL3Jlc2hhcGUnO1xuaW1wb3J0IHtzdWJ9IGZyb20gJy4vc3ViJztcbmltcG9ydCB7c3VtfSBmcm9tICcuL3N1bSc7XG5cbi8qKlxuICogQ29tcHV0ZXMgdGhlIGxvZyhzdW0oZXhwKGVsZW1lbnRzIGFjcm9zcyB0aGUgcmVkdWN0aW9uIGRpbWVuc2lvbnMpKS5cbiAqXG4gKiBSZWR1Y2VzIHRoZSBpbnB1dCBhbG9uZyB0aGUgZGltZW5zaW9ucyBnaXZlbiBpbiBgYXhpc2AuIFVubGVzcyBga2VlcERpbXNgXG4gKiBpcyB0cnVlLCB0aGUgcmFuayBvZiB0aGUgYXJyYXkgaXMgcmVkdWNlZCBieSAxIGZvciBlYWNoIGVudHJ5IGluIGBheGlzYC5cbiAqIElmIGBrZWVwRGltc2AgaXMgdHJ1ZSwgdGhlIHJlZHVjZWQgZGltZW5zaW9ucyBhcmUgcmV0YWluZWQgd2l0aCBsZW5ndGggMS5cbiAqIElmIGBheGlzYCBoYXMgbm8gZW50cmllcywgYWxsIGRpbWVuc2lvbnMgYXJlIHJlZHVjZWQsIGFuZCBhbiBhcnJheSB3aXRoIGFcbiAqIHNpbmdsZSBlbGVtZW50IGlzIHJldHVybmVkLlxuICpcbiAqIGBgYGpzXG4gKiBjb25zdCB4ID0gdGYudGVuc29yMWQoWzEsIDIsIDNdKTtcbiAqXG4gKiB4LmxvZ1N1bUV4cCgpLnByaW50KCk7ICAvLyBvciB0Zi5sb2dTdW1FeHAoeClcbiAqIGBgYFxuICpcbiAqIGBgYGpzXG4gKiBjb25zdCB4ID0gdGYudGVuc29yMmQoWzEsIDIsIDMsIDRdLCBbMiwgMl0pO1xuICpcbiAqIGNvbnN0IGF4aXMgPSAxO1xuICogeC5sb2dTdW1FeHAoYXhpcykucHJpbnQoKTsgIC8vIG9yIHRmLmxvZ1N1bUV4cChhLCBheGlzKVxuICogYGBgXG4gKiBAcGFyYW0geCBUaGUgaW5wdXQgdGVuc29yLlxuICogQHBhcmFtIGF4aXMgVGhlIGRpbWVuc2lvbihzKSB0byByZWR1Y2UuIElmIG51bGwgKHRoZSBkZWZhdWx0KSxcbiAqICAgICByZWR1Y2VzIGFsbCBkaW1lbnNpb25zLlxuICogQHBhcmFtIGtlZXBEaW1zIElmIHRydWUsIHJldGFpbnMgcmVkdWNlZCBkaW1lbnNpb25zIHdpdGggbGVuZ3RoXG4gKiAgICAgb2YgMS4gRGVmYXVsdHMgdG8gZmFsc2UuXG4gKlxuICogQGRvYyB7aGVhZGluZzogJ09wZXJhdGlvbnMnLCBzdWJoZWFkaW5nOiAnUmVkdWN0aW9uJ31cbiAqL1xuZnVuY3Rpb24gbG9nU3VtRXhwXzxUIGV4dGVuZHMgVGVuc29yPihcbiAgICB4OiBUZW5zb3J8VGVuc29yTGlrZSwgYXhpczogbnVtYmVyfG51bWJlcltdID0gbnVsbCwga2VlcERpbXMgPSBmYWxzZSk6IFQge1xuICBjb25zdCAkeCA9IGNvbnZlcnRUb1RlbnNvcih4LCAneCcsICdsb2dTdW1FeHAnKTtcblxuICBjb25zdCBheGVzID0gcGFyc2VBeGlzUGFyYW0oYXhpcywgJHguc2hhcGUpO1xuICBjb25zdCB4TWF4ID0gbWF4KCR4LCBheGVzLCB0cnVlIC8qIGtlZXBEaW1zICovKTtcbiAgY29uc3QgYSA9IHN1YigkeCwgeE1heCk7XG4gIGNvbnN0IGIgPSBleHAoYSk7XG4gIGNvbnN0IGMgPSBzdW0oYiwgYXhlcyk7XG4gIGNvbnN0IGQgPSBsb2coYyk7XG4gIGNvbnN0IHJlcyA9IGFkZChyZXNoYXBlKHhNYXgsIGQuc2hhcGUpLCBkKTtcblxuICBpZiAoa2VlcERpbXMpIHtcbiAgICBjb25zdCBuZXdTaGFwZSA9IGV4cGFuZFNoYXBlVG9LZWVwRGltKHJlcy5zaGFwZSwgYXhlcyk7XG4gICAgcmV0dXJuIHJlc2hhcGUocmVzLCBuZXdTaGFwZSkgYXMgVDtcbiAgfVxuICByZXR1cm4gcmVzIGFzIFQ7XG59XG5cbmV4cG9ydCBjb25zdCBsb2dTdW1FeHAgPSBvcCh7bG9nU3VtRXhwX30pO1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuaW1wb3J0IHtFTkdJTkV9IGZyb20gJy4uL2VuZ2luZSc7XG5pbXBvcnQge0xvZ2ljYWxBbmQsIExvZ2ljYWxBbmRJbnB1dHN9IGZyb20gJy4uL2tlcm5lbF9uYW1lcyc7XG5pbXBvcnQge1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yJztcbmltcG9ydCB7TmFtZWRUZW5zb3JNYXB9IGZyb20gJy4uL3RlbnNvcl90eXBlcyc7XG5pbXBvcnQge2NvbnZlcnRUb1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yX3V0aWxfZW52JztcbmltcG9ydCB7VGVuc29yTGlrZX0gZnJvbSAnLi4vdHlwZXMnO1xuXG5pbXBvcnQge2Fzc2VydEFuZEdldEJyb2FkY2FzdFNoYXBlfSBmcm9tICcuL2Jyb2FkY2FzdF91dGlsJztcbmltcG9ydCB7b3B9IGZyb20gJy4vb3BlcmF0aW9uJztcblxuLyoqXG4gKiBSZXR1cm5zIHRoZSB0cnV0aCB2YWx1ZSBvZiBgYSBBTkQgYmAgZWxlbWVudC13aXNlLiBTdXBwb3J0cyBicm9hZGNhc3RpbmcuXG4gKlxuICogYGBganNcbiAqIGNvbnN0IGEgPSB0Zi50ZW5zb3IxZChbZmFsc2UsIGZhbHNlLCB0cnVlLCB0cnVlXSwgJ2Jvb2wnKTtcbiAqIGNvbnN0IGIgPSB0Zi50ZW5zb3IxZChbZmFsc2UsIHRydWUsIGZhbHNlLCB0cnVlXSwgJ2Jvb2wnKTtcbiAqXG4gKiBhLmxvZ2ljYWxBbmQoYikucHJpbnQoKTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBhIFRoZSBmaXJzdCBpbnB1dCB0ZW5zb3IuIE11c3QgYmUgb2YgZHR5cGUgYm9vbC5cbiAqIEBwYXJhbSBiIFRoZSBzZWNvbmQgaW5wdXQgdGVuc29yLiBNdXN0IGJlIG9mIGR0eXBlIGJvb2wuXG4gKlxuICogQGRvYyB7aGVhZGluZzogJ09wZXJhdGlvbnMnLCBzdWJoZWFkaW5nOiAnTG9naWNhbCd9XG4gKi9cbmZ1bmN0aW9uIGxvZ2ljYWxBbmRfPFQgZXh0ZW5kcyBUZW5zb3I+KFxuICAgIGE6IFRlbnNvcnxUZW5zb3JMaWtlLCBiOiBUZW5zb3J8VGVuc29yTGlrZSk6IFQge1xuICBjb25zdCAkYSA9IGNvbnZlcnRUb1RlbnNvcihhLCAnYScsICdsb2dpY2FsQW5kJywgJ2Jvb2wnKTtcbiAgY29uc3QgJGIgPSBjb252ZXJ0VG9UZW5zb3IoYiwgJ2InLCAnbG9naWNhbEFuZCcsICdib29sJyk7XG4gIGFzc2VydEFuZEdldEJyb2FkY2FzdFNoYXBlKCRhLnNoYXBlLCAkYi5zaGFwZSk7XG5cbiAgY29uc3QgaW5wdXRzOiBMb2dpY2FsQW5kSW5wdXRzID0ge2E6ICRhLCBiOiAkYn07XG5cbiAgcmV0dXJuIEVOR0lORS5ydW5LZXJuZWxGdW5jKFxuICAgICAgICAgICAgIGJhY2tlbmQgPT4gYmFja2VuZC5sb2dpY2FsQW5kKCRhLCAkYiksXG4gICAgICAgICAgICAgaW5wdXRzIGFzIHt9IGFzIE5hbWVkVGVuc29yTWFwLCBudWxsIC8qIGdyYWQgKi8sIExvZ2ljYWxBbmQpIGFzIFQ7XG59XG5cbmV4cG9ydCBjb25zdCBsb2dpY2FsQW5kID0gb3Aoe2xvZ2ljYWxBbmRffSk7XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbmltcG9ydCB7RU5HSU5FfSBmcm9tICcuLi9lbmdpbmUnO1xuaW1wb3J0IHtMb2dpY2FsTm90LCBMb2dpY2FsTm90SW5wdXRzfSBmcm9tICcuLi9rZXJuZWxfbmFtZXMnO1xuaW1wb3J0IHtUZW5zb3J9IGZyb20gJy4uL3RlbnNvcic7XG5pbXBvcnQge05hbWVkVGVuc29yTWFwfSBmcm9tICcuLi90ZW5zb3JfdHlwZXMnO1xuaW1wb3J0IHtjb252ZXJ0VG9UZW5zb3J9IGZyb20gJy4uL3RlbnNvcl91dGlsX2Vudic7XG5pbXBvcnQge1RlbnNvckxpa2V9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7b3B9IGZyb20gJy4vb3BlcmF0aW9uJztcblxuLyoqXG4gKiBSZXR1cm5zIHRoZSB0cnV0aCB2YWx1ZSBvZiBgTk9UIHhgIGVsZW1lbnQtd2lzZS5cbiAqXG4gKiBgYGBqc1xuICogY29uc3QgYSA9IHRmLnRlbnNvcjFkKFtmYWxzZSwgdHJ1ZV0sICdib29sJyk7XG4gKlxuICogYS5sb2dpY2FsTm90KCkucHJpbnQoKTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB4IFRoZSBpbnB1dCB0ZW5zb3IuIE11c3QgYmUgb2YgZHR5cGUgJ2Jvb2wnLlxuICpcbiAqIEBkb2Mge2hlYWRpbmc6ICdPcGVyYXRpb25zJywgc3ViaGVhZGluZzogJ0xvZ2ljYWwnfVxuICovXG5mdW5jdGlvbiBsb2dpY2FsTm90XzxUIGV4dGVuZHMgVGVuc29yPih4OiBUfFRlbnNvckxpa2UpOiBUIHtcbiAgY29uc3QgJHggPSBjb252ZXJ0VG9UZW5zb3IoeCwgJ3gnLCAnbG9naWNhbE5vdCcsICdib29sJyk7XG4gIGNvbnN0IGlucHV0czogTG9naWNhbE5vdElucHV0cyA9IHt4OiAkeH07XG4gIHJldHVybiBFTkdJTkUucnVuS2VybmVsRnVuYyhcbiAgICAgIGJhY2tlbmQgPT4gYmFja2VuZC5sb2dpY2FsTm90KCR4KSwgaW5wdXRzIGFzIHt9IGFzIE5hbWVkVGVuc29yTWFwLFxuICAgICAgbnVsbCAvKiBncmFkICovLCBMb2dpY2FsTm90KTtcbn1cblxuZXhwb3J0IGNvbnN0IGxvZ2ljYWxOb3QgPSBvcCh7bG9naWNhbE5vdF99KTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuaW1wb3J0IHtFTkdJTkV9IGZyb20gJy4uL2VuZ2luZSc7XG5pbXBvcnQge0xvZ2ljYWxPciwgTG9naWNhbE9ySW5wdXRzfSBmcm9tICcuLi9rZXJuZWxfbmFtZXMnO1xuaW1wb3J0IHtUZW5zb3J9IGZyb20gJy4uL3RlbnNvcic7XG5pbXBvcnQge05hbWVkVGVuc29yTWFwfSBmcm9tICcuLi90ZW5zb3JfdHlwZXMnO1xuaW1wb3J0IHtjb252ZXJ0VG9UZW5zb3J9IGZyb20gJy4uL3RlbnNvcl91dGlsX2Vudic7XG5pbXBvcnQge1RlbnNvckxpa2V9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7YXNzZXJ0QW5kR2V0QnJvYWRjYXN0U2hhcGV9IGZyb20gJy4vYnJvYWRjYXN0X3V0aWwnO1xuaW1wb3J0IHtvcH0gZnJvbSAnLi9vcGVyYXRpb24nO1xuXG4vKipcbiAqIFJldHVybnMgdGhlIHRydXRoIHZhbHVlIG9mIGBhIE9SIGJgIGVsZW1lbnQtd2lzZS4gU3VwcG9ydHMgYnJvYWRjYXN0aW5nLlxuICpcbiAqIGBgYGpzXG4gKiBjb25zdCBhID0gdGYudGVuc29yMWQoW2ZhbHNlLCBmYWxzZSwgdHJ1ZSwgdHJ1ZV0sICdib29sJyk7XG4gKiBjb25zdCBiID0gdGYudGVuc29yMWQoW2ZhbHNlLCB0cnVlLCBmYWxzZSwgdHJ1ZV0sICdib29sJyk7XG4gKlxuICogYS5sb2dpY2FsT3IoYikucHJpbnQoKTtcbiAqIGBgYFxuICogQHBhcmFtIGEgVGhlIGZpcnN0IGlucHV0IHRlbnNvci4gTXVzdCBiZSBvZiBkdHlwZSBib29sLlxuICogQHBhcmFtIGIgVGhlIHNlY29uZCBpbnB1dCB0ZW5zb3IuIE11c3QgYmUgb2YgZHR5cGUgYm9vbC5cbiAqXG4gKiBAZG9jIHtoZWFkaW5nOiAnT3BlcmF0aW9ucycsIHN1YmhlYWRpbmc6ICdMb2dpY2FsJ31cbiAqL1xuZnVuY3Rpb24gbG9naWNhbE9yXzxUIGV4dGVuZHMgVGVuc29yPihcbiAgICBhOiBUZW5zb3J8VGVuc29yTGlrZSwgYjogVGVuc29yfFRlbnNvckxpa2UpOiBUIHtcbiAgY29uc3QgJGEgPSBjb252ZXJ0VG9UZW5zb3IoYSwgJ2EnLCAnbG9naWNhbE9yJywgJ2Jvb2wnKTtcbiAgY29uc3QgJGIgPSBjb252ZXJ0VG9UZW5zb3IoYiwgJ2InLCAnbG9naWNhbE9yJywgJ2Jvb2wnKTtcbiAgYXNzZXJ0QW5kR2V0QnJvYWRjYXN0U2hhcGUoJGEuc2hhcGUsICRiLnNoYXBlKTtcblxuICBjb25zdCBpbnB1dHM6IExvZ2ljYWxPcklucHV0cyA9IHthOiAkYSwgYjogJGJ9O1xuICByZXR1cm4gRU5HSU5FLnJ1bktlcm5lbEZ1bmMoXG4gICAgICAgICAgICAgYmFja2VuZCA9PiBiYWNrZW5kLmxvZ2ljYWxPcigkYSwgJGIpLFxuICAgICAgICAgICAgIGlucHV0cyBhcyB7fSBhcyBOYW1lZFRlbnNvck1hcCwgbnVsbCAvKiBncmFkICovLCBMb2dpY2FsT3IpIGFzIFQ7XG59XG5leHBvcnQgY29uc3QgbG9naWNhbE9yID0gb3Aoe2xvZ2ljYWxPcl99KTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuaW1wb3J0IHtUZW5zb3J9IGZyb20gJy4uL3RlbnNvcic7XG5pbXBvcnQge2NvbnZlcnRUb1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yX3V0aWxfZW52JztcbmltcG9ydCB7VGVuc29yTGlrZX0gZnJvbSAnLi4vdHlwZXMnO1xuXG5pbXBvcnQge2Fzc2VydEFuZEdldEJyb2FkY2FzdFNoYXBlfSBmcm9tICcuL2Jyb2FkY2FzdF91dGlsJztcbmltcG9ydCB7bG9naWNhbEFuZH0gZnJvbSAnLi9sb2dpY2FsX2FuZCc7XG5pbXBvcnQge2xvZ2ljYWxOb3R9IGZyb20gJy4vbG9naWNhbF9ub3QnO1xuaW1wb3J0IHtsb2dpY2FsT3J9IGZyb20gJy4vbG9naWNhbF9vcic7XG5pbXBvcnQge29wfSBmcm9tICcuL29wZXJhdGlvbic7XG5cbi8qKlxuICogUmV0dXJucyB0aGUgdHJ1dGggdmFsdWUgb2YgYGEgWE9SIGJgIGVsZW1lbnQtd2lzZS4gU3VwcG9ydHMgYnJvYWRjYXN0aW5nLlxuICpcbiAqIGBgYGpzXG4gKiBjb25zdCBhID0gdGYudGVuc29yMWQoW2ZhbHNlLCBmYWxzZSwgdHJ1ZSwgdHJ1ZV0sICdib29sJyk7XG4gKiBjb25zdCBiID0gdGYudGVuc29yMWQoW2ZhbHNlLCB0cnVlLCBmYWxzZSwgdHJ1ZV0sICdib29sJyk7XG4gKlxuICogYS5sb2dpY2FsWG9yKGIpLnByaW50KCk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gYSBUaGUgZmlyc3QgaW5wdXQgdGVuc29yLiBNdXN0IGJlIG9mIGR0eXBlIGJvb2wuXG4gKiBAcGFyYW0gYiBUaGUgc2Vjb25kIGlucHV0IHRlbnNvci4gTXVzdCBiZSBvZiBkdHlwZSBib29sLlxuICpcbiAqIEBkb2Mge2hlYWRpbmc6ICdPcGVyYXRpb25zJywgc3ViaGVhZGluZzogJ0xvZ2ljYWwnfVxuICovXG5mdW5jdGlvbiBsb2dpY2FsWG9yXzxUIGV4dGVuZHMgVGVuc29yPihcbiAgICBhOiBUZW5zb3J8VGVuc29yTGlrZSwgYjogVGVuc29yfFRlbnNvckxpa2UpOiBUIHtcbiAgY29uc3QgJGEgPSBjb252ZXJ0VG9UZW5zb3IoYSwgJ2EnLCAnbG9naWNhbFhvcicsICdib29sJyk7XG4gIGNvbnN0ICRiID0gY29udmVydFRvVGVuc29yKGIsICdiJywgJ2xvZ2ljYWxYb3InLCAnYm9vbCcpO1xuICBhc3NlcnRBbmRHZXRCcm9hZGNhc3RTaGFwZSgkYS5zaGFwZSwgJGIuc2hhcGUpO1xuXG4gIC8vIHggXiB5ID0gKHggfCB5KSAmIH4oeCAmIHkpXG4gIHJldHVybiBsb2dpY2FsQW5kKGxvZ2ljYWxPcihhLCBiKSwgbG9naWNhbE5vdChsb2dpY2FsQW5kKGEsIGIpKSk7XG59XG5cbmV4cG9ydCBjb25zdCBsb2dpY2FsWG9yID0gb3Aoe2xvZ2ljYWxYb3JffSk7XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbmltcG9ydCB7RU5HSU5FLCBGb3J3YXJkRnVuY30gZnJvbSAnLi4vZW5naW5lJztcbmltcG9ydCB7TWF4UG9vbCwgTWF4UG9vbEF0dHJzLCBNYXhQb29sSW5wdXRzfSBmcm9tICcuLi9rZXJuZWxfbmFtZXMnO1xuaW1wb3J0IHtOYW1lZEF0dHJNYXB9IGZyb20gJy4uL2tlcm5lbF9yZWdpc3RyeSc7XG5pbXBvcnQge1RlbnNvciwgVGVuc29yM0QsIFRlbnNvcjREfSBmcm9tICcuLi90ZW5zb3InO1xuaW1wb3J0IHtOYW1lZFRlbnNvck1hcH0gZnJvbSAnLi4vdGVuc29yX3R5cGVzJztcbmltcG9ydCB7Y29udmVydFRvVGVuc29yfSBmcm9tICcuLi90ZW5zb3JfdXRpbF9lbnYnO1xuaW1wb3J0IHtUZW5zb3JMaWtlfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgKiBhcyB1dGlsIGZyb20gJy4uL3V0aWwnO1xuXG5pbXBvcnQgKiBhcyBjb252X3V0aWwgZnJvbSAnLi9jb252X3V0aWwnO1xuaW1wb3J0IHtvcH0gZnJvbSAnLi9vcGVyYXRpb24nO1xuaW1wb3J0IHtyZXNoYXBlfSBmcm9tICcuL3Jlc2hhcGUnO1xuXG4vKipcbiAqIENvbXB1dGVzIHRoZSAyRCBtYXggcG9vbGluZyBvZiBhbiBpbWFnZS5cbiAqXG4gKiBAcGFyYW0geCBUaGUgaW5wdXQgdGVuc29yLCBvZiByYW5rIDQgb3IgcmFuayAzIG9mIHNoYXBlXG4gKiAgICAgYFtiYXRjaCwgaGVpZ2h0LCB3aWR0aCwgaW5DaGFubmVsc11gLiBJZiByYW5rIDMsIGJhdGNoIG9mIDEgaXMgYXNzdW1lZC5cbiAqIEBwYXJhbSBmaWx0ZXJTaXplIFRoZSBmaWx0ZXIgc2l6ZTogYFtmaWx0ZXJIZWlnaHQsIGZpbHRlcldpZHRoXWAuIElmXG4gKiAgICAgYGZpbHRlclNpemVgIGlzIGEgc2luZ2xlIG51bWJlciwgdGhlbiBgZmlsdGVySGVpZ2h0ID09IGZpbHRlcldpZHRoYC5cbiAqIEBwYXJhbSBzdHJpZGVzIFRoZSBzdHJpZGVzIG9mIHRoZSBwb29saW5nOiBgW3N0cmlkZUhlaWdodCwgc3RyaWRlV2lkdGhdYC4gSWZcbiAqICAgICBgc3RyaWRlc2AgaXMgYSBzaW5nbGUgbnVtYmVyLCB0aGVuIGBzdHJpZGVIZWlnaHQgPT0gc3RyaWRlV2lkdGhgLlxuICogQHBhcmFtIGRpbGF0aW9ucyBUaGUgZGlsYXRpb24gcmF0ZXM6IGBbZGlsYXRpb25IZWlnaHQsIGRpbGF0aW9uV2lkdGhdYFxuICogICAgIGluIHdoaWNoIHdlIHNhbXBsZSBpbnB1dCB2YWx1ZXMgYWNyb3NzIHRoZSBoZWlnaHQgYW5kIHdpZHRoIGRpbWVuc2lvbnNcbiAqICAgICBpbiBkaWxhdGVkIHBvb2xpbmcuIERlZmF1bHRzIHRvIGBbMSwgMV1gLiBJZiBgZGlsYXRpb25zYCBpcyBhIHNpbmdsZVxuICogICAgIG51bWJlciwgdGhlbiBgZGlsYXRpb25IZWlnaHQgPT0gZGlsYXRpb25XaWR0aGAuIElmIGl0IGlzIGdyZWF0ZXIgdGhhblxuICogICAgIDEsIHRoZW4gYWxsIHZhbHVlcyBvZiBgc3RyaWRlc2AgbXVzdCBiZSAxLlxuICogQHBhcmFtIHBhZCBUaGUgdHlwZSBvZiBwYWRkaW5nIGFsZ29yaXRobS5cbiAqICAgIC0gYHNhbWVgIGFuZCBzdHJpZGUgMTogb3V0cHV0IHdpbGwgYmUgb2Ygc2FtZSBzaXplIGFzIGlucHV0LFxuICogICAgICAgcmVnYXJkbGVzcyBvZiBmaWx0ZXIgc2l6ZS5cbiAqICAgIC0gYHZhbGlkYDogb3V0cHV0IHdpbGwgYmUgc21hbGxlciB0aGFuIGlucHV0IGlmIGZpbHRlciBpcyBsYXJnZXJcbiAqICAgICAgIHRoYW4gMXgxLlxuICogICAgLSBGb3IgbW9yZSBpbmZvLCBzZWUgdGhpcyBndWlkZTpcbiAqICAgICBbaHR0cHM6Ly93d3cudGVuc29yZmxvdy5vcmcvYXBpX2d1aWRlcy9weXRob24vbm4jQ29udm9sdXRpb25dKFxuICogICAgICAgICAgaHR0cHM6Ly93d3cudGVuc29yZmxvdy5vcmcvYXBpX2d1aWRlcy9weXRob24vbm4jQ29udm9sdXRpb24pXG4gKiBAcGFyYW0gZGltUm91bmRpbmdNb2RlIFRoZSByb3VuZGluZyBtb2RlIHVzZWQgd2hlbiBjb21wdXRpbmcgb3V0cHV0XG4gKiAgICAgZGltZW5zaW9ucyBpZiBwYWQgaXMgYSBudW1iZXIuIElmIG5vbmUgaXMgcHJvdmlkZWQsIGl0IHdpbGwgbm90IHJvdW5kXG4gKiAgICAgYW5kIGVycm9yIGlmIHRoZSBvdXRwdXQgaXMgb2YgZnJhY3Rpb25hbCBzaXplLlxuICovXG5mdW5jdGlvbiBtYXhQb29sXzxUIGV4dGVuZHMgVGVuc29yM0R8VGVuc29yNEQ+KFxuICAgIHg6IFR8VGVuc29yTGlrZSwgZmlsdGVyU2l6ZTogW251bWJlciwgbnVtYmVyXXxudW1iZXIsXG4gICAgc3RyaWRlczogW251bWJlciwgbnVtYmVyXXxudW1iZXIsIHBhZDogJ3ZhbGlkJ3wnc2FtZSd8bnVtYmVyLFxuICAgIGRpbVJvdW5kaW5nTW9kZT86ICdmbG9vcid8J3JvdW5kJ3wnY2VpbCcpOiBUIHtcbiAgY29uc3QgJHggPSBjb252ZXJ0VG9UZW5zb3IoeCwgJ3gnLCAnbWF4UG9vbCcpO1xuICBjb25zdCBkaWxhdGlvbnMgPSAxO1xuXG4gIGxldCB4NEQgPSAkeCBhcyBUZW5zb3I0RDtcbiAgbGV0IHJlc2hhcGVkVG80RCA9IGZhbHNlO1xuICBpZiAoJHgucmFuayA9PT0gMykge1xuICAgIHJlc2hhcGVkVG80RCA9IHRydWU7XG4gICAgeDREID0gcmVzaGFwZSgkeCwgWzEsICR4LnNoYXBlWzBdLCAkeC5zaGFwZVsxXSwgJHguc2hhcGVbMl1dKTtcbiAgfVxuXG4gIHV0aWwuYXNzZXJ0KFxuICAgICAgeDRELnJhbmsgPT09IDQsXG4gICAgICAoKSA9PiBgRXJyb3IgaW4gbWF4UG9vbDogaW5wdXQgbXVzdCBiZSByYW5rIDQgYnV0IGdvdCByYW5rICR7eDRELnJhbmt9LmApO1xuICB1dGlsLmFzc2VydChcbiAgICAgIGNvbnZfdXRpbC5laXRoZXJTdHJpZGVzT3JEaWxhdGlvbnNBcmVPbmUoc3RyaWRlcywgZGlsYXRpb25zKSxcbiAgICAgICgpID0+ICdFcnJvciBpbiBtYXhQb29sOiBFaXRoZXIgc3RyaWRlcyBvciBkaWxhdGlvbnMgbXVzdCBiZSAxLiAnICtcbiAgICAgICAgICBgR290IHN0cmlkZXMgJHtzdHJpZGVzfSBhbmQgZGlsYXRpb25zICcke2RpbGF0aW9uc30nYCk7XG4gIGlmIChkaW1Sb3VuZGluZ01vZGUgIT0gbnVsbCkge1xuICAgIHV0aWwuYXNzZXJ0KFxuICAgICAgICB1dGlsLmlzSW50KHBhZCBhcyBudW1iZXIpLFxuICAgICAgICAoKSA9PiBgRXJyb3IgaW4gbWF4UG9vbDogcGFkIG11c3QgYmUgYW4gaW50ZWdlciB3aGVuIHVzaW5nLCBgICtcbiAgICAgICAgICAgIGBkaW1Sb3VuZGluZ01vZGUgJHtkaW1Sb3VuZGluZ01vZGV9IGJ1dCBnb3QgcGFkICR7cGFkfS5gKTtcbiAgfVxuXG4gIGNvbnN0IGZvcndhcmQ6IEZvcndhcmRGdW5jPFRlbnNvcj4gPSAoYmFja2VuZCwgc2F2ZSkgPT4ge1xuICAgIGNvbnN0IGNvbnZJbmZvID0gY29udl91dGlsLmNvbXB1dGVQb29sMkRJbmZvKFxuICAgICAgICB4NEQuc2hhcGUsIGZpbHRlclNpemUsIHN0cmlkZXMsIDEgLyogZGlsYXRpb25zICovLCBwYWQsXG4gICAgICAgIGRpbVJvdW5kaW5nTW9kZSk7XG5cbiAgICBsZXQgeTtcblxuICAgIGlmIChjb252SW5mby5maWx0ZXJXaWR0aCA9PT0gMSAmJiBjb252SW5mby5maWx0ZXJIZWlnaHQgPT09IDEgJiZcbiAgICAgICAgdXRpbC5hcnJheXNFcXVhbChjb252SW5mby5pblNoYXBlLCBjb252SW5mby5vdXRTaGFwZSkpIHtcbiAgICAgIHkgPSB4NEQuY2xvbmUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgeSA9IGJhY2tlbmQubWF4UG9vbCh4NEQsIGNvbnZJbmZvKTtcbiAgICB9XG5cbiAgICBzYXZlKFt4NEQsIHldKTtcblxuICAgIHJldHVybiB5O1xuICB9O1xuXG4gIGNvbnN0IGlucHV0czogTWF4UG9vbElucHV0cyA9IHt4OiB4NER9O1xuXG4gIGNvbnN0IGF0dHJzOiBNYXhQb29sQXR0cnMgPSB7ZmlsdGVyU2l6ZSwgc3RyaWRlcywgcGFkLCBkaW1Sb3VuZGluZ01vZGV9O1xuXG4gIGNvbnN0IHJlcyA9IEVOR0lORS5ydW5LZXJuZWxGdW5jKFxuICAgICAgZm9yd2FyZCwgaW5wdXRzIGFzIHt9IGFzIE5hbWVkVGVuc29yTWFwLCBudWxsIC8qIGdyYWQgKi8sIE1heFBvb2wsXG4gICAgICBhdHRycyBhcyB7fSBhcyBOYW1lZEF0dHJNYXApO1xuXG4gIGlmIChyZXNoYXBlZFRvNEQpIHtcbiAgICByZXR1cm4gcmVzaGFwZShyZXMsIFtyZXMuc2hhcGVbMV0sIHJlcy5zaGFwZVsyXSwgcmVzLnNoYXBlWzNdXSkgYXMgVDtcbiAgfVxuICByZXR1cm4gcmVzIGFzIFQ7XG59XG5cbmV4cG9ydCBjb25zdCBtYXhQb29sID0gb3Aoe21heFBvb2xffSk7XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbmltcG9ydCB7RU5HSU5FLCBGb3J3YXJkRnVuY30gZnJvbSAnLi4vZW5naW5lJztcbmltcG9ydCB7ZGVwcmVjYXRpb25XYXJufSBmcm9tICcuLi9nbG9iYWxzJztcbmltcG9ydCB7TWF4UG9vbDNELCBNYXhQb29sM0RBdHRycywgTWF4UG9vbDNESW5wdXRzfSBmcm9tICcuLi9rZXJuZWxfbmFtZXMnO1xuaW1wb3J0IHtOYW1lZEF0dHJNYXB9IGZyb20gJy4uL2tlcm5lbF9yZWdpc3RyeSc7XG5pbXBvcnQge1RlbnNvciwgVGVuc29yNEQsIFRlbnNvcjVEfSBmcm9tICcuLi90ZW5zb3InO1xuaW1wb3J0IHtOYW1lZFRlbnNvck1hcH0gZnJvbSAnLi4vdGVuc29yX3R5cGVzJztcbmltcG9ydCB7Y29udmVydFRvVGVuc29yfSBmcm9tICcuLi90ZW5zb3JfdXRpbF9lbnYnO1xuaW1wb3J0IHtUZW5zb3JMaWtlfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgKiBhcyB1dGlsIGZyb20gJy4uL3V0aWwnO1xuXG5pbXBvcnQgKiBhcyBjb252X3V0aWwgZnJvbSAnLi9jb252X3V0aWwnO1xuaW1wb3J0IHtvcH0gZnJvbSAnLi9vcGVyYXRpb24nO1xuaW1wb3J0IHtyZXNoYXBlfSBmcm9tICcuL3Jlc2hhcGUnO1xuXG4vKipcbiAqIENvbXB1dGVzIHRoZSAzRCBtYXggcG9vbGluZy5cbiAqXG4gKiBgYGBqc1xuICogY29uc3QgeCA9IHRmLnRlbnNvcjVkKFsxLCAyLCAzLCA0LCA1LCA2LCA3LCA4XSwgWzEsIDIsIDIsIDIsIDFdKTtcbiAqIGNvbnN0IHJlc3VsdCA9IHRmLm1heFBvb2wzZCh4LCAyLCAxLCAndmFsaWQnKTtcbiAqIHJlc3VsdC5wcmludCgpO1xuICogYGBgXG4gKlxuICogQHBhcmFtIHggVGhlIGlucHV0IHRlbnNvciwgb2YgcmFuayA1IG9yIHJhbmsgNCBvZiBzaGFwZVxuICogICAgIGBbYmF0Y2gsIGRlcHRoLCBoZWlnaHQsIHdpZHRoLCBpbkNoYW5uZWxzXWAuXG4gKiBAcGFyYW0gZmlsdGVyU2l6ZSBUaGUgZmlsdGVyIHNpemU6XG4gKiAgICAgYFtmaWx0ZXJEZXB0aCwgZmlsdGVySGVpZ2h0LCBmaWx0ZXJXaWR0aF1gLlxuICogICAgIElmIGBmaWx0ZXJTaXplYCBpcyBhIHNpbmdsZSBudW1iZXIsXG4gKiAgICAgdGhlbiBgZmlsdGVyRGVwdGggPT0gZmlsdGVySGVpZ2h0ID09IGZpbHRlcldpZHRoYC5cbiAqIEBwYXJhbSBzdHJpZGVzIFRoZSBzdHJpZGVzIG9mIHRoZSBwb29saW5nOlxuICogICAgIGBbc3RyaWRlRGVwdGgsIHN0cmlkZUhlaWdodCwgc3RyaWRlV2lkdGhdYC5cbiAqICAgICBJZiBgc3RyaWRlc2AgaXMgYSBzaW5nbGUgbnVtYmVyLFxuICogICAgIHRoZW4gYHN0cmlkZURlcHRoID09IHN0cmlkZUhlaWdodCA9PSBzdHJpZGVXaWR0aGAuXG4gKiBAcGFyYW0gcGFkIFRoZSB0eXBlIG9mIHBhZGRpbmcgYWxnb3JpdGhtLlxuICogICAgLSBgc2FtZWAgYW5kIHN0cmlkZSAxOiBvdXRwdXQgd2lsbCBiZSBvZiBzYW1lIHNpemUgYXMgaW5wdXQsXG4gKiAgICAgICByZWdhcmRsZXNzIG9mIGZpbHRlciBzaXplLlxuICogICAgLSBgdmFsaWRgOiBvdXRwdXQgd2lsbCBiZSBzbWFsbGVyIHRoYW4gaW5wdXQgaWYgZmlsdGVyIGlzIGxhcmdlclxuICogICAgICAgdGhhbiAxKjF4MS5cbiAqICAgIC0gRm9yIG1vcmUgaW5mbywgc2VlIHRoaXMgZ3VpZGU6XG4gKiAgICAgW2h0dHBzOi8vd3d3LnRlbnNvcmZsb3cub3JnL2FwaV9ndWlkZXMvcHl0aG9uL25uI0NvbnZvbHV0aW9uXShcbiAqICAgICAgICAgIGh0dHBzOi8vd3d3LnRlbnNvcmZsb3cub3JnL2FwaV9ndWlkZXMvcHl0aG9uL25uI0NvbnZvbHV0aW9uKVxuICogQHBhcmFtIGRpbVJvdW5kaW5nTW9kZSBUaGUgcm91bmRpbmcgbW9kZSB1c2VkIHdoZW4gY29tcHV0aW5nIG91dHB1dFxuICogICAgIGRpbWVuc2lvbnMgaWYgcGFkIGlzIGEgbnVtYmVyLiBJZiBub25lIGlzIHByb3ZpZGVkLCBpdCB3aWxsIG5vdCByb3VuZFxuICogICAgIGFuZCBlcnJvciBpZiB0aGUgb3V0cHV0IGlzIG9mIGZyYWN0aW9uYWwgc2l6ZS5cbiAqIEBwYXJhbSBkYXRhRm9ybWF0IEFuIG9wdGlvbmFsIHN0cmluZyBmcm9tOiBcIk5ESFdDXCIsIFwiTkNESFdcIi4gRGVmYXVsdHMgdG9cbiAqICAgICBcIk5ESFdDXCIuIFNwZWNpZnkgdGhlIGRhdGEgZm9ybWF0IG9mIHRoZSBpbnB1dCBhbmQgb3V0cHV0IGRhdGEuIFdpdGggdGhlXG4gKiAgICAgZGVmYXVsdCBmb3JtYXQgXCJOREhXQ1wiLCB0aGUgZGF0YSBpcyBzdG9yZWQgaW4gdGhlIG9yZGVyIG9mOiBbYmF0Y2gsXG4gKiAgICAgZGVwdGgsIGhlaWdodCwgd2lkdGgsIGNoYW5uZWxzXS4gT25seSBcIk5ESFdDXCIgaXMgY3VycmVudGx5IHN1cHBvcnRlZC5cbiAqIEBwYXJhbSBkaWxhdGlvbnMgRGVwcmVjYXRlZCwgdGhpcyBmaWVsZCB3aWxsIGJlIGdvbmUgaW4gdjMuMC4wLlxuICogICAgIFRoZSBkaWxhdGlvbiByYXRlczogYFtkaWxhdGlvbkRlcHRoLCBkaWxhdGlvbkhlaWdodCwgZGlsYXRpb25XaWR0aF1gXG4gKiAgICAgaW4gd2hpY2ggd2Ugc2FtcGxlIGlucHV0IHZhbHVlcyBhY3Jvc3MgdGhlIGRlcHRoLCBoZWlnaHQgYW5kIHdpZHRoXG4gKiAgICAgZGltZW5zaW9ucyBpbiBkaWxhdGVkIHBvb2xpbmcuXG4gKiAgICAgRGVmYXVsdHMgdG8gYFsxLCAxLCAxXWAuIElmIGBkaWxhdGlvbnNgIGlzIGEgc2luZ2xlIG51bWJlcixcbiAqICAgICB0aGVuIGBkaWxhdGlvbkRlcHRoID09IGRpbGF0aW9uSGVpZ2h0ID09IGRpbGF0aW9uV2lkdGhgLlxuICogICAgIElmIGl0IGlzIGdyZWF0ZXIgdGhhbiAxLCB0aGVuIGFsbCB2YWx1ZXMgb2YgYHN0cmlkZXNgIG11c3QgYmUgMS5cbiAqXG4gKiBAZG9jIHtoZWFkaW5nOiAnT3BlcmF0aW9ucycsIHN1YmhlYWRpbmc6ICdDb252b2x1dGlvbid9XG4gKi9cbmZ1bmN0aW9uIG1heFBvb2wzZF88VCBleHRlbmRzIFRlbnNvcjREfFRlbnNvcjVEPihcbiAgICB4OiBUfFRlbnNvckxpa2UsIGZpbHRlclNpemU6IFtudW1iZXIsIG51bWJlciwgbnVtYmVyXXxudW1iZXIgPSBbMSwgMSwgMV0sXG4gICAgc3RyaWRlczogW251bWJlciwgbnVtYmVyLCBudW1iZXJdfG51bWJlciwgcGFkOiAndmFsaWQnfCdzYW1lJ3xudW1iZXIsXG4gICAgZGltUm91bmRpbmdNb2RlPzogJ2Zsb29yJ3wncm91bmQnfCdjZWlsJyxcbiAgICBkYXRhRm9ybWF0OiAnTkRIV0MnfCdOQ0RIVycgPSAnTkRIV0MnLFxuICAgIGRpbGF0aW9ucz86IFtudW1iZXIsIG51bWJlciwgbnVtYmVyXXxudW1iZXIpOiBUIHtcbiAgaWYgKGRpbGF0aW9ucyA9PSBudWxsKSB7XG4gICAgZGlsYXRpb25zID0gWzEsIDEsIDFdO1xuICB9IGVsc2Uge1xuICAgIGRlcHJlY2F0aW9uV2FybihcbiAgICAgICAgJ2RpbGF0aW9ucyBpcyBkZXByZWNhdGVkLCB0aGlzIGZpZWxkIHdpbGwgYmUgZ29uZSBpbiAnICtcbiAgICAgICAgJ3YzLjAuMC4nKTtcbiAgfVxuXG4gIGNvbnN0ICR4ID0gY29udmVydFRvVGVuc29yKHgsICd4JywgJ21heFBvb2wzZCcpO1xuXG4gIGxldCB4NUQgPSAkeCBhcyBUZW5zb3I1RDtcbiAgbGV0IHJlc2hhcGVkVG81RCA9IGZhbHNlO1xuICBpZiAoJHgucmFuayA9PT0gNCkge1xuICAgIHJlc2hhcGVkVG81RCA9IHRydWU7XG4gICAgeDVEID0gcmVzaGFwZSgkeCwgWzEsICR4LnNoYXBlWzBdLCAkeC5zaGFwZVsxXSwgJHguc2hhcGVbMl0sICR4LnNoYXBlWzNdXSk7XG4gIH1cblxuICB1dGlsLmFzc2VydChcbiAgICAgIHg1RC5yYW5rID09PSA1LFxuICAgICAgKCkgPT4gYEVycm9yIGluIG1heFBvb2wzZDogeCBtdXN0IGJlIHJhbmsgNSBidXQgZ290IHJhbmsgJHt4NUQucmFua30uYCk7XG4gIHV0aWwuYXNzZXJ0KFxuICAgICAgZGF0YUZvcm1hdCA9PT0gJ05ESFdDJyxcbiAgICAgICgpID0+IGBFcnJvciBpbiBtYXhQb29sM2Q6IE9ubHkgTkRIV0MgaXMgY3VycmVudGx5IHN1cHBvcnRlZCwgYCArXG4gICAgICAgICAgYGJ1dCBnb3QgZGF0YUZvcm1hdCBvZiAke2RhdGFGb3JtYXR9YCk7XG4gIHV0aWwuYXNzZXJ0KFxuICAgICAgY29udl91dGlsLmVpdGhlclN0cmlkZXNPckRpbGF0aW9uc0FyZU9uZShzdHJpZGVzLCBkaWxhdGlvbnMpLFxuICAgICAgKCkgPT4gJ0Vycm9yIGluIG1heFBvb2wzZDogRWl0aGVyIHN0cmlkZXMgb3IgZGlsYXRpb25zIG11c3QgYmUgMS4gJyArXG4gICAgICAgICAgYEdvdCBzdHJpZGVzICR7c3RyaWRlc30gYW5kIGRpbGF0aW9ucyAnJHtkaWxhdGlvbnN9J2ApO1xuICBpZiAoZGltUm91bmRpbmdNb2RlICE9IG51bGwpIHtcbiAgICB1dGlsLmFzc2VydChcbiAgICAgICAgdXRpbC5pc0ludChwYWQgYXMgbnVtYmVyKSxcbiAgICAgICAgKCkgPT4gYEVycm9yIGluIG1heFBvb2wzZDogcGFkIG11c3QgYmUgYW4gaW50ZWdlciB3aGVuIHVzaW5nLCBgICtcbiAgICAgICAgICAgIGBkaW1Sb3VuZGluZ01vZGUgJHtkaW1Sb3VuZGluZ01vZGV9IGJ1dCBnb3QgcGFkICR7cGFkfS5gKTtcbiAgfVxuXG4gIGNvbnN0IGZvcndhcmQ6IEZvcndhcmRGdW5jPFRlbnNvcj4gPSAoYmFja2VuZCwgc2F2ZSkgPT4ge1xuICAgIGlmIChkaWxhdGlvbnMgPT0gbnVsbCkge1xuICAgICAgZGlsYXRpb25zID0gWzEsIDEsIDFdO1xuICAgIH1cbiAgICBjb25zdCBjb252SW5mbyA9IGNvbnZfdXRpbC5jb21wdXRlUG9vbDNESW5mbyhcbiAgICAgICAgeDVELnNoYXBlLCBmaWx0ZXJTaXplLCBzdHJpZGVzLCBkaWxhdGlvbnMsIHBhZCwgZGltUm91bmRpbmdNb2RlLFxuICAgICAgICBkYXRhRm9ybWF0KTtcbiAgICBjb25zdCB5ID0gYmFja2VuZC5tYXhQb29sM2QoeDVELCBjb252SW5mbyk7XG4gICAgc2F2ZShbeDVELCB5XSk7XG4gICAgcmV0dXJuIHk7XG4gIH07XG5cbiAgY29uc3QgaW5wdXRzOiBNYXhQb29sM0RJbnB1dHMgPSB7eDogeDVEfTtcblxuICBjb25zdCBhdHRyczogTWF4UG9vbDNEQXR0cnMgPVxuICAgICAge2ZpbHRlclNpemUsIHN0cmlkZXMsIHBhZCwgZGltUm91bmRpbmdNb2RlLCBkYXRhRm9ybWF0LCBkaWxhdGlvbnN9O1xuXG4gIGNvbnN0IHJlcyA9IEVOR0lORS5ydW5LZXJuZWxGdW5jKFxuICAgICAgZm9yd2FyZCwgaW5wdXRzIGFzIHt9IGFzIE5hbWVkVGVuc29yTWFwLCBudWxsIC8qIGdyYWQgKi8sIE1heFBvb2wzRCxcbiAgICAgIGF0dHJzIGFzIHt9IGFzIE5hbWVkQXR0ck1hcCk7XG5cbiAgaWYgKHJlc2hhcGVkVG81RCkge1xuICAgIHJldHVybiByZXNoYXBlKFxuICAgICAgICAgICAgICAgcmVzLCBbcmVzLnNoYXBlWzFdLCByZXMuc2hhcGVbMl0sIHJlcy5zaGFwZVszXSwgcmVzLnNoYXBlWzRdXSkgYXNcbiAgICAgICAgVDtcbiAgfVxuXG4gIHJldHVybiByZXMgYXMgVDtcbn1cblxuZXhwb3J0IGNvbnN0IG1heFBvb2wzZCA9IG9wKHttYXhQb29sM2RffSk7XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbmltcG9ydCB7RU5HSU5FfSBmcm9tICcuLi9lbmdpbmUnO1xuaW1wb3J0IHtNYXhQb29sV2l0aEFyZ21heCwgTWF4UG9vbFdpdGhBcmdtYXhBdHRycywgTWF4UG9vbFdpdGhBcmdtYXhJbnB1dHN9IGZyb20gJy4uL2tlcm5lbF9uYW1lcyc7XG5pbXBvcnQge05hbWVkQXR0ck1hcH0gZnJvbSAnLi4va2VybmVsX3JlZ2lzdHJ5JztcbmltcG9ydCB7VGVuc29yLCBUZW5zb3I0RH0gZnJvbSAnLi4vdGVuc29yJztcbmltcG9ydCB7TmFtZWRUZW5zb3JNYXB9IGZyb20gJy4uL3RlbnNvcl90eXBlcyc7XG5pbXBvcnQge2NvbnZlcnRUb1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yX3V0aWxfZW52JztcbmltcG9ydCB7VGVuc29yTGlrZX0gZnJvbSAnLi4vdHlwZXMnO1xuXG5pbXBvcnQge29wfSBmcm9tICcuL29wZXJhdGlvbic7XG5cbi8qKlxuICogQ29tcHV0ZXMgdGhlIDJEIG1heCBwb29saW5nIG9mIGFuIGltYWdlIHdpdGggQXJnbWF4IGluZGV4LlxuICogVGhlIGluZGljZXMgaW4gYXJnbWF4IGFyZSBmbGF0dGVuZWQsIHNvIHRoYXQgYSBtYXhpbXVtIHZhbHVlIGF0IHBvc2l0aW9uIGBbYixcbiAqIHksIHgsIGNdYCBiZWNvbWVzIGZsYXR0ZW5lZCBpbmRleDogYCh5ICogd2lkdGggKyB4KSAqIGNoYW5uZWxzICsgY2AgaWZcbiAqIGluY2x1ZGVfYmF0Y2hfaW5faW5kZXggaXMgRmFsc2U7IGAoKGIgKiBoZWlnaHQgKyB5KSAqIHdpZHRoICsgeCkgKiBjaGFubmVsc1xuICogK2NgIGlmIGluY2x1ZGVfYmF0Y2hfaW5faW5kZXggaXMgVHJ1ZS5cbiAqXG4gKiBUaGUgaW5kaWNlcyByZXR1cm5lZCBhcmUgYWx3YXlzIGluIGBbMCwgaGVpZ2h0KSB4IFswLCB3aWR0aClgIGJlZm9yZVxuICogZmxhdHRlbmluZy5cbiAqXG4gKiBAcGFyYW0geCBUaGUgaW5wdXQgdGVuc29yLCBvZiByYW5rIDQgb3IgcmFuayAzIG9mIHNoYXBlXG4gKiAgICAgYFtiYXRjaCwgaGVpZ2h0LCB3aWR0aCwgaW5DaGFubmVsc11gLiBJZiByYW5rIDMsIGJhdGNoIG9mIDEgaXMgYXNzdW1lZC5cbiAqIEBwYXJhbSBmaWx0ZXJTaXplIFRoZSBmaWx0ZXIgc2l6ZTogYFtmaWx0ZXJIZWlnaHQsIGZpbHRlcldpZHRoXWAuIElmXG4gKiAgICAgYGZpbHRlclNpemVgIGlzIGEgc2luZ2xlIG51bWJlciwgdGhlbiBgZmlsdGVySGVpZ2h0ID09IGZpbHRlcldpZHRoYC5cbiAqIEBwYXJhbSBzdHJpZGVzIFRoZSBzdHJpZGVzIG9mIHRoZSBwb29saW5nOiBgW3N0cmlkZUhlaWdodCwgc3RyaWRlV2lkdGhdYC4gSWZcbiAqICAgICBgc3RyaWRlc2AgaXMgYSBzaW5nbGUgbnVtYmVyLCB0aGVuIGBzdHJpZGVIZWlnaHQgPT0gc3RyaWRlV2lkdGhgLlxuICogQHBhcmFtIGRhdGFGb3JtYXQgQW4gb3B0aW9uYWwgc3RyaW5nIGZyb206IFwiTkRIV0NcIiwgXCJOQ0RIV1wiLiBEZWZhdWx0cyB0b1xuICogICAgIFwiTkRIV0NcIi4gU3BlY2lmeSB0aGUgZGF0YSBmb3JtYXQgb2YgdGhlIGlucHV0IGFuZCBvdXRwdXQgZGF0YS4gV2l0aCB0aGVcbiAqICAgICBkZWZhdWx0IGZvcm1hdCBcIk5ESFdDXCIsIHRoZSBkYXRhIGlzIHN0b3JlZCBpbiB0aGUgb3JkZXIgb2Y6IFtiYXRjaCxcbiAqICAgICBkZXB0aCwgaGVpZ2h0LCB3aWR0aCwgY2hhbm5lbHNdLiBPbmx5IFwiTkRIV0NcIiBpcyBjdXJyZW50bHkgc3VwcG9ydGVkLlxuICogQHBhcmFtIHBhZCBUaGUgdHlwZSBvZiBwYWRkaW5nIGFsZ29yaXRobS5cbiAqICAgIC0gYHNhbWVgIGFuZCBzdHJpZGUgMTogb3V0cHV0IHdpbGwgYmUgb2Ygc2FtZSBzaXplIGFzIGlucHV0LFxuICogICAgICAgcmVnYXJkbGVzcyBvZiBmaWx0ZXIgc2l6ZS5cbiAqICAgIC0gYHZhbGlkYDogb3V0cHV0IHdpbGwgYmUgc21hbGxlciB0aGFuIGlucHV0IGlmIGZpbHRlciBpcyBsYXJnZXJcbiAqICAgICAgIHRoYW4gMXgxLlxuICogICAgLSBGb3IgbW9yZSBpbmZvLCBzZWUgdGhpcyBndWlkZTpcbiAqICAgICBbaHR0cHM6Ly93d3cudGVuc29yZmxvdy5vcmcvYXBpX2d1aWRlcy9weXRob24vbm4jQ29udm9sdXRpb25dKFxuICogICAgICAgICAgaHR0cHM6Ly93d3cudGVuc29yZmxvdy5vcmcvYXBpX2d1aWRlcy9weXRob24vbm4jQ29udm9sdXRpb24pXG4gKiBAcGFyYW0gaW5jbHVkZUJhdGNoSW5kZXggRGVmYXVsdHMgdG8gRmFsc2UuIFdoZXRoZXIgdG8gaW5jbHVkZSBiYXRjaFxuICogICAgZGltZW5zaW9uIGluIGZsYXR0ZW5lZCBpbmRleCBvZiBhcmdtYXguXG4gKlxuICogQGRvYyB7aGVhZGluZzogJ09wZXJhdGlvbnMnLCBzdWJoZWFkaW5nOiAnQ29udm9sdXRpb24nfVxuICovXG5mdW5jdGlvbiBtYXhQb29sV2l0aEFyZ21heF88VCBleHRlbmRzIFRlbnNvcjREPihcbiAgICB4OiBUfFRlbnNvckxpa2UsIGZpbHRlclNpemU6IFtudW1iZXIsIG51bWJlcl18bnVtYmVyLFxuICAgIHN0cmlkZXM6IFtudW1iZXIsIG51bWJlcl18bnVtYmVyLCBwYWQ6ICd2YWxpZCd8J3NhbWUnfG51bWJlcixcbiAgICBpbmNsdWRlQmF0Y2hJbkluZGV4ID0gZmFsc2UpOiBOYW1lZFRlbnNvck1hcCB7XG4gIGNvbnN0ICR4ID0gY29udmVydFRvVGVuc29yKHgsICd4JywgJ21heFBvb2xXaXRoQXJnbWF4Jyk7XG5cbiAgY29uc3QgaW5wdXRzOiBNYXhQb29sV2l0aEFyZ21heElucHV0cyA9IHt4OiAkeH07XG4gIGNvbnN0IGF0dHJzOlxuICAgICAgTWF4UG9vbFdpdGhBcmdtYXhBdHRycyA9IHtmaWx0ZXJTaXplLCBzdHJpZGVzLCBwYWQsIGluY2x1ZGVCYXRjaEluSW5kZXh9O1xuXG4gIGNvbnN0IHJlc3VsdCA9IEVOR0lORS5ydW5LZXJuZWwoXG4gICAgICAgICAgICAgICAgICAgICBNYXhQb29sV2l0aEFyZ21heCwgaW5wdXRzIGFzIHt9IGFzIE5hbWVkVGVuc29yTWFwLFxuICAgICAgICAgICAgICAgICAgICAgYXR0cnMgYXMge30gYXMgTmFtZWRBdHRyTWFwKSBhcyBUZW5zb3JbXTtcblxuICByZXR1cm4ge3Jlc3VsdDogcmVzdWx0WzBdLCBpbmRleGVzOiByZXN1bHRbMV19O1xufVxuXG5leHBvcnQgY29uc3QgbWF4UG9vbFdpdGhBcmdtYXggPSBvcCh7bWF4UG9vbFdpdGhBcmdtYXhffSk7XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbmltcG9ydCB7RU5HSU5FfSBmcm9tICcuLi9lbmdpbmUnO1xuaW1wb3J0IHtUZW5zb3J9IGZyb20gJy4uL3RlbnNvcic7XG5pbXBvcnQge0RhdGFUeXBlLCBSYW5rLCBTaGFwZU1hcH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHttYWtlWmVyb3NUeXBlZEFycmF5LCBzaXplRnJvbVNoYXBlfSBmcm9tICcuLi91dGlsJztcblxuaW1wb3J0IHtjb21wbGV4fSBmcm9tICcuL2NvbXBsZXgnO1xuXG4vKipcbiAqIENyZWF0ZXMgYSBgdGYuVGVuc29yYCB3aXRoIGFsbCBlbGVtZW50cyBzZXQgdG8gMC5cbiAqXG4gKiBgYGBqc1xuICogdGYuemVyb3MoWzIsIDJdKS5wcmludCgpO1xuICogYGBgXG4gKlxuICogQHBhcmFtIHNoYXBlIEFuIGFycmF5IG9mIGludGVnZXJzIGRlZmluaW5nIHRoZSBvdXRwdXQgdGVuc29yIHNoYXBlLlxuICogQHBhcmFtIGR0eXBlIFRoZSB0eXBlIG9mIGFuIGVsZW1lbnQgaW4gdGhlIHJlc3VsdGluZyB0ZW5zb3IuIENhblxuICogICAgIGJlICdmbG9hdDMyJywgJ2ludDMyJyBvciAnYm9vbCcuIERlZmF1bHRzIHRvICdmbG9hdCcuXG4gKlxuICogQGRvYyB7aGVhZGluZzogJ1RlbnNvcnMnLCBzdWJoZWFkaW5nOiAnQ3JlYXRpb24nfVxuICovXG5leHBvcnQgZnVuY3Rpb24gemVyb3M8UiBleHRlbmRzIFJhbms+KFxuICAgIHNoYXBlOiBTaGFwZU1hcFtSXSwgZHR5cGU6IERhdGFUeXBlID0gJ2Zsb2F0MzInKTogVGVuc29yPFI+IHtcbiAgaWYgKGR0eXBlID09PSAnY29tcGxleDY0Jykge1xuICAgIGNvbnN0IHJlYWwgPSB6ZXJvcyhzaGFwZSwgJ2Zsb2F0MzInKTtcbiAgICBjb25zdCBpbWFnID0gemVyb3Moc2hhcGUsICdmbG9hdDMyJyk7XG4gICAgcmV0dXJuIGNvbXBsZXgocmVhbCwgaW1hZyk7XG4gIH1cbiAgY29uc3QgdmFsdWVzID0gbWFrZVplcm9zVHlwZWRBcnJheShzaXplRnJvbVNoYXBlKHNoYXBlKSwgZHR5cGUpO1xuICByZXR1cm4gRU5HSU5FLm1ha2VUZW5zb3IodmFsdWVzLCBzaGFwZSwgZHR5cGUpIGFzIFRlbnNvcjxSPjtcbn1cbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE4IEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuaW1wb3J0IHtFTkdJTkV9IGZyb20gJy4uL2VuZ2luZSc7XG5pbXBvcnQge1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yJztcbmltcG9ydCB7RGF0YVR5cGUsIFJhbmssIFNoYXBlTWFwfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQge21ha2VPbmVzVHlwZWRBcnJheSwgc2l6ZUZyb21TaGFwZX0gZnJvbSAnLi4vdXRpbCc7XG5cbmltcG9ydCB7Y29tcGxleH0gZnJvbSAnLi9jb21wbGV4JztcbmltcG9ydCB7emVyb3N9IGZyb20gJy4vemVyb3MnO1xuXG4vKipcbiAqIENyZWF0ZXMgYSBgdGYuVGVuc29yYCB3aXRoIGFsbCBlbGVtZW50cyBzZXQgdG8gMS5cbiAqXG4gKiBgYGBqc1xuICogdGYub25lcyhbMiwgMl0pLnByaW50KCk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gc2hhcGUgQW4gYXJyYXkgb2YgaW50ZWdlcnMgZGVmaW5pbmcgdGhlIG91dHB1dCB0ZW5zb3Igc2hhcGUuXG4gKiBAcGFyYW0gZHR5cGUgVGhlIHR5cGUgb2YgYW4gZWxlbWVudCBpbiB0aGUgcmVzdWx0aW5nIHRlbnNvci4gRGVmYXVsdHMgdG9cbiAqICAgICAnZmxvYXQnLlxuICpcbiAqIEBkb2Mge2hlYWRpbmc6ICdUZW5zb3JzJywgc3ViaGVhZGluZzogJ0NyZWF0aW9uJ31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG9uZXM8UiBleHRlbmRzIFJhbms+KFxuICAgIHNoYXBlOiBTaGFwZU1hcFtSXSwgZHR5cGU6IERhdGFUeXBlID0gJ2Zsb2F0MzInKTogVGVuc29yPFI+IHtcbiAgaWYgKGR0eXBlID09PSAnY29tcGxleDY0Jykge1xuICAgIGNvbnN0IHJlYWwgPSBvbmVzKHNoYXBlLCAnZmxvYXQzMicpO1xuICAgIGNvbnN0IGltYWcgPSB6ZXJvcyhzaGFwZSwgJ2Zsb2F0MzInKTtcbiAgICByZXR1cm4gY29tcGxleChyZWFsLCBpbWFnKTtcbiAgfVxuICBjb25zdCB2YWx1ZXMgPSBtYWtlT25lc1R5cGVkQXJyYXkoc2l6ZUZyb21TaGFwZShzaGFwZSksIGR0eXBlKTtcbiAgcmV0dXJuIEVOR0lORS5tYWtlVGVuc29yKHZhbHVlcywgc2hhcGUsIGR0eXBlKSBhcyBUZW5zb3I8Uj47XG59XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5pbXBvcnQge2N1c3RvbUdyYWR9IGZyb20gJy4uL2dyYWRpZW50cyc7XG5pbXBvcnQge1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yJztcbmltcG9ydCB7Y29udmVydFRvVGVuc29yfSBmcm9tICcuLi90ZW5zb3JfdXRpbF9lbnYnO1xuaW1wb3J0IHtUZW5zb3JMaWtlfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQge3BhcnNlQXhpc1BhcmFtLCBzaXplRnJvbVNoYXBlfSBmcm9tICcuLi91dGlsJztcblxuaW1wb3J0IHtjb21wdXRlT3V0QW5kUmVkdWNlU2hhcGVzfSBmcm9tICcuL2F4aXNfdXRpbCc7XG5pbXBvcnQge2Nhc3R9IGZyb20gJy4vY2FzdCc7XG5pbXBvcnQge2Rpdn0gZnJvbSAnLi9kaXYnO1xuaW1wb3J0IHttdWx9IGZyb20gJy4vbXVsJztcbmltcG9ydCB7b25lc30gZnJvbSAnLi9vbmVzJztcbmltcG9ydCB7b3B9IGZyb20gJy4vb3BlcmF0aW9uJztcbmltcG9ydCB7cmVzaGFwZX0gZnJvbSAnLi9yZXNoYXBlJztcbmltcG9ydCB7c2NhbGFyfSBmcm9tICcuL3NjYWxhcic7XG5pbXBvcnQge3N1bX0gZnJvbSAnLi9zdW0nO1xuXG4vKipcbiAqIENvbXB1dGVzIHRoZSBtZWFuIG9mIGVsZW1lbnRzIGFjcm9zcyBkaW1lbnNpb25zIG9mIGEgYHRmLlRlbnNvcmAuXG4gKlxuICogUmVkdWNlcyBgeGAgYWxvbmcgdGhlIGRpbWVuc2lvbnMgZ2l2ZW4gaW4gYGF4aXNgLiBVbmxlc3MgYGtlZXBEaW1zYCBpc1xuICogdHJ1ZSwgdGhlIHJhbmsgb2YgdGhlIGB0Zi5UZW5zb3JgIGlzIHJlZHVjZWQgYnkgMSBmb3IgZWFjaCBlbnRyeSBpbiBgYXhpc2AuXG4gKiBJZiBga2VlcERpbXNgIGlzIHRydWUsIHRoZSByZWR1Y2VkIGRpbWVuc2lvbnMgYXJlIHJldGFpbmVkIHdpdGggbGVuZ3RoIDEuXG4gKiBJZiBgYXhpc2AgaGFzIG5vIGVudHJpZXMsIGFsbCBkaW1lbnNpb25zIGFyZSByZWR1Y2VkLCBhbmQgYSBgdGYuVGVuc29yYCB3aXRoXG4gKiBhIHNpbmdsZSBlbGVtZW50IGlzIHJldHVybmVkLlxuICpcbiAqIGBgYGpzXG4gKiBjb25zdCB4ID0gdGYudGVuc29yMWQoWzEsIDIsIDNdKTtcbiAqXG4gKiB4Lm1lYW4oKS5wcmludCgpOyAgLy8gb3IgdGYubWVhbihhKVxuICogYGBgXG4gKlxuICogYGBganNcbiAqIGNvbnN0IHggPSB0Zi50ZW5zb3IyZChbMSwgMiwgMywgNF0sIFsyLCAyXSk7XG4gKlxuICogY29uc3QgYXhpcyA9IDE7XG4gKiB4Lm1lYW4oYXhpcykucHJpbnQoKTsgIC8vIG9yIHRmLm1lYW4oeCwgYXhpcylcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB4IFRoZSBpbnB1dCB0ZW5zb3IuXG4gKiBAcGFyYW0gYXhpcyBUaGUgZGltZW5zaW9uKHMpIHRvIHJlZHVjZS4gQnkgZGVmYXVsdCBpdCByZWR1Y2VzXG4gKiAgICAgYWxsIGRpbWVuc2lvbnMuXG4gKiBAcGFyYW0ga2VlcERpbXMgSWYgdHJ1ZSwgcmV0YWlucyByZWR1Y2VkIGRpbWVuc2lvbnMgd2l0aCBzaXplIDEuXG4gKlxuICogQGRvYyB7aGVhZGluZzogJ09wZXJhdGlvbnMnLCBzdWJoZWFkaW5nOiAnUmVkdWN0aW9uJ31cbiAqL1xuZnVuY3Rpb24gbWVhbl88VCBleHRlbmRzIFRlbnNvcj4oXG4gICAgeDogVGVuc29yfFRlbnNvckxpa2UsIGF4aXM6IG51bWJlcnxudW1iZXJbXSA9IG51bGwsIGtlZXBEaW1zID0gZmFsc2UpOiBUIHtcbiAgY29uc3QgJHggPSBjb252ZXJ0VG9UZW5zb3IoeCwgJ3gnLCAnbWVhbicpO1xuXG4gIGNvbnN0IGF4ZXMgPSBwYXJzZUF4aXNQYXJhbShheGlzLCAkeC5zaGFwZSk7XG4gIGNvbnN0IHNoYXBlcyA9IGNvbXB1dGVPdXRBbmRSZWR1Y2VTaGFwZXMoJHguc2hhcGUsIGF4ZXMpO1xuICBjb25zdCByZWR1Y2VTaGFwZSA9IHNoYXBlc1sxXTtcbiAgY29uc3QgcmVkdWNlU2l6ZSA9IHNpemVGcm9tU2hhcGUocmVkdWNlU2hhcGUpO1xuXG4gIC8vIFVzZSBhIGN1c3RvbSBncmFkaWVudCB0byBieXBhc3MgMiBncmFkaWVudCBiYWNrcHJvcHMgc2luY2UgbWVhbiBpcyB1c2VkXG4gIC8vIGV4dHJlbWVseSBvZnRlbi5cbiAgY29uc3QgY3VzdG9tT3AgPSBjdXN0b21HcmFkKCh4OiBUZW5zb3IpID0+IHtcbiAgICBjb25zdCByZWR1Y2VTaXplU2NhbGFyID0gc2NhbGFyKHJlZHVjZVNpemUpO1xuICAgIC8vIENhc3QgaWYgbmVlZGVkLlxuICAgIGNvbnN0IHhSZWR1Y2UgPSByZWR1Y2VTaXplU2NhbGFyLmR0eXBlID09PSB4LmR0eXBlID9cbiAgICAgICAgeCA6XG4gICAgICAgIGNhc3QoeCwgcmVkdWNlU2l6ZVNjYWxhci5kdHlwZSk7XG4gICAgY29uc3QgcmVzID0gZGl2KHhSZWR1Y2UsIHJlZHVjZVNpemVTY2FsYXIpO1xuICAgIGNvbnN0IHZhbHVlID0gc3VtKHJlcywgYXhpcywga2VlcERpbXMpO1xuXG4gICAgY29uc3QgZ3JhZEZ1bmMgPSAoZHk6IFRlbnNvcikgPT4ge1xuICAgICAgY29uc3QgZXhwYW5kZWREeVNoYXBlID0geC5zaGFwZS5zbGljZSgpO1xuICAgICAgYXhlcy5mb3JFYWNoKGF4aXMgPT4ge1xuICAgICAgICBleHBhbmRlZER5U2hhcGVbYXhpc10gPSAxO1xuICAgICAgfSk7XG4gICAgICBjb25zdCBleHBhbmRlZER5ID0gcmVzaGFwZShkeSwgZXhwYW5kZWREeVNoYXBlKTtcbiAgICAgIGNvbnN0IGRlclggPSBkaXYobXVsKGV4cGFuZGVkRHksIG9uZXMoeC5zaGFwZSwgJ2Zsb2F0MzInKSksIHJlZHVjZVNpemUpO1xuICAgICAgcmV0dXJuIGRlclg7XG4gICAgfTtcbiAgICByZXR1cm4ge3ZhbHVlLCBncmFkRnVuY307XG4gIH0pO1xuXG4gIHJldHVybiBjdXN0b21PcCgkeCkgYXMgVDtcbn1cblxuZXhwb3J0IGNvbnN0IG1lYW4gPSBvcCh7bWVhbl99KTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cbmltcG9ydCB7S2VybmVsQmFja2VuZH0gZnJvbSAnLi4vYmFja2VuZHMvYmFja2VuZCc7XG5pbXBvcnQge0VOR0lORSwgRm9yd2FyZEZ1bmN9IGZyb20gJy4uL2VuZ2luZSc7XG5pbXBvcnQge01pbiwgTWluQXR0cnMsIE1pbklucHV0c30gZnJvbSAnLi4va2VybmVsX25hbWVzJztcbmltcG9ydCB7TmFtZWRBdHRyTWFwfSBmcm9tICcuLi9rZXJuZWxfcmVnaXN0cnknO1xuaW1wb3J0IHtUZW5zb3J9IGZyb20gJy4uL3RlbnNvcic7XG5pbXBvcnQge0dyYWRTYXZlRnVuYywgTmFtZWRUZW5zb3JNYXB9IGZyb20gJy4uL3RlbnNvcl90eXBlcyc7XG5pbXBvcnQge2NvbnZlcnRUb1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yX3V0aWxfZW52JztcbmltcG9ydCB7VGVuc29yTGlrZX0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHtwYXJzZUF4aXNQYXJhbX0gZnJvbSAnLi4vdXRpbCc7XG5cbmltcG9ydCAqIGFzIGF4aXNfdXRpbCBmcm9tICcuL2F4aXNfdXRpbCc7XG5pbXBvcnQge29wfSBmcm9tICcuL29wZXJhdGlvbic7XG5pbXBvcnQge3Jlc2hhcGV9IGZyb20gJy4vcmVzaGFwZSc7XG5pbXBvcnQge3RyYW5zcG9zZX0gZnJvbSAnLi90cmFuc3Bvc2UnO1xuXG4vKipcbiAqIENvbXB1dGVzIHRoZSBtaW5pbXVtIHZhbHVlIGZyb20gdGhlIGlucHV0LlxuICpcbiAqIFJlZHVjZXMgdGhlIGlucHV0IGFsb25nIHRoZSBkaW1lbnNpb25zIGdpdmVuIGluIGBheGVzYC4gVW5sZXNzIGBrZWVwRGltc2BcbiAqIGlzIHRydWUsIHRoZSByYW5rIG9mIHRoZSBhcnJheSBpcyByZWR1Y2VkIGJ5IDEgZm9yIGVhY2ggZW50cnkgaW4gYGF4ZXNgLlxuICogSWYgYGtlZXBEaW1zYCBpcyB0cnVlLCB0aGUgcmVkdWNlZCBkaW1lbnNpb25zIGFyZSByZXRhaW5lZCB3aXRoIGxlbmd0aCAxLlxuICogSWYgYGF4ZXNgIGhhcyBubyBlbnRyaWVzLCBhbGwgZGltZW5zaW9ucyBhcmUgcmVkdWNlZCwgYW5kIGFuIGFycmF5IHdpdGggYVxuICogc2luZ2xlIGVsZW1lbnQgaXMgcmV0dXJuZWQuXG4gKlxuICogYGBganNcbiAqIGNvbnN0IHggPSB0Zi50ZW5zb3IxZChbMSwgMiwgM10pO1xuICpcbiAqIHgubWluKCkucHJpbnQoKTsgIC8vIG9yIHRmLm1pbih4KVxuICogYGBgXG4gKlxuICogYGBganNcbiAqIGNvbnN0IHggPSB0Zi50ZW5zb3IyZChbMSwgMiwgMywgNF0sIFsyLCAyXSk7XG4gKlxuICogY29uc3QgYXhpcyA9IDE7XG4gKiB4Lm1pbihheGlzKS5wcmludCgpOyAgLy8gb3IgdGYubWluKHgsIGF4aXMpXG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0geCBUaGUgaW5wdXQgVGVuc29yLlxuICogQHBhcmFtIGF4aXMgVGhlIGRpbWVuc2lvbihzKSB0byByZWR1Y2UuIEJ5IGRlZmF1bHQgaXQgcmVkdWNlc1xuICogICAgIGFsbCBkaW1lbnNpb25zLlxuICogQHBhcmFtIGtlZXBEaW1zIElmIHRydWUsIHJldGFpbnMgcmVkdWNlZCBkaW1lbnNpb25zIHdpdGggc2l6ZSAxLlxuICpcbiAqIEBkb2Mge2hlYWRpbmc6ICdPcGVyYXRpb25zJywgc3ViaGVhZGluZzogJ1JlZHVjdGlvbid9XG4gKi9cbmZ1bmN0aW9uIG1pbl88VCBleHRlbmRzIFRlbnNvcj4oXG4gICAgeDogVGVuc29yfFRlbnNvckxpa2UsIGF4aXM6IG51bWJlcnxudW1iZXJbXSA9IG51bGwsIGtlZXBEaW1zID0gZmFsc2UpOiBUIHtcbiAgY29uc3QgJHggPSBjb252ZXJ0VG9UZW5zb3IoeCwgJ3gnLCAnbWluJyk7XG5cbiAgY29uc3QgZm9yd2FyZDogRm9yd2FyZEZ1bmM8VGVuc29yPiA9XG4gICAgICAoYmFja2VuZDogS2VybmVsQmFja2VuZCwgc2F2ZTogR3JhZFNhdmVGdW5jKSA9PiB7XG4gICAgICAgIGNvbnN0IG9yaWdBeGVzID0gcGFyc2VBeGlzUGFyYW0oYXhpcywgJHguc2hhcGUpO1xuICAgICAgICBsZXQgYXhlcyA9IG9yaWdBeGVzO1xuICAgICAgICBjb25zdCBwZXJtdXRlZEF4ZXMgPSBheGlzX3V0aWwuZ2V0QXhlc1Blcm11dGF0aW9uKGF4ZXMsICR4LnJhbmspO1xuICAgICAgICBsZXQgbWluSW5wdXQgPSAkeDtcbiAgICAgICAgaWYgKHBlcm11dGVkQXhlcyAhPSBudWxsKSB7XG4gICAgICAgICAgbWluSW5wdXQgPSB0cmFuc3Bvc2UoJHgsIHBlcm11dGVkQXhlcyk7XG4gICAgICAgICAgYXhlcyA9IGF4aXNfdXRpbC5nZXRJbm5lck1vc3RBeGVzKGF4ZXMubGVuZ3RoLCAkeC5yYW5rKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHkgPSBiYWNrZW5kLm1pbihtaW5JbnB1dCwgYXhlcyk7XG4gICAgICAgIGlmIChwZXJtdXRlZEF4ZXMgIT0gbnVsbCkge1xuICAgICAgICAgIG1pbklucHV0LmRpc3Bvc2UoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCByZXMgPSB5O1xuICAgICAgICBpZiAoa2VlcERpbXMpIHtcbiAgICAgICAgICBjb25zdCBleHBhbmRlZFNoYXBlID1cbiAgICAgICAgICAgICAgYXhpc191dGlsLmV4cGFuZFNoYXBlVG9LZWVwRGltKHJlcy5zaGFwZSwgb3JpZ0F4ZXMpO1xuICAgICAgICAgIHJlcyA9IHJlc2hhcGUoeSwgZXhwYW5kZWRTaGFwZSkgYXMgVDtcbiAgICAgICAgICB5LmRpc3Bvc2UoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHNhdmUoWyR4LCByZXNdKTtcbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICAgIH07XG5cbiAgY29uc3QgaW5wdXRzOiBNaW5JbnB1dHMgPSB7eDogJHh9O1xuICBjb25zdCBhdHRyczogTWluQXR0cnMgPSB7YXhpcywga2VlcERpbXN9O1xuXG4gIHJldHVybiBFTkdJTkUucnVuS2VybmVsRnVuYyhcbiAgICAgICAgICAgICBmb3J3YXJkLCBpbnB1dHMgYXMge30gYXMgTmFtZWRUZW5zb3JNYXAsIG51bGwgLyogZ3JhZGllbnQgKi8sIE1pbixcbiAgICAgICAgICAgICBhdHRycyBhcyB7fSBhcyBOYW1lZEF0dHJNYXApIGFzIFQ7XG59XG5cbmV4cG9ydCBjb25zdCBtaW4gPSBvcCh7bWluX30pO1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG5pbXBvcnQge0VOR0lORSwgRm9yd2FyZEZ1bmN9IGZyb20gJy4uL2VuZ2luZSc7XG5pbXBvcnQge01pbmltdW0sIE1pbmltdW1JbnB1dHN9IGZyb20gJy4uL2tlcm5lbF9uYW1lcyc7XG5pbXBvcnQge1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yJztcbmltcG9ydCB7TmFtZWRUZW5zb3JNYXB9IGZyb20gJy4uL3RlbnNvcl90eXBlcyc7XG5pbXBvcnQge21ha2VUeXBlc01hdGNofSBmcm9tICcuLi90ZW5zb3JfdXRpbCc7XG5pbXBvcnQge2NvbnZlcnRUb1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yX3V0aWxfZW52JztcbmltcG9ydCB7VGVuc29yTGlrZX0gZnJvbSAnLi4vdHlwZXMnO1xuXG5pbXBvcnQge2Fzc2VydEFuZEdldEJyb2FkY2FzdFNoYXBlfSBmcm9tICcuL2Jyb2FkY2FzdF91dGlsJztcbmltcG9ydCB7Y2FzdH0gZnJvbSAnLi9jYXN0JztcbmltcG9ydCB7b3B9IGZyb20gJy4vb3BlcmF0aW9uJztcblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBtaW4gb2YgYSBhbmQgYiAoYGEgPCBiID8gYSA6IGJgKSBlbGVtZW50LXdpc2UuXG4gKiBTdXBwb3J0cyBicm9hZGNhc3RpbmcuXG4gKlxuICogV2UgYWxzbyBleHBvc2UgYG1pbmltdW1TdHJpY3RgIHdoaWNoIGhhcyB0aGUgc2FtZSBzaWduYXR1cmUgYXMgdGhpcyBvcCBhbmRcbiAqIGFzc2VydHMgdGhhdCBgYWAgYW5kIGBiYCBhcmUgdGhlIHNhbWUgc2hhcGUgKGRvZXMgbm90IGJyb2FkY2FzdCkuXG4gKlxuICogYGBganNcbiAqIGNvbnN0IGEgPSB0Zi50ZW5zb3IxZChbMSwgNCwgMywgMTZdKTtcbiAqIGNvbnN0IGIgPSB0Zi50ZW5zb3IxZChbMSwgMiwgOSwgNF0pO1xuICpcbiAqIGEubWluaW11bShiKS5wcmludCgpOyAgLy8gb3IgdGYubWluaW11bShhLCBiKVxuICogYGBgXG4gKlxuICogYGBganNcbiAqIC8vIEJyb2FkY2FzdCBtaW5pbXVtIGEgd2l0aCBiLlxuICogY29uc3QgYSA9IHRmLnRlbnNvcjFkKFsyLCA0LCA2LCA4XSk7XG4gKiBjb25zdCBiID0gdGYuc2NhbGFyKDUpO1xuICpcbiAqIGEubWluaW11bShiKS5wcmludCgpOyAgLy8gb3IgdGYubWluaW11bShhLCBiKVxuICogYGBgXG4gKlxuICogQHBhcmFtIGEgVGhlIGZpcnN0IHRlbnNvci5cbiAqIEBwYXJhbSBiIFRoZSBzZWNvbmQgdGVuc29yLiBNdXN0IGhhdmUgdGhlIHNhbWUgdHlwZSBhcyBgYWAuXG4gKlxuICogQGRvYyB7aGVhZGluZzogJ09wZXJhdGlvbnMnLCBzdWJoZWFkaW5nOiAnQXJpdGhtZXRpYyd9XG4gKi9cbmZ1bmN0aW9uIG1pbmltdW1fPFQgZXh0ZW5kcyBUZW5zb3I+KFxuICAgIGE6IFRlbnNvcnxUZW5zb3JMaWtlLCBiOiBUZW5zb3J8VGVuc29yTGlrZSk6IFQge1xuICBsZXQgJGEgPSBjb252ZXJ0VG9UZW5zb3IoYSwgJ2EnLCAnbWluaW11bScpO1xuICBsZXQgJGIgPSBjb252ZXJ0VG9UZW5zb3IoYiwgJ2InLCAnbWluaW11bScpO1xuICBbJGEsICRiXSA9IG1ha2VUeXBlc01hdGNoKCRhLCAkYik7XG5cbiAgaWYgKCRhLmR0eXBlID09PSAnYm9vbCcpIHtcbiAgICAkYSA9IGNhc3QoJGEsICdpbnQzMicpO1xuICAgICRiID0gY2FzdCgkYiwgJ2ludDMyJyk7XG4gIH1cblxuICBhc3NlcnRBbmRHZXRCcm9hZGNhc3RTaGFwZSgkYS5zaGFwZSwgJGIuc2hhcGUpO1xuXG4gIGNvbnN0IGZvcndhcmQ6IEZvcndhcmRGdW5jPFRlbnNvcj4gPSAoYmFja2VuZCwgc2F2ZSkgPT4ge1xuICAgIGNvbnN0IHJlcyA9IGJhY2tlbmQubWluaW11bSgkYSwgJGIpO1xuICAgIHNhdmUoWyRhLCAkYl0pO1xuICAgIHJldHVybiByZXM7XG4gIH07XG4gIGNvbnN0IGlucHV0czogTWluaW11bUlucHV0cyA9IHthOiAkYSwgYjogJGJ9O1xuXG4gIHJldHVybiBFTkdJTkUucnVuS2VybmVsRnVuYyhcbiAgICAgICAgICAgICBmb3J3YXJkLCBpbnB1dHMgYXMge30gYXMgTmFtZWRUZW5zb3JNYXAsIG51bGwgLyogZ3JhZGllbnQgKi8sXG4gICAgICAgICAgICAgTWluaW11bSkgYXMgVDtcbn1cblxuZXhwb3J0IGNvbnN0IG1pbmltdW0gPSBvcCh7bWluaW11bV99KTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuaW1wb3J0IHtFTkdJTkUsIEZvcndhcmRGdW5jfSBmcm9tICcuLi9lbmdpbmUnO1xuaW1wb3J0IHtNb2QsIE1vZElucHV0c30gZnJvbSAnLi4va2VybmVsX25hbWVzJztcbmltcG9ydCB7VGVuc29yfSBmcm9tICcuLi90ZW5zb3InO1xuaW1wb3J0IHtOYW1lZFRlbnNvck1hcH0gZnJvbSAnLi4vdGVuc29yX3R5cGVzJztcbmltcG9ydCB7bWFrZVR5cGVzTWF0Y2h9IGZyb20gJy4uL3RlbnNvcl91dGlsJztcbmltcG9ydCB7Y29udmVydFRvVGVuc29yfSBmcm9tICcuLi90ZW5zb3JfdXRpbF9lbnYnO1xuaW1wb3J0IHtUZW5zb3JMaWtlfSBmcm9tICcuLi90eXBlcyc7XG5cbmltcG9ydCB7b3B9IGZyb20gJy4vb3BlcmF0aW9uJztcblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBtb2Qgb2YgYSBhbmQgYiBlbGVtZW50LXdpc2UuXG4gKiBgZmxvb3IoeCAvIHkpICogeSArIG1vZCh4LCB5KSA9IHhgXG4gKiBTdXBwb3J0cyBicm9hZGNhc3RpbmcuXG4gKlxuICogV2UgYWxzbyBleHBvc2UgYHRmLm1vZFN0cmljdGAgd2hpY2ggaGFzIHRoZSBzYW1lIHNpZ25hdHVyZSBhcyB0aGlzIG9wIGFuZFxuICogYXNzZXJ0cyB0aGF0IGBhYCBhbmQgYGJgIGFyZSB0aGUgc2FtZSBzaGFwZSAoZG9lcyBub3QgYnJvYWRjYXN0KS5cbiAqXG4gKiBgYGBqc1xuICogY29uc3QgYSA9IHRmLnRlbnNvcjFkKFsxLCA0LCAzLCAxNl0pO1xuICogY29uc3QgYiA9IHRmLnRlbnNvcjFkKFsxLCAyLCA5LCA0XSk7XG4gKlxuICogYS5tb2QoYikucHJpbnQoKTsgIC8vIG9yIHRmLm1vZChhLCBiKVxuICogYGBgXG4gKlxuICogYGBganNcbiAqIC8vIEJyb2FkY2FzdCBhIG1vZCBiLlxuICogY29uc3QgYSA9IHRmLnRlbnNvcjFkKFsyLCA0LCA2LCA4XSk7XG4gKiBjb25zdCBiID0gdGYuc2NhbGFyKDUpO1xuICpcbiAqIGEubW9kKGIpLnByaW50KCk7ICAvLyBvciB0Zi5tb2QoYSwgYilcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBhIFRoZSBmaXJzdCB0ZW5zb3IuXG4gKiBAcGFyYW0gYiBUaGUgc2Vjb25kIHRlbnNvci4gTXVzdCBoYXZlIHRoZSBzYW1lIHR5cGUgYXMgYGFgLlxuICpcbiAqIEBkb2Mge2hlYWRpbmc6ICdPcGVyYXRpb25zJywgc3ViaGVhZGluZzogJ0FyaXRobWV0aWMnfVxuICovXG5mdW5jdGlvbiBtb2RfPFQgZXh0ZW5kcyBUZW5zb3I+KGE6IFRlbnNvcnxUZW5zb3JMaWtlLCBiOiBUZW5zb3J8VGVuc29yTGlrZSk6IFQge1xuICBsZXQgJGEgPSBjb252ZXJ0VG9UZW5zb3IoYSwgJ2EnLCAnbW9kJyk7XG4gIGxldCAkYiA9IGNvbnZlcnRUb1RlbnNvcihiLCAnYicsICdtb2QnKTtcbiAgWyRhLCAkYl0gPSBtYWtlVHlwZXNNYXRjaCgkYSwgJGIpO1xuXG4gIGNvbnN0IGZvcndhcmQ6IEZvcndhcmRGdW5jPFRlbnNvcj4gPSAoYmFja2VuZCwgc2F2ZSkgPT4ge1xuICAgIGNvbnN0IHJlcyA9IGJhY2tlbmQubW9kKCRhLCAkYik7XG4gICAgc2F2ZShbJGEsICRiXSk7XG4gICAgcmV0dXJuIHJlcztcbiAgfTtcbiAgY29uc3QgaW5wdXRzOiBNb2RJbnB1dHMgPSB7YTogJGEsIGI6ICRifTtcblxuICByZXR1cm4gRU5HSU5FLnJ1bktlcm5lbEZ1bmMoXG4gICAgICAgICAgICAgZm9yd2FyZCwgaW5wdXRzIGFzIHt9IGFzIE5hbWVkVGVuc29yTWFwLCBudWxsIC8qIGdyYWRpZW50ICovLFxuICAgICAgICAgICAgIE1vZCkgYXMgVDtcbn1cblxuZXhwb3J0IGNvbnN0IG1vZCA9IG9wKHttb2RffSk7XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOSBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbmltcG9ydCB7RU5HSU5FfSBmcm9tICcuLi9lbmdpbmUnO1xuaW1wb3J0IHtUZW5zb3J9IGZyb20gJy4uL3RlbnNvcic7XG5pbXBvcnQge2NvbnZlcnRUb1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yX3V0aWxfZW52JztcbmltcG9ydCB7VGVuc29yTGlrZX0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHtvcH0gZnJvbSAnLi9vcGVyYXRpb24nO1xuXG4vKipcbiAqIENvbXB1dGVzIHNxdWFyZSBvZiBgeGAgZWxlbWVudC13aXNlOiBgeCBeIDJgXG4gKlxuICogYGBganNcbiAqIGNvbnN0IHggPSB0Zi50ZW5zb3IxZChbMSwgMiwgTWF0aC5zcXJ0KDIpLCAtMV0pO1xuICpcbiAqIHguc3F1YXJlKCkucHJpbnQoKTsgIC8vIG9yIHRmLnNxdWFyZSh4KVxuICogYGBgXG4gKiBAcGFyYW0geCBUaGUgaW5wdXQgVGVuc29yLlxuICpcbiAqIEBkb2Mge2hlYWRpbmc6ICdPcGVyYXRpb25zJywgc3ViaGVhZGluZzogJ0Jhc2ljIG1hdGgnfVxuICovXG5mdW5jdGlvbiBzcXVhcmVfPFQgZXh0ZW5kcyBUZW5zb3I+KHg6IFR8VGVuc29yTGlrZSk6IFQge1xuICBjb25zdCAkeCA9IGNvbnZlcnRUb1RlbnNvcih4LCAneCcsICdzcXVhcmUnKTtcbiAgY29uc3QgYXR0cnMgPSB7fTtcbiAgY29uc3QgaW5wdXRzVG9TYXZlID0gWyR4XTtcbiAgY29uc3Qgb3V0cHV0c1RvU2F2ZTogYm9vbGVhbltdID0gW107XG4gIHJldHVybiBFTkdJTkUucnVuS2VybmVsRnVuYygoYmFja2VuZCwgc2F2ZSkgPT4ge1xuICAgIHNhdmUoWyR4XSk7XG4gICAgcmV0dXJuIGJhY2tlbmQuc3F1YXJlKCR4KTtcbiAgfSwge3g6ICR4fSwgbnVsbCAvKiBncmFkICovLCAnU3F1YXJlJywgYXR0cnMsIGlucHV0c1RvU2F2ZSwgb3V0cHV0c1RvU2F2ZSk7XG59XG5cbmV4cG9ydCBjb25zdCBzcXVhcmUgPSBvcCh7c3F1YXJlX30pO1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG5pbXBvcnQge1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yJztcbmltcG9ydCB7Y29udmVydFRvVGVuc29yfSBmcm9tICcuLi90ZW5zb3JfdXRpbF9lbnYnO1xuaW1wb3J0IHtUZW5zb3JMaWtlfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQge3BhcnNlQXhpc1BhcmFtfSBmcm9tICcuLi91dGlsJztcblxuaW1wb3J0IHtleHBhbmRTaGFwZVRvS2VlcERpbX0gZnJvbSAnLi9heGlzX3V0aWwnO1xuaW1wb3J0IHtjYXN0fSBmcm9tICcuL2Nhc3QnO1xuaW1wb3J0IHttZWFufSBmcm9tICcuL21lYW4nO1xuaW1wb3J0IHtvcH0gZnJvbSAnLi9vcGVyYXRpb24nO1xuaW1wb3J0IHtyZXNoYXBlfSBmcm9tICcuL3Jlc2hhcGUnO1xuaW1wb3J0IHtzcXVhcmV9IGZyb20gJy4vc3F1YXJlJztcbmltcG9ydCB7c3VifSBmcm9tICcuL3N1Yic7XG5cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgbWVhbiBhbmQgdmFyaWFuY2Ugb2YgYHhgLiBUaGUgbWVhbiBhbmQgdmFyaWFuY2UgYXJlXG4gKiBjYWxjdWxhdGVkIGJ5IGFnZ3JlZ2F0aW5nIHRoZSBjb250ZW50cyBvZiBgeGAgYWNyb3NzIGBheGVzYC4gSWYgYHhgIGlzXG4gKiAxLUQgYW5kIGBheGVzID0gWzBdYCB0aGlzIGlzIGp1c3QgdGhlIG1lYW4gYW5kIHZhcmlhbmNlIG9mIGEgdmVjdG9yLlxuICpcbiAqIEBwYXJhbSB4IFRoZSBpbnB1dCB0ZW5zb3IuXG4gKiBAcGFyYW0gYXhpcyBUaGUgZGltZW5zaW9uKHMpIGFsb25nIHdpdGggdG8gY29tcHV0ZSBtZWFuIGFuZFxuICogICAgIHZhcmlhbmNlLiBCeSBkZWZhdWx0IGl0IHJlZHVjZXMgYWxsIGRpbWVuc2lvbnMuXG4gKiBAcGFyYW0ga2VlcERpbXMgSWYgdHJ1ZSwgdGhlIG1vbWVudHMgaGF2ZSB0aGUgc2FtZSBkaW1lbnNpb25hbGl0eSBhcyB0aGVcbiAqICAgICBpbnB1dC5cbiAqIEByZXR1cm4gQW4gb2JqZWN0IHdpdGggdHdvIGtleXM6IGBtZWFuYCBhbmQgYHZhcmlhbmNlYC5cbiAqXG4gKiBAZG9jIHtoZWFkaW5nOiAnT3BlcmF0aW9ucycsIHN1YmhlYWRpbmc6ICdOb3JtYWxpemF0aW9uJ31cbiAqL1xuZnVuY3Rpb24gbW9tZW50c18oXG4gICAgeDogVGVuc29yfFRlbnNvckxpa2UsIGF4aXM6IG51bWJlcnxudW1iZXJbXSA9IG51bGwsXG4gICAga2VlcERpbXMgPSBmYWxzZSk6IHttZWFuOiBUZW5zb3IsIHZhcmlhbmNlOiBUZW5zb3J9IHtcbiAgeCA9IGNvbnZlcnRUb1RlbnNvcih4LCAneCcsICdtb21lbnRzJyk7XG4gIGNvbnN0IGF4ZXMgPSBwYXJzZUF4aXNQYXJhbShheGlzLCB4LnNoYXBlKTtcbiAgY29uc3QgeE1lYW4gPSBtZWFuKHgsIGF4ZXMsIGtlZXBEaW1zKTtcbiAgbGV0IGtlZXBEaW1zU2hhcGUgPSB4TWVhbi5zaGFwZTtcbiAgaWYgKCFrZWVwRGltcykge1xuICAgIGtlZXBEaW1zU2hhcGUgPSBleHBhbmRTaGFwZVRvS2VlcERpbSh4TWVhbi5zaGFwZSwgYXhlcyk7XG4gIH1cbiAgY29uc3QgZGV2U3F1YXJlZCA9XG4gICAgICBzcXVhcmUoc3ViKGNhc3QoeCwgJ2Zsb2F0MzInKSwgcmVzaGFwZSh4TWVhbiwga2VlcERpbXNTaGFwZSkpKTtcbiAgY29uc3QgdmFyaWFuY2UgPSBtZWFuKGRldlNxdWFyZWQsIGF4ZXMsIGtlZXBEaW1zKTtcbiAgcmV0dXJuIHttZWFuOiB4TWVhbiwgdmFyaWFuY2V9O1xufVxuXG5leHBvcnQgY29uc3QgbW9tZW50cyA9IG9wKHttb21lbnRzX30pO1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuaW1wb3J0IHtUZW5zb3IyRH0gZnJvbSAnLi4vdGVuc29yJztcbmltcG9ydCB7Y29udmVydFRvVGVuc29yLCBjb252ZXJ0VG9UZW5zb3JBcnJheX0gZnJvbSAnLi4vdGVuc29yX3V0aWxfZW52JztcbmltcG9ydCB7VGVuc29yTGlrZX0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHtvcH0gZnJvbSAnLi9vcGVyYXRpb24nO1xuXG4vKipcbiAqIEBkb2NhbGlhcyAoZGF0YTogVGVuc29yMkQsIGM6IFRlbnNvcjJELCBoOiBUZW5zb3IyRCk6IFtUZW5zb3IyRCwgVGVuc29yMkRdXG4gKi9cbmV4cG9ydCB0eXBlIExTVE1DZWxsRnVuYyA9IHtcbiAgKGRhdGE6IFRlbnNvcjJELCBjOiBUZW5zb3IyRCwgaDogVGVuc29yMkQpOiBbVGVuc29yMkQsIFRlbnNvcjJEXTtcbn07XG5cbi8qKlxuICogQ29tcHV0ZXMgdGhlIG5leHQgc3RhdGVzIGFuZCBvdXRwdXRzIG9mIGEgc3RhY2sgb2YgTFNUTUNlbGxzLlxuICpcbiAqIEVhY2ggY2VsbCBvdXRwdXQgaXMgdXNlZCBhcyBpbnB1dCB0byB0aGUgbmV4dCBjZWxsLlxuICpcbiAqIFJldHVybnMgYFtjZWxsU3RhdGUsIGNlbGxPdXRwdXRdYC5cbiAqXG4gKiBEZXJpdmVkIGZyb20gdGYuY29udHJpYi5ybi5NdWx0aVJOTkNlbGwuXG4gKlxuICogQHBhcmFtIGxzdG1DZWxscyBBcnJheSBvZiBMU1RNQ2VsbCBmdW5jdGlvbnMuXG4gKiBAcGFyYW0gZGF0YSBUaGUgaW5wdXQgdG8gdGhlIGNlbGwuXG4gKiBAcGFyYW0gYyBBcnJheSBvZiBwcmV2aW91cyBjZWxsIHN0YXRlcy5cbiAqIEBwYXJhbSBoIEFycmF5IG9mIHByZXZpb3VzIGNlbGwgb3V0cHV0cy5cbiAqXG4gKiBAZG9jIHtoZWFkaW5nOiAnT3BlcmF0aW9ucycsIHN1YmhlYWRpbmc6ICdSTk4nfVxuICovXG5mdW5jdGlvbiBtdWx0aVJOTkNlbGxfKFxuICAgIGxzdG1DZWxsczogTFNUTUNlbGxGdW5jW10sIGRhdGE6IFRlbnNvcjJEfFRlbnNvckxpa2UsXG4gICAgYzogQXJyYXk8VGVuc29yMkR8VGVuc29yTGlrZT4sXG4gICAgaDogQXJyYXk8VGVuc29yMkR8VGVuc29yTGlrZT4pOiBbVGVuc29yMkRbXSwgVGVuc29yMkRbXV0ge1xuICBjb25zdCAkZGF0YSA9IGNvbnZlcnRUb1RlbnNvcihkYXRhLCAnZGF0YScsICdtdWx0aVJOTkNlbGwnKTtcbiAgY29uc3QgJGMgPSBjb252ZXJ0VG9UZW5zb3JBcnJheShjLCAnYycsICdtdWx0aVJOTkNlbGwnKTtcbiAgY29uc3QgJGggPSBjb252ZXJ0VG9UZW5zb3JBcnJheShoLCAnaCcsICdtdWx0aVJOTkNlbGwnKTtcblxuICBsZXQgaW5wdXQgPSAkZGF0YTtcbiAgY29uc3QgbmV3U3RhdGVzID0gW107XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbHN0bUNlbGxzLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3Qgb3V0cHV0ID0gbHN0bUNlbGxzW2ldKGlucHV0LCAkY1tpXSwgJGhbaV0pO1xuICAgIG5ld1N0YXRlcy5wdXNoKG91dHB1dFswXSk7XG4gICAgbmV3U3RhdGVzLnB1c2gob3V0cHV0WzFdKTtcbiAgICBpbnB1dCA9IG91dHB1dFsxXTtcbiAgfVxuICBjb25zdCBuZXdDOiBUZW5zb3IyRFtdID0gW107XG4gIGNvbnN0IG5ld0g6IFRlbnNvcjJEW10gPSBbXTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBuZXdTdGF0ZXMubGVuZ3RoOyBpICs9IDIpIHtcbiAgICBuZXdDLnB1c2gobmV3U3RhdGVzW2ldKTtcbiAgICBuZXdILnB1c2gobmV3U3RhdGVzW2kgKyAxXSk7XG4gIH1cbiAgcmV0dXJuIFtuZXdDLCBuZXdIXTtcbn1cbmV4cG9ydCBjb25zdCBtdWx0aVJOTkNlbGwgPSBvcCh7bXVsdGlSTk5DZWxsX30pO1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG5pbXBvcnQge0VOR0lORX0gZnJvbSAnLi4vZW5naW5lJztcbmltcG9ydCB7VGVuc29yMUQsIFRlbnNvcjJEfSBmcm9tICcuLi90ZW5zb3InO1xuaW1wb3J0IHtjb252ZXJ0VG9UZW5zb3J9IGZyb20gJy4uL3RlbnNvcl91dGlsX2Vudic7XG5pbXBvcnQge1RlbnNvckxpa2V9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7b3B9IGZyb20gJy4vb3BlcmF0aW9uJztcbmltcG9ydCB7cmVzaGFwZX0gZnJvbSAnLi9yZXNoYXBlJztcblxuLyoqXG4gKiBDcmVhdGVzIGEgYHRmLlRlbnNvcmAgd2l0aCB2YWx1ZXMgZHJhd24gZnJvbSBhIG11bHRpbm9taWFsIGRpc3RyaWJ1dGlvbi5cbiAqXG4gKiBgYGBqc1xuICogY29uc3QgcHJvYnMgPSB0Zi50ZW5zb3IoWy43NSwgLjI1XSk7XG4gKiB0Zi5tdWx0aW5vbWlhbChwcm9icywgMykucHJpbnQoKTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBsb2dpdHMgMUQgYXJyYXkgd2l0aCB1bm5vcm1hbGl6ZWQgbG9nLXByb2JhYmlsaXRpZXMsIG9yXG4gKiAgICAgMkQgYXJyYXkgb2Ygc2hhcGUgYFtiYXRjaFNpemUsIG51bU91dGNvbWVzXWAuIFNlZSB0aGUgYG5vcm1hbGl6ZWRgXG4gKiAgICAgcGFyYW1ldGVyLlxuICogQHBhcmFtIG51bVNhbXBsZXMgTnVtYmVyIG9mIHNhbXBsZXMgdG8gZHJhdyBmb3IgZWFjaCByb3cgc2xpY2UuXG4gKiBAcGFyYW0gc2VlZCBUaGUgc2VlZCBudW1iZXIuXG4gKiBAcGFyYW0gbm9ybWFsaXplZCBXaGV0aGVyIHRoZSBwcm92aWRlZCBgbG9naXRzYCBhcmUgbm9ybWFsaXplZCB0cnVlXG4gKiAgICAgcHJvYmFiaWxpdGllcyAoc3VtIHRvIDEpLiBEZWZhdWx0cyB0byBmYWxzZS5cbiAqIEByZXR1cm4gMUQgYXJyYXkgb2Ygc2hhcGUgYFtudW1TYW1wbGVzXWAsIG9yIDJEIGFycmF5IG9mIHNoYXBlXG4gKiAgICAgYFtiYXRjaFNpemUsIG51bVNhbXBsZXNdYCwgZGVwZW5kaW5nIG9uIHRoZSByYW5rIG9mIHRoZSBpbnB1dC5cbiAqXG4gKiBAZG9jIHtoZWFkaW5nOiAnVGVuc29ycycsIHN1YmhlYWRpbmc6ICdSYW5kb20nfVxuICovXG5mdW5jdGlvbiBtdWx0aW5vbWlhbF8oXG4gICAgbG9naXRzOiBUZW5zb3IxRHxUZW5zb3IyRHxUZW5zb3JMaWtlLCBudW1TYW1wbGVzOiBudW1iZXIsIHNlZWQ/OiBudW1iZXIsXG4gICAgbm9ybWFsaXplZCA9IGZhbHNlKTogVGVuc29yMUR8VGVuc29yMkQge1xuICBjb25zdCAkbG9naXRzID0gY29udmVydFRvVGVuc29yKGxvZ2l0cywgJ2xvZ2l0cycsICdtdWx0aW5vbWlhbCcpO1xuICBjb25zdCBudW1PdXRjb21lcyA9ICRsb2dpdHMuc2l6ZTtcbiAgY29uc3Qgb3JpZ1JhbmsgPSAkbG9naXRzLnJhbms7XG4gIGlmIChudW1PdXRjb21lcyA8IDIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIGBFcnJvciBpbiBtdWx0aW5vbWlhbDogeW91IG5lZWQgYXQgbGVhc3QgMiBvdXRjb21lcywgYnV0IGdvdCBgICtcbiAgICAgICAgYCR7bnVtT3V0Y29tZXN9LmApO1xuICB9XG4gIGlmIChvcmlnUmFuayA+IDIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYFJhbmsgb2YgcHJvYmFiaWxpdGllcyBtdXN0IGJlIDEgb3IgMiwgYnV0IGlzICR7b3JpZ1Jhbmt9YCk7XG4gIH1cbiAgc2VlZCA9IHNlZWQgfHwgTWF0aC5yYW5kb20oKTtcbiAgY29uc3QgbG9naXRzMkQ6IFRlbnNvcjJEID1cbiAgICAgIG9yaWdSYW5rID09PSAxID8gcmVzaGFwZSgkbG9naXRzLCBbMSwgLTFdKSA6ICRsb2dpdHMgYXMgVGVuc29yMkQ7XG4gIGNvbnN0IHJlcyA9IEVOR0lORS5ydW5LZXJuZWxGdW5jKFxuICAgICAgYmFja2VuZCA9PiBiYWNrZW5kLm11bHRpbm9taWFsKGxvZ2l0czJELCBub3JtYWxpemVkLCBudW1TYW1wbGVzLCBzZWVkKSxcbiAgICAgIHtsb2dpdHMyRH0pO1xuICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tdW5uZWNlc3NhcnktdHlwZS1hc3NlcnRpb25cbiAgcmV0dXJuIG9yaWdSYW5rID09PSAxID8gcmVzaGFwZShyZXMsIFtyZXMuc2l6ZV0pIGFzIFRlbnNvcjFEIDogcmVzO1xufVxuXG5leHBvcnQgY29uc3QgbXVsdGlub21pYWwgPSBvcCh7bXVsdGlub21pYWxffSk7XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5pbXBvcnQge0VOR0lORSwgRm9yd2FyZEZ1bmN9IGZyb20gJy4uL2VuZ2luZSc7XG5pbXBvcnQge05vdEVxdWFsLCBOb3RFcXVhbElucHV0c30gZnJvbSAnLi4va2VybmVsX25hbWVzJztcbmltcG9ydCB7VGVuc29yfSBmcm9tICcuLi90ZW5zb3InO1xuaW1wb3J0IHtOYW1lZFRlbnNvck1hcH0gZnJvbSAnLi4vdGVuc29yX3R5cGVzJztcbmltcG9ydCB7bWFrZVR5cGVzTWF0Y2h9IGZyb20gJy4uL3RlbnNvcl91dGlsJztcbmltcG9ydCB7Y29udmVydFRvVGVuc29yfSBmcm9tICcuLi90ZW5zb3JfdXRpbF9lbnYnO1xuaW1wb3J0IHtUZW5zb3JMaWtlfSBmcm9tICcuLi90eXBlcyc7XG5cbmltcG9ydCB7YXNzZXJ0QW5kR2V0QnJvYWRjYXN0U2hhcGV9IGZyb20gJy4vYnJvYWRjYXN0X3V0aWwnO1xuaW1wb3J0IHtvcH0gZnJvbSAnLi9vcGVyYXRpb24nO1xuXG4vKipcbiAqIFJldHVybnMgdGhlIHRydXRoIHZhbHVlIG9mIChhICE9IGIpIGVsZW1lbnQtd2lzZS4gU3VwcG9ydHMgYnJvYWRjYXN0aW5nLlxuICpcbiAqIGBgYGpzXG4gKiBjb25zdCBhID0gdGYudGVuc29yMWQoWzEsIDIsIDNdKTtcbiAqIGNvbnN0IGIgPSB0Zi50ZW5zb3IxZChbMCwgMiwgM10pO1xuICpcbiAqIGEubm90RXF1YWwoYikucHJpbnQoKTtcbiAqIGBgYFxuICogQHBhcmFtIGEgVGhlIGZpcnN0IGlucHV0IHRlbnNvci5cbiAqIEBwYXJhbSBiIFRoZSBzZWNvbmQgaW5wdXQgdGVuc29yLiBNdXN0IGhhdmUgdGhlIHNhbWUgZHR5cGUgYXMgYGFgLlxuICpcbiAqIEBkb2Mge2hlYWRpbmc6ICdPcGVyYXRpb25zJywgc3ViaGVhZGluZzogJ0xvZ2ljYWwnfVxuICovXG5mdW5jdGlvbiBub3RFcXVhbF88VCBleHRlbmRzIFRlbnNvcj4oXG4gICAgYTogVGVuc29yfFRlbnNvckxpa2UsIGI6IFRlbnNvcnxUZW5zb3JMaWtlKTogVCB7XG4gIGxldCAkYSA9IGNvbnZlcnRUb1RlbnNvcihhLCAnYScsICdub3RFcXVhbCcpO1xuICBsZXQgJGIgPSBjb252ZXJ0VG9UZW5zb3IoYiwgJ2InLCAnbm90RXF1YWwnKTtcbiAgWyRhLCAkYl0gPSBtYWtlVHlwZXNNYXRjaCgkYSwgJGIpO1xuXG4gIGFzc2VydEFuZEdldEJyb2FkY2FzdFNoYXBlKCRhLnNoYXBlLCAkYi5zaGFwZSk7XG5cbiAgY29uc3QgZm9yd2FyZDogRm9yd2FyZEZ1bmM8VGVuc29yPiA9IChiYWNrZW5kKSA9PiBiYWNrZW5kLm5vdEVxdWFsKCRhLCAkYik7XG5cbiAgY29uc3QgaW5wdXRzOiBOb3RFcXVhbElucHV0cyA9IHthOiAkYSwgYjogJGJ9O1xuXG4gIHJldHVybiBFTkdJTkUucnVuS2VybmVsRnVuYyhcbiAgICAgICAgICAgICBmb3J3YXJkLCBpbnB1dHMgYXMge30gYXMgTmFtZWRUZW5zb3JNYXAsIG51bGwgLyogZ3JhZCAqLyxcbiAgICAgICAgICAgICBOb3RFcXVhbCkgYXMgVDtcbn1cblxuZXhwb3J0IGNvbnN0IG5vdEVxdWFsID0gb3Aoe25vdEVxdWFsX30pO1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG5pbXBvcnQge0VOR0lORSwgRm9yd2FyZEZ1bmN9IGZyb20gJy4uL2VuZ2luZSc7XG5pbXBvcnQge1JlYWwsIFJlYWxJbnB1dHN9IGZyb20gJy4uL2tlcm5lbF9uYW1lcyc7XG5pbXBvcnQge1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yJztcbmltcG9ydCB7TmFtZWRUZW5zb3JNYXB9IGZyb20gJy4uL3RlbnNvcl90eXBlcyc7XG5pbXBvcnQge2NvbnZlcnRUb1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yX3V0aWxfZW52JztcbmltcG9ydCB7VGVuc29yTGlrZX0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHtvcH0gZnJvbSAnLi9vcGVyYXRpb24nO1xuXG4vKipcbiAqIFJldHVybnMgdGhlIHJlYWwgcGFydCBvZiBhIGNvbXBsZXggKG9yIHJlYWwpIHRlbnNvci5cbiAqXG4gKiBHaXZlbiBhIHRlbnNvciBpbnB1dCwgdGhpcyBvcGVyYXRpb24gcmV0dXJucyBhIHRlbnNvciBvZiB0eXBlIGZsb2F0IHRoYXQgaXNcbiAqIHRoZSByZWFsIHBhcnQgb2YgZWFjaCBlbGVtZW50IGluIGlucHV0IGNvbnNpZGVyZWQgYXMgYSBjb21wbGV4IG51bWJlci5cbiAqXG4gKiBJZiB0aGUgaW5wdXQgaXMgcmVhbCwgaXQgc2ltcGx5IG1ha2VzIGEgY2xvbmUuXG4gKlxuICogYGBganNcbiAqIGNvbnN0IHggPSB0Zi5jb21wbGV4KFstMi4yNSwgMy4yNV0sIFs0Ljc1LCA1Ljc1XSk7XG4gKiB0Zi5yZWFsKHgpLnByaW50KCk7XG4gKiBgYGBcbiAqXG4gKiBAZG9jIHtoZWFkaW5nOiAnVGVuc29ycycsIHN1YmhlYWRpbmc6ICdDcmVhdGlvbid9XG4gKi9cbmZ1bmN0aW9uIHJlYWxfPFQgZXh0ZW5kcyBUZW5zb3I+KGlucHV0OiBUfFRlbnNvckxpa2UpOiBUIHtcbiAgY29uc3QgJGlucHV0ID0gY29udmVydFRvVGVuc29yKGlucHV0LCAnaW5wdXQnLCAncmVhbCcpO1xuXG4gIGNvbnN0IGZvcndhcmQ6IEZvcndhcmRGdW5jPFRlbnNvcj4gPSAoYmFja2VuZCkgPT4ge1xuICAgIHJldHVybiBiYWNrZW5kLnJlYWwoJGlucHV0KTtcbiAgfTtcblxuICBjb25zdCBpbnB1dHM6IFJlYWxJbnB1dHMgPSB7aW5wdXQ6ICRpbnB1dH07XG4gIHJldHVybiBFTkdJTkUucnVuS2VybmVsRnVuYyhcbiAgICAgICAgICAgICBmb3J3YXJkLCBpbnB1dHMgYXMge30gYXMgTmFtZWRUZW5zb3JNYXAsIG51bGwgLyogZ3JhZGllbnQgKi8sXG4gICAgICAgICAgICAgUmVhbCkgYXMgVDtcbn1cblxuZXhwb3J0IGNvbnN0IHJlYWwgPSBvcCh7cmVhbF99KTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE4IEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuaW1wb3J0IHtFTkdJTkUsIEZvcndhcmRGdW5jfSBmcm9tICcuLi9lbmdpbmUnO1xuaW1wb3J0IHtPbmVzTGlrZSwgT25lc0xpa2VJbnB1dHN9IGZyb20gJy4uL2tlcm5lbF9uYW1lcyc7XG5pbXBvcnQge1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yJztcbmltcG9ydCB7TmFtZWRUZW5zb3JNYXB9IGZyb20gJy4uL3RlbnNvcl90eXBlcyc7XG5pbXBvcnQge2NvbnZlcnRUb1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yX3V0aWxfZW52JztcbmltcG9ydCB7VGVuc29yTGlrZX0gZnJvbSAnLi4vdHlwZXMnO1xuXG5pbXBvcnQge2NvbXBsZXh9IGZyb20gJy4vY29tcGxleCc7XG5pbXBvcnQge2ltYWd9IGZyb20gJy4vaW1hZyc7XG5pbXBvcnQge29wfSBmcm9tICcuL29wZXJhdGlvbic7XG5pbXBvcnQge3JlYWx9IGZyb20gJy4vcmVhbCc7XG5pbXBvcnQge3plcm9zTGlrZX0gZnJvbSAnLi96ZXJvc19saWtlJztcblxuLyoqXG4gKiBDcmVhdGVzIGEgYHRmLlRlbnNvcmAgd2l0aCBhbGwgZWxlbWVudHMgc2V0IHRvIDEgd2l0aCB0aGUgc2FtZSBzaGFwZSBhcyB0aGVcbiAqIGdpdmVuIHRlbnNvci5cbiAqXG4gKiBgYGBqc1xuICogY29uc3QgeCA9IHRmLnRlbnNvcihbMSwgMl0pO1xuICogdGYub25lc0xpa2UoeCkucHJpbnQoKTtcbiAqIGBgYFxuICogQHBhcmFtIHggQSB0ZW5zb3IuXG4gKlxuICogQGRvYyB7aGVhZGluZzogJ1RlbnNvcnMnLCBzdWJoZWFkaW5nOiAnQ3JlYXRpb24nfVxuICovXG5mdW5jdGlvbiBvbmVzTGlrZV88VCBleHRlbmRzIFRlbnNvcj4oeDogVHxUZW5zb3JMaWtlKTogVCB7XG4gIGNvbnN0ICR4ID0gY29udmVydFRvVGVuc29yKHgsICd4JywgJ29uZXNMaWtlJyk7XG5cbiAgY29uc3QgZm9yd2FyZDogRm9yd2FyZEZ1bmM8VGVuc29yPiA9IChiYWNrZW5kLCBzYXZlKSA9PiB7XG4gICAgaWYgKCR4LmR0eXBlID09PSAnY29tcGxleDY0Jykge1xuICAgICAgY29uc3QgciA9IG9uZXNMaWtlKHJlYWwoJHgpKTtcbiAgICAgIGNvbnN0IGkgPSB6ZXJvc0xpa2UoaW1hZygkeCkpO1xuICAgICAgcmV0dXJuIGNvbXBsZXgociwgaSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGJhY2tlbmQub25lc0xpa2UoJHgpO1xuICB9O1xuXG4gIGNvbnN0IGlucHV0czogT25lc0xpa2VJbnB1dHMgPSB7eDogJHh9O1xuICByZXR1cm4gRU5HSU5FLnJ1bktlcm5lbEZ1bmMoXG4gICAgICAgICAgICAgZm9yd2FyZCwgaW5wdXRzIGFzIHt9IGFzIE5hbWVkVGVuc29yTWFwLCBudWxsIC8qIGdyYWQgKi8sXG4gICAgICAgICAgICAgT25lc0xpa2UpIGFzIFQ7XG59XG5cbmV4cG9ydCBjb25zdCBvbmVzTGlrZSA9IG9wKHtvbmVzTGlrZV99KTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cbmltcG9ydCB7VGVuc29yMUQsIFRlbnNvcjJEfSBmcm9tICcuLi90ZW5zb3InO1xuaW1wb3J0IHtjb252ZXJ0VG9UZW5zb3J9IGZyb20gJy4uL3RlbnNvcl91dGlsX2Vudic7XG5pbXBvcnQge1RlbnNvckxpa2V9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCAqIGFzIHV0aWwgZnJvbSAnLi4vdXRpbCc7XG5cbmltcG9ydCB7bWF0TXVsfSBmcm9tICcuL21hdF9tdWwnO1xuaW1wb3J0IHtvcH0gZnJvbSAnLi9vcGVyYXRpb24nO1xuaW1wb3J0IHtyZXNoYXBlfSBmcm9tICcuL3Jlc2hhcGUnO1xuXG4vKipcbiAqIENvbXB1dGVzIHRoZSBvdXRlciBwcm9kdWN0IG9mIHR3byB2ZWN0b3JzLCBgdjFgIGFuZCBgdjJgLlxuICpcbiAqIGBgYGpzXG4gKiBjb25zdCBhID0gdGYudGVuc29yMWQoWzEsIDIsIDNdKTtcbiAqIGNvbnN0IGIgPSB0Zi50ZW5zb3IxZChbMywgNCwgNV0pO1xuICpcbiAqIHRmLm91dGVyUHJvZHVjdChhLCBiKS5wcmludCgpO1xuICogYGBgXG4gKiBAcGFyYW0gdjEgVGhlIGZpcnN0IHZlY3RvciBpbiB0aGUgb3V0ZXIgcHJvZHVjdCBvcGVyYXRpb24uXG4gKiBAcGFyYW0gdjIgVGhlIHNlY29uZCB2ZWN0b3IgaW4gdGhlIG91dGVyIHByb2R1Y3Qgb3BlcmF0aW9uLlxuICpcbiAqIEBkb2Mge2hlYWRpbmc6ICdPcGVyYXRpb25zJywgc3ViaGVhZGluZzogJ01hdHJpY2VzJ31cbiAqL1xuZnVuY3Rpb24gb3V0ZXJQcm9kdWN0XyhcbiAgICB2MTogVGVuc29yMUR8VGVuc29yTGlrZSwgdjI6IFRlbnNvcjFEfFRlbnNvckxpa2UpOiBUZW5zb3IyRCB7XG4gIGNvbnN0ICR2MSA9IGNvbnZlcnRUb1RlbnNvcih2MSwgJ3YxJywgJ291dGVyUHJvZHVjdCcpO1xuICBjb25zdCAkdjIgPSBjb252ZXJ0VG9UZW5zb3IodjIsICd2MicsICdvdXRlclByb2R1Y3QnKTtcblxuICB1dGlsLmFzc2VydChcbiAgICAgICR2MS5yYW5rID09PSAxICYmICR2Mi5yYW5rID09PSAxLFxuICAgICAgKCkgPT4gYEVycm9yIGluIG91dGVyUHJvZHVjdDogaW5wdXRzIG11c3QgYmUgcmFuayAxLCBidXQgZ290IHJhbmtzIGAgK1xuICAgICAgICAgIGAkeyR2MS5yYW5rfSBhbmQgJHskdjIucmFua30uYCk7XG5cbiAgY29uc3QgdjEyRCA9IHJlc2hhcGUoJHYxLCBbLTEsIDFdKTtcbiAgY29uc3QgdjIyRCA9IHJlc2hhcGUoJHYyLCBbMSwgLTFdKTtcbiAgcmV0dXJuIG1hdE11bCh2MTJELCB2MjJEKSBhcyBUZW5zb3IyRDtcbn1cblxuZXhwb3J0IGNvbnN0IG91dGVyUHJvZHVjdCA9IG9wKHtvdXRlclByb2R1Y3RffSk7XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbmltcG9ydCB7RU5HSU5FLCBGb3J3YXJkRnVuY30gZnJvbSAnLi4vZW5naW5lJztcbmltcG9ydCB7UGFkVjIsIFBhZFYyQXR0cnMsIFBhZFYySW5wdXRzfSBmcm9tICcuLi9rZXJuZWxfbmFtZXMnO1xuaW1wb3J0IHtOYW1lZEF0dHJNYXB9IGZyb20gJy4uL2tlcm5lbF9yZWdpc3RyeSc7XG5pbXBvcnQge1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yJztcbmltcG9ydCB7TmFtZWRUZW5zb3JNYXB9IGZyb20gJy4uL3RlbnNvcl90eXBlcyc7XG5pbXBvcnQge2NvbnZlcnRUb1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yX3V0aWxfZW52JztcbmltcG9ydCB7VGVuc29yTGlrZX0gZnJvbSAnLi4vdHlwZXMnO1xuXG5pbXBvcnQge29wfSBmcm9tICcuL29wZXJhdGlvbic7XG5cbi8qKlxuICogUGFkcyBhIGB0Zi5UZW5zb3JgIHdpdGggYSBnaXZlbiB2YWx1ZSBhbmQgcGFkZGluZ3MuXG4gKlxuICogVGhpcyBvcGVyYXRpb24gY3VycmVudGx5IG9ubHkgaW1wbGVtZW50cyB0aGUgYENPTlNUQU5UYCBtb2RlLlxuICpcbiAqIEFsc28gYXZhaWxhYmxlIGFyZSBzdHJpY3RlciByYW5rLXNwZWNpZmljIG1ldGhvZHMgd2l0aCB0aGUgc2FtZSBzaWduYXR1cmVcbiAqIGFzIHRoaXMgbWV0aG9kIHRoYXQgYXNzZXJ0IHRoYXQgYHBhZGRpbmdzYCBpcyBvZiBnaXZlbiBsZW5ndGguXG4gKiAgIC0gYHRmLnBhZDFkYFxuICogICAtIGB0Zi5wYWQyZGBcbiAqICAgLSBgdGYucGFkM2RgXG4gKiAgIC0gYHRmLnBhZDRkYFxuICpcbiAqIGBgYGpzXG4gKiBjb25zdCB4ID0gdGYudGVuc29yMWQoWzEsIDIsIDMsIDRdKTtcbiAqIHgucGFkKFtbMSwgMl1dKS5wcmludCgpO1xuICogYGBgXG4gKiBAcGFyYW0geCBUaGUgdGVuc29yIHRvIHBhZC5cbiAqIEBwYXJhbSBwYWRkaW5ncyBBbiBhcnJheSBvZiBsZW5ndGggYFJgICh0aGUgcmFuayBvZiB0aGUgdGVuc29yKSwgd2hlcmVcbiAqIGVhY2ggZWxlbWVudCBpcyBhIGxlbmd0aC0yIHR1cGxlIG9mIGludHMgYFtwYWRCZWZvcmUsIHBhZEFmdGVyXWAsXG4gKiBzcGVjaWZ5aW5nIGhvdyBtdWNoIHRvIHBhZCBhbG9uZyBlYWNoIGRpbWVuc2lvbiBvZiB0aGUgdGVuc29yLlxuICogQHBhcmFtIGNvbnN0YW50VmFsdWUgVGhlIHBhZCB2YWx1ZSB0byB1c2UuIERlZmF1bHRzIHRvIDAuXG4gKlxuICogQGRvYyB7aGVhZGluZzogJ1RlbnNvcnMnLCBzdWJoZWFkaW5nOiAnVHJhbnNmb3JtYXRpb25zJ31cbiAqL1xuZnVuY3Rpb24gcGFkXzxUIGV4dGVuZHMgVGVuc29yPihcbiAgICB4OiBUfFRlbnNvckxpa2UsIHBhZGRpbmdzOiBBcnJheTxbbnVtYmVyLCBudW1iZXJdPiwgY29uc3RhbnRWYWx1ZSA9IDApOiBUIHtcbiAgY29uc3QgJHggPSBjb252ZXJ0VG9UZW5zb3IoeCwgJ3gnLCAncGFkJyk7XG4gIGlmICgkeC5yYW5rID09PSAwKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwYWQoc2NhbGFyKSBpcyBub3QgZGVmaW5lZC4gUGFzcyBub24tc2NhbGFyIHRvIHBhZCcpO1xuICB9XG4gIGNvbnN0IGZvcndhcmQ6IEZvcndhcmRGdW5jPFQ+ID0gKGJhY2tlbmQsIHNhdmUpID0+IHtcbiAgICBzYXZlKFskeF0pO1xuICAgIHJldHVybiBiYWNrZW5kLnBhZCgkeCwgcGFkZGluZ3MsIGNvbnN0YW50VmFsdWUpO1xuICB9O1xuXG4gIGNvbnN0IGF0dHJzOiBQYWRWMkF0dHJzID0ge3BhZGRpbmdzLCBjb25zdGFudFZhbHVlfTtcbiAgY29uc3QgaW5wdXRzOiBQYWRWMklucHV0cyA9IHt4OiAkeH07XG4gIHJldHVybiBFTkdJTkUucnVuS2VybmVsRnVuYyhcbiAgICAgIGZvcndhcmQsIGlucHV0cyBhcyB1bmtub3duIGFzIE5hbWVkVGVuc29yTWFwLCBudWxsIC8qIGdyYWQgKi8sIFBhZFYyLFxuICAgICAgYXR0cnMgYXMgdW5rbm93biBhcyBOYW1lZEF0dHJNYXApO1xufVxuXG5leHBvcnQgY29uc3QgcGFkID0gb3Aoe3BhZF99KTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cbmltcG9ydCB7VGVuc29yMUR9IGZyb20gJy4uL3RlbnNvcic7XG5pbXBvcnQge1RlbnNvckxpa2V9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7YXNzZXJ0fSBmcm9tICcuLi91dGlsJztcbmltcG9ydCB7b3B9IGZyb20gJy4vb3BlcmF0aW9uJztcbmltcG9ydCB7cGFkfSBmcm9tICcuL3BhZCc7XG5cbi8qKlxuICogUGFkcyBhIGB0Zi5UZW5zb3IxRGAgd2l0aCBhIGdpdmVuIHZhbHVlIGFuZCBwYWRkaW5ncy4gU2VlIGBwYWRgIGZvciBkZXRhaWxzLlxuICovXG5mdW5jdGlvbiBwYWQxZF8oXG4gICAgeDogVGVuc29yMUR8VGVuc29yTGlrZSwgcGFkZGluZ3M6IFtudW1iZXIsIG51bWJlcl0sXG4gICAgY29uc3RhbnRWYWx1ZSA9IDApOiBUZW5zb3IxRCB7XG4gIGFzc2VydChcbiAgICAgIHBhZGRpbmdzLmxlbmd0aCA9PT0gMixcbiAgICAgICgpID0+ICdJbnZhbGlkIG51bWJlciBvZiBwYWRkaW5ncy4gTXVzdCBiZSBsZW5ndGggb2YgMi4nKTtcbiAgcmV0dXJuIHBhZCh4LCBbcGFkZGluZ3NdLCBjb25zdGFudFZhbHVlKTtcbn1cblxuZXhwb3J0IGNvbnN0IHBhZDFkID0gb3Aoe3BhZDFkX30pO1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuaW1wb3J0IHtUZW5zb3IyRH0gZnJvbSAnLi4vdGVuc29yJztcbmltcG9ydCB7VGVuc29yTGlrZX0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHthc3NlcnR9IGZyb20gJy4uL3V0aWwnO1xuaW1wb3J0IHtvcH0gZnJvbSAnLi9vcGVyYXRpb24nO1xuaW1wb3J0IHtwYWR9IGZyb20gJy4vcGFkJztcblxuLyoqXG4gKiBQYWRzIGEgYHRmLlRlbnNvcjJEYCB3aXRoIGEgZ2l2ZW4gdmFsdWUgYW5kIHBhZGRpbmdzLiBTZWUgYHBhZGAgZm9yIGRldGFpbHMuXG4gKi9cbmZ1bmN0aW9uIHBhZDJkXyhcbiAgICB4OiBUZW5zb3IyRHxUZW5zb3JMaWtlLCBwYWRkaW5nczogW1tudW1iZXIsIG51bWJlcl0sIFtudW1iZXIsIG51bWJlcl1dLFxuICAgIGNvbnN0YW50VmFsdWUgPSAwKTogVGVuc29yMkQge1xuICBhc3NlcnQoXG4gICAgICBwYWRkaW5ncy5sZW5ndGggPT09IDIgJiYgcGFkZGluZ3NbMF0ubGVuZ3RoID09PSAyICYmXG4gICAgICAgICAgcGFkZGluZ3NbMV0ubGVuZ3RoID09PSAyLFxuICAgICAgKCkgPT4gJ0ludmFsaWQgbnVtYmVyIG9mIHBhZGRpbmdzLiBNdXN0IGJlIGxlbmd0aCBvZiAyIGVhY2guJyk7XG4gIHJldHVybiBwYWQoeCwgcGFkZGluZ3MsIGNvbnN0YW50VmFsdWUpO1xufVxuXG5leHBvcnQgY29uc3QgcGFkMmQgPSBvcCh7cGFkMmRffSk7XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5pbXBvcnQge1RlbnNvcjNEfSBmcm9tICcuLi90ZW5zb3InO1xuaW1wb3J0IHtUZW5zb3JMaWtlfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQge2Fzc2VydH0gZnJvbSAnLi4vdXRpbCc7XG5pbXBvcnQge29wfSBmcm9tICcuL29wZXJhdGlvbic7XG5pbXBvcnQge3BhZH0gZnJvbSAnLi9wYWQnO1xuXG4vKipcbiAqIFBhZHMgYSBgdGYuVGVuc29yM0RgIHdpdGggYSBnaXZlbiB2YWx1ZSBhbmQgcGFkZGluZ3MuIFNlZSBgcGFkYCBmb3IgZGV0YWlscy5cbiAqL1xuZnVuY3Rpb24gcGFkM2RfKFxuICAgIHg6IFRlbnNvcjNEfFRlbnNvckxpa2UsXG4gICAgcGFkZGluZ3M6IFtbbnVtYmVyLCBudW1iZXJdLCBbbnVtYmVyLCBudW1iZXJdLCBbbnVtYmVyLCBudW1iZXJdXSxcbiAgICBjb25zdGFudFZhbHVlID0gMCk6IFRlbnNvcjNEIHtcbiAgYXNzZXJ0KFxuICAgICAgcGFkZGluZ3MubGVuZ3RoID09PSAzICYmIHBhZGRpbmdzWzBdLmxlbmd0aCA9PT0gMiAmJlxuICAgICAgICAgIHBhZGRpbmdzWzFdLmxlbmd0aCA9PT0gMiAmJiBwYWRkaW5nc1syXS5sZW5ndGggPT09IDIsXG4gICAgICAoKSA9PiAnSW52YWxpZCBudW1iZXIgb2YgcGFkZGluZ3MuIE11c3QgYmUgbGVuZ3RoIG9mIDIgZWFjaC4nKTtcbiAgcmV0dXJuIHBhZCh4LCBwYWRkaW5ncywgY29uc3RhbnRWYWx1ZSk7XG59XG5cbmV4cG9ydCBjb25zdCBwYWQzZCA9IG9wKHtwYWQzZF99KTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cbmltcG9ydCB7VGVuc29yNER9IGZyb20gJy4uL3RlbnNvcic7XG5pbXBvcnQge1RlbnNvckxpa2V9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7YXNzZXJ0fSBmcm9tICcuLi91dGlsJztcbmltcG9ydCB7b3B9IGZyb20gJy4vb3BlcmF0aW9uJztcbmltcG9ydCB7cGFkfSBmcm9tICcuL3BhZCc7XG5cbi8qKlxuICogUGFkcyBhIGB0Zi5UZW5zb3I0RGAgd2l0aCBhIGdpdmVuIHZhbHVlIGFuZCBwYWRkaW5ncy4gU2VlIGBwYWRgIGZvciBkZXRhaWxzLlxuICovXG5mdW5jdGlvbiBwYWQ0ZF8oXG4gICAgeDogVGVuc29yNER8VGVuc29yTGlrZSxcbiAgICBwYWRkaW5nczpcbiAgICAgICAgW1xuICAgICAgICAgIFtudW1iZXIsIG51bWJlcl0sIFtudW1iZXIsIG51bWJlcl0sIFtudW1iZXIsIG51bWJlcl0sIFtudW1iZXIsIG51bWJlcl1cbiAgICAgICAgXSxcbiAgICBjb25zdGFudFZhbHVlID0gMCk6IFRlbnNvcjREIHtcbiAgYXNzZXJ0KFxuICAgICAgcGFkZGluZ3MubGVuZ3RoID09PSA0ICYmIHBhZGRpbmdzWzBdLmxlbmd0aCA9PT0gMiAmJlxuICAgICAgICAgIHBhZGRpbmdzWzFdLmxlbmd0aCA9PT0gMiAmJiBwYWRkaW5nc1syXS5sZW5ndGggPT09IDIgJiZcbiAgICAgICAgICBwYWRkaW5nc1szXS5sZW5ndGggPT09IDIsXG4gICAgICAoKSA9PiAnSW52YWxpZCBudW1iZXIgb2YgcGFkZGluZ3MuIE11c3QgYmUgbGVuZ3RoIG9mIDIgZWFjaC4nKTtcbiAgcmV0dXJuIHBhZCh4LCBwYWRkaW5ncywgY29uc3RhbnRWYWx1ZSk7XG59XG5cbmV4cG9ydCBjb25zdCBwYWQ0ZCA9IG9wKHtwYWQ0ZF99KTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuaW1wb3J0IHtFTkdJTkUsIEZvcndhcmRGdW5jfSBmcm9tICcuLi9lbmdpbmUnO1xuaW1wb3J0IHtTcGFjZVRvQmF0Y2hORCwgU3BhY2VUb0JhdGNoTkRBdHRycywgU3BhY2VUb0JhdGNoTkRJbnB1dHN9IGZyb20gJy4uL2tlcm5lbF9uYW1lcyc7XG5pbXBvcnQge05hbWVkQXR0ck1hcH0gZnJvbSAnLi4va2VybmVsX3JlZ2lzdHJ5JztcbmltcG9ydCB7VGVuc29yfSBmcm9tICcuLi90ZW5zb3InO1xuaW1wb3J0IHtOYW1lZFRlbnNvck1hcH0gZnJvbSAnLi4vdGVuc29yX3R5cGVzJztcbmltcG9ydCB7Y29udmVydFRvVGVuc29yfSBmcm9tICcuLi90ZW5zb3JfdXRpbF9lbnYnO1xuaW1wb3J0IHtUZW5zb3JMaWtlfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgKiBhcyB1dGlsIGZyb20gJy4uL3V0aWwnO1xuXG5pbXBvcnQge29wfSBmcm9tICcuL29wZXJhdGlvbic7XG5cbi8qKlxuICogVGhpcyBvcGVyYXRpb24gZGl2aWRlcyBcInNwYXRpYWxcIiBkaW1lbnNpb25zIGBbMSwgLi4uLCBNXWAgb2YgdGhlIGlucHV0IGludG9cbiAqIGEgZ3JpZCBvZiBibG9ja3Mgb2Ygc2hhcGUgYGJsb2NrU2hhcGVgLCBhbmQgaW50ZXJsZWF2ZXMgdGhlc2UgYmxvY2tzIHdpdGhcbiAqIHRoZSBcImJhdGNoXCIgZGltZW5zaW9uICgwKSBzdWNoIHRoYXQgaW4gdGhlIG91dHB1dCwgdGhlIHNwYXRpYWxcbiAqIGRpbWVuc2lvbnMgYFsxLCAuLi4sIE1dYCBjb3JyZXNwb25kIHRvIHRoZSBwb3NpdGlvbiB3aXRoaW4gdGhlIGdyaWQsXG4gKiBhbmQgdGhlIGJhdGNoIGRpbWVuc2lvbiBjb21iaW5lcyBib3RoIHRoZSBwb3NpdGlvbiB3aXRoaW4gYSBzcGF0aWFsIGJsb2NrXG4gKiBhbmQgdGhlIG9yaWdpbmFsIGJhdGNoIHBvc2l0aW9uLiBQcmlvciB0byBkaXZpc2lvbiBpbnRvIGJsb2NrcyxcbiAqIHRoZSBzcGF0aWFsIGRpbWVuc2lvbnMgb2YgdGhlIGlucHV0IGFyZSBvcHRpb25hbGx5IHplcm8gcGFkZGVkXG4gKiBhY2NvcmRpbmcgdG8gYHBhZGRpbmdzYC4gU2VlIGJlbG93IGZvciBhIHByZWNpc2UgZGVzY3JpcHRpb24uXG4gKlxuICogYGBganNcbiAqIGNvbnN0IHggPSB0Zi50ZW5zb3I0ZChbMSwgMiwgMywgNF0sIFsxLCAyLCAyLCAxXSk7XG4gKiBjb25zdCBibG9ja1NoYXBlID0gWzIsIDJdO1xuICogY29uc3QgcGFkZGluZ3MgPSBbWzAsIDBdLCBbMCwgMF1dO1xuICpcbiAqIHguc3BhY2VUb0JhdGNoTkQoYmxvY2tTaGFwZSwgcGFkZGluZ3MpLnByaW50KCk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0geCBBIGB0Zi5UZW5zb3JgLiBOLUQgd2l0aCBgeC5zaGFwZWAgPSBgW2JhdGNoXSArIHNwYXRpYWxTaGFwZSArXG4gKiByZW1haW5pbmdTaGFwZWAsIHdoZXJlIHNwYXRpYWxTaGFwZSBoYXMgYE1gIGRpbWVuc2lvbnMuXG4gKiBAcGFyYW0gYmxvY2tTaGFwZSBBIDEtRCBhcnJheS4gTXVzdCBoYXZlIHNoYXBlIGBbTV1gLCBhbGwgdmFsdWVzIG11c3RcbiAqIGJlID49IDEuXG4gKiBAcGFyYW0gcGFkZGluZ3MgQSAyLUQgYXJyYXkuIE11c3QgaGF2ZSBzaGFwZSBgW00sIDJdYCwgYWxsIHZhbHVlcyBtdXN0IGJlID49XG4gKiAgICAgMC4gYHBhZGRpbmdzW2ldID0gW3BhZFN0YXJ0LCBwYWRFbmRdYCBzcGVjaWZpZXMgdGhlIGFtb3VudCB0byB6ZXJvLXBhZFxuICogZnJvbSBpbnB1dCBkaW1lbnNpb24gYGkgKyAxYCwgd2hpY2ggY29ycmVzcG9uZHMgdG8gc3BhdGlhbCBkaW1lbnNpb24gYGlgLiBJdFxuICogaXMgcmVxdWlyZWQgdGhhdFxuICogYChpbnB1dFNoYXBlW2kgKyAxXSArIHBhZFN0YXJ0ICsgcGFkRW5kKSAlIGJsb2NrU2hhcGVbaV0gPT09IDBgXG4gKlxuICogVGhpcyBvcGVyYXRpb24gaXMgZXF1aXZhbGVudCB0byB0aGUgZm9sbG93aW5nIHN0ZXBzOlxuICpcbiAqIDEuIFplcm8tcGFkIHRoZSBzdGFydCBhbmQgZW5kIG9mIGRpbWVuc2lvbnMgYFsxLCAuLi4sIE1dYCBvZiB0aGUgaW5wdXRcbiAqIGFjY29yZGluZyB0byBgcGFkZGluZ3NgIHRvIHByb2R1Y2UgYHBhZGRlZGAgb2Ygc2hhcGUgcGFkZGVkU2hhcGUuXG4gKlxuICogMi4gUmVzaGFwZSBgcGFkZGVkYCB0byBgcmVzaGFwZWRQYWRkZWRgIG9mIHNoYXBlOlxuICogYFtiYXRjaF0gKyBbcGFkZGVkU2hhcGVbMV0gLyBibG9ja1NoYXBlWzBdLCBibG9ja1NoYXBlWzBdLCAuLi4sXG4gKiBwYWRkZWRTaGFwZVtNXSAvIGJsb2NrU2hhcGVbTS0xXSwgYmxvY2tTaGFwZVtNLTFdXSArIHJlbWFpbmluZ1NoYXBlYFxuICpcbiAqIDMuIFBlcm11dGUgZGltZW5zaW9ucyBvZiBgcmVzaGFwZWRQYWRkZWRgIHRvIHByb2R1Y2UgYHBlcm11dGVkUmVzaGFwZWRQYWRkZWRgXG4gKiBvZiBzaGFwZTogYGJsb2NrU2hhcGUgKyBbYmF0Y2hdICsgW3BhZGRlZFNoYXBlWzFdIC8gYmxvY2tTaGFwZVswXSwgLi4uLFxuICogcGFkZGVkU2hhcGVbTV0gLyBibG9ja1NoYXBlW00tMV1dICsgcmVtYWluaW5nU2hhcGVgXG4gKlxuICogNC4gUmVzaGFwZSBgcGVybXV0ZWRSZXNoYXBlZFBhZGRlZGAgdG8gZmxhdHRlbiBgYmxvY2tTaGFwZWAgaW50byB0aGVcbiAqIGJhdGNoIGRpbWVuc2lvbiwgcHJvZHVjaW5nIGFuIG91dHB1dCB0ZW5zb3Igb2Ygc2hhcGU6XG4gKiBgW2JhdGNoICogcHJvZChibG9ja1NoYXBlKV0gKyBbcGFkZGVkU2hhcGVbMV0gLyBibG9ja1NoYXBlWzBdLCAuLi4sXG4gKiBwYWRkZWRTaGFwZVtNXSAvIGJsb2NrU2hhcGVbTS0xXV0gKyByZW1haW5pbmdTaGFwZWBcbiAqXG4gKiBAZG9jIHtoZWFkaW5nOiAnVGVuc29ycycsIHN1YmhlYWRpbmc6ICdUcmFuc2Zvcm1hdGlvbnMnfVxuICovXG5mdW5jdGlvbiBzcGFjZVRvQmF0Y2hORF88VCBleHRlbmRzIFRlbnNvcj4oXG4gICAgeDogVHxUZW5zb3JMaWtlLCBibG9ja1NoYXBlOiBudW1iZXJbXSwgcGFkZGluZ3M6IG51bWJlcltdW10pOiBUIHtcbiAgY29uc3QgJHggPSBjb252ZXJ0VG9UZW5zb3IoeCwgJ3gnLCAnc3BhY2VUb0JhdGNoTkQnKTtcblxuICB1dGlsLmFzc2VydChcbiAgICAgICR4LnJhbmsgPj0gMSArIGJsb2NrU2hhcGUubGVuZ3RoLFxuICAgICAgKCkgPT4gYGlucHV0IHJhbmsgJHskeC5yYW5rfSBzaG91bGQgYmUgPiB0aGFuIFtibG9ja1NoYXBlXSAke1xuICAgICAgICAgIGJsb2NrU2hhcGUubGVuZ3RofWApO1xuXG4gIHV0aWwuYXNzZXJ0KFxuICAgICAgcGFkZGluZ3MubGVuZ3RoID09PSBibG9ja1NoYXBlLmxlbmd0aCxcbiAgICAgICgpID0+IGBwYWRkaW5ncy5zaGFwZVswXSAke1xuICAgICAgICAgIHBhZGRpbmdzLmxlbmd0aH0gbXVzdCBiZSBlcXVhbCB0byBbYmxvY2tTaGFwZV0gJHtibG9ja1NoYXBlLmxlbmd0aH1gKTtcblxuICB1dGlsLmFzc2VydChcbiAgICAgICR4LnNoYXBlLnJlZHVjZShcbiAgICAgICAgICAoYSwgYiwgaSkgPT4ge1xuICAgICAgICAgICAgaWYgKGkgPiAwICYmIGkgPD0gYmxvY2tTaGFwZS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGEgJiZcbiAgICAgICAgICAgICAgICAgICgoYiArIHBhZGRpbmdzW2kgLSAxXVswXSArIHBhZGRpbmdzW2kgLSAxXVsxXSkgJVxuICAgICAgICAgICAgICAgICAgICAgICBibG9ja1NoYXBlW2kgLSAxXSA9PT1cbiAgICAgICAgICAgICAgICAgICAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBhO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgdHJ1ZSksXG4gICAgICAoKSA9PiBgaW5wdXQgc3BhdGlhbCBkaW1lbnNpb25zICR7JHguc2hhcGUuc2xpY2UoMSl9IHdpdGggcGFkZGluZ3MgJHtcbiAgICAgICAgICBwYWRkaW5ncy50b1N0cmluZygpfSBtdXN0IGJlIGRpdmlzaWJsZSBieSBibG9ja1NoYXBlcyAke1xuICAgICAgICAgIGJsb2NrU2hhcGUudG9TdHJpbmcoKX1gKTtcblxuICBjb25zdCBmb3J3YXJkOiBGb3J3YXJkRnVuYzxUPiA9IGJhY2tlbmQgPT5cbiAgICAgIGJhY2tlbmQuc3BhY2VUb0JhdGNoTkQoJHgsIGJsb2NrU2hhcGUsIHBhZGRpbmdzKTtcblxuICBjb25zdCBpbnB1dHM6IFNwYWNlVG9CYXRjaE5ESW5wdXRzID0ge3g6ICR4fTtcbiAgY29uc3QgYXR0cnM6IFNwYWNlVG9CYXRjaE5EQXR0cnMgPSB7YmxvY2tTaGFwZSwgcGFkZGluZ3N9O1xuXG4gIHJldHVybiBFTkdJTkUucnVuS2VybmVsRnVuYyhcbiAgICAgIGZvcndhcmQsIGlucHV0cyBhcyB7fSBhcyBOYW1lZFRlbnNvck1hcCwgbnVsbCAvKiBncmFkaWVudCAqLyxcbiAgICAgIFNwYWNlVG9CYXRjaE5ELCBhdHRycyBhcyB7fSBhcyBOYW1lZEF0dHJNYXApO1xufVxuXG5leHBvcnQgY29uc3Qgc3BhY2VUb0JhdGNoTkQgPSBvcCh7c3BhY2VUb0JhdGNoTkRffSk7XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbmltcG9ydCB7VGVuc29yM0QsIFRlbnNvcjREfSBmcm9tICcuLi90ZW5zb3InO1xuaW1wb3J0IHtjb252ZXJ0VG9UZW5zb3J9IGZyb20gJy4uL3RlbnNvcl91dGlsX2Vudic7XG5pbXBvcnQge1RlbnNvckxpa2V9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCAqIGFzIHV0aWwgZnJvbSAnLi4vdXRpbCc7XG5cbmltcG9ydCB7YXZnUG9vbH0gZnJvbSAnLi9hdmdfcG9vbCc7XG5pbXBvcnQge2JhdGNoVG9TcGFjZU5EfSBmcm9tICcuL2JhdGNoX3RvX3NwYWNlX25kJztcbmltcG9ydCAqIGFzIGNvbnZfdXRpbCBmcm9tICcuL2NvbnZfdXRpbCc7XG5pbXBvcnQge21heFBvb2x9IGZyb20gJy4vbWF4X3Bvb2wnO1xuaW1wb3J0IHtvcH0gZnJvbSAnLi9vcGVyYXRpb24nO1xuaW1wb3J0IHtyZXNoYXBlfSBmcm9tICcuL3Jlc2hhcGUnO1xuaW1wb3J0IHtzcGFjZVRvQmF0Y2hORH0gZnJvbSAnLi9zcGFjZV90b19iYXRjaF9uZCc7XG5cbi8qKlxuICogUGVyZm9ybXMgYW4gTi1EIHBvb2xpbmcgb3BlcmF0aW9uXG4gKlxuICogQHBhcmFtIGlucHV0IFRoZSBpbnB1dCB0ZW5zb3IsIG9mIHJhbmsgNCBvciByYW5rIDMgb2Ygc2hhcGVcbiAqICAgICBgW2JhdGNoLCBoZWlnaHQsIHdpZHRoLCBpbkNoYW5uZWxzXWAuIElmIHJhbmsgMywgYmF0Y2ggb2YgMSBpcyBhc3N1bWVkLlxuICogQHBhcmFtIHdpbmRvd1NoYXBlIFRoZSBmaWx0ZXIgc2l6ZTogYFtmaWx0ZXJIZWlnaHQsIGZpbHRlcldpZHRoXWAuIElmXG4gKiAgICAgYGZpbHRlclNpemVgIGlzIGEgc2luZ2xlIG51bWJlciwgdGhlbiBgZmlsdGVySGVpZ2h0ID09IGZpbHRlcldpZHRoYC5cbiAqIEBwYXJhbSBwb29saW5nVHlwZSBUaGUgdHlwZSBvZiBwb29saW5nLCBlaXRoZXIgJ21heCcgb3IgJ2F2ZycuXG4gKiBAcGFyYW0gcGFkIFRoZSB0eXBlIG9mIHBhZGRpbmcgYWxnb3JpdGhtOlxuICogICAgLSBgc2FtZWAgYW5kIHN0cmlkZSAxOiBvdXRwdXQgd2lsbCBiZSBvZiBzYW1lIHNpemUgYXMgaW5wdXQsXG4gKiAgICAgICByZWdhcmRsZXNzIG9mIGZpbHRlciBzaXplLlxuICogICAgLSBgdmFsaWRgOiBvdXRwdXQgd2lsbCBiZSBzbWFsbGVyIHRoYW4gaW5wdXQgaWYgZmlsdGVyIGlzIGxhcmdlclxuICogICAgICAgdGhhbiAxeDEuXG4gKiAgICAtIEZvciBtb3JlIGluZm8sIHNlZSB0aGlzIGd1aWRlOlxuICogICAgIFtodHRwczovL3d3dy50ZW5zb3JmbG93Lm9yZy9hcGlfZ3VpZGVzL3B5dGhvbi9ubiNDb252b2x1dGlvbl0oXG4gKiAgICAgICAgIGh0dHBzOi8vd3d3LnRlbnNvcmZsb3cub3JnL2FwaV9ndWlkZXMvcHl0aG9uL25uI0NvbnZvbHV0aW9uKVxuICogQHBhcmFtIGRpbGF0aW9ucyBUaGUgZGlsYXRpb24gcmF0ZXM6IGBbZGlsYXRpb25IZWlnaHQsIGRpbGF0aW9uV2lkdGhdYFxuICogICAgIGluIHdoaWNoIHdlIHNhbXBsZSBpbnB1dCB2YWx1ZXMgYWNyb3NzIHRoZSBoZWlnaHQgYW5kIHdpZHRoIGRpbWVuc2lvbnNcbiAqICAgICBpbiBkaWxhdGVkIHBvb2xpbmcuIERlZmF1bHRzIHRvIGBbMSwgMV1gLiBJZiBgZGlsYXRpb25SYXRlYCBpcyBhIHNpbmdsZVxuICogICAgIG51bWJlciwgdGhlbiBgZGlsYXRpb25IZWlnaHQgPT0gZGlsYXRpb25XaWR0aGAuIElmIGl0IGlzIGdyZWF0ZXIgdGhhblxuICogICAgIDEsIHRoZW4gYWxsIHZhbHVlcyBvZiBgc3RyaWRlc2AgbXVzdCBiZSAxLlxuICogQHBhcmFtIHN0cmlkZXMgVGhlIHN0cmlkZXMgb2YgdGhlIHBvb2xpbmc6IGBbc3RyaWRlSGVpZ2h0LCBzdHJpZGVXaWR0aF1gLiBJZlxuICogICAgIGBzdHJpZGVzYCBpcyBhIHNpbmdsZSBudW1iZXIsIHRoZW4gYHN0cmlkZUhlaWdodCA9PSBzdHJpZGVXaWR0aGAuXG4gKlxuICogQGRvYyB7aGVhZGluZzogJ09wZXJhdGlvbnMnLCBzdWJoZWFkaW5nOiAnQ29udm9sdXRpb24nfVxuICovXG5mdW5jdGlvbiBwb29sXzxUIGV4dGVuZHMgVGVuc29yM0R8VGVuc29yNEQ+KFxuICAgIGlucHV0OiBUfFRlbnNvckxpa2UsIHdpbmRvd1NoYXBlOiBbbnVtYmVyLCBudW1iZXJdfG51bWJlcixcbiAgICBwb29saW5nVHlwZTogJ2F2Zyd8J21heCcsIHBhZDogJ3ZhbGlkJ3wnc2FtZSd8bnVtYmVyLFxuICAgIGRpbGF0aW9ucz86IFtudW1iZXIsIG51bWJlcl18bnVtYmVyLCBzdHJpZGVzPzogW251bWJlciwgbnVtYmVyXXxudW1iZXIpIHtcbiAgaWYgKGRpbGF0aW9ucyA9PSBudWxsKSB7XG4gICAgZGlsYXRpb25zID0gWzEsIDFdO1xuICB9XG4gIGlmIChzdHJpZGVzID09IG51bGwpIHtcbiAgICBzdHJpZGVzID0gMTtcbiAgfVxuICBpZiAocGFkID09PSAwKSB7XG4gICAgcGFkID0gJ3ZhbGlkJztcbiAgfVxuXG4gIGNvbnN0ICR4ID0gY29udmVydFRvVGVuc29yKGlucHV0LCAneCcsICdtYXhQb29sJyk7XG4gIGxldCB4NEQgPSAkeCBhcyBUZW5zb3I0RDtcbiAgbGV0IHJlc2hhcGVkVG80RCA9IGZhbHNlO1xuXG4gIGlmICgkeC5yYW5rID09PSAzKSB7XG4gICAgcmVzaGFwZWRUbzREID0gdHJ1ZTtcbiAgICB4NEQgPSByZXNoYXBlKCR4LCBbMSwgJHguc2hhcGVbMF0sICR4LnNoYXBlWzFdLCAkeC5zaGFwZVsyXV0pO1xuICB9XG5cbiAgdXRpbC5hc3NlcnQoXG4gICAgICBjb252X3V0aWwuZWl0aGVyU3RyaWRlc09yRGlsYXRpb25zQXJlT25lKHN0cmlkZXMsIGRpbGF0aW9ucyksXG4gICAgICAoKSA9PiAnRXJyb3IgaW4gcG9vbDogRWl0aGVyIHN0cmlkZXMgb3IgZGlsYXRpb25zIG11c3QgYmUgMS4gJyArXG4gICAgICAgICAgYEdvdCBzdHJpZGVzICR7c3RyaWRlc30gYW5kIGRpbGF0aW9ucyAnJHtkaWxhdGlvbnN9J2ApO1xuXG4gIGNvbnN0IGNvbnZJbmZvID0gY29udl91dGlsLmNvbXB1dGVQb29sMkRJbmZvKFxuICAgICAgeDRELnNoYXBlLCB3aW5kb3dTaGFwZSwgc3RyaWRlcywgZGlsYXRpb25zLCBwYWQpO1xuICBjb25zdCBkaWxhdGlvbjogW251bWJlciwgbnVtYmVyXSA9XG4gICAgICBbY29udkluZm8uZGlsYXRpb25IZWlnaHQsIGNvbnZJbmZvLmRpbGF0aW9uV2lkdGhdO1xuXG4gIC8vIFRoZSBmb2xsb3dpbmcgaW1wbGVtZW50YXRpb24gZG9lcyBiYXRjaFRvU3BhY2UocG9vbChzcGFjZVRvQmF0Y2goeCkpKVxuICAvLyB3aGVuZXZlciBkaWxhdGlvbiA+IDEgc2luY2UgdGhlIFRGIGtlcm5lbHMgZG8gbm90IHN1cHBvcnQgZGlsYXRpb24gPiAxLlxuICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bWF4LWxpbmUtbGVuZ3RoXG4gIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS90ZW5zb3JmbG93L3RlbnNvcmZsb3cvYmxvYi81MGY2YmI2N2RjOThjOWI3NDYzMGI2MDQ3YWFlN2E0ZjhhNDBmZDAyL3RlbnNvcmZsb3cvcHl0aG9uL29wcy9ubl9vcHMucHkjTDEwMzdcblxuICBsZXQgYmFzZVBhZGRpbmc6IG51bWJlcltdW107XG4gIGlmIChwYWQgPT09ICdzYW1lJykge1xuICAgIGJhc2VQYWRkaW5nID0gd2l0aFNwYWNlVG9CYXRjaEJhc2VQYWRkaW5ncyhcbiAgICAgICAgW2NvbnZJbmZvLmZpbHRlckhlaWdodCwgY29udkluZm8uZmlsdGVyV2lkdGhdLCBkaWxhdGlvbik7XG4gIH0gZWxzZSB7XG4gICAgYmFzZVBhZGRpbmcgPSBbWzAsIDBdLCBbMCwgMF1dO1xuICB9XG5cbiAgY29uc3QgaXNEaWxhdGlvbk9uZSA9IGRpbGF0aW9uWzBdID09PSAxICYmIGRpbGF0aW9uWzFdID09PSAxO1xuICBjb25zdCBbYWRqdXN0ZWRQYWRkaW5nLCBhZGp1c3RlZENyb3BzXSA9IHJlcXVpcmVkU3BhY2VUb0JhdGNoUGFkZGluZ3MoXG4gICAgICBbY29udkluZm8uaW5IZWlnaHQsIGNvbnZJbmZvLmluV2lkdGhdLCBkaWxhdGlvbiwgYmFzZVBhZGRpbmcpO1xuICBjb25zdCBjb252ZXJ0ZWRQYWQgPSBpc0RpbGF0aW9uT25lID8gcGFkIDogJ3ZhbGlkJztcbiAgY29uc3QgY29udmVydGVkWCA9XG4gICAgICBpc0RpbGF0aW9uT25lID8geDREIDogc3BhY2VUb0JhdGNoTkQoeDRELCBkaWxhdGlvbiwgYWRqdXN0ZWRQYWRkaW5nKTtcblxuICBjb25zdCBmb3J3YXJkT3AgPSBwb29saW5nVHlwZSA9PT0gJ2F2ZycgP1xuICAgICAgKCkgPT4gYXZnUG9vbChjb252ZXJ0ZWRYLCB3aW5kb3dTaGFwZSwgc3RyaWRlcywgY29udmVydGVkUGFkKSA6XG4gICAgICAoKSA9PiBtYXhQb29sKGNvbnZlcnRlZFgsIHdpbmRvd1NoYXBlLCBzdHJpZGVzLCBjb252ZXJ0ZWRQYWQpO1xuICBjb25zdCB5ID0gZm9yd2FyZE9wKCk7XG5cbiAgY29uc3QgcmVzID0gaXNEaWxhdGlvbk9uZSA/IHkgOiBiYXRjaFRvU3BhY2VORCh5LCBkaWxhdGlvbiwgYWRqdXN0ZWRDcm9wcyk7XG5cbiAgaWYgKHJlc2hhcGVkVG80RCkge1xuICAgIHJldHVybiByZXNoYXBlKHJlcywgW3Jlcy5zaGFwZVsxXSwgcmVzLnNoYXBlWzJdLCByZXMuc2hhcGVbM11dKSBhcyBUO1xuICB9XG5cbiAgcmV0dXJuIHJlcyBhcyBUO1xufVxuXG4vLyBIZWxwZXIgZnVuY3Rpb24gdG8gY29tcHV0ZSBjcm9wcyBhbmQgcGFkZGluZ3MgZm9yIHBvb2wgd2l0aCBkaWxhdGlvbiA+IDEuXG4vLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bWF4LWxpbmUtbGVuZ3RoXG4vLyBodHRwczovL2dpdGh1Yi5jb20vdGVuc29yZmxvdy90ZW5zb3JmbG93L2Jsb2IvNTBmNmJiNjdkYzk4YzliNzQ2MzBiNjA0N2FhZTdhNGY4YTQwZmQwMi90ZW5zb3JmbG93L3B5dGhvbi9vcHMvYXJyYXlfb3BzLnB5I0wyMTg0XG5mdW5jdGlvbiByZXF1aXJlZFNwYWNlVG9CYXRjaFBhZGRpbmdzKFxuICAgIGlucHV0U2hhcGU6IFtudW1iZXIsIG51bWJlcl0sIGJsb2NrU2hhcGU6IFtudW1iZXIsIG51bWJlcl0sXG4gICAgYmFzZVBhZGRpbmc6IG51bWJlcltdW10pIHtcbiAgY29uc3QgcGFkU3RhcnQgPSBiYXNlUGFkZGluZy5tYXAoYiA9PiBiWzBdKTtcbiAgY29uc3Qgb3JpZ1BhZEVuZCA9IGJhc2VQYWRkaW5nLm1hcChiID0+IGJbMV0pO1xuICBjb25zdCBmdWxsSW5wdXRTaGFwZSA9IGlucHV0U2hhcGUuY29uY2F0KHBhZFN0YXJ0LCBvcmlnUGFkRW5kKTtcbiAgY29uc3QgcGFkRW5kRXh0cmEgPSBibG9ja1NoYXBlLm1hcCgoYiwgaSkgPT4gKGIgLSBmdWxsSW5wdXRTaGFwZVtpXSAlIGIpICUgYik7XG4gIGNvbnN0IHBhZEVuZCA9IG9yaWdQYWRFbmQubWFwKChzLCBpKSA9PiBzICsgcGFkRW5kRXh0cmFbaV0pO1xuICBjb25zdCBwYWRkaW5ncyA9IGJsb2NrU2hhcGUubWFwKChfLCBpKSA9PiBbcGFkU3RhcnRbaV0sIHBhZEVuZFtpXV0pO1xuICBjb25zdCBjcm9wcyA9IGJsb2NrU2hhcGUubWFwKChfLCBpKSA9PiBbMCwgcGFkRW5kRXh0cmFbaV1dKTtcbiAgcmV0dXJuIFtwYWRkaW5ncywgY3JvcHNdO1xufVxuXG4vLyBIZWxwZXIgZnVuY3Rpb24gdG8gY29tcHV0ZSBiYXNlIHBhZGRpbmdzIGZvciBwb29sIHdpdGggZGlsYXRpb24gPiAxLlxuLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm1heC1saW5lLWxlbmd0aFxuLy8gaHR0cHM6Ly9naXRodWIuY29tL3RlbnNvcmZsb3cvdGVuc29yZmxvdy9ibG9iLzUwZjZiYjY3ZGM5OGM5Yjc0NjMwYjYwNDdhYWU3YTRmOGE0MGZkMDIvdGVuc29yZmxvdy9weXRob24vb3BzL25uX29wcy5weSNMNTI0XG5mdW5jdGlvbiB3aXRoU3BhY2VUb0JhdGNoQmFzZVBhZGRpbmdzKFxuICAgIGZpbHRlclNoYXBlOiBbbnVtYmVyLCBudW1iZXJdLCBkaWxhdGlvbjogW251bWJlciwgbnVtYmVyXSkge1xuICAvLyBTcGF0aWFsIGRpbWVuc2lvbnMgb2YgdGhlIGZpbHRlcnMgYW5kIHRoZSB1cHNhbXBsZWQgZmlsdGVycyBpbiB3aGljaCB3ZVxuICAvLyBpbnRyb2R1Y2UgKHJhdGUgLSAxKSB6ZXJvcyBiZXR3ZWVuIGNvbnNlY3V0aXZlIGZpbHRlciB2YWx1ZXMuXG4gIGNvbnN0IGRpbGF0ZWRGaWx0ZXJTaGFwZSA9IGZpbHRlclNoYXBlLm1hcCgocywgaSkgPT4ge1xuICAgIHJldHVybiBzICsgKHMgLSAxKSAqIChkaWxhdGlvbltpXSAtIDEpO1xuICB9KTtcbiAgY29uc3QgcGFkRXh0cmFTaGFwZSA9IGRpbGF0ZWRGaWx0ZXJTaGFwZS5tYXAocyA9PiBzIC0gMSk7XG5cbiAgLy8gV2hlbiBwYWRkaW5nIGlzIG9kZCwgd2UgcGFkIG1vcmUgYXQgZW5kLCBmb2xsb3dpbmcgdGhlIHNhbWVcbiAgLy8gY29udmVudGlvbiBhcyBjb252MmQuXG4gIGNvbnN0IHBhZEV4dHJhU3RhcnQgPSBwYWRFeHRyYVNoYXBlLm1hcChzID0+IE1hdGguZmxvb3IocyAvIDIpKTtcbiAgY29uc3QgcGFkRXh0cmFFbmQgPSBwYWRFeHRyYVNoYXBlLm1hcCgocywgaSkgPT4gcyAtIHBhZEV4dHJhU3RhcnRbaV0pO1xuICByZXR1cm4gcGFkRXh0cmFTaGFwZS5tYXAoKF8sIGkpID0+IHtcbiAgICByZXR1cm4gW3BhZEV4dHJhU3RhcnRbaV0sIHBhZEV4dHJhRW5kW2ldXTtcbiAgfSk7XG59XG5cbmV4cG9ydCBjb25zdCBwb29sID0gb3Aoe3Bvb2xffSk7XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5pbXBvcnQge0VOR0lORSwgRm9yd2FyZEZ1bmN9IGZyb20gJy4uL2VuZ2luZSc7XG5pbXBvcnQge1BvdywgUG93SW5wdXRzfSBmcm9tICcuLi9rZXJuZWxfbmFtZXMnO1xuaW1wb3J0IHtUZW5zb3J9IGZyb20gJy4uL3RlbnNvcic7XG5pbXBvcnQge05hbWVkVGVuc29yTWFwfSBmcm9tICcuLi90ZW5zb3JfdHlwZXMnO1xuaW1wb3J0IHttYWtlVHlwZXNNYXRjaH0gZnJvbSAnLi4vdGVuc29yX3V0aWwnO1xuaW1wb3J0IHtjb252ZXJ0VG9UZW5zb3J9IGZyb20gJy4uL3RlbnNvcl91dGlsX2Vudic7XG5pbXBvcnQge1RlbnNvckxpa2V9IGZyb20gJy4uL3R5cGVzJztcblxuaW1wb3J0IHtvcH0gZnJvbSAnLi9vcGVyYXRpb24nO1xuXG4vKipcbiAqIENvbXB1dGVzIHRoZSBwb3dlciBvZiBvbmUgYHRmLlRlbnNvcmAgdG8gYW5vdGhlci4gU3VwcG9ydHMgYnJvYWRjYXN0aW5nLlxuICpcbiAqIEdpdmVuIGEgYHRmLlRlbnNvcmAgeCBhbmQgYSBgdGYuVGVuc29yYCB5LCB0aGlzIG9wZXJhdGlvbiBjb21wdXRlcyB4XnkgZm9yXG4gKiBjb3JyZXNwb25kaW5nIGVsZW1lbnRzIGluIHggYW5kIHkuIFRoZSByZXN1bHQncyBkdHlwZSB3aWxsIGJlIHRoZSB1cGNhc3RlZFxuICogdHlwZSBvZiB0aGUgYGJhc2VgIGFuZCBgZXhwYCBkdHlwZXMuXG4gKlxuICogYGBganNcbiAqIGNvbnN0IGEgPSB0Zi50ZW5zb3IoW1syLCAzXSwgWzQsIDVdXSlcbiAqIGNvbnN0IGIgPSB0Zi50ZW5zb3IoW1sxLCAyXSwgWzMsIDBdXSkudG9JbnQoKTtcbiAqXG4gKiBhLnBvdyhiKS5wcmludCgpOyAgLy8gb3IgdGYucG93KGEsIGIpXG4gKiBgYGBcbiAqXG4gKiBgYGBqc1xuICogY29uc3QgYSA9IHRmLnRlbnNvcihbWzEsIDJdLCBbMywgNF1dKVxuICogY29uc3QgYiA9IHRmLnRlbnNvcigyKS50b0ludCgpO1xuICpcbiAqIGEucG93KGIpLnByaW50KCk7ICAvLyBvciB0Zi5wb3coYSwgYilcbiAqIGBgYFxuICogV2UgYWxzbyBleHBvc2UgYHBvd1N0cmljdGAgd2hpY2ggaGFzIHRoZSBzYW1lIHNpZ25hdHVyZSBhcyB0aGlzIG9wIGFuZFxuICogYXNzZXJ0cyB0aGF0IGBiYXNlYCBhbmQgYGV4cGAgYXJlIHRoZSBzYW1lIHNoYXBlIChkb2VzIG5vdCBicm9hZGNhc3QpLlxuICpcbiAqIEBwYXJhbSBiYXNlIFRoZSBiYXNlIGB0Zi5UZW5zb3JgIHRvIHBvdyBlbGVtZW50LXdpc2UuXG4gKiBAcGFyYW0gZXhwIFRoZSBleHBvbmVudCBgdGYuVGVuc29yYCB0byBwb3cgZWxlbWVudC13aXNlLlxuICpcbiAqIEBkb2Mge2hlYWRpbmc6ICdPcGVyYXRpb25zJywgc3ViaGVhZGluZzogJ0FyaXRobWV0aWMnfVxuICovXG5mdW5jdGlvbiBwb3dfPFQgZXh0ZW5kcyBUZW5zb3I+KFxuICAgIGJhc2U6IFRlbnNvcnxUZW5zb3JMaWtlLCBleHA6IFRlbnNvcnxUZW5zb3JMaWtlKTogVCB7XG4gIGxldCAkYmFzZSA9IGNvbnZlcnRUb1RlbnNvcihiYXNlLCAnYmFzZScsICdwb3cnKTtcbiAgbGV0ICRleHAgPSBjb252ZXJ0VG9UZW5zb3IoZXhwLCAnZXhwJywgJ3BvdycpO1xuICBbJGJhc2UsICRleHBdID0gbWFrZVR5cGVzTWF0Y2goJGJhc2UsICRleHApO1xuXG4gIGNvbnN0IGlucHV0czogUG93SW5wdXRzID0ge2E6ICRiYXNlLCBiOiAkZXhwfTtcbiAgY29uc3QgZm9yd2FyZDogRm9yd2FyZEZ1bmM8VGVuc29yPiA9IChiYWNrZW5kLCBzYXZlKSA9PiB7XG4gICAgY29uc3QgeSA9IGJhY2tlbmQucG93KCRiYXNlLCAkZXhwKTtcbiAgICBzYXZlKFskYmFzZSwgJGV4cCwgeV0pO1xuICAgIHJldHVybiB5O1xuICB9O1xuXG4gIHJldHVybiBFTkdJTkUucnVuS2VybmVsRnVuYyhcbiAgICAgICAgICAgICBmb3J3YXJkLCBpbnB1dHMgYXMge30gYXMgTmFtZWRUZW5zb3JNYXAsIG51bGwgLyogZ3JhZGllbnQgKi8sXG4gICAgICAgICAgICAgUG93KSBhcyBUO1xufVxuXG5leHBvcnQgY29uc3QgcG93ID0gb3Aoe3Bvd199KTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuaW1wb3J0IHtFTkdJTkUsIEZvcndhcmRGdW5jfSBmcm9tICcuLi9lbmdpbmUnO1xuaW1wb3J0IHtQcmVsdSwgUHJlbHVJbnB1dHN9IGZyb20gJy4uL2tlcm5lbF9uYW1lcyc7XG5pbXBvcnQge1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yJztcbmltcG9ydCB7TmFtZWRUZW5zb3JNYXB9IGZyb20gJy4uL3RlbnNvcl90eXBlcyc7XG5pbXBvcnQge2NvbnZlcnRUb1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yX3V0aWxfZW52JztcbmltcG9ydCB7VGVuc29yTGlrZX0gZnJvbSAnLi4vdHlwZXMnO1xuXG5pbXBvcnQge29wfSBmcm9tICcuL29wZXJhdGlvbic7XG5cbi8qKlxuICogQ29tcHV0ZXMgbGVha3kgcmVjdGlmaWVkIGxpbmVhciBlbGVtZW50LXdpc2Ugd2l0aCBwYXJhbWV0cmljIGFscGhhcy5cbiAqXG4gKiBgeCA8IDAgPyBhbHBoYSAqIHggOiBmKHgpID0geGBcbiAqXG4gKiBgYGBqc1xuICogY29uc3QgeCA9IHRmLnRlbnNvcjFkKFstMSwgMiwgLTMsIDRdKTtcbiAqIGNvbnN0IGFscGhhID0gdGYuc2NhbGFyKDAuMSk7XG4gKlxuICogeC5wcmVsdShhbHBoYSkucHJpbnQoKTsgIC8vIG9yIHRmLnByZWx1KHgsIGFscGhhKVxuICogYGBgXG4gKiBAcGFyYW0geCBUaGUgaW5wdXQgdGVuc29yLlxuICogQHBhcmFtIGFscGhhIFNjYWxpbmcgZmFjdG9yIGZvciBuZWdhdGl2ZSB2YWx1ZXMuXG4gKlxuICogQGRvYyB7aGVhZGluZzogJ09wZXJhdGlvbnMnLCBzdWJoZWFkaW5nOiAnQmFzaWMgbWF0aCd9XG4gKi9cbmZ1bmN0aW9uIHByZWx1XzxUIGV4dGVuZHMgVGVuc29yPih4OiBUfFRlbnNvckxpa2UsIGFscGhhOiBUfFRlbnNvckxpa2UpOiBUIHtcbiAgY29uc3QgJHggPSBjb252ZXJ0VG9UZW5zb3IoeCwgJ3gnLCAncHJlbHUnKTtcbiAgY29uc3QgJGFscGhhID0gY29udmVydFRvVGVuc29yKGFscGhhLCAnYWxwaGEnLCAncHJlbHUnKTtcblxuICBjb25zdCBmb3J3YXJkOiBGb3J3YXJkRnVuYzxUZW5zb3I+ID0gKGJhY2tlbmQsIHNhdmUpID0+IHtcbiAgICBjb25zdCByZXMgPSBiYWNrZW5kLnByZWx1KCR4LCAkYWxwaGEpO1xuICAgIHNhdmUoWyR4LCAkYWxwaGFdKTtcbiAgICByZXR1cm4gcmVzO1xuICB9O1xuXG4gIGNvbnN0IGlucHV0czogUHJlbHVJbnB1dHMgPSB7eDogJHgsIGFscGhhOiAkYWxwaGF9O1xuICByZXR1cm4gRU5HSU5FLnJ1bktlcm5lbEZ1bmMoXG4gICAgICAgICAgICAgZm9yd2FyZCwgaW5wdXRzIGFzIHt9IGFzIE5hbWVkVGVuc29yTWFwLCBudWxsIC8qIGdyYWQgKi8sIFByZWx1KSBhc1xuICAgICAgVDtcbn1cblxuZXhwb3J0IGNvbnN0IHByZWx1ID0gb3Aoe3ByZWx1X30pO1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG5pbXBvcnQge0VOR0lORSwgRm9yd2FyZEZ1bmN9IGZyb20gJy4uL2VuZ2luZSc7XG5pbXBvcnQge1Byb2QsIFByb2RBdHRycywgUHJvZElucHV0c30gZnJvbSAnLi4va2VybmVsX25hbWVzJztcbmltcG9ydCB7TmFtZWRBdHRyTWFwfSBmcm9tICcuLi9rZXJuZWxfcmVnaXN0cnknO1xuaW1wb3J0IHtUZW5zb3J9IGZyb20gJy4uL3RlbnNvcic7XG5pbXBvcnQge05hbWVkVGVuc29yTWFwfSBmcm9tICcuLi90ZW5zb3JfdHlwZXMnO1xuaW1wb3J0IHtjb252ZXJ0VG9UZW5zb3J9IGZyb20gJy4uL3RlbnNvcl91dGlsX2Vudic7XG5pbXBvcnQge1RlbnNvckxpa2V9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7cGFyc2VBeGlzUGFyYW19IGZyb20gJy4uL3V0aWwnO1xuXG5pbXBvcnQge2V4cGFuZFNoYXBlVG9LZWVwRGltLCBnZXRBeGVzUGVybXV0YXRpb24sIGdldElubmVyTW9zdEF4ZXN9IGZyb20gJy4vYXhpc191dGlsJztcbmltcG9ydCB7Y2FzdH0gZnJvbSAnLi9jYXN0JztcbmltcG9ydCB7b3B9IGZyb20gJy4vb3BlcmF0aW9uJztcbmltcG9ydCB7cmVzaGFwZX0gZnJvbSAnLi9yZXNoYXBlJztcbmltcG9ydCB7dHJhbnNwb3NlfSBmcm9tICcuL3RyYW5zcG9zZSc7XG5cbi8qKlxuICogQ29tcHV0ZXMgdGhlIHByb2R1Y3Qgb2YgZWxlbWVudHMgYWNyb3NzIGRpbWVuc2lvbnMgb2YgYSBgdGYuVGVuc29yYC5cbiAqXG4gKiBSZWR1Y2VzIHRoZSBpbnB1dCBhbG9uZyB0aGUgZGltZW5zaW9ucyBnaXZlbiBpbiBgYXhlc2AuIFVubGVzcyBga2VlcERpbXNgXG4gKiBpcyB0cnVlLCB0aGUgcmFuayBvZiB0aGUgYHRmLlRlbnNvcmAgaXMgcmVkdWNlZCBieSAxIGZvciBlYWNoIGVudHJ5IGluXG4gKiBgYXhlc2AuIElmIGBrZWVwRGltc2AgaXMgdHJ1ZSwgdGhlIHJlZHVjZWQgZGltZW5zaW9ucyBhcmUgcmV0YWluZWQgd2l0aFxuICogbGVuZ3RoIDEuIElmIGBheGVzYCBoYXMgbm8gZW50cmllcywgYWxsIGRpbWVuc2lvbnMgYXJlIHJlZHVjZWQsIGFuZCBhXG4gKiBgdGYuVGVuc29yYCB3aXRoIGEgc2luZ2xlIGVsZW1lbnQgaXMgcmV0dXJuZWQuXG4gKlxuICogYGBganNcbiAqIGNvbnN0IHggPSB0Zi50ZW5zb3IxZChbMSwgMiwgM10pO1xuICpcbiAqIHgucHJvZCgpLnByaW50KCk7ICAvLyBvciB0Zi5wcm9kKHgpXG4gKiBgYGBcbiAqXG4gKiBgYGBqc1xuICogY29uc3QgeCA9IHRmLnRlbnNvcjJkKFsxLCAyLCAzLCA0XSwgWzIsIDJdKTtcbiAqXG4gKiBjb25zdCBheGlzID0gMTtcbiAqIHgucHJvZChheGlzKS5wcmludCgpOyAgLy8gb3IgdGYucHJvZCh4LCBheGlzKVxuICogYGBgXG4gKlxuICogQHBhcmFtIHggVGhlIGlucHV0IHRlbnNvciB0byBjb21wdXRlIHRoZSBwcm9kdWN0IG92ZXIuIElmIHRoZSBkdHlwZSBpcyBgYm9vbGBcbiAqICAgaXQgd2lsbCBiZSBjb252ZXJ0ZWQgdG8gYGludDMyYCBhbmQgdGhlIG91dHB1dCBkdHlwZSB3aWxsIGJlIGBpbnQzMmAuXG4gKiBAcGFyYW0gYXhpcyBUaGUgZGltZW5zaW9uKHMpIHRvIHJlZHVjZS4gQnkgZGVmYXVsdCBpdCByZWR1Y2VzXG4gKiAgICAgYWxsIGRpbWVuc2lvbnMuXG4gKiBAcGFyYW0ga2VlcERpbXMgSWYgdHJ1ZSwgcmV0YWlucyByZWR1Y2VkIGRpbWVuc2lvbnMgd2l0aCBzaXplIDEuXG4gKlxuICogQGRvYyB7aGVhZGluZzogJ09wZXJhdGlvbnMnLCBzdWJoZWFkaW5nOiAnUmVkdWN0aW9uJ31cbiAqL1xuZnVuY3Rpb24gcHJvZF88VCBleHRlbmRzIFRlbnNvcj4oXG4gICAgeDogVGVuc29yfFRlbnNvckxpa2UsIGF4aXM6IG51bWJlcnxudW1iZXJbXSA9IG51bGwsIGtlZXBEaW1zID0gZmFsc2UpOiBUIHtcbiAgbGV0ICR4ID0gY29udmVydFRvVGVuc29yKHgsICd4JywgJ3Byb2QnKTtcblxuICBjb25zdCBmb3J3YXJkOiBGb3J3YXJkRnVuYzxUZW5zb3I+ID0gKGJhY2tlbmQpID0+IHtcbiAgICBpZiAoJHguZHR5cGUgPT09ICdib29sJykge1xuICAgICAgJHggPSBjYXN0KCR4LCAnaW50MzInKTtcbiAgICB9XG4gICAgY29uc3QgYXhlcyA9IHBhcnNlQXhpc1BhcmFtKGF4aXMsICR4LnNoYXBlKTtcblxuICAgIGNvbnN0IHBlcm11dGF0aW9uID0gZ2V0QXhlc1Blcm11dGF0aW9uKGF4ZXMsICR4LnJhbmspO1xuICAgIGxldCByZWR1Y3Rpb25BeGVzID0gYXhlcztcbiAgICBsZXQgcGVybXV0ZWRYID0gJHg7XG4gICAgaWYgKHBlcm11dGF0aW9uICE9IG51bGwpIHtcbiAgICAgIHBlcm11dGVkWCA9IHRyYW5zcG9zZSgkeCwgcGVybXV0YXRpb24pO1xuICAgICAgcmVkdWN0aW9uQXhlcyA9IGdldElubmVyTW9zdEF4ZXMocmVkdWN0aW9uQXhlcy5sZW5ndGgsICR4LnJhbmspO1xuICAgIH1cbiAgICBsZXQgdmFsdWUgPSBiYWNrZW5kLnByb2QocGVybXV0ZWRYLCByZWR1Y3Rpb25BeGVzKTtcbiAgICBpZiAoa2VlcERpbXMpIHtcbiAgICAgIGNvbnN0IG5ld1NoYXBlID0gZXhwYW5kU2hhcGVUb0tlZXBEaW0odmFsdWUuc2hhcGUsIGF4ZXMpO1xuICAgICAgdmFsdWUgPSByZXNoYXBlKHZhbHVlLCBuZXdTaGFwZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHZhbHVlIGFzIFQ7XG4gIH07XG5cbiAgY29uc3QgaW5wdXRzOiBQcm9kSW5wdXRzID0ge3g6ICR4fTtcbiAgY29uc3QgYXR0cnM6IFByb2RBdHRycyA9IHtheGlzLCBrZWVwRGltc307XG5cbiAgcmV0dXJuIEVOR0lORS5ydW5LZXJuZWxGdW5jKFxuICAgICAgICAgICAgIGZvcndhcmQsIGlucHV0cyBhcyB7fSBhcyBOYW1lZFRlbnNvck1hcCwgbnVsbCAvKiBncmFkICovLCBQcm9kLFxuICAgICAgICAgICAgIGF0dHJzIGFzIHt9IGFzIE5hbWVkQXR0ck1hcCkgYXMgVDtcbn1cblxuZXhwb3J0IGNvbnN0IHByb2QgPSBvcCh7cHJvZF99KTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuaW1wb3J0IHtFTkdJTkV9IGZyb20gJy4uL2VuZ2luZSc7XG5pbXBvcnQge1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yJztcbmltcG9ydCB7RGF0YVR5cGUsIFJhbmssIFNoYXBlTWFwfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQge3NpemVGcm9tU2hhcGV9IGZyb20gJy4uL3V0aWwnO1xuXG5pbXBvcnQge29wfSBmcm9tICcuL29wZXJhdGlvbic7XG5cbi8qKlxuICogQ3JlYXRlcyBhIGB0Zi5UZW5zb3JgIHdpdGggdmFsdWVzIHNhbXBsZWQgZnJvbSBhIHJhbmRvbSBudW1iZXIgZ2VuZXJhdG9yXG4gKiBmdW5jdGlvbiBkZWZpbmVkIGJ5IHRoZSB1c2VyLlxuICpcbiAqIEBwYXJhbSBzaGFwZSBBbiBhcnJheSBvZiBpbnRlZ2VycyBkZWZpbmluZyB0aGUgb3V0cHV0IHRlbnNvciBzaGFwZS5cbiAqIEBwYXJhbSByYW5kRnVuY3Rpb24gQSByYW5kb20gbnVtYmVyIGdlbmVyYXRvciBmdW5jdGlvbiB3aGljaCBpcyBjYWxsZWRcbiAqIGZvciBlYWNoIGVsZW1lbnQgaW4gdGhlIG91dHB1dCB0ZW5zb3IuXG4gKiBAcGFyYW0gZHR5cGUgVGhlIGRhdGEgdHlwZSBvZiB0aGUgb3V0cHV0IHRlbnNvci4gRGVmYXVsdHMgdG8gJ2Zsb2F0MzInLlxuICovXG5mdW5jdGlvbiByYW5kXzxSIGV4dGVuZHMgUmFuaz4oXG4gICAgc2hhcGU6IFNoYXBlTWFwW1JdLCByYW5kRnVuY3Rpb246ICgpID0+IG51bWJlcixcbiAgICBkdHlwZT86IERhdGFUeXBlKTogVGVuc29yPFI+IHtcbiAgY29uc3Qgc2l6ZSA9IHNpemVGcm9tU2hhcGUoc2hhcGUpO1xuICBsZXQgdmFsdWVzID0gbnVsbDtcbiAgaWYgKGR0eXBlID09IG51bGwgfHwgZHR5cGUgPT09ICdmbG9hdDMyJykge1xuICAgIHZhbHVlcyA9IG5ldyBGbG9hdDMyQXJyYXkoc2l6ZSk7XG4gIH0gZWxzZSBpZiAoZHR5cGUgPT09ICdpbnQzMicpIHtcbiAgICB2YWx1ZXMgPSBuZXcgSW50MzJBcnJheShzaXplKTtcbiAgfSBlbHNlIGlmIChkdHlwZSA9PT0gJ2Jvb2wnKSB7XG4gICAgdmFsdWVzID0gbmV3IFVpbnQ4QXJyYXkoc2l6ZSk7XG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBVbmtub3duIGRhdGEgdHlwZSAke2R0eXBlfWApO1xuICB9XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgc2l6ZTsgaSsrKSB7XG4gICAgdmFsdWVzW2ldID0gcmFuZEZ1bmN0aW9uKCk7XG4gIH1cbiAgcmV0dXJuIEVOR0lORS5tYWtlVGVuc29yKHZhbHVlcywgc2hhcGUsIGR0eXBlKSBhcyBUZW5zb3I8Uj47XG59XG5cbmV4cG9ydCBjb25zdCByYW5kID0gb3Aoe3JhbmRffSk7XG4iLCIvLyBBIHBvcnQgb2YgYW4gYWxnb3JpdGhtIGJ5IEpvaGFubmVzIEJhYWfDuGUgPGJhYWdvZUBiYWFnb2UuY29tPiwgMjAxMFxuLy8gaHR0cDovL2JhYWdvZS5jb20vZW4vUmFuZG9tTXVzaW5ncy9qYXZhc2NyaXB0L1xuLy8gaHR0cHM6Ly9naXRodWIuY29tL25xdWlubGFuL2JldHRlci1yYW5kb20tbnVtYmVycy1mb3ItamF2YXNjcmlwdC1taXJyb3Jcbi8vIE9yaWdpbmFsIHdvcmsgaXMgdW5kZXIgTUlUIGxpY2Vuc2UgLVxuXG4vLyBDb3B5cmlnaHQgKEMpIDIwMTAgYnkgSm9oYW5uZXMgQmFhZ8O4ZSA8YmFhZ29lQGJhYWdvZS5vcmc+XG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weVxuLy8gb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbFxuLy8gaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0c1xuLy8gdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbFxuLy8gY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzXG4vLyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy8gXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpblxuLy8gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vLyBcbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1Jcbi8vIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxuLy8gRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXG4vLyBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXG4vLyBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxuLy8gT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTlxuLy8gVEhFIFNPRlRXQVJFLlxuXG5cblxuKGZ1bmN0aW9uKGdsb2JhbCwgbW9kdWxlLCBkZWZpbmUpIHtcblxuZnVuY3Rpb24gQWxlYShzZWVkKSB7XG4gIHZhciBtZSA9IHRoaXMsIG1hc2ggPSBNYXNoKCk7XG5cbiAgbWUubmV4dCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciB0ID0gMjA5MTYzOSAqIG1lLnMwICsgbWUuYyAqIDIuMzI4MzA2NDM2NTM4Njk2M2UtMTA7IC8vIDJeLTMyXG4gICAgbWUuczAgPSBtZS5zMTtcbiAgICBtZS5zMSA9IG1lLnMyO1xuICAgIHJldHVybiBtZS5zMiA9IHQgLSAobWUuYyA9IHQgfCAwKTtcbiAgfTtcblxuICAvLyBBcHBseSB0aGUgc2VlZGluZyBhbGdvcml0aG0gZnJvbSBCYWFnb2UuXG4gIG1lLmMgPSAxO1xuICBtZS5zMCA9IG1hc2goJyAnKTtcbiAgbWUuczEgPSBtYXNoKCcgJyk7XG4gIG1lLnMyID0gbWFzaCgnICcpO1xuICBtZS5zMCAtPSBtYXNoKHNlZWQpO1xuICBpZiAobWUuczAgPCAwKSB7IG1lLnMwICs9IDE7IH1cbiAgbWUuczEgLT0gbWFzaChzZWVkKTtcbiAgaWYgKG1lLnMxIDwgMCkgeyBtZS5zMSArPSAxOyB9XG4gIG1lLnMyIC09IG1hc2goc2VlZCk7XG4gIGlmIChtZS5zMiA8IDApIHsgbWUuczIgKz0gMTsgfVxuICBtYXNoID0gbnVsbDtcbn1cblxuZnVuY3Rpb24gY29weShmLCB0KSB7XG4gIHQuYyA9IGYuYztcbiAgdC5zMCA9IGYuczA7XG4gIHQuczEgPSBmLnMxO1xuICB0LnMyID0gZi5zMjtcbiAgcmV0dXJuIHQ7XG59XG5cbmZ1bmN0aW9uIGltcGwoc2VlZCwgb3B0cykge1xuICB2YXIgeGcgPSBuZXcgQWxlYShzZWVkKSxcbiAgICAgIHN0YXRlID0gb3B0cyAmJiBvcHRzLnN0YXRlLFxuICAgICAgcHJuZyA9IHhnLm5leHQ7XG4gIHBybmcuaW50MzIgPSBmdW5jdGlvbigpIHsgcmV0dXJuICh4Zy5uZXh0KCkgKiAweDEwMDAwMDAwMCkgfCAwOyB9XG4gIHBybmcuZG91YmxlID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHBybmcoKSArIChwcm5nKCkgKiAweDIwMDAwMCB8IDApICogMS4xMTAyMjMwMjQ2MjUxNTY1ZS0xNjsgLy8gMl4tNTNcbiAgfTtcbiAgcHJuZy5xdWljayA9IHBybmc7XG4gIGlmIChzdGF0ZSkge1xuICAgIGlmICh0eXBlb2Yoc3RhdGUpID09ICdvYmplY3QnKSBjb3B5KHN0YXRlLCB4Zyk7XG4gICAgcHJuZy5zdGF0ZSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gY29weSh4Zywge30pOyB9XG4gIH1cbiAgcmV0dXJuIHBybmc7XG59XG5cbmZ1bmN0aW9uIE1hc2goKSB7XG4gIHZhciBuID0gMHhlZmM4MjQ5ZDtcblxuICB2YXIgbWFzaCA9IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICBkYXRhID0gZGF0YS50b1N0cmluZygpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgbiArPSBkYXRhLmNoYXJDb2RlQXQoaSk7XG4gICAgICB2YXIgaCA9IDAuMDI1MTk2MDMyODI0MTY5MzggKiBuO1xuICAgICAgbiA9IGggPj4+IDA7XG4gICAgICBoIC09IG47XG4gICAgICBoICo9IG47XG4gICAgICBuID0gaCA+Pj4gMDtcbiAgICAgIGggLT0gbjtcbiAgICAgIG4gKz0gaCAqIDB4MTAwMDAwMDAwOyAvLyAyXjMyXG4gICAgfVxuICAgIHJldHVybiAobiA+Pj4gMCkgKiAyLjMyODMwNjQzNjUzODY5NjNlLTEwOyAvLyAyXi0zMlxuICB9O1xuXG4gIHJldHVybiBtYXNoO1xufVxuXG5cbmlmIChtb2R1bGUgJiYgbW9kdWxlLmV4cG9ydHMpIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSBpbXBsO1xufSBlbHNlIGlmIChkZWZpbmUgJiYgZGVmaW5lLmFtZCkge1xuICBkZWZpbmUoZnVuY3Rpb24oKSB7IHJldHVybiBpbXBsOyB9KTtcbn0gZWxzZSB7XG4gIHRoaXMuYWxlYSA9IGltcGw7XG59XG5cbn0pKFxuICB0aGlzLFxuICAodHlwZW9mIG1vZHVsZSkgPT0gJ29iamVjdCcgJiYgbW9kdWxlLCAgICAvLyBwcmVzZW50IGluIG5vZGUuanNcbiAgKHR5cGVvZiBkZWZpbmUpID09ICdmdW5jdGlvbicgJiYgZGVmaW5lICAgLy8gcHJlc2VudCB3aXRoIGFuIEFNRCBsb2FkZXJcbik7XG5cblxuIiwiLy8gQSBKYXZhc2NyaXB0IGltcGxlbWVudGFpb24gb2YgdGhlIFwieG9yMTI4XCIgcHJuZyBhbGdvcml0aG0gYnlcbi8vIEdlb3JnZSBNYXJzYWdsaWEuICBTZWUgaHR0cDovL3d3dy5qc3RhdHNvZnQub3JnL3YwOC9pMTQvcGFwZXJcblxuKGZ1bmN0aW9uKGdsb2JhbCwgbW9kdWxlLCBkZWZpbmUpIHtcblxuZnVuY3Rpb24gWG9yR2VuKHNlZWQpIHtcbiAgdmFyIG1lID0gdGhpcywgc3Ryc2VlZCA9ICcnO1xuXG4gIG1lLnggPSAwO1xuICBtZS55ID0gMDtcbiAgbWUueiA9IDA7XG4gIG1lLncgPSAwO1xuXG4gIC8vIFNldCB1cCBnZW5lcmF0b3IgZnVuY3Rpb24uXG4gIG1lLm5leHQgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgdCA9IG1lLnggXiAobWUueCA8PCAxMSk7XG4gICAgbWUueCA9IG1lLnk7XG4gICAgbWUueSA9IG1lLno7XG4gICAgbWUueiA9IG1lLnc7XG4gICAgcmV0dXJuIG1lLncgXj0gKG1lLncgPj4+IDE5KSBeIHQgXiAodCA+Pj4gOCk7XG4gIH07XG5cbiAgaWYgKHNlZWQgPT09IChzZWVkIHwgMCkpIHtcbiAgICAvLyBJbnRlZ2VyIHNlZWQuXG4gICAgbWUueCA9IHNlZWQ7XG4gIH0gZWxzZSB7XG4gICAgLy8gU3RyaW5nIHNlZWQuXG4gICAgc3Ryc2VlZCArPSBzZWVkO1xuICB9XG5cbiAgLy8gTWl4IGluIHN0cmluZyBzZWVkLCB0aGVuIGRpc2NhcmQgYW4gaW5pdGlhbCBiYXRjaCBvZiA2NCB2YWx1ZXMuXG4gIGZvciAodmFyIGsgPSAwOyBrIDwgc3Ryc2VlZC5sZW5ndGggKyA2NDsgaysrKSB7XG4gICAgbWUueCBePSBzdHJzZWVkLmNoYXJDb2RlQXQoaykgfCAwO1xuICAgIG1lLm5leHQoKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBjb3B5KGYsIHQpIHtcbiAgdC54ID0gZi54O1xuICB0LnkgPSBmLnk7XG4gIHQueiA9IGYuejtcbiAgdC53ID0gZi53O1xuICByZXR1cm4gdDtcbn1cblxuZnVuY3Rpb24gaW1wbChzZWVkLCBvcHRzKSB7XG4gIHZhciB4ZyA9IG5ldyBYb3JHZW4oc2VlZCksXG4gICAgICBzdGF0ZSA9IG9wdHMgJiYgb3B0cy5zdGF0ZSxcbiAgICAgIHBybmcgPSBmdW5jdGlvbigpIHsgcmV0dXJuICh4Zy5uZXh0KCkgPj4+IDApIC8gMHgxMDAwMDAwMDA7IH07XG4gIHBybmcuZG91YmxlID0gZnVuY3Rpb24oKSB7XG4gICAgZG8ge1xuICAgICAgdmFyIHRvcCA9IHhnLm5leHQoKSA+Pj4gMTEsXG4gICAgICAgICAgYm90ID0gKHhnLm5leHQoKSA+Pj4gMCkgLyAweDEwMDAwMDAwMCxcbiAgICAgICAgICByZXN1bHQgPSAodG9wICsgYm90KSAvICgxIDw8IDIxKTtcbiAgICB9IHdoaWxlIChyZXN1bHQgPT09IDApO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG4gIHBybmcuaW50MzIgPSB4Zy5uZXh0O1xuICBwcm5nLnF1aWNrID0gcHJuZztcbiAgaWYgKHN0YXRlKSB7XG4gICAgaWYgKHR5cGVvZihzdGF0ZSkgPT0gJ29iamVjdCcpIGNvcHkoc3RhdGUsIHhnKTtcbiAgICBwcm5nLnN0YXRlID0gZnVuY3Rpb24oKSB7IHJldHVybiBjb3B5KHhnLCB7fSk7IH1cbiAgfVxuICByZXR1cm4gcHJuZztcbn1cblxuaWYgKG1vZHVsZSAmJiBtb2R1bGUuZXhwb3J0cykge1xuICBtb2R1bGUuZXhwb3J0cyA9IGltcGw7XG59IGVsc2UgaWYgKGRlZmluZSAmJiBkZWZpbmUuYW1kKSB7XG4gIGRlZmluZShmdW5jdGlvbigpIHsgcmV0dXJuIGltcGw7IH0pO1xufSBlbHNlIHtcbiAgdGhpcy54b3IxMjggPSBpbXBsO1xufVxuXG59KShcbiAgdGhpcyxcbiAgKHR5cGVvZiBtb2R1bGUpID09ICdvYmplY3QnICYmIG1vZHVsZSwgICAgLy8gcHJlc2VudCBpbiBub2RlLmpzXG4gICh0eXBlb2YgZGVmaW5lKSA9PSAnZnVuY3Rpb24nICYmIGRlZmluZSAgIC8vIHByZXNlbnQgd2l0aCBhbiBBTUQgbG9hZGVyXG4pO1xuXG5cbiIsIi8vIEEgSmF2YXNjcmlwdCBpbXBsZW1lbnRhaW9uIG9mIHRoZSBcInhvcndvd1wiIHBybmcgYWxnb3JpdGhtIGJ5XG4vLyBHZW9yZ2UgTWFyc2FnbGlhLiAgU2VlIGh0dHA6Ly93d3cuanN0YXRzb2Z0Lm9yZy92MDgvaTE0L3BhcGVyXG5cbihmdW5jdGlvbihnbG9iYWwsIG1vZHVsZSwgZGVmaW5lKSB7XG5cbmZ1bmN0aW9uIFhvckdlbihzZWVkKSB7XG4gIHZhciBtZSA9IHRoaXMsIHN0cnNlZWQgPSAnJztcblxuICAvLyBTZXQgdXAgZ2VuZXJhdG9yIGZ1bmN0aW9uLlxuICBtZS5uZXh0ID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHQgPSAobWUueCBeIChtZS54ID4+PiAyKSk7XG4gICAgbWUueCA9IG1lLnk7IG1lLnkgPSBtZS56OyBtZS56ID0gbWUudzsgbWUudyA9IG1lLnY7XG4gICAgcmV0dXJuIChtZS5kID0gKG1lLmQgKyAzNjI0MzcgfCAwKSkgK1xuICAgICAgIChtZS52ID0gKG1lLnYgXiAobWUudiA8PCA0KSkgXiAodCBeICh0IDw8IDEpKSkgfCAwO1xuICB9O1xuXG4gIG1lLnggPSAwO1xuICBtZS55ID0gMDtcbiAgbWUueiA9IDA7XG4gIG1lLncgPSAwO1xuICBtZS52ID0gMDtcblxuICBpZiAoc2VlZCA9PT0gKHNlZWQgfCAwKSkge1xuICAgIC8vIEludGVnZXIgc2VlZC5cbiAgICBtZS54ID0gc2VlZDtcbiAgfSBlbHNlIHtcbiAgICAvLyBTdHJpbmcgc2VlZC5cbiAgICBzdHJzZWVkICs9IHNlZWQ7XG4gIH1cblxuICAvLyBNaXggaW4gc3RyaW5nIHNlZWQsIHRoZW4gZGlzY2FyZCBhbiBpbml0aWFsIGJhdGNoIG9mIDY0IHZhbHVlcy5cbiAgZm9yICh2YXIgayA9IDA7IGsgPCBzdHJzZWVkLmxlbmd0aCArIDY0OyBrKyspIHtcbiAgICBtZS54IF49IHN0cnNlZWQuY2hhckNvZGVBdChrKSB8IDA7XG4gICAgaWYgKGsgPT0gc3Ryc2VlZC5sZW5ndGgpIHtcbiAgICAgIG1lLmQgPSBtZS54IDw8IDEwIF4gbWUueCA+Pj4gNDtcbiAgICB9XG4gICAgbWUubmV4dCgpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGNvcHkoZiwgdCkge1xuICB0LnggPSBmLng7XG4gIHQueSA9IGYueTtcbiAgdC56ID0gZi56O1xuICB0LncgPSBmLnc7XG4gIHQudiA9IGYudjtcbiAgdC5kID0gZi5kO1xuICByZXR1cm4gdDtcbn1cblxuZnVuY3Rpb24gaW1wbChzZWVkLCBvcHRzKSB7XG4gIHZhciB4ZyA9IG5ldyBYb3JHZW4oc2VlZCksXG4gICAgICBzdGF0ZSA9IG9wdHMgJiYgb3B0cy5zdGF0ZSxcbiAgICAgIHBybmcgPSBmdW5jdGlvbigpIHsgcmV0dXJuICh4Zy5uZXh0KCkgPj4+IDApIC8gMHgxMDAwMDAwMDA7IH07XG4gIHBybmcuZG91YmxlID0gZnVuY3Rpb24oKSB7XG4gICAgZG8ge1xuICAgICAgdmFyIHRvcCA9IHhnLm5leHQoKSA+Pj4gMTEsXG4gICAgICAgICAgYm90ID0gKHhnLm5leHQoKSA+Pj4gMCkgLyAweDEwMDAwMDAwMCxcbiAgICAgICAgICByZXN1bHQgPSAodG9wICsgYm90KSAvICgxIDw8IDIxKTtcbiAgICB9IHdoaWxlIChyZXN1bHQgPT09IDApO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG4gIHBybmcuaW50MzIgPSB4Zy5uZXh0O1xuICBwcm5nLnF1aWNrID0gcHJuZztcbiAgaWYgKHN0YXRlKSB7XG4gICAgaWYgKHR5cGVvZihzdGF0ZSkgPT0gJ29iamVjdCcpIGNvcHkoc3RhdGUsIHhnKTtcbiAgICBwcm5nLnN0YXRlID0gZnVuY3Rpb24oKSB7IHJldHVybiBjb3B5KHhnLCB7fSk7IH1cbiAgfVxuICByZXR1cm4gcHJuZztcbn1cblxuaWYgKG1vZHVsZSAmJiBtb2R1bGUuZXhwb3J0cykge1xuICBtb2R1bGUuZXhwb3J0cyA9IGltcGw7XG59IGVsc2UgaWYgKGRlZmluZSAmJiBkZWZpbmUuYW1kKSB7XG4gIGRlZmluZShmdW5jdGlvbigpIHsgcmV0dXJuIGltcGw7IH0pO1xufSBlbHNlIHtcbiAgdGhpcy54b3J3b3cgPSBpbXBsO1xufVxuXG59KShcbiAgdGhpcyxcbiAgKHR5cGVvZiBtb2R1bGUpID09ICdvYmplY3QnICYmIG1vZHVsZSwgICAgLy8gcHJlc2VudCBpbiBub2RlLmpzXG4gICh0eXBlb2YgZGVmaW5lKSA9PSAnZnVuY3Rpb24nICYmIGRlZmluZSAgIC8vIHByZXNlbnQgd2l0aCBhbiBBTUQgbG9hZGVyXG4pO1xuXG5cbiIsIi8vIEEgSmF2YXNjcmlwdCBpbXBsZW1lbnRhaW9uIG9mIHRoZSBcInhvcnNoaWZ0N1wiIGFsZ29yaXRobSBieVxuLy8gRnJhbsOnb2lzIFBhbm5ldG9uIGFuZCBQaWVycmUgTCdlY3V5ZXI6XG4vLyBcIk9uIHRoZSBYb3Jnc2hpZnQgUmFuZG9tIE51bWJlciBHZW5lcmF0b3JzXCJcbi8vIGh0dHA6Ly9zYWx1Yy5lbmdyLnVjb25uLmVkdS9yZWZzL2NyeXB0by9ybmcvcGFubmV0b24wNW9udGhleG9yc2hpZnQucGRmXG5cbihmdW5jdGlvbihnbG9iYWwsIG1vZHVsZSwgZGVmaW5lKSB7XG5cbmZ1bmN0aW9uIFhvckdlbihzZWVkKSB7XG4gIHZhciBtZSA9IHRoaXM7XG5cbiAgLy8gU2V0IHVwIGdlbmVyYXRvciBmdW5jdGlvbi5cbiAgbWUubmV4dCA9IGZ1bmN0aW9uKCkge1xuICAgIC8vIFVwZGF0ZSB4b3IgZ2VuZXJhdG9yLlxuICAgIHZhciBYID0gbWUueCwgaSA9IG1lLmksIHQsIHYsIHc7XG4gICAgdCA9IFhbaV07IHQgXj0gKHQgPj4+IDcpOyB2ID0gdCBeICh0IDw8IDI0KTtcbiAgICB0ID0gWFsoaSArIDEpICYgN107IHYgXj0gdCBeICh0ID4+PiAxMCk7XG4gICAgdCA9IFhbKGkgKyAzKSAmIDddOyB2IF49IHQgXiAodCA+Pj4gMyk7XG4gICAgdCA9IFhbKGkgKyA0KSAmIDddOyB2IF49IHQgXiAodCA8PCA3KTtcbiAgICB0ID0gWFsoaSArIDcpICYgN107IHQgPSB0IF4gKHQgPDwgMTMpOyB2IF49IHQgXiAodCA8PCA5KTtcbiAgICBYW2ldID0gdjtcbiAgICBtZS5pID0gKGkgKyAxKSAmIDc7XG4gICAgcmV0dXJuIHY7XG4gIH07XG5cbiAgZnVuY3Rpb24gaW5pdChtZSwgc2VlZCkge1xuICAgIHZhciBqLCB3LCBYID0gW107XG5cbiAgICBpZiAoc2VlZCA9PT0gKHNlZWQgfCAwKSkge1xuICAgICAgLy8gU2VlZCBzdGF0ZSBhcnJheSB1c2luZyBhIDMyLWJpdCBpbnRlZ2VyLlxuICAgICAgdyA9IFhbMF0gPSBzZWVkO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBTZWVkIHN0YXRlIHVzaW5nIGEgc3RyaW5nLlxuICAgICAgc2VlZCA9ICcnICsgc2VlZDtcbiAgICAgIGZvciAoaiA9IDA7IGogPCBzZWVkLmxlbmd0aDsgKytqKSB7XG4gICAgICAgIFhbaiAmIDddID0gKFhbaiAmIDddIDw8IDE1KSBeXG4gICAgICAgICAgICAoc2VlZC5jaGFyQ29kZUF0KGopICsgWFsoaiArIDEpICYgN10gPDwgMTMpO1xuICAgICAgfVxuICAgIH1cbiAgICAvLyBFbmZvcmNlIGFuIGFycmF5IGxlbmd0aCBvZiA4LCBub3QgYWxsIHplcm9lcy5cbiAgICB3aGlsZSAoWC5sZW5ndGggPCA4KSBYLnB1c2goMCk7XG4gICAgZm9yIChqID0gMDsgaiA8IDggJiYgWFtqXSA9PT0gMDsgKytqKTtcbiAgICBpZiAoaiA9PSA4KSB3ID0gWFs3XSA9IC0xOyBlbHNlIHcgPSBYW2pdO1xuXG4gICAgbWUueCA9IFg7XG4gICAgbWUuaSA9IDA7XG5cbiAgICAvLyBEaXNjYXJkIGFuIGluaXRpYWwgMjU2IHZhbHVlcy5cbiAgICBmb3IgKGogPSAyNTY7IGogPiAwOyAtLWopIHtcbiAgICAgIG1lLm5leHQoKTtcbiAgICB9XG4gIH1cblxuICBpbml0KG1lLCBzZWVkKTtcbn1cblxuZnVuY3Rpb24gY29weShmLCB0KSB7XG4gIHQueCA9IGYueC5zbGljZSgpO1xuICB0LmkgPSBmLmk7XG4gIHJldHVybiB0O1xufVxuXG5mdW5jdGlvbiBpbXBsKHNlZWQsIG9wdHMpIHtcbiAgaWYgKHNlZWQgPT0gbnVsbCkgc2VlZCA9ICsobmV3IERhdGUpO1xuICB2YXIgeGcgPSBuZXcgWG9yR2VuKHNlZWQpLFxuICAgICAgc3RhdGUgPSBvcHRzICYmIG9wdHMuc3RhdGUsXG4gICAgICBwcm5nID0gZnVuY3Rpb24oKSB7IHJldHVybiAoeGcubmV4dCgpID4+PiAwKSAvIDB4MTAwMDAwMDAwOyB9O1xuICBwcm5nLmRvdWJsZSA9IGZ1bmN0aW9uKCkge1xuICAgIGRvIHtcbiAgICAgIHZhciB0b3AgPSB4Zy5uZXh0KCkgPj4+IDExLFxuICAgICAgICAgIGJvdCA9ICh4Zy5uZXh0KCkgPj4+IDApIC8gMHgxMDAwMDAwMDAsXG4gICAgICAgICAgcmVzdWx0ID0gKHRvcCArIGJvdCkgLyAoMSA8PCAyMSk7XG4gICAgfSB3aGlsZSAocmVzdWx0ID09PSAwKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuICBwcm5nLmludDMyID0geGcubmV4dDtcbiAgcHJuZy5xdWljayA9IHBybmc7XG4gIGlmIChzdGF0ZSkge1xuICAgIGlmIChzdGF0ZS54KSBjb3B5KHN0YXRlLCB4Zyk7XG4gICAgcHJuZy5zdGF0ZSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gY29weSh4Zywge30pOyB9XG4gIH1cbiAgcmV0dXJuIHBybmc7XG59XG5cbmlmIChtb2R1bGUgJiYgbW9kdWxlLmV4cG9ydHMpIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSBpbXBsO1xufSBlbHNlIGlmIChkZWZpbmUgJiYgZGVmaW5lLmFtZCkge1xuICBkZWZpbmUoZnVuY3Rpb24oKSB7IHJldHVybiBpbXBsOyB9KTtcbn0gZWxzZSB7XG4gIHRoaXMueG9yc2hpZnQ3ID0gaW1wbDtcbn1cblxufSkoXG4gIHRoaXMsXG4gICh0eXBlb2YgbW9kdWxlKSA9PSAnb2JqZWN0JyAmJiBtb2R1bGUsICAgIC8vIHByZXNlbnQgaW4gbm9kZS5qc1xuICAodHlwZW9mIGRlZmluZSkgPT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUgICAvLyBwcmVzZW50IHdpdGggYW4gQU1EIGxvYWRlclxuKTtcblxuIiwiLy8gQSBKYXZhc2NyaXB0IGltcGxlbWVudGFpb24gb2YgUmljaGFyZCBCcmVudCdzIFhvcmdlbnMgeG9yNDA5NiBhbGdvcml0aG0uXG4vL1xuLy8gVGhpcyBmYXN0IG5vbi1jcnlwdG9ncmFwaGljIHJhbmRvbSBudW1iZXIgZ2VuZXJhdG9yIGlzIGRlc2lnbmVkIGZvclxuLy8gdXNlIGluIE1vbnRlLUNhcmxvIGFsZ29yaXRobXMuIEl0IGNvbWJpbmVzIGEgbG9uZy1wZXJpb2QgeG9yc2hpZnRcbi8vIGdlbmVyYXRvciB3aXRoIGEgV2V5bCBnZW5lcmF0b3IsIGFuZCBpdCBwYXNzZXMgYWxsIGNvbW1vbiBiYXR0ZXJpZXNcbi8vIG9mIHN0YXN0aWNpYWwgdGVzdHMgZm9yIHJhbmRvbW5lc3Mgd2hpbGUgY29uc3VtaW5nIG9ubHkgYSBmZXcgbmFub3NlY29uZHNcbi8vIGZvciBlYWNoIHBybmcgZ2VuZXJhdGVkLiAgRm9yIGJhY2tncm91bmQgb24gdGhlIGdlbmVyYXRvciwgc2VlIEJyZW50J3Ncbi8vIHBhcGVyOiBcIlNvbWUgbG9uZy1wZXJpb2QgcmFuZG9tIG51bWJlciBnZW5lcmF0b3JzIHVzaW5nIHNoaWZ0cyBhbmQgeG9ycy5cIlxuLy8gaHR0cDovL2FyeGl2Lm9yZy9wZGYvMTAwNC4zMTE1djEucGRmXG4vL1xuLy8gVXNhZ2U6XG4vL1xuLy8gdmFyIHhvcjQwOTYgPSByZXF1aXJlKCd4b3I0MDk2Jyk7XG4vLyByYW5kb20gPSB4b3I0MDk2KDEpOyAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNlZWQgd2l0aCBpbnQzMiBvciBzdHJpbmcuXG4vLyBhc3NlcnQuZXF1YWwocmFuZG9tKCksIDAuMTUyMDQzNjQ1MDUzODU0Nyk7IC8vICgwLCAxKSByYW5nZSwgNTMgYml0cy5cbi8vIGFzc2VydC5lcXVhbChyYW5kb20uaW50MzIoKSwgMTgwNjUzNDg5Nyk7ICAgLy8gc2lnbmVkIGludDMyLCAzMiBiaXRzLlxuLy9cbi8vIEZvciBub256ZXJvIG51bWVyaWMga2V5cywgdGhpcyBpbXBlbGVtZW50YXRpb24gcHJvdmlkZXMgYSBzZXF1ZW5jZVxuLy8gaWRlbnRpY2FsIHRvIHRoYXQgYnkgQnJlbnQncyB4b3JnZW5zIDMgaW1wbGVtZW50YWlvbiBpbiBDLiAgVGhpc1xuLy8gaW1wbGVtZW50YXRpb24gYWxzbyBwcm92aWRlcyBmb3IgaW5pdGFsaXppbmcgdGhlIGdlbmVyYXRvciB3aXRoXG4vLyBzdHJpbmcgc2VlZHMsIG9yIGZvciBzYXZpbmcgYW5kIHJlc3RvcmluZyB0aGUgc3RhdGUgb2YgdGhlIGdlbmVyYXRvci5cbi8vXG4vLyBPbiBDaHJvbWUsIHRoaXMgcHJuZyBiZW5jaG1hcmtzIGFib3V0IDIuMSB0aW1lcyBzbG93ZXIgdGhhblxuLy8gSmF2YXNjcmlwdCdzIGJ1aWx0LWluIE1hdGgucmFuZG9tKCkuXG5cbihmdW5jdGlvbihnbG9iYWwsIG1vZHVsZSwgZGVmaW5lKSB7XG5cbmZ1bmN0aW9uIFhvckdlbihzZWVkKSB7XG4gIHZhciBtZSA9IHRoaXM7XG5cbiAgLy8gU2V0IHVwIGdlbmVyYXRvciBmdW5jdGlvbi5cbiAgbWUubmV4dCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciB3ID0gbWUudyxcbiAgICAgICAgWCA9IG1lLlgsIGkgPSBtZS5pLCB0LCB2O1xuICAgIC8vIFVwZGF0ZSBXZXlsIGdlbmVyYXRvci5cbiAgICBtZS53ID0gdyA9ICh3ICsgMHg2MWM4ODY0NykgfCAwO1xuICAgIC8vIFVwZGF0ZSB4b3IgZ2VuZXJhdG9yLlxuICAgIHYgPSBYWyhpICsgMzQpICYgMTI3XTtcbiAgICB0ID0gWFtpID0gKChpICsgMSkgJiAxMjcpXTtcbiAgICB2IF49IHYgPDwgMTM7XG4gICAgdCBePSB0IDw8IDE3O1xuICAgIHYgXj0gdiA+Pj4gMTU7XG4gICAgdCBePSB0ID4+PiAxMjtcbiAgICAvLyBVcGRhdGUgWG9yIGdlbmVyYXRvciBhcnJheSBzdGF0ZS5cbiAgICB2ID0gWFtpXSA9IHYgXiB0O1xuICAgIG1lLmkgPSBpO1xuICAgIC8vIFJlc3VsdCBpcyB0aGUgY29tYmluYXRpb24uXG4gICAgcmV0dXJuICh2ICsgKHcgXiAodyA+Pj4gMTYpKSkgfCAwO1xuICB9O1xuXG4gIGZ1bmN0aW9uIGluaXQobWUsIHNlZWQpIHtcbiAgICB2YXIgdCwgdiwgaSwgaiwgdywgWCA9IFtdLCBsaW1pdCA9IDEyODtcbiAgICBpZiAoc2VlZCA9PT0gKHNlZWQgfCAwKSkge1xuICAgICAgLy8gTnVtZXJpYyBzZWVkcyBpbml0aWFsaXplIHYsIHdoaWNoIGlzIHVzZWQgdG8gZ2VuZXJhdGVzIFguXG4gICAgICB2ID0gc2VlZDtcbiAgICAgIHNlZWQgPSBudWxsO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBTdHJpbmcgc2VlZHMgYXJlIG1peGVkIGludG8gdiBhbmQgWCBvbmUgY2hhcmFjdGVyIGF0IGEgdGltZS5cbiAgICAgIHNlZWQgPSBzZWVkICsgJ1xcMCc7XG4gICAgICB2ID0gMDtcbiAgICAgIGxpbWl0ID0gTWF0aC5tYXgobGltaXQsIHNlZWQubGVuZ3RoKTtcbiAgICB9XG4gICAgLy8gSW5pdGlhbGl6ZSBjaXJjdWxhciBhcnJheSBhbmQgd2V5bCB2YWx1ZS5cbiAgICBmb3IgKGkgPSAwLCBqID0gLTMyOyBqIDwgbGltaXQ7ICsraikge1xuICAgICAgLy8gUHV0IHRoZSB1bmljb2RlIGNoYXJhY3RlcnMgaW50byB0aGUgYXJyYXksIGFuZCBzaHVmZmxlIHRoZW0uXG4gICAgICBpZiAoc2VlZCkgdiBePSBzZWVkLmNoYXJDb2RlQXQoKGogKyAzMikgJSBzZWVkLmxlbmd0aCk7XG4gICAgICAvLyBBZnRlciAzMiBzaHVmZmxlcywgdGFrZSB2IGFzIHRoZSBzdGFydGluZyB3IHZhbHVlLlxuICAgICAgaWYgKGogPT09IDApIHcgPSB2O1xuICAgICAgdiBePSB2IDw8IDEwO1xuICAgICAgdiBePSB2ID4+PiAxNTtcbiAgICAgIHYgXj0gdiA8PCA0O1xuICAgICAgdiBePSB2ID4+PiAxMztcbiAgICAgIGlmIChqID49IDApIHtcbiAgICAgICAgdyA9ICh3ICsgMHg2MWM4ODY0NykgfCAwOyAgICAgLy8gV2V5bC5cbiAgICAgICAgdCA9IChYW2ogJiAxMjddIF49ICh2ICsgdykpOyAgLy8gQ29tYmluZSB4b3IgYW5kIHdleWwgdG8gaW5pdCBhcnJheS5cbiAgICAgICAgaSA9ICgwID09IHQpID8gaSArIDEgOiAwOyAgICAgLy8gQ291bnQgemVyb2VzLlxuICAgICAgfVxuICAgIH1cbiAgICAvLyBXZSBoYXZlIGRldGVjdGVkIGFsbCB6ZXJvZXM7IG1ha2UgdGhlIGtleSBub256ZXJvLlxuICAgIGlmIChpID49IDEyOCkge1xuICAgICAgWFsoc2VlZCAmJiBzZWVkLmxlbmd0aCB8fCAwKSAmIDEyN10gPSAtMTtcbiAgICB9XG4gICAgLy8gUnVuIHRoZSBnZW5lcmF0b3IgNTEyIHRpbWVzIHRvIGZ1cnRoZXIgbWl4IHRoZSBzdGF0ZSBiZWZvcmUgdXNpbmcgaXQuXG4gICAgLy8gRmFjdG9yaW5nIHRoaXMgYXMgYSBmdW5jdGlvbiBzbG93cyB0aGUgbWFpbiBnZW5lcmF0b3IsIHNvIGl0IGlzIGp1c3RcbiAgICAvLyB1bnJvbGxlZCBoZXJlLiAgVGhlIHdleWwgZ2VuZXJhdG9yIGlzIG5vdCBhZHZhbmNlZCB3aGlsZSB3YXJtaW5nIHVwLlxuICAgIGkgPSAxMjc7XG4gICAgZm9yIChqID0gNCAqIDEyODsgaiA+IDA7IC0taikge1xuICAgICAgdiA9IFhbKGkgKyAzNCkgJiAxMjddO1xuICAgICAgdCA9IFhbaSA9ICgoaSArIDEpICYgMTI3KV07XG4gICAgICB2IF49IHYgPDwgMTM7XG4gICAgICB0IF49IHQgPDwgMTc7XG4gICAgICB2IF49IHYgPj4+IDE1O1xuICAgICAgdCBePSB0ID4+PiAxMjtcbiAgICAgIFhbaV0gPSB2IF4gdDtcbiAgICB9XG4gICAgLy8gU3RvcmluZyBzdGF0ZSBhcyBvYmplY3QgbWVtYmVycyBpcyBmYXN0ZXIgdGhhbiB1c2luZyBjbG9zdXJlIHZhcmlhYmxlcy5cbiAgICBtZS53ID0gdztcbiAgICBtZS5YID0gWDtcbiAgICBtZS5pID0gaTtcbiAgfVxuXG4gIGluaXQobWUsIHNlZWQpO1xufVxuXG5mdW5jdGlvbiBjb3B5KGYsIHQpIHtcbiAgdC5pID0gZi5pO1xuICB0LncgPSBmLnc7XG4gIHQuWCA9IGYuWC5zbGljZSgpO1xuICByZXR1cm4gdDtcbn07XG5cbmZ1bmN0aW9uIGltcGwoc2VlZCwgb3B0cykge1xuICBpZiAoc2VlZCA9PSBudWxsKSBzZWVkID0gKyhuZXcgRGF0ZSk7XG4gIHZhciB4ZyA9IG5ldyBYb3JHZW4oc2VlZCksXG4gICAgICBzdGF0ZSA9IG9wdHMgJiYgb3B0cy5zdGF0ZSxcbiAgICAgIHBybmcgPSBmdW5jdGlvbigpIHsgcmV0dXJuICh4Zy5uZXh0KCkgPj4+IDApIC8gMHgxMDAwMDAwMDA7IH07XG4gIHBybmcuZG91YmxlID0gZnVuY3Rpb24oKSB7XG4gICAgZG8ge1xuICAgICAgdmFyIHRvcCA9IHhnLm5leHQoKSA+Pj4gMTEsXG4gICAgICAgICAgYm90ID0gKHhnLm5leHQoKSA+Pj4gMCkgLyAweDEwMDAwMDAwMCxcbiAgICAgICAgICByZXN1bHQgPSAodG9wICsgYm90KSAvICgxIDw8IDIxKTtcbiAgICB9IHdoaWxlIChyZXN1bHQgPT09IDApO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG4gIHBybmcuaW50MzIgPSB4Zy5uZXh0O1xuICBwcm5nLnF1aWNrID0gcHJuZztcbiAgaWYgKHN0YXRlKSB7XG4gICAgaWYgKHN0YXRlLlgpIGNvcHkoc3RhdGUsIHhnKTtcbiAgICBwcm5nLnN0YXRlID0gZnVuY3Rpb24oKSB7IHJldHVybiBjb3B5KHhnLCB7fSk7IH1cbiAgfVxuICByZXR1cm4gcHJuZztcbn1cblxuaWYgKG1vZHVsZSAmJiBtb2R1bGUuZXhwb3J0cykge1xuICBtb2R1bGUuZXhwb3J0cyA9IGltcGw7XG59IGVsc2UgaWYgKGRlZmluZSAmJiBkZWZpbmUuYW1kKSB7XG4gIGRlZmluZShmdW5jdGlvbigpIHsgcmV0dXJuIGltcGw7IH0pO1xufSBlbHNlIHtcbiAgdGhpcy54b3I0MDk2ID0gaW1wbDtcbn1cblxufSkoXG4gIHRoaXMsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdpbmRvdyBvYmplY3Qgb3IgZ2xvYmFsXG4gICh0eXBlb2YgbW9kdWxlKSA9PSAnb2JqZWN0JyAmJiBtb2R1bGUsICAgIC8vIHByZXNlbnQgaW4gbm9kZS5qc1xuICAodHlwZW9mIGRlZmluZSkgPT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUgICAvLyBwcmVzZW50IHdpdGggYW4gQU1EIGxvYWRlclxuKTtcbiIsIi8vIEEgSmF2YXNjcmlwdCBpbXBsZW1lbnRhaW9uIG9mIHRoZSBcIlR5Y2hlLWlcIiBwcm5nIGFsZ29yaXRobSBieVxuLy8gU2FtdWVsIE5ldmVzIGFuZCBGaWxpcGUgQXJhdWpvLlxuLy8gU2VlIGh0dHBzOi8vZWRlbi5kZWkudWMucHQvfnNuZXZlcy9wdWJzLzIwMTEtc25mYTIucGRmXG5cbihmdW5jdGlvbihnbG9iYWwsIG1vZHVsZSwgZGVmaW5lKSB7XG5cbmZ1bmN0aW9uIFhvckdlbihzZWVkKSB7XG4gIHZhciBtZSA9IHRoaXMsIHN0cnNlZWQgPSAnJztcblxuICAvLyBTZXQgdXAgZ2VuZXJhdG9yIGZ1bmN0aW9uLlxuICBtZS5uZXh0ID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGIgPSBtZS5iLCBjID0gbWUuYywgZCA9IG1lLmQsIGEgPSBtZS5hO1xuICAgIGIgPSAoYiA8PCAyNSkgXiAoYiA+Pj4gNykgXiBjO1xuICAgIGMgPSAoYyAtIGQpIHwgMDtcbiAgICBkID0gKGQgPDwgMjQpIF4gKGQgPj4+IDgpIF4gYTtcbiAgICBhID0gKGEgLSBiKSB8IDA7XG4gICAgbWUuYiA9IGIgPSAoYiA8PCAyMCkgXiAoYiA+Pj4gMTIpIF4gYztcbiAgICBtZS5jID0gYyA9IChjIC0gZCkgfCAwO1xuICAgIG1lLmQgPSAoZCA8PCAxNikgXiAoYyA+Pj4gMTYpIF4gYTtcbiAgICByZXR1cm4gbWUuYSA9IChhIC0gYikgfCAwO1xuICB9O1xuXG4gIC8qIFRoZSBmb2xsb3dpbmcgaXMgbm9uLWludmVydGVkIHR5Y2hlLCB3aGljaCBoYXMgYmV0dGVyIGludGVybmFsXG4gICAqIGJpdCBkaWZmdXNpb24sIGJ1dCB3aGljaCBpcyBhYm91dCAyNSUgc2xvd2VyIHRoYW4gdHljaGUtaSBpbiBKUy5cbiAgbWUubmV4dCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBhID0gbWUuYSwgYiA9IG1lLmIsIGMgPSBtZS5jLCBkID0gbWUuZDtcbiAgICBhID0gKG1lLmEgKyBtZS5iIHwgMCkgPj4+IDA7XG4gICAgZCA9IG1lLmQgXiBhOyBkID0gZCA8PCAxNiBeIGQgPj4+IDE2O1xuICAgIGMgPSBtZS5jICsgZCB8IDA7XG4gICAgYiA9IG1lLmIgXiBjOyBiID0gYiA8PCAxMiBeIGQgPj4+IDIwO1xuICAgIG1lLmEgPSBhID0gYSArIGIgfCAwO1xuICAgIGQgPSBkIF4gYTsgbWUuZCA9IGQgPSBkIDw8IDggXiBkID4+PiAyNDtcbiAgICBtZS5jID0gYyA9IGMgKyBkIHwgMDtcbiAgICBiID0gYiBeIGM7XG4gICAgcmV0dXJuIG1lLmIgPSAoYiA8PCA3IF4gYiA+Pj4gMjUpO1xuICB9XG4gICovXG5cbiAgbWUuYSA9IDA7XG4gIG1lLmIgPSAwO1xuICBtZS5jID0gMjY1NDQzNTc2OSB8IDA7XG4gIG1lLmQgPSAxMzY3MTMwNTUxO1xuXG4gIGlmIChzZWVkID09PSBNYXRoLmZsb29yKHNlZWQpKSB7XG4gICAgLy8gSW50ZWdlciBzZWVkLlxuICAgIG1lLmEgPSAoc2VlZCAvIDB4MTAwMDAwMDAwKSB8IDA7XG4gICAgbWUuYiA9IHNlZWQgfCAwO1xuICB9IGVsc2Uge1xuICAgIC8vIFN0cmluZyBzZWVkLlxuICAgIHN0cnNlZWQgKz0gc2VlZDtcbiAgfVxuXG4gIC8vIE1peCBpbiBzdHJpbmcgc2VlZCwgdGhlbiBkaXNjYXJkIGFuIGluaXRpYWwgYmF0Y2ggb2YgNjQgdmFsdWVzLlxuICBmb3IgKHZhciBrID0gMDsgayA8IHN0cnNlZWQubGVuZ3RoICsgMjA7IGsrKykge1xuICAgIG1lLmIgXj0gc3Ryc2VlZC5jaGFyQ29kZUF0KGspIHwgMDtcbiAgICBtZS5uZXh0KCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gY29weShmLCB0KSB7XG4gIHQuYSA9IGYuYTtcbiAgdC5iID0gZi5iO1xuICB0LmMgPSBmLmM7XG4gIHQuZCA9IGYuZDtcbiAgcmV0dXJuIHQ7XG59O1xuXG5mdW5jdGlvbiBpbXBsKHNlZWQsIG9wdHMpIHtcbiAgdmFyIHhnID0gbmV3IFhvckdlbihzZWVkKSxcbiAgICAgIHN0YXRlID0gb3B0cyAmJiBvcHRzLnN0YXRlLFxuICAgICAgcHJuZyA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gKHhnLm5leHQoKSA+Pj4gMCkgLyAweDEwMDAwMDAwMDsgfTtcbiAgcHJuZy5kb3VibGUgPSBmdW5jdGlvbigpIHtcbiAgICBkbyB7XG4gICAgICB2YXIgdG9wID0geGcubmV4dCgpID4+PiAxMSxcbiAgICAgICAgICBib3QgPSAoeGcubmV4dCgpID4+PiAwKSAvIDB4MTAwMDAwMDAwLFxuICAgICAgICAgIHJlc3VsdCA9ICh0b3AgKyBib3QpIC8gKDEgPDwgMjEpO1xuICAgIH0gd2hpbGUgKHJlc3VsdCA9PT0gMCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcbiAgcHJuZy5pbnQzMiA9IHhnLm5leHQ7XG4gIHBybmcucXVpY2sgPSBwcm5nO1xuICBpZiAoc3RhdGUpIHtcbiAgICBpZiAodHlwZW9mKHN0YXRlKSA9PSAnb2JqZWN0JykgY29weShzdGF0ZSwgeGcpO1xuICAgIHBybmcuc3RhdGUgPSBmdW5jdGlvbigpIHsgcmV0dXJuIGNvcHkoeGcsIHt9KTsgfVxuICB9XG4gIHJldHVybiBwcm5nO1xufVxuXG5pZiAobW9kdWxlICYmIG1vZHVsZS5leHBvcnRzKSB7XG4gIG1vZHVsZS5leHBvcnRzID0gaW1wbDtcbn0gZWxzZSBpZiAoZGVmaW5lICYmIGRlZmluZS5hbWQpIHtcbiAgZGVmaW5lKGZ1bmN0aW9uKCkgeyByZXR1cm4gaW1wbDsgfSk7XG59IGVsc2Uge1xuICB0aGlzLnR5Y2hlaSA9IGltcGw7XG59XG5cbn0pKFxuICB0aGlzLFxuICAodHlwZW9mIG1vZHVsZSkgPT0gJ29iamVjdCcgJiYgbW9kdWxlLCAgICAvLyBwcmVzZW50IGluIG5vZGUuanNcbiAgKHR5cGVvZiBkZWZpbmUpID09ICdmdW5jdGlvbicgJiYgZGVmaW5lICAgLy8gcHJlc2VudCB3aXRoIGFuIEFNRCBsb2FkZXJcbik7XG5cblxuIiwiLypcbkNvcHlyaWdodCAyMDE0IERhdmlkIEJhdS5cblxuUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nXG5hIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcblwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xud2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvXG5wZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG9cbnRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcblxuVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmVcbmluY2x1ZGVkIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELFxuRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG5NRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuXG5JTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWVxuQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCxcblRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFXG5TT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxuKi9cblxuKGZ1bmN0aW9uIChwb29sLCBtYXRoKSB7XG4vL1xuLy8gVGhlIGZvbGxvd2luZyBjb25zdGFudHMgYXJlIHJlbGF0ZWQgdG8gSUVFRSA3NTQgbGltaXRzLlxuLy9cbnZhciBnbG9iYWwgPSB0aGlzLFxuICAgIHdpZHRoID0gMjU2LCAgICAgICAgLy8gZWFjaCBSQzQgb3V0cHV0IGlzIDAgPD0geCA8IDI1NlxuICAgIGNodW5rcyA9IDYsICAgICAgICAgLy8gYXQgbGVhc3Qgc2l4IFJDNCBvdXRwdXRzIGZvciBlYWNoIGRvdWJsZVxuICAgIGRpZ2l0cyA9IDUyLCAgICAgICAgLy8gdGhlcmUgYXJlIDUyIHNpZ25pZmljYW50IGRpZ2l0cyBpbiBhIGRvdWJsZVxuICAgIHJuZ25hbWUgPSAncmFuZG9tJywgLy8gcm5nbmFtZTogbmFtZSBmb3IgTWF0aC5yYW5kb20gYW5kIE1hdGguc2VlZHJhbmRvbVxuICAgIHN0YXJ0ZGVub20gPSBtYXRoLnBvdyh3aWR0aCwgY2h1bmtzKSxcbiAgICBzaWduaWZpY2FuY2UgPSBtYXRoLnBvdygyLCBkaWdpdHMpLFxuICAgIG92ZXJmbG93ID0gc2lnbmlmaWNhbmNlICogMixcbiAgICBtYXNrID0gd2lkdGggLSAxLFxuICAgIG5vZGVjcnlwdG87ICAgICAgICAgLy8gbm9kZS5qcyBjcnlwdG8gbW9kdWxlLCBpbml0aWFsaXplZCBhdCB0aGUgYm90dG9tLlxuXG4vL1xuLy8gc2VlZHJhbmRvbSgpXG4vLyBUaGlzIGlzIHRoZSBzZWVkcmFuZG9tIGZ1bmN0aW9uIGRlc2NyaWJlZCBhYm92ZS5cbi8vXG5mdW5jdGlvbiBzZWVkcmFuZG9tKHNlZWQsIG9wdGlvbnMsIGNhbGxiYWNrKSB7XG4gIHZhciBrZXkgPSBbXTtcbiAgb3B0aW9ucyA9IChvcHRpb25zID09IHRydWUpID8geyBlbnRyb3B5OiB0cnVlIH0gOiAob3B0aW9ucyB8fCB7fSk7XG5cbiAgLy8gRmxhdHRlbiB0aGUgc2VlZCBzdHJpbmcgb3IgYnVpbGQgb25lIGZyb20gbG9jYWwgZW50cm9weSBpZiBuZWVkZWQuXG4gIHZhciBzaG9ydHNlZWQgPSBtaXhrZXkoZmxhdHRlbihcbiAgICBvcHRpb25zLmVudHJvcHkgPyBbc2VlZCwgdG9zdHJpbmcocG9vbCldIDpcbiAgICAoc2VlZCA9PSBudWxsKSA/IGF1dG9zZWVkKCkgOiBzZWVkLCAzKSwga2V5KTtcblxuICAvLyBVc2UgdGhlIHNlZWQgdG8gaW5pdGlhbGl6ZSBhbiBBUkM0IGdlbmVyYXRvci5cbiAgdmFyIGFyYzQgPSBuZXcgQVJDNChrZXkpO1xuXG4gIC8vIFRoaXMgZnVuY3Rpb24gcmV0dXJucyBhIHJhbmRvbSBkb3VibGUgaW4gWzAsIDEpIHRoYXQgY29udGFpbnNcbiAgLy8gcmFuZG9tbmVzcyBpbiBldmVyeSBiaXQgb2YgdGhlIG1hbnRpc3NhIG9mIHRoZSBJRUVFIDc1NCB2YWx1ZS5cbiAgdmFyIHBybmcgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgbiA9IGFyYzQuZyhjaHVua3MpLCAgICAgICAgICAgICAvLyBTdGFydCB3aXRoIGEgbnVtZXJhdG9yIG4gPCAyIF4gNDhcbiAgICAgICAgZCA9IHN0YXJ0ZGVub20sICAgICAgICAgICAgICAgICAvLyAgIGFuZCBkZW5vbWluYXRvciBkID0gMiBeIDQ4LlxuICAgICAgICB4ID0gMDsgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgYW5kIG5vICdleHRyYSBsYXN0IGJ5dGUnLlxuICAgIHdoaWxlIChuIDwgc2lnbmlmaWNhbmNlKSB7ICAgICAgICAgIC8vIEZpbGwgdXAgYWxsIHNpZ25pZmljYW50IGRpZ2l0cyBieVxuICAgICAgbiA9IChuICsgeCkgKiB3aWR0aDsgICAgICAgICAgICAgIC8vICAgc2hpZnRpbmcgbnVtZXJhdG9yIGFuZFxuICAgICAgZCAqPSB3aWR0aDsgICAgICAgICAgICAgICAgICAgICAgIC8vICAgZGVub21pbmF0b3IgYW5kIGdlbmVyYXRpbmcgYVxuICAgICAgeCA9IGFyYzQuZygxKTsgICAgICAgICAgICAgICAgICAgIC8vICAgbmV3IGxlYXN0LXNpZ25pZmljYW50LWJ5dGUuXG4gICAgfVxuICAgIHdoaWxlIChuID49IG92ZXJmbG93KSB7ICAgICAgICAgICAgIC8vIFRvIGF2b2lkIHJvdW5kaW5nIHVwLCBiZWZvcmUgYWRkaW5nXG4gICAgICBuIC89IDI7ICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICBsYXN0IGJ5dGUsIHNoaWZ0IGV2ZXJ5dGhpbmdcbiAgICAgIGQgLz0gMjsgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgIHJpZ2h0IHVzaW5nIGludGVnZXIgbWF0aCB1bnRpbFxuICAgICAgeCA+Pj49IDE7ICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgd2UgaGF2ZSBleGFjdGx5IHRoZSBkZXNpcmVkIGJpdHMuXG4gICAgfVxuICAgIHJldHVybiAobiArIHgpIC8gZDsgICAgICAgICAgICAgICAgIC8vIEZvcm0gdGhlIG51bWJlciB3aXRoaW4gWzAsIDEpLlxuICB9O1xuXG4gIHBybmcuaW50MzIgPSBmdW5jdGlvbigpIHsgcmV0dXJuIGFyYzQuZyg0KSB8IDA7IH1cbiAgcHJuZy5xdWljayA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gYXJjNC5nKDQpIC8gMHgxMDAwMDAwMDA7IH1cbiAgcHJuZy5kb3VibGUgPSBwcm5nO1xuXG4gIC8vIE1peCB0aGUgcmFuZG9tbmVzcyBpbnRvIGFjY3VtdWxhdGVkIGVudHJvcHkuXG4gIG1peGtleSh0b3N0cmluZyhhcmM0LlMpLCBwb29sKTtcblxuICAvLyBDYWxsaW5nIGNvbnZlbnRpb246IHdoYXQgdG8gcmV0dXJuIGFzIGEgZnVuY3Rpb24gb2YgcHJuZywgc2VlZCwgaXNfbWF0aC5cbiAgcmV0dXJuIChvcHRpb25zLnBhc3MgfHwgY2FsbGJhY2sgfHxcbiAgICAgIGZ1bmN0aW9uKHBybmcsIHNlZWQsIGlzX21hdGhfY2FsbCwgc3RhdGUpIHtcbiAgICAgICAgaWYgKHN0YXRlKSB7XG4gICAgICAgICAgLy8gTG9hZCB0aGUgYXJjNCBzdGF0ZSBmcm9tIHRoZSBnaXZlbiBzdGF0ZSBpZiBpdCBoYXMgYW4gUyBhcnJheS5cbiAgICAgICAgICBpZiAoc3RhdGUuUykgeyBjb3B5KHN0YXRlLCBhcmM0KTsgfVxuICAgICAgICAgIC8vIE9ubHkgcHJvdmlkZSB0aGUgLnN0YXRlIG1ldGhvZCBpZiByZXF1ZXN0ZWQgdmlhIG9wdGlvbnMuc3RhdGUuXG4gICAgICAgICAgcHJuZy5zdGF0ZSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gY29weShhcmM0LCB7fSk7IH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIElmIGNhbGxlZCBhcyBhIG1ldGhvZCBvZiBNYXRoIChNYXRoLnNlZWRyYW5kb20oKSksIG11dGF0ZVxuICAgICAgICAvLyBNYXRoLnJhbmRvbSBiZWNhdXNlIHRoYXQgaXMgaG93IHNlZWRyYW5kb20uanMgaGFzIHdvcmtlZCBzaW5jZSB2MS4wLlxuICAgICAgICBpZiAoaXNfbWF0aF9jYWxsKSB7IG1hdGhbcm5nbmFtZV0gPSBwcm5nOyByZXR1cm4gc2VlZDsgfVxuXG4gICAgICAgIC8vIE90aGVyd2lzZSwgaXQgaXMgYSBuZXdlciBjYWxsaW5nIGNvbnZlbnRpb24sIHNvIHJldHVybiB0aGVcbiAgICAgICAgLy8gcHJuZyBkaXJlY3RseS5cbiAgICAgICAgZWxzZSByZXR1cm4gcHJuZztcbiAgICAgIH0pKFxuICBwcm5nLFxuICBzaG9ydHNlZWQsXG4gICdnbG9iYWwnIGluIG9wdGlvbnMgPyBvcHRpb25zLmdsb2JhbCA6ICh0aGlzID09IG1hdGgpLFxuICBvcHRpb25zLnN0YXRlKTtcbn1cbm1hdGhbJ3NlZWQnICsgcm5nbmFtZV0gPSBzZWVkcmFuZG9tO1xuXG4vL1xuLy8gQVJDNFxuLy9cbi8vIEFuIEFSQzQgaW1wbGVtZW50YXRpb24uICBUaGUgY29uc3RydWN0b3IgdGFrZXMgYSBrZXkgaW4gdGhlIGZvcm0gb2Zcbi8vIGFuIGFycmF5IG9mIGF0IG1vc3QgKHdpZHRoKSBpbnRlZ2VycyB0aGF0IHNob3VsZCBiZSAwIDw9IHggPCAod2lkdGgpLlxuLy9cbi8vIFRoZSBnKGNvdW50KSBtZXRob2QgcmV0dXJucyBhIHBzZXVkb3JhbmRvbSBpbnRlZ2VyIHRoYXQgY29uY2F0ZW5hdGVzXG4vLyB0aGUgbmV4dCAoY291bnQpIG91dHB1dHMgZnJvbSBBUkM0LiAgSXRzIHJldHVybiB2YWx1ZSBpcyBhIG51bWJlciB4XG4vLyB0aGF0IGlzIGluIHRoZSByYW5nZSAwIDw9IHggPCAod2lkdGggXiBjb3VudCkuXG4vL1xuZnVuY3Rpb24gQVJDNChrZXkpIHtcbiAgdmFyIHQsIGtleWxlbiA9IGtleS5sZW5ndGgsXG4gICAgICBtZSA9IHRoaXMsIGkgPSAwLCBqID0gbWUuaSA9IG1lLmogPSAwLCBzID0gbWUuUyA9IFtdO1xuXG4gIC8vIFRoZSBlbXB0eSBrZXkgW10gaXMgdHJlYXRlZCBhcyBbMF0uXG4gIGlmICgha2V5bGVuKSB7IGtleSA9IFtrZXlsZW4rK107IH1cblxuICAvLyBTZXQgdXAgUyB1c2luZyB0aGUgc3RhbmRhcmQga2V5IHNjaGVkdWxpbmcgYWxnb3JpdGhtLlxuICB3aGlsZSAoaSA8IHdpZHRoKSB7XG4gICAgc1tpXSA9IGkrKztcbiAgfVxuICBmb3IgKGkgPSAwOyBpIDwgd2lkdGg7IGkrKykge1xuICAgIHNbaV0gPSBzW2ogPSBtYXNrICYgKGogKyBrZXlbaSAlIGtleWxlbl0gKyAodCA9IHNbaV0pKV07XG4gICAgc1tqXSA9IHQ7XG4gIH1cblxuICAvLyBUaGUgXCJnXCIgbWV0aG9kIHJldHVybnMgdGhlIG5leHQgKGNvdW50KSBvdXRwdXRzIGFzIG9uZSBudW1iZXIuXG4gIChtZS5nID0gZnVuY3Rpb24oY291bnQpIHtcbiAgICAvLyBVc2luZyBpbnN0YW5jZSBtZW1iZXJzIGluc3RlYWQgb2YgY2xvc3VyZSBzdGF0ZSBuZWFybHkgZG91YmxlcyBzcGVlZC5cbiAgICB2YXIgdCwgciA9IDAsXG4gICAgICAgIGkgPSBtZS5pLCBqID0gbWUuaiwgcyA9IG1lLlM7XG4gICAgd2hpbGUgKGNvdW50LS0pIHtcbiAgICAgIHQgPSBzW2kgPSBtYXNrICYgKGkgKyAxKV07XG4gICAgICByID0gciAqIHdpZHRoICsgc1ttYXNrICYgKChzW2ldID0gc1tqID0gbWFzayAmIChqICsgdCldKSArIChzW2pdID0gdCkpXTtcbiAgICB9XG4gICAgbWUuaSA9IGk7IG1lLmogPSBqO1xuICAgIHJldHVybiByO1xuICAgIC8vIEZvciByb2J1c3QgdW5wcmVkaWN0YWJpbGl0eSwgdGhlIGZ1bmN0aW9uIGNhbGwgYmVsb3cgYXV0b21hdGljYWxseVxuICAgIC8vIGRpc2NhcmRzIGFuIGluaXRpYWwgYmF0Y2ggb2YgdmFsdWVzLiAgVGhpcyBpcyBjYWxsZWQgUkM0LWRyb3BbMjU2XS5cbiAgICAvLyBTZWUgaHR0cDovL2dvb2dsZS5jb20vc2VhcmNoP3E9cnNhK2ZsdWhyZXIrcmVzcG9uc2UmYnRuSVxuICB9KSh3aWR0aCk7XG59XG5cbi8vXG4vLyBjb3B5KClcbi8vIENvcGllcyBpbnRlcm5hbCBzdGF0ZSBvZiBBUkM0IHRvIG9yIGZyb20gYSBwbGFpbiBvYmplY3QuXG4vL1xuZnVuY3Rpb24gY29weShmLCB0KSB7XG4gIHQuaSA9IGYuaTtcbiAgdC5qID0gZi5qO1xuICB0LlMgPSBmLlMuc2xpY2UoKTtcbiAgcmV0dXJuIHQ7XG59O1xuXG4vL1xuLy8gZmxhdHRlbigpXG4vLyBDb252ZXJ0cyBhbiBvYmplY3QgdHJlZSB0byBuZXN0ZWQgYXJyYXlzIG9mIHN0cmluZ3MuXG4vL1xuZnVuY3Rpb24gZmxhdHRlbihvYmosIGRlcHRoKSB7XG4gIHZhciByZXN1bHQgPSBbXSwgdHlwID0gKHR5cGVvZiBvYmopLCBwcm9wO1xuICBpZiAoZGVwdGggJiYgdHlwID09ICdvYmplY3QnKSB7XG4gICAgZm9yIChwcm9wIGluIG9iaikge1xuICAgICAgdHJ5IHsgcmVzdWx0LnB1c2goZmxhdHRlbihvYmpbcHJvcF0sIGRlcHRoIC0gMSkpOyB9IGNhdGNoIChlKSB7fVxuICAgIH1cbiAgfVxuICByZXR1cm4gKHJlc3VsdC5sZW5ndGggPyByZXN1bHQgOiB0eXAgPT0gJ3N0cmluZycgPyBvYmogOiBvYmogKyAnXFwwJyk7XG59XG5cbi8vXG4vLyBtaXhrZXkoKVxuLy8gTWl4ZXMgYSBzdHJpbmcgc2VlZCBpbnRvIGEga2V5IHRoYXQgaXMgYW4gYXJyYXkgb2YgaW50ZWdlcnMsIGFuZFxuLy8gcmV0dXJucyBhIHNob3J0ZW5lZCBzdHJpbmcgc2VlZCB0aGF0IGlzIGVxdWl2YWxlbnQgdG8gdGhlIHJlc3VsdCBrZXkuXG4vL1xuZnVuY3Rpb24gbWl4a2V5KHNlZWQsIGtleSkge1xuICB2YXIgc3RyaW5nc2VlZCA9IHNlZWQgKyAnJywgc21lYXIsIGogPSAwO1xuICB3aGlsZSAoaiA8IHN0cmluZ3NlZWQubGVuZ3RoKSB7XG4gICAga2V5W21hc2sgJiBqXSA9XG4gICAgICBtYXNrICYgKChzbWVhciBePSBrZXlbbWFzayAmIGpdICogMTkpICsgc3RyaW5nc2VlZC5jaGFyQ29kZUF0KGorKykpO1xuICB9XG4gIHJldHVybiB0b3N0cmluZyhrZXkpO1xufVxuXG4vL1xuLy8gYXV0b3NlZWQoKVxuLy8gUmV0dXJucyBhbiBvYmplY3QgZm9yIGF1dG9zZWVkaW5nLCB1c2luZyB3aW5kb3cuY3J5cHRvIGFuZCBOb2RlIGNyeXB0b1xuLy8gbW9kdWxlIGlmIGF2YWlsYWJsZS5cbi8vXG5mdW5jdGlvbiBhdXRvc2VlZCgpIHtcbiAgdHJ5IHtcbiAgICB2YXIgb3V0O1xuICAgIGlmIChub2RlY3J5cHRvICYmIChvdXQgPSBub2RlY3J5cHRvLnJhbmRvbUJ5dGVzKSkge1xuICAgICAgLy8gVGhlIHVzZSBvZiAnb3V0JyB0byByZW1lbWJlciByYW5kb21CeXRlcyBtYWtlcyB0aWdodCBtaW5pZmllZCBjb2RlLlxuICAgICAgb3V0ID0gb3V0KHdpZHRoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgb3V0ID0gbmV3IFVpbnQ4QXJyYXkod2lkdGgpO1xuICAgICAgKGdsb2JhbC5jcnlwdG8gfHwgZ2xvYmFsLm1zQ3J5cHRvKS5nZXRSYW5kb21WYWx1ZXMob3V0KTtcbiAgICB9XG4gICAgcmV0dXJuIHRvc3RyaW5nKG91dCk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICB2YXIgYnJvd3NlciA9IGdsb2JhbC5uYXZpZ2F0b3IsXG4gICAgICAgIHBsdWdpbnMgPSBicm93c2VyICYmIGJyb3dzZXIucGx1Z2lucztcbiAgICByZXR1cm4gWytuZXcgRGF0ZSwgZ2xvYmFsLCBwbHVnaW5zLCBnbG9iYWwuc2NyZWVuLCB0b3N0cmluZyhwb29sKV07XG4gIH1cbn1cblxuLy9cbi8vIHRvc3RyaW5nKClcbi8vIENvbnZlcnRzIGFuIGFycmF5IG9mIGNoYXJjb2RlcyB0byBhIHN0cmluZ1xuLy9cbmZ1bmN0aW9uIHRvc3RyaW5nKGEpIHtcbiAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoMCwgYSk7XG59XG5cbi8vXG4vLyBXaGVuIHNlZWRyYW5kb20uanMgaXMgbG9hZGVkLCB3ZSBpbW1lZGlhdGVseSBtaXggYSBmZXcgYml0c1xuLy8gZnJvbSB0aGUgYnVpbHQtaW4gUk5HIGludG8gdGhlIGVudHJvcHkgcG9vbC4gIEJlY2F1c2Ugd2UgZG9cbi8vIG5vdCB3YW50IHRvIGludGVyZmVyZSB3aXRoIGRldGVybWluaXN0aWMgUFJORyBzdGF0ZSBsYXRlcixcbi8vIHNlZWRyYW5kb20gd2lsbCBub3QgY2FsbCBtYXRoLnJhbmRvbSBvbiBpdHMgb3duIGFnYWluIGFmdGVyXG4vLyBpbml0aWFsaXphdGlvbi5cbi8vXG5taXhrZXkobWF0aC5yYW5kb20oKSwgcG9vbCk7XG5cbi8vXG4vLyBOb2RlanMgYW5kIEFNRCBzdXBwb3J0OiBleHBvcnQgdGhlIGltcGxlbWVudGF0aW9uIGFzIGEgbW9kdWxlIHVzaW5nXG4vLyBlaXRoZXIgY29udmVudGlvbi5cbi8vXG5pZiAoKHR5cGVvZiBtb2R1bGUpID09ICdvYmplY3QnICYmIG1vZHVsZS5leHBvcnRzKSB7XG4gIG1vZHVsZS5leHBvcnRzID0gc2VlZHJhbmRvbTtcbiAgLy8gV2hlbiBpbiBub2RlLmpzLCB0cnkgdXNpbmcgY3J5cHRvIHBhY2thZ2UgZm9yIGF1dG9zZWVkaW5nLlxuICB0cnkge1xuICAgIG5vZGVjcnlwdG8gPSByZXF1aXJlKCdjcnlwdG8nKTtcbiAgfSBjYXRjaCAoZXgpIHt9XG59IGVsc2UgaWYgKCh0eXBlb2YgZGVmaW5lKSA9PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcbiAgZGVmaW5lKGZ1bmN0aW9uKCkgeyByZXR1cm4gc2VlZHJhbmRvbTsgfSk7XG59XG5cbi8vIEVuZCBhbm9ueW1vdXMgc2NvcGUsIGFuZCBwYXNzIGluaXRpYWwgdmFsdWVzLlxufSkoXG4gIFtdLCAgICAgLy8gcG9vbDogZW50cm9weSBwb29sIHN0YXJ0cyBlbXB0eVxuICBNYXRoICAgIC8vIG1hdGg6IHBhY2thZ2UgY29udGFpbmluZyByYW5kb20sIHBvdywgYW5kIHNlZWRyYW5kb21cbik7XG4iLCIvLyBBIGxpYnJhcnkgb2Ygc2VlZGFibGUgUk5HcyBpbXBsZW1lbnRlZCBpbiBKYXZhc2NyaXB0LlxuLy9cbi8vIFVzYWdlOlxuLy9cbi8vIHZhciBzZWVkcmFuZG9tID0gcmVxdWlyZSgnc2VlZHJhbmRvbScpO1xuLy8gdmFyIHJhbmRvbSA9IHNlZWRyYW5kb20oMSk7IC8vIG9yIGFueSBzZWVkLlxuLy8gdmFyIHggPSByYW5kb20oKTsgICAgICAgLy8gMCA8PSB4IDwgMS4gIEV2ZXJ5IGJpdCBpcyByYW5kb20uXG4vLyB2YXIgeCA9IHJhbmRvbS5xdWljaygpOyAvLyAwIDw9IHggPCAxLiAgMzIgYml0cyBvZiByYW5kb21uZXNzLlxuXG4vLyBhbGVhLCBhIDUzLWJpdCBtdWx0aXBseS13aXRoLWNhcnJ5IGdlbmVyYXRvciBieSBKb2hhbm5lcyBCYWFnw7hlLlxuLy8gUGVyaW9kOiB+Ml4xMTZcbi8vIFJlcG9ydGVkIHRvIHBhc3MgYWxsIEJpZ0NydXNoIHRlc3RzLlxudmFyIGFsZWEgPSByZXF1aXJlKCcuL2xpYi9hbGVhJyk7XG5cbi8vIHhvcjEyOCwgYSBwdXJlIHhvci1zaGlmdCBnZW5lcmF0b3IgYnkgR2VvcmdlIE1hcnNhZ2xpYS5cbi8vIFBlcmlvZDogMl4xMjgtMS5cbi8vIFJlcG9ydGVkIHRvIGZhaWw6IE1hdHJpeFJhbmsgYW5kIExpbmVhckNvbXAuXG52YXIgeG9yMTI4ID0gcmVxdWlyZSgnLi9saWIveG9yMTI4Jyk7XG5cbi8vIHhvcndvdywgR2VvcmdlIE1hcnNhZ2xpYSdzIDE2MC1iaXQgeG9yLXNoaWZ0IGNvbWJpbmVkIHBsdXMgd2V5bC5cbi8vIFBlcmlvZDogMl4xOTItMl4zMlxuLy8gUmVwb3J0ZWQgdG8gZmFpbDogQ29sbGlzaW9uT3ZlciwgU2ltcFBva2VyLCBhbmQgTGluZWFyQ29tcC5cbnZhciB4b3J3b3cgPSByZXF1aXJlKCcuL2xpYi94b3J3b3cnKTtcblxuLy8geG9yc2hpZnQ3LCBieSBGcmFuw6dvaXMgUGFubmV0b24gYW5kIFBpZXJyZSBMJ2VjdXllciwgdGFrZXNcbi8vIGEgZGlmZmVyZW50IGFwcHJvYWNoOiBpdCBhZGRzIHJvYnVzdG5lc3MgYnkgYWxsb3dpbmcgbW9yZSBzaGlmdHNcbi8vIHRoYW4gTWFyc2FnbGlhJ3Mgb3JpZ2luYWwgdGhyZWUuICBJdCBpcyBhIDctc2hpZnQgZ2VuZXJhdG9yXG4vLyB3aXRoIDI1NiBiaXRzLCB0aGF0IHBhc3NlcyBCaWdDcnVzaCB3aXRoIG5vIHN5c3RtYXRpYyBmYWlsdXJlcy5cbi8vIFBlcmlvZCAyXjI1Ni0xLlxuLy8gTm8gc3lzdGVtYXRpYyBCaWdDcnVzaCBmYWlsdXJlcyByZXBvcnRlZC5cbnZhciB4b3JzaGlmdDcgPSByZXF1aXJlKCcuL2xpYi94b3JzaGlmdDcnKTtcblxuLy8geG9yNDA5NiwgYnkgUmljaGFyZCBCcmVudCwgaXMgYSA0MDk2LWJpdCB4b3Itc2hpZnQgd2l0aCBhXG4vLyB2ZXJ5IGxvbmcgcGVyaW9kIHRoYXQgYWxzbyBhZGRzIGEgV2V5bCBnZW5lcmF0b3IuIEl0IGFsc28gcGFzc2VzXG4vLyBCaWdDcnVzaCB3aXRoIG5vIHN5c3RlbWF0aWMgZmFpbHVyZXMuICBJdHMgbG9uZyBwZXJpb2QgbWF5XG4vLyBiZSB1c2VmdWwgaWYgeW91IGhhdmUgbWFueSBnZW5lcmF0b3JzIGFuZCBuZWVkIHRvIGF2b2lkXG4vLyBjb2xsaXNpb25zLlxuLy8gUGVyaW9kOiAyXjQxMjgtMl4zMi5cbi8vIE5vIHN5c3RlbWF0aWMgQmlnQ3J1c2ggZmFpbHVyZXMgcmVwb3J0ZWQuXG52YXIgeG9yNDA5NiA9IHJlcXVpcmUoJy4vbGliL3hvcjQwOTYnKTtcblxuLy8gVHljaGUtaSwgYnkgU2FtdWVsIE5ldmVzIGFuZCBGaWxpcGUgQXJhdWpvLCBpcyBhIGJpdC1zaGlmdGluZyByYW5kb21cbi8vIG51bWJlciBnZW5lcmF0b3IgZGVyaXZlZCBmcm9tIENoYUNoYSwgYSBtb2Rlcm4gc3RyZWFtIGNpcGhlci5cbi8vIGh0dHBzOi8vZWRlbi5kZWkudWMucHQvfnNuZXZlcy9wdWJzLzIwMTEtc25mYTIucGRmXG4vLyBQZXJpb2Q6IH4yXjEyN1xuLy8gTm8gc3lzdGVtYXRpYyBCaWdDcnVzaCBmYWlsdXJlcyByZXBvcnRlZC5cbnZhciB0eWNoZWkgPSByZXF1aXJlKCcuL2xpYi90eWNoZWknKTtcblxuLy8gVGhlIG9yaWdpbmFsIEFSQzQtYmFzZWQgcHJuZyBpbmNsdWRlZCBpbiB0aGlzIGxpYnJhcnkuXG4vLyBQZXJpb2Q6IH4yXjE2MDBcbnZhciBzciA9IHJlcXVpcmUoJy4vc2VlZHJhbmRvbScpO1xuXG5zci5hbGVhID0gYWxlYTtcbnNyLnhvcjEyOCA9IHhvcjEyODtcbnNyLnhvcndvdyA9IHhvcndvdztcbnNyLnhvcnNoaWZ0NyA9IHhvcnNoaWZ0NztcbnNyLnhvcjQwOTYgPSB4b3I0MDk2O1xuc3IudHljaGVpID0gdHljaGVpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHNyO1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTggR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG5pbXBvcnQgKiBhcyBzZWVkcmFuZG9tIGZyb20gJ3NlZWRyYW5kb20nO1xuXG5pbXBvcnQge2V4cGVjdE51bWJlcnNDbG9zZSwgdGVzdEVwc2lsb259IGZyb20gJy4uL3Rlc3RfdXRpbCc7XG5pbXBvcnQge1R5cGVkQXJyYXl9IGZyb20gJy4uL3R5cGVzJztcblxuZXhwb3J0IGludGVyZmFjZSBSYW5kb21CYXNlIHtcbiAgbmV4dFZhbHVlKCk6IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBSYW5kb21HYW1tYSB7XG4gIG5leHRWYWx1ZSgpOiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUmFuZE5vcm1hbERhdGFUeXBlcyB7XG4gIGZsb2F0MzI6IEZsb2F0MzJBcnJheTtcbiAgaW50MzI6IEludDMyQXJyYXk7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUmFuZEdhbW1hRGF0YVR5cGVzIHtcbiAgZmxvYXQzMjogRmxvYXQzMkFycmF5O1xuICBpbnQzMjogSW50MzJBcnJheTtcbn1cblxuLy8gaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvTWFyc2FnbGlhX3BvbGFyX21ldGhvZFxuZXhwb3J0IGNsYXNzIE1QUmFuZEdhdXNzIGltcGxlbWVudHMgUmFuZG9tQmFzZSB7XG4gIHByaXZhdGUgbWVhbjogbnVtYmVyO1xuICBwcml2YXRlIHN0ZERldjogbnVtYmVyO1xuICBwcml2YXRlIG5leHRWYWw6IG51bWJlcjtcbiAgcHJpdmF0ZSBkdHlwZT86IGtleW9mIFJhbmROb3JtYWxEYXRhVHlwZXM7XG4gIHByaXZhdGUgdHJ1bmNhdGVkPzogYm9vbGVhbjtcbiAgcHJpdmF0ZSB1cHBlcj86IG51bWJlcjtcbiAgcHJpdmF0ZSBsb3dlcj86IG51bWJlcjtcbiAgcHJpdmF0ZSByYW5kb206IHNlZWRyYW5kb20ucHJuZztcblxuICBjb25zdHJ1Y3RvcihcbiAgICAgIG1lYW46IG51bWJlciwgc3RkRGV2aWF0aW9uOiBudW1iZXIsIGR0eXBlPzoga2V5b2YgUmFuZE5vcm1hbERhdGFUeXBlcyxcbiAgICAgIHRydW5jYXRlZD86IGJvb2xlYW4sIHNlZWQ/OiBudW1iZXIpIHtcbiAgICB0aGlzLm1lYW4gPSBtZWFuO1xuICAgIHRoaXMuc3RkRGV2ID0gc3RkRGV2aWF0aW9uO1xuICAgIHRoaXMuZHR5cGUgPSBkdHlwZTtcbiAgICB0aGlzLm5leHRWYWwgPSBOYU47XG4gICAgdGhpcy50cnVuY2F0ZWQgPSB0cnVuY2F0ZWQ7XG4gICAgaWYgKHRoaXMudHJ1bmNhdGVkKSB7XG4gICAgICB0aGlzLnVwcGVyID0gdGhpcy5tZWFuICsgdGhpcy5zdGREZXYgKiAyO1xuICAgICAgdGhpcy5sb3dlciA9IHRoaXMubWVhbiAtIHRoaXMuc3RkRGV2ICogMjtcbiAgICB9XG4gICAgY29uc3Qgc2VlZFZhbHVlID0gc2VlZCA/IHNlZWQgOiBNYXRoLnJhbmRvbSgpO1xuICAgIHRoaXMucmFuZG9tID0gc2VlZHJhbmRvbS5hbGVhKHNlZWRWYWx1ZS50b1N0cmluZygpKTtcbiAgfVxuXG4gIC8qKiBSZXR1cm5zIG5leHQgc2FtcGxlIGZyb20gYSBHYXVzc2lhbiBkaXN0cmlidXRpb24uICovXG4gIHB1YmxpYyBuZXh0VmFsdWUoKTogbnVtYmVyIHtcbiAgICBpZiAoIWlzTmFOKHRoaXMubmV4dFZhbCkpIHtcbiAgICAgIGNvbnN0IHZhbHVlID0gdGhpcy5uZXh0VmFsO1xuICAgICAgdGhpcy5uZXh0VmFsID0gTmFOO1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cblxuICAgIGxldCByZXN1bHRYOiBudW1iZXIsIHJlc3VsdFk6IG51bWJlcjtcbiAgICBsZXQgaXNWYWxpZCA9IGZhbHNlO1xuICAgIHdoaWxlICghaXNWYWxpZCkge1xuICAgICAgbGV0IHYxOiBudW1iZXIsIHYyOiBudW1iZXIsIHM6IG51bWJlcjtcbiAgICAgIGRvIHtcbiAgICAgICAgdjEgPSAyICogdGhpcy5yYW5kb20oKSAtIDE7XG4gICAgICAgIHYyID0gMiAqIHRoaXMucmFuZG9tKCkgLSAxO1xuICAgICAgICBzID0gdjEgKiB2MSArIHYyICogdjI7XG4gICAgICB9IHdoaWxlIChzID49IDEgfHwgcyA9PT0gMCk7XG5cbiAgICAgIGNvbnN0IG11bCA9IE1hdGguc3FydCgtMi4wICogTWF0aC5sb2cocykgLyBzKTtcbiAgICAgIHJlc3VsdFggPSB0aGlzLm1lYW4gKyB0aGlzLnN0ZERldiAqIHYxICogbXVsO1xuICAgICAgcmVzdWx0WSA9IHRoaXMubWVhbiArIHRoaXMuc3RkRGV2ICogdjIgKiBtdWw7XG5cbiAgICAgIGlmICghdGhpcy50cnVuY2F0ZWQgfHwgdGhpcy5pc1ZhbGlkVHJ1bmNhdGVkKHJlc3VsdFgpKSB7XG4gICAgICAgIGlzVmFsaWQgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICghdGhpcy50cnVuY2F0ZWQgfHwgdGhpcy5pc1ZhbGlkVHJ1bmNhdGVkKHJlc3VsdFkpKSB7XG4gICAgICB0aGlzLm5leHRWYWwgPSB0aGlzLmNvbnZlcnRWYWx1ZShyZXN1bHRZKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuY29udmVydFZhbHVlKHJlc3VsdFgpO1xuICB9XG5cbiAgLyoqIEhhbmRsZXMgcHJvcGVyIHJvdW5kaW5nIGZvciBub24tZmxvYXRpbmctcG9pbnQgbnVtYmVycy4gKi9cbiAgcHJpdmF0ZSBjb252ZXJ0VmFsdWUodmFsdWU6IG51bWJlcik6IG51bWJlciB7XG4gICAgaWYgKHRoaXMuZHR5cGUgPT0gbnVsbCB8fCB0aGlzLmR0eXBlID09PSAnZmxvYXQzMicpIHtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgcmV0dXJuIE1hdGgucm91bmQodmFsdWUpO1xuICB9XG5cbiAgLyoqIFJldHVybnMgdHJ1ZSBpZiBsZXNzIHRoYW4gMi1zdGFuZGFyZC1kZXZpYXRpb25zIGZyb20gdGhlIG1lYW4uICovXG4gIHByaXZhdGUgaXNWYWxpZFRydW5jYXRlZCh2YWx1ZTogbnVtYmVyKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHZhbHVlIDw9IHRoaXMudXBwZXIgJiYgdmFsdWUgPj0gdGhpcy5sb3dlcjtcbiAgfVxufVxuXG4vLyBNYXJzYWdsaWEsIEdlb3JnZSwgYW5kIFdhaSBXYW4gVHNhbmcuIDIwMDAuIFwiQSBTaW1wbGUgTWV0aG9kIGZvciBHZW5lcmF0aW5nXG4vLyBHYW1tYSBWYXJpYWJsZXMuXCJcbmV4cG9ydCBjbGFzcyBSYW5kR2FtbWEgaW1wbGVtZW50cyBSYW5kb21HYW1tYSB7XG4gIHByaXZhdGUgYWxwaGE6IG51bWJlcjtcbiAgcHJpdmF0ZSBiZXRhOiBudW1iZXI7XG4gIHByaXZhdGUgZDogbnVtYmVyO1xuICBwcml2YXRlIGM6IG51bWJlcjtcbiAgcHJpdmF0ZSBkdHlwZT86IGtleW9mIFJhbmRHYW1tYURhdGFUeXBlcztcbiAgcHJpdmF0ZSByYW5kdTogc2VlZHJhbmRvbS5wcm5nO1xuICBwcml2YXRlIHJhbmRuOiBNUFJhbmRHYXVzcztcblxuICBjb25zdHJ1Y3RvcihcbiAgICAgIGFscGhhOiBudW1iZXIsIGJldGE6IG51bWJlciwgZHR5cGU6IGtleW9mIFJhbmRHYW1tYURhdGFUeXBlcyxcbiAgICAgIHNlZWQ/OiBudW1iZXIpIHtcbiAgICB0aGlzLmFscGhhID0gYWxwaGE7XG4gICAgdGhpcy5iZXRhID0gMSAvIGJldGE7ICAvLyBjb252ZXJ0IHJhdGUgdG8gc2NhbGUgcGFyYW1ldGVyXG4gICAgdGhpcy5kdHlwZSA9IGR0eXBlO1xuXG4gICAgY29uc3Qgc2VlZFZhbHVlID0gc2VlZCA/IHNlZWQgOiBNYXRoLnJhbmRvbSgpO1xuICAgIHRoaXMucmFuZHUgPSBzZWVkcmFuZG9tLmFsZWEoc2VlZFZhbHVlLnRvU3RyaW5nKCkpO1xuICAgIHRoaXMucmFuZG4gPSBuZXcgTVBSYW5kR2F1c3MoMCwgMSwgZHR5cGUsIGZhbHNlLCB0aGlzLnJhbmR1KCkpO1xuXG4gICAgaWYgKGFscGhhIDwgMSkge1xuICAgICAgdGhpcy5kID0gYWxwaGEgKyAoMiAvIDMpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmQgPSBhbHBoYSAtICgxIC8gMyk7XG4gICAgfVxuICAgIHRoaXMuYyA9IDEgLyBNYXRoLnNxcnQoOSAqIHRoaXMuZCk7XG4gIH1cblxuICAvKiogUmV0dXJucyBuZXh0IHNhbXBsZSBmcm9tIGEgZ2FtbWEgZGlzdHJpYnV0aW9uLiAqL1xuICBwdWJsaWMgbmV4dFZhbHVlKCk6IG51bWJlciB7XG4gICAgbGV0IHgyOiBudW1iZXIsIHYwOiBudW1iZXIsIHYxOiBudW1iZXIsIHg6IG51bWJlciwgdTogbnVtYmVyLCB2OiBudW1iZXI7XG4gICAgd2hpbGUgKHRydWUpIHtcbiAgICAgIGRvIHtcbiAgICAgICAgeCA9IHRoaXMucmFuZG4ubmV4dFZhbHVlKCk7XG4gICAgICAgIHYgPSAxICsgKHRoaXMuYyAqIHgpO1xuICAgICAgfSB3aGlsZSAodiA8PSAwKTtcbiAgICAgIHYgKj0gdiAqIHY7XG4gICAgICB4MiA9IHggKiB4O1xuICAgICAgdjAgPSAxIC0gKDAuMzMxICogeDIgKiB4Mik7XG4gICAgICB2MSA9ICgwLjUgKiB4MikgKyAodGhpcy5kICogKDEgLSB2ICsgTWF0aC5sb2codikpKTtcbiAgICAgIHUgPSB0aGlzLnJhbmR1KCk7XG4gICAgICBpZiAodSA8IHYwIHx8IE1hdGgubG9nKHUpIDwgdjEpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHYgPSAoMSAvIHRoaXMuYmV0YSkgKiB0aGlzLmQgKiB2O1xuICAgIGlmICh0aGlzLmFscGhhIDwgMSkge1xuICAgICAgdiAqPSBNYXRoLnBvdyh0aGlzLnJhbmR1KCksIDEgLyB0aGlzLmFscGhhKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuY29udmVydFZhbHVlKHYpO1xuICB9XG4gIC8qKiBIYW5kbGVzIHByb3BlciByb3VuZGluZyBmb3Igbm9uLWZsb2F0aW5nLXBvaW50IG51bWJlcnMuICovXG4gIHByaXZhdGUgY29udmVydFZhbHVlKHZhbHVlOiBudW1iZXIpOiBudW1iZXIge1xuICAgIGlmICh0aGlzLmR0eXBlID09PSAnZmxvYXQzMicpIHtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgcmV0dXJuIE1hdGgucm91bmQodmFsdWUpO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBVbmlmb3JtUmFuZG9tIGltcGxlbWVudHMgUmFuZG9tQmFzZSB7XG4gIHByaXZhdGUgbWluOiBudW1iZXI7XG4gIHByaXZhdGUgcmFuZ2U6IG51bWJlcjtcbiAgcHJpdmF0ZSByYW5kb206IHNlZWRyYW5kb20ucHJuZztcbiAgcHJpdmF0ZSBkdHlwZT86IGtleW9mIFJhbmROb3JtYWxEYXRhVHlwZXM7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgICBtaW4gPSAwLCBtYXggPSAxLCBkdHlwZT86IGtleW9mIFJhbmROb3JtYWxEYXRhVHlwZXMsXG4gICAgICBzZWVkPzogc3RyaW5nfG51bWJlcikge1xuICAgIHRoaXMubWluID0gbWluO1xuICAgIHRoaXMucmFuZ2UgPSBtYXggLSBtaW47XG4gICAgdGhpcy5kdHlwZSA9IGR0eXBlO1xuICAgIGlmIChzZWVkID09IG51bGwpIHtcbiAgICAgIHNlZWQgPSBNYXRoLnJhbmRvbSgpO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHNlZWQgPT09ICdudW1iZXInKSB7XG4gICAgICBzZWVkID0gc2VlZC50b1N0cmluZygpO1xuICAgIH1cblxuICAgIGlmICghdGhpcy5jYW5SZXR1cm5GbG9hdCgpICYmIHRoaXMucmFuZ2UgPD0gMSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgIGBUaGUgZGlmZmVyZW5jZSBiZXR3ZWVuICR7bWlufSAtICR7bWF4fSA8PSAxIGFuZCBkdHlwZSBpcyBub3QgZmxvYXRgKTtcbiAgICB9XG4gICAgdGhpcy5yYW5kb20gPSBzZWVkcmFuZG9tLmFsZWEoc2VlZCk7XG4gIH1cblxuICAvKiogSGFuZGxlcyBwcm9wZXIgcm91bmRpbmcgZm9yIG5vbiBmbG9hdGluZyBwb2ludCBudW1iZXJzLiAqL1xuICBwcml2YXRlIGNhblJldHVybkZsb2F0ID0gKCkgPT5cbiAgICAgICh0aGlzLmR0eXBlID09IG51bGwgfHwgdGhpcy5kdHlwZSA9PT0gJ2Zsb2F0MzInKTtcblxuICBwcml2YXRlIGNvbnZlcnRWYWx1ZSh2YWx1ZTogbnVtYmVyKTogbnVtYmVyIHtcbiAgICBpZiAodGhpcy5jYW5SZXR1cm5GbG9hdCgpKSB7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICAgIHJldHVybiBNYXRoLnJvdW5kKHZhbHVlKTtcbiAgfVxuXG4gIG5leHRWYWx1ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5jb252ZXJ0VmFsdWUodGhpcy5taW4gKyB0aGlzLnJhbmdlICogdGhpcy5yYW5kb20oKSk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGphcnF1ZUJlcmFOb3JtYWxpdHlUZXN0KHZhbHVlczogVHlwZWRBcnJheXxudW1iZXJbXSkge1xuICAvLyBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9KYXJxdWUlRTIlODAlOTNCZXJhX3Rlc3RcbiAgY29uc3QgbiA9IHZhbHVlcy5sZW5ndGg7XG4gIGNvbnN0IHMgPSBza2V3bmVzcyh2YWx1ZXMpO1xuICBjb25zdCBrID0ga3VydG9zaXModmFsdWVzKTtcbiAgY29uc3QgamIgPSBuIC8gNiAqIChNYXRoLnBvdyhzLCAyKSArIDAuMjUgKiBNYXRoLnBvdyhrIC0gMywgMikpO1xuICAvLyBKQiB0ZXN0IHJlcXVpcmVzIDItZGVncmVzcyBvZiBmcmVlZG9tIGZyb20gQ2hpLVNxdWFyZSBAIDAuOTU6XG4gIC8vIGh0dHA6Ly93d3cuaXRsLm5pc3QuZ292L2Rpdjg5OC9oYW5kYm9vay9lZGEvc2VjdGlvbjMvZWRhMzY3NC5odG1cbiAgY29uc3QgQ0hJX1NRVUFSRV8yREVHID0gNS45OTE7XG4gIGlmIChqYiA+IENISV9TUVVBUkVfMkRFRykge1xuICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBwLXZhbHVlIGZvciBKQjogJHtqYn1gKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZXhwZWN0QXJyYXlJbk1lYW5TdGRSYW5nZShcbiAgICBhY3R1YWw6IFR5cGVkQXJyYXl8bnVtYmVyW10sIGV4cGVjdGVkTWVhbjogbnVtYmVyLCBleHBlY3RlZFN0ZERldjogbnVtYmVyLFxuICAgIGVwc2lsb24/OiBudW1iZXIpIHtcbiAgaWYgKGVwc2lsb24gPT0gbnVsbCkge1xuICAgIGVwc2lsb24gPSB0ZXN0RXBzaWxvbigpO1xuICB9XG4gIGNvbnN0IGFjdHVhbE1lYW4gPSBtZWFuKGFjdHVhbCk7XG4gIGV4cGVjdE51bWJlcnNDbG9zZShhY3R1YWxNZWFuLCBleHBlY3RlZE1lYW4sIGVwc2lsb24pO1xuICBleHBlY3ROdW1iZXJzQ2xvc2UoXG4gICAgICBzdGFuZGFyZERldmlhdGlvbihhY3R1YWwsIGFjdHVhbE1lYW4pLCBleHBlY3RlZFN0ZERldiwgZXBzaWxvbik7XG59XG5cbmZ1bmN0aW9uIG1lYW4odmFsdWVzOiBUeXBlZEFycmF5fG51bWJlcltdKSB7XG4gIGxldCBzdW0gPSAwO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHZhbHVlcy5sZW5ndGg7IGkrKykge1xuICAgIHN1bSArPSB2YWx1ZXNbaV07XG4gIH1cbiAgcmV0dXJuIHN1bSAvIHZhbHVlcy5sZW5ndGg7XG59XG5cbmZ1bmN0aW9uIHN0YW5kYXJkRGV2aWF0aW9uKHZhbHVlczogVHlwZWRBcnJheXxudW1iZXJbXSwgbWVhbjogbnVtYmVyKSB7XG4gIGxldCBzcXVhcmVEaWZmU3VtID0gMDtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCB2YWx1ZXMubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBkaWZmID0gdmFsdWVzW2ldIC0gbWVhbjtcbiAgICBzcXVhcmVEaWZmU3VtICs9IGRpZmYgKiBkaWZmO1xuICB9XG4gIHJldHVybiBNYXRoLnNxcnQoc3F1YXJlRGlmZlN1bSAvIHZhbHVlcy5sZW5ndGgpO1xufVxuXG5mdW5jdGlvbiBrdXJ0b3Npcyh2YWx1ZXM6IFR5cGVkQXJyYXl8bnVtYmVyW10pIHtcbiAgLy8gaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvS3VydG9zaXNcbiAgY29uc3QgdmFsdWVzTWVhbiA9IG1lYW4odmFsdWVzKTtcbiAgY29uc3QgbiA9IHZhbHVlcy5sZW5ndGg7XG4gIGxldCBzdW0yID0gMDtcbiAgbGV0IHN1bTQgPSAwO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IG47IGkrKykge1xuICAgIGNvbnN0IHYgPSB2YWx1ZXNbaV0gLSB2YWx1ZXNNZWFuO1xuICAgIHN1bTIgKz0gTWF0aC5wb3codiwgMik7XG4gICAgc3VtNCArPSBNYXRoLnBvdyh2LCA0KTtcbiAgfVxuICByZXR1cm4gKDEgLyBuKSAqIHN1bTQgLyBNYXRoLnBvdygoMSAvIG4pICogc3VtMiwgMik7XG59XG5cbmZ1bmN0aW9uIHNrZXduZXNzKHZhbHVlczogVHlwZWRBcnJheXxudW1iZXJbXSkge1xuICAvLyBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9Ta2V3bmVzc1xuICBjb25zdCB2YWx1ZXNNZWFuID0gbWVhbih2YWx1ZXMpO1xuICBjb25zdCBuID0gdmFsdWVzLmxlbmd0aDtcbiAgbGV0IHN1bTIgPSAwO1xuICBsZXQgc3VtMyA9IDA7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbjsgaSsrKSB7XG4gICAgY29uc3QgdiA9IHZhbHVlc1tpXSAtIHZhbHVlc01lYW47XG4gICAgc3VtMiArPSBNYXRoLnBvdyh2LCAyKTtcbiAgICBzdW0zICs9IE1hdGgucG93KHYsIDMpO1xuICB9XG4gIHJldHVybiAoMSAvIG4pICogc3VtMyAvIE1hdGgucG93KCgxIC8gKG4gLSAxKSkgKiBzdW0yLCAzIC8gMik7XG59XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbmltcG9ydCB7VGVuc29yfSBmcm9tICcuLi90ZW5zb3InO1xuaW1wb3J0IHtSYW5rLCBTaGFwZU1hcH0gZnJvbSAnLi4vdHlwZXMnO1xuXG5pbXBvcnQge2J1ZmZlcn0gZnJvbSAnLi9idWZmZXInO1xuaW1wb3J0IHtvcH0gZnJvbSAnLi9vcGVyYXRpb24nO1xuaW1wb3J0IHtSYW5kR2FtbWF9IGZyb20gJy4vcmFuZF91dGlsJztcblxuLyoqXG4gKiBDcmVhdGVzIGEgYHRmLlRlbnNvcmAgd2l0aCB2YWx1ZXMgc2FtcGxlZCBmcm9tIGEgZ2FtbWEgZGlzdHJpYnV0aW9uLlxuICpcbiAqIGBgYGpzXG4gKiB0Zi5yYW5kb21HYW1tYShbMiwgMl0sIDEpLnByaW50KCk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gc2hhcGUgQW4gYXJyYXkgb2YgaW50ZWdlcnMgZGVmaW5pbmcgdGhlIG91dHB1dCB0ZW5zb3Igc2hhcGUuXG4gKiBAcGFyYW0gYWxwaGEgVGhlIHNoYXBlIHBhcmFtZXRlciBvZiB0aGUgZ2FtbWEgZGlzdHJpYnV0aW9uLlxuICogQHBhcmFtIGJldGEgVGhlIGludmVyc2Ugc2NhbGUgcGFyYW1ldGVyIG9mIHRoZSBnYW1tYSBkaXN0cmlidXRpb24uIERlZmF1bHRzXG4gKiAgICAgdG8gMS5cbiAqIEBwYXJhbSBkdHlwZSBUaGUgZGF0YSB0eXBlIG9mIHRoZSBvdXRwdXQuIERlZmF1bHRzIHRvIGZsb2F0MzIuXG4gKiBAcGFyYW0gc2VlZCBUaGUgc2VlZCBmb3IgdGhlIHJhbmRvbSBudW1iZXIgZ2VuZXJhdG9yLlxuICpcbiAqIEBkb2Mge2hlYWRpbmc6ICdUZW5zb3JzJywgc3ViaGVhZGluZzogJ1JhbmRvbSd9XG4gKi9cbmZ1bmN0aW9uIHJhbmRvbUdhbW1hXzxSIGV4dGVuZHMgUmFuaz4oXG4gICAgc2hhcGU6IFNoYXBlTWFwW1JdLCBhbHBoYTogbnVtYmVyLCBiZXRhID0gMSxcbiAgICBkdHlwZTogJ2Zsb2F0MzInfCdpbnQzMicgPSAnZmxvYXQzMicsIHNlZWQ/OiBudW1iZXIpOiBUZW5zb3I8Uj4ge1xuICBpZiAoYmV0YSA9PSBudWxsKSB7XG4gICAgYmV0YSA9IDE7XG4gIH1cbiAgaWYgKGR0eXBlID09IG51bGwpIHtcbiAgICBkdHlwZSA9ICdmbG9hdDMyJztcbiAgfVxuICBpZiAoZHR5cGUgIT09ICdmbG9hdDMyJyAmJiBkdHlwZSAhPT0gJ2ludDMyJykge1xuICAgIHRocm93IG5ldyBFcnJvcihgVW5zdXBwb3J0ZWQgZGF0YSB0eXBlICR7ZHR5cGV9YCk7XG4gIH1cbiAgY29uc3QgcmdhbW1hID0gbmV3IFJhbmRHYW1tYShhbHBoYSwgYmV0YSwgZHR5cGUsIHNlZWQpO1xuICBjb25zdCByZXMgPSBidWZmZXIoc2hhcGUsIGR0eXBlKTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCByZXMudmFsdWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgcmVzLnZhbHVlc1tpXSA9IHJnYW1tYS5uZXh0VmFsdWUoKTtcbiAgfVxuICByZXR1cm4gcmVzLnRvVGVuc29yKCk7XG59XG5cbmV4cG9ydCBjb25zdCByYW5kb21HYW1tYSA9IG9wKHtyYW5kb21HYW1tYV99KTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuaW1wb3J0IHtUZW5zb3J9IGZyb20gJy4uL3RlbnNvcic7XG5pbXBvcnQge0RhdGFUeXBlLCBSYW5rLCBTaGFwZU1hcH0gZnJvbSAnLi4vdHlwZXMnO1xuXG5pbXBvcnQge2J1ZmZlcn0gZnJvbSAnLi9idWZmZXInO1xuaW1wb3J0IHtvcH0gZnJvbSAnLi9vcGVyYXRpb24nO1xuaW1wb3J0IHtNUFJhbmRHYXVzc30gZnJvbSAnLi9yYW5kX3V0aWwnO1xuXG4vKipcbiAqIENyZWF0ZXMgYSBgdGYuVGVuc29yYCB3aXRoIHZhbHVlcyBzYW1wbGVkIGZyb20gYSBub3JtYWwgZGlzdHJpYnV0aW9uLlxuICpcbiAqIGBgYGpzXG4gKiB0Zi5yYW5kb21Ob3JtYWwoWzIsIDJdKS5wcmludCgpO1xuICogYGBgXG4gKlxuICogQHBhcmFtIHNoYXBlIEFuIGFycmF5IG9mIGludGVnZXJzIGRlZmluaW5nIHRoZSBvdXRwdXQgdGVuc29yIHNoYXBlLlxuICogQHBhcmFtIG1lYW4gVGhlIG1lYW4gb2YgdGhlIG5vcm1hbCBkaXN0cmlidXRpb24uXG4gKiBAcGFyYW0gc3RkRGV2IFRoZSBzdGFuZGFyZCBkZXZpYXRpb24gb2YgdGhlIG5vcm1hbCBkaXN0cmlidXRpb24uXG4gKiBAcGFyYW0gZHR5cGUgVGhlIGRhdGEgdHlwZSBvZiB0aGUgb3V0cHV0LlxuICogQHBhcmFtIHNlZWQgVGhlIHNlZWQgZm9yIHRoZSByYW5kb20gbnVtYmVyIGdlbmVyYXRvci5cbiAqXG4gKiBAZG9jIHtoZWFkaW5nOiAnVGVuc29ycycsIHN1YmhlYWRpbmc6ICdSYW5kb20nfVxuICovXG5mdW5jdGlvbiByYW5kb21Ob3JtYWxfPFIgZXh0ZW5kcyBSYW5rPihcbiAgICBzaGFwZTogU2hhcGVNYXBbUl0sIG1lYW4gPSAwLCBzdGREZXYgPSAxLCBkdHlwZT86ICdmbG9hdDMyJ3wnaW50MzInLFxuICAgIHNlZWQ/OiBudW1iZXIpOiBUZW5zb3I8Uj4ge1xuICBpZiAoZHR5cGUgIT0gbnVsbCAmJiAoZHR5cGUgYXMgRGF0YVR5cGUpID09PSAnYm9vbCcpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYFVuc3VwcG9ydGVkIGRhdGEgdHlwZSAke2R0eXBlfWApO1xuICB9XG4gIGNvbnN0IHJhbmRHYXVzcyA9XG4gICAgICBuZXcgTVBSYW5kR2F1c3MobWVhbiwgc3RkRGV2LCBkdHlwZSwgZmFsc2UgLyogdHJ1bmNhdGVkICovLCBzZWVkKTtcbiAgY29uc3QgcmVzID0gYnVmZmVyKHNoYXBlLCBkdHlwZSk7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgcmVzLnZhbHVlcy5sZW5ndGg7IGkrKykge1xuICAgIHJlcy52YWx1ZXNbaV0gPSByYW5kR2F1c3MubmV4dFZhbHVlKCk7XG4gIH1cbiAgcmV0dXJuIHJlcy50b1RlbnNvcigpO1xufVxuXG5leHBvcnQgY29uc3QgcmFuZG9tTm9ybWFsID0gb3Aoe3JhbmRvbU5vcm1hbF99KTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuaW1wb3J0IHtUZW5zb3J9IGZyb20gJy4uL3RlbnNvcic7XG5pbXBvcnQge0RhdGFUeXBlLCBSYW5rLCBTaGFwZU1hcH0gZnJvbSAnLi4vdHlwZXMnO1xuXG5pbXBvcnQge2J1ZmZlcn0gZnJvbSAnLi9idWZmZXInO1xuaW1wb3J0IHtvcH0gZnJvbSAnLi9vcGVyYXRpb24nO1xuaW1wb3J0IHtVbmlmb3JtUmFuZG9tfSBmcm9tICcuL3JhbmRfdXRpbCc7XG5cbi8qKlxuICogQ3JlYXRlcyBhIGB0Zi5UZW5zb3JgIHdpdGggdmFsdWVzIHNhbXBsZWQgZnJvbSBhIHVuaWZvcm0gZGlzdHJpYnV0aW9uLlxuICpcbiAqIFRoZSBnZW5lcmF0ZWQgdmFsdWVzIGZvbGxvdyBhIHVuaWZvcm0gZGlzdHJpYnV0aW9uIGluIHRoZSByYW5nZSBbbWludmFsLFxuICogbWF4dmFsKS4gVGhlIGxvd2VyIGJvdW5kIG1pbnZhbCBpcyBpbmNsdWRlZCBpbiB0aGUgcmFuZ2UsIHdoaWxlIHRoZSB1cHBlclxuICogYm91bmQgbWF4dmFsIGlzIGV4Y2x1ZGVkLlxuICpcbiAqIGBgYGpzXG4gKiB0Zi5yYW5kb21Vbmlmb3JtKFsyLCAyXSkucHJpbnQoKTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBzaGFwZSBBbiBhcnJheSBvZiBpbnRlZ2VycyBkZWZpbmluZyB0aGUgb3V0cHV0IHRlbnNvciBzaGFwZS5cbiAqIEBwYXJhbSBtaW52YWwgVGhlIGxvd2VyIGJvdW5kIG9uIHRoZSByYW5nZSBvZiByYW5kb20gdmFsdWVzIHRvIGdlbmVyYXRlLlxuICogICBEZWZhdWx0cyB0byAwLlxuICogQHBhcmFtIG1heHZhbCBUaGUgdXBwZXIgYm91bmQgb24gdGhlIHJhbmdlIG9mIHJhbmRvbSB2YWx1ZXMgdG8gZ2VuZXJhdGUuXG4gKiAgIERlZmF1bHRzIHRvIDEuXG4gKiBAcGFyYW0gZHR5cGUgVGhlIGRhdGEgdHlwZSBvZiB0aGUgb3V0cHV0IHRlbnNvci4gRGVmYXVsdHMgdG8gJ2Zsb2F0MzInLlxuICpcbiAqIEBkb2Mge2hlYWRpbmc6ICdUZW5zb3JzJywgc3ViaGVhZGluZzogJ1JhbmRvbSd9XG4gKi9cbmZ1bmN0aW9uIHJhbmRvbVVuaWZvcm1fPFIgZXh0ZW5kcyBSYW5rPihcbiAgICBzaGFwZTogU2hhcGVNYXBbUl0sIG1pbnZhbCA9IDAsIG1heHZhbCA9IDEsIGR0eXBlOiBEYXRhVHlwZSA9ICdmbG9hdDMyJyxcbiAgICBzZWVkPzogbnVtYmVyfHN0cmluZyk6IFRlbnNvcjxSPiB7XG4gIGNvbnN0IHJlcyA9IGJ1ZmZlcihzaGFwZSwgZHR5cGUpO1xuICBjb25zdCByYW5kb20gPSBuZXcgVW5pZm9ybVJhbmRvbShtaW52YWwsIG1heHZhbCwgbnVsbCwgc2VlZCk7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgcmVzLnZhbHVlcy5sZW5ndGg7IGkrKykge1xuICAgIHJlcy52YWx1ZXNbaV0gPSByYW5kb20ubmV4dFZhbHVlKCk7XG4gIH1cbiAgcmV0dXJuIHJlcy50b1RlbnNvcigpO1xufVxuXG5leHBvcnQgY29uc3QgcmFuZG9tVW5pZm9ybSA9IG9wKHtyYW5kb21Vbmlmb3JtX30pO1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTggR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG5pbXBvcnQge1RlbnNvcjFEfSBmcm9tICcuLi90ZW5zb3InO1xuaW1wb3J0IHtpbmZlclNoYXBlfSBmcm9tICcuLi90ZW5zb3JfdXRpbF9lbnYnO1xuaW1wb3J0IHtUZW5zb3JMaWtlMUR9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7RGF0YVR5cGV9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7YXNzZXJ0Tm9uTnVsbH0gZnJvbSAnLi4vdXRpbCc7XG5pbXBvcnQge21ha2VUZW5zb3J9IGZyb20gJy4vdGVuc29yX29wc191dGlsJztcblxuLyoqXG4gKiBDcmVhdGVzIHJhbmstMSBgdGYuVGVuc29yYCB3aXRoIHRoZSBwcm92aWRlZCB2YWx1ZXMsIHNoYXBlIGFuZCBkdHlwZS5cbiAqXG4gKiBUaGUgc2FtZSBmdW5jdGlvbmFsaXR5IGNhbiBiZSBhY2hpZXZlZCB3aXRoIGB0Zi50ZW5zb3JgLCBidXQgaW4gZ2VuZXJhbFxuICogd2UgcmVjb21tZW5kIHVzaW5nIGB0Zi50ZW5zb3IxZGAgYXMgaXQgbWFrZXMgdGhlIGNvZGUgbW9yZSByZWFkYWJsZS5cbiAqXG4gKiBgYGBqc1xuICogdGYudGVuc29yMWQoWzEsIDIsIDNdKS5wcmludCgpO1xuICogYGBgXG4gKlxuICogQHBhcmFtIHZhbHVlcyBUaGUgdmFsdWVzIG9mIHRoZSB0ZW5zb3IuIENhbiBiZSBhcnJheSBvZiBudW1iZXJzLFxuICogICAgIG9yIGEgYFR5cGVkQXJyYXlgLlxuICogQHBhcmFtIGR0eXBlIFRoZSBkYXRhIHR5cGUuXG4gKlxuICogQGRvYyB7aGVhZGluZzogJ1RlbnNvcnMnLCBzdWJoZWFkaW5nOiAnQ3JlYXRpb24nfVxuICovXG5leHBvcnQgZnVuY3Rpb24gdGVuc29yMWQodmFsdWVzOiBUZW5zb3JMaWtlMUQsIGR0eXBlPzogRGF0YVR5cGUpOiBUZW5zb3IxRCB7XG4gIGFzc2VydE5vbk51bGwodmFsdWVzKTtcbiAgY29uc3QgaW5mZXJyZWRTaGFwZSA9IGluZmVyU2hhcGUodmFsdWVzLCBkdHlwZSk7XG4gIGlmIChpbmZlcnJlZFNoYXBlLmxlbmd0aCAhPT0gMSkge1xuICAgIHRocm93IG5ldyBFcnJvcigndGVuc29yMWQoKSByZXF1aXJlcyB2YWx1ZXMgdG8gYmUgYSBmbGF0L1R5cGVkQXJyYXknKTtcbiAgfVxuICBjb25zdCBzaGFwZTogbnVtYmVyW10gPSBudWxsO1xuICByZXR1cm4gbWFrZVRlbnNvcih2YWx1ZXMsIHNoYXBlLCBpbmZlcnJlZFNoYXBlLCBkdHlwZSkgYXMgVGVuc29yMUQ7XG59XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbmltcG9ydCB7RU5HSU5FLCBGb3J3YXJkRnVuY30gZnJvbSAnLi4vZW5naW5lJztcbmltcG9ydCB7UmFuZ2UsIFJhbmdlQXR0cnN9IGZyb20gJy4uL2tlcm5lbF9uYW1lcyc7XG5pbXBvcnQge05hbWVkQXR0ck1hcH0gZnJvbSAnLi4va2VybmVsX3JlZ2lzdHJ5JztcbmltcG9ydCB7VGVuc29yLCBUZW5zb3IxRH0gZnJvbSAnLi4vdGVuc29yJztcbmltcG9ydCB7bWFrZVplcm9zVHlwZWRBcnJheX0gZnJvbSAnLi4vdXRpbCc7XG5cbmltcG9ydCB7dGVuc29yMWR9IGZyb20gJy4vdGVuc29yMWQnO1xuaW1wb3J0IHt6ZXJvc30gZnJvbSAnLi96ZXJvcyc7XG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBgdGYuVGVuc29yMURgIGZpbGxlZCB3aXRoIHRoZSBudW1iZXJzIGluIHRoZSByYW5nZSBwcm92aWRlZC5cbiAqXG4gKiBUaGUgdGVuc29yIGlzIGEgaXMgaGFsZi1vcGVuIGludGVydmFsIG1lYW5pbmcgaXQgaW5jbHVkZXMgc3RhcnQsIGJ1dFxuICogZXhjbHVkZXMgc3RvcC4gRGVjcmVtZW50aW5nIHJhbmdlcyBhbmQgbmVnYXRpdmUgc3RlcCB2YWx1ZXMgYXJlIGFsc29cbiAqIHN1cHBvcnRlZC5zdlxuICpcbiAqXG4gKiBgYGBqc1xuICogdGYucmFuZ2UoMCwgOSwgMikucHJpbnQoKTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBzdGFydCBBbiBpbnRlZ2VyIHN0YXJ0IHZhbHVlXG4gKiBAcGFyYW0gc3RvcCBBbiBpbnRlZ2VyIHN0b3AgdmFsdWVcbiAqIEBwYXJhbSBzdGVwIEFuIGludGVnZXIgaW5jcmVtZW50ICh3aWxsIGRlZmF1bHQgdG8gMSBvciAtMSlcbiAqIEBwYXJhbSBkdHlwZSBUaGUgZGF0YSB0eXBlIG9mIHRoZSBvdXRwdXQgdGVuc29yLiBEZWZhdWx0cyB0byAnZmxvYXQzMicuXG4gKlxuICogQGRvYyB7aGVhZGluZzogJ1RlbnNvcnMnLCBzdWJoZWFkaW5nOiAnQ3JlYXRpb24nfVxuICovXG5leHBvcnQgZnVuY3Rpb24gcmFuZ2UoXG4gICAgc3RhcnQ6IG51bWJlciwgc3RvcDogbnVtYmVyLCBzdGVwID0gMSxcbiAgICBkdHlwZTogJ2Zsb2F0MzInfCdpbnQzMicgPSAnZmxvYXQzMicpOiBUZW5zb3IxRCB7XG4gIGlmIChzdGVwID09PSAwKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgaGF2ZSBhIHN0ZXAgb2YgemVybycpO1xuICB9XG5cbiAgY29uc3QgZm9yd2FyZDogRm9yd2FyZEZ1bmM8VGVuc29yPiA9ICgpID0+IHtcbiAgICBjb25zdCBzYW1lU3RhcnRTdG9wID0gc3RhcnQgPT09IHN0b3A7XG4gICAgY29uc3QgaW5jcmVhc2luZ1JhbmdlTmVnYXRpdmVTdGVwID0gc3RhcnQgPCBzdG9wICYmIHN0ZXAgPCAwO1xuICAgIGNvbnN0IGRlY3JlYXNpbmdSYW5nZVBvc2l0aXZlU3RlcCA9IHN0b3AgPCBzdGFydCAmJiBzdGVwID4gMTtcblxuICAgIGlmIChzYW1lU3RhcnRTdG9wIHx8IGluY3JlYXNpbmdSYW5nZU5lZ2F0aXZlU3RlcCB8fFxuICAgICAgICBkZWNyZWFzaW5nUmFuZ2VQb3NpdGl2ZVN0ZXApIHtcbiAgICAgIHJldHVybiB6ZXJvcyhbMF0sIGR0eXBlKTtcbiAgICB9XG5cbiAgICBjb25zdCBudW1FbGVtZW50cyA9IE1hdGguYWJzKE1hdGguY2VpbCgoc3RvcCAtIHN0YXJ0KSAvIHN0ZXApKTtcbiAgICBjb25zdCB2YWx1ZXMgPSBtYWtlWmVyb3NUeXBlZEFycmF5KG51bUVsZW1lbnRzLCBkdHlwZSk7XG5cbiAgICBpZiAoc3RvcCA8IHN0YXJ0ICYmIHN0ZXAgPT09IDEpIHtcbiAgICAgIC8vIEF1dG8gYWRqdXN0IHRoZSBzdGVwJ3Mgc2lnbiBpZiBpdCBoYXNuJ3QgYmVlbiBzZXRcbiAgICAgIC8vIChvciB3YXMgc2V0IHRvIDEpXG4gICAgICBzdGVwID0gLTE7XG4gICAgfVxuXG4gICAgdmFsdWVzWzBdID0gc3RhcnQ7XG4gICAgZm9yIChsZXQgaSA9IDE7IGkgPCB2YWx1ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhbHVlc1tpXSA9IHZhbHVlc1tpIC0gMV0gKyBzdGVwO1xuICAgIH1cblxuICAgIHJldHVybiB0ZW5zb3IxZCh2YWx1ZXMsIGR0eXBlKTtcbiAgfTtcblxuICBjb25zdCBhdHRyczogUmFuZ2VBdHRycyA9IHtzdGFydCwgc3RvcCwgc3RlcCwgZHR5cGV9O1xuXG4gIHJldHVybiBFTkdJTkUucnVuS2VybmVsRnVuYyhcbiAgICAgICAgICAgICBmb3J3YXJkLCB7fSAvKiBpbnB1dHMgKi8sIG51bGwgLyogZ3JhZCAqLywgUmFuZ2UsXG4gICAgICAgICAgICAgYXR0cnMgYXMge30gYXMgTmFtZWRBdHRyTWFwKSBhcyBUZW5zb3IxRDtcbn1cbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE4IEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuaW1wb3J0IHtFTkdJTkV9IGZyb20gJy4uL2VuZ2luZSc7XG5pbXBvcnQge1JlY2lwcm9jYWwsIFJlY2lwcm9jYWxJbnB1dHN9IGZyb20gJy4uL2tlcm5lbF9uYW1lcyc7XG5pbXBvcnQge1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yJztcbmltcG9ydCB7TmFtZWRUZW5zb3JNYXB9IGZyb20gJy4uL3RlbnNvcl90eXBlcyc7XG5pbXBvcnQge2NvbnZlcnRUb1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yX3V0aWxfZW52JztcbmltcG9ydCB7VGVuc29yTGlrZX0gZnJvbSAnLi4vdHlwZXMnO1xuXG5pbXBvcnQge29wfSBmcm9tICcuL29wZXJhdGlvbic7XG5cbi8qKlxuICogQ29tcHV0ZXMgcmVjaXByb2NhbCBvZiB4IGVsZW1lbnQtd2lzZTogYDEgLyB4YFxuICpcbiAqIGBgYGpzXG4gKiBjb25zdCB4ID0gdGYudGVuc29yMWQoWzAsIDEsIDJdKTtcbiAqXG4gKiB4LnJlY2lwcm9jYWwoKS5wcmludCgpOyAgLy8gb3IgdGYucmVjaXByb2NhbCh4KVxuICogYGBgXG4gKiBAcGFyYW0geCBUaGUgaW5wdXQgdGVuc29yLlxuICpcbiAqIEBkb2Mge2hlYWRpbmc6ICdPcGVyYXRpb25zJywgc3ViaGVhZGluZzogJ0Jhc2ljIG1hdGgnfVxuICovXG5mdW5jdGlvbiByZWNpcHJvY2FsXzxUIGV4dGVuZHMgVGVuc29yPih4OiBUfFRlbnNvckxpa2UpOiBUIHtcbiAgY29uc3QgJHggPSBjb252ZXJ0VG9UZW5zb3IoeCwgJ3gnLCAncmVjaXByb2NhbCcpO1xuXG4gIGNvbnN0IGlucHV0czogUmVjaXByb2NhbElucHV0cyA9IHt4OiAkeH07XG4gIHJldHVybiBFTkdJTkUucnVuS2VybmVsRnVuYygoYmFja2VuZCwgc2F2ZSkgPT4ge1xuICAgIGNvbnN0IHJlcyA9IGJhY2tlbmQucmVjaXByb2NhbCgkeCk7XG4gICAgc2F2ZShbJHhdKTtcbiAgICByZXR1cm4gcmVzO1xuICB9LCBpbnB1dHMgYXMge30gYXMgTmFtZWRUZW5zb3JNYXAsIG51bGwgLyogZ3JhZCAqLywgUmVjaXByb2NhbCk7XG59XG5leHBvcnQgY29uc3QgcmVjaXByb2NhbCA9IG9wKHtyZWNpcHJvY2FsX30pO1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG5pbXBvcnQge0VOR0lORSwgRm9yd2FyZEZ1bmN9IGZyb20gJy4uL2VuZ2luZSc7XG5pbXBvcnQge1JlbHUsIFJlbHVJbnB1dHN9IGZyb20gJy4uL2tlcm5lbF9uYW1lcyc7XG5pbXBvcnQge1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yJztcbmltcG9ydCB7TmFtZWRUZW5zb3JNYXB9IGZyb20gJy4uL3RlbnNvcl90eXBlcyc7XG5pbXBvcnQge2NvbnZlcnRUb1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yX3V0aWxfZW52JztcbmltcG9ydCB7VGVuc29yTGlrZX0gZnJvbSAnLi4vdHlwZXMnO1xuXG5pbXBvcnQge29wfSBmcm9tICcuL29wZXJhdGlvbic7XG5pbXBvcnQgeyBjYXN0IH0gZnJvbSAnLi9jYXN0JztcblxuLyoqXG4gKiBDb21wdXRlcyByZWN0aWZpZWQgbGluZWFyIGVsZW1lbnQtd2lzZTogYG1heCh4LCAwKWAuXG4gKlxuICogYGBganNcbiAqIGNvbnN0IHggPSB0Zi50ZW5zb3IxZChbLTEsIDIsIC0zLCA0XSk7XG4gKlxuICogeC5yZWx1KCkucHJpbnQoKTsgIC8vIG9yIHRmLnJlbHUoeClcbiAqIGBgYFxuICogQHBhcmFtIHggVGhlIGlucHV0IHRlbnNvci4gSWYgdGhlIGR0eXBlIGlzIGBib29sYCwgdGhlIG91dHB1dCBkdHlwZSB3aWxsIGJlXG4gKiAgICAgYGludDMyJy5cbiAqXG4gKiBAZG9jIHtoZWFkaW5nOiAnT3BlcmF0aW9ucycsIHN1YmhlYWRpbmc6ICdCYXNpYyBtYXRoJ31cbiAqL1xuZnVuY3Rpb24gcmVsdV88VCBleHRlbmRzIFRlbnNvcj4oeDogVHxUZW5zb3JMaWtlKTogVCB7XG4gIGNvbnN0ICR4ID0gY29udmVydFRvVGVuc29yKHgsICd4JywgJ3JlbHUnKTtcblxuICBjb25zdCBmb3J3YXJkOiBGb3J3YXJkRnVuYzxUZW5zb3I+ID0gKGJhY2tlbmQsIHNhdmUpID0+IHtcbiAgICBzYXZlKFskeF0pO1xuXG4gICAgaWYgKCR4LmR0eXBlID09PSAnYm9vbCcpIHtcbiAgICAgIHJldHVybiBjYXN0KCR4LCAnaW50MzInKTtcbiAgICB9XG5cbiAgICByZXR1cm4gYmFja2VuZC5yZWx1KCR4KTtcbiAgfTtcblxuICBjb25zdCBpbnB1dHM6IFJlbHVJbnB1dHMgPSB7eDogJHh9O1xuXG4gIHJldHVybiBFTkdJTkUucnVuS2VybmVsRnVuYyhcbiAgICAgICAgICAgICBmb3J3YXJkLCBpbnB1dHMgYXMge30gYXMgTmFtZWRUZW5zb3JNYXAsIG51bGwgLyogZ3JhZCAqLywgUmVsdSkgYXNcbiAgICAgIFQ7XG59XG5cbmV4cG9ydCBjb25zdCByZWx1ID0gb3Aoe3JlbHVffSk7XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbmltcG9ydCB7RU5HSU5FLCBGb3J3YXJkRnVuY30gZnJvbSAnLi4vZW5naW5lJztcbmltcG9ydCB7UmVsdTYsIFJlbHU2SW5wdXRzfSBmcm9tICcuLi9rZXJuZWxfbmFtZXMnO1xuaW1wb3J0IHtUZW5zb3J9IGZyb20gJy4uL3RlbnNvcic7XG5pbXBvcnQge05hbWVkVGVuc29yTWFwfSBmcm9tICcuLi90ZW5zb3JfdHlwZXMnO1xuaW1wb3J0IHtjb252ZXJ0VG9UZW5zb3J9IGZyb20gJy4uL3RlbnNvcl91dGlsX2Vudic7XG5pbXBvcnQge1RlbnNvckxpa2V9IGZyb20gJy4uL3R5cGVzJztcblxuaW1wb3J0IHtjYXN0fSBmcm9tICcuL2Nhc3QnO1xuaW1wb3J0IHtvcH0gZnJvbSAnLi9vcGVyYXRpb24nO1xuXG4vKipcbiAqIENvbXB1dGVzIHJlY3RpZmllZCBsaW5lYXIgNiBlbGVtZW50LXdpc2U6IGBtaW4obWF4KHgsIDApLCA2KWAuXG4gKlxuICogYGBganNcbiAqIGNvbnN0IHggPSB0Zi50ZW5zb3IxZChbLTEsIDIsIC0zLCA4XSk7XG4gKlxuICogeC5yZWx1NigpLnByaW50KCk7ICAvLyBvciB0Zi5yZWx1Nih4KVxuICogYGBgXG4gKiBAcGFyYW0geCBUaGUgaW5wdXQgdGVuc29yLiBJZiB0aGUgZHR5cGUgaXMgYGJvb2xgLCB0aGUgb3V0cHV0IGR0eXBlIHdpbGwgYmVcbiAqICAgICBgaW50MzInLlxuICpcbiAqIEBkb2Mge2hlYWRpbmc6ICdPcGVyYXRpb25zJywgc3ViaGVhZGluZzogJ0Jhc2ljIG1hdGgnfVxuICovXG5mdW5jdGlvbiByZWx1Nl88VCBleHRlbmRzIFRlbnNvcj4oeDogVHxUZW5zb3JMaWtlKTogVCB7XG4gIGNvbnN0ICR4ID0gY29udmVydFRvVGVuc29yKHgsICd4JywgJ3JlbHU2Jyk7XG5cbiAgY29uc3QgZm9yd2FyZDogRm9yd2FyZEZ1bmM8VGVuc29yPiA9IChiYWNrZW5kLCBzYXZlKSA9PiB7XG4gICAgc2F2ZShbJHhdKTtcblxuICAgIGlmICgkeC5kdHlwZSA9PT0gJ2Jvb2wnKSB7XG4gICAgICByZXR1cm4gY2FzdCgkeCwgJ2ludDMyJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGJhY2tlbmQucmVsdTYoJHgpO1xuICB9O1xuXG4gIGNvbnN0IGlucHV0czogUmVsdTZJbnB1dHMgPSB7eDogJHh9O1xuXG4gIHJldHVybiBFTkdJTkUucnVuS2VybmVsRnVuYyhcbiAgICAgICAgICAgICBmb3J3YXJkLCBpbnB1dHMgYXMge30gYXMgTmFtZWRUZW5zb3JNYXAsIG51bGwgLyogZ3JhZCAqLywgUmVsdTYpIGFzXG4gICAgICBUO1xufVxuXG5leHBvcnQgY29uc3QgcmVsdTYgPSBvcCh7cmVsdTZffSk7XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbmltcG9ydCB7RU5HSU5FLCBGb3J3YXJkRnVuY30gZnJvbSAnLi4vZW5naW5lJztcbmltcG9ydCB7UmV2ZXJzZSwgUmV2ZXJzZUF0dHJzLCBSZXZlcnNlSW5wdXRzfSBmcm9tICcuLi9rZXJuZWxfbmFtZXMnO1xuaW1wb3J0IHtOYW1lZEF0dHJNYXB9IGZyb20gJy4uL2tlcm5lbF9yZWdpc3RyeSc7XG5pbXBvcnQge1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yJztcbmltcG9ydCB7TmFtZWRUZW5zb3JNYXB9IGZyb20gJy4uL3RlbnNvcl90eXBlcyc7XG5pbXBvcnQge2NvbnZlcnRUb1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yX3V0aWxfZW52JztcbmltcG9ydCB7VGVuc29yTGlrZX0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHtwYXJzZUF4aXNQYXJhbX0gZnJvbSAnLi4vdXRpbCc7XG5cbmltcG9ydCB7Y2xvbmV9IGZyb20gJy4vY2xvbmUnO1xuaW1wb3J0IHtvcH0gZnJvbSAnLi9vcGVyYXRpb24nO1xuaW1wb3J0IHtyZXNoYXBlfSBmcm9tICcuL3Jlc2hhcGUnO1xuXG4vKipcbiAqIFJldmVyc2VzIGEgYHRmLlRlbnNvcmAgYWxvbmcgYSBzcGVjaWZpZWQgYXhpcy5cbiAqXG4gKiBBbHNvIGF2YWlsYWJsZSBhcmUgc3RyaWN0ZXIgcmFuay1zcGVjaWZpYyBtZXRob2RzIHRoYXQgYXNzZXJ0IHRoYXQgYHhgIGlzXG4gKiBvZiB0aGUgZ2l2ZW4gcmFuazpcbiAqICAgLSBgdGYucmV2ZXJzZTFkYFxuICogICAtIGB0Zi5yZXZlcnNlMmRgXG4gKiAgIC0gYHRmLnJldmVyc2UzZGBcbiAqICAgLSBgdGYucmV2ZXJzZTRkYFxuICpcbiAqIEV4Y2VwdCBgdGYucmV2ZXJzZTFkYCAod2hpY2ggZG9lcyBub3QgaGF2ZSBheGlzIHBhcmFtKSwgYWxsIG1ldGhvZHMgaGF2ZVxuICogc2FtZSBzaWduYXR1cmUgYXMgdGhpcyBtZXRob2QuXG4gKlxuICogYGBganNcbiAqIGNvbnN0IHggPSB0Zi50ZW5zb3IxZChbMSwgMiwgMywgNF0pO1xuICpcbiAqIHgucmV2ZXJzZSgpLnByaW50KCk7XG4gKiBgYGBcbiAqXG4gKiBgYGBqc1xuICogY29uc3QgeCA9IHRmLnRlbnNvcjJkKFsxLCAyLCAzLCA0XSwgWzIsIDJdKTtcbiAqXG4gKiBjb25zdCBheGlzID0gMTtcbiAqIHgucmV2ZXJzZShheGlzKS5wcmludCgpO1xuICogYGBgXG4gKiBAcGFyYW0geCBUaGUgaW5wdXQgdGVuc29yIHRvIGJlIHJldmVyc2VkLlxuICogQHBhcmFtIGF4aXMgVGhlIHNldCBvZiBkaW1lbnNpb25zIHRvIHJldmVyc2UuIE11c3QgYmUgaW4gdGhlXG4gKiAgICAgcmFuZ2UgWy1yYW5rKHgpLCByYW5rKHgpKS4gRGVmYXVsdHMgdG8gYWxsIGF4ZXMuXG4gKlxuICogQGRvYyB7aGVhZGluZzogJ1RlbnNvcnMnLCBzdWJoZWFkaW5nOiAnU2xpY2luZyBhbmQgSm9pbmluZyd9XG4gKi9cbmZ1bmN0aW9uIHJldmVyc2VfPFQgZXh0ZW5kcyBUZW5zb3I+KFxuICAgIHg6IFR8VGVuc29yTGlrZSwgYXhpcz86IG51bWJlcnxudW1iZXJbXSk6IFQge1xuICBjb25zdCAkeCA9IGNvbnZlcnRUb1RlbnNvcih4LCAneCcsICdyZXZlcnNlJyk7XG5cbiAgY29uc3QgZm9yd2FyZDogRm9yd2FyZEZ1bmM8VGVuc29yPiA9IChiYWNrZW5kKSA9PiB7XG4gICAgY29uc3QgYXhlcyA9IHBhcnNlQXhpc1BhcmFtKGF4aXMsICR4LnNoYXBlKTtcbiAgICBpZiAoJHgucmFuayA9PT0gMCkge1xuICAgICAgcmV0dXJuIGNsb25lKCR4KTtcbiAgICB9XG4gICAgY29uc3QgcmVzID0gYmFja2VuZC5yZXZlcnNlKCR4LCBheGVzKTtcbiAgICByZXR1cm4gcmVzaGFwZShyZXMsICR4LnNoYXBlKTtcbiAgfTtcblxuICBjb25zdCBpbnB1dHM6IFJldmVyc2VJbnB1dHMgPSB7eDogJHh9O1xuICBjb25zdCBhdHRyczogUmV2ZXJzZUF0dHJzID0ge2RpbXM6IGF4aXN9O1xuXG4gIHJldHVybiBFTkdJTkUucnVuS2VybmVsRnVuYyhcbiAgICAgICAgICAgICBmb3J3YXJkLCBpbnB1dHMgYXMge30gYXMgTmFtZWRUZW5zb3JNYXAsIG51bGwgLyogZ3JhZGllbnQgKi8sXG4gICAgICAgICAgICAgUmV2ZXJzZSwgYXR0cnMgYXMge30gYXMgTmFtZWRBdHRyTWFwKSBhcyBUO1xufVxuXG5leHBvcnQgY29uc3QgcmV2ZXJzZSA9IG9wKHtyZXZlcnNlX30pO1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG5pbXBvcnQge1RlbnNvcjFEfSBmcm9tICcuLi90ZW5zb3InO1xuaW1wb3J0IHtjb252ZXJ0VG9UZW5zb3J9IGZyb20gJy4uL3RlbnNvcl91dGlsX2Vudic7XG5pbXBvcnQge1RlbnNvckxpa2V9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCAqIGFzIHV0aWwgZnJvbSAnLi4vdXRpbCc7XG5pbXBvcnQge29wfSBmcm9tICcuL29wZXJhdGlvbic7XG5pbXBvcnQge3JldmVyc2V9IGZyb20gJy4vcmV2ZXJzZSc7XG5cbi8qKlxuICogUmV2ZXJzZXMgYSBgdGYuVGVuc29yMURgLlxuICpcbiAqIEBwYXJhbSB4IFRoZSBpbnB1dCB0ZW5zb3IuXG4gKi9cbmZ1bmN0aW9uIHJldmVyc2UxZF8oeDogVGVuc29yMUR8VGVuc29yTGlrZSk6IFRlbnNvcjFEIHtcbiAgY29uc3QgJHggPSBjb252ZXJ0VG9UZW5zb3IoeCwgJ3gnLCAncmV2ZXJzZScpO1xuICB1dGlsLmFzc2VydChcbiAgICAgICR4LnJhbmsgPT09IDEsXG4gICAgICAoKSA9PiBgRXJyb3IgaW4gcmV2ZXJzZTFEOiB4IG11c3QgYmUgcmFuayAxIGJ1dCBnb3QgcmFuayAkeyR4LnJhbmt9LmApO1xuICByZXR1cm4gcmV2ZXJzZSgkeCwgMCk7XG59XG5cbmV4cG9ydCBjb25zdCByZXZlcnNlMWQgPSBvcCh7cmV2ZXJzZTFkX30pO1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG5pbXBvcnQge1RlbnNvcjJEfSBmcm9tICcuLi90ZW5zb3InO1xuaW1wb3J0IHtjb252ZXJ0VG9UZW5zb3J9IGZyb20gJy4uL3RlbnNvcl91dGlsX2Vudic7XG5pbXBvcnQge1RlbnNvckxpa2V9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCAqIGFzIHV0aWwgZnJvbSAnLi4vdXRpbCc7XG5pbXBvcnQge29wfSBmcm9tICcuL29wZXJhdGlvbic7XG5pbXBvcnQge3JldmVyc2V9IGZyb20gJy4vcmV2ZXJzZSc7XG5cbi8qKlxuICogUmV2ZXJzZXMgYSBgdGYuVGVuc29yMkRgIGFsb25nIGEgc3BlY2lmaWVkIGF4aXMuXG4gKlxuICogQHBhcmFtIHggVGhlIGlucHV0IHRlbnNvci5cbiAqIEBwYXJhbSBheGlzIFRoZSBzZXQgb2YgZGltZW5zaW9ucyB0byByZXZlcnNlLiBNdXN0IGJlIGluIHRoZVxuICogICAgIHJhbmdlIFstcmFuayh4KSwgcmFuayh4KSkuIERlZmF1bHRzIHRvIGFsbCBheGVzLlxuICovXG5mdW5jdGlvbiByZXZlcnNlMmRfKHg6IFRlbnNvcjJEfFRlbnNvckxpa2UsIGF4aXM/OiBudW1iZXJ8bnVtYmVyW10pOiBUZW5zb3IyRCB7XG4gIGNvbnN0ICR4ID0gY29udmVydFRvVGVuc29yKHgsICd4JywgJ3JldmVyc2UnKTtcbiAgdXRpbC5hc3NlcnQoXG4gICAgICAkeC5yYW5rID09PSAyLFxuICAgICAgKCkgPT4gYEVycm9yIGluIHJldmVyc2UyRDogeCBtdXN0IGJlIHJhbmsgMiBidXQgZ290IHJhbmsgJHskeC5yYW5rfS5gKTtcbiAgcmV0dXJuIHJldmVyc2UoJHgsIGF4aXMpO1xufVxuXG5leHBvcnQgY29uc3QgcmV2ZXJzZTJkID0gb3Aoe3JldmVyc2UyZF99KTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuaW1wb3J0IHtUZW5zb3IzRH0gZnJvbSAnLi4vdGVuc29yJztcbmltcG9ydCB7Y29udmVydFRvVGVuc29yfSBmcm9tICcuLi90ZW5zb3JfdXRpbF9lbnYnO1xuaW1wb3J0IHtUZW5zb3JMaWtlfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgKiBhcyB1dGlsIGZyb20gJy4uL3V0aWwnO1xuaW1wb3J0IHtvcH0gZnJvbSAnLi9vcGVyYXRpb24nO1xuaW1wb3J0IHtyZXZlcnNlfSBmcm9tICcuL3JldmVyc2UnO1xuXG4vKipcbiAqIFJldmVyc2VzIGEgYHRmLlRlbnNvcjNEYCBhbG9uZyBhIHNwZWNpZmllZCBheGlzLlxuICpcbiAqIEBwYXJhbSB4IFRoZSBpbnB1dCB0ZW5zb3IuXG4gKiBAcGFyYW0gYXhpcyBUaGUgc2V0IG9mIGRpbWVuc2lvbnMgdG8gcmV2ZXJzZS4gTXVzdCBiZSBpbiB0aGVcbiAqICAgICByYW5nZSBbLXJhbmsoeCksIHJhbmsoeCkpLiBEZWZhdWx0cyB0byBhbGwgYXhlcy5cbiAqL1xuZnVuY3Rpb24gcmV2ZXJzZTNkXyh4OiBUZW5zb3IzRHxUZW5zb3JMaWtlLCBheGlzPzogbnVtYmVyfG51bWJlcltdKTogVGVuc29yM0Qge1xuICBjb25zdCAkeCA9IGNvbnZlcnRUb1RlbnNvcih4LCAneCcsICdyZXZlcnNlJyk7XG4gIHV0aWwuYXNzZXJ0KFxuICAgICAgJHgucmFuayA9PT0gMyxcbiAgICAgICgpID0+IGBFcnJvciBpbiByZXZlcnNlM0Q6IHggbXVzdCBiZSByYW5rIDMgYnV0IGdvdCByYW5rICR7JHgucmFua30uYCk7XG4gIHJldHVybiByZXZlcnNlKCR4LCBheGlzKTtcbn1cblxuZXhwb3J0IGNvbnN0IHJldmVyc2UzZCA9IG9wKHtyZXZlcnNlM2RffSk7XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbmltcG9ydCB7VGVuc29yNER9IGZyb20gJy4uL3RlbnNvcic7XG5pbXBvcnQge2NvbnZlcnRUb1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yX3V0aWxfZW52JztcbmltcG9ydCB7VGVuc29yTGlrZX0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0ICogYXMgdXRpbCBmcm9tICcuLi91dGlsJztcbmltcG9ydCB7b3B9IGZyb20gJy4vb3BlcmF0aW9uJztcbmltcG9ydCB7cmV2ZXJzZX0gZnJvbSAnLi9yZXZlcnNlJztcblxuLyoqXG4gKiBSZXZlcnNlcyBhIGB0Zi5UZW5zb3I0RGAgYWxvbmcgYSBzcGVjaWZpZWQgYXhpcy5cbiAqXG4gKiBAcGFyYW0geCBUaGUgaW5wdXQgdGVuc29yLlxuICogQHBhcmFtIGF4aXMgVGhlIHNldCBvZiBkaW1lbnNpb25zIHRvIHJldmVyc2UuIE11c3QgYmUgaW4gdGhlXG4gKiAgICAgcmFuZ2UgWy1yYW5rKHgpLCByYW5rKHgpKS4gRGVmYXVsdHMgdG8gYWxsIGF4ZXMuXG4gKi9cbmZ1bmN0aW9uIHJldmVyc2U0ZF8oeDogVGVuc29yNER8VGVuc29yTGlrZSwgYXhpcz86IG51bWJlcnxudW1iZXJbXSk6IFRlbnNvcjREIHtcbiAgY29uc3QgJHggPSBjb252ZXJ0VG9UZW5zb3IoeCwgJ3gnLCAncmV2ZXJzZScpO1xuICB1dGlsLmFzc2VydChcbiAgICAgICR4LnJhbmsgPT09IDQsXG4gICAgICAoKSA9PiBgRXJyb3IgaW4gcmV2ZXJzZTREOiB4IG11c3QgYmUgcmFuayA0IGJ1dCBnb3QgcmFuayAkeyR4LnJhbmt9LmApO1xuICByZXR1cm4gcmV2ZXJzZSgkeCwgYXhpcyk7XG59XG5cbmV4cG9ydCBjb25zdCByZXZlcnNlNGQgPSBvcCh7cmV2ZXJzZTRkX30pO1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTggR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG5pbXBvcnQge0VOR0lORX0gZnJvbSAnLi4vZW5naW5lJztcbmltcG9ydCB7Um91bmQsIFJvdW5kSW5wdXRzfSBmcm9tICcuLi9rZXJuZWxfbmFtZXMnO1xuaW1wb3J0IHtUZW5zb3J9IGZyb20gJy4uL3RlbnNvcic7XG5pbXBvcnQge05hbWVkVGVuc29yTWFwfSBmcm9tICcuLi90ZW5zb3JfdHlwZXMnO1xuaW1wb3J0IHtjb252ZXJ0VG9UZW5zb3J9IGZyb20gJy4uL3RlbnNvcl91dGlsX2Vudic7XG5pbXBvcnQge1RlbnNvckxpa2V9IGZyb20gJy4uL3R5cGVzJztcblxuaW1wb3J0IHtvcH0gZnJvbSAnLi9vcGVyYXRpb24nO1xuXG4vKipcbiAqIENvbXB1dGVzIHJvdW5kIG9mIGlucHV0IGB0Zi5UZW5zb3JgIGVsZW1lbnQtd2lzZTogYHJvdW5kKHgpYC5cbiAqIEl0IGltcGxlbWVudHMgYmFua2VyJ3Mgcm91bmRpbmcuXG4gKlxuICogYGBganNcbiAqIGNvbnN0IHggPSB0Zi50ZW5zb3IxZChbLjYsIDEuMSwgLTMuM10pO1xuICpcbiAqIHgucm91bmQoKS5wcmludCgpOyAgLy8gb3IgdGYucm91bmQoeClcbiAqIGBgYFxuICogQHBhcmFtIHggVGhlIGlucHV0IHRlbnNvci5cbiAqXG4gKiBAZG9jIHtoZWFkaW5nOiAnT3BlcmF0aW9ucycsIHN1YmhlYWRpbmc6ICdCYXNpYyBtYXRoJ31cbiAqL1xuZnVuY3Rpb24gcm91bmRfPFQgZXh0ZW5kcyBUZW5zb3I+KHg6IFR8VGVuc29yTGlrZSk6IFQge1xuICBjb25zdCAkeCA9IGNvbnZlcnRUb1RlbnNvcih4LCAneCcsICdyb3VuZCcpO1xuICBjb25zdCBpbnB1dHM6IFJvdW5kSW5wdXRzID0ge3g6ICR4fTtcblxuICByZXR1cm4gRU5HSU5FLnJ1bktlcm5lbEZ1bmMoXG4gICAgICAoYmFja2VuZCkgPT4gYmFja2VuZC5yb3VuZCgkeCksIGlucHV0cyBhcyB7fSBhcyBOYW1lZFRlbnNvck1hcCxcbiAgICAgIG51bGwgLyogZ3JhZCAqLywgUm91bmQpO1xufVxuXG5leHBvcnQgY29uc3Qgcm91bmQgPSBvcCh7cm91bmRffSk7XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbmltcG9ydCB7RU5HSU5FfSBmcm9tICcuLi9lbmdpbmUnO1xuaW1wb3J0IHtSc3FydCwgUnNxcnRJbnB1dHN9IGZyb20gJy4uL2tlcm5lbF9uYW1lcyc7XG5pbXBvcnQge1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yJztcbmltcG9ydCB7TmFtZWRUZW5zb3JNYXB9IGZyb20gJy4uL3RlbnNvcl90eXBlcyc7XG5pbXBvcnQge2NvbnZlcnRUb1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yX3V0aWxfZW52JztcbmltcG9ydCB7VGVuc29yTGlrZX0gZnJvbSAnLi4vdHlwZXMnO1xuXG5pbXBvcnQge29wfSBmcm9tICcuL29wZXJhdGlvbic7XG5cbi8qKlxuICogQ29tcHV0ZXMgcmVjaXByb2NhbCBvZiBzcXVhcmUgcm9vdCBvZiB0aGUgaW5wdXQgYHRmLlRlbnNvcmAgZWxlbWVudC13aXNlOlxuICogYHkgPSAxIC8gc3FydCh4KWBcbiAqXG4gKiBgYGBqc1xuICogY29uc3QgeCA9IHRmLnRlbnNvcjFkKFsxLCAyLCA0LCAtMV0pO1xuICpcbiAqIHgucnNxcnQoKS5wcmludCgpOyAgLy8gb3IgdGYucnNxcnQoeClcbiAqIGBgYFxuICogQHBhcmFtIHggVGhlIGlucHV0IHRlbnNvci5cbiAqXG4gKiBAZG9jIHtoZWFkaW5nOiAnT3BlcmF0aW9ucycsIHN1YmhlYWRpbmc6ICdCYXNpYyBtYXRoJ31cbiAqL1xuZnVuY3Rpb24gcnNxcnRfPFQgZXh0ZW5kcyBUZW5zb3I+KHg6IFR8VGVuc29yTGlrZSk6IFQge1xuICBjb25zdCAkeCA9IGNvbnZlcnRUb1RlbnNvcih4LCAneCcsICdyc3FydCcpO1xuXG4gIGNvbnN0IGlucHV0czogUnNxcnRJbnB1dHMgPSB7eDogJHh9O1xuXG4gIHJldHVybiBFTkdJTkUucnVuS2VybmVsRnVuYygoYmFja2VuZCwgc2F2ZSkgPT4ge1xuICAgIGNvbnN0IHJlcyA9IGJhY2tlbmQucnNxcnQoJHgpO1xuICAgIHNhdmUoWyR4XSk7XG4gICAgcmV0dXJuIHJlcztcbiAgfSwgaW5wdXRzIGFzIHt9IGFzIE5hbWVkVGVuc29yTWFwLCBudWxsIC8qIGdyYWQgKi8sIFJzcXJ0KTtcbn1cbmV4cG9ydCBjb25zdCByc3FydCA9IG9wKHtyc3FydF99KTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuaW1wb3J0IHtFTkdJTkUsIEZvcndhcmRGdW5jfSBmcm9tICcuLi9lbmdpbmUnO1xuaW1wb3J0IHtTZWx1LCBTZWx1SW5wdXRzfSBmcm9tICcuLi9rZXJuZWxfbmFtZXMnO1xuaW1wb3J0IHtUZW5zb3J9IGZyb20gJy4uL3RlbnNvcic7XG5pbXBvcnQge05hbWVkVGVuc29yTWFwfSBmcm9tICcuLi90ZW5zb3JfdHlwZXMnO1xuaW1wb3J0IHtjb252ZXJ0VG9UZW5zb3J9IGZyb20gJy4uL3RlbnNvcl91dGlsX2Vudic7XG5pbXBvcnQge1RlbnNvckxpa2V9IGZyb20gJy4uL3R5cGVzJztcblxuaW1wb3J0IHtvcH0gZnJvbSAnLi9vcGVyYXRpb24nO1xuXG4vKipcbiAqIENvbXB1dGVzIHNjYWxlZCBleHBvbmVudGlhbCBsaW5lYXIgZWxlbWVudC13aXNlLlxuICpcbiAqIGB4IDwgMCA/IHNjYWxlICogYWxwaGEgKiAoZXhwKHgpIC0gMSkgOiB4YFxuICpcbiAqIGBgYGpzXG4gKiBjb25zdCB4ID0gdGYudGVuc29yMWQoWy0xLCAyLCAtMywgNF0pO1xuICpcbiAqIHguc2VsdSgpLnByaW50KCk7ICAvLyBvciB0Zi5zZWx1KHgpXG4gKiBgYGBcbiAqIEBwYXJhbSB4IFRoZSBpbnB1dCB0ZW5zb3IuXG4gKlxuICogQGRvYyB7aGVhZGluZzogJ09wZXJhdGlvbnMnLCBzdWJoZWFkaW5nOiAnQmFzaWMgbWF0aCd9XG4gKi9cbmZ1bmN0aW9uIHNlbHVfPFQgZXh0ZW5kcyBUZW5zb3I+KHg6IFR8VGVuc29yTGlrZSk6IFQge1xuICBjb25zdCAkeCA9IGNvbnZlcnRUb1RlbnNvcih4LCAneCcsICdzZWx1Jyk7XG5cbiAgY29uc3QgZm9yd2FyZDogRm9yd2FyZEZ1bmM8VGVuc29yPiA9IChiYWNrZW5kLCBzYXZlKSA9PiB7XG4gICAgY29uc3QgcmVzID0gYmFja2VuZC5zZWx1KCR4KTtcbiAgICBzYXZlKFskeF0pO1xuICAgIHJldHVybiByZXM7XG4gIH07XG5cbiAgY29uc3QgaW5wdXRzOiBTZWx1SW5wdXRzID0ge3g6ICR4fTtcblxuICByZXR1cm4gRU5HSU5FLnJ1bktlcm5lbEZ1bmMoXG4gICAgICAgICAgICAgZm9yd2FyZCwgaW5wdXRzIGFzIHt9IGFzIE5hbWVkVGVuc29yTWFwLCBudWxsIC8qIGdyYWQgKi8sIFNlbHUpIGFzXG4gICAgICBUO1xufVxuXG5leHBvcnQgY29uc3Qgc2VsdSA9IG9wKHtzZWx1X30pO1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuaW1wb3J0IHtUZW5zb3IzRCwgVGVuc29yNER9IGZyb20gJy4uL3RlbnNvcic7XG5pbXBvcnQge2NvbnZlcnRUb1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yX3V0aWxfZW52JztcbmltcG9ydCB7VGVuc29yTGlrZX0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0ICogYXMgdXRpbCBmcm9tICcuLi91dGlsJztcblxuaW1wb3J0IHtjb252MmR9IGZyb20gJy4vY29udjJkJztcbmltcG9ydCB7ZGVwdGh3aXNlQ29udjJkfSBmcm9tICcuL2RlcHRod2lzZV9jb252MmQnO1xuaW1wb3J0IHtvcH0gZnJvbSAnLi9vcGVyYXRpb24nO1xuaW1wb3J0IHtyZXNoYXBlfSBmcm9tICcuL3Jlc2hhcGUnO1xuXG4vKipcbiAqIDItRCBjb252b2x1dGlvbiB3aXRoIHNlcGFyYWJsZSBmaWx0ZXJzLlxuICpcbiAqIFBlcmZvcm1zIGEgZGVwdGh3aXNlIGNvbnZvbHV0aW9uIHRoYXQgYWN0cyBzZXBhcmF0ZWx5IG9uIGNoYW5uZWxzIGZvbGxvd2VkXG4gKiBieSBhIHBvaW50d2lzZSBjb252b2x1dGlvbiB0aGF0IG1peGVzIGNoYW5uZWxzLiBOb3RlIHRoYXQgdGhpcyBpc1xuICogc2VwYXJhYmlsaXR5IGJldHdlZW4gZGltZW5zaW9ucyBbMSwgMl0gYW5kIDMsIG5vdCBzcGF0aWFsIHNlcGFyYWJpbGl0eVxuICogYmV0d2VlbiBkaW1lbnNpb25zIDEgYW5kIDIuXG4gKlxuICogU2VlXG4gKiBbaHR0cHM6Ly93d3cudGVuc29yZmxvdy5vcmcvYXBpX2RvY3MvcHl0aG9uL3RmL25uL3NlcGFyYWJsZV9jb252MmRdKFxuICogICAgIGh0dHBzOi8vd3d3LnRlbnNvcmZsb3cub3JnL2FwaV9kb2NzL3B5dGhvbi90Zi9ubi9zZXBhcmFibGVfY29udjJkKVxuICogZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBAcGFyYW0geCBUaGUgaW5wdXQgdGVuc29yLCBvZiByYW5rIDQgb3IgcmFuayAzLCBvZiBzaGFwZVxuICogICAgIGBbYmF0Y2gsIGhlaWdodCwgd2lkdGgsIGluQ2hhbm5lbHNdYC4gSWYgcmFuayAzLCBiYXRjaCBvZiAxIGlzXG4gKiBhc3N1bWVkLlxuICogQHBhcmFtIGRlcHRod2lzZUZpbHRlciBUaGUgZGVwdGh3aXNlIGZpbHRlciB0ZW5zb3IsIHJhbmsgNCwgb2Ygc2hhcGVcbiAqICAgICBgW2ZpbHRlckhlaWdodCwgZmlsdGVyV2lkdGgsIGluQ2hhbm5lbHMsIGNoYW5uZWxNdWx0aXBsaWVyXWAuIFRoaXMgaXNcbiAqICAgICB0aGUgZmlsdGVyIHVzZWQgaW4gdGhlIGZpcnN0IHN0ZXAuXG4gKiBAcGFyYW0gcG9pbnR3aXNlRmlsdGVyIFRoZSBwb2ludHdpc2UgZmlsdGVyIHRlbnNvciwgcmFuayA0LCBvZiBzaGFwZVxuICogICAgIGBbMSwgMSwgaW5DaGFubmVscyAqIGNoYW5uZWxNdWx0aXBsaWVyLCBvdXRDaGFubmVsc11gLiBUaGlzIGlzXG4gKiAgICAgdGhlIGZpbHRlciB1c2VkIGluIHRoZSBzZWNvbmQgc3RlcC5cbiAqIEBwYXJhbSBzdHJpZGVzIFRoZSBzdHJpZGVzIG9mIHRoZSBjb252b2x1dGlvbjogYFtzdHJpZGVIZWlnaHQsXG4gKiBzdHJpZGVXaWR0aF1gLiBJZiBzdHJpZGVzIGlzIGEgc2luZ2xlIG51bWJlciwgdGhlbiBgc3RyaWRlSGVpZ2h0ID09XG4gKiBzdHJpZGVXaWR0aGAuXG4gKiBAcGFyYW0gcGFkIFRoZSB0eXBlIG9mIHBhZGRpbmcgYWxnb3JpdGhtLlxuICogICAtIGBzYW1lYCBhbmQgc3RyaWRlIDE6IG91dHB1dCB3aWxsIGJlIG9mIHNhbWUgc2l6ZSBhcyBpbnB1dCxcbiAqICAgICAgIHJlZ2FyZGxlc3Mgb2YgZmlsdGVyIHNpemUuXG4gKiAgIC0gYHZhbGlkYDogb3V0cHV0IHdpbGwgYmUgc21hbGxlciB0aGFuIGlucHV0IGlmIGZpbHRlciBpcyBsYXJnZXJcbiAqICAgICAgIHRoYW4gMXgxLlxuICogICAtIEZvciBtb3JlIGluZm8sIHNlZSB0aGlzIGd1aWRlOlxuICogICAgIFtodHRwczovL3d3dy50ZW5zb3JmbG93Lm9yZy9hcGlfZ3VpZGVzL3B5dGhvbi9ubiNDb252b2x1dGlvbl0oXG4gKiAgICAgICAgICBodHRwczovL3d3dy50ZW5zb3JmbG93Lm9yZy9hcGlfZ3VpZGVzL3B5dGhvbi9ubiNDb252b2x1dGlvbilcbiAqIEBwYXJhbSBkaWxhdGlvbnMgVGhlIGRpbGF0aW9uIHJhdGVzOiBgW2RpbGF0aW9uSGVpZ2h0LCBkaWxhdGlvbldpZHRoXWBcbiAqICAgICBpbiB3aGljaCB3ZSBzYW1wbGUgaW5wdXQgdmFsdWVzIGFjcm9zcyB0aGUgaGVpZ2h0IGFuZCB3aWR0aCBkaW1lbnNpb25zXG4gKiAgICAgaW4gYXRyb3VzIGNvbnZvbHV0aW9uLiBEZWZhdWx0cyB0byBgWzEsIDFdYC4gSWYgYHJhdGVgIGlzIGEgc2luZ2xlXG4gKiAgICAgbnVtYmVyLCB0aGVuIGBkaWxhdGlvbkhlaWdodCA9PSBkaWxhdGlvbldpZHRoYC4gSWYgaXQgaXMgZ3JlYXRlciB0aGFuXG4gKiAgICAgMSwgdGhlbiBhbGwgdmFsdWVzIG9mIGBzdHJpZGVzYCBtdXN0IGJlIDEuXG4gKiBAcGFyYW0gZGF0YUZvcm1hdDogQW4gb3B0aW9uYWwgc3RyaW5nIGZyb206IFwiTkhXQ1wiLCBcIk5DSFdcIi4gRGVmYXVsdHMgdG9cbiAqICAgICBcIk5IV0NcIi4gU3BlY2lmeSB0aGUgZGF0YSBmb3JtYXQgb2YgdGhlIGlucHV0IGFuZCBvdXRwdXQgZGF0YS4gV2l0aCB0aGVcbiAqICAgICBkZWZhdWx0IGZvcm1hdCBcIk5IV0NcIiwgdGhlIGRhdGEgaXMgc3RvcmVkIGluIHRoZSBvcmRlciBvZjogW2JhdGNoLFxuICogICAgIGhlaWdodCwgd2lkdGgsIGNoYW5uZWxzXS4gT25seSBcIk5IV0NcIiBpcyBjdXJyZW50bHkgc3VwcG9ydGVkLlxuICpcbiAqIEBkb2Mge2hlYWRpbmc6ICdPcGVyYXRpb25zJywgc3ViaGVhZGluZzogJ0NvbnZvbHV0aW9uJ31cbiAqL1xuZnVuY3Rpb24gc2VwYXJhYmxlQ29udjJkXzxUIGV4dGVuZHMgVGVuc29yM0R8VGVuc29yNEQ+KFxuICAgIHg6IFR8VGVuc29yTGlrZSwgZGVwdGh3aXNlRmlsdGVyOiBUZW5zb3I0RHxUZW5zb3JMaWtlLFxuICAgIHBvaW50d2lzZUZpbHRlcjogVGVuc29yNER8VGVuc29yTGlrZSwgc3RyaWRlczogW251bWJlciwgbnVtYmVyXXxudW1iZXIsXG4gICAgcGFkOiAndmFsaWQnfCdzYW1lJywgZGlsYXRpb246IFtudW1iZXIsIG51bWJlcl18bnVtYmVyID0gWzEsIDFdLFxuICAgIGRhdGFGb3JtYXQ6ICdOSFdDJ3wnTkNIVycgPSAnTkhXQycpOiBUIHtcbiAgY29uc3QgJHggPSBjb252ZXJ0VG9UZW5zb3IoeCwgJ3gnLCAnc2VwYXJhYmxlQ29udjJkJyk7XG4gIGNvbnN0ICRkZXB0aHdpc2VGaWx0ZXIgPVxuICAgICAgY29udmVydFRvVGVuc29yKGRlcHRod2lzZUZpbHRlciwgJ2RlcHRod2lzZUZpbHRlcicsICdzZXBhcmFibGVDb252MmQnKTtcbiAgY29uc3QgJHBvaW50d2lzZUZpbHRlciA9XG4gICAgICBjb252ZXJ0VG9UZW5zb3IocG9pbnR3aXNlRmlsdGVyLCAncG9pbnR3aXNlRmlsdGVyJywgJ3NlcGFyYWJsZUNvbnYyZCcpO1xuXG4gIGxldCB4NEQgPSAkeCBhcyBUZW5zb3I0RDtcbiAgbGV0IHJlc2hhcGVkVG80RCA9IGZhbHNlO1xuICBpZiAoJHgucmFuayA9PT0gMykge1xuICAgIHJlc2hhcGVkVG80RCA9IHRydWU7XG4gICAgeDREID0gcmVzaGFwZSgkeCwgWzEsICR4LnNoYXBlWzBdLCAkeC5zaGFwZVsxXSwgJHguc2hhcGVbMl1dKTtcbiAgfVxuXG4gIGlmIChkYXRhRm9ybWF0ID09PSAnTkNIVycpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdzZXBhcmFibGVDb252MmQgY3VycmVudGx5IGRvZXMgbm90IHN1cHBvcnQgZGF0YUZvcm1hdCBOQ0hXOyBvbmx5ICcgK1xuICAgICAgICAnTkhXQyBpcyBzdXBwb3J0ZWQnKTtcbiAgfVxuXG4gIHV0aWwuYXNzZXJ0KFxuICAgICAgeDRELnJhbmsgPT09IDQsXG4gICAgICAoKSA9PiBgRXJyb3IgaW4gc2VwYXJhYmxlQ29udjJkOiBpbnB1dCBtdXN0IGJlIHJhbmsgNCwgYnV0IGdvdCBgICtcbiAgICAgICAgICBgcmFuayAke3g0RC5yYW5rfS5gKTtcbiAgdXRpbC5hc3NlcnQoXG4gICAgICAkZGVwdGh3aXNlRmlsdGVyLnJhbmsgPT09IDQsXG4gICAgICAoKSA9PiBgRXJyb3IgaW4gc2VwYXJhYmxlQ29udjJkOiBkZXB0aHdpc2UgZmlsdGVyIG11c3QgYmUgcmFuayA0LCBidXQgYCArXG4gICAgICAgICAgYGdvdCByYW5rICR7JGRlcHRod2lzZUZpbHRlci5yYW5rfS5gKTtcbiAgdXRpbC5hc3NlcnQoXG4gICAgICAkcG9pbnR3aXNlRmlsdGVyLnJhbmsgPT09IDQsXG4gICAgICAoKSA9PiBgRXJyb3IgaW4gc2VwYXJhYmxlQ29udjJkOiBwb2ludHdpc2UgZmlsdGVyIG11c3QgYmUgcmFuayA0LCBidXQgYCArXG4gICAgICAgICAgYGdvdCByYW5rICR7JGRlcHRod2lzZUZpbHRlci5yYW5rfS5gKTtcbiAgdXRpbC5hc3NlcnQoXG4gICAgICAkcG9pbnR3aXNlRmlsdGVyLnNoYXBlWzBdID09PSAxLFxuICAgICAgKCkgPT5cbiAgICAgICAgICBgRXJyb3IgaW4gc2VwYXJhYmxlQ29udjJkOiB0aGUgZmlyc3QgZGltZW5zaW9uIG9mIHBvaW50d2lzZSBmaWx0ZXIgYCArXG4gICAgICAgICAgYCBtdXN0IGJlIDEsIGJ1dCBnb3QgJHskcG9pbnR3aXNlRmlsdGVyLnNoYXBlWzBdfS5gKTtcbiAgdXRpbC5hc3NlcnQoXG4gICAgICAkcG9pbnR3aXNlRmlsdGVyLnNoYXBlWzFdID09PSAxLFxuICAgICAgKCkgPT4gYEVycm9yIGluIHNlcGFyYWJsZUNvbnYyZDogdGhlIHNlY29uZCBkaW1lbnNpb24gb2YgcG9pbnR3aXNlIGAgK1xuICAgICAgICAgIGBmaWx0ZXIgbXVzdCBiZSAxLCBidXQgZ290ICR7JHBvaW50d2lzZUZpbHRlci5zaGFwZVsxXX0uYCk7XG5cbiAgY29uc3QgaW5DaGFubmVscyA9ICRkZXB0aHdpc2VGaWx0ZXIuc2hhcGVbMl07XG4gIGNvbnN0IGNoYW5uZWxNdWx0aXBsaWVyID0gJGRlcHRod2lzZUZpbHRlci5zaGFwZVszXTtcbiAgdXRpbC5hc3NlcnQoXG4gICAgICAkcG9pbnR3aXNlRmlsdGVyLnNoYXBlWzJdID09PSBpbkNoYW5uZWxzICogY2hhbm5lbE11bHRpcGxpZXIsXG4gICAgICAoKSA9PlxuICAgICAgICAgIGBFcnJvciBpbiBzZXBhcmFibGVDb252MmQ6IHRoZSB0aGlyZCBkaW1lbnNpb24gb2YgcG9pbnR3aXNlIGZpbHRlciBgICtcbiAgICAgICAgICBgbXVzdCBiZSAke2luQ2hhbm5lbHMgKiBjaGFubmVsTXVsdGlwbGllcn0sIGAgK1xuICAgICAgICAgIGBidXQgZ290ICR7JHBvaW50d2lzZUZpbHRlci5zaGFwZVsyXX0uYCk7XG5cbiAgY29uc3QgZGVwdGh3aXNlID0gZGVwdGh3aXNlQ29udjJkKFxuICAgICAgeDRELCAkZGVwdGh3aXNlRmlsdGVyLCBzdHJpZGVzLCBwYWQsIGRhdGFGb3JtYXQsIGRpbGF0aW9uKTtcbiAgY29uc3QgcG9pbnR3aXNlU3RyaWRlID0gMTtcbiAgY29uc3QgcmVzID1cbiAgICAgIGNvbnYyZChkZXB0aHdpc2UsICRwb2ludHdpc2VGaWx0ZXIsIHBvaW50d2lzZVN0cmlkZSwgJ3ZhbGlkJywgZGF0YUZvcm1hdCk7XG5cbiAgaWYgKHJlc2hhcGVkVG80RCkge1xuICAgIHJldHVybiByZXNoYXBlKHJlcywgW3Jlcy5zaGFwZVsxXSwgcmVzLnNoYXBlWzJdLCByZXMuc2hhcGVbM11dKSBhcyBUO1xuICB9XG4gIHJldHVybiByZXMgYXMgVDtcbn1cblxuZXhwb3J0IGNvbnN0IHNlcGFyYWJsZUNvbnYyZCA9IG9wKHtzZXBhcmFibGVDb252MmRffSk7XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5pbXBvcnQge1RlbnNvciwgVGVuc29yQnVmZmVyfSBmcm9tICcuLi90ZW5zb3InO1xuaW1wb3J0IHtjb252ZXJ0VG9UZW5zb3J9IGZyb20gJy4uL3RlbnNvcl91dGlsX2Vudic7XG5pbXBvcnQge1RlbnNvckxpa2V9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCAqIGFzIHV0aWwgZnJvbSAnLi4vdXRpbCc7XG5cbi8qKlxuICogQ29tcHV0ZXMgdGhlIGRpZmZlcmVuY2UgYmV0d2VlbiB0d28gbGlzdHMgb2YgbnVtYmVycy5cbiAqXG4gKiBHaXZlbiBhIFRlbnNvciBgeGAgYW5kIGEgVGVuc29yIGB5YCwgdGhpcyBvcGVyYXRpb24gcmV0dXJucyBhIFRlbnNvciBgb3V0YFxuICogdGhhdCByZXByZXNlbnRzIGFsbCB2YWx1ZXMgdGhhdCBhcmUgaW4gYHhgIGJ1dCBub3QgaW4gYHlgLiBUaGUgcmV0dXJuZWRcbiAqIFRlbnNvciBgb3V0YCBpcyBzb3J0ZWQgaW4gdGhlIHNhbWUgb3JkZXIgdGhhdCB0aGUgbnVtYmVycyBhcHBlYXIgaW4gYHhgXG4gKiAoZHVwbGljYXRlcyBhcmUgcHJlc2VydmVkKS4gVGhpcyBvcGVyYXRpb24gYWxzbyByZXR1cm5zIGEgVGVuc29yIGluZGljZXMgdGhhdFxuICogcmVwcmVzZW50cyB0aGUgcG9zaXRpb24gb2YgZWFjaCBvdXQgZWxlbWVudCBpbiBgeGAuIEluIG90aGVyIHdvcmRzOlxuICpcbiAqIGBvdXRbaV0gPSB4W2lkeFtpXV0gZm9yIGkgaW4gWzAsIDEsIC4uLiwgb3V0Lmxlbmd0aCAtIDFdYFxuICpcbiAqIGBgYGpzXG4gKiBjb25zdCB4ID0gWzEsIDIsIDMsIDQsIDUsIDZdO1xuICogY29uc3QgeSA9IFsxLCAzLCA1XTtcbiAqXG4gKiBjb25zdCBbb3V0LCBpbmRpY2VzXSA9IGF3YWl0IHRmLnNldGRpZmYxZEFzeW5jKHgsIHkpO1xuICogb3V0LnByaW50KCk7IC8vIFsyLCA0LCA2XVxuICogaW5kaWNlcy5wcmludCgpOyAvLyBbMSwgMywgNV1cbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB4IDEtRCBUZW5zb3IuIFZhbHVlcyB0byBrZWVwLlxuICogQHBhcmFtIHkgMS1EIFRlbnNvci4gTXVzdCBoYXZlIHRoZSBzYW1lIHR5cGUgYXMgeC4gVmFsdWVzIHRvIGV4Y2x1ZGUgaW4gdGhlXG4gKiAgICAgb3V0cHV0LlxuICogQHJldHVybnMgUHJvbWlzZSBvZiBUZW5zb3IgdHVwbGUgW291dCwgaW5kaWNlc10uXG4gKiAgb3V0OiBUZW5zb3Igd2l0aCB0aGUgc2FtZSB0eXBlIGFzIHguXG4gKiAgaW5kaWNlczogQSBUZW5zb3Igb2YgdHlwZSBpbnQzMi5cbiAqXG4gKiBAZG9jIHtoZWFkaW5nOiAnVGVuc29ycycsIHN1YmhlYWRpbmc6ICdUcmFuc2Zvcm1hdGlvbnMnfVxuICovXG5hc3luYyBmdW5jdGlvbiBzZXRkaWZmMWRBc3luY18oXG4gICAgeDogVGVuc29yfFRlbnNvckxpa2UsIHk6IFRlbnNvcnxUZW5zb3JMaWtlKTogUHJvbWlzZTxbVGVuc29yLCBUZW5zb3JdPiB7XG4gIGNvbnN0ICR4ID0gY29udmVydFRvVGVuc29yKHgsICd4JywgJ3NldGRpZmYxZCcpO1xuICBjb25zdCAkeSA9IGNvbnZlcnRUb1RlbnNvcih5LCAneScsICdzZXRkaWZmMWQnKTtcblxuICB1dGlsLmFzc2VydChcbiAgICAgICR4LmR0eXBlID09PSAkeS5kdHlwZSxcbiAgICAgICgpID0+IGB4IGFuZCB5IHNob3VsZCBoYXZlIHRoZSBzYW1lIGR0eXBlLCBidXQgZ290IHggKCR7XG4gICAgICAgICAgJHguZHR5cGV9KSBhbmQgeSAoJHskeS5kdHlwZX0pLmApO1xuXG4gIHV0aWwuYXNzZXJ0KFxuICAgICAgJHgucmFuayA9PT0gMSwgKCkgPT4gYHggc2hvdWxkIGJlIDFEIHRlbnNvciwgYnV0IGdvdCB4ICgkeyR4LnNoYXBlfSkuYCk7XG5cbiAgdXRpbC5hc3NlcnQoXG4gICAgICAkeS5yYW5rID09PSAxLCAoKSA9PiBgeSBzaG91bGQgYmUgMUQgdGVuc29yLCBidXQgZ290IHkgKCR7JHkuc2hhcGV9KS5gKTtcblxuICBjb25zdCB4VmFscyA9IGF3YWl0ICR4LmRhdGEoKTtcbiAgY29uc3QgeVZhbHMgPSBhd2FpdCAkeS5kYXRhKCk7XG4gIGNvbnN0IHlTZXQgPSBuZXcgU2V0KHlWYWxzKTtcblxuICBsZXQgb3V0cHV0U2l6ZSA9IDA7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgeFZhbHMubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoIXlTZXQuaGFzKHhWYWxzW2ldKSkge1xuICAgICAgb3V0cHV0U2l6ZSsrO1xuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGJ1ZmZlciA9IG5ldyBUZW5zb3JCdWZmZXIoW291dHB1dFNpemVdLCAkeC5kdHlwZSk7XG4gIGNvbnN0IGluZGljZXMgPSBuZXcgVGVuc29yQnVmZmVyKFtvdXRwdXRTaXplXSwgJ2ludDMyJyk7XG4gIGZvciAobGV0IGkgPSAwLCBwID0gMDsgaSA8IHhWYWxzLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKCF5U2V0Lmhhcyh4VmFsc1tpXSkpIHtcbiAgICAgIGJ1ZmZlci52YWx1ZXNbcF0gPSB4VmFsc1tpXTtcbiAgICAgIGluZGljZXMudmFsdWVzW3BdID0gaTtcbiAgICAgIHArKztcbiAgICB9XG4gIH1cbiAgcmV0dXJuIFtidWZmZXIudG9UZW5zb3IoKSwgaW5kaWNlcy50b1RlbnNvcigpXTtcbn1cbmV4cG9ydCBjb25zdCBzZXRkaWZmMWRBc3luYyA9IHNldGRpZmYxZEFzeW5jXztcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE4IEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuaW1wb3J0IHtFTkdJTkV9IGZyb20gJy4uL2VuZ2luZSc7XG5pbXBvcnQge1NpZ24sIFNpZ25JbnB1dHN9IGZyb20gJy4uL2tlcm5lbF9uYW1lcyc7XG5pbXBvcnQge1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yJztcbmltcG9ydCB7TmFtZWRUZW5zb3JNYXB9IGZyb20gJy4uL3RlbnNvcl90eXBlcyc7XG5pbXBvcnQge2NvbnZlcnRUb1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yX3V0aWxfZW52JztcbmltcG9ydCB7VGVuc29yTGlrZX0gZnJvbSAnLi4vdHlwZXMnO1xuXG5pbXBvcnQge29wfSBmcm9tICcuL29wZXJhdGlvbic7XG5cbi8qKlxuICogUmV0dXJucyBhbiBlbGVtZW50LXdpc2UgaW5kaWNhdGlvbiBvZiB0aGUgc2lnbiBvZiBhIG51bWJlci5cbiAqXG4gKiBgYGBqc1xuICogY29uc3QgeCA9IHRmLnRlbnNvcjFkKFsuNiwgMS4xLCAtMy4zLCBOYU4sIDBdKTtcbiAqXG4gKiB4LnNpZ24oKS5wcmludCgpOyAgLy8gb3IgdGYuc2lnbih4KVxuICogYGBgXG4gKiBAcGFyYW0geCBUaGUgaW5wdXQgVGVuc29yLlxuICpcbiAqIEBkb2Mge2hlYWRpbmc6ICdPcGVyYXRpb25zJywgc3ViaGVhZGluZzogJ0Jhc2ljIG1hdGgnfVxuICovXG5mdW5jdGlvbiBzaWduXzxUIGV4dGVuZHMgVGVuc29yPih4OiBUfFRlbnNvckxpa2UpOiBUIHtcbiAgY29uc3QgJHggPSBjb252ZXJ0VG9UZW5zb3IoeCwgJ3gnLCAnc2lnbicpO1xuICBjb25zdCBpbnB1dHM6IFNpZ25JbnB1dHMgPSB7eDogJHh9O1xuICByZXR1cm4gRU5HSU5FLnJ1bktlcm5lbEZ1bmMoXG4gICAgICBiYWNrZW5kID0+IGJhY2tlbmQuc2lnbigkeCksIGlucHV0cyBhcyB7fSBhcyBOYW1lZFRlbnNvck1hcCxcbiAgICAgIG51bGwgLyogZ3JhZCAqLywgU2lnbik7XG59XG5leHBvcnQgY29uc3Qgc2lnbiA9IG9wKHtzaWduX30pO1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTggR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG5pbXBvcnQge0VOR0lORX0gZnJvbSAnLi4vZW5naW5lJztcbmltcG9ydCB7U2luLCBTaW5JbnB1dHN9IGZyb20gJy4uL2tlcm5lbF9uYW1lcyc7XG5pbXBvcnQge1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yJztcbmltcG9ydCB7TmFtZWRUZW5zb3JNYXB9IGZyb20gJy4uL3RlbnNvcl90eXBlcyc7XG5pbXBvcnQge2NvbnZlcnRUb1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yX3V0aWxfZW52JztcbmltcG9ydCB7VGVuc29yTGlrZX0gZnJvbSAnLi4vdHlwZXMnO1xuXG5pbXBvcnQge29wfSBmcm9tICcuL29wZXJhdGlvbic7XG5cbi8qKlxuICogQ29tcHV0ZXMgc2luIG9mIHRoZSBpbnB1dCBUZW5zb3IgZWxlbWVudC13aXNlOiBgc2luKHgpYFxuICpcbiAqIGBgYGpzXG4gKiBjb25zdCB4ID0gdGYudGVuc29yMWQoWzAsIE1hdGguUEkgLyAyLCBNYXRoLlBJICogMyAvIDRdKTtcbiAqXG4gKiB4LnNpbigpLnByaW50KCk7ICAvLyBvciB0Zi5zaW4oeClcbiAqIGBgYFxuICogQHBhcmFtIHggVGhlIGlucHV0IHRlbnNvci5cbiAqXG4gKiBAZG9jIHtoZWFkaW5nOiAnT3BlcmF0aW9ucycsIHN1YmhlYWRpbmc6ICdCYXNpYyBtYXRoJ31cbiAqL1xuZnVuY3Rpb24gc2luXzxUIGV4dGVuZHMgVGVuc29yPih4OiBUfFRlbnNvckxpa2UpOiBUIHtcbiAgY29uc3QgJHggPSBjb252ZXJ0VG9UZW5zb3IoeCwgJ3gnLCAnc2luJyk7XG5cbiAgY29uc3QgaW5wdXRzOiBTaW5JbnB1dHMgPSB7eDogJHh9O1xuXG4gIHJldHVybiBFTkdJTkUucnVuS2VybmVsRnVuYygoYmFja2VuZCwgc2F2ZSkgPT4ge1xuICAgIGNvbnN0IHJlcyA9IGJhY2tlbmQuc2luKCR4KTtcbiAgICBzYXZlKFskeF0pO1xuICAgIHJldHVybiByZXM7XG4gIH0sIGlucHV0cyBhcyB7fSBhcyBOYW1lZFRlbnNvck1hcCwgbnVsbCAvKiBncmFkICovLCBTaW4pO1xufVxuZXhwb3J0IGNvbnN0IHNpbiA9IG9wKHtzaW5ffSk7XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbmltcG9ydCB7RU5HSU5FfSBmcm9tICcuLi9lbmdpbmUnO1xuaW1wb3J0IHtTaW5oLCBTaW5oSW5wdXRzfSBmcm9tICcuLi9rZXJuZWxfbmFtZXMnO1xuaW1wb3J0IHtUZW5zb3J9IGZyb20gJy4uL3RlbnNvcic7XG5pbXBvcnQge05hbWVkVGVuc29yTWFwfSBmcm9tICcuLi90ZW5zb3JfdHlwZXMnO1xuaW1wb3J0IHtjb252ZXJ0VG9UZW5zb3J9IGZyb20gJy4uL3RlbnNvcl91dGlsX2Vudic7XG5pbXBvcnQge1RlbnNvckxpa2V9IGZyb20gJy4uL3R5cGVzJztcblxuaW1wb3J0IHtvcH0gZnJvbSAnLi9vcGVyYXRpb24nO1xuXG4vKipcbiAqIENvbXB1dGVzIGh5cGVyYm9saWMgc2luIG9mIHRoZSBpbnB1dCBgdGYuVGVuc29yYCBlbGVtZW50LXdpc2U6IGBzaW5oKHgpYFxuICpcbiAqIGBgYGpzXG4gKiBjb25zdCB4ID0gdGYudGVuc29yMWQoWzAsIDEsIC0xLCAuN10pO1xuICpcbiAqIHguc2luaCgpLnByaW50KCk7ICAvLyBvciB0Zi5zaW5oKHgpXG4gKiBgYGBcbiAqIEBwYXJhbSB4IFRoZSBpbnB1dCB0ZW5zb3IuXG4gKlxuICogQGRvYyB7aGVhZGluZzogJ09wZXJhdGlvbnMnLCBzdWJoZWFkaW5nOiAnQmFzaWMgbWF0aCd9XG4gKi9cbmZ1bmN0aW9uIHNpbmhfPFQgZXh0ZW5kcyBUZW5zb3I+KHg6IFR8VGVuc29yTGlrZSk6IFQge1xuICBjb25zdCAkeCA9IGNvbnZlcnRUb1RlbnNvcih4LCAneCcsICdzaW5oJyk7XG4gIGNvbnN0IGlucHV0czogU2luaElucHV0cyA9IHt4OiAkeH07XG5cbiAgcmV0dXJuIEVOR0lORS5ydW5LZXJuZWxGdW5jKChiYWNrZW5kLCBzYXZlKSA9PiB7XG4gICAgY29uc3QgcmVzID0gYmFja2VuZC5zaW5oKCR4KTtcbiAgICBzYXZlKFskeF0pO1xuICAgIHJldHVybiByZXM7XG4gIH0sIGlucHV0cyBhcyB7fSBhcyBOYW1lZFRlbnNvck1hcCwgbnVsbCAvKiBncmFkICovLCBTaW5oKTtcbn1cbmV4cG9ydCBjb25zdCBzaW5oID0gb3Aoe3NpbmhffSk7XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbmltcG9ydCB7VGVuc29yMUR9IGZyb20gJy4uL3RlbnNvcic7XG5pbXBvcnQge2NvbnZlcnRUb1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yX3V0aWxfZW52JztcbmltcG9ydCB7VGVuc29yTGlrZX0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0ICogYXMgdXRpbCBmcm9tICcuLi91dGlsJztcblxuaW1wb3J0IHtvcH0gZnJvbSAnLi9vcGVyYXRpb24nO1xuaW1wb3J0IHtzbGljZX0gZnJvbSAnLi9zbGljZSc7XG5cbi8qKlxuICogRXh0cmFjdHMgYSAxRCBzbGljZSBmcm9tIDFEIGFycmF5IHN0YXJ0aW5nIGF0IGNvb3JkaW5hdGVzIGBiZWdpbmAgYW5kIGlzXG4gKiBvZiBsZW5ndGggYHNpemVgLiBTZWUgYHNsaWNlYCBmb3IgZGV0YWlscy5cbiAqL1xuZnVuY3Rpb24gc2xpY2UxZF8oXG4gICAgeDogVGVuc29yMUR8VGVuc29yTGlrZSwgYmVnaW46IG51bWJlciwgc2l6ZTogbnVtYmVyKTogVGVuc29yMUQge1xuICBjb25zdCAkeCA9IGNvbnZlcnRUb1RlbnNvcih4LCAneCcsICdzbGljZTFkJyk7XG4gIHV0aWwuYXNzZXJ0KFxuICAgICAgJHgucmFuayA9PT0gMSxcbiAgICAgICgpID0+XG4gICAgICAgICAgYHNsaWNlMWQgZXhwZWN0cyBhIHJhbmstMSB0ZW5zb3IsIGJ1dCBnb3QgYSByYW5rLSR7JHgucmFua30gdGVuc29yYCk7XG4gIHJldHVybiBzbGljZSgkeCwgW2JlZ2luXSwgW3NpemVdKTtcbn1cbmV4cG9ydCBjb25zdCBzbGljZTFkID0gb3Aoe3NsaWNlMWRffSk7XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbmltcG9ydCB7VGVuc29yMkR9IGZyb20gJy4uL3RlbnNvcic7XG5pbXBvcnQge2NvbnZlcnRUb1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yX3V0aWxfZW52JztcbmltcG9ydCB7VGVuc29yTGlrZX0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0ICogYXMgdXRpbCBmcm9tICcuLi91dGlsJztcblxuaW1wb3J0IHtvcH0gZnJvbSAnLi9vcGVyYXRpb24nO1xuaW1wb3J0IHtzbGljZX0gZnJvbSAnLi9zbGljZSc7XG5cbi8qKlxuICogRXh0cmFjdHMgYSAyRCBzbGljZSBmcm9tIGEgMkQgYXJyYXkgc3RhcnRpbmcgYXQgY29vcmRpbmF0ZXMgYGJlZ2luYCBhbmRcbiAqIGlzIG9mIHNpemUgYHNpemVgLiBTZWUgYHNsaWNlYCBmb3IgZGV0YWlscy5cbiAqL1xuZnVuY3Rpb24gc2xpY2UyZF8oXG4gICAgeDogVGVuc29yMkR8VGVuc29yTGlrZSwgYmVnaW46IFtudW1iZXIsIG51bWJlcl0sXG4gICAgc2l6ZTogW251bWJlciwgbnVtYmVyXSk6IFRlbnNvcjJEIHtcbiAgY29uc3QgJHggPSBjb252ZXJ0VG9UZW5zb3IoeCwgJ3gnLCAnc2xpY2UyZCcpO1xuICB1dGlsLmFzc2VydChcbiAgICAgICR4LnJhbmsgPT09IDIsXG4gICAgICAoKSA9PlxuICAgICAgICAgIGBzbGljZTJkIGV4cGVjdHMgYSByYW5rLTIgdGVuc29yLCBidXQgZ290IGEgcmFuay0keyR4LnJhbmt9IHRlbnNvcmApO1xuICByZXR1cm4gc2xpY2UoJHgsIGJlZ2luLCBzaXplKTtcbn1cbmV4cG9ydCBjb25zdCBzbGljZTJkID0gb3Aoe3NsaWNlMmRffSk7XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbmltcG9ydCB7VGVuc29yM0R9IGZyb20gJy4uL3RlbnNvcic7XG5pbXBvcnQge2NvbnZlcnRUb1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yX3V0aWxfZW52JztcbmltcG9ydCB7VGVuc29yTGlrZX0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0ICogYXMgdXRpbCBmcm9tICcuLi91dGlsJztcblxuaW1wb3J0IHtvcH0gZnJvbSAnLi9vcGVyYXRpb24nO1xuaW1wb3J0IHtzbGljZX0gZnJvbSAnLi9zbGljZSc7XG5cbi8qKlxuICogRXh0cmFjdHMgYSAzRCBzbGljZSBmcm9tIGEgM0QgYXJyYXkgc3RhcnRpbmcgYXQgY29vcmRpbmF0ZXMgYGJlZ2luYCBhbmRcbiAqIGlzIG9mIHNpemUgYHNpemVgLiBTZWUgYHNsaWNlYCBmb3IgZGV0YWlscy5cbiAqL1xuZnVuY3Rpb24gc2xpY2UzZF8oXG4gICAgeDogVGVuc29yM0R8VGVuc29yTGlrZSwgYmVnaW46IFtudW1iZXIsIG51bWJlciwgbnVtYmVyXSxcbiAgICBzaXplOiBbbnVtYmVyLCBudW1iZXIsIG51bWJlcl0pOiBUZW5zb3IzRCB7XG4gIGNvbnN0ICR4ID0gY29udmVydFRvVGVuc29yKHgsICd4JywgJ3NsaWNlM2QnKTtcbiAgdXRpbC5hc3NlcnQoXG4gICAgICAkeC5yYW5rID09PSAzLFxuICAgICAgKCkgPT5cbiAgICAgICAgICBgc2xpY2UzZCBleHBlY3RzIGEgcmFuay0zIHRlbnNvciwgYnV0IGdvdCBhIHJhbmstJHskeC5yYW5rfSB0ZW5zb3JgKTtcbiAgcmV0dXJuIHNsaWNlKCR4LCBiZWdpbiwgc2l6ZSk7XG59XG5leHBvcnQgY29uc3Qgc2xpY2UzZCA9IG9wKHtzbGljZTNkX30pO1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTggR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG5pbXBvcnQge1RlbnNvcjREfSBmcm9tICcuLi90ZW5zb3InO1xuaW1wb3J0IHtjb252ZXJ0VG9UZW5zb3J9IGZyb20gJy4uL3RlbnNvcl91dGlsX2Vudic7XG5pbXBvcnQge1RlbnNvckxpa2V9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCAqIGFzIHV0aWwgZnJvbSAnLi4vdXRpbCc7XG5cbmltcG9ydCB7b3B9IGZyb20gJy4vb3BlcmF0aW9uJztcbmltcG9ydCB7c2xpY2V9IGZyb20gJy4vc2xpY2UnO1xuXG4vKipcbiAqIEV4dHJhY3RzIGEgNEQgc2xpY2UgZnJvbSBhIDREIGFycmF5IHN0YXJ0aW5nIGF0IGNvb3JkaW5hdGVzIGBiZWdpbmAgYW5kXG4gKiBpcyBvZiBzaXplIGBzaXplYC4gU2VlIGBzbGljZWAgZm9yIGRldGFpbHMuXG4gKi9cbmZ1bmN0aW9uIHNsaWNlNGRfKFxuICAgIHg6IFRlbnNvcjREfFRlbnNvckxpa2UsIGJlZ2luOiBbbnVtYmVyLCBudW1iZXIsIG51bWJlciwgbnVtYmVyXSxcbiAgICBzaXplOiBbbnVtYmVyLCBudW1iZXIsIG51bWJlciwgbnVtYmVyXSk6IFRlbnNvcjREIHtcbiAgY29uc3QgJHggPSBjb252ZXJ0VG9UZW5zb3IoeCwgJ3gnLCAnc2xpY2U0ZCcpO1xuICB1dGlsLmFzc2VydChcbiAgICAgICR4LnJhbmsgPT09IDQsXG4gICAgICAoKSA9PlxuICAgICAgICAgIGBzbGljZTRkIGV4cGVjdHMgYSByYW5rLTQgdGVuc29yLCBidXQgZ290IGEgcmFuay0keyR4LnJhbmt9IHRlbnNvcmApO1xuICByZXR1cm4gc2xpY2UoJHgsIGJlZ2luLCBzaXplKTtcbn1cbmV4cG9ydCBjb25zdCBzbGljZTRkID0gb3Aoe3NsaWNlNGRffSk7XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbmltcG9ydCB7RU5HSU5FfSBmcm9tICcuLi9lbmdpbmUnO1xuaW1wb3J0IHtTb2Z0bWF4LCBTb2Z0bWF4QXR0cnMsIFNvZnRtYXhJbnB1dHN9IGZyb20gJy4uL2tlcm5lbF9uYW1lcyc7XG5pbXBvcnQge05hbWVkQXR0ck1hcH0gZnJvbSAnLi4va2VybmVsX3JlZ2lzdHJ5JztcbmltcG9ydCB7VGVuc29yfSBmcm9tICcuLi90ZW5zb3InO1xuaW1wb3J0IHtOYW1lZFRlbnNvck1hcH0gZnJvbSAnLi4vdGVuc29yX3R5cGVzJztcbmltcG9ydCB7Y29udmVydFRvVGVuc29yfSBmcm9tICcuLi90ZW5zb3JfdXRpbF9lbnYnO1xuaW1wb3J0IHtUZW5zb3JMaWtlfSBmcm9tICcuLi90eXBlcyc7XG5cbmltcG9ydCB7b3B9IGZyb20gJy4vb3BlcmF0aW9uJztcblxuLyoqXG4gKiBDb21wdXRlcyB0aGUgc29mdG1heCBub3JtYWxpemVkIHZlY3RvciBnaXZlbiB0aGUgbG9naXRzLlxuICpcbiAqIGBgYGpzXG4gKiBjb25zdCBhID0gdGYudGVuc29yMWQoWzEsIDIsIDNdKTtcbiAqXG4gKiBhLnNvZnRtYXgoKS5wcmludCgpOyAgLy8gb3IgdGYuc29mdG1heChhKVxuICogYGBgXG4gKlxuICogYGBganNcbiAqIGNvbnN0IGEgPSB0Zi50ZW5zb3IyZChbMiwgNCwgNiwgMSwgMiwgM10sIFsyLCAzXSk7XG4gKlxuICogYS5zb2Z0bWF4KCkucHJpbnQoKTsgIC8vIG9yIHRmLnNvZnRtYXgoYSlcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBsb2dpdHMgVGhlIGxvZ2l0cyBhcnJheS5cbiAqIEBwYXJhbSBkaW0gVGhlIGRpbWVuc2lvbiBzb2Z0bWF4IHdvdWxkIGJlIHBlcmZvcm1lZCBvbi4gRGVmYXVsdHMgdG8gYC0xYFxuICogICAgIHdoaWNoIGluZGljYXRlcyB0aGUgbGFzdCBkaW1lbnNpb24uXG4gKlxuICogQGRvYyB7aGVhZGluZzogJ09wZXJhdGlvbnMnLCBzdWJoZWFkaW5nOiAnTm9ybWFsaXphdGlvbid9XG4gKi9cbmZ1bmN0aW9uIHNvZnRtYXhfPFQgZXh0ZW5kcyBUZW5zb3I+KGxvZ2l0czogVHxUZW5zb3JMaWtlLCBkaW0gPSAtMSk6IFQge1xuICBjb25zdCAkbG9naXRzID0gY29udmVydFRvVGVuc29yKGxvZ2l0cywgJ2xvZ2l0cycsICdzb2Z0bWF4JywgJ2Zsb2F0MzInKTtcblxuICBpZiAoZGltID09PSAtMSkge1xuICAgIGRpbSA9ICRsb2dpdHMucmFuayAtIDE7XG4gIH1cbiAgaWYgKGRpbSAhPT0gJGxvZ2l0cy5yYW5rIC0gMSkge1xuICAgIHRocm93IEVycm9yKFxuICAgICAgICAnU29mdG1heCBhbG9uZyBhIG5vbi1sYXN0IGRpbWVuc2lvbiBpcyBub3QgeWV0IHN1cHBvcnRlZC4gJyArXG4gICAgICAgIGBMb2dpdHMgd2FzIHJhbmsgJHskbG9naXRzLnJhbmt9IGFuZCBkaW0gd2FzICR7ZGltfWApO1xuICB9XG5cbiAgY29uc3QgaW5wdXRzOiBTb2Z0bWF4SW5wdXRzID0ge2xvZ2l0czogJGxvZ2l0c307XG4gIGNvbnN0IGF0dHJzOiBTb2Z0bWF4QXR0cnMgPSB7ZGltfTtcblxuICByZXR1cm4gRU5HSU5FLnJ1bktlcm5lbEZ1bmMoXG4gICAgICAoYmFja2VuZCwgc2F2ZSkgPT4ge1xuICAgICAgICBjb25zdCB5ID0gYmFja2VuZC5zb2Z0bWF4KCRsb2dpdHMsIGRpbSk7XG4gICAgICAgIHNhdmUoW3ldKTtcbiAgICAgICAgcmV0dXJuIHk7XG4gICAgICB9LFxuICAgICAgaW5wdXRzIGFzIHt9IGFzIE5hbWVkVGVuc29yTWFwLCBudWxsIC8qIGdyYWQgKi8sIFNvZnRtYXgsXG4gICAgICBhdHRycyBhcyB7fSBhcyBOYW1lZEF0dHJNYXApO1xufVxuXG5leHBvcnQgY29uc3Qgc29mdG1heCA9IG9wKHtzb2Z0bWF4X30pO1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG5pbXBvcnQge0VOR0lORX0gZnJvbSAnLi4vLi4vZW5naW5lJztcbmltcG9ydCB7RkZULCBGRlRJbnB1dHN9IGZyb20gJy4uLy4uL2tlcm5lbF9uYW1lcyc7XG5pbXBvcnQge1RlbnNvcn0gZnJvbSAnLi4vLi4vdGVuc29yJztcbmltcG9ydCB7TmFtZWRUZW5zb3JNYXB9IGZyb20gJy4uLy4uL3RlbnNvcl90eXBlcyc7XG5pbXBvcnQge2Fzc2VydH0gZnJvbSAnLi4vLi4vdXRpbCc7XG5pbXBvcnQge29wfSBmcm9tICcuLi9vcGVyYXRpb24nO1xuXG4vKipcbiAqIEZhc3QgRm91cmllciB0cmFuc2Zvcm0uXG4gKlxuICogQ29tcHV0ZXMgdGhlIDEtZGltZW5zaW9uYWwgZGlzY3JldGUgRm91cmllciB0cmFuc2Zvcm0gb3ZlciB0aGUgaW5uZXItbW9zdFxuICogZGltZW5zaW9uIG9mIGlucHV0LlxuICpcbiAqIGBgYGpzXG4gKiBjb25zdCByZWFsID0gdGYudGVuc29yMWQoWzEsIDIsIDNdKTtcbiAqIGNvbnN0IGltYWcgPSB0Zi50ZW5zb3IxZChbMSwgMiwgM10pO1xuICogY29uc3QgeCA9IHRmLmNvbXBsZXgocmVhbCwgaW1hZyk7XG4gKlxuICogeC5mZnQoKS5wcmludCgpOyAgLy8gdGYuc3BlY3RyYWwuZmZ0KHgpLnByaW50KCk7XG4gKiBgYGBcbiAqIEBwYXJhbSBpbnB1dCBUaGUgY29tcGxleCBpbnB1dCB0byBjb21wdXRlIGFuIGZmdCBvdmVyLlxuICpcbiAqIEBkb2Mge2hlYWRpbmc6ICdPcGVyYXRpb25zJywgc3ViaGVhZGluZzogJ1NwZWN0cmFsJywgbmFtZXNwYWNlOiAnc3BlY3RyYWwnfVxuICovXG5mdW5jdGlvbiBmZnRfKGlucHV0OiBUZW5zb3IpOiBUZW5zb3Ige1xuICBhc3NlcnQoXG4gICAgICBpbnB1dC5kdHlwZSA9PT0gJ2NvbXBsZXg2NCcsXG4gICAgICAoKSA9PiBgVGhlIGR0eXBlIGZvciB0Zi5zcGVjdHJhbC5mZnQoKSBtdXN0IGJlIGNvbXBsZXg2NCBgICtcbiAgICAgICAgICBgYnV0IGdvdCAke2lucHV0LmR0eXBlfS5gKTtcblxuICBjb25zdCBpbnB1dHM6IEZGVElucHV0cyA9IHtpbnB1dH07XG5cbiAgcmV0dXJuIEVOR0lORS5ydW5LZXJuZWxGdW5jKGJhY2tlbmQgPT4ge1xuICAgIC8vIENvbGxhcHNlIGFsbCBvdXRlciBkaW1lbnNpb25zIHRvIGEgc2luZ2xlIGJhdGNoIGRpbWVuc2lvbi5cbiAgICBjb25zdCBpbm5lckRpbWVuc2lvblNpemUgPSBpbnB1dC5zaGFwZVtpbnB1dC5zaGFwZS5sZW5ndGggLSAxXTtcbiAgICBjb25zdCBiYXRjaCA9IGlucHV0LnNpemUgLyBpbm5lckRpbWVuc2lvblNpemU7XG5cbiAgICBjb25zdCBpbnB1dDJEID0gaW5wdXQuYXMyRChiYXRjaCwgaW5uZXJEaW1lbnNpb25TaXplKTtcbiAgICBjb25zdCByZXN1bHQgPSBiYWNrZW5kLmZmdChpbnB1dDJEKTtcbiAgICByZXR1cm4gcmVzdWx0LnJlc2hhcGUoaW5wdXQuc2hhcGUpO1xuICB9LCBpbnB1dHMgYXMge30gYXMgTmFtZWRUZW5zb3JNYXAsIG51bGwgLyogZ3JhZGllbnQgKi8sIEZGVCk7XG59XG5cbmV4cG9ydCBjb25zdCBmZnQgPSBvcCh7ZmZ0X30pO1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG5pbXBvcnQge0VOR0lORX0gZnJvbSAnLi4vLi4vZW5naW5lJztcbmltcG9ydCB7SUZGVCwgSUZGVElucHV0c30gZnJvbSAnLi4vLi4va2VybmVsX25hbWVzJztcbmltcG9ydCB7VGVuc29yLCBUZW5zb3IyRH0gZnJvbSAnLi4vLi4vdGVuc29yJztcbmltcG9ydCB7TmFtZWRUZW5zb3JNYXB9IGZyb20gJy4uLy4uL3RlbnNvcl90eXBlcyc7XG5pbXBvcnQge2Fzc2VydH0gZnJvbSAnLi4vLi4vdXRpbCc7XG5pbXBvcnQge29wfSBmcm9tICcuLi9vcGVyYXRpb24nO1xuaW1wb3J0IHtyZXNoYXBlfSBmcm9tICcuLi9yZXNoYXBlJztcblxuLyoqXG4gKiBJbnZlcnNlIGZhc3QgRm91cmllciB0cmFuc2Zvcm0uXG4gKlxuICogQ29tcHV0ZXMgdGhlIGludmVyc2UgMS1kaW1lbnNpb25hbCBkaXNjcmV0ZSBGb3VyaWVyIHRyYW5zZm9ybSBvdmVyIHRoZVxuICogaW5uZXItbW9zdCBkaW1lbnNpb24gb2YgaW5wdXQuXG4gKlxuICogYGBganNcbiAqIGNvbnN0IHJlYWwgPSB0Zi50ZW5zb3IxZChbMSwgMiwgM10pO1xuICogY29uc3QgaW1hZyA9IHRmLnRlbnNvcjFkKFsxLCAyLCAzXSk7XG4gKiBjb25zdCB4ID0gdGYuY29tcGxleChyZWFsLCBpbWFnKTtcbiAqXG4gKiB4LmlmZnQoKS5wcmludCgpOyAgLy8gdGYuc3BlY3RyYWwuaWZmdCh4KS5wcmludCgpO1xuICogYGBgXG4gKiBAcGFyYW0gaW5wdXQgVGhlIGNvbXBsZXggaW5wdXQgdG8gY29tcHV0ZSBhbiBpZmZ0IG92ZXIuXG4gKlxuICogQGRvYyB7aGVhZGluZzogJ09wZXJhdGlvbnMnLCBzdWJoZWFkaW5nOiAnU3BlY3RyYWwnLCBuYW1lc3BhY2U6ICdzcGVjdHJhbCd9XG4gKi9cbmZ1bmN0aW9uIGlmZnRfKGlucHV0OiBUZW5zb3IpOiBUZW5zb3Ige1xuICBhc3NlcnQoXG4gICAgICBpbnB1dC5kdHlwZSA9PT0gJ2NvbXBsZXg2NCcsXG4gICAgICAoKSA9PiBgVGhlIGR0eXBlIGZvciB0Zi5zcGVjdHJhbC5pZmZ0KCkgbXVzdCBiZSBjb21wbGV4NjQgYCArXG4gICAgICAgICAgYGJ1dCBnb3QgJHtpbnB1dC5kdHlwZX0uYCk7XG5cbiAgY29uc3QgaW5wdXRzOiBJRkZUSW5wdXRzID0ge2lucHV0fTtcblxuICByZXR1cm4gRU5HSU5FLnJ1bktlcm5lbEZ1bmMoYmFja2VuZCA9PiB7XG4gICAgLy8gQ29sbGFwc2UgYWxsIG91dGVyIGRpbWVuc2lvbnMgdG8gYSBzaW5nbGUgYmF0Y2ggZGltZW5zaW9uLlxuICAgIGNvbnN0IGlubmVyRGltZW5zaW9uU2l6ZSA9IGlucHV0LnNoYXBlW2lucHV0LnNoYXBlLmxlbmd0aCAtIDFdO1xuICAgIGNvbnN0IGJhdGNoID0gaW5wdXQuc2l6ZSAvIGlubmVyRGltZW5zaW9uU2l6ZTtcblxuICAgIGNvbnN0IGlucHV0MkQ6IFRlbnNvcjJEID0gcmVzaGFwZShpbnB1dCwgW2JhdGNoLCBpbm5lckRpbWVuc2lvblNpemVdKTtcbiAgICBjb25zdCByZXN1bHQgPSBiYWNrZW5kLmlmZnQoaW5wdXQyRCk7XG4gICAgcmV0dXJuIHJlc2hhcGUocmVzdWx0LCBpbnB1dC5zaGFwZSk7XG4gIH0sIGlucHV0cyBhcyB7fSBhcyBOYW1lZFRlbnNvck1hcCwgbnVsbCAvKiBncmFkaWVudCAqLywgSUZGVCk7XG59XG5cbmV4cG9ydCBjb25zdCBpZmZ0ID0gb3Aoe2lmZnRffSk7XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbmltcG9ydCB7VGVuc29yLCBUZW5zb3IyRH0gZnJvbSAnLi4vLi4vdGVuc29yJztcbmltcG9ydCB7Y29tcGxleH0gZnJvbSAnLi4vY29tcGxleCc7XG5pbXBvcnQge2NvbmNhdH0gZnJvbSAnLi4vY29uY2F0JztcbmltcG9ydCB7aW1hZ30gZnJvbSAnLi4vaW1hZyc7XG5pbXBvcnQge211bH0gZnJvbSAnLi4vbXVsJztcbmltcG9ydCB7b3B9IGZyb20gJy4uL29wZXJhdGlvbic7XG5pbXBvcnQge3JlYWx9IGZyb20gJy4uL3JlYWwnO1xuaW1wb3J0IHtyZXNoYXBlfSBmcm9tICcuLi9yZXNoYXBlJztcbmltcG9ydCB7cmV2ZXJzZX0gZnJvbSAnLi4vcmV2ZXJzZSc7XG5pbXBvcnQge3NjYWxhcn0gZnJvbSAnLi4vc2NhbGFyJztcbmltcG9ydCB7c2xpY2V9IGZyb20gJy4uL3NsaWNlJztcblxuaW1wb3J0IHtpZmZ0fSBmcm9tICcuL2lmZnQnO1xuXG4vKipcbiAqIEludmVyc2VkIHJlYWwgdmFsdWUgaW5wdXQgZmFzdCBGb3VyaWVyIHRyYW5zZm9ybS5cbiAqXG4gKiBDb21wdXRlcyB0aGUgMS1kaW1lbnNpb25hbCBpbnZlcnNlZCBkaXNjcmV0ZSBGb3VyaWVyIHRyYW5zZm9ybSBvdmVyIHRoZVxuICogaW5uZXItbW9zdCBkaW1lbnNpb24gb2YgdGhlIHJlYWwgaW5wdXQuXG4gKlxuICogYGBganNcbiAqIGNvbnN0IHJlYWwgPSB0Zi50ZW5zb3IxZChbMSwgMiwgM10pO1xuICogY29uc3QgaW1hZyA9IHRmLnRlbnNvcjFkKFswLCAwLCAwXSk7XG4gKiBjb25zdCB4ID0gdGYuY29tcGxleChyZWFsLCBpbWFnKTtcbiAqXG4gKiB4LmlyZmZ0KCkucHJpbnQoKTtcbiAqIGBgYFxuICogQHBhcmFtIGlucHV0IFRoZSByZWFsIHZhbHVlIGlucHV0IHRvIGNvbXB1dGUgYW4gaXJmZnQgb3Zlci5cbiAqXG4gKiBAZG9jIHtoZWFkaW5nOiAnT3BlcmF0aW9ucycsIHN1YmhlYWRpbmc6ICdTcGVjdHJhbCcsIG5hbWVzcGFjZTogJ3NwZWN0cmFsJ31cbiAqL1xuZnVuY3Rpb24gaXJmZnRfKGlucHV0OiBUZW5zb3IpOiBUZW5zb3Ige1xuICBjb25zdCBpbm5lckRpbWVuc2lvblNpemUgPSBpbnB1dC5zaGFwZVtpbnB1dC5zaGFwZS5sZW5ndGggLSAxXTtcbiAgY29uc3QgYmF0Y2ggPSBpbnB1dC5zaXplIC8gaW5uZXJEaW1lbnNpb25TaXplO1xuICBsZXQgcmV0OiBUZW5zb3I7XG4gIGlmIChpbm5lckRpbWVuc2lvblNpemUgPD0gMikge1xuICAgIGNvbnN0IGNvbXBsZXhJbnB1dCA9IHJlc2hhcGUoaW5wdXQsIFtiYXRjaCwgaW5uZXJEaW1lbnNpb25TaXplXSk7XG4gICAgcmV0ID0gaWZmdChjb21wbGV4SW5wdXQpO1xuICB9IGVsc2Uge1xuICAgIC8vIFRoZSBsZW5ndGggb2YgdW5pcXVlIGNvbXBvbmVudHMgb2YgdGhlIERGVCBvZiBhIHJlYWwtdmFsdWVkIHNpZ25hbFxuICAgIC8vIGlzIDIgKiAoaW5wdXRfbGVuIC0gMSlcbiAgICBjb25zdCBvdXRwdXRTaGFwZSA9IFtiYXRjaCwgMiAqIChpbm5lckRpbWVuc2lvblNpemUgLSAxKV07XG4gICAgY29uc3QgcmVhbElucHV0ID0gcmVzaGFwZShyZWFsKGlucHV0KSwgW2JhdGNoLCBpbm5lckRpbWVuc2lvblNpemVdKTtcbiAgICBjb25zdCBpbWFnSW5wdXQgPSByZXNoYXBlKGltYWcoaW5wdXQpLCBbYmF0Y2gsIGlubmVyRGltZW5zaW9uU2l6ZV0pO1xuXG4gICAgY29uc3QgcmVhbENvbmp1Z2F0ZSA9XG4gICAgICAgIHJldmVyc2Uoc2xpY2UocmVhbElucHV0LCBbMCwgMV0sIFtiYXRjaCwgaW5uZXJEaW1lbnNpb25TaXplIC0gMl0pLCAxKTtcbiAgICBjb25zdCBpbWFnQ29uanVnYXRlOiBUZW5zb3IyRCA9IG11bChcbiAgICAgICAgcmV2ZXJzZShzbGljZShpbWFnSW5wdXQsIFswLCAxXSwgW2JhdGNoLCBpbm5lckRpbWVuc2lvblNpemUgLSAyXSksIDEpLFxuICAgICAgICBzY2FsYXIoLTEpKTtcblxuICAgIGNvbnN0IHIgPSBjb25jYXQoW3JlYWxJbnB1dCwgcmVhbENvbmp1Z2F0ZV0sIDEpO1xuICAgIGNvbnN0IGkgPSBjb25jYXQoW2ltYWdJbnB1dCwgaW1hZ0Nvbmp1Z2F0ZV0sIDEpO1xuICAgIGNvbnN0IGNvbXBsZXhJbnB1dCA9XG4gICAgICAgIHJlc2hhcGUoY29tcGxleChyLCBpKSwgW291dHB1dFNoYXBlWzBdLCBvdXRwdXRTaGFwZVsxXV0pO1xuICAgIHJldCA9IGlmZnQoY29tcGxleElucHV0KTtcbiAgfVxuICByZXQgPSByZWFsKHJldCk7XG4gIC8vIHJlc2hhcGUgdGhlIHJlc3VsdCBpZiB0aGUgaW5wdXQgaXMgM0QgdGVuc29yLlxuICBpZiAoaW5wdXQucmFuayA9PT0gMyAmJiBpbnB1dC5zaGFwZVswXSAhPT0gMCkge1xuICAgIGNvbnN0IHRlbXAgPSByZXQ7XG4gICAgY29uc3QgYmF0Y2ggPSBpbnB1dC5zaGFwZVswXTtcbiAgICByZXQgPSByZXNoYXBlKHJldCwgW2JhdGNoLCByZXQuc2hhcGVbMF0gLyBiYXRjaCwgcmV0LnNoYXBlWzFdXSk7XG4gICAgdGVtcC5kaXNwb3NlKCk7XG4gIH1cbiAgcmV0dXJuIHJldDtcbn1cblxuZXhwb3J0IGNvbnN0IGlyZmZ0ID0gb3Aoe2lyZmZ0X30pO1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuaW1wb3J0IHtUZW5zb3JJbmZvfSBmcm9tICcuLi9rZXJuZWxfcmVnaXN0cnknO1xuaW1wb3J0IHtUZW5zb3J9IGZyb20gJy4uL3RlbnNvcic7XG5pbXBvcnQge2Fzc2VydH0gZnJvbSAnLi4vdXRpbCc7XG5cbi8qKlxuICogUHJlcGFyZSB0aGUgc3BsaXQgc2l6ZSBhcnJheS4gV2hlbiB0aGUgaW5wdXQgaXMgYSBudW1iZXIsIHRoZSBheGlzIGlzIGV2ZW5seVxuICogZGl2aWRlZCBhbW9uZyB0aGUgc3BsaXQgc2l6ZS4gV2hlbiB0aGUgaW5wdXQgY29udGFpbnMgdGhlIG5lZ2F0aXZlIHZhbHVlLCB0aGVcbiAqIHJlc3Qgb2YgdGhlIGF4aXMgaXMgYWxsb2NhdGVkIHRvd2FyZCB0aGF0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gcHJlcGFyZVNwbGl0U2l6ZShcbiAgICB4OiBUZW5zb3J8VGVuc29ySW5mbywgbnVtT3JTaXplU3BsaXRzOiBudW1iZXJbXXxudW1iZXIsXG4gICAgYXhpcyA9IDApOiBudW1iZXJbXSB7XG4gIGxldCBzcGxpdFNpemVzID0gW107XG4gIGlmICh0eXBlb2YgKG51bU9yU2l6ZVNwbGl0cykgPT09ICdudW1iZXInKSB7XG4gICAgYXNzZXJ0KFxuICAgICAgICB4LnNoYXBlW2F4aXNdICUgbnVtT3JTaXplU3BsaXRzID09PSAwLFxuICAgICAgICAoKSA9PiAnTnVtYmVyIG9mIHNwbGl0cyBtdXN0IGV2ZW5seSBkaXZpZGUgdGhlIGF4aXMuJyk7XG4gICAgc3BsaXRTaXplcyA9XG4gICAgICAgIG5ldyBBcnJheShudW1PclNpemVTcGxpdHMpLmZpbGwoeC5zaGFwZVtheGlzXSAvIG51bU9yU2l6ZVNwbGl0cyk7XG4gIH0gZWxzZSB7XG4gICAgY29uc3QgbnVtT2ZOZWdzID0gbnVtT3JTaXplU3BsaXRzLnJlZHVjZSgoY291bnQsIHZhbHVlKSA9PiB7XG4gICAgICBpZiAodmFsdWUgPT09IC0xKSB7XG4gICAgICAgIGNvdW50ICs9IDE7XG4gICAgICB9XG4gICAgICByZXR1cm4gY291bnQ7XG4gICAgfSwgMCk7XG4gICAgYXNzZXJ0KFxuICAgICAgICBudW1PZk5lZ3MgPD0gMSxcbiAgICAgICAgKCkgPT4gJ1RoZXJlIHNob3VsZCBiZSBvbmx5IG9uZSBuZWdhdGl2ZSB2YWx1ZSBpbiBzcGxpdCBhcnJheS4nKTtcbiAgICBjb25zdCBuZWdJbmRleCA9IG51bU9yU2l6ZVNwbGl0cy5pbmRleE9mKC0xKTtcbiAgICAvLyBBbGxvdyB0aGUgbnVtYmVyIG9mIHNwbGl0IGFycmF5IHRvIGJlIC0xLCB3aGljaCBpbmRpY2F0ZXMgdGhlIHJlc3RcbiAgICAvLyBvZiBkaW1lbnNpb24gaXMgYWxsb2NhdGVkIHRvIHRoYXQgc3BsaXQuXG4gICAgaWYgKG5lZ0luZGV4ICE9PSAtMSkge1xuICAgICAgY29uc3QgdG90YWwgPSBudW1PclNpemVTcGxpdHMucmVkdWNlKChhLCBiKSA9PiBiID4gMCA/IGEgKyBiIDogYSk7XG4gICAgICBudW1PclNpemVTcGxpdHNbbmVnSW5kZXhdID0geC5zaGFwZVtheGlzXSAtIHRvdGFsO1xuICAgIH1cbiAgICBhc3NlcnQoXG4gICAgICAgIHguc2hhcGVbYXhpc10gPT09IG51bU9yU2l6ZVNwbGl0cy5yZWR1Y2UoKGEsIGIpID0+IGEgKyBiKSxcbiAgICAgICAgKCkgPT4gJ1RoZSBzdW0gb2Ygc2l6ZXMgbXVzdCBtYXRjaCB0aGUgc2l6ZSBvZiB0aGUgYXhpcyBkaW1lbnNpb24uJyk7XG4gICAgc3BsaXRTaXplcyA9IG51bU9yU2l6ZVNwbGl0cztcbiAgfVxuXG4gIHJldHVybiBzcGxpdFNpemVzO1xufVxuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuaW1wb3J0IHtFTkdJTkUsIEZvcndhcmRGdW5jfSBmcm9tICcuLi9lbmdpbmUnO1xuaW1wb3J0IHtTcGxpdFYsIFNwbGl0VkF0dHJzLCBTcGxpdFZJbnB1dHN9IGZyb20gJy4uL2tlcm5lbF9uYW1lcyc7XG5pbXBvcnQge05hbWVkQXR0ck1hcH0gZnJvbSAnLi4va2VybmVsX3JlZ2lzdHJ5JztcbmltcG9ydCB7VGVuc29yfSBmcm9tICcuLi90ZW5zb3InO1xuaW1wb3J0IHtOYW1lZFRlbnNvck1hcH0gZnJvbSAnLi4vdGVuc29yX3R5cGVzJztcbmltcG9ydCB7Y29udmVydFRvVGVuc29yfSBmcm9tICcuLi90ZW5zb3JfdXRpbF9lbnYnO1xuaW1wb3J0IHtUZW5zb3JMaWtlfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQge3BhcnNlQXhpc1BhcmFtfSBmcm9tICcuLi91dGlsJztcblxuaW1wb3J0IHtvcH0gZnJvbSAnLi9vcGVyYXRpb24nO1xuaW1wb3J0IHtwcmVwYXJlU3BsaXRTaXplfSBmcm9tICcuL3NwbGl0X3V0aWwnO1xuXG4vKipcbiAqIFNwbGl0cyBhIGB0Zi5UZW5zb3JgIGludG8gc3ViIHRlbnNvcnMuXG4gKlxuICogSWYgYG51bU9yU2l6ZVNwbGl0c2AgaXMgYSBudW1iZXIsIHNwbGl0cyBgeGAgYWxvbmcgZGltZW5zaW9uIGBheGlzYFxuICogaW50byBgbnVtT3JTaXplU3BsaXRzYCBzbWFsbGVyIHRlbnNvcnMuXG4gKiBSZXF1aXJlcyB0aGF0IGBudW1PclNpemVTcGxpdHNgIGV2ZW5seSBkaXZpZGVzIGB4LnNoYXBlW2F4aXNdYC5cbiAqXG4gKiBJZiBgbnVtT3JTaXplU3BsaXRzYCBpcyBhIG51bWJlciBhcnJheSwgc3BsaXRzIGB4YCBpbnRvXG4gKiBgbnVtT3JTaXplU3BsaXRzLmxlbmd0aGAgcGllY2VzLiBUaGUgc2hhcGUgb2YgdGhlIGBpYC10aCBwaWVjZSBoYXMgdGhlXG4gKiBzYW1lIHNpemUgYXMgYHhgIGV4Y2VwdCBhbG9uZyBkaW1lbnNpb24gYGF4aXNgIHdoZXJlIHRoZSBzaXplIGlzXG4gKiBgbnVtT3JTaXplU3BsaXRzW2ldYC5cbiAqXG4gKiBgYGBqc1xuICogY29uc3QgeCA9IHRmLnRlbnNvcjJkKFsxLCAyLCAzLCA0LCA1LCA2LCA3LCA4XSwgWzIsIDRdKTtcbiAqIGNvbnN0IFthLCBiXSA9IHRmLnNwbGl0KHgsIDIsIDEpO1xuICogYS5wcmludCgpO1xuICogYi5wcmludCgpO1xuICpcbiAqIGNvbnN0IFtjLCBkLCBlXSA9IHRmLnNwbGl0KHgsIFsxLCAyLCAxXSwgMSk7XG4gKiBjLnByaW50KCk7XG4gKiBkLnByaW50KCk7XG4gKiBlLnByaW50KCk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0geCBUaGUgaW5wdXQgdGVuc29yIHRvIHNwbGl0LlxuICogQHBhcmFtIG51bU9yU2l6ZVNwbGl0cyBFaXRoZXIgYW4gaW50ZWdlciBpbmRpY2F0aW5nIHRoZSBudW1iZXIgb2ZcbiAqIHNwbGl0cyBhbG9uZyB0aGUgYXhpcyBvciBhbiBhcnJheSBvZiBpbnRlZ2VycyBjb250YWluaW5nIHRoZSBzaXplcyBvZlxuICogZWFjaCBvdXRwdXQgdGVuc29yIGFsb25nIHRoZSBheGlzLiBJZiBhIG51bWJlciB0aGVuIGl0IG11c3QgZXZlbmx5IGRpdmlkZVxuICogYHguc2hhcGVbYXhpc11gOyBvdGhlcndpc2UgdGhlIHN1bSBvZiBzaXplcyBtdXN0IG1hdGNoIGB4LnNoYXBlW2F4aXNdYC5cbiAqIENhbiBjb250YWluIG9uZSAtMSBpbmRpY2F0aW5nIHRoYXQgZGltZW5zaW9uIGlzIHRvIGJlIGluZmVycmVkLlxuICogQHBhcmFtIGF4aXMgVGhlIGRpbWVuc2lvbiBhbG9uZyB3aGljaCB0byBzcGxpdC4gRGVmYXVsdHMgdG8gMCAodGhlIGZpcnN0XG4gKiBkaW0pLlxuICpcbiAqIEBkb2Mge2hlYWRpbmc6ICdUZW5zb3JzJywgc3ViaGVhZGluZzogJ1NsaWNpbmcgYW5kIEpvaW5pbmcnfVxuICovXG5mdW5jdGlvbiBzcGxpdF88VCBleHRlbmRzIFRlbnNvcj4oXG4gICAgeDogVGVuc29yfFRlbnNvckxpa2UsIG51bU9yU2l6ZVNwbGl0czogbnVtYmVyW118bnVtYmVyLCBheGlzID0gMCk6IFRbXSB7XG4gIGNvbnN0ICR4ID0gY29udmVydFRvVGVuc29yKHgsICd4JywgJ3NwbGl0Jyk7XG5cbiAgY29uc3QgZm9yd2FyZDogRm9yd2FyZEZ1bmM8VGVuc29yPiA9IChiYWNrZW5kLCBfKSA9PiB7XG4gICAgY29uc3QgJGF4aXMgPSBwYXJzZUF4aXNQYXJhbShheGlzLCAkeC5zaGFwZSlbMF07XG4gICAgY29uc3Qgc3BsaXRTaXplcyA9IHByZXBhcmVTcGxpdFNpemUoJHgsIG51bU9yU2l6ZVNwbGl0cywgJGF4aXMpO1xuICAgIHJldHVybiBiYWNrZW5kLnNwbGl0KCR4LCBzcGxpdFNpemVzLCAkYXhpcykgYXMge30gYXMgVDtcbiAgfTtcblxuICBjb25zdCBpbnB1dHM6IFNwbGl0VklucHV0cyA9IHt4OiAkeH07XG4gIGNvbnN0IGF0dHI6IFNwbGl0VkF0dHJzID0ge251bU9yU2l6ZVNwbGl0cywgYXhpc307XG5cbiAgcmV0dXJuIEVOR0lORS5ydW5LZXJuZWxGdW5jKFxuICAgICAgICAgICAgIGZvcndhcmQsIGlucHV0cyBhcyB7fSBhcyBOYW1lZFRlbnNvck1hcCwgbnVsbCAvKiBncmFkICovLCBTcGxpdFYsXG4gICAgICAgICAgICAgYXR0ciBhcyB7fSBhcyBOYW1lZEF0dHJNYXApIGFzIHt9IGFzIFRbXTtcbn1cblxuZXhwb3J0IGNvbnN0IHNwbGl0ID0gb3Aoe3NwbGl0X30pO1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTggR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG5pbXBvcnQge1RlbnNvcn0gZnJvbSAnLi4vLi4vdGVuc29yJztcbmltcG9ydCB7YXNzZXJ0fSBmcm9tICcuLi8uLi91dGlsJztcbmltcG9ydCB7Y29tcGxleH0gZnJvbSAnLi4vY29tcGxleCc7XG5pbXBvcnQge2NvbmNhdH0gZnJvbSAnLi4vY29uY2F0JztcbmltcG9ydCB7aW1hZ30gZnJvbSAnLi4vaW1hZyc7XG5pbXBvcnQge29wfSBmcm9tICcuLi9vcGVyYXRpb24nO1xuaW1wb3J0IHtyZWFsfSBmcm9tICcuLi9yZWFsJztcbmltcG9ydCB7cmVzaGFwZX0gZnJvbSAnLi4vcmVzaGFwZSc7XG5pbXBvcnQge3NsaWNlfSBmcm9tICcuLi9zbGljZSc7XG5pbXBvcnQge3NwbGl0fSBmcm9tICcuLi9zcGxpdCc7XG5pbXBvcnQge3plcm9zfSBmcm9tICcuLi96ZXJvcyc7XG5pbXBvcnQge3plcm9zTGlrZX0gZnJvbSAnLi4vemVyb3NfbGlrZSc7XG5cbmltcG9ydCB7ZmZ0fSBmcm9tICcuL2ZmdCc7XG5cbi8qKlxuICogUmVhbCB2YWx1ZSBpbnB1dCBmYXN0IEZvdXJpZXIgdHJhbnNmb3JtLlxuICpcbiAqIENvbXB1dGVzIHRoZSAxLWRpbWVuc2lvbmFsIGRpc2NyZXRlIEZvdXJpZXIgdHJhbnNmb3JtIG92ZXIgdGhlXG4gKiBpbm5lci1tb3N0IGRpbWVuc2lvbiBvZiB0aGUgcmVhbCBpbnB1dC5cbiAqXG4gKiBgYGBqc1xuICogY29uc3QgcmVhbCA9IHRmLnRlbnNvcjFkKFsxLCAyLCAzXSk7XG4gKlxuICogcmVhbC5yZmZ0KCkucHJpbnQoKTtcbiAqIGBgYFxuICogQHBhcmFtIGlucHV0IFRoZSByZWFsIHZhbHVlIGlucHV0IHRvIGNvbXB1dGUgYW4gcmZmdCBvdmVyLlxuICpcbiAqIEBkb2Mge2hlYWRpbmc6ICdPcGVyYXRpb25zJywgc3ViaGVhZGluZzogJ1NwZWN0cmFsJywgbmFtZXNwYWNlOiAnc3BlY3RyYWwnfVxuICovXG5mdW5jdGlvbiByZmZ0XyhpbnB1dDogVGVuc29yLCBmZnRMZW5ndGg/OiBudW1iZXIpOiBUZW5zb3Ige1xuICBhc3NlcnQoXG4gICAgICBpbnB1dC5kdHlwZSA9PT0gJ2Zsb2F0MzInLFxuICAgICAgKCkgPT4gYFRoZSBkdHlwZSBmb3IgcmZmdCgpIG11c3QgYmUgcmVhbCB2YWx1ZSBidXQgZ290ICR7aW5wdXQuZHR5cGV9YCk7XG5cbiAgbGV0IGlubmVyRGltZW5zaW9uU2l6ZSA9IGlucHV0LnNoYXBlW2lucHV0LnNoYXBlLmxlbmd0aCAtIDFdO1xuICBjb25zdCBiYXRjaCA9IGlucHV0LnNpemUgLyBpbm5lckRpbWVuc2lvblNpemU7XG5cbiAgbGV0IGFkanVzdGVkSW5wdXQ6IFRlbnNvcjtcbiAgaWYgKGZmdExlbmd0aCAhPSBudWxsICYmIGZmdExlbmd0aCA8IGlubmVyRGltZW5zaW9uU2l6ZSkge1xuICAgIC8vIE5lZWQgdG8gY3JvcFxuICAgIGNvbnN0IGJlZ2luID0gaW5wdXQuc2hhcGUubWFwKHYgPT4gMCk7XG4gICAgY29uc3Qgc2l6ZSA9IGlucHV0LnNoYXBlLm1hcCh2ID0+IHYpO1xuICAgIHNpemVbaW5wdXQuc2hhcGUubGVuZ3RoIC0gMV0gPSBmZnRMZW5ndGg7XG4gICAgYWRqdXN0ZWRJbnB1dCA9IHNsaWNlKGlucHV0LCBiZWdpbiwgc2l6ZSk7XG4gICAgaW5uZXJEaW1lbnNpb25TaXplID0gZmZ0TGVuZ3RoO1xuICB9IGVsc2UgaWYgKGZmdExlbmd0aCAhPSBudWxsICYmIGZmdExlbmd0aCA+IGlubmVyRGltZW5zaW9uU2l6ZSkge1xuICAgIC8vIE5lZWQgdG8gcGFkIHdpdGggemVyb3NcbiAgICBjb25zdCB6ZXJvc1NoYXBlID0gaW5wdXQuc2hhcGUubWFwKHYgPT4gdik7XG4gICAgemVyb3NTaGFwZVtpbnB1dC5zaGFwZS5sZW5ndGggLSAxXSA9IGZmdExlbmd0aCAtIGlubmVyRGltZW5zaW9uU2l6ZTtcbiAgICBhZGp1c3RlZElucHV0ID0gY29uY2F0KFtpbnB1dCwgemVyb3MoemVyb3NTaGFwZSldLCBpbnB1dC5zaGFwZS5sZW5ndGggLSAxKTtcbiAgICBpbm5lckRpbWVuc2lvblNpemUgPSBmZnRMZW5ndGg7XG4gIH0gZWxzZSB7XG4gICAgYWRqdXN0ZWRJbnB1dCA9IGlucHV0O1xuICB9XG5cbiAgLy8gQ29tcGxlbWVudCB0aGUgaW5wdXQgd2l0aCB6ZXJvIGltYWdpbmFyeSBudW1iZXJzLlxuICBjb25zdCB6ZXJvc0lucHV0ID0gemVyb3NMaWtlKGFkanVzdGVkSW5wdXQpO1xuICBjb25zdCBjb21wbGV4SW5wdXQgPVxuICAgICAgcmVzaGFwZShjb21wbGV4KGFkanVzdGVkSW5wdXQsIHplcm9zSW5wdXQpLCBbYmF0Y2gsIGlubmVyRGltZW5zaW9uU2l6ZV0pO1xuXG4gIGNvbnN0IHJldCA9IGZmdChjb21wbGV4SW5wdXQpO1xuXG4gIC8vIEV4Y2x1ZGUgY29tcGxleCBjb25qdWdhdGlvbnMuIFRoZXNlIGNvbmp1Z2F0aW9ucyBhcmUgcHV0IHN5bW1ldHJpY2FsbHkuXG4gIGNvbnN0IGhhbGYgPSBNYXRoLmZsb29yKGlubmVyRGltZW5zaW9uU2l6ZSAvIDIpICsgMTtcbiAgY29uc3QgcmVhbFZhbHVlcyA9IHJlYWwocmV0KTtcbiAgY29uc3QgaW1hZ1ZhbHVlcyA9IGltYWcocmV0KTtcbiAgY29uc3QgcmVhbENvbXBsZXhDb25qdWdhdGUgPSBzcGxpdChcbiAgICAgIHJlYWxWYWx1ZXMsIFtoYWxmLCBpbm5lckRpbWVuc2lvblNpemUgLSBoYWxmXSxcbiAgICAgIHJlYWxWYWx1ZXMuc2hhcGUubGVuZ3RoIC0gMSk7XG4gIGNvbnN0IGltYWdDb21wbGV4Q29uanVnYXRlID0gc3BsaXQoXG4gICAgICBpbWFnVmFsdWVzLCBbaGFsZiwgaW5uZXJEaW1lbnNpb25TaXplIC0gaGFsZl0sXG4gICAgICBpbWFnVmFsdWVzLnNoYXBlLmxlbmd0aCAtIDEpO1xuXG4gIGNvbnN0IG91dHB1dFNoYXBlID0gYWRqdXN0ZWRJbnB1dC5zaGFwZS5zbGljZSgpO1xuICBvdXRwdXRTaGFwZVthZGp1c3RlZElucHV0LnNoYXBlLmxlbmd0aCAtIDFdID0gaGFsZjtcblxuICByZXR1cm4gcmVzaGFwZShcbiAgICAgIGNvbXBsZXgocmVhbENvbXBsZXhDb25qdWdhdGVbMF0sIGltYWdDb21wbGV4Q29uanVnYXRlWzBdKSwgb3V0cHV0U2hhcGUpO1xufVxuXG5leHBvcnQgY29uc3QgcmZmdCA9IG9wKHtyZmZ0X30pO1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTggR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG5pbXBvcnQge0VOR0lORX0gZnJvbSAnLi4vZW5naW5lJztcbmltcG9ydCB7U3FydCwgU3FydElucHV0c30gZnJvbSAnLi4va2VybmVsX25hbWVzJztcbmltcG9ydCB7VGVuc29yfSBmcm9tICcuLi90ZW5zb3InO1xuaW1wb3J0IHtOYW1lZFRlbnNvck1hcH0gZnJvbSAnLi4vdGVuc29yX3R5cGVzJztcbmltcG9ydCB7Y29udmVydFRvVGVuc29yfSBmcm9tICcuLi90ZW5zb3JfdXRpbF9lbnYnO1xuaW1wb3J0IHtUZW5zb3JMaWtlfSBmcm9tICcuLi90eXBlcyc7XG5cbmltcG9ydCB7b3B9IGZyb20gJy4vb3BlcmF0aW9uJztcblxuLyoqXG4gKiBDb21wdXRlcyBzcXVhcmUgcm9vdCBvZiB0aGUgaW5wdXQgYHRmLlRlbnNvcmAgZWxlbWVudC13aXNlOiBgeSA9IHNxcnQoeClgXG4gKlxuICogYGBganNcbiAqIGNvbnN0IHggPSB0Zi50ZW5zb3IxZChbMSwgMiwgNCwgLTFdKTtcbiAqXG4gKiB4LnNxcnQoKS5wcmludCgpOyAgLy8gb3IgdGYuc3FydCh4KVxuICogYGBgXG4gKiBAcGFyYW0geCBUaGUgaW5wdXQgdGVuc29yLlxuICpcbiAqIEBkb2Mge2hlYWRpbmc6ICdPcGVyYXRpb25zJywgc3ViaGVhZGluZzogJ0Jhc2ljIG1hdGgnfVxuICovXG5mdW5jdGlvbiBzcXJ0XzxUIGV4dGVuZHMgVGVuc29yPih4OiBUfFRlbnNvckxpa2UpOiBUIHtcbiAgY29uc3QgJHggPSBjb252ZXJ0VG9UZW5zb3IoeCwgJ3gnLCAnc3FydCcpO1xuXG4gIGNvbnN0IGlucHV0czogU3FydElucHV0cyA9IHt4OiAkeH07XG5cbiAgcmV0dXJuIEVOR0lORS5ydW5LZXJuZWxGdW5jKChiYWNrZW5kLCBzYXZlKSA9PiB7XG4gICAgY29uc3QgcmVzID0gYmFja2VuZC5zcXJ0KCR4KTtcbiAgICBzYXZlKFskeF0pO1xuICAgIHJldHVybiByZXM7XG4gIH0sIGlucHV0cyBhcyB7fSBhcyBOYW1lZFRlbnNvck1hcCwgbnVsbCAvKiBncmFkICovLCBTcXJ0KTtcbn1cbmV4cG9ydCBjb25zdCBzcXJ0ID0gb3Aoe3NxcnRffSk7XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbmltcG9ydCB7RU5HSU5FLCBGb3J3YXJkRnVuY30gZnJvbSAnLi4vZW5naW5lJztcbmltcG9ydCB7U3F1YXJlZERpZmZlcmVuY2UsIFNxdWFyZWREaWZmZXJlbmNlSW5wdXRzfSBmcm9tICcuLi9rZXJuZWxfbmFtZXMnO1xuaW1wb3J0IHtUZW5zb3J9IGZyb20gJy4uL3RlbnNvcic7XG5pbXBvcnQge05hbWVkVGVuc29yTWFwfSBmcm9tICcuLi90ZW5zb3JfdHlwZXMnO1xuaW1wb3J0IHttYWtlVHlwZXNNYXRjaH0gZnJvbSAnLi4vdGVuc29yX3V0aWwnO1xuaW1wb3J0IHtjb252ZXJ0VG9UZW5zb3J9IGZyb20gJy4uL3RlbnNvcl91dGlsX2Vudic7XG5pbXBvcnQge1RlbnNvckxpa2V9IGZyb20gJy4uL3R5cGVzJztcblxuaW1wb3J0IHthc3NlcnRBbmRHZXRCcm9hZGNhc3RTaGFwZX0gZnJvbSAnLi9icm9hZGNhc3RfdXRpbCc7XG5pbXBvcnQge29wfSBmcm9tICcuL29wZXJhdGlvbic7XG5cbi8qKlxuICogUmV0dXJucyAoYSAtIGIpICogKGEgLSBiKSBlbGVtZW50LXdpc2UuXG4gKiBTdXBwb3J0cyBicm9hZGNhc3RpbmcuXG4gKlxuICogYGBganNcbiAqIGNvbnN0IGEgPSB0Zi50ZW5zb3IxZChbMSwgNCwgMywgMTZdKTtcbiAqIGNvbnN0IGIgPSB0Zi50ZW5zb3IxZChbMSwgMiwgOSwgNF0pO1xuICpcbiAqIGEuc3F1YXJlZERpZmZlcmVuY2UoYikucHJpbnQoKTsgIC8vIG9yIHRmLnNxdWFyZWREaWZmZXJlbmNlKGEsIGIpXG4gKiBgYGBcbiAqXG4gKiBgYGBqc1xuICogLy8gQnJvYWRjYXN0IHNxdWFyZWQgZGlmZmVyZW5jZSAgYSB3aXRoIGIuXG4gKiBjb25zdCBhID0gdGYudGVuc29yMWQoWzIsIDQsIDYsIDhdKTtcbiAqIGNvbnN0IGIgPSB0Zi5zY2FsYXIoNSk7XG4gKlxuICogYS5zcXVhcmVkRGlmZmVyZW5jZShiKS5wcmludCgpOyAgLy8gb3IgdGYuc3F1YXJlZERpZmZlcmVuY2UoYSwgYilcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBhIFRoZSBmaXJzdCB0ZW5zb3IuXG4gKiBAcGFyYW0gYiBUaGUgc2Vjb25kIHRlbnNvci4gTXVzdCBoYXZlIHRoZSBzYW1lIHR5cGUgYXMgYGFgLlxuICpcbiAqIEBkb2Mge2hlYWRpbmc6ICdPcGVyYXRpb25zJywgc3ViaGVhZGluZzogJ0FyaXRobWV0aWMnfVxuICovXG5mdW5jdGlvbiBzcXVhcmVkRGlmZmVyZW5jZV88VCBleHRlbmRzIFRlbnNvcj4oXG4gICAgYTogVGVuc29yfFRlbnNvckxpa2UsIGI6IFRlbnNvcnxUZW5zb3JMaWtlKTogVCB7XG4gIGxldCAkYSA9IGNvbnZlcnRUb1RlbnNvcihhLCAnYScsICdzcXVhcmVkRGlmZmVyZW5jZScpO1xuICBsZXQgJGIgPSBjb252ZXJ0VG9UZW5zb3IoYiwgJ2InLCAnc3F1YXJlZERpZmZlcmVuY2UnKTtcbiAgWyRhLCAkYl0gPSBtYWtlVHlwZXNNYXRjaCgkYSwgJGIpO1xuXG4gIGFzc2VydEFuZEdldEJyb2FkY2FzdFNoYXBlKCRhLnNoYXBlLCAkYi5zaGFwZSk7XG5cbiAgY29uc3QgZm9yd2FyZDogRm9yd2FyZEZ1bmM8VGVuc29yPiA9IChiYWNrZW5kLCBzYXZlKSA9PiB7XG4gICAgY29uc3QgcmVzID0gYmFja2VuZC5zcXVhcmVkRGlmZmVyZW5jZSgkYSwgJGIpO1xuICAgIHNhdmUoWyRhLCAkYl0pO1xuICAgIHJldHVybiByZXM7XG4gIH07XG5cbiAgY29uc3QgaW5wdXRzOiBTcXVhcmVkRGlmZmVyZW5jZUlucHV0cyA9IHthOiAkYSwgYjogJGJ9O1xuICBjb25zdCBhdHRycyA9IHt9O1xuXG4gIHJldHVybiBFTkdJTkUucnVuS2VybmVsRnVuYyhcbiAgICAgICAgICAgICBmb3J3YXJkLCBpbnB1dHMgYXMgdW5rbm93biBhcyBOYW1lZFRlbnNvck1hcCwgbnVsbCAvKiBncmFkICovLFxuICAgICAgICAgICAgIFNxdWFyZWREaWZmZXJlbmNlLCBhdHRycykgYXMgVDtcbn1cblxuZXhwb3J0IGNvbnN0IHNxdWFyZWREaWZmZXJlbmNlID0gb3Aoe3NxdWFyZWREaWZmZXJlbmNlX30pO1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG5pbXBvcnQge1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yJztcbmltcG9ydCB7Y29udmVydFRvVGVuc29yfSBmcm9tICcuLi90ZW5zb3JfdXRpbF9lbnYnO1xuaW1wb3J0IHtUZW5zb3JMaWtlfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQge3NxdWVlemVTaGFwZX0gZnJvbSAnLi4vdXRpbCc7XG5cbmltcG9ydCB7b3B9IGZyb20gJy4vb3BlcmF0aW9uJztcbmltcG9ydCB7cmVzaGFwZX0gZnJvbSAnLi9yZXNoYXBlJztcblxuLyoqXG4gKiBSZW1vdmVzIGRpbWVuc2lvbnMgb2Ygc2l6ZSAxIGZyb20gdGhlIHNoYXBlIG9mIGEgYHRmLlRlbnNvcmAuXG4gKlxuICogYGBganNcbiAqIGNvbnN0IHggPSB0Zi50ZW5zb3IoWzEsIDIsIDMsIDRdLCBbMSwgMSwgNF0pO1xuICogeC5zcXVlZXplKCkucHJpbnQoKTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB4IFRoZSBpbnB1dCB0ZW5zb3IgdG8gYmUgc3F1ZWV6ZWQuXG4gKiBAcGFyYW0gYXhpcyBBbiBvcHRpb25hbCBsaXN0IG9mIG51bWJlcnMuIElmIHNwZWNpZmllZCwgb25seVxuICogICAgIHNxdWVlemVzIHRoZSBkaW1lbnNpb25zIGxpc3RlZC4gVGhlIGRpbWVuc2lvbiBpbmRleCBzdGFydHMgYXQgMC4gSXRcbiAqIGlzIGFuIGVycm9yIHRvIHNxdWVlemUgYSBkaW1lbnNpb24gdGhhdCBpcyBub3QgMS5cbiAqXG4gKiBAZG9jIHtoZWFkaW5nOiAnVGVuc29ycycsIHN1YmhlYWRpbmc6ICdUcmFuc2Zvcm1hdGlvbnMnfVxuICovXG5mdW5jdGlvbiBzcXVlZXplXzxUIGV4dGVuZHMgVGVuc29yPih4OiBUZW5zb3J8VGVuc29yTGlrZSwgYXhpcz86IG51bWJlcltdKTogVCB7XG4gIGNvbnN0ICR4ID0gY29udmVydFRvVGVuc29yKHgsICd4JywgJ3NxdWVlemUnKTtcbiAgcmV0dXJuIHJlc2hhcGUoJHgsIHNxdWVlemVTaGFwZSgkeC5zaGFwZSwgYXhpcykubmV3U2hhcGUpIGFzIFQ7XG59XG5cbmV4cG9ydCBjb25zdCBzcXVlZXplID0gb3Aoe3NxdWVlemVffSk7XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbmltcG9ydCB7VGVuc29yfSBmcm9tICcuLi90ZW5zb3InO1xuaW1wb3J0IHtjb252ZXJ0VG9UZW5zb3JBcnJheX0gZnJvbSAnLi4vdGVuc29yX3V0aWxfZW52JztcbmltcG9ydCB7VGVuc29yTGlrZX0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0ICogYXMgdXRpbCBmcm9tICcuLi91dGlsJztcblxuaW1wb3J0IHtjb25jYXR9IGZyb20gJy4vY29uY2F0JztcbmltcG9ydCB7ZXhwYW5kRGltc30gZnJvbSAnLi9leHBhbmRfZGltcyc7XG5pbXBvcnQge29wfSBmcm9tICcuL29wZXJhdGlvbic7XG5cbi8qKlxuICogU3RhY2tzIGEgbGlzdCBvZiByYW5rLWBSYCBgdGYuVGVuc29yYHMgaW50byBvbmUgcmFuay1gKFIrMSlgIGB0Zi5UZW5zb3JgLlxuICpcbiAqIGBgYGpzXG4gKiBjb25zdCBhID0gdGYudGVuc29yMWQoWzEsIDJdKTtcbiAqIGNvbnN0IGIgPSB0Zi50ZW5zb3IxZChbMywgNF0pO1xuICogY29uc3QgYyA9IHRmLnRlbnNvcjFkKFs1LCA2XSk7XG4gKiB0Zi5zdGFjayhbYSwgYiwgY10pLnByaW50KCk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gdGVuc29ycyBBIGxpc3Qgb2YgdGVuc29yIG9iamVjdHMgd2l0aCB0aGUgc2FtZSBzaGFwZSBhbmQgZHR5cGUuXG4gKiBAcGFyYW0gYXhpcyBUaGUgYXhpcyB0byBzdGFjayBhbG9uZy4gRGVmYXVsdHMgdG8gMCAodGhlIGZpcnN0IGRpbSkuXG4gKlxuICogQGRvYyB7aGVhZGluZzogJ1RlbnNvcnMnLCBzdWJoZWFkaW5nOiAnU2xpY2luZyBhbmQgSm9pbmluZyd9XG4gKi9cbmZ1bmN0aW9uIHN0YWNrXzxUIGV4dGVuZHMgVGVuc29yPihcbiAgICB0ZW5zb3JzOiBBcnJheTxUfFRlbnNvckxpa2U+LCBheGlzID0gMCk6IFRlbnNvciB7XG4gIGNvbnN0ICR0ZW5zb3JzID0gY29udmVydFRvVGVuc29yQXJyYXkodGVuc29ycywgJ3RlbnNvcnMnLCAnc3RhY2snKTtcblxuICB1dGlsLmFzc2VydChcbiAgICAgICR0ZW5zb3JzLmxlbmd0aCA+PSAxLCAoKSA9PiAnUGFzcyBhdCBsZWFzdCBvbmUgdGVuc29yIHRvIHRmLnN0YWNrJyk7XG5cbiAgaWYgKCR0ZW5zb3JzLmxlbmd0aCA9PT0gMSkge1xuICAgIHJldHVybiBleHBhbmREaW1zKCR0ZW5zb3JzWzBdLCBheGlzKTtcbiAgfVxuXG4gIGNvbnN0IHJhbmsgPSAkdGVuc29yc1swXS5yYW5rO1xuICBjb25zdCBzaGFwZSA9ICR0ZW5zb3JzWzBdLnNoYXBlO1xuICBjb25zdCBkdHlwZSA9ICR0ZW5zb3JzWzBdLmR0eXBlO1xuXG4gIHV0aWwuYXNzZXJ0KGF4aXMgPD0gcmFuaywgKCkgPT4gJ0F4aXMgbXVzdCBiZSA8PSByYW5rIG9mIHRoZSB0ZW5zb3InKTtcblxuICAkdGVuc29ycy5mb3JFYWNoKHQgPT4ge1xuICAgIHV0aWwuYXNzZXJ0U2hhcGVzTWF0Y2goXG4gICAgICAgIHNoYXBlLCB0LnNoYXBlLFxuICAgICAgICAnQWxsIHRlbnNvcnMgcGFzc2VkIHRvIHN0YWNrIG11c3QgaGF2ZSBtYXRjaGluZyBzaGFwZXMnKTtcbiAgICB1dGlsLmFzc2VydChcbiAgICAgICAgZHR5cGUgPT09IHQuZHR5cGUsXG4gICAgICAgICgpID0+ICdBbGwgdGVuc29ycyBwYXNzZWQgdG8gc3RhY2sgbXVzdCBoYXZlIG1hdGNoaW5nIGR0eXBlcycpO1xuICB9KTtcblxuICBjb25zdCBleHBhbmRlZFRlbnNvcnMgPSAkdGVuc29ycy5tYXAodCA9PiBleHBhbmREaW1zKHQsIGF4aXMpKTtcbiAgLy8gU3RhY2sgZXhpc3RzIGluIHRoZSBUZW5zb3JGbG93IEMrKyBBUElcbiAgLy8gKGh0dHBzOi8vd3d3LnRlbnNvcmZsb3cub3JnL2FwaV9kb2NzL2NjL2NsYXNzL3RlbnNvcmZsb3cvb3BzL3N0YWNrKSBidXQgbm90XG4gIC8vIGluXG4gIC8vIGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS90ZW5zb3JmbG93L3RlbnNvcmZsb3cvbWFzdGVyL3RlbnNvcmZsb3cvY29yZS9vcHMvb3BzLnBidHh0LlxuICAvLyBUaGVyZWZvcmUgd2UgYXJlIHRyZWF0aW5nIGl0IGxpa2UgYSBoaWdoLWxldmVsIG9wIHJhdGhlciB0aGFuXG4gIC8vIGNyZWF0aW5nIGEgZGVkaWNhdGVkIHN0YWNrIGtlcm5lbC5cbiAgcmV0dXJuIGNvbmNhdChleHBhbmRlZFRlbnNvcnMsIGF4aXMpO1xufVxuXG5leHBvcnQgY29uc3Qgc3RhY2sgPSBvcCh7c3RhY2tffSk7XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbmltcG9ydCB7RU5HSU5FfSBmcm9tICcuLi9lbmdpbmUnO1xuaW1wb3J0IHtTdGVwLCBTdGVwQXR0cnMsIFN0ZXBJbnB1dHN9IGZyb20gJy4uL2tlcm5lbF9uYW1lcyc7XG5pbXBvcnQge05hbWVkQXR0ck1hcH0gZnJvbSAnLi4va2VybmVsX3JlZ2lzdHJ5JztcbmltcG9ydCB7VGVuc29yfSBmcm9tICcuLi90ZW5zb3InO1xuaW1wb3J0IHtOYW1lZFRlbnNvck1hcH0gZnJvbSAnLi4vdGVuc29yX3R5cGVzJztcbmltcG9ydCB7Y29udmVydFRvVGVuc29yfSBmcm9tICcuLi90ZW5zb3JfdXRpbF9lbnYnO1xuaW1wb3J0IHtUZW5zb3JMaWtlfSBmcm9tICcuLi90eXBlcyc7XG5cbmltcG9ydCB7b3B9IGZyb20gJy4vb3BlcmF0aW9uJztcblxuLyoqXG4gKiBDb21wdXRlcyBzdGVwIG9mIHRoZSBpbnB1dCBgdGYuVGVuc29yYCBlbGVtZW50LXdpc2U6IGB4ID4gMCA/IDEgOiBhbHBoYSAqIHhgXG4gKlxuICogYGBganNcbiAqIGNvbnN0IHggPSB0Zi50ZW5zb3IxZChbMCwgMiwgLTEsIC0zXSk7XG4gKlxuICogeC5zdGVwKC41KS5wcmludCgpOyAgLy8gb3IgdGYuc3RlcCh4LCAuNSlcbiAqIGBgYFxuICogQHBhcmFtIHggVGhlIGlucHV0IHRlbnNvci5cbiAqIEBwYXJhbSBhbHBoYSBUaGUgZ3JhZGllbnQgd2hlbiBpbnB1dCBpcyBuZWdhdGl2ZS5cbiAqXG4gKiBAZG9jIHtoZWFkaW5nOiAnT3BlcmF0aW9ucycsIHN1YmhlYWRpbmc6ICdCYXNpYyBtYXRoJ31cbiAqL1xuZnVuY3Rpb24gc3RlcF88VCBleHRlbmRzIFRlbnNvcj4oeDogVHxUZW5zb3JMaWtlLCBhbHBoYSA9IDAuMCk6IFQge1xuICBjb25zdCAkeCA9IGNvbnZlcnRUb1RlbnNvcih4LCAneCcsICdzdGVwJyk7XG5cbiAgY29uc3QgaW5wdXRzOiBTdGVwSW5wdXRzID0ge3g6ICR4fTtcbiAgY29uc3QgYXR0cnM6IFN0ZXBBdHRycyA9IHthbHBoYX07XG5cbiAgcmV0dXJuIEVOR0lORS5ydW5LZXJuZWxGdW5jKFxuICAgICAgYmFja2VuZCA9PiBiYWNrZW5kLnN0ZXAoJHgsIGFscGhhKSwgaW5wdXRzIGFzIHt9IGFzIE5hbWVkVGVuc29yTWFwLFxuICAgICAgbnVsbCAvKiBncmFkICovLCBTdGVwLCBhdHRycyBhcyB7fSBhcyBOYW1lZEF0dHJNYXApO1xufVxuZXhwb3J0IGNvbnN0IHN0ZXAgPSBvcCh7c3RlcF99KTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE4IEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuaW1wb3J0IHtFTkdJTkUsIEZvcndhcmRGdW5jfSBmcm9tICcuLi9lbmdpbmUnO1xuaW1wb3J0IHtTdHJpZGVkU2xpY2UsIFN0cmlkZWRTbGljZUF0dHJzLCBTdHJpZGVkU2xpY2VJbnB1dHN9IGZyb20gJy4uL2tlcm5lbF9uYW1lcyc7XG5pbXBvcnQge05hbWVkQXR0ck1hcH0gZnJvbSAnLi4va2VybmVsX3JlZ2lzdHJ5JztcbmltcG9ydCB7VGVuc29yfSBmcm9tICcuLi90ZW5zb3InO1xuaW1wb3J0IHtOYW1lZFRlbnNvck1hcH0gZnJvbSAnLi4vdGVuc29yX3R5cGVzJztcbmltcG9ydCB7Y29udmVydFRvVGVuc29yfSBmcm9tICcuLi90ZW5zb3JfdXRpbF9lbnYnO1xuaW1wb3J0IHtUZW5zb3JMaWtlfSBmcm9tICcuLi90eXBlcyc7XG5cbmltcG9ydCB7b3B9IGZyb20gJy4vb3BlcmF0aW9uJztcbmltcG9ydCB7cmVzaGFwZX0gZnJvbSAnLi9yZXNoYXBlJztcbmltcG9ydCB7c2xpY2V9IGZyb20gJy4vc2xpY2UnO1xuaW1wb3J0IHtjb21wdXRlT3V0U2hhcGUsIGdldE5vcm1hbGl6ZWRBeGVzLCBtYXNrVG9BeGVzfSBmcm9tICcuL3NsaWNlX3V0aWwnO1xuXG4vKipcbiAqIEV4dHJhY3RzIGEgc3RyaWRlZCBzbGljZSBvZiBhIHRlbnNvci5cbiAqXG4gKiBSb3VnaGx5IHNwZWFraW5nLCB0aGlzIG9wIGV4dHJhY3RzIGEgc2xpY2Ugb2Ygc2l6ZSAoZW5kLWJlZ2luKS9zdHJpZGUgZnJvbVxuICogdGhlIGdpdmVuIGlucHV0IHRlbnNvciAoeCkuIFN0YXJ0aW5nIGF0IHRoZSBsb2NhdGlvbiBzcGVjaWZpZWQgYnkgYmVnaW4gdGhlXG4gKiBzbGljZSBjb250aW51ZXMgYnkgYWRkaW5nIHN0cmlkZSB0byB0aGUgaW5kZXggdW50aWwgYWxsIGRpbWVuc2lvbnMgYXJlIG5vdFxuICogbGVzcyB0aGFuIGVuZC4gTm90ZSB0aGF0IGEgc3RyaWRlIGNhbiBiZSBuZWdhdGl2ZSwgd2hpY2ggY2F1c2VzIGEgcmV2ZXJzZVxuICogc2xpY2UuXG4gKlxuICogYGBganNcbiAqIGNvbnN0IHQgPSB0Zi50ZW5zb3IzZChbMSwgMSwgMSAsMiwgMiwgMiwgMywgMywgMywgNCwgNCwgNCwgNSwgNSwgNSwgNiwgNiwgNl0sXG4gKiAgICBbMywgMiwgM10pO1xuICogdC5zdHJpZGVkU2xpY2UoWzEsIDAsIDBdLCBbMiwgMSwgM10sIFsxLCAxLCAxXSkucHJpbnQoKSAgLy8gW1tbMywgMywgM11dXVxuICogdC5zdHJpZGVkU2xpY2UoWzEsIDAsIDBdLCBbMiwgMiwgM10sIFsxLCAxLCAxXSkucHJpbnQoKSAgLy8gW1tbMywgMywgM10sXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gWzQsIDQsIDRdXV1cbiAqIHQuc3RyaWRlZFNsaWNlKFsxLCAtMSwgMF0sIFsyLCAtMywgM10sIFsxLCAtMSwgMV0pLnByaW50KCkgLy8gW1tbNCwgNCwgNF0sXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gWzMsIDMsIDNdXV1cbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB4IFRoZSB0ZW5zb3IgdG8gc3RyaWRlIHNsaWNlLlxuICogQHBhcmFtIGJlZ2luIFRoZSBjb29yZGluYXRlcyB0byBzdGFydCB0aGUgc2xpY2UgZnJvbS5cbiAqIEBwYXJhbSBlbmQ6IFRoZSBjb29yZGluYXRlcyB0byBlbmQgdGhlIHNsaWNlIGF0LlxuICogQHBhcmFtIHN0cmlkZXM6IFRoZSBzaXplIG9mIHRoZSBzbGljZS5cbiAqIEBwYXJhbSBiZWdpbk1hc2s6IElmIHRoZSBpdGggYml0IG9mIGJlZ2luTWFzayBpcyBzZXQsIGJlZ2luW2ldIGlzIGlnbm9yZWRcbiAqICAgICAgYW5kIHRoZSBmdWxsZXN0IHBvc3NpYmxlIHJhbmdlIGluIHRoYXQgZGltZW5zaW9uIGlzIHVzZWQgaW5zdGVhZC5cbiAqIEBwYXJhbSBlbmRNYXNrOiBJZiB0aGUgaXRoIGJpdCBvZiBlbmRNYXNrIGlzIHNldCwgZW5kW2ldIGlzIGlnbm9yZWRcbiAqICAgICAgYW5kIHRoZSBmdWxsZXN0IHBvc3NpYmxlIHJhbmdlIGluIHRoYXQgZGltZW5zaW9uIGlzIHVzZWQgaW5zdGVhZC5cbiAqIEBwYXJhbSBzaHJpbmtBeGlzTWFzazogYSBiaXRtYXNrIHdoZXJlIGJpdCBpIGltcGxpZXMgdGhhdFxuICogdGhlIGl0aCBzcGVjaWZpY2F0aW9uIHNob3VsZCBzaHJpbmsgdGhlIGRpbWVuc2lvbmFsaXR5LiBiZWdpbiBhbmQgZW5kIG11c3RcbiAqIGltcGx5IGEgc2xpY2Ugb2Ygc2l6ZSAxIGluIHRoZSBkaW1lbnNpb24uXG4gKlxuICogQGRvYyB7aGVhZGluZzogJ09wZXJhdGlvbnMnLCBzdWJoZWFkaW5nOiAnU2xpY2luZyBhbmQgSm9pbmluZyd9XG4gKi9cbmZ1bmN0aW9uIHN0cmlkZWRTbGljZV8oXG4gICAgeDogVGVuc29yfFRlbnNvckxpa2UsIGJlZ2luOiBudW1iZXJbXSwgZW5kOiBudW1iZXJbXSwgc3RyaWRlcz86IG51bWJlcltdLFxuICAgIGJlZ2luTWFzayA9IDAsIGVuZE1hc2sgPSAwLCBlbGxpcHNpc01hc2sgPSAwLCBuZXdBeGlzTWFzayA9IDAsXG4gICAgc2hyaW5rQXhpc01hc2sgPSAwKTogVGVuc29yIHtcbiAgbGV0ICR4ID0gY29udmVydFRvVGVuc29yKHgsICd4JywgJ3N0cmlkZWRTbGljZScpO1xuXG4gIGNvbnN0IGZvcndhcmQ6IEZvcndhcmRGdW5jPFRlbnNvcj4gPSAoYmFja2VuZCkgPT4ge1xuICAgIGlmIChzdHJpZGVzID09IG51bGwpIHtcbiAgICAgIHN0cmlkZXMgPSBuZXcgQXJyYXkoYmVnaW4ubGVuZ3RoKTtcbiAgICB9XG5cbiAgICBjb25zdCBlbGxpcHNpc0F4ZXMgPSBtYXNrVG9BeGVzKGVsbGlwc2lzTWFzayk7XG4gICAgaWYgKGVsbGlwc2lzQXhlcy5sZW5ndGggPiAxKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ011bHRpcGxlIGVsbGlwc2VzIGluIHNsaWNlIGlzIG5vdCBhbGxvd2VkLicpO1xuICAgIH1cblxuICAgIGlmIChlbGxpcHNpc01hc2sgIT09IDAgJiYgbmV3QXhpc01hc2sgIT09IDApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAnVXNpbmcgYm90aCBlbGxpcHNpc01hc2sgYW5kIG5ld0F4aXNNYXNrIGlzIG5vdCB5ZXQgc3VwcG9ydGVkLicpO1xuICAgIH1cblxuICAgIGlmIChlbGxpcHNpc01hc2sgIT09IDAgJiYgc2hyaW5rQXhpc01hc2sgIT09IDApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAnVXNpbmcgYm90aCBlbGxpcHNpc01hc2sgYW5kIHNocmlua0F4aXNNYXNrIGlzIG5vdCB5ZXQgc3VwcG9ydGVkLicpO1xuICAgIH1cblxuICAgIGNvbnN0IG51bUludGVycG9sYXRlZEF4ZXMgPSAkeC5yYW5rIC0gYmVnaW4ubGVuZ3RoO1xuXG4gICAgLy8gRXhwYW5kIHRoZSBkaW1zIG9mIHggYmFzZWQgb24gdGhlIG5ld0F4aXNNYXNrLlxuICAgIGNvbnN0IGV4cGFuZEF4ZXMgPSBtYXNrVG9BeGVzKG5ld0F4aXNNYXNrKTtcbiAgICBjb25zdCBuZXdTaGFwZSA9ICR4LnNoYXBlLnNsaWNlKCk7XG4gICAgZXhwYW5kQXhlcy5mb3JFYWNoKGF4aXMgPT4ge1xuICAgICAgYmVnaW5bYXhpc10gPSAwO1xuICAgICAgZW5kW2F4aXNdID0gMTtcbiAgICAgIG5ld1NoYXBlLnNwbGljZShheGlzLCAwLCAxKTtcbiAgICB9KTtcbiAgICAkeCA9IHJlc2hhcGUoJHgsIG5ld1NoYXBlKTtcblxuICAgIGNvbnN0IHtcbiAgICAgIGJlZ2luOiBub3JtYWxpemVkQmVnaW4sXG4gICAgICBlbmQ6IG5vcm1hbGl6ZWRFbmQsXG4gICAgICBzdHJpZGVzOiBub3JtYWxpemVkU3RyaWRlc1xuICAgIH0gPVxuICAgICAgICBnZXROb3JtYWxpemVkQXhlcyhcbiAgICAgICAgICAgICR4LnNoYXBlLCBlbGxpcHNpc0F4ZXMsIG51bUludGVycG9sYXRlZEF4ZXMsIGJlZ2luLCBlbmQsIHN0cmlkZXMsXG4gICAgICAgICAgICBiZWdpbk1hc2ssIGVuZE1hc2ssIGVsbGlwc2lzTWFzayk7XG4gICAgYmVnaW4gPSBub3JtYWxpemVkQmVnaW47XG4gICAgZW5kID0gbm9ybWFsaXplZEVuZDtcbiAgICBzdHJpZGVzID0gbm9ybWFsaXplZFN0cmlkZXM7XG5cbiAgICBjb25zdCBzaHJpbmtBeGVzID0gbWFza1RvQXhlcyhzaHJpbmtBeGlzTWFzayk7XG4gICAgLy8gQWRqdXN0IHRoZSBlbmRzIGJhc2VkIG9uIHRoZSBzaHJpbmsgbWFzay5cbiAgICBzaHJpbmtBeGVzLmZvckVhY2goYXhpcyA9PiB7XG4gICAgICBlbmRbYXhpc10gPSBiZWdpbltheGlzXSArIDE7XG4gICAgICBzdHJpZGVzW2F4aXNdID0gMTtcbiAgICB9KTtcblxuICAgIC8vIEZpZ3VyZSBvdXQgdGhlIG91dHB1dCBzaGFwZS5cbiAgICBjb25zdCBzaXplID0gY29tcHV0ZU91dFNoYXBlKGJlZ2luLCBlbmQsIHN0cmlkZXMpO1xuICAgIC8vIFJlbW92ZSB0aGUgYXhlcyBiYXNlZCBvbiBzaHJpbmtNYXNrLlxuICAgIGNvbnN0IG91dFNoYXBlID0gc2l6ZS5maWx0ZXIoKF8sIGF4aXMpID0+IHNocmlua0F4ZXMuaW5kZXhPZihheGlzKSA9PT0gLTEpO1xuXG4gICAgY29uc3Qgbm9uU3RyaWRlZCA9IHN0cmlkZXMuZXZlcnkodiA9PiB2ID09PSAxKTtcbiAgICBpZiAobm9uU3RyaWRlZCkge1xuICAgICAgcmV0dXJuIHJlc2hhcGUoc2xpY2UoJHgsIGJlZ2luLCBzaXplKSwgb3V0U2hhcGUpO1xuICAgIH1cblxuICAgIGNvbnN0IHJlcyA9IGJhY2tlbmQuc3RyaWRlZFNsaWNlKCR4LCBiZWdpbiwgZW5kLCBzdHJpZGVzKTtcbiAgICByZXR1cm4gcmVzaGFwZShyZXMsIG91dFNoYXBlKTtcbiAgfTtcblxuICBjb25zdCBpbnB1dHM6IFN0cmlkZWRTbGljZUlucHV0cyA9IHt4OiAkeH07XG4gIGNvbnN0IGF0dHJzOiBTdHJpZGVkU2xpY2VBdHRycyA9IHtcbiAgICBiZWdpbixcbiAgICBlbmQsXG4gICAgc3RyaWRlcyxcbiAgICBiZWdpbk1hc2ssXG4gICAgZW5kTWFzayxcbiAgICBlbGxpcHNpc01hc2ssXG4gICAgbmV3QXhpc01hc2ssXG4gICAgc2hyaW5rQXhpc01hc2tcbiAgfTtcblxuICByZXR1cm4gRU5HSU5FLnJ1bktlcm5lbEZ1bmMoXG4gICAgICBmb3J3YXJkLCBpbnB1dHMgYXMge30gYXMgTmFtZWRUZW5zb3JNYXAsIG51bGwgLyogZ3JhZCAqLywgU3RyaWRlZFNsaWNlLFxuICAgICAgYXR0cnMgYXMge30gYXMgTmFtZWRBdHRyTWFwKTtcbn1cblxuZXhwb3J0IGNvbnN0IHN0cmlkZWRTbGljZSA9IG9wKHtzdHJpZGVkU2xpY2VffSk7XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbmltcG9ydCB7RU5HSU5FfSBmcm9tICcuLi9lbmdpbmUnO1xuaW1wb3J0IHtUYW4sIFRhbklucHV0c30gZnJvbSAnLi4va2VybmVsX25hbWVzJztcbmltcG9ydCB7VGVuc29yfSBmcm9tICcuLi90ZW5zb3InO1xuaW1wb3J0IHtOYW1lZFRlbnNvck1hcH0gZnJvbSAnLi4vdGVuc29yX3R5cGVzJztcbmltcG9ydCB7Y29udmVydFRvVGVuc29yfSBmcm9tICcuLi90ZW5zb3JfdXRpbF9lbnYnO1xuaW1wb3J0IHtUZW5zb3JMaWtlfSBmcm9tICcuLi90eXBlcyc7XG5cbmltcG9ydCB7b3B9IGZyb20gJy4vb3BlcmF0aW9uJztcblxuLyoqXG4gKiBDb21wdXRlcyB0YW4gb2YgdGhlIGlucHV0IGB0Zi5UZW5zb3JgIGVsZW1lbnQtd2lzZSwgYHRhbih4KWBcbiAqXG4gKiBgYGBqc1xuICogY29uc3QgeCA9IHRmLnRlbnNvcjFkKFswLCBNYXRoLlBJIC8gMiwgTWF0aC5QSSAqIDMgLyA0XSk7XG4gKlxuICogeC50YW4oKS5wcmludCgpOyAgLy8gb3IgdGYudGFuKHgpXG4gKiBgYGBcbiAqIEBwYXJhbSB4IFRoZSBpbnB1dCB0ZW5zb3IuXG4gKlxuICogQGRvYyB7aGVhZGluZzogJ09wZXJhdGlvbnMnLCBzdWJoZWFkaW5nOiAnQmFzaWMgbWF0aCd9XG4gKi9cbmZ1bmN0aW9uIHRhbl88VCBleHRlbmRzIFRlbnNvcj4oeDogVHxUZW5zb3JMaWtlKTogVCB7XG4gIGNvbnN0ICR4ID0gY29udmVydFRvVGVuc29yKHgsICd4JywgJ3RhbicpO1xuXG4gIGNvbnN0IGlucHV0czogVGFuSW5wdXRzID0ge3g6ICR4fTtcblxuICByZXR1cm4gRU5HSU5FLnJ1bktlcm5lbEZ1bmMoKGJhY2tlbmQsIHNhdmUpID0+IHtcbiAgICBjb25zdCByZXMgPSBiYWNrZW5kLnRhbigkeCk7XG4gICAgc2F2ZShbJHhdKTtcbiAgICByZXR1cm4gcmVzO1xuICB9LCBpbnB1dHMgYXMge30gYXMgTmFtZWRUZW5zb3JNYXAsIG51bGwgLyogZ3JhZCAqLywgVGFuKTtcbn1cbmV4cG9ydCBjb25zdCB0YW4gPSBvcCh7dGFuX30pO1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTggR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG5pbXBvcnQge1RlbnNvcjJEfSBmcm9tICcuLi90ZW5zb3InO1xuaW1wb3J0IHtpbmZlclNoYXBlfSBmcm9tICcuLi90ZW5zb3JfdXRpbF9lbnYnO1xuaW1wb3J0IHtUZW5zb3JMaWtlMkR9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7RGF0YVR5cGV9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7YXNzZXJ0Tm9uTnVsbH0gZnJvbSAnLi4vdXRpbCc7XG5pbXBvcnQge21ha2VUZW5zb3J9IGZyb20gJy4vdGVuc29yX29wc191dGlsJztcblxuLyoqXG4gKiBDcmVhdGVzIHJhbmstMiBgdGYuVGVuc29yYCB3aXRoIHRoZSBwcm92aWRlZCB2YWx1ZXMsIHNoYXBlIGFuZCBkdHlwZS5cbiAqXG4gKiBUaGUgc2FtZSBmdW5jdGlvbmFsaXR5IGNhbiBiZSBhY2hpZXZlZCB3aXRoIGB0Zi50ZW5zb3JgLCBidXQgaW4gZ2VuZXJhbFxuICogd2UgcmVjb21tZW5kIHVzaW5nIGB0Zi50ZW5zb3IyZGAgYXMgaXQgbWFrZXMgdGhlIGNvZGUgbW9yZSByZWFkYWJsZS5cbiAqXG4gKiAgYGBganNcbiAqIC8vIFBhc3MgYSBuZXN0ZWQgYXJyYXkuXG4gKiB0Zi50ZW5zb3IyZChbWzEsIDJdLCBbMywgNF1dKS5wcmludCgpO1xuICogYGBgXG4gKiBgYGBqc1xuICogLy8gUGFzcyBhIGZsYXQgYXJyYXkgYW5kIHNwZWNpZnkgYSBzaGFwZS5cbiAqIHRmLnRlbnNvcjJkKFsxLCAyLCAzLCA0XSwgWzIsIDJdKS5wcmludCgpO1xuICogYGBgXG4gKlxuICogQHBhcmFtIHZhbHVlcyBUaGUgdmFsdWVzIG9mIHRoZSB0ZW5zb3IuIENhbiBiZSBuZXN0ZWQgYXJyYXkgb2YgbnVtYmVycyxcbiAqICAgICBvciBhIGZsYXQgYXJyYXksIG9yIGEgYFR5cGVkQXJyYXlgLlxuICogQHBhcmFtIHNoYXBlIFRoZSBzaGFwZSBvZiB0aGUgdGVuc29yLiBJZiBub3QgcHJvdmlkZWQsIGl0IGlzIGluZmVycmVkIGZyb21cbiAqICAgICBgdmFsdWVzYC5cbiAqIEBwYXJhbSBkdHlwZSBUaGUgZGF0YSB0eXBlLlxuICpcbiAqIEBkb2Mge2hlYWRpbmc6ICdUZW5zb3JzJywgc3ViaGVhZGluZzogJ0NyZWF0aW9uJ31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRlbnNvcjJkKFxuICAgIHZhbHVlczogVGVuc29yTGlrZTJELCBzaGFwZT86IFtudW1iZXIsIG51bWJlcl0sXG4gICAgZHR5cGU/OiBEYXRhVHlwZSk6IFRlbnNvcjJEIHtcbiAgYXNzZXJ0Tm9uTnVsbCh2YWx1ZXMpO1xuICBpZiAoc2hhcGUgIT0gbnVsbCAmJiBzaGFwZS5sZW5ndGggIT09IDIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3RlbnNvcjJkKCkgcmVxdWlyZXMgc2hhcGUgdG8gaGF2ZSB0d28gbnVtYmVycycpO1xuICB9XG4gIGNvbnN0IGluZmVycmVkU2hhcGUgPSBpbmZlclNoYXBlKHZhbHVlcywgZHR5cGUpO1xuICBpZiAoaW5mZXJyZWRTaGFwZS5sZW5ndGggIT09IDIgJiYgaW5mZXJyZWRTaGFwZS5sZW5ndGggIT09IDEpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICd0ZW5zb3IyZCgpIHJlcXVpcmVzIHZhbHVlcyB0byBiZSBudW1iZXJbXVtdIG9yIGZsYXQvVHlwZWRBcnJheScpO1xuICB9XG4gIGlmIChpbmZlcnJlZFNoYXBlLmxlbmd0aCA9PT0gMSAmJiBzaGFwZSA9PSBudWxsKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAndGVuc29yMmQoKSByZXF1aXJlcyBzaGFwZSB0byBiZSBwcm92aWRlZCB3aGVuIGB2YWx1ZXNgICcgK1xuICAgICAgICAnYXJlIGEgZmxhdC9UeXBlZEFycmF5Jyk7XG4gIH1cbiAgcmV0dXJuIG1ha2VUZW5zb3IodmFsdWVzLCBzaGFwZSwgaW5mZXJyZWRTaGFwZSwgZHR5cGUpIGFzIFRlbnNvcjJEO1xufVxuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTggR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG5pbXBvcnQge0VOR0lORX0gZnJvbSAnLi4vZW5naW5lJztcbmltcG9ydCB7VG9wSywgVG9wS0F0dHJzLCBUb3BLSW5wdXRzfSBmcm9tICcuLi9rZXJuZWxfbmFtZXMnO1xuaW1wb3J0IHtOYW1lZEF0dHJNYXB9IGZyb20gJy4uL2tlcm5lbF9yZWdpc3RyeSc7XG5pbXBvcnQge051bWVyaWNUZW5zb3IsIFRlbnNvcn0gZnJvbSAnLi4vdGVuc29yJztcbmltcG9ydCB7TmFtZWRUZW5zb3JNYXB9IGZyb20gJy4uL3RlbnNvcl90eXBlcyc7XG5pbXBvcnQge2NvbnZlcnRUb1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yX3V0aWxfZW52JztcbmltcG9ydCB7VGVuc29yTGlrZX0gZnJvbSAnLi4vdHlwZXMnO1xuXG5pbXBvcnQge29wfSBmcm9tICcuL29wZXJhdGlvbic7XG5cbi8qKlxuICogRmluZHMgdGhlIHZhbHVlcyBhbmQgaW5kaWNlcyBvZiB0aGUgYGtgIGxhcmdlc3QgZW50cmllcyBhbG9uZyB0aGUgbGFzdFxuICogZGltZW5zaW9uLlxuICpcbiAqIElmIHRoZSBpbnB1dCBpcyBhIHZlY3RvciAocmFuaz0xKSwgZmluZHMgdGhlIGsgbGFyZ2VzdCBlbnRyaWVzIGluIHRoZSB2ZWN0b3JcbiAqIGFuZCBvdXRwdXRzIHRoZWlyIHZhbHVlcyBhbmQgaW5kaWNlcyBhcyB2ZWN0b3JzLiBUaHVzIHZhbHVlc1tqXSBpcyB0aGUgai10aFxuICogbGFyZ2VzdCBlbnRyeSBpbiBpbnB1dCwgYW5kIGl0cyBpbmRleCBpcyBpbmRpY2VzW2pdLlxuICogRm9yIGhpZ2hlciByYW5rIGlucHV0cywgY29tcHV0ZXMgdGhlIHRvcCBrIGVudHJpZXMgYWxvbmcgdGhlIGxhc3QgZGltZW5zaW9uLlxuICpcbiAqIElmIHR3byBlbGVtZW50cyBhcmUgZXF1YWwsIHRoZSBsb3dlci1pbmRleCBlbGVtZW50IGFwcGVhcnMgZmlyc3QuXG4gKlxuICogYGBganNcbiAqIGNvbnN0IGEgPSB0Zi50ZW5zb3IyZChbWzEsIDVdLCBbNCwgM11dKTtcbiAqIGNvbnN0IHt2YWx1ZXMsIGluZGljZXN9ID0gdGYudG9wayhhKTtcbiAqIHZhbHVlcy5wcmludCgpO1xuICogaW5kaWNlcy5wcmludCgpO1xuICogYGBgXG4gKiBAcGFyYW0geCAxLUQgb3IgaGlnaGVyIGB0Zi5UZW5zb3JgIHdpdGggbGFzdCBkaW1lbnNpb24gYmVpbmcgYXQgbGVhc3QgYGtgLlxuICogQHBhcmFtIGsgTnVtYmVyIG9mIHRvcCBlbGVtZW50cyB0byBsb29rIGZvciBhbG9uZyB0aGUgbGFzdCBkaW1lbnNpb24uXG4gKiBAcGFyYW0gc29ydGVkIElmIHRydWUsIHRoZSByZXN1bHRpbmcgYGtgIGVsZW1lbnRzIHdpbGwgYmUgc29ydGVkIGJ5IHRoZVxuICogICAgIHZhbHVlcyBpbiBkZXNjZW5kaW5nIG9yZGVyLlxuICpcbiAqIEBkb2Mge2hlYWRpbmc6ICdPcGVyYXRpb25zJywgc3ViaGVhZGluZzogJ0V2YWx1YXRpb24nfVxuICovXG5mdW5jdGlvbiB0b3BrXzxUIGV4dGVuZHMgVGVuc29yPihcbiAgICB4OiBUfFRlbnNvckxpa2UsIGsgPSAxLCBzb3J0ZWQgPSB0cnVlKToge3ZhbHVlczogVCwgaW5kaWNlczogVH0ge1xuICBjb25zdCAkeCA9IGNvbnZlcnRUb1RlbnNvcih4LCAneCcsICd0b3BrJyk7XG4gIGlmICgkeC5yYW5rID09PSAwKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCd0b3BrKCkgZXhwZWN0cyB0aGUgaW5wdXQgdG8gYmUgb2YgcmFuayAxIG9yIGhpZ2hlcicpO1xuICB9XG4gIGNvbnN0IGxhc3REaW0gPSAkeC5zaGFwZVskeC5zaGFwZS5sZW5ndGggLSAxXTtcbiAgaWYgKGsgPiBsYXN0RGltKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBgJ2snIHBhc3NlZCB0byB0b3BrKCkgbXVzdCBiZSA8PSB0aGUgbGFzdCBkaW1lbnNpb24gKCR7bGFzdERpbX0pIGAgK1xuICAgICAgICBgYnV0IGdvdCAke2t9YCk7XG4gIH1cblxuICBjb25zdCBpbnB1dHM6IFRvcEtJbnB1dHMgPSB7eDogJHh9O1xuICBjb25zdCBhdHRyczogVG9wS0F0dHJzID0ge2ssIHNvcnRlZH07XG5cbiAgY29uc3QgW3ZhbHVlcywgaW5kaWNlc10gPSBFTkdJTkUucnVuS2VybmVsRnVuYyhcbiAgICAgIGIgPT4gYi50b3BrKCR4IGFzIE51bWVyaWNUZW5zb3IsIGssIHNvcnRlZCksXG4gICAgICBpbnB1dHMgYXMge30gYXMgTmFtZWRUZW5zb3JNYXAsIG51bGwgLyogZ3JhZCAqLywgVG9wSyxcbiAgICAgIGF0dHJzIGFzIHt9IGFzIE5hbWVkQXR0ck1hcCk7XG5cbiAgcmV0dXJuIHt2YWx1ZXMsIGluZGljZXN9IGFzIHt2YWx1ZXM6IFQsIGluZGljZXM6IFR9O1xufVxuXG5leHBvcnQgY29uc3QgdG9wayA9IG9wKHt0b3BrX30pO1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG5pbXBvcnQge1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yJztcbmltcG9ydCB7RGF0YVR5cGUsIFJhbmssIFNoYXBlTWFwfSBmcm9tICcuLi90eXBlcyc7XG5cbmltcG9ydCB7YnVmZmVyfSBmcm9tICcuL2J1ZmZlcic7XG5pbXBvcnQge29wfSBmcm9tICcuL29wZXJhdGlvbic7XG5pbXBvcnQge01QUmFuZEdhdXNzfSBmcm9tICcuL3JhbmRfdXRpbCc7XG5cbi8qKlxuICogQ3JlYXRlcyBhIGB0Zi5UZW5zb3JgIHdpdGggdmFsdWVzIHNhbXBsZWQgZnJvbSBhIHRydW5jYXRlZCBub3JtYWxcbiAqIGRpc3RyaWJ1dGlvbi5cbiAqXG4gKiBgYGBqc1xuICogdGYudHJ1bmNhdGVkTm9ybWFsKFsyLCAyXSkucHJpbnQoKTtcbiAqIGBgYFxuICpcbiAqIFRoZSBnZW5lcmF0ZWQgdmFsdWVzIGZvbGxvdyBhIG5vcm1hbCBkaXN0cmlidXRpb24gd2l0aCBzcGVjaWZpZWQgbWVhbiBhbmRcbiAqIHN0YW5kYXJkIGRldmlhdGlvbiwgZXhjZXB0IHRoYXQgdmFsdWVzIHdob3NlIG1hZ25pdHVkZSBpcyBtb3JlIHRoYW4gMlxuICogc3RhbmRhcmQgZGV2aWF0aW9ucyBmcm9tIHRoZSBtZWFuIGFyZSBkcm9wcGVkIGFuZCByZS1waWNrZWQuXG4gKlxuICogQHBhcmFtIHNoYXBlIEFuIGFycmF5IG9mIGludGVnZXJzIGRlZmluaW5nIHRoZSBvdXRwdXQgdGVuc29yIHNoYXBlLlxuICogQHBhcmFtIG1lYW4gVGhlIG1lYW4gb2YgdGhlIG5vcm1hbCBkaXN0cmlidXRpb24uXG4gKiBAcGFyYW0gc3RkRGV2IFRoZSBzdGFuZGFyZCBkZXZpYXRpb24gb2YgdGhlIG5vcm1hbCBkaXN0cmlidXRpb24uXG4gKiBAcGFyYW0gZHR5cGUgVGhlIGRhdGEgdHlwZSBvZiB0aGUgb3V0cHV0IHRlbnNvci5cbiAqIEBwYXJhbSBzZWVkIFRoZSBzZWVkIGZvciB0aGUgcmFuZG9tIG51bWJlciBnZW5lcmF0b3IuXG4gKlxuICogQGRvYyB7aGVhZGluZzogJ1RlbnNvcnMnLCBzdWJoZWFkaW5nOiAnQ3JlYXRpb24nfVxuICovXG5mdW5jdGlvbiB0cnVuY2F0ZWROb3JtYWxfPFIgZXh0ZW5kcyBSYW5rPihcbiAgICBzaGFwZTogU2hhcGVNYXBbUl0sIG1lYW4gPSAwLCBzdGREZXYgPSAxLCBkdHlwZT86ICdmbG9hdDMyJ3wnaW50MzInLFxuICAgIHNlZWQ/OiBudW1iZXIpOiBUZW5zb3I8Uj4ge1xuICBpZiAoZHR5cGUgIT0gbnVsbCAmJiAoZHR5cGUgYXMgRGF0YVR5cGUpID09PSAnYm9vbCcpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYFVuc3VwcG9ydGVkIGRhdGEgdHlwZSAkIHsgZHR5cGUgfWApO1xuICB9XG4gIGNvbnN0IHJhbmRHYXVzcyA9XG4gICAgICBuZXcgTVBSYW5kR2F1c3MobWVhbiwgc3RkRGV2LCBkdHlwZSwgdHJ1ZSAvKiB0cnVuY2F0ZWQgKi8sIHNlZWQpO1xuICBjb25zdCByZXMgPSBidWZmZXIoc2hhcGUsIGR0eXBlKTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCByZXMudmFsdWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgcmVzLnZhbHVlc1tpXSA9IHJhbmRHYXVzcy5uZXh0VmFsdWUoKTtcbiAgfVxuICByZXR1cm4gcmVzLnRvVGVuc29yKCk7XG59XG5cbmV4cG9ydCBjb25zdCB0cnVuY2F0ZWROb3JtYWwgPSBvcCh7dHJ1bmNhdGVkTm9ybWFsX30pO1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG5pbXBvcnQge0VOR0lORX0gZnJvbSAnLi4vZW5naW5lJztcbmltcG9ydCB7VW5pcXVlLCBVbmlxdWVBdHRycywgVW5pcXVlSW5wdXRzfSBmcm9tICcuLi9rZXJuZWxfbmFtZXMnO1xuaW1wb3J0IHtOYW1lZEF0dHJNYXB9IGZyb20gJy4uL2tlcm5lbF9yZWdpc3RyeSc7XG5pbXBvcnQge1RlbnNvciwgVGVuc29yMUR9IGZyb20gJy4uL3RlbnNvcic7XG5pbXBvcnQge05hbWVkVGVuc29yTWFwfSBmcm9tICcuLi90ZW5zb3JfdHlwZXMnO1xuaW1wb3J0IHtjb252ZXJ0VG9UZW5zb3J9IGZyb20gJy4uL3RlbnNvcl91dGlsX2Vudic7XG5pbXBvcnQge1RlbnNvckxpa2V9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7YXNzZXJ0fSBmcm9tICcuLi91dGlsJztcblxuaW1wb3J0IHtvcH0gZnJvbSAnLi9vcGVyYXRpb24nO1xuXG4vKipcbiAqIEZpbmRzIHVuaXF1ZSBlbGVtZW50cyBhbG9uZyBhbiBheGlzIG9mIGEgdGVuc29yLlxuICpcbiAqIEl0IHJldHVybnMgYSB0ZW5zb3IgYHZhbHVlc2AgY29udGFpbmluZyBhbGwgb2YgdGhlIHVuaXF1ZSBlbGVtZW50cyBhbG9uZyB0aGVcbiAqIGBheGlzYCBvZiB0aGUgZ2l2ZW4gdGVuc29yIGB4YCBpbiB0aGUgc2FtZSBvcmRlciB0aGF0IHRoZXkgb2NjdXIgYWxvbmcgdGhlXG4gKiBgYXhpc2AgaW4gYHhgOyBgeGAgZG9lcyBub3QgbmVlZCB0byBiZSBzb3J0ZWQuIEl0IGFsc28gcmV0dXJucyBhIHRlbnNvclxuICogYGluZGljZXNgIHRoZSBzYW1lIHNpemUgYXMgdGhlIG51bWJlciBvZiB0aGUgZWxlbWVudHMgaW4gYHhgIGFsb25nIHRoZSBgYXhpc2BcbiAqIGRpbWVuc2lvbi4gSXQgY29udGFpbnMgdGhlIGluZGV4IGluIHRoZSB1bmlxdWUgb3V0cHV0IGB2YWx1ZXNgLlxuICpcbiAqIGBgYGpzXG4gKiAvLyBBIDEtRCB0ZW5zb3JcbiAqIGNvbnN0IGEgPSB0Zi50ZW5zb3IxZChbMSwgMSwgMiwgNCwgNCwgNCwgNywgOCwgOF0pO1xuICogY29uc3Qge3ZhbHVlcywgaW5kaWNlc30gPSB0Zi51bmlxdWUoYSk7XG4gKiB2YWx1ZXMucHJpbnQoKTsgICAvLyBbMSwgMiwgNCwgNywgOCxdXG4gKiBpbmRpY2VzLnByaW50KCk7ICAvLyBbMCwgMCwgMSwgMiwgMiwgMiwgMywgNCwgNF1cbiAqIGBgYFxuICpcbiAqIGBgYGpzXG4gKiAvLyBBIDItRCB0ZW5zb3Igd2l0aCBheGlzPTBcbiAqIC8vXG4gKiAvLyAnYScgaXM6IFtbMSwgMCwgMF0sXG4gKiAvLyAgICAgICAgICBbMSwgMCwgMF0sXG4gKiAvLyAgICAgICAgICBbMiwgMCwgMF1dXG4gKiBjb25zdCBhID0gdGYudGVuc29yMmQoW1sxLCAwLCAwXSwgWzEsIDAsIDBdLCBbMiwgMCwgMF1dKTtcbiAqIGNvbnN0IHt2YWx1ZXMsIGluZGljZXN9ID0gdGYudW5pcXVlKGEsIDApXG4gKiB2YWx1ZXMucHJpbnQoKTsgICAvLyBbWzEsIDAsIDBdLFxuICogICAgICAgICAgICAgICAgICAgLy8gIFsyLCAwLCAwXV1cbiAqIGluZGljZXMucHJpbnQoKTsgIC8vIFswLCAwLCAxXVxuICogYGBgXG4gKlxuICogYGBganNcbiAqIC8vIEEgMi1EIHRlbnNvciB3aXRoIGF4aXM9MVxuICogLy9cbiAqIC8vICdhJyBpczogW1sxLCAwLCAwXSxcbiAqIC8vICAgICAgICAgIFsxLCAwLCAwXSxcbiAqIC8vICAgICAgICAgIFsyLCAwLCAwXV1cbiAqIGNvbnN0IGEgPSB0Zi50ZW5zb3IyZChbWzEsIDAsIDBdLCBbMSwgMCwgMF0sIFsyLCAwLCAwXV0pO1xuICogY29uc3Qge3ZhbHVlcywgaW5kaWNlc30gPSB0Zi51bmlxdWUoYSwgMSlcbiAqIHZhbHVlcy5wcmludCgpOyAgIC8vIFtbMSwgMF0sXG4gKiAgICAgICAgICAgICAgICAgICAvLyAgWzEsIDBdLFxuICogICAgICAgICAgICAgICAgICAgLy8gIFsyLCAwXV1cbiAqIGluZGljZXMucHJpbnQoKTsgIC8vIFswLCAxLCAxXVxuICogYGBgXG4gKiBAcGFyYW0geCBBIHRlbnNvciAoaW50MzIsIHN0cmluZywgYm9vbCkuXG4gKiBAcGFyYW0gYXhpcyBUaGUgYXhpcyBvZiB0aGUgdGVuc29yIHRvIGZpbmQgdGhlIHVuaXF1ZSBlbGVtZW50cy5cbiAqIEByZXR1cm5zIFt1bmlxdWVFbGVtZW50cywgaW5kaWNlc10gKHNlZSBhYm92ZSBmb3IgZGV0YWlscylcbiAqXG4gKiBAZG9jIHtoZWFkaW5nOiAnT3BlcmF0aW9ucycsIHN1YmhlYWRpbmc6ICdFdmFsdWF0aW9uJ31cbiAqL1xuZnVuY3Rpb24gdW5pcXVlXzxUIGV4dGVuZHMgVGVuc29yPihcbiAgICB4OiBUfFRlbnNvckxpa2UsIGF4aXMgPSAwKToge3ZhbHVlczogVCwgaW5kaWNlczogVGVuc29yMUR9IHtcbiAgLy8geCBjYW4gYmUgb2YgYW55IGR0eXBlLCB0aHVzIG51bGwgYXMgdGhlIGxhc3QgYXJndW1lbnQuXG4gIGNvbnN0ICR4ID0gY29udmVydFRvVGVuc29yKHgsICd4JywgJ3VuaXF1ZScsIG51bGwpO1xuICBhc3NlcnQoJHgucmFuayA+IDAsICgpID0+ICdUaGUgaW5wdXQgdGVuc29yIG11c3QgYmUgYXQgbGVhc3QgMUQnKTtcblxuICBjb25zdCBpbnB1dHM6IFVuaXF1ZUlucHV0cyA9IHt4OiAkeH07XG4gIGNvbnN0IGF0dHJzOiBVbmlxdWVBdHRycyA9IHtheGlzfTtcbiAgY29uc3QgW3ZhbHVlcywgaW5kaWNlc10gPSBFTkdJTkUucnVuS2VybmVsKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBVbmlxdWUsIGlucHV0cyBhcyB7fSBhcyBOYW1lZFRlbnNvck1hcCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cnMgYXMge30gYXMgTmFtZWRBdHRyTWFwKSBhcyBbVCwgVGVuc29yMURdO1xuICByZXR1cm4ge3ZhbHVlcywgaW5kaWNlc307XG59XG5cbmV4cG9ydCBjb25zdCB1bmlxdWUgPSBvcCh7dW5pcXVlX30pO1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG5pbXBvcnQge0VOR0lORSwgRm9yd2FyZEZ1bmN9IGZyb20gJy4uL2VuZ2luZSc7XG5pbXBvcnQge1Vuc29ydGVkU2VnbWVudFN1bSwgVW5zb3J0ZWRTZWdtZW50U3VtQXR0cnMsIFVuc29ydGVkU2VnbWVudFN1bUlucHV0c30gZnJvbSAnLi4va2VybmVsX25hbWVzJztcbmltcG9ydCB7TmFtZWRBdHRyTWFwfSBmcm9tICcuLi9rZXJuZWxfcmVnaXN0cnknO1xuaW1wb3J0IHtUZW5zb3IsIFRlbnNvcjFEfSBmcm9tICcuLi90ZW5zb3InO1xuaW1wb3J0IHtOYW1lZFRlbnNvck1hcH0gZnJvbSAnLi4vdGVuc29yX3R5cGVzJztcbmltcG9ydCB7Y29udmVydFRvVGVuc29yfSBmcm9tICcuLi90ZW5zb3JfdXRpbF9lbnYnO1xuaW1wb3J0IHtUZW5zb3JMaWtlfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQge2Fzc2VydCwgaXNJbnR9IGZyb20gJy4uL3V0aWwnO1xuXG5pbXBvcnQge29wfSBmcm9tICcuL29wZXJhdGlvbic7XG5cbi8qKlxuICogQ29tcHV0ZXMgdGhlIHN1bSBhbG9uZyBzZWdtZW50cyBvZiBhIGB0Zi5UZW5zb3JgLlxuICpcbiAqIGBgYGpzXG4gKiBjb25zdCB4ID0gdGYudGVuc29yMWQoWzEsIDIsIDMsIDRdKTtcbiAqIGNvbnN0IHNlZ21lbnRJZHMgPSB0Zi50ZW5zb3IxZChbMSwgMiwgMCwgMV0sICdpbnQzMicpO1xuICogY29uc3QgbnVtU2VnbWVudHMgPSAzO1xuICpcbiAqIHgudW5zb3J0ZWRTZWdtZW50U3VtKHNlZ21lbnRJZHMsIG51bVNlZ21lbnRzKS5wcmludCgpXG4gKiAvL29yIHRmLnVuc29ydGVkU2VnbWVudFN1bSh4LCBzZWdtZW50SWRzLCBudW1TZWdtZW50cylcbiAqIGBgYFxuICogQHBhcmFtIHggVGhlIGB0Zi5UZW5zb3JgIHRoYXQgd2lsbCBiZSBzdW1tZWQgYWxvbmcgaXRzIHNlZ21lbnRzLlxuICogQHBhcmFtIHNlZ21lbnRJZHMgQSBgdGYuVGVuc29yMURgIHdob3NlIHJhbmsgaXMgZXF1YWwgdG8gdGhlIHJhbmsgb2YgYHhgJ3NcbiAqIGRpbWVuc2lvbiBhbG9uZyB0aGUgYGF4aXNgLiAgTWFwcyBlYWNoIGVsZW1lbnQgb2YgYHhgIHRvIGEgc2VnbWVudC5cbiAqIEBwYXJhbSBudW1TZWdtZW50cyBUaGUgbnVtYmVyIG9mIGRpc3RpbmN0IGBzZWdtZW50SWRzYC5cbiAqXG4gKiBAZG9jIHtoZWFkaW5nOiAnT3BlcmF0aW9ucycsIHN1YmhlYWRpbmc6ICdTZWdtZW50J31cbiAqL1xuZnVuY3Rpb24gdW5zb3J0ZWRTZWdtZW50U3VtXzxUIGV4dGVuZHMgVGVuc29yPihcbiAgICB4OiBUfFRlbnNvckxpa2UsIHNlZ21lbnRJZHM6IFRlbnNvcjFEfFRlbnNvckxpa2UsIG51bVNlZ21lbnRzOiBudW1iZXIpOiBUIHtcbiAgY29uc3QgJHggPSBjb252ZXJ0VG9UZW5zb3IoeCwgJ3gnLCAndW5zb3J0ZWRTZWdtZW50U3VtJyk7XG4gIGNvbnN0ICRzZWdtZW50SWRzID1cbiAgICAgIGNvbnZlcnRUb1RlbnNvcihzZWdtZW50SWRzLCAnc2VnbWVudElkcycsICd1bnNvcnRlZFNlZ21lbnRTdW0nLCAnaW50MzInKTtcbiAgYXNzZXJ0KGlzSW50KG51bVNlZ21lbnRzKSwgKCkgPT4gJ251bVNlZ21lbnRzIG11c3QgYmUgb2YgZHR5cGUgaW50Jyk7XG5cbiAgY29uc3QgaW5wdXRzOiBVbnNvcnRlZFNlZ21lbnRTdW1JbnB1dHMgPSB7eDogJHgsIHNlZ21lbnRJZHM6ICRzZWdtZW50SWRzfTtcbiAgY29uc3QgYXR0cnM6IFVuc29ydGVkU2VnbWVudFN1bUF0dHJzID0ge251bVNlZ21lbnRzfTtcblxuICBjb25zdCBmb3J3YXJkOiBGb3J3YXJkRnVuYzxUZW5zb3I+ID0gKGJhY2tlbmQsIHNhdmUpID0+IHtcbiAgICBjb25zdCByZXMgPSBiYWNrZW5kLnVuc29ydGVkU2VnbWVudFN1bSgkeCwgJHNlZ21lbnRJZHMsIG51bVNlZ21lbnRzKTtcbiAgICBzYXZlKFskc2VnbWVudElkc10pO1xuICAgIHJldHVybiByZXM7XG4gIH07XG5cbiAgcmV0dXJuIEVOR0lORS5ydW5LZXJuZWxGdW5jKFxuICAgICAgICAgICAgIGZvcndhcmQsIGlucHV0cyBhcyB7fSBhcyBOYW1lZFRlbnNvck1hcCwgbnVsbCAvKiBncmFkICovLFxuICAgICAgICAgICAgIFVuc29ydGVkU2VnbWVudFN1bSwgYXR0cnMgYXMge30gYXMgTmFtZWRBdHRyTWFwKSBhcyBUO1xufVxuXG5leHBvcnQgY29uc3QgdW5zb3J0ZWRTZWdtZW50U3VtID0gb3Aoe3Vuc29ydGVkU2VnbWVudFN1bV99KTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuaW1wb3J0IHtLZXJuZWxCYWNrZW5kfSBmcm9tICcuLi9iYWNrZW5kcy9iYWNrZW5kJztcbmltcG9ydCB7RU5HSU5FLCBGb3J3YXJkRnVuY30gZnJvbSAnLi4vZW5naW5lJztcbmltcG9ydCB7VW5wYWNrLCBVbnBhY2tBdHRycywgVW5wYWNrSW5wdXRzfSBmcm9tICcuLi9rZXJuZWxfbmFtZXMnO1xuaW1wb3J0IHtOYW1lZEF0dHJNYXB9IGZyb20gJy4uL2tlcm5lbF9yZWdpc3RyeSc7XG5pbXBvcnQge1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yJztcbmltcG9ydCB7TmFtZWRUZW5zb3JNYXB9IGZyb20gJy4uL3RlbnNvcl90eXBlcyc7XG5pbXBvcnQge2NvbnZlcnRUb1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yX3V0aWxfZW52JztcbmltcG9ydCB7VGVuc29yTGlrZX0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0ICogYXMgdXRpbCBmcm9tICcuLi91dGlsJztcblxuaW1wb3J0IHtvcH0gZnJvbSAnLi9vcGVyYXRpb24nO1xuXG4vKipcbiAqIFVuc3RhY2tzIGEgYHRmLlRlbnNvcmAgb2YgcmFuay1gUmAgaW50byBhIGxpc3Qgb2YgcmFuay1gKFItMSlgIGB0Zi5UZW5zb3Jgcy5cbiAqXG4gKiBgYGBqc1xuICogY29uc3QgYSA9IHRmLnRlbnNvcjJkKFsxLCAyLCAzLCA0XSwgWzIsIDJdKTtcbiAqXG4gKiB0Zi51bnN0YWNrKGEpLmZvckVhY2godGVuc29yID0+IHRlbnNvci5wcmludCgpKTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB4IEEgdGVuc29yIG9iamVjdC5cbiAqIEBwYXJhbSBheGlzIFRoZSBheGlzIHRvIHVuc3RhY2sgYWxvbmcuIERlZmF1bHRzIHRvIDAgKHRoZSBmaXJzdCBkaW0pLlxuICpcbiAqIEBkb2Mge2hlYWRpbmc6ICdUZW5zb3JzJywgc3ViaGVhZGluZzogJ1NsaWNpbmcgYW5kIEpvaW5pbmcnfVxuICovXG5mdW5jdGlvbiB1bnN0YWNrXyh4OiBUZW5zb3J8VGVuc29yTGlrZSwgYXhpcyA9IDApOiBUZW5zb3JbXSB7XG4gIGNvbnN0ICR4ID0gY29udmVydFRvVGVuc29yKHgsICd4JywgJ3Vuc3RhY2snKTtcbiAgdXRpbC5hc3NlcnQoXG4gICAgICBheGlzID49IC0keC5zaGFwZS5sZW5ndGggJiYgYXhpcyA8ICR4LnNoYXBlLmxlbmd0aCxcbiAgICAgICgpID0+XG4gICAgICAgICAgYEF4aXMgPSAke2F4aXN9IGlzIG5vdCBpbiBbLSR7JHguc2hhcGUubGVuZ3RofSwgJHskeC5zaGFwZS5sZW5ndGh9KWApO1xuICBpZiAoYXhpcyA8IDApIHtcbiAgICBheGlzICs9ICR4LnNoYXBlLmxlbmd0aDtcbiAgfVxuICBjb25zdCBpbnB1dHM6IFVucGFja0lucHV0cyA9IHt2YWx1ZTogJHh9O1xuICBjb25zdCBhdHRyczogVW5wYWNrQXR0cnMgPSB7YXhpc307XG4gIGNvbnN0IGZvcndhcmQ6IEZvcndhcmRGdW5jPFRlbnNvcltdPiA9IChiYWNrZW5kOiBLZXJuZWxCYWNrZW5kKSA9PlxuICAgICAgYmFja2VuZC51bnN0YWNrKCR4LCBheGlzKTtcbiAgcmV0dXJuIEVOR0lORS5ydW5LZXJuZWxGdW5jKFxuICAgICAgZm9yd2FyZCwgaW5wdXRzIGFzIHt9IGFzIE5hbWVkVGVuc29yTWFwLCBudWxsIC8qIGdyYWQgKi8sIFVucGFjayxcbiAgICAgIGF0dHJzIGFzIHt9IGFzIE5hbWVkQXR0ck1hcCk7XG59XG5cbmV4cG9ydCBjb25zdCB1bnN0YWNrID0gb3Aoe3Vuc3RhY2tffSk7XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbi8qKiBBbiBpbXBsZW1lbnRhdGlvbiBvZiB0aGUgV2hlcmUga2VybmVsIHNoYXJlZCBiZXR3ZWVuIGNwdSBhbmQgd2ViZ2wgKi9cblxuaW1wb3J0IHtidWZmZXJ9IGZyb20gJy4uL29wcy9idWZmZXInO1xuaW1wb3J0IHtUZW5zb3IyRH0gZnJvbSAnLi4vdGVuc29yJztcbmltcG9ydCB7VHlwZWRBcnJheX0gZnJvbSAnLi4vdHlwZXMnO1xuXG5leHBvcnQgZnVuY3Rpb24gd2hlcmVJbXBsKGNvbmRTaGFwZTogbnVtYmVyW10sIGNvbmRWYWxzOiBUeXBlZEFycmF5KTogVGVuc29yMkQge1xuICBjb25zdCBpbmRpY2VzID0gW107XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgY29uZFZhbHMubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoY29uZFZhbHNbaV0pIHtcbiAgICAgIGluZGljZXMucHVzaChpKTtcbiAgICB9XG4gIH1cblxuICBjb25zdCBpbkJ1ZmZlciA9IGJ1ZmZlcihjb25kU2hhcGUsICdpbnQzMicpO1xuXG4gIGNvbnN0IG91dCA9IGJ1ZmZlcihbaW5kaWNlcy5sZW5ndGgsIGNvbmRTaGFwZS5sZW5ndGhdLCAnaW50MzInKTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbmRpY2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgbG9jID0gaW5CdWZmZXIuaW5kZXhUb0xvYyhpbmRpY2VzW2ldKTtcbiAgICBjb25zdCBvZmZzZXQgPSBpICogY29uZFNoYXBlLmxlbmd0aDtcbiAgICBvdXQudmFsdWVzLnNldChsb2MsIG9mZnNldCk7XG4gIH1cbiAgcmV0dXJuIG91dC50b1RlbnNvcigpIGFzIFRlbnNvcjJEO1xufVxuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuaW1wb3J0IHt3aGVyZUltcGx9IGZyb20gJy4uL2JhY2tlbmRzL3doZXJlX2ltcGwnO1xuaW1wb3J0IHtUZW5zb3IsIFRlbnNvcjJEfSBmcm9tICcuLi90ZW5zb3InO1xuaW1wb3J0IHtjb252ZXJ0VG9UZW5zb3J9IGZyb20gJy4uL3RlbnNvcl91dGlsX2Vudic7XG5pbXBvcnQge1RlbnNvckxpa2V9IGZyb20gJy4uL3R5cGVzJztcblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBjb29yZGluYXRlcyBvZiB0cnVlIGVsZW1lbnRzIG9mIGNvbmRpdGlvbi5cbiAqXG4gKiBUaGUgY29vcmRpbmF0ZXMgYXJlIHJldHVybmVkIGluIGEgMi1EIHRlbnNvciB3aGVyZSB0aGUgZmlyc3QgZGltZW5zaW9uIChyb3dzKVxuICogcmVwcmVzZW50cyB0aGUgbnVtYmVyIG9mIHRydWUgZWxlbWVudHMsIGFuZCB0aGUgc2Vjb25kIGRpbWVuc2lvbiAoY29sdW1ucylcbiAqIHJlcHJlc2VudHMgdGhlIGNvb3JkaW5hdGVzIG9mIHRoZSB0cnVlIGVsZW1lbnRzLiBLZWVwIGluIG1pbmQsIHRoZSBzaGFwZSBvZlxuICogdGhlIG91dHB1dCB0ZW5zb3IgY2FuIHZhcnkgZGVwZW5kaW5nIG9uIGhvdyBtYW55IHRydWUgdmFsdWVzIHRoZXJlIGFyZSBpblxuICogaW5wdXQuIEluZGljZXMgYXJlIG91dHB1dCBpbiByb3ctbWFqb3Igb3JkZXIuIFRoZSByZXN1bHRpbmcgdGVuc29yIGhhcyB0aGVcbiAqIHNoYXBlIGBbbnVtVHJ1ZUVsZW1zLCBjb25kaXRpb24ucmFua11gLlxuICpcbiAqIFRoaXMgaXMgYW5hbG9nb3VzIHRvIGNhbGxpbmcgdGhlIHB5dGhvbiBgdGYud2hlcmUoY29uZClgIHdpdGhvdXQgYW4geCBvciB5LlxuICpcbiAqIGBgYGpzXG4gKiBjb25zdCBjb25kID0gdGYudGVuc29yMWQoW2ZhbHNlLCBmYWxzZSwgdHJ1ZV0sICdib29sJyk7XG4gKiBjb25zdCByZXN1bHQgPSBhd2FpdCB0Zi53aGVyZUFzeW5jKGNvbmQpO1xuICogcmVzdWx0LnByaW50KCk7XG4gKiBgYGBcbiAqXG4gKiBAZG9jIHtoZWFkaW5nOiAnT3BlcmF0aW9ucycsIHN1YmhlYWRpbmc6ICdMb2dpY2FsJ31cbiAqL1xuYXN5bmMgZnVuY3Rpb24gd2hlcmVBc3luY18oY29uZGl0aW9uOiBUZW5zb3J8VGVuc29yTGlrZSk6IFByb21pc2U8VGVuc29yMkQ+IHtcbiAgY29uc3QgJGNvbmRpdGlvbiA9XG4gICAgICBjb252ZXJ0VG9UZW5zb3IoY29uZGl0aW9uLCAnY29uZGl0aW9uJywgJ3doZXJlQXN5bmMnLCAnYm9vbCcpO1xuICBjb25zdCB2YWxzID0gYXdhaXQgJGNvbmRpdGlvbi5kYXRhKCk7XG4gIGNvbnN0IHJlcyA9IHdoZXJlSW1wbCgkY29uZGl0aW9uLnNoYXBlLCB2YWxzKTtcbiAgaWYgKGNvbmRpdGlvbiAhPT0gJGNvbmRpdGlvbikge1xuICAgICRjb25kaXRpb24uZGlzcG9zZSgpO1xuICB9XG4gIHJldHVybiByZXM7XG59XG5cbmV4cG9ydCBjb25zdCB3aGVyZUFzeW5jID0gd2hlcmVBc3luY187XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbmltcG9ydCB7VGVuc29yfSBmcm9tICcuLi90ZW5zb3InO1xuaW1wb3J0IHtjb252ZXJ0VG9UZW5zb3J9IGZyb20gJy4uL3RlbnNvcl91dGlsX2Vudic7XG5pbXBvcnQge1RlbnNvckxpa2V9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCAqIGFzIHV0aWwgZnJvbSAnLi4vdXRpbCc7XG5cbmltcG9ydCB7Z2F0aGVyfSBmcm9tICcuL2dhdGhlcic7XG5pbXBvcnQge3Jlc2hhcGV9IGZyb20gJy4vcmVzaGFwZSc7XG5pbXBvcnQge3NxdWVlemV9IGZyb20gJy4vc3F1ZWV6ZSc7XG5pbXBvcnQge3doZXJlQXN5bmN9IGZyb20gJy4vd2hlcmVfYXN5bmMnO1xuXG4vKipcbiAqIEFwcGx5IGJvb2xlYW4gbWFzayB0byB0ZW5zb3IuXG4gKlxuICogYGBganNcbiAqIGNvbnN0IHRlbnNvciA9IHRmLnRlbnNvcjJkKFsxLCAyLCAzLCA0LCA1LCA2XSwgWzMsIDJdKTtcbiAqIGNvbnN0IG1hc2sgPSB0Zi50ZW5zb3IxZChbMSwgMCwgMV0sICdib29sJyk7XG4gKiBjb25zdCByZXN1bHQgPSBhd2FpdCB0Zi5ib29sZWFuTWFza0FzeW5jKHRlbnNvciwgbWFzayk7XG4gKiByZXN1bHQucHJpbnQoKTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB0ZW5zb3IgTi1EIHRlbnNvci5cbiAqIEBwYXJhbSBtYXNrIEstRCBib29sZWFuIHRlbnNvciwgSyA8PSBOIGFuZCBLIG11c3QgYmUga25vd24gc3RhdGljYWxseS5cbiAqIEBwYXJhbSBheGlzIEEgMC1EIGludCBUZW5zb3IgcmVwcmVzZW50aW5nIHRoZSBheGlzIGluIHRlbnNvciB0byBtYXNrIGZyb20uXG4gKiAgICAgQnkgZGVmYXVsdCwgYXhpcyBpcyAwIHdoaWNoIHdpbGwgbWFzayBmcm9tIHRoZSBmaXJzdCBkaW1lbnNpb24uXG4gKiAgICAgT3RoZXJ3aXNlIEsgKyBheGlzIDw9IE4uXG4gKlxuICogQGRvYyB7aGVhZGluZzogJ1RlbnNvcnMnLCBzdWJoZWFkaW5nOiAnU2xpY2luZyBhbmQgSm9pbmluZyd9XG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGJvb2xlYW5NYXNrQXN5bmNfKFxuICAgIHRlbnNvcjogVGVuc29yfFRlbnNvckxpa2UsIG1hc2s6IFRlbnNvcnxUZW5zb3JMaWtlLFxuICAgIGF4aXM/OiBudW1iZXIpOiBQcm9taXNlPFRlbnNvcj4ge1xuICBjb25zdCAkdGVuc29yID0gY29udmVydFRvVGVuc29yKHRlbnNvciwgJ3RlbnNvcicsICdib29sTWFzaycpO1xuICBjb25zdCAkbWFzayA9IGNvbnZlcnRUb1RlbnNvcihtYXNrLCAnbWFzaycsICdib29sTWFzaycsICdib29sJyk7XG5cbiAgY29uc3QgYXhpc0Zyb20gPSBheGlzID09IG51bGwgPyAwIDogYXhpcztcbiAgY29uc3QgbWFza0RpbSA9ICRtYXNrLnJhbms7XG4gIGNvbnN0IHRlbnNvclNoYXBlID0gJHRlbnNvci5zaGFwZTtcblxuICB1dGlsLmFzc2VydChtYXNrRGltID4gMCwgKCkgPT4gJ21hc2sgY2Fubm90IGJlIHNjYWxhcicpO1xuICB1dGlsLmFzc2VydFNoYXBlc01hdGNoKFxuICAgICAgdGVuc29yU2hhcGUuc2xpY2UoYXhpc0Zyb20sIGF4aXNGcm9tICsgbWFza0RpbSksICRtYXNrLnNoYXBlLFxuICAgICAgYG1hc2sncyBzaGFwZSBtdXN0IG1hdGNoIHRoZSBmaXJzdCBLIGRpbWVuc2lvbnMgb2YgdGVuc29yJ3Mgc2hhcGUsYCk7XG5cbiAgbGV0IGxlYWRpbmdTaXplID0gMTtcbiAgZm9yIChsZXQgaSA9IGF4aXNGcm9tOyBpIDwgYXhpc0Zyb20gKyBtYXNrRGltOyBpKyspIHtcbiAgICBsZWFkaW5nU2l6ZSAqPSB0ZW5zb3JTaGFwZVtpXTtcbiAgfVxuICBjb25zdCB0YXJnZXRUZW5zb3JTaGFwZSA9XG4gICAgICB0ZW5zb3JTaGFwZS5zbGljZSgwLCBheGlzRnJvbSlcbiAgICAgICAgICAuY29uY2F0KFtsZWFkaW5nU2l6ZV0sIHRlbnNvclNoYXBlLnNsaWNlKGF4aXNGcm9tICsgbWFza0RpbSkpO1xuICBjb25zdCByZXNoYXBlZFRlbnNvciA9IHJlc2hhcGUoJHRlbnNvciwgdGFyZ2V0VGVuc29yU2hhcGUpO1xuICBjb25zdCByZXNoYXBlZE1hc2sgPSByZXNoYXBlKCRtYXNrLCBbLTFdKTtcbiAgY29uc3QgcG9zaXRpdmVQb3NpdGlvbnMgPSBhd2FpdCB3aGVyZUFzeW5jKHJlc2hhcGVkTWFzayk7XG4gIGNvbnN0IGluZGljZXMgPSBzcXVlZXplKHBvc2l0aXZlUG9zaXRpb25zLCBbMV0pO1xuXG4gIGNvbnN0IHJlcyA9IGdhdGhlcihyZXNoYXBlZFRlbnNvciwgaW5kaWNlcywgYXhpc0Zyb20pO1xuXG4gIC8vIEVuc3VyZSBubyBtZW1vcnkgbGVhay5cbiAgaWYgKHRlbnNvciAhPT0gJHRlbnNvcikge1xuICAgICR0ZW5zb3IuZGlzcG9zZSgpO1xuICB9XG4gIGlmIChtYXNrICE9PSAkbWFzaykge1xuICAgICRtYXNrLmRpc3Bvc2UoKTtcbiAgfVxuICBpbmRpY2VzLmRpc3Bvc2UoKTtcbiAgcmVzaGFwZWRUZW5zb3IuZGlzcG9zZSgpO1xuICByZXNoYXBlZE1hc2suZGlzcG9zZSgpO1xuICBwb3NpdGl2ZVBvc2l0aW9ucy5kaXNwb3NlKCk7XG5cbiAgcmV0dXJuIHJlcztcbn1cblxuZXhwb3J0IGNvbnN0IGJvb2xlYW5NYXNrQXN5bmMgPSBib29sZWFuTWFza0FzeW5jXztcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE4IEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cbmltcG9ydCB7ZGVwcmVjYXRpb25XYXJufSBmcm9tICcuLi9nbG9iYWxzJztcbmltcG9ydCB7VGVuc29yfSBmcm9tICcuLi90ZW5zb3InO1xuaW1wb3J0IHtjb252ZXJ0VG9UZW5zb3J9IGZyb20gJy4uL3RlbnNvcl91dGlsX2Vudic7XG5pbXBvcnQge1RlbnNvckxpa2V9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7YXNzZXJ0U2hhcGVzTWF0Y2h9IGZyb20gJy4uL3V0aWwnO1xuXG5pbXBvcnQge2VxdWFsfSBmcm9tICcuL2VxdWFsJztcbmltcG9ydCB7Z3JlYXRlcn0gZnJvbSAnLi9ncmVhdGVyJztcbmltcG9ydCB7Z3JlYXRlckVxdWFsfSBmcm9tICcuL2dyZWF0ZXJfZXF1YWwnO1xuaW1wb3J0IHtsZXNzfSBmcm9tICcuL2xlc3MnO1xuaW1wb3J0IHtsZXNzRXF1YWx9IGZyb20gJy4vbGVzc19lcXVhbCc7XG5pbXBvcnQge25vdEVxdWFsfSBmcm9tICcuL25vdF9lcXVhbCc7XG5pbXBvcnQge29wfSBmcm9tICcuL29wZXJhdGlvbic7XG5cbi8qKlxuICogQGRlcHJlY2F0ZWRcbiAqIFN0cmljdCB2ZXJzaW9uIG9mIGB0Zi5ub3RFcXVhbGAgdGhhdCBmb3JjZXMgYGFgIGFuZCBgYmAgdG8gYmUgb2YgdGhlIHNhbWVcbiAqIHNoYXBlLlxuICpcbiAqIEBwYXJhbSBhIFRoZSBmaXJzdCBpbnB1dCB0ZW5zb3IuXG4gKiBAcGFyYW0gYiBUaGUgc2Vjb25kIGlucHV0IHRlbnNvci4gTXVzdCBoYXZlIHRoZSBzYW1lIHNoYXBlIGFuZCBkdHlwZSBhc1xuICogICAgIGBhYC5cbiAqL1xuZnVuY3Rpb24gbm90RXF1YWxTdHJpY3RfPFQgZXh0ZW5kcyBUZW5zb3I+KFxuICAgIGE6IFR8VGVuc29yTGlrZSwgYjogVHxUZW5zb3JMaWtlKTogVCB7XG4gIGRlcHJlY2F0aW9uV2FybihcbiAgICAgICdzdHJpY3QgdmFyaWFudHMgb2Ygb3BzIGhhdmUgYmVlbiBkZXByZWNhdGVkICcgK1xuICAgICAgJ2FuZCB3aWxsIGJlIHJlbW92ZWQgaW4gZnV0dXJlJyk7XG4gIGNvbnN0ICRhID0gY29udmVydFRvVGVuc29yKGEsICdhJywgJ25vdEVxdWFsU3RyaWN0Jyk7XG4gIGNvbnN0ICRiID0gY29udmVydFRvVGVuc29yKGIsICdiJywgJ25vdEVxdWFsU3RyaWN0Jyk7XG4gIGFzc2VydFNoYXBlc01hdGNoKCRhLnNoYXBlLCAkYi5zaGFwZSwgJ0Vycm9yIGluIG5vdEVxdWFsU3RyaWN0OiAnKTtcbiAgcmV0dXJuIG5vdEVxdWFsKCRhLCAkYik7XG59XG5cbi8qKlxuICogQGRlcHJlY2F0ZWRcbiAqIFN0cmljdCB2ZXJzaW9uIG9mIGB0Zi5sZXNzYCB0aGF0IGZvcmNlcyBgYWAgYW5kIGBiYCB0byBiZSBvZiB0aGUgc2FtZVxuICogc2hhcGUuXG4gKlxuICogQHBhcmFtIGEgVGhlIGZpcnN0IGlucHV0IHRlbnNvci5cbiAqIEBwYXJhbSBiIFRoZSBzZWNvbmQgaW5wdXQgdGVuc29yLiBNdXN0IGhhdmUgdGhlIHNhbWUgc2hhcGUgYW5kIGR0eXBlIGFzXG4gKiAgICAgYGFgLlxuICovXG5mdW5jdGlvbiBsZXNzU3RyaWN0XzxUIGV4dGVuZHMgVGVuc29yPihhOiBUfFRlbnNvckxpa2UsIGI6IFR8VGVuc29yTGlrZSk6IFQge1xuICBkZXByZWNhdGlvbldhcm4oXG4gICAgICAnc3RyaWN0IHZhcmlhbnRzIG9mIG9wcyBoYXZlIGJlZW4gZGVwcmVjYXRlZCAnICtcbiAgICAgICdhbmQgd2lsbCBiZSByZW1vdmVkIGluIGZ1dHVyZScpO1xuICBjb25zdCAkYSA9IGNvbnZlcnRUb1RlbnNvcihhLCAnYScsICdsZXNzU3RyaWN0Jyk7XG4gIGNvbnN0ICRiID0gY29udmVydFRvVGVuc29yKGIsICdiJywgJ2xlc3NTdHJpY3QnKTtcbiAgYXNzZXJ0U2hhcGVzTWF0Y2goJGEuc2hhcGUsICRiLnNoYXBlLCAnRXJyb3IgaW4gbGVzc1N0cmljdDogJyk7XG4gIHJldHVybiBsZXNzKCRhLCAkYik7XG59XG5cbmZ1bmN0aW9uIGVxdWFsU3RyaWN0XzxUIGV4dGVuZHMgVGVuc29yPihhOiBUfFRlbnNvckxpa2UsIGI6IFR8VGVuc29yTGlrZSk6IFQge1xuICBkZXByZWNhdGlvbldhcm4oXG4gICAgICAnc3RyaWN0IHZhcmlhbnRzIG9mIG9wcyBoYXZlIGJlZW4gZGVwcmVjYXRlZCAnICtcbiAgICAgICdhbmQgd2lsbCBiZSByZW1vdmVkIGluIGZ1dHVyZScpO1xuICBjb25zdCAkYSA9IGNvbnZlcnRUb1RlbnNvcihhLCAnYScsICdlcXVhbFN0cmljdCcpO1xuICBjb25zdCAkYiA9IGNvbnZlcnRUb1RlbnNvcihiLCAnYicsICdlcXVhbFN0cmljdCcpO1xuICBhc3NlcnRTaGFwZXNNYXRjaCgkYS5zaGFwZSwgJGIuc2hhcGUsICdFcnJvciBpbiBlcXVhbFN0cmljdDogJyk7XG4gIHJldHVybiBlcXVhbCgkYSwgJGIpO1xufVxuXG5mdW5jdGlvbiBsZXNzRXF1YWxTdHJpY3RfPFQgZXh0ZW5kcyBUZW5zb3I+KFxuICAgIGE6IFR8VGVuc29yTGlrZSwgYjogVHxUZW5zb3JMaWtlKTogVCB7XG4gIGRlcHJlY2F0aW9uV2FybihcbiAgICAgICdzdHJpY3QgdmFyaWFudHMgb2Ygb3BzIGhhdmUgYmVlbiBkZXByZWNhdGVkICcgK1xuICAgICAgJ2FuZCB3aWxsIGJlIHJlbW92ZWQgaW4gZnV0dXJlJyk7XG4gIGNvbnN0ICRhID0gY29udmVydFRvVGVuc29yKGEsICdhJywgJ2xlc3NFcXVhbFN0cmljdCcpO1xuICBjb25zdCAkYiA9IGNvbnZlcnRUb1RlbnNvcihiLCAnYicsICdsZXNzRXF1YWxTdHJpY3QnKTtcbiAgYXNzZXJ0U2hhcGVzTWF0Y2goJGEuc2hhcGUsICRiLnNoYXBlLCAnRXJyb3IgaW4gbGVzc0VxdWFsU3RyaWN0OiAnKTtcbiAgcmV0dXJuIGxlc3NFcXVhbCgkYSwgJGIpO1xufVxuXG5mdW5jdGlvbiBncmVhdGVyU3RyaWN0XzxUIGV4dGVuZHMgVGVuc29yPihhOiBUfFRlbnNvckxpa2UsIGI6IFR8VGVuc29yTGlrZSk6IFQge1xuICBkZXByZWNhdGlvbldhcm4oXG4gICAgICAnc3RyaWN0IHZhcmlhbnRzIG9mIG9wcyBoYXZlIGJlZW4gZGVwcmVjYXRlZCAnICtcbiAgICAgICdhbmQgd2lsbCBiZSByZW1vdmVkIGluIGZ1dHVyZScpO1xuICBjb25zdCAkYSA9IGNvbnZlcnRUb1RlbnNvcihhLCAnYScsICdncmVhdGVyU3RyaWN0Jyk7XG4gIGNvbnN0ICRiID0gY29udmVydFRvVGVuc29yKGIsICdiJywgJ2dyZWF0ZXJTdHJpY3QnKTtcbiAgYXNzZXJ0U2hhcGVzTWF0Y2goJGEuc2hhcGUsICRiLnNoYXBlLCAnRXJyb3IgaW4gZ3JlYXRlclN0cmljdDogJyk7XG4gIHJldHVybiBncmVhdGVyKCRhLCAkYik7XG59XG5cbmZ1bmN0aW9uIGdyZWF0ZXJFcXVhbFN0cmljdF88VCBleHRlbmRzIFRlbnNvcj4oXG4gICAgYTogVHxUZW5zb3JMaWtlLCBiOiBUfFRlbnNvckxpa2UpOiBUIHtcbiAgZGVwcmVjYXRpb25XYXJuKFxuICAgICAgJ3N0cmljdCB2YXJpYW50cyBvZiBvcHMgaGF2ZSBiZWVuIGRlcHJlY2F0ZWQgJyArXG4gICAgICAnYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiBmdXR1cmUnKTtcbiAgY29uc3QgJGEgPSBjb252ZXJ0VG9UZW5zb3IoYSwgJ2EnLCAnZ3JlYXRlckVxdWFsU3RyaWN0Jyk7XG4gIGNvbnN0ICRiID0gY29udmVydFRvVGVuc29yKGIsICdiJywgJ2dyZWF0ZXJFcXVhbFN0cmljdCcpO1xuICBhc3NlcnRTaGFwZXNNYXRjaCgkYS5zaGFwZSwgJGIuc2hhcGUsICdFcnJvciBpbiBncmVhdGVyRXF1YWxTdHJpY3Q6ICcpO1xuICByZXR1cm4gZ3JlYXRlckVxdWFsKCRhLCAkYik7XG59XG5cbmV4cG9ydCBjb25zdCBlcXVhbFN0cmljdCA9IG9wKHtlcXVhbFN0cmljdF99KTtcbmV4cG9ydCBjb25zdCBncmVhdGVyRXF1YWxTdHJpY3QgPSBvcCh7Z3JlYXRlckVxdWFsU3RyaWN0X30pO1xuZXhwb3J0IGNvbnN0IGdyZWF0ZXJTdHJpY3QgPSBvcCh7Z3JlYXRlclN0cmljdF99KTtcbmV4cG9ydCBjb25zdCBsZXNzRXF1YWxTdHJpY3QgPSBvcCh7bGVzc0VxdWFsU3RyaWN0X30pO1xuZXhwb3J0IGNvbnN0IGxlc3NTdHJpY3QgPSBvcCh7bGVzc1N0cmljdF99KTtcbmV4cG9ydCBjb25zdCBub3RFcXVhbFN0cmljdCA9IG9wKHtub3RFcXVhbFN0cmljdF99KTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE4IEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuaW1wb3J0IHtkZXByZWNhdGlvbldhcm59IGZyb20gJy4uL2dsb2JhbHMnO1xuaW1wb3J0IHtUZW5zb3J9IGZyb20gJy4uL3RlbnNvcic7XG5pbXBvcnQge2NvbnZlcnRUb1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yX3V0aWxfZW52JztcbmltcG9ydCB7VGVuc29yTGlrZX0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0ICogYXMgdXRpbCBmcm9tICcuLi91dGlsJztcblxuaW1wb3J0IHthZGR9IGZyb20gJy4vYWRkJztcbmltcG9ydCB7ZGl2fSBmcm9tICcuL2Rpdic7XG5pbXBvcnQge21heGltdW19IGZyb20gJy4vbWF4aW11bSc7XG5pbXBvcnQge21pbmltdW19IGZyb20gJy4vbWluaW11bSc7XG5pbXBvcnQge21vZH0gZnJvbSAnLi9tb2QnO1xuaW1wb3J0IHttdWx9IGZyb20gJy4vbXVsJztcbmltcG9ydCB7b3B9IGZyb20gJy4vb3BlcmF0aW9uJztcbmltcG9ydCB7cG93fSBmcm9tICcuL3Bvdyc7XG5pbXBvcnQge3NxdWFyZWREaWZmZXJlbmNlfSBmcm9tICcuL3NxdWFyZWRfZGlmZmVyZW5jZSc7XG5pbXBvcnQge3N1Yn0gZnJvbSAnLi9zdWInO1xuXG4vKipcbiAqIEBkZXByZWNhdGVkXG4gKiBBZGRzIHR3byBgdGYuVGVuc29yYHMgZWxlbWVudC13aXNlLCBBICsgQi5cbiAqXG4gKiBJbnB1dHMgbXVzdCBiZSB0aGUgc2FtZSBzaGFwZS4gRm9yIGJyb2FkY2FzdGluZyBzdXBwb3J0LCB1c2UgYWRkKCkgaW5zdGVhZC5cbiAqXG4gKiBAcGFyYW0gYSBUaGUgZmlyc3QgVGVuc29yIHRvIGFkZCBlbGVtZW50LXdpc2UuXG4gKiBAcGFyYW0gYiBUaGUgc2Vjb25kIFRlbnNvciB0byBhZGQgZWxlbWVudC13aXNlLlxuICovXG5mdW5jdGlvbiBhZGRTdHJpY3RfPFQgZXh0ZW5kcyBUZW5zb3I+KGE6IFR8VGVuc29yTGlrZSwgYjogVHxUZW5zb3JMaWtlKTogVCB7XG4gIGRlcHJlY2F0aW9uV2FybihcbiAgICAgICdzdHJpY3QgdmFyaWFudHMgb2Ygb3BzIGhhdmUgYmVlbiBkZXByZWNhdGVkICcgK1xuICAgICAgJ2FuZCB3aWxsIGJlIHJlbW92ZWQgaW4gZnV0dXJlJyk7XG4gIGNvbnN0ICRhID0gY29udmVydFRvVGVuc29yKGEsICdhJywgJ2FkZFN0cmljdCcpO1xuICBjb25zdCAkYiA9IGNvbnZlcnRUb1RlbnNvcihiLCAnYicsICdhZGRTdHJpY3QnKTtcbiAgdXRpbC5hc3NlcnRTaGFwZXNNYXRjaCgkYS5zaGFwZSwgJGIuc2hhcGUsICdFcnJvciBpbiBhZGRTdHJpY3Q6ICcpO1xuICByZXR1cm4gYWRkKCRhLCAkYik7XG59XG5cbi8qKlxuICogQGRlcHJlY2F0ZWRcbiAqIFN1YnRyYWN0cyB0d28gYHRmLlRlbnNvcmBzIGVsZW1lbnQtd2lzZSwgQSAtIEIuIElucHV0cyBtdXN0XG4gKiBiZSB0aGUgc2FtZSBzaGFwZS5cbiAqXG4gKiBGb3IgYnJvYWRjYXN0aW5nIHN1cHBvcnQsIHVzZSBgdGYuc3ViYCBpbnN0ZWFkLlxuICpcbiAqIEBwYXJhbSBhIFRoZSBmaXJzdCBUZW5zb3IgdG8gc3VidHJhY3QgZWxlbWVudC13aXNlLlxuICogQHBhcmFtIGIgVGhlIHNlY29uZCBUZW5zb3IgdG8gc3VidHJhY3QgZWxlbWVudC13aXNlLlxuICovXG5mdW5jdGlvbiBzdWJTdHJpY3RfPFQgZXh0ZW5kcyBUZW5zb3I+KGE6IFR8VGVuc29yTGlrZSwgYjogVHxUZW5zb3JMaWtlKTogVCB7XG4gIGRlcHJlY2F0aW9uV2FybihcbiAgICAgICdzdHJpY3QgdmFyaWFudHMgb2Ygb3BzIGhhdmUgYmVlbiBkZXByZWNhdGVkICcgK1xuICAgICAgJ2FuZCB3aWxsIGJlIHJlbW92ZWQgaW4gZnV0dXJlJyk7XG5cbiAgY29uc3QgJGEgPSBjb252ZXJ0VG9UZW5zb3IoYSwgJ2EnLCAnc3ViU3RyaWN0Jyk7XG4gIGNvbnN0ICRiID0gY29udmVydFRvVGVuc29yKGIsICdiJywgJ3N1YlN0cmljdCcpO1xuICB1dGlsLmFzc2VydFNoYXBlc01hdGNoKCRhLnNoYXBlLCAkYi5zaGFwZSwgJ0Vycm9yIGluIHN1YlN0cmljdDogJyk7XG4gIHJldHVybiBzdWIoJGEsICRiKTtcbn1cblxuLyoqXG4gKiBAZGVwcmVjYXRlZFxuICogQ29tcHV0ZXMgdGhlIHBvd2VyIG9mIG9uZSBgdGYuVGVuc29yYCB0byBhbm90aGVyLiBJbnB1dHMgbXVzdFxuICogYmUgdGhlIHNhbWUgc2hhcGUuXG4gKlxuICogRm9yIGJyb2FkY2FzdGluZyBzdXBwb3J0LCB1c2UgYHRmLnBvd2AgaW5zdGVhZC5cbiAqXG4gKiBAcGFyYW0gYmFzZSBUaGUgYmFzZSB0ZW5zb3IgdG8gcG93IGVsZW1lbnQtd2lzZS5cbiAqIEBwYXJhbSBleHAgVGhlIGV4cG9uZW50IHRlbnNvciB0byBwb3cgZWxlbWVudC13aXNlLlxuICovXG5mdW5jdGlvbiBwb3dTdHJpY3RfPFQgZXh0ZW5kcyBUZW5zb3I+KGJhc2U6IFQsIGV4cDogVGVuc29yKTogVCB7XG4gIGRlcHJlY2F0aW9uV2FybihcbiAgICAgICdzdHJpY3QgdmFyaWFudHMgb2Ygb3BzIGhhdmUgYmVlbiBkZXByZWNhdGVkICcgK1xuICAgICAgJ2FuZCB3aWxsIGJlIHJlbW92ZWQgaW4gZnV0dXJlJyk7XG5cbiAgdXRpbC5hc3NlcnRTaGFwZXNNYXRjaChiYXNlLnNoYXBlLCBleHAuc2hhcGUsICdFcnJvciBpbiBwb3dTdHJpY3Q6ICcpO1xuICByZXR1cm4gcG93KGJhc2UsIGV4cCk7XG59XG5cbi8qKlxuICogQGRlcHJlY2F0ZWRcbiAqIE11bHRpcGxpZXMgdHdvIGB0Zi5UZW5zb3JgcyBlbGVtZW50LXdpc2UsIEEgKiBCLlxuICpcbiAqIElucHV0cyBtdXN0IGJlIHRoZSBzYW1lIHNoYXBlLiBGb3IgYnJvYWRjYXN0aW5nIHN1cHBvcnQsIHVzZSBgdGYubXVsYC5cbiAqXG4gKiBAcGFyYW0gYSBUaGUgZmlyc3QgdGVuc29yIHRvIG11bHRpcGx5LlxuICogQHBhcmFtIGIgVGhlIGZpcnN0IHRlbnNvciB0byBtdWx0aXBseS4gTXVzdCBoYXZlIHRoZSBzYW1lXG4gKiAgICBkdHlwZSBhcyBgYWAuXG4gKi9cbmZ1bmN0aW9uIG11bFN0cmljdF88VCBleHRlbmRzIFRlbnNvcj4oYTogVHxUZW5zb3JMaWtlLCBiOiBUfFRlbnNvckxpa2UpOiBUIHtcbiAgZGVwcmVjYXRpb25XYXJuKFxuICAgICAgJ3N0cmljdCB2YXJpYW50cyBvZiBvcHMgaGF2ZSBiZWVuIGRlcHJlY2F0ZWQgJyArXG4gICAgICAnYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiBmdXR1cmUnKTtcblxuICBjb25zdCAkYSA9IGNvbnZlcnRUb1RlbnNvcihhLCAnYScsICdtdWwnKTtcbiAgY29uc3QgJGIgPSBjb252ZXJ0VG9UZW5zb3IoYiwgJ2InLCAnbXVsJyk7XG4gIHV0aWwuYXNzZXJ0U2hhcGVzTWF0Y2goJGEuc2hhcGUsICRiLnNoYXBlLCAnRXJyb3IgaW4gbXVsdGlwbHlTdHJpY3Q6ICcpO1xuICByZXR1cm4gbXVsKCRhLCAkYik7XG59XG5cbi8qKlxuICogQGRlcHJlY2F0ZWRcbiAqIERpdmlkZXMgdHdvIGB0Zi5UZW5zb3JgcyBlbGVtZW50LXdpc2UsIEEgLyBCLiBJbnB1dHMgbXVzdFxuICogYmUgdGhlIHNhbWUgc2hhcGUuXG4gKlxuICogQHBhcmFtIGEgVGhlIGZpcnN0IHRlbnNvciBhcyB0aGUgbnVtZXJhdG9yIGZvciBlbGVtZW50LXdpc2UgZGl2aXNpb24uXG4gKiBAcGFyYW0gYiBUaGUgc2Vjb25kIHRlbnNvciBhcyB0aGUgZGVub21pbmF0b3IgZm9yIGVsZW1lbnQtd2lzZSBkaXZpc2lvbi5cbiAqL1xuZnVuY3Rpb24gZGl2U3RyaWN0XzxUIGV4dGVuZHMgVGVuc29yPihhOiBUfFRlbnNvckxpa2UsIGI6IFR8VGVuc29yTGlrZSk6IFQge1xuICBkZXByZWNhdGlvbldhcm4oXG4gICAgICAnc3RyaWN0IHZhcmlhbnRzIG9mIG9wcyBoYXZlIGJlZW4gZGVwcmVjYXRlZCAnICtcbiAgICAgICdhbmQgd2lsbCBiZSByZW1vdmVkIGluIGZ1dHVyZScpO1xuXG4gIGNvbnN0ICRhID0gY29udmVydFRvVGVuc29yKGEsICdhJywgJ2RpdicpO1xuICBjb25zdCAkYiA9IGNvbnZlcnRUb1RlbnNvcihiLCAnYicsICdkaXYnKTtcbiAgdXRpbC5hc3NlcnRTaGFwZXNNYXRjaCgkYS5zaGFwZSwgJGIuc2hhcGUsICdFcnJvciBpbiBkaXZpZGVTdHJpY3Q6ICcpO1xuICByZXR1cm4gZGl2KCRhLCAkYik7XG59XG5cbi8qKlxuICogQGRlcHJlY2F0ZWRcbiAqIFJldHVybnMgdGhlIG1vZCBvZiBhIGFuZCBiIChgYSA8IGIgPyBhIDogYmApIGVsZW1lbnQtd2lzZS4gSW5wdXRzIG11c3RcbiAqIGJlIHRoZSBzYW1lIHNoYXBlLiBGb3IgYnJvYWRjYXN0aW5nIHN1cHBvcnQsIHVzZSBtb2QoKS5cbiAqXG4gKiBAcGFyYW0gYSBUaGUgZmlyc3QgdGVuc29yLlxuICogQHBhcmFtIGIgVGhlIHNlY29uZCB0ZW5zb3IuIE11c3QgaGF2ZSB0aGUgc2FtZSBkdHlwZSBhcyBgYWAuXG4gKi9cbmZ1bmN0aW9uIG1vZFN0cmljdF88VCBleHRlbmRzIFRlbnNvcj4oYTogVHxUZW5zb3JMaWtlLCBiOiBUfFRlbnNvckxpa2UpOiBUIHtcbiAgZGVwcmVjYXRpb25XYXJuKFxuICAgICAgJ3N0cmljdCB2YXJpYW50cyBvZiBvcHMgaGF2ZSBiZWVuIGRlcHJlY2F0ZWQgJyArXG4gICAgICAnYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiBmdXR1cmUnKTtcblxuICBjb25zdCAkYSA9IGNvbnZlcnRUb1RlbnNvcihhLCAnYScsICdtb2RTdHJpY3QnKTtcbiAgY29uc3QgJGIgPSBjb252ZXJ0VG9UZW5zb3IoYiwgJ2InLCAnbW9kU3RyaWN0Jyk7XG4gIHV0aWwuYXNzZXJ0U2hhcGVzTWF0Y2goJGEuc2hhcGUsICRiLnNoYXBlLCAnRXJyb3IgaW4gbW9kU3RyaWN0OiAnKTtcbiAgcmV0dXJuIG1vZCgkYSwgJGIpO1xufVxuXG4vKipcbiAqIEBkZXByZWNhdGVkXG4gKiBSZXR1cm5zIHRoZSBtaW4gb2YgYSBhbmQgYiAoYGEgPCBiID8gYSA6IGJgKSBlbGVtZW50LXdpc2UuIElucHV0cyBtdXN0XG4gKiBiZSB0aGUgc2FtZSBzaGFwZS4gRm9yIGJyb2FkY2FzdGluZyBzdXBwb3J0LCB1c2UgbWluaW11bSgpLlxuICpcbiAqIEBwYXJhbSBhIFRoZSBmaXJzdCB0ZW5zb3IuXG4gKiBAcGFyYW0gYiBUaGUgc2Vjb25kIHRlbnNvci4gTXVzdCBoYXZlIHRoZSBzYW1lIGR0eXBlIGFzIGBhYC5cbiAqL1xuZnVuY3Rpb24gbWluaW11bVN0cmljdF88VCBleHRlbmRzIFRlbnNvcj4oYTogVHxUZW5zb3JMaWtlLCBiOiBUfFRlbnNvckxpa2UpOiBUIHtcbiAgZGVwcmVjYXRpb25XYXJuKFxuICAgICAgJ3N0cmljdCB2YXJpYW50cyBvZiBvcHMgaGF2ZSBiZWVuIGRlcHJlY2F0ZWQgJyArXG4gICAgICAnYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiBmdXR1cmUnKTtcblxuICBjb25zdCAkYSA9IGNvbnZlcnRUb1RlbnNvcihhLCAnYScsICdtaW5pbXVtU3RyaWN0Jyk7XG4gIGNvbnN0ICRiID0gY29udmVydFRvVGVuc29yKGIsICdiJywgJ21pbmltdW1TdHJpY3QnKTtcbiAgdXRpbC5hc3NlcnRTaGFwZXNNYXRjaCgkYS5zaGFwZSwgJGIuc2hhcGUsICdFcnJvciBpbiBtaW5pbXVtU3RyaWN0OiAnKTtcbiAgcmV0dXJuIG1pbmltdW0oJGEsICRiKTtcbn1cblxuLyoqXG4gKiBAZGVwcmVjYXRlZFxuICogUmV0dXJucyB0aGUgbWF4IG9mIGEgYW5kIGIgKGBhID4gYiA/IGEgOiBiYCkgZWxlbWVudC13aXNlLiBJbnB1dHMgbXVzdFxuICogYmUgdGhlIHNhbWUgc2hhcGUuIEZvciBicm9hZGNhc3Rpbmcgc3VwcG9ydCwgdXNlIG1heGltdW0oKS5cbiAqXG4gKiBAcGFyYW0gYSBUaGUgZmlyc3QgdGVuc29yLlxuICogQHBhcmFtIGIgVGhlIHNlY29uZCB0ZW5zb3IuIE11c3QgaGF2ZSB0aGUgc2FtZSBkdHlwZSBhcyBgYWAuXG4gKi9cbmZ1bmN0aW9uIG1heGltdW1TdHJpY3RfPFQgZXh0ZW5kcyBUZW5zb3I+KGE6IFR8VGVuc29yTGlrZSwgYjogVHxUZW5zb3JMaWtlKTogVCB7XG4gIGRlcHJlY2F0aW9uV2FybihcbiAgICAgICdzdHJpY3QgdmFyaWFudHMgb2Ygb3BzIGhhdmUgYmVlbiBkZXByZWNhdGVkICcgK1xuICAgICAgJ2FuZCB3aWxsIGJlIHJlbW92ZWQgaW4gZnV0dXJlJyk7XG5cbiAgY29uc3QgJGEgPSBjb252ZXJ0VG9UZW5zb3IoYSwgJ2EnLCAnbWF4aW11bVN0cmljdCcpO1xuICBjb25zdCAkYiA9IGNvbnZlcnRUb1RlbnNvcihiLCAnYicsICdtYXhpbXVtU3RyaWN0Jyk7XG4gIHV0aWwuYXNzZXJ0U2hhcGVzTWF0Y2goJGEuc2hhcGUsICRiLnNoYXBlLCAnRXJyb3IgaW4gbWF4aW11bVN0cmljdDogJyk7XG4gIHJldHVybiBtYXhpbXVtKCRhLCAkYik7XG59XG5cbi8qKlxuICogQGRlcHJlY2F0ZWRcbiAqIFJldHVybnMgKGEgLSBiKSAqIChhIC0gYikgZWxlbWVudC13aXNlLlxuICpcbiAqIElucHV0cyBtdXN0IGJlIHRoZSBzYW1lIHNoYXBlLiBGb3IgYnJvYWRjYXN0aW5nIHN1cHBvcnQsIHVzZVxuICogYHRmLnNxdWFyZWREaWZmZXJlbmNlYCBpbnN0ZWFkLlxuICpcbiAqIEBwYXJhbSBhIFRoZSBmaXJzdCB0ZW5zb3IuXG4gKiBAcGFyYW0gYiBUaGUgc2Vjb25kIHRlbnNvci4gTXVzdCBoYXZlIHRoZSBzYW1lIHR5cGUgYXMgYGFgLlxuICovXG5mdW5jdGlvbiBzcXVhcmVkRGlmZmVyZW5jZVN0cmljdF88VCBleHRlbmRzIFRlbnNvcj4oXG4gICAgYTogVHxUZW5zb3JMaWtlLCBiOiBUfFRlbnNvckxpa2UpOiBUIHtcbiAgZGVwcmVjYXRpb25XYXJuKFxuICAgICAgJ3N0cmljdCB2YXJpYW50cyBvZiBvcHMgaGF2ZSBiZWVuIGRlcHJlY2F0ZWQgJyArXG4gICAgICAnYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiBmdXR1cmUnKTtcbiAgY29uc3QgJGEgPSBjb252ZXJ0VG9UZW5zb3IoYSwgJ2EnLCAnc3F1YXJlZERpZmZlcmVuY2VTdHJpY3QnKTtcbiAgY29uc3QgJGIgPSBjb252ZXJ0VG9UZW5zb3IoYiwgJ2InLCAnc3F1YXJlZERpZmZlcmVuY2VTdHJpY3QnKTtcbiAgdXRpbC5hc3NlcnRTaGFwZXNNYXRjaChcbiAgICAgICRhLnNoYXBlLCAkYi5zaGFwZSwgJ0Vycm9yIGluIHNxdWFyZWREaWZmZXJlbmNlU3RyaWN0OiAnKTtcbiAgcmV0dXJuIHNxdWFyZWREaWZmZXJlbmNlKCRhLCAkYik7XG59XG5cbmV4cG9ydCBjb25zdCBhZGRTdHJpY3QgPSBvcCh7YWRkU3RyaWN0X30pO1xuZXhwb3J0IGNvbnN0IGRpdlN0cmljdCA9IG9wKHtkaXZTdHJpY3RffSk7XG5leHBvcnQgY29uc3QgbWF4aW11bVN0cmljdCA9IG9wKHttYXhpbXVtU3RyaWN0X30pO1xuZXhwb3J0IGNvbnN0IG1pbmltdW1TdHJpY3QgPSBvcCh7bWluaW11bVN0cmljdF99KTtcbmV4cG9ydCBjb25zdCBtb2RTdHJpY3QgPSBvcCh7bW9kU3RyaWN0X30pO1xuZXhwb3J0IGNvbnN0IG11bFN0cmljdCA9IG9wKHttdWxTdHJpY3RffSk7XG5leHBvcnQgY29uc3QgcG93U3RyaWN0ID0gb3Aoe3Bvd1N0cmljdF99KTtcbmV4cG9ydCBjb25zdCBzcXVhcmVkRGlmZmVyZW5jZVN0cmljdCA9IG9wKHtzcXVhcmVkRGlmZmVyZW5jZVN0cmljdF99KTtcbmV4cG9ydCBjb25zdCBzdWJTdHJpY3QgPSBvcCh7c3ViU3RyaWN0X30pO1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTggR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG5pbXBvcnQge1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yJztcbmltcG9ydCB7Y29udmVydFRvVGVuc29yfSBmcm9tICcuLi90ZW5zb3JfdXRpbF9lbnYnO1xuaW1wb3J0IHtUZW5zb3JMaWtlfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQge3BhcnNlQXhpc1BhcmFtfSBmcm9tICcuLi91dGlsJztcblxuaW1wb3J0IHthYnN9IGZyb20gJy4vYWJzJztcbmltcG9ydCAqIGFzIGF4aXNfdXRpbCBmcm9tICcuL2F4aXNfdXRpbCc7XG5pbXBvcnQge21heH0gZnJvbSAnLi9tYXgnO1xuaW1wb3J0IHttaW59IGZyb20gJy4vbWluJztcbmltcG9ydCB7b3B9IGZyb20gJy4vb3BlcmF0aW9uJztcbmltcG9ydCB7cG93fSBmcm9tICcuL3Bvdyc7XG5pbXBvcnQge3Jlc2hhcGV9IGZyb20gJy4vcmVzaGFwZSc7XG5pbXBvcnQge3NjYWxhcn0gZnJvbSAnLi9zY2FsYXInO1xuaW1wb3J0IHtzcXJ0fSBmcm9tICcuL3NxcnQnO1xuaW1wb3J0IHtzcXVhcmV9IGZyb20gJy4vc3F1YXJlJztcbmltcG9ydCB7c3VtfSBmcm9tICcuL3N1bSc7XG5cbi8qKlxuICogQ29tcHV0ZXMgdGhlIG5vcm0gb2Ygc2NhbGFyLCB2ZWN0b3JzLCBhbmQgbWF0cmljZXMuXG4gKiBUaGlzIGZ1bmN0aW9uIGNhbiBjb21wdXRlIHNldmVyYWwgZGlmZmVyZW50IHZlY3RvciBub3JtcyAodGhlIDEtbm9ybSwgdGhlXG4gKiBFdWNsaWRlYW4gb3IgMi1ub3JtLCB0aGUgaW5mLW5vcm0sIGFuZCBpbiBnZW5lcmFsIHRoZSBwLW5vcm0gZm9yIHAgPiAwKVxuICogYW5kIG1hdHJpeCBub3JtcyAoRnJvYmVuaXVzLCAxLW5vcm0sIGFuZCBpbmYtbm9ybSkuXG4gKlxuICogYGBganNcbiAqIGNvbnN0IHggPSB0Zi50ZW5zb3IxZChbMSwgMiwgMywgNF0pO1xuICpcbiAqIHgubm9ybSgpLnByaW50KCk7ICAvLyBvciB0Zi5ub3JtKHgpXG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0geCBUaGUgaW5wdXQgYXJyYXkuXG4gKiBAcGFyYW0gb3JkIE9wdGlvbmFsLiBPcmRlciBvZiB0aGUgbm9ybS4gU3VwcG9ydGVkIG5vcm0gdHlwZXMgYXJlXG4gKiBmb2xsb3dpbmc6XG4gKlxuICogIHwgb3JkICAgICAgICB8IG5vcm0gZm9yIG1hdHJpY2VzICAgICAgICAgfCBub3JtIGZvciB2ZWN0b3JzXG4gKiAgfC0tLS0tLS0tLS0tLXwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS18LS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiAgfCdldWNsaWRlYW4nIHxGcm9iZW5pdXMgbm9ybSAgICAgICAgICAgICB8Mi1ub3JtXG4gKiAgfCdmcm8nICAgICAgIHxGcm9iZW5pdXMgbm9ybVx0ICAgICAgICAgICB8XG4gKiAgfEluZmluaXR5ICAgIHxtYXgoc3VtKGFicyh4KSwgYXhpcz0xKSkgICB8bWF4KGFicyh4KSlcbiAqICB8LUluZmluaXR5ICAgfG1pbihzdW0oYWJzKHgpLCBheGlzPTEpKSAgIHxtaW4oYWJzKHgpKVxuICogIHwxICAgICAgICAgICB8bWF4KHN1bShhYnMoeCksIGF4aXM9MCkpICAgfHN1bShhYnMoeCkpXG4gKiAgfDIgICAgICAgICAgIHwgICAgICAgICAgICAgICAgICAgICAgICAgICB8c3VtKGFicyh4KV4yKV4xLzIqXG4gKlxuICogQHBhcmFtIGF4aXMgT3B0aW9uYWwuIElmIGF4aXMgaXMgbnVsbCAodGhlIGRlZmF1bHQpLCB0aGUgaW5wdXQgaXNcbiAqIGNvbnNpZGVyZWQgYSB2ZWN0b3IgYW5kIGEgc2luZ2xlIHZlY3RvciBub3JtIGlzIGNvbXB1dGVkIG92ZXIgdGhlIGVudGlyZVxuICogc2V0IG9mIHZhbHVlcyBpbiB0aGUgVGVuc29yLCBpLmUuIG5vcm0oeCwgb3JkKSBpcyBlcXVpdmFsZW50XG4gKiB0byBub3JtKHgucmVzaGFwZShbLTFdKSwgb3JkKS4gSWYgYXhpcyBpcyBhIGludGVnZXIsIHRoZSBpbnB1dFxuICogaXMgY29uc2lkZXJlZCBhIGJhdGNoIG9mIHZlY3RvcnMsIGFuZCBheGlzIGRldGVybWluZXMgdGhlIGF4aXMgaW4geFxuICogb3ZlciB3aGljaCB0byBjb21wdXRlIHZlY3RvciBub3Jtcy4gSWYgYXhpcyBpcyBhIDItdHVwbGUgb2YgaW50ZWdlciBpdCBpc1xuICogY29uc2lkZXJlZCBhIGJhdGNoIG9mIG1hdHJpY2VzIGFuZCBheGlzIGRldGVybWluZXMgdGhlIGF4ZXMgaW4gTkRBcnJheVxuICogb3ZlciB3aGljaCB0byBjb21wdXRlIGEgbWF0cml4IG5vcm0uXG4gKiBAcGFyYW0ga2VlcERpbXMgT3B0aW9uYWwuIElmIHRydWUsIHRoZSBub3JtIGhhdmUgdGhlIHNhbWUgZGltZW5zaW9uYWxpdHlcbiAqIGFzIHRoZSBpbnB1dC5cbiAqXG4gKiBAZG9jIHtoZWFkaW5nOiAnT3BlcmF0aW9ucycsIHN1YmhlYWRpbmc6ICdNYXRyaWNlcyd9XG4gKi9cbmZ1bmN0aW9uIG5vcm1fKFxuICAgIHg6IFRlbnNvcnxUZW5zb3JMaWtlLCBvcmQ6IG51bWJlcnwnZXVjbGlkZWFuJ3wnZnJvJyA9ICdldWNsaWRlYW4nLFxuICAgIGF4aXM6IG51bWJlcnxudW1iZXJbXSA9IG51bGwsIGtlZXBEaW1zID0gZmFsc2UpOiBUZW5zb3Ige1xuICB4ID0gY29udmVydFRvVGVuc29yKHgsICd4JywgJ25vcm0nKTtcblxuICBjb25zdCBub3JtID0gbm9ybUltcGwoeCwgb3JkLCBheGlzKTtcbiAgbGV0IGtlZXBEaW1zU2hhcGUgPSBub3JtLnNoYXBlO1xuICBpZiAoa2VlcERpbXMpIHtcbiAgICBjb25zdCBheGVzID0gcGFyc2VBeGlzUGFyYW0oYXhpcywgeC5zaGFwZSk7XG4gICAga2VlcERpbXNTaGFwZSA9IGF4aXNfdXRpbC5leHBhbmRTaGFwZVRvS2VlcERpbShub3JtLnNoYXBlLCBheGVzKTtcbiAgfVxuICByZXR1cm4gcmVzaGFwZShub3JtLCBrZWVwRGltc1NoYXBlKTtcbn1cblxuZnVuY3Rpb24gbm9ybUltcGwoXG4gICAgeDogVGVuc29yLCBwOiBudW1iZXJ8c3RyaW5nLCBheGlzOiBudW1iZXJ8bnVtYmVyW10gPSBudWxsKTogVGVuc29yIHtcbiAgaWYgKHgucmFuayA9PT0gMCkge1xuICAgIHJldHVybiBhYnMoeCk7XG4gIH1cblxuICAvLyBjb25zaWRlciB2ZWN0b3Igd2hlbiBubyBheGlzIGlzIHNwZWNpZmllZFxuICBpZiAoeC5yYW5rICE9PSAxICYmIGF4aXMgPT09IG51bGwpIHtcbiAgICByZXR1cm4gbm9ybUltcGwocmVzaGFwZSh4LCBbLTFdKSwgcCwgYXhpcyk7XG4gIH1cblxuICAvLyB2ZWN0b3JcbiAgaWYgKHgucmFuayA9PT0gMSB8fCB0eXBlb2YgYXhpcyA9PT0gJ251bWJlcicgfHxcbiAgICAgIEFycmF5LmlzQXJyYXkoYXhpcykgJiYgYXhpcy5sZW5ndGggPT09IDEpIHtcbiAgICBpZiAocCA9PT0gMSkge1xuICAgICAgcmV0dXJuIHN1bShhYnMoeCksIGF4aXMpO1xuICAgIH1cbiAgICBpZiAocCA9PT0gSW5maW5pdHkpIHtcbiAgICAgIHJldHVybiBtYXgoYWJzKHgpLCBheGlzKTtcbiAgICB9XG4gICAgaWYgKHAgPT09IC1JbmZpbml0eSkge1xuICAgICAgcmV0dXJuIG1pbihhYnMoeCksIGF4aXMpO1xuICAgIH1cbiAgICBpZiAocCA9PT0gJ2V1Y2xpZGVhbicgfHwgcCA9PT0gMikge1xuICAgICAgLy8gbm9ybSh4LCAyKSA9IHN1bShhYnMoeGkpIF4gMikgXiAxLzJcbiAgICAgIHJldHVybiBzcXJ0KHN1bShwb3coYWJzKHgpLCBzY2FsYXIoMiwgJ2ludDMyJykpLCBheGlzKSk7XG4gICAgfVxuXG4gICAgdGhyb3cgbmV3IEVycm9yKGBFcnJvciBpbiBub3JtOiBpbnZhbGlkIG9yZCB2YWx1ZTogJHtwfWApO1xuICB9XG5cbiAgLy8gbWF0cml4IChhc3N1bXB0aW9uIGF4aXNbMF0gPCBheGlzWzFdKVxuICBpZiAoQXJyYXkuaXNBcnJheShheGlzKSAmJiBheGlzLmxlbmd0aCA9PT0gMikge1xuICAgIGlmIChwID09PSAxKSB7XG4gICAgICByZXR1cm4gbWF4KHN1bShhYnMoeCksIGF4aXNbMF0pLCBheGlzWzFdIC0gMSk7XG4gICAgfVxuICAgIGlmIChwID09PSBJbmZpbml0eSkge1xuICAgICAgcmV0dXJuIG1heChzdW0oYWJzKHgpLCBheGlzWzFdKSwgYXhpc1swXSk7XG4gICAgfVxuICAgIGlmIChwID09PSAtSW5maW5pdHkpIHtcbiAgICAgIHJldHVybiBtaW4oc3VtKGFicyh4KSwgYXhpc1sxXSksIGF4aXNbMF0pO1xuICAgIH1cbiAgICBpZiAocCA9PT0gJ2ZybycgfHwgcCA9PT0gJ2V1Y2xpZGVhbicpIHtcbiAgICAgIC8vIG5vcm0oeCkgPSBzcXJ0KHN1bShwb3coeCwgMikpKVxuICAgICAgcmV0dXJuIHNxcnQoc3VtKHNxdWFyZSh4KSwgYXhpcykpO1xuICAgIH1cblxuICAgIHRocm93IG5ldyBFcnJvcihgRXJyb3IgaW4gbm9ybTogaW52YWxpZCBvcmQgdmFsdWU6ICR7cH1gKTtcbiAgfVxuXG4gIHRocm93IG5ldyBFcnJvcihgRXJyb3IgaW4gbm9ybTogaW52YWxpZCBheGlzOiAke2F4aXN9YCk7XG59XG5cbmV4cG9ydCBjb25zdCBub3JtID0gb3Aoe25vcm1ffSk7XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbmltcG9ydCB7U2NhbGFyLCBUZW5zb3J9IGZyb20gJy4uL3RlbnNvcic7XG5pbXBvcnQge2Fzc2VydFR5cGVzTWF0Y2h9IGZyb20gJy4uL3RlbnNvcl91dGlsJztcbmltcG9ydCB7Y29udmVydFRvVGVuc29yfSBmcm9tICcuLi90ZW5zb3JfdXRpbF9lbnYnO1xuaW1wb3J0IHtUZW5zb3JMaWtlfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgKiBhcyB1dGlsIGZyb20gJy4uL3V0aWwnO1xuXG5pbXBvcnQge2FkZH0gZnJvbSAnLi9hZGQnO1xuaW1wb3J0IHtkaXZ9IGZyb20gJy4vZGl2JztcbmltcG9ydCB7bXVsfSBmcm9tICcuL211bCc7XG5pbXBvcnQge29wfSBmcm9tICcuL29wZXJhdGlvbic7XG5pbXBvcnQge3Bvd30gZnJvbSAnLi9wb3cnO1xuaW1wb3J0IHtzY2FsYXJ9IGZyb20gJy4vc2NhbGFyJztcbmltcG9ydCB7c3VifSBmcm9tICcuL3N1Yic7XG5cbi8qKlxuICogQ29tcHV0ZSB0aGUgbW92aW5nIGF2ZXJhZ2Ugb2YgYSB2YXJpYWJsZS5cbiAqXG4gKiBXaXRob3V0IHplcm9EZWJpYXMsIHRoZSBtb3ZpbmcgYXZlcmFnZSBvcGVyYXRpb24gaXMgZGVmaW5lZCBieTpcbiAqICAgYHYgKz0gZGVsdGFgXG4gKiB3aGVyZVxuICogICBgZGVsdGEgPSAoMSAtIGRlY2F5KSAqICh4IC0gdilgXG4gKlxuICogV2l0aCB6ZXJvRGViaWFzIChkZWZhdWx0KSwgdGhlIGBkZWx0YWAgdGVybSBpcyBzY2FsZWQgdG8gZGViaWFzIHRoZVxuICogZWZmZWN0IG9mIHRoZSAoYXNzdW1lZCkgemVyby1pbml0aWFsaXphdGlvbiBvZiBgdmAuXG4gKiAgIGBkZWx0YSAvPSAoMSAtIGRlY2F5IF4gc3RlcClgXG4gKlxuICogRm9yIG1vcmUgZGV0YWlscyBvbiB0aGUgemVyby1kZWJpYXNpbmcgYWxnb3JpdGhtLCBzZWU6XG4gKiAgIGh0dHBzOi8vYXJ4aXYub3JnL2Ficy8xNDEyLjY5ODBcbiAqXG4gKiBOb3RlIHRoYXQgdGhpcyBmdW5jdGlvbiBpcyBjb21wbGV0ZWx5IHN0YXRlbGVzcyBhbmQgZG9lcyBub3Qga2VlcCB0cmFjayBvZlxuICogc3RlcCBjb3VudC4gVGhlIHN0ZXAgY291bnQgbmVlZHMgdG8gYmUgbWFpbnRhaW5lZCBieSB0aGUgY2FsbGVyIGFuZCBwYXNzZWRcbiAqIGluIGFzIGBzdGVwYC5cbiAqXG4gKiBAcGFyYW0gdiBUaGUgY3VycmVudCBtb3ZpbmcgYXZlcmFnZSB2YWx1ZS5cbiAqIEBwYXJhbSB4IE5ldyBpbnB1dCB2YWx1ZSwgbXVzdCBoYXZlIHRoZSBzYW1lIHNoYXBlIGFuZCBkdHlwZSBhcyBgdmAuXG4gKiBAcGFyYW0gZGVjYXkgVGhlIGRlY2F5IGZhY3Rvci4gVHlwaWNhbCB2YWx1ZXMgYXJlIDAuOTUgYW5kIDAuOTkuXG4gKiBAcGFyYW0gc3RlcCBTdGVwIGNvdW50LlxuICogQHBhcmFtIHplcm9EZWJpYXM6IFdoZXRoZXIgemVyb0RlYmlhcyBpcyB0byBiZSBwZXJmb3JtZWQgKGRlZmF1bHQ6IGB0cnVlYCkuXG4gKiBAcmV0dXJucyBUaGUgbmV3IG1vdmluZyBhdmVyYWdlIHZhbHVlLlxuICpcbiAqIEBkb2Mge2hlYWRpbmc6ICdPcGVyYXRpb25zJywgc3ViaGVhZGluZzogJ01vdmluZyBBdmVyYWdlJ31cbiAqL1xuZnVuY3Rpb24gbW92aW5nQXZlcmFnZV88VCBleHRlbmRzIFRlbnNvcj4oXG4gICAgdjogVHxUZW5zb3JMaWtlLCB4OiBUfFRlbnNvckxpa2UsIGRlY2F5OiBudW1iZXJ8U2NhbGFyLFxuICAgIHN0ZXA/OiBudW1iZXJ8U2NhbGFyLCB6ZXJvRGViaWFzID0gdHJ1ZSk6IFQge1xuICBjb25zdCAkdiA9IGNvbnZlcnRUb1RlbnNvcih2LCAndicsICdtb3ZpbmdBdmVyYWdlJyk7XG4gIGNvbnN0ICR4ID0gY29udmVydFRvVGVuc29yKHgsICd4JywgJ21vdmluZ0F2ZXJhZ2UnKTtcbiAgY29uc3QgJGRlY2F5ID0gY29udmVydFRvVGVuc29yKGRlY2F5LCAnZGVjYXknLCAnbW92aW5nQXZlcmFnZScpO1xuXG4gIGFzc2VydFR5cGVzTWF0Y2goJHYsICR4KTtcbiAgdXRpbC5hc3NlcnQoXG4gICAgICB1dGlsLmFycmF5c0VxdWFsKCR2LnNoYXBlLCAkeC5zaGFwZSksICgpID0+ICdTaGFwZSBtaXNtYXRjaCBpbiB2IGFuZCB4Jyk7XG5cbiAgY29uc3Qgb25lID0gc2NhbGFyKDEpO1xuICBjb25zdCBvbmVNaW51c0RlY2F5ID0gc3ViKG9uZSwgJGRlY2F5KTtcblxuICBsZXQgdXBkYXRlID0gbXVsKHN1YigkeCwgJHYpLCBvbmVNaW51c0RlY2F5KTtcbiAgaWYgKHplcm9EZWJpYXMpIHtcbiAgICB1dGlsLmFzc2VydChcbiAgICAgICAgc3RlcCAhPSBudWxsLCAoKSA9PiAnV2hlbiB1c2luZyB6ZXJvRGViaWFzOiB0cnVlLCBzdGVwIGlzIHJlcXVpcmVkLicpO1xuICAgIGNvbnN0ICRzdGVwID0gY29udmVydFRvVGVuc29yKHN0ZXAsICdzdGVwJywgJ21vdmluZ0F2ZXJhZ2UnKTtcbiAgICB1cGRhdGUgPSBkaXYodXBkYXRlLCBzdWIob25lLCBwb3coJGRlY2F5LCAkc3RlcCkpKTtcbiAgfVxuICByZXR1cm4gYWRkKCR2LCB1cGRhdGUpO1xufVxuXG5leHBvcnQgY29uc3QgbW92aW5nQXZlcmFnZSA9IG9wKHttb3ZpbmdBdmVyYWdlX30pO1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTggR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG5pbXBvcnQge0VOR0lORSwgRm9yd2FyZEZ1bmN9IGZyb20gJy4uL2VuZ2luZSc7XG5pbXBvcnQge1NjYXR0ZXJOZCwgU2NhdHRlck5kQXR0cnMsIFNjYXR0ZXJOZElucHV0c30gZnJvbSAnLi4va2VybmVsX25hbWVzJztcbmltcG9ydCB7TmFtZWRBdHRyTWFwfSBmcm9tICcuLi9rZXJuZWxfcmVnaXN0cnknO1xuaW1wb3J0IHtUZW5zb3J9IGZyb20gJy4uL3RlbnNvcic7XG5pbXBvcnQge05hbWVkVGVuc29yTWFwfSBmcm9tICcuLi90ZW5zb3JfdHlwZXMnO1xuaW1wb3J0IHtjb252ZXJ0VG9UZW5zb3J9IGZyb20gJy4uL3RlbnNvcl91dGlsX2Vudic7XG5pbXBvcnQge1JhbmssIFNoYXBlTWFwLCBUZW5zb3JMaWtlfSBmcm9tICcuLi90eXBlcyc7XG5cbmltcG9ydCB7b3B9IGZyb20gJy4vb3BlcmF0aW9uJztcbmltcG9ydCAqIGFzIHNjYXR0ZXJfbmRfdXRpbCBmcm9tICcuL3NjYXR0ZXJfbmRfdXRpbCc7XG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyB0ZW5zb3IgYnkgYXBwbHlpbmcgc3BhcnNlIHVwZGF0ZXMgdG8gaW5kaXZpZHVhbFxuICogdmFsdWVzIG9yIHNsaWNlcyB3aXRoaW4gYSB6ZXJvIHRlbnNvciBvZiB0aGUgZ2l2ZW4gc2hhcGUgdGVuc29yIGFjY29yZGluZyB0b1xuICogaW5kaWNlcy4gVGhpcyBvcGVyYXRvciBpcyB0aGUgaW52ZXJzZSBvZiB0aGUgYHRmLmdhdGhlck5EYCBvcGVyYXRvciB3aGljaFxuICogZXh0cmFjdHMgdmFsdWVzIG9yIHNsaWNlcyBmcm9tIGEgZ2l2ZW4gdGVuc29yLlxuICpcbiAqIGBgYGpzXG4gKiBjb25zdCBpbmRpY2VzID0gdGYudGVuc29yMmQoWzQsIDMsIDEsIDddLCBbNCwgMV0sICdpbnQzMicpO1xuICogY29uc3QgdXBkYXRlcyA9IHRmLnRlbnNvcjFkKFs5LCAxMCwgMTEsIDEyXSk7XG4gKiBjb25zdCBzaGFwZSA9IFs4XTtcbiAqIHRmLnNjYXR0ZXJORChpbmRpY2VzLCB1cGRhdGVzLCBzaGFwZSkucHJpbnQoKSAvL1swLCAxMSwgMCwgMTAsIDksIDAsIDAsIDEyXVxuICogYGBgXG4gKlxuICogQHBhcmFtIGluZGljZXMgVGhlIHRlbnNvciBjb250YWlucyB0aGUgaW5kaWNlcyBpbnRvIHRoZSBvdXRwdXQgdGVuc29yLlxuICogQHBhcmFtIHVwZGF0ZXMgVGhlIHRlbnNvciBjb250YWlucyB0aGUgdmFsdWUgZm9yIHRoZSBpbmRpY2VzLlxuICogQHBhcmFtIHNoYXBlOiBUaGUgc2hhcGUgb2YgdGhlIG91dHB1dCB0ZW5zb3IuXG4gKlxuICogQGRvYyB7aGVhZGluZzogJ09wZXJhdGlvbnMnLCBzdWJoZWFkaW5nOiAnU2xpY2luZyBhbmQgSm9pbmluZyd9XG4gKi9cbmZ1bmN0aW9uIHNjYXR0ZXJORF88UiBleHRlbmRzIFJhbms+KFxuICAgIGluZGljZXM6IFRlbnNvcnxUZW5zb3JMaWtlLCB1cGRhdGVzOiBUZW5zb3J8VGVuc29yTGlrZSxcbiAgICBzaGFwZTogU2hhcGVNYXBbUl0pOiBUZW5zb3I8Uj4ge1xuICBjb25zdCAkaW5kaWNlcyA9IGNvbnZlcnRUb1RlbnNvcihpbmRpY2VzLCAnaW5kaWNlcycsICdzY2F0dGVyTkQnLCAnaW50MzInKTtcbiAgY29uc3QgJHVwZGF0ZXMgPSBjb252ZXJ0VG9UZW5zb3IodXBkYXRlcywgJ3VwZGF0ZXMnLCAnc2NhdHRlck5EJyk7XG4gIHNjYXR0ZXJfbmRfdXRpbC52YWxpZGF0ZUlucHV0KCR1cGRhdGVzLCAkaW5kaWNlcywgc2hhcGUpO1xuXG4gIGNvbnN0IGZvcndhcmQ6IEZvcndhcmRGdW5jPFRlbnNvcj4gPSAoYmFja2VuZCkgPT4ge1xuICAgIHJldHVybiBiYWNrZW5kLnNjYXR0ZXJORCgkaW5kaWNlcywgJHVwZGF0ZXMsIHNoYXBlKTtcbiAgfTtcblxuICBjb25zdCBpbnB1dHM6IFNjYXR0ZXJOZElucHV0cyA9IHtpbmRpY2VzOiAkaW5kaWNlcywgdXBkYXRlczogJHVwZGF0ZXN9O1xuICBjb25zdCBhdHRyczogU2NhdHRlck5kQXR0cnMgPSB7c2hhcGV9O1xuXG4gIHJldHVybiBFTkdJTkUucnVuS2VybmVsRnVuYyhcbiAgICAgICAgICAgICBmb3J3YXJkLCBpbnB1dHMgYXMge30gYXMgTmFtZWRUZW5zb3JNYXAsIG51bGwgLyogZ3JhZCAqLyxcbiAgICAgICAgICAgICBTY2F0dGVyTmQsIGF0dHJzIGFzIHt9IGFzIE5hbWVkQXR0ck1hcCkgYXMgVGVuc29yPFI+O1xufVxuXG5leHBvcnQgY29uc3Qgc2NhdHRlck5EID0gb3Aoe3NjYXR0ZXJORF99KTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE4IEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuaW1wb3J0IHtFTkdJTkV9IGZyb20gJy4uL2VuZ2luZSc7XG5pbXBvcnQge1NwYXJzZVRvRGVuc2UsIFNwYXJzZVRvRGVuc2VBdHRycywgU3BhcnNlVG9EZW5zZUlucHV0c30gZnJvbSAnLi4va2VybmVsX25hbWVzJztcbmltcG9ydCB7TmFtZWRBdHRyTWFwfSBmcm9tICcuLi9rZXJuZWxfcmVnaXN0cnknO1xuaW1wb3J0ICogYXMgc3BhcnNlX3RvX2RlbnNlIGZyb20gJy4uL29wcy9zcGFyc2VfdG9fZGVuc2VfdXRpbCc7XG5pbXBvcnQge1NjYWxhciwgVGVuc29yfSBmcm9tICcuLi90ZW5zb3InO1xuaW1wb3J0IHtOYW1lZFRlbnNvck1hcH0gZnJvbSAnLi4vdGVuc29yX3R5cGVzJztcbmltcG9ydCB7Y29udmVydFRvVGVuc29yfSBmcm9tICcuLi90ZW5zb3JfdXRpbF9lbnYnO1xuaW1wb3J0IHtSYW5rLCBTY2FsYXJMaWtlLCBTaGFwZU1hcCwgVGVuc29yTGlrZX0gZnJvbSAnLi4vdHlwZXMnO1xuXG5pbXBvcnQge29wfSBmcm9tICcuL29wZXJhdGlvbic7XG5cbi8qKlxuICogQ29udmVydHMgYSBzcGFyc2UgcmVwcmVzZW50YXRpb24gaW50byBhIGRlbnNlIHRlbnNvci5cbiAqXG4gKiBCdWlsZHMgYW4gYXJyYXkgZGVuc2Ugd2l0aCBzaGFwZSBvdXRwdXRTaGFwZSBzdWNoIHRoYXQ6XG4gKlxuICogLy8gSWYgc3BhcnNlSW5kaWNlcyBpcyBzY2FsYXJcbiAqIGRlbnNlW2ldID0gKGkgPT0gc3BhcnNlSW5kaWNlcyA/IHNwYXJzZVZhbHVlcyA6IGRlZmF1bHRWYWx1ZSlcbiAqXG4gKiAvLyBJZiBzcGFyc2VJbmRpY2VzIGlzIGEgdmVjdG9yLCB0aGVuIGZvciBlYWNoIGlcbiAqIGRlbnNlW3NwYXJzZUluZGljZXNbaV1dID0gc3BhcnNlVmFsdWVzW2ldXG4gKlxuICogLy8gSWYgc3BhcnNlSW5kaWNlcyBpcyBhbiBuIGJ5IGQgbWF0cml4LCB0aGVuIGZvciBlYWNoIGkgaW4gWzAsIG4pXG4gKiBkZW5zZVtzcGFyc2VJbmRpY2VzW2ldWzBdLCAuLi4sIHNwYXJzZUluZGljZXNbaV1bZC0xXV0gPSBzcGFyc2VWYWx1ZXNbaV1cbiAqIEFsbCBvdGhlciB2YWx1ZXMgaW4gZGVuc2UgYXJlIHNldCB0byBkZWZhdWx0VmFsdWUuIElmIHNwYXJzZVZhbHVlcyBpcyBhXG4gKiBzY2FsYXIsIGFsbCBzcGFyc2UgaW5kaWNlcyBhcmUgc2V0IHRvIHRoaXMgc2luZ2xlIHZhbHVlLlxuICpcbiAqIElmIGluZGljZXMgYXJlIHJlcGVhdGVkIHRoZSBmaW5hbCB2YWx1ZSBpcyBzdW1tZWQgb3ZlciBhbGwgdmFsdWVzIGZvciB0aG9zZVxuICogaW5kaWNlcy5cbiAqXG4gKiBgYGBqc1xuICogY29uc3QgaW5kaWNlcyA9IHRmLnRlbnNvcjFkKFs0LCA1LCA2LCAxLCAyLCAzXSwgJ2ludDMyJyk7XG4gKiBjb25zdCB2YWx1ZXMgPSB0Zi50ZW5zb3IxZChbMTAsIDExLCAxMiwgMTMsIDE0LCAxNV0sICdmbG9hdDMyJyk7XG4gKiBjb25zdCBzaGFwZSA9IFs4XTtcbiAqIHRmLnNwYXJzZVRvRGVuc2UoaW5kaWNlcywgdmFsdWVzLCBzaGFwZSkucHJpbnQoKTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBzcGFyc2VJbmRpY2VzIEEgMC1ELCAxLUQsIG9yIDItRCBUZW5zb3Igb2YgdHlwZSBpbnQzMi5cbiAqIHNwYXJzZUluZGljZXNbaV0gY29udGFpbnMgdGhlIGNvbXBsZXRlIGluZGV4IHdoZXJlIHNwYXJzZVZhbHVlc1tpXSB3aWxsIGJlXG4gKiBwbGFjZWQuXG4gKiBAcGFyYW0gc3BhcnNlVmFsdWVzIEEgMC1EIG9yIDEtRCBUZW5zb3IuIFZhbHVlc1xuICogY29ycmVzcG9uZGluZyB0byBlYWNoIHJvdyBvZiBzcGFyc2VJbmRpY2VzLCBvciBhIHNjYWxhciB2YWx1ZSB0byBiZSB1c2VkIGZvclxuICogYWxsIHNwYXJzZSBpbmRpY2VzLlxuICogQHBhcmFtIG91dHB1dFNoYXBlIFNoYXBlIG9mIHRoZSBkZW5zZSBvdXRwdXQgdGVuc29yLiB0aGUgdHlwZSBpcyBpbmZlcnJlZC5cbiAqIEBwYXJhbSBkZWZhdWx0VmFsdWUgU2NhbGFyLiBWYWx1ZSB0byBzZXQgZm9yIGluZGljZXMgbm90IHNwZWNpZmllZCBpblxuICogc3BhcnNlSW5kaWNlcy4gRGVmYXVsdHMgdG8gemVyby5cbiAqXG4gKiBAZG9jIHtoZWFkaW5nOiAnT3BlcmF0aW9ucycsIHN1YmhlYWRpbmc6ICdOb3JtYWxpemF0aW9uJ31cbiAqL1xuZnVuY3Rpb24gc3BhcnNlVG9EZW5zZV88UiBleHRlbmRzIFJhbms+KFxuICAgIHNwYXJzZUluZGljZXM6IFRlbnNvcnxUZW5zb3JMaWtlLCBzcGFyc2VWYWx1ZXM6IFRlbnNvcnxUZW5zb3JMaWtlLFxuICAgIG91dHB1dFNoYXBlOiBTaGFwZU1hcFtSXSwgZGVmYXVsdFZhbHVlOiBTY2FsYXJ8U2NhbGFyTGlrZSA9IDApOiBUZW5zb3I8Uj4ge1xuICBjb25zdCAkc3BhcnNlSW5kaWNlcyA9XG4gICAgICBjb252ZXJ0VG9UZW5zb3Ioc3BhcnNlSW5kaWNlcywgJ3NwYXJzZUluZGljZXMnLCAnc3BhcnNlVG9EZW5zZScsICdpbnQzMicpO1xuICBjb25zdCAkc3BhcnNlVmFsdWVzID1cbiAgICAgIGNvbnZlcnRUb1RlbnNvcihzcGFyc2VWYWx1ZXMsICdzcGFyc2VWYWx1ZXMnLCAnc3BhcnNlVG9EZW5zZScpO1xuICBjb25zdCAkZGVmYXVsdFZhbHVlID0gY29udmVydFRvVGVuc29yKFxuICAgICAgZGVmYXVsdFZhbHVlLCAnZGVmYXVsdFZhbHVlJywgJ3NwYXJzZVRvRGVuc2UnLCAkc3BhcnNlVmFsdWVzLmR0eXBlKTtcblxuICBzcGFyc2VfdG9fZGVuc2UudmFsaWRhdGVJbnB1dChcbiAgICAgICRzcGFyc2VJbmRpY2VzLCAkc3BhcnNlVmFsdWVzLCBvdXRwdXRTaGFwZSwgJGRlZmF1bHRWYWx1ZSk7XG5cbiAgY29uc3QgaW5wdXRzOiBTcGFyc2VUb0RlbnNlSW5wdXRzID0ge1xuICAgIHNwYXJzZUluZGljZXM6ICRzcGFyc2VJbmRpY2VzLFxuICAgIHNwYXJzZVZhbHVlczogJHNwYXJzZVZhbHVlcyxcbiAgICBkZWZhdWx0VmFsdWU6ICRkZWZhdWx0VmFsdWVcbiAgfTtcblxuICBjb25zdCBhdHRyczogU3BhcnNlVG9EZW5zZUF0dHJzID0ge291dHB1dFNoYXBlfTtcblxuICByZXR1cm4gRU5HSU5FLnJ1bktlcm5lbEZ1bmMoXG4gICAgICBiYWNrZW5kID0+IGJhY2tlbmQuc3BhcnNlVG9EZW5zZShcbiAgICAgICAgICAkc3BhcnNlSW5kaWNlcywgJHNwYXJzZVZhbHVlcywgb3V0cHV0U2hhcGUsICRkZWZhdWx0VmFsdWUpLFxuICAgICAgaW5wdXRzIGFzIHt9IGFzIE5hbWVkVGVuc29yTWFwLCBudWxsIC8qIGdyYWQgKi8sIFNwYXJzZVRvRGVuc2UsXG4gICAgICBhdHRycyBhcyB7fSBhcyBOYW1lZEF0dHJNYXApO1xufVxuXG5leHBvcnQgY29uc3Qgc3BhcnNlVG9EZW5zZSA9IG9wKHtzcGFyc2VUb0RlbnNlX30pO1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTggR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuaW1wb3J0IHtUZW5zb3J9IGZyb20gJy4uL3RlbnNvcic7XG5cbi8qKlxuICogVmFsaWRhdGUgc3BhcnNlVG9EZW5zZSBpbnB1dHMuXG4gKlxuICogQHBhcmFtIHNwYXJzZUluZGljZXMgQSAwLUQsIDEtRCwgb3IgMi1EIFRlbnNvciBvZiB0eXBlIGludDMyLlxuICogc3BhcnNlSW5kaWNlc1tpXSBjb250YWlucyB0aGUgY29tcGxldGUgaW5kZXggd2hlcmUgc3BhcnNlVmFsdWVzW2ldIHdpbGwgYmVcbiAqIHBsYWNlZC5cbiAqIEBwYXJhbSBzcGFyc2VWYWx1ZXMgQSAwLUQgb3IgMS1EIFRlbnNvci4gVmFsdWVzXG4gKiBjb3JyZXNwb25kaW5nIHRvIGVhY2ggcm93IG9mIHNwYXJzZUluZGljZXMsIG9yIGEgc2NhbGFyIHZhbHVlIHRvIGJlIHVzZWQgZm9yXG4gKiBhbGwgc3BhcnNlIGluZGljZXMuXG4gKiBAcGFyYW0gb3V0cHV0U2hhcGUgbnVtYmVyW10uIFNoYXBlIG9mIHRoZSBkZW5zZSBvdXRwdXQgdGVuc29yLlxuICogQHBhcmFtIHZhbGlkYXRlSW5kaWNlcyBib29sZWFuLiBpbmRpY2UgdmFsaWRhdGlvbiBpcyBub3Qgc3VwcG9ydGVkLCBlcnJvclxuICogd2lsbCBiZSB0aHJvd24gaWYgaXQgaXMgc2V0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVJbnB1dChcbiAgICBzcGFyc2VJbmRpY2VzOiBUZW5zb3IsIHNwYXJzZVZhbHVlczogVGVuc29yLCBvdXRwdXRTaGFwZTogbnVtYmVyW10sXG4gICAgZGVmYXVsdFZhbHVlczogVGVuc29yKSB7XG4gIGlmIChzcGFyc2VJbmRpY2VzLmR0eXBlICE9PSAnaW50MzInKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAndGYuc3BhcnNlVG9EZW5zZSgpIGV4cGVjdHMgdGhlIGluZGljZXMgdG8gYmUgaW50MzIgdHlwZSwnICtcbiAgICAgICAgYCBidXQgdGhlIGR0eXBlIHdhcyAke3NwYXJzZUluZGljZXMuZHR5cGV9LmApO1xuICB9XG4gIGlmIChzcGFyc2VJbmRpY2VzLnJhbmsgPiAyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnc3BhcnNlSW5kaWNlcyBzaG91bGQgYmUgYSBzY2FsYXIsIHZlY3Rvciwgb3IgbWF0cml4LCcgK1xuICAgICAgICBgIGJ1dCBnb3Qgc2hhcGUgJHtzcGFyc2VJbmRpY2VzLnNoYXBlfS5gKTtcbiAgfVxuXG4gIGNvbnN0IG51bUVsZW1zID0gc3BhcnNlSW5kaWNlcy5yYW5rID4gMCA/IHNwYXJzZUluZGljZXMuc2hhcGVbMF0gOiAxO1xuICBjb25zdCBudW1EaW1zID0gc3BhcnNlSW5kaWNlcy5yYW5rID4gMSA/IHNwYXJzZUluZGljZXMuc2hhcGVbMV0gOiAxO1xuXG4gIGlmIChvdXRwdXRTaGFwZS5sZW5ndGggIT09IG51bURpbXMpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdvdXRwdXRTaGFwZSBoYXMgaW5jb3JyZWN0IG51bWJlciBvZiBlbGVtZW50czosJyArXG4gICAgICAgIGAgJHtvdXRwdXRTaGFwZS5sZW5ndGh9LCBzaG91bGQgYmU6ICR7bnVtRGltc30uYCk7XG4gIH1cblxuICBjb25zdCBudW1WYWx1ZXMgPSBzcGFyc2VWYWx1ZXMuc2l6ZTtcbiAgaWYgKCEoc3BhcnNlVmFsdWVzLnJhbmsgPT09IDAgfHxcbiAgICAgICAgc3BhcnNlVmFsdWVzLnJhbmsgPT09IDEgJiYgbnVtVmFsdWVzID09PSBudW1FbGVtcykpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdzcGFyc2VWYWx1ZXMgaGFzIGluY29ycmVjdCBzaGFwZSAnICtcbiAgICAgICAgYCR7c3BhcnNlVmFsdWVzLnNoYXBlfSwgc2hvdWxkIGJlIFtdIG9yIFske251bUVsZW1zfV1gKTtcbiAgfVxuXG4gIGlmIChzcGFyc2VWYWx1ZXMuZHR5cGUgIT09IGRlZmF1bHRWYWx1ZXMuZHR5cGUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3NwYXJzZVZhbHVlcy5kdHlwZSBtdXN0IG1hdGNoIGRlZmF1bHRWYWx1ZXMuZHR5cGUnKTtcbiAgfVxufVxuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTggR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuaW1wb3J0IHtFTkdJTkUsIEZvcndhcmRGdW5jfSBmcm9tICcuLi9lbmdpbmUnO1xuaW1wb3J0IHtHYXRoZXJOZCwgR2F0aGVyTmRJbnB1dHN9IGZyb20gJy4uL2tlcm5lbF9uYW1lcyc7XG5pbXBvcnQge1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yJztcbmltcG9ydCB7TmFtZWRUZW5zb3JNYXB9IGZyb20gJy4uL3RlbnNvcl90eXBlcyc7XG5pbXBvcnQge2NvbnZlcnRUb1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yX3V0aWxfZW52JztcbmltcG9ydCB7VGVuc29yTGlrZX0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHtvcH0gZnJvbSAnLi9vcGVyYXRpb24nO1xuXG4vKipcbiAqIEdhdGhlciBzbGljZXMgZnJvbSBpbnB1dCB0ZW5zb3IgaW50byBhIFRlbnNvciB3aXRoIHNoYXBlIHNwZWNpZmllZCBieVxuICogYGluZGljZXNgLlxuICpcbiAqIGBpbmRpY2VzYCBpcyBhbiBLLWRpbWVuc2lvbmFsIGludGVnZXIgdGVuc29yLCBiZXN0IHRob3VnaHQgb2YgYXMgYVxuICogKEstMSktZGltZW5zaW9uYWwgdGVuc29yIG9mIGluZGljZXMgaW50byBpbnB1dCwgd2hlcmUgZWFjaCBlbGVtZW50IGRlZmluZXMgYVxuICogc2xpY2Ugb2YgaW5wdXQ6XG4gKiBvdXRwdXRbXFxcXChpXzAsIC4uLiwgaV97Sy0yfVxcXFwpXSA9IGlucHV0W2luZGljZXNbXFxcXChpXzAsIC4uLiwgaV97Sy0yfVxcXFwpXV1cbiAqXG4gKiBXaGVyZWFzIGluIGB0Zi5nYXRoZXJgLCBgaW5kaWNlc2AgZGVmaW5lcyBzbGljZXMgaW50byB0aGUgZmlyc3QgZGltZW5zaW9uIG9mXG4gKiBpbnB1dCwgaW4gYHRmLmdhdGhlck5EYCwgYGluZGljZXNgIGRlZmluZXMgc2xpY2VzIGludG8gdGhlIGZpcnN0IE4gZGltZW5zaW9uc1xuICogb2YgaW5wdXQsIHdoZXJlIE4gPSBpbmRpY2VzLnNoYXBlWy0xXS5cbiAqXG4gKiBUaGUgbGFzdCBkaW1lbnNpb24gb2YgaW5kaWNlcyBjYW4gYmUgYXQgbW9zdCB0aGUgcmFuayBvZiBpbnB1dDpcbiAqIGluZGljZXMuc2hhcGVbLTFdIDw9IGlucHV0LnJhbmtcbiAqXG4gKiBUaGUgbGFzdCBkaW1lbnNpb24gb2YgYGluZGljZXNgIGNvcnJlc3BvbmRzIHRvIGVsZW1lbnRzXG4gKiAoaWYgaW5kaWNlcy5zaGFwZVstMV0gPT0gaW5wdXQucmFuaykgb3Igc2xpY2VzXG4gKiAoaWYgaW5kaWNlcy5zaGFwZVstMV0gPCBpbnB1dC5yYW5rKSBhbG9uZyBkaW1lbnNpb24gaW5kaWNlcy5zaGFwZVstMV0gb2ZcbiAqIGlucHV0LlxuICogVGhlIG91dHB1dCB0ZW5zb3IgaGFzIHNoYXBlXG4gKiBpbmRpY2VzLnNoYXBlWzotMV0gKyBpbnB1dC5zaGFwZVtpbmRpY2VzLnNoYXBlWy0xXTpdXG4gKlxuICogTm90ZSB0aGF0IG9uIENQVSwgaWYgYW4gb3V0IG9mIGJvdW5kIGluZGV4IGlzIGZvdW5kLCBhbiBlcnJvciBpcyByZXR1cm5lZC4gT25cbiAqIEdQVSwgaWYgYW4gb3V0IG9mIGJvdW5kIGluZGV4IGlzIGZvdW5kLCBhIDAgaXMgc3RvcmVkIGluIHRoZSBjb3JyZXNwb25kaW5nXG4gKiBvdXRwdXQgdmFsdWUuXG4gKlxuICogYGBganNcbiAqIGNvbnN0IGluZGljZXMgPSB0Zi50ZW5zb3IyZChbMCwgMSwgMSwgMF0sIFsyLDJdLCAnaW50MzInKTtcbiAqIGNvbnN0IGlucHV0ID0gdGYudGVuc29yMmQoWzksIDEwLCAxMSwgMTJdLCBbMiwgMl0pO1xuICogdGYuZ2F0aGVyTkQoaW5wdXQsIGluZGljZXMpLnByaW50KCkgLy8gWzEwLCAxMV1cbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB4IFRoZSB0ZW5zb3IgZnJvbSB3aGljaCB0byBnYXRoZXIgdmFsdWVzLlxuICogQHBhcmFtIGluZGljZXMgSW5kZXggdGVuc29yLCBtdXN0IGJlIG9mIHR5cGUgaW50MzIuXG4gKlxuICogQGRvYyB7aGVhZGluZzogJ09wZXJhdGlvbnMnLCBzdWJoZWFkaW5nOiAnU2xpY2luZyBhbmQgSm9pbmluZyd9XG4gKi9cbmZ1bmN0aW9uIGdhdGhlck5EXyh4OiBUZW5zb3J8VGVuc29yTGlrZSwgaW5kaWNlczogVGVuc29yfFRlbnNvckxpa2UpOiBUZW5zb3Ige1xuICBjb25zdCAkaW5kaWNlcyA9IGNvbnZlcnRUb1RlbnNvcihpbmRpY2VzLCAnaW5kaWNlcycsICdnYXRoZXJORCcsICdpbnQzMicpO1xuICBjb25zdCAkeCA9IGNvbnZlcnRUb1RlbnNvcih4LCAneCcsICdnYXRoZXJORCcpO1xuXG4gIGNvbnN0IGZvcndhcmQ6IEZvcndhcmRGdW5jPFRlbnNvcj4gPSAoYmFja2VuZCkgPT4ge1xuICAgIHJldHVybiBiYWNrZW5kLmdhdGhlck5EKCR4LCAkaW5kaWNlcyk7XG4gIH07XG5cbiAgY29uc3QgaW5wdXRzOiBHYXRoZXJOZElucHV0cyA9IHtwYXJhbXM6ICR4LCBpbmRpY2VzOiAkaW5kaWNlc307XG5cbiAgcmV0dXJuIEVOR0lORS5ydW5LZXJuZWxGdW5jKFxuICAgICAgZm9yd2FyZCwgaW5wdXRzIGFzIHt9IGFzIE5hbWVkVGVuc29yTWFwLCBudWxsIC8qIGdyYWRpZW50ICovLCBHYXRoZXJOZCk7XG59XG5cbmV4cG9ydCBjb25zdCBnYXRoZXJORCA9IG9wKHtnYXRoZXJORF99KTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE4IEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuaW1wb3J0IHtUZW5zb3J9IGZyb20gJy4uL3RlbnNvcic7XG5pbXBvcnQge2NvbnZlcnRUb1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yX3V0aWxfZW52JztcbmltcG9ydCB7VGVuc29yTGlrZX0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0ICogYXMgdXRpbCBmcm9tICcuLi91dGlsJztcblxuaW1wb3J0IHthZGR9IGZyb20gJy4vYWRkJztcbmltcG9ydCB7ZGl2fSBmcm9tICcuL2Rpdic7XG5pbXBvcnQge2dldE5vaXNlU2hhcGV9IGZyb20gJy4vZHJvcG91dF91dGlsJztcbmltcG9ydCB7Zmxvb3J9IGZyb20gJy4vZmxvb3InO1xuaW1wb3J0IHttdWx9IGZyb20gJy4vbXVsJztcbmltcG9ydCB7b3B9IGZyb20gJy4vb3BlcmF0aW9uJztcbmltcG9ydCB7cmFuZG9tVW5pZm9ybX0gZnJvbSAnLi9yYW5kb21fdW5pZm9ybSc7XG5cbi8qKlxuICogQ29tcHV0ZXMgZHJvcG91dC5cbiAqXG4gKiBgYGBqc1xuICogY29uc3QgeCA9IHRmLnRlbnNvcjFkKFsxLCAyLCAyLCAxXSk7XG4gKiBjb25zdCByYXRlID0gMC43NTtcbiAqIGNvbnN0IG91dHB1dCA9IHRmLmRyb3BvdXQoeCwgcmF0ZSk7XG4gKiBvdXRwdXQucHJpbnQoKTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB4IEEgZmxvYXRpbmcgcG9pbnQgVGVuc29yIG9yIFRlbnNvckxpa2UuXG4gKiBAcGFyYW0gcmF0ZSBBIGZsb2F0IGluIHRoZSByYW5nZSBbMCwgMSkuIFRoZSBwcm9iYWJpbGl0eSB0aGF0IGVhY2ggZWxlbWVudFxuICogICBvZiB4IGlzIGRpc2NhcmRlZC5cbiAqIEBwYXJhbSBub2lzZVNoYXBlIEFuIGFycmF5IG9mIG51bWJlcnMgb2YgdHlwZSBpbnQzMiwgcmVwcmVzZW50aW5nIHRoZVxuICogc2hhcGUgZm9yIHJhbmRvbWx5IGdlbmVyYXRlZCBrZWVwL2Ryb3AgZmxhZ3MuIElmIHRoZSBub2lzZVNoYXBlIGhhcyBudWxsXG4gKiB2YWx1ZSwgaXQgd2lsbCBiZSBhdXRvbWF0aWNhbGx5IHJlcGxhY2VkIHdpdGggdGhlIHgncyByZWxhdGl2ZSBkaW1lbnNpb25cbiAqIHNpemUuIE9wdGlvbmFsLlxuICogQHBhcmFtIHNlZWQgVXNlZCB0byBjcmVhdGUgcmFuZG9tIHNlZWRzLiBPcHRpb25hbC5cbiAqIEByZXR1cm5zIEEgVGVuc29yIG9mIHRoZSBzYW1lIHNoYXBlIG9mIHguXG4gKlxuICogQGRvYyB7aGVhZGluZzogJ09wZXJhdGlvbnMnLCBzdWJoZWFkaW5nOiAnRHJvcG91dCd9XG4gKi9cbmZ1bmN0aW9uIGRyb3BvdXRfKFxuICAgIHg6IFRlbnNvcnxUZW5zb3JMaWtlLCByYXRlOiBudW1iZXIsIG5vaXNlU2hhcGU/OiBudW1iZXJbXSxcbiAgICBzZWVkPzogbnVtYmVyfHN0cmluZyk6IFRlbnNvciB7XG4gIGNvbnN0ICR4ID0gY29udmVydFRvVGVuc29yKHgsICd4JywgJ2Ryb3BvdXQnKTtcblxuICB1dGlsLmFzc2VydChcbiAgICAgICR4LmR0eXBlID09PSAnZmxvYXQzMicsXG4gICAgICAoKSA9PiBgeCBoYXMgdG8gYmUgYSBmbG9hdGluZyBwb2ludCB0ZW5zb3Igc2luY2UgaXQncyBnb2luZyB0byBiZSBgICtcbiAgICAgICAgICBgc2NhbGVkLCBidXQgZ290IGEgJHskeC5kdHlwZX0gdGVuc29yIGluc3RlYWQuYCk7XG4gIHV0aWwuYXNzZXJ0KFxuICAgICAgcmF0ZSA+PSAwICYmIHJhdGUgPCAxLFxuICAgICAgKCkgPT4gYHJhdGUgbXVzdCBiZSBhIGZsb2F0IGluIHRoZSByYW5nZSBbMCwgMSksIGJ1dCBnb3QgJHtyYXRlfS5gKTtcblxuICBpZiAocmF0ZSA9PT0gMCkge1xuICAgIHJldHVybiB4IGluc3RhbmNlb2YgVGVuc29yID8gJHguY2xvbmUoKSA6ICR4O1xuICB9XG5cbiAgY29uc3QgJG5vaXNlU2hhcGUgPSBnZXROb2lzZVNoYXBlKCR4LCBub2lzZVNoYXBlKTtcbiAgY29uc3Qga2VlcFByb2IgPSAxIC0gcmF0ZTtcbiAgY29uc3QgbXVsdGlwbGllciA9IGRpdihcbiAgICAgIGZsb29yKGFkZChyYW5kb21Vbmlmb3JtKCRub2lzZVNoYXBlLCAwLCAxLCAnZmxvYXQzMicsIHNlZWQpLCBrZWVwUHJvYikpLFxuICAgICAga2VlcFByb2IpO1xuXG4gIHJldHVybiBtdWwoJHgsIG11bHRpcGxpZXIpO1xufVxuXG5leHBvcnQgY29uc3QgZHJvcG91dCA9IG9wKHtkcm9wb3V0X30pO1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG5pbXBvcnQge1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yJztcbmltcG9ydCAqIGFzIHV0aWwgZnJvbSAnLi4vdXRpbCc7XG5cbi8qKlxuICogTm9ybWFsaXplIG5vaXNlIHNoYXBlIGJhc2VkIG9uIHByb3ZpZGVkIHRlbnNvciBhbmQgbm9pc2Ugc2hhcGUuXG4gKlxuICogQHBhcmFtIHggVGVuc29yLlxuICogQHBhcmFtIG5vaXNlU2hhcGUgVGhlIHNoYXBlIGZvciB0aGUgcmFuZG9tbHkgZ2VuZXJhdGVkIGtlZXAvZHJvcCBmbGFncywgYXNcbiAqICAgYW4gYXJyYXkgb2YgbnVtYmVycy4gT3B0aW9uYWwuXG4gKiBAcmV0dXJucyBOb3JtYWxpemVkIG5vaXNlIHNoYXBlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0Tm9pc2VTaGFwZSh4OiBUZW5zb3IsIG5vaXNlU2hhcGU/OiBudW1iZXJbXSk6IG51bWJlcltdIHtcbiAgaWYgKG5vaXNlU2hhcGUgPT0gbnVsbCkge1xuICAgIHJldHVybiB4LnNoYXBlLnNsaWNlKCk7XG4gIH1cbiAgaWYgKHV0aWwuYXJyYXlzRXF1YWwoeC5zaGFwZSwgbm9pc2VTaGFwZSkpIHtcbiAgICByZXR1cm4gbm9pc2VTaGFwZTtcbiAgfVxuICBpZiAoeC5zaGFwZS5sZW5ndGggPT09IG5vaXNlU2hhcGUubGVuZ3RoKSB7XG4gICAgY29uc3QgbmV3RGltZW5zaW9uOiBudW1iZXJbXSA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgeC5zaGFwZS5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKG5vaXNlU2hhcGVbaV0gPT0gbnVsbCAmJiB4LnNoYXBlW2ldICE9IG51bGwpIHtcbiAgICAgICAgbmV3RGltZW5zaW9uLnB1c2goeC5zaGFwZVtpXSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuZXdEaW1lbnNpb24ucHVzaChub2lzZVNoYXBlW2ldKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG5ld0RpbWVuc2lvbjtcbiAgfVxuXG4gIHJldHVybiBub2lzZVNoYXBlO1xufVxuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG5pbXBvcnQge1RlbnNvcjFEfSBmcm9tICcuLi90ZW5zb3InO1xuaW1wb3J0IHt0ZW5zb3IxZH0gZnJvbSAnLi90ZW5zb3IxZCc7XG5cbmV4cG9ydCBmdW5jdGlvbiBlbmNsb3NpbmdQb3dlck9mVHdvKHZhbHVlOiBudW1iZXIpIHtcbiAgLy8gUmV0dXJuIDIqKk4gZm9yIGludGVnZXIgTiBzdWNoIHRoYXQgMioqTiA+PSB2YWx1ZS5cbiAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5wb3coMiwgTWF0aC5jZWlsKE1hdGgubG9nKHZhbHVlKSAvIE1hdGgubG9nKDIuMCkpKSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb3NpbmVXaW5kb3coXG4gICAgd2luZG93TGVuZ3RoOiBudW1iZXIsIGE6IG51bWJlciwgYjogbnVtYmVyKTogVGVuc29yMUQge1xuICBjb25zdCBldmVuID0gMSAtIHdpbmRvd0xlbmd0aCAlIDI7XG4gIGNvbnN0IG5ld1ZhbHVlcyA9IG5ldyBGbG9hdDMyQXJyYXkod2luZG93TGVuZ3RoKTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCB3aW5kb3dMZW5ndGg7ICsraSkge1xuICAgIGNvbnN0IGNvc0FyZyA9ICgyLjAgKiBNYXRoLlBJICogaSkgLyAod2luZG93TGVuZ3RoICsgZXZlbiAtIDEpO1xuICAgIG5ld1ZhbHVlc1tpXSA9IGEgLSBiICogTWF0aC5jb3MoY29zQXJnKTtcbiAgfVxuICByZXR1cm4gdGVuc29yMWQobmV3VmFsdWVzLCAnZmxvYXQzMicpO1xufVxuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG5pbXBvcnQge1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yJztcbmltcG9ydCB7Y29udmVydFRvVGVuc29yfSBmcm9tICcuLi90ZW5zb3JfdXRpbF9lbnYnO1xuaW1wb3J0IHtUZW5zb3JMaWtlfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQge2Fzc2VydCwgYXNzZXJ0U2hhcGVzTWF0Y2gsIGdldFR5cGVkQXJyYXlGcm9tRFR5cGV9IGZyb20gJy4uL3V0aWwnO1xuaW1wb3J0IHt0ZW5zb3J9IGZyb20gJy4vdGVuc29yJztcblxuLyoqXG4gKiBSZXR1cm5zIHdoZXRoZXIgdGhlIHRhcmdldHMgYXJlIGluIHRoZSB0b3AgSyBwcmVkaWN0aW9ucy5cbiAqXG4gKiBgYGBqc1xuICogY29uc3QgcHJlZGljdGlvbnMgPSB0Zi50ZW5zb3IyZChbWzIwLCAxMCwgNDAsIDMwXSwgWzMwLCA1MCwgLTIwLCAxMF1dKTtcbiAqIGNvbnN0IHRhcmdldHMgPSB0Zi50ZW5zb3IxZChbMiwgMF0pO1xuICogY29uc3QgcHJlY2lzaW9uID0gYXdhaXQgdGYuaW5Ub3BLQXN5bmMocHJlZGljdGlvbnMsIHRhcmdldHMpO1xuICogcHJlY2lzaW9uLnByaW50KCk7XG4gKiBgYGBcbiAqIEBwYXJhbSBwcmVkaWN0aW9ucyAyLUQgb3IgaGlnaGVyIGB0Zi5UZW5zb3JgIHdpdGggbGFzdCBkaW1lbnNpb24gYmVpbmdcbiAqICAgICBhdCBsZWFzdCBga2AuXG4gKiBAcGFyYW0gdGFyZ2V0cyAxLUQgb3IgaGlnaGVyIGB0Zi5UZW5zb3JgLlxuICogQHBhcmFtIGsgT3B0aW9uYWwgTnVtYmVyIG9mIHRvcCBlbGVtZW50cyB0byBsb29rIGF0IGZvciBjb21wdXRpbmcgcHJlY2lzaW9uLFxuICogICAgIGRlZmF1bHQgdG8gMS5cbiAqXG4gKiBAZG9jIHtoZWFkaW5nOiAnT3BlcmF0aW9ucycsIHN1YmhlYWRpbmc6ICdFdmFsdWF0aW9uJ31cbiAqL1xuYXN5bmMgZnVuY3Rpb24gaW5Ub3BLQXN5bmNfPFQgZXh0ZW5kcyBUZW5zb3IsIFUgZXh0ZW5kcyBUZW5zb3I+KFxuICAgIHByZWRpY3Rpb25zOiBUfFRlbnNvckxpa2UsIHRhcmdldHM6IFV8VGVuc29yTGlrZSwgayA9IDEpOiBQcm9taXNlPFU+IHtcbiAgY29uc3QgJHByZWRpY3Rpb25zID0gY29udmVydFRvVGVuc29yKHByZWRpY3Rpb25zLCAncHJlZGljdGlvbnMnLCAnaW5Ub3BLJyk7XG4gIGNvbnN0ICR0YXJnZXRzID0gY29udmVydFRvVGVuc29yKHRhcmdldHMsICd0YXJnZXRzJywgJ2luVG9wSycpO1xuXG4gIGFzc2VydChcbiAgICAgICRwcmVkaWN0aW9ucy5yYW5rID4gMSxcbiAgICAgICgpID0+ICdpblRvcEsoKSBleHBlY3RzIHRoZSBwcmVkaWN0aW9ucyB0byBiZSBvZiByYW5rIDIgb3IgaGlnaGVyLCAnICtcbiAgICAgICAgICBgYnV0IGdvdCAkeyRwcmVkaWN0aW9ucy5yYW5rfWApO1xuICBhc3NlcnQoXG4gICAgICAkcHJlZGljdGlvbnMucmFuayAtIDEgPT09ICR0YXJnZXRzLnJhbmssXG4gICAgICAoKSA9PiBgcHJlZGljdGlvbnMgcmFuayBzaG91bGQgYmUgMSBsYXJnZXIgdGhhbiBgICtcbiAgICAgICAgICBgdGFyZ2V0cyByYW5rLCBidXQgZ290IHByZWRpY3Rpb25zIHJhbmsgYCArXG4gICAgICAgICAgYCR7JHByZWRpY3Rpb25zLnJhbmt9IGFuZCB0YXJnZXRzIHJhbmsgJHskdGFyZ2V0cy5yYW5rfWApO1xuICBhc3NlcnRTaGFwZXNNYXRjaChcbiAgICAgICRwcmVkaWN0aW9ucy5zaGFwZS5zbGljZSgwLCAkcHJlZGljdGlvbnMuc2hhcGUubGVuZ3RoIC0gMSksXG4gICAgICAkdGFyZ2V0cy5zaGFwZSxcbiAgICAgIGBwcmVkaWN0aW9ucydzIHNoYXBlIHNob3VsZCBiZSBhbGlnbiB3aXRoIHRoZSB0YXJnZXRzJyBzaGFwZSwgYCArXG4gICAgICAgICAgJ2V4Y2VwdCB0aGUgbGFzdCBkaW1lbnNpb24uJyk7XG4gIGNvbnN0IGxhc3REaW0gPSAkcHJlZGljdGlvbnMuc2hhcGVbJHByZWRpY3Rpb25zLnNoYXBlLmxlbmd0aCAtIDFdO1xuICBhc3NlcnQoXG4gICAgICBrID4gMCAmJiBrIDw9IGxhc3REaW0sXG4gICAgICAoKSA9PiBgJ2snIHBhc3NlZCB0byBpblRvcEsoKSBtdXN0IGJlID4gMCAmJiA8PSB0aGUgcHJlZGljdGlvbnMgbGFzdCBgICtcbiAgICAgICAgICBgZGltZW5zaW9uICgke2xhc3REaW19KSwgYnV0IGdvdCAke2t9YCk7XG5cbiAgY29uc3QgcHJlZGljdGlvbnNWYWxzID0gYXdhaXQgJHByZWRpY3Rpb25zLmRhdGEoKTtcbiAgY29uc3QgdGFyZ2V0c1ZhbHMgPSBhd2FpdCAkdGFyZ2V0cy5kYXRhKCk7XG5cbiAgLy8gUmVzaGFwZSBwcmVkaWN0aW9uc1ZhbHMgaW50byBhIDJkIHRlbnNvciBbYmF0Y2gsIGxhc3REaW1dXG4gIC8vIGFuZCBsb29rIHVwIHRvcEsgYWxvbmcgbGFzdERpbS5cbiAgY29uc3QgW2JhdGNoLCBzaXplXSA9IFtwcmVkaWN0aW9uc1ZhbHMubGVuZ3RoIC8gbGFzdERpbSwgbGFzdERpbV07XG4gIGNvbnN0IHByZWNpc2lvbiA9IGdldFR5cGVkQXJyYXlGcm9tRFR5cGUoJ2Jvb2wnLCBiYXRjaCk7XG5cbiAgZm9yIChsZXQgYiA9IDA7IGIgPCBiYXRjaDsgYisrKSB7XG4gICAgY29uc3Qgb2Zmc2V0ID0gYiAqIHNpemU7XG4gICAgY29uc3QgdmFscyA9IHByZWRpY3Rpb25zVmFscy5zdWJhcnJheShvZmZzZXQsIG9mZnNldCArIHNpemUpO1xuICAgIGNvbnN0IHZhbEFuZEluZDogQXJyYXk8e3ZhbHVlOiBudW1iZXIsIGluZGV4OiBudW1iZXJ9PiA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmFscy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFsQW5kSW5kLnB1c2goe3ZhbHVlOiB2YWxzW2ldLCBpbmRleDogaX0pO1xuICAgIH1cbiAgICB2YWxBbmRJbmQuc29ydCgoYSwgYikgPT4gYi52YWx1ZSAtIGEudmFsdWUpO1xuXG4gICAgcHJlY2lzaW9uW2JdID0gMDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGs7IGkrKykge1xuICAgICAgaWYgKHZhbEFuZEluZFtpXS5pbmRleCA9PT0gdGFyZ2V0c1ZhbHNbYl0pIHtcbiAgICAgICAgcHJlY2lzaW9uW2JdID0gMTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgaWYgKHByZWRpY3Rpb25zICE9PSAkcHJlZGljdGlvbnMpIHtcbiAgICAkcHJlZGljdGlvbnMuZGlzcG9zZSgpO1xuICB9XG4gIGlmICh0YXJnZXRzICE9PSAkdGFyZ2V0cykge1xuICAgICR0YXJnZXRzLmRpc3Bvc2UoKTtcbiAgfVxuXG4gIC8vIE91dHB1dCBwcmVjaXNpb24gaGFzIHRoZSBzYW1lIHNoYXBlIGFzIHRhcmdldHMuXG4gIHJldHVybiB0ZW5zb3IocHJlY2lzaW9uLCAkdGFyZ2V0cy5zaGFwZSwgJ2Jvb2wnKSBhcyBVO1xufVxuXG5leHBvcnQgY29uc3QgaW5Ub3BLQXN5bmMgPSBpblRvcEtBc3luY187XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5pbXBvcnQge0VOR0lORSwgRm9yd2FyZEZ1bmN9IGZyb20gJy4uL2VuZ2luZSc7XG5pbXBvcnQge0NvbnYyREJhY2twcm9wRmlsdGVyLCBDb252MkRCYWNrcHJvcEZpbHRlckF0dHJzLCBDb252MkRCYWNrcHJvcEZpbHRlcklucHV0c30gZnJvbSAnLi4va2VybmVsX25hbWVzJztcbmltcG9ydCB7TmFtZWRBdHRyTWFwfSBmcm9tICcuLi9rZXJuZWxfcmVnaXN0cnknO1xuaW1wb3J0IHtUZW5zb3IsIFRlbnNvcjNELCBUZW5zb3I0RH0gZnJvbSAnLi4vdGVuc29yJztcbmltcG9ydCB7TmFtZWRUZW5zb3JNYXB9IGZyb20gJy4uL3RlbnNvcl90eXBlcyc7XG5pbXBvcnQgKiBhcyB1dGlsIGZyb20gJy4uL3V0aWwnO1xuXG5pbXBvcnQgKiBhcyBjb252X3V0aWwgZnJvbSAnLi9jb252X3V0aWwnO1xuaW1wb3J0IHtvcH0gZnJvbSAnLi9vcGVyYXRpb24nO1xuaW1wb3J0IHtyZXNoYXBlfSBmcm9tICcuL3Jlc2hhcGUnO1xuXG4vKipcbiAqIENvbXB1dGVzIHRoZSBkZXJpdmF0aXZlIG9mIHRoZSBmaWx0ZXIgb2YgYSAyRCBjb252b2x1dGlvbi5cbiAqXG4gKiBAcGFyYW0geCBUaGUgaW5wdXQgdGVuc29yLCBvZiByYW5rIDQgb3IgcmFuayAzIG9mIHNoYXBlXG4gKiAgICAgW2JhdGNoLCBoZWlnaHQsIHdpZHRoLCBpbkNoYW5uZWxzXS4gSWYgcmFuayAzLCBiYXRjaCBvZiAxIGlzIGFzc3VtZWQuXG4gKiBAcGFyYW0gZHkgVGhlIGR5IGltYWdlLCBvZiByYW5rIDQgb3IgcmFuayAzLCBvZiBzaGFwZVxuICogICAgIFtiYXRjaCwgaGVpZ2h0LCB3aWR0aCwgb3V0RGVwdGhdLiBJZiByYW5rIDMsIGJhdGNoIG9mIDEgaXMgYXNzdW1lZC5cbiAqIEBwYXJhbSBmaWx0ZXJTaGFwZSBUaGUgc2hhcGUgb2YgdGhlIGZpbHRlciwgbGVuZ3RoIDQsXG4gKiAgICAgW2ZpbHRlckhlaWdodCwgZmlsdGVyV2lkdGgsIGluRGVwdGgsIG91dERlcHRoXS5cbiAqIEBwYXJhbSBzdHJpZGVzIFRoZSBzdHJpZGVzIG9mIHRoZSBjb252b2x1dGlvbjogW3N0cmlkZUhlaWdodCxcbiAqIHN0cmlkZVdpZHRoXS5cbiAqIEBwYXJhbSBwYWQgQSBzdHJpbmcgZnJvbTogJ3NhbWUnLCAndmFsaWQnLiBUaGUgdHlwZSBvZiBwYWRkaW5nIGFsZ29yaXRobVxuICogICAgIHVzZWQgaW4gdGhlIGZvcndhcmQgcHJvcCBvZiB0aGUgb3AuXG4gKiBAcGFyYW0gZGF0YUZvcm1hdDogQW4gb3B0aW9uYWwgc3RyaW5nIGZyb206IFwiTkhXQ1wiLCBcIk5DSFdcIi4gRGVmYXVsdHMgdG9cbiAqICAgICBcIk5IV0NcIi4gU3BlY2lmeSB0aGUgZGF0YSBmb3JtYXQgb2YgdGhlIGlucHV0IGFuZCBvdXRwdXQgZGF0YS4gV2l0aCB0aGVcbiAqICAgICBkZWZhdWx0IGZvcm1hdCBcIk5IV0NcIiwgdGhlIGRhdGEgaXMgc3RvcmVkIGluIHRoZSBvcmRlciBvZjogW2JhdGNoLFxuICogICAgIGhlaWdodCwgd2lkdGgsIGNoYW5uZWxzXS5cbiAqIEBwYXJhbSBkaW1Sb3VuZGluZ01vZGUgQSBzdHJpbmcgZnJvbTogJ2NlaWwnLCAncm91bmQnLCAnZmxvb3InLiBUaGVcbiAqICAgICByb3VuZGluZyBtb2RlIHVzZWQgd2hlbiBjb21wdXRpbmcgb3V0cHV0IGRpbWVuc2lvbnMgaWYgcGFkIGlzIGFcbiAqICAgICBudW1iZXIuIElmIG5vbmUgaXMgcHJvdmlkZWQsIGl0IHdpbGwgbm90IHJvdW5kIGFuZCBlcnJvciBpZiB0aGUgb3V0cHV0XG4gKiAgICAgaXMgb2YgZnJhY3Rpb25hbCBzaXplLlxuICovXG5mdW5jdGlvbiBjb252MkRCYWNrcHJvcEZpbHRlcl88VCBleHRlbmRzIFRlbnNvcjNEfFRlbnNvcjREPihcbiAgICB4OiBULCBkeTogVCwgZmlsdGVyU2hhcGU6IFtudW1iZXIsIG51bWJlciwgbnVtYmVyLCBudW1iZXJdLFxuICAgIHN0cmlkZXM6IFtudW1iZXIsIG51bWJlcl18bnVtYmVyLFxuICAgIHBhZDogJ3ZhbGlkJ3wnc2FtZSd8bnVtYmVyfGNvbnZfdXRpbC5FeHBsaWNpdFBhZGRpbmcsXG4gICAgZGF0YUZvcm1hdDogJ05IV0MnfCdOQ0hXJyA9ICdOSFdDJyxcbiAgICBkaW1Sb3VuZGluZ01vZGU/OiAnZmxvb3InfCdyb3VuZCd8J2NlaWwnKTogVGVuc29yNEQge1xuICBsZXQgeDREID0geCBhcyBUZW5zb3I0RDtcbiAgaWYgKHgucmFuayA9PT0gMykge1xuICAgIHg0RCA9IHJlc2hhcGUoeCwgWzEsIHguc2hhcGVbMF0sIHguc2hhcGVbMV0sIHguc2hhcGVbMl1dKTtcbiAgfVxuICBsZXQgZHk0RCA9IGR5IGFzIFRlbnNvcjREO1xuICBpZiAoZHk0RC5yYW5rID09PSAzKSB7XG4gICAgZHk0RCA9IHJlc2hhcGUoZHksIFsxLCBkeS5zaGFwZVswXSwgZHkuc2hhcGVbMV0sIGR5LnNoYXBlWzJdXSk7XG4gIH1cbiAgdXRpbC5hc3NlcnQoXG4gICAgICB4NEQucmFuayA9PT0gNCxcbiAgICAgICgpID0+IGBFcnJvciBpbiBjb252MmREZXJGaWx0ZXI6IGlucHV0IG11c3QgYmUgcmFuayA0LCBidXQgZ290IHNoYXBlIGAgK1xuICAgICAgICAgIGAke3g0RC5zaGFwZX0uYCk7XG4gIHV0aWwuYXNzZXJ0KFxuICAgICAgZHk0RC5yYW5rID09PSA0LFxuICAgICAgKCkgPT4gYEVycm9yIGluIGNvbnYyZERlckZpbHRlcjogZHkgbXVzdCBiZSByYW5rIDQsIGJ1dCBnb3Qgc2hhcGUgYCArXG4gICAgICAgICAgYCR7ZHk0RC5zaGFwZX0uYCk7XG4gIHV0aWwuYXNzZXJ0KFxuICAgICAgZmlsdGVyU2hhcGUubGVuZ3RoID09PSA0LFxuICAgICAgKCkgPT4gYEVycm9yIGluIGNvbnYyZERlckZpbHRlcjogZmlsdGVyU2hhcGUgbXVzdCBiZSBsZW5ndGggNCwgYnV0IGdvdCBgICtcbiAgICAgICAgICBgJHtmaWx0ZXJTaGFwZX0uYCk7XG4gIGNvbnN0IGluRGVwdGggPSBkYXRhRm9ybWF0ID09PSAnTkhXQycgPyB4NEQuc2hhcGVbM10gOiB4NEQuc2hhcGVbMV07XG4gIGNvbnN0IG91dERlcHRoID0gZGF0YUZvcm1hdCA9PT0gJ05IV0MnID8gZHk0RC5zaGFwZVszXSA6IGR5NEQuc2hhcGVbMV07XG4gIHV0aWwuYXNzZXJ0KFxuICAgICAgaW5EZXB0aCA9PT0gZmlsdGVyU2hhcGVbMl0sXG4gICAgICAoKSA9PiBgRXJyb3IgaW4gY29udjJkRGVyRmlsdGVyOiBkZXB0aCBvZiBpbnB1dCAke2luRGVwdGh9KSBtdXN0IGAgK1xuICAgICAgICAgIGBtYXRjaCBpbnB1dCBkZXB0aCBpbiBmaWx0ZXIgKCR7ZmlsdGVyU2hhcGVbMl19LmApO1xuICB1dGlsLmFzc2VydChcbiAgICAgIG91dERlcHRoID09PSBmaWx0ZXJTaGFwZVszXSxcbiAgICAgICgpID0+IGBFcnJvciBpbiBjb252MmREZXJGaWx0ZXI6IGRlcHRoIG9mIGR5ICgke291dERlcHRofSkgbXVzdCBgICtcbiAgICAgICAgICBgbWF0Y2ggb3V0cHV0IGRlcHRoIGZvciBmaWx0ZXIgKCR7ZmlsdGVyU2hhcGVbM119KS5gKTtcbiAgaWYgKGRpbVJvdW5kaW5nTW9kZSAhPSBudWxsKSB7XG4gICAgdXRpbC5hc3NlcnQoXG4gICAgICAgIHV0aWwuaXNJbnQocGFkIGFzIG51bWJlciksXG4gICAgICAgICgpID0+IGBFcnJvciBpbiBjb252MmREZXJGaWx0ZXI6IHBhZCBtdXN0IGJlIGFuIGludGVnZXIgd2hlbiB1c2luZywgYCArXG4gICAgICAgICAgICBgZGltUm91bmRpbmdNb2RlICR7ZGltUm91bmRpbmdNb2RlfSBidXQgZ290IHBhZCAke3BhZH0uYCk7XG4gIH1cblxuICBjb25zdCBmb3J3YXJkOiBGb3J3YXJkRnVuYzxUZW5zb3I+ID0gYmFja2VuZCA9PiB7XG4gICAgY29uc3QgZGlsYXRpb25zID0gMTtcbiAgICBjb25zdCAkZGF0YUZvcm1hdCA9IGNvbnZfdXRpbC5jb252ZXJ0Q29udjJERGF0YUZvcm1hdChkYXRhRm9ybWF0KTtcbiAgICBjb25zdCBjb252SW5mbyA9IGNvbnZfdXRpbC5jb21wdXRlQ29udjJESW5mbyhcbiAgICAgICAgeDRELnNoYXBlLCBmaWx0ZXJTaGFwZSwgc3RyaWRlcywgZGlsYXRpb25zLCBwYWQsIGRpbVJvdW5kaW5nTW9kZSwgZmFsc2UsXG4gICAgICAgICRkYXRhRm9ybWF0KTtcblxuICAgIHJldHVybiBiYWNrZW5kLmNvbnYyZERlckZpbHRlcih4NEQsIGR5NEQsIGNvbnZJbmZvKTtcbiAgfTtcblxuICBjb25zdCBpbnB1dHM6IENvbnYyREJhY2twcm9wRmlsdGVySW5wdXRzID0ge3g6IHg0RCwgZHk6IGR5NER9O1xuICBjb25zdCBhdHRyczpcbiAgICAgIENvbnYyREJhY2twcm9wRmlsdGVyQXR0cnMgPSB7c3RyaWRlcywgcGFkLCBkYXRhRm9ybWF0LCBkaW1Sb3VuZGluZ01vZGV9O1xuXG4gIHJldHVybiBFTkdJTkUucnVuS2VybmVsRnVuYyhcbiAgICAgICAgICAgICBmb3J3YXJkLCBpbnB1dHMgYXMge30gYXMgTmFtZWRUZW5zb3JNYXAsIG51bGwsXG4gICAgICAgICAgICAgQ29udjJEQmFja3Byb3BGaWx0ZXIsIGF0dHJzIGFzIHt9IGFzIE5hbWVkQXR0ck1hcCkgYXMgVGVuc29yNEQ7XG59XG5cbmV4cG9ydCBjb25zdCBjb252MkRCYWNrcHJvcEZpbHRlciA9IG9wKHtjb252MkRCYWNrcHJvcEZpbHRlcl99KTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuaW1wb3J0IHtUZW5zb3J9IGZyb20gJy4uL3RlbnNvcic7XG5cbmltcG9ydCAqIGFzIGJyb2FkY2FzdF91dGlsIGZyb20gJy4vYnJvYWRjYXN0X3V0aWwnO1xuaW1wb3J0IHtlbHV9IGZyb20gJy4vZWx1JztcbmltcG9ydCB7QWN0aXZhdGlvbn0gZnJvbSAnLi9mdXNlZF90eXBlcyc7XG5pbXBvcnQge211bH0gZnJvbSAnLi9tdWwnO1xuaW1wb3J0IHtwcmVsdX0gZnJvbSAnLi9wcmVsdSc7XG5pbXBvcnQge3JlbHV9IGZyb20gJy4vcmVsdSc7XG5pbXBvcnQge3JlbHU2fSBmcm9tICcuL3JlbHU2JztcbmltcG9ydCB7cmVzaGFwZX0gZnJvbSAnLi9yZXNoYXBlJztcbmltcG9ydCB7c3RlcH0gZnJvbSAnLi9zdGVwJztcbmltcG9ydCB7c3VtfSBmcm9tICcuL3N1bSc7XG5cbi8vIFJldHVybnMgZ3JhZGllbnQgZm9yIGZ1c2VkIGFjdGl2YXRpb24uXG5leHBvcnQgZnVuY3Rpb24gZ2V0RnVzZWREeUFjdGl2YXRpb24oXG4gICAgZHk6IFRlbnNvciwgeTogVGVuc29yLCBhY3RpdmF0aW9uOiBBY3RpdmF0aW9uKTogVGVuc29yIHtcbiAgaWYgKGFjdGl2YXRpb24gPT0gbnVsbCB8fCBhY3RpdmF0aW9uID09PSAnbGluZWFyJykge1xuICAgIHJldHVybiBkeTtcbiAgfVxuICBpZiAoYWN0aXZhdGlvbiA9PT0gJ3JlbHUnKSB7XG4gICAgcmV0dXJuIG11bChkeSwgc3RlcCh5KSk7XG4gIH1cbiAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgYENhbm5vdCBjb21wdXRlIGdyYWRpZW50IGZvciBmdXNlZCBhY3RpdmF0aW9uICR7YWN0aXZhdGlvbn0uYCk7XG59XG5cbi8vIFJldHVybnMgZ3JhZGllbnQgZm9yIGZ1c2VkIGJpYXMuXG5leHBvcnQgZnVuY3Rpb24gZ2V0RnVzZWRCaWFzR3JhZGllbnQoXG4gICAgYmlhczogVGVuc29yLCBkeUFjdGl2YXRpb246IFRlbnNvcik6IFRlbnNvciB7XG4gIGxldCByZXMgPSBkeUFjdGl2YXRpb247XG4gIGNvbnN0IHJlZHVjZUF4ZXMgPVxuICAgICAgYnJvYWRjYXN0X3V0aWwuZ2V0UmVkdWN0aW9uQXhlcyhiaWFzLnNoYXBlLCBkeUFjdGl2YXRpb24uc2hhcGUpO1xuICBpZiAocmVkdWNlQXhlcy5sZW5ndGggPiAwKSB7XG4gICAgcmVzID0gc3VtKHJlcywgcmVkdWNlQXhlcyk7XG4gIH1cbiAgcmV0dXJuIHJlc2hhcGUocmVzLCBiaWFzLnNoYXBlKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFwcGx5QWN0aXZhdGlvbihcbiAgICB4OiBUZW5zb3IsIGFjdGl2YXRpb246IEFjdGl2YXRpb24sXG4gICAgcHJlbHVBY3RpdmF0aW9uV2VpZ2h0cz86IFRlbnNvcik6IFRlbnNvciB7XG4gIGlmIChhY3RpdmF0aW9uID09PSAnbGluZWFyJykge1xuICAgIHJldHVybiB4O1xuICB9IGVsc2UgaWYgKGFjdGl2YXRpb24gPT09ICdyZWx1Jykge1xuICAgIHJldHVybiByZWx1KHgpO1xuICB9IGVsc2UgaWYgKGFjdGl2YXRpb24gPT09ICdlbHUnKSB7XG4gICAgcmV0dXJuIGVsdSh4KTtcbiAgfSBlbHNlIGlmIChhY3RpdmF0aW9uID09PSAncmVsdTYnKSB7XG4gICAgcmV0dXJuIHJlbHU2KHgpO1xuICB9IGVsc2UgaWYgKGFjdGl2YXRpb24gPT09ICdwcmVsdScpIHtcbiAgICByZXR1cm4gcHJlbHUoeCwgcHJlbHVBY3RpdmF0aW9uV2VpZ2h0cyk7XG4gIH1cbiAgdGhyb3cgbmV3IEVycm9yKGBVbmtub3duIGZ1c2VkIGFjdGl2YXRpb24gJHthY3RpdmF0aW9ufS5gKTtcbn1cblxuLy8gV2hldGhlciB3ZSBzaG91bGQgY2FsbCBmdXNlZCBvcHMuXG5leHBvcnQgY29uc3Qgc2hvdWxkRnVzZSA9IChncmFkaWVudERlcHRoOiBudW1iZXIsIGFjdGl2YXRpb246IEFjdGl2YXRpb24pID0+IHtcbiAgY29uc3QgZ3JhZGllbnRNb2RlID0gZ3JhZGllbnREZXB0aCA+IDA7XG4gIHJldHVybiAhZ3JhZGllbnRNb2RlIHx8IGFjdGl2YXRpb24gPT09ICdsaW5lYXInO1xufTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuaW1wb3J0IHtFTkdJTkUsIEZvcndhcmRGdW5jfSBmcm9tICcuLi8uLi9lbmdpbmUnO1xuaW1wb3J0IHtjdXN0b21HcmFkfSBmcm9tICcuLi8uLi9ncmFkaWVudHMnO1xuaW1wb3J0IHtGdXNlZENvbnYyRCwgRnVzZWRDb252MkRBdHRycywgRnVzZWRDb252MkRJbnB1dHN9IGZyb20gJy4uLy4uL2tlcm5lbF9uYW1lcyc7XG5pbXBvcnQge05hbWVkQXR0ck1hcH0gZnJvbSAnLi4vLi4va2VybmVsX3JlZ2lzdHJ5JztcbmltcG9ydCB7VGVuc29yLCBUZW5zb3IzRCwgVGVuc29yNER9IGZyb20gJy4uLy4uL3RlbnNvcic7XG5pbXBvcnQge0dyYWRTYXZlRnVuYywgTmFtZWRUZW5zb3JNYXB9IGZyb20gJy4uLy4uL3RlbnNvcl90eXBlcyc7XG5pbXBvcnQge21ha2VUeXBlc01hdGNofSBmcm9tICcuLi8uLi90ZW5zb3JfdXRpbCc7XG5pbXBvcnQge2NvbnZlcnRUb1RlbnNvcn0gZnJvbSAnLi4vLi4vdGVuc29yX3V0aWxfZW52JztcbmltcG9ydCB7VGVuc29yTGlrZX0gZnJvbSAnLi4vLi4vdHlwZXMnO1xuaW1wb3J0ICogYXMgdXRpbCBmcm9tICcuLi8uLi91dGlsJztcbmltcG9ydCB7YWRkfSBmcm9tICcuLi9hZGQnO1xuaW1wb3J0ICogYXMgYnJvYWRjYXN0X3V0aWwgZnJvbSAnLi4vYnJvYWRjYXN0X3V0aWwnO1xuaW1wb3J0IHtjb252MmQgYXMgdW5mdXNlZENvbnYyZH0gZnJvbSAnLi4vY29udjJkJztcbmltcG9ydCB7Y29udjJEQmFja3Byb3BGaWx0ZXJ9IGZyb20gJy4uL2NvbnYyZF9iYWNrcHJvcF9maWx0ZXInO1xuaW1wb3J0IHtjb252MkRCYWNrcHJvcElucHV0fSBmcm9tICcuLi9jb252MmRfYmFja3Byb3BfaW5wdXQnO1xuaW1wb3J0ICogYXMgY29udl91dGlsIGZyb20gJy4uL2NvbnZfdXRpbCc7XG5pbXBvcnQge0FjdGl2YXRpb259IGZyb20gJy4uL2Z1c2VkX3R5cGVzJztcbmltcG9ydCB7YXBwbHlBY3RpdmF0aW9uLCBnZXRGdXNlZEJpYXNHcmFkaWVudCwgZ2V0RnVzZWREeUFjdGl2YXRpb24sIHNob3VsZEZ1c2V9IGZyb20gJy4uL2Z1c2VkX3V0aWwnO1xuaW1wb3J0IHtvcH0gZnJvbSAnLi4vb3BlcmF0aW9uJztcbmltcG9ydCB7cmVzaGFwZX0gZnJvbSAnLi4vcmVzaGFwZSc7XG5cbi8qKlxuICogQ29tcHV0ZXMgYSAyRCBjb252b2x1dGlvbiBvdmVyIHRoZSBpbnB1dCB4LCBvcHRpb25hbGx5IGZ1c2VkIHdpdGggYWRkaW5nIGFcbiAqIGJpYXMgYW5kIGFwcGx5aW5nIGFuIGFjdGl2YXRpb24uXG4gKlxuICogYGBganNcbiAqIGNvbnN0IGlucHV0RGVwdGggPSAyO1xuICogY29uc3QgaW5TaGFwZSA9IFsyLCAyLCAyLCBpbnB1dERlcHRoXTtcbiAqIGNvbnN0IG91dHB1dERlcHRoID0gMjtcbiAqIGNvbnN0IGZTaXplID0gMTtcbiAqIGNvbnN0IHBhZCA9IDA7XG4gKiBjb25zdCBzdHJpZGVzID0gMTtcbiAqXG4gKiBjb25zdCB4ID0gdGYudGVuc29yNGQoIFsxLCAyLCAzLCA0LCA1LCA2LCA3LCA4LCA5LCAxMCwgMTEsIDEyLCAxMywgMTQsIDE1LFxuICogMTZdLCBpblNoYXBlKTtcbiAqIGNvbnN0IHcgPSB0Zi50ZW5zb3I0ZChbLTEsIDEsIC0yLCAwLjVdLCBbZlNpemUsIGZTaXplLCBpbnB1dERlcHRoLFxuICogb3V0cHV0RGVwdGhdKTtcbiAqXG4gKiB0Zi5mdXNlZC5jb252MmQoeyB4LCBmaWx0ZXI6IHcsIHN0cmlkZXMsIHBhZCwgZGF0YUZvcm1hdDogJ05IV0MnLFxuICogZGlsYXRpb25zOiBbMSwgMV0sIGJpYXM6IHRmLnNjYWxhcig1KSwgYWN0aXZhdGlvbjogJ3JlbHUnIH0pLnByaW50KCk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gb2JqIEFuIG9iamVjdCB3aXRoIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllczpcbiAqIEBwYXJhbSB4IFRoZSBpbnB1dCB0ZW5zb3IsIG9mIHJhbmsgNCBvciByYW5rIDMsIG9mIHNoYXBlXG4gKiAgICAgYFtiYXRjaCwgaGVpZ2h0LCB3aWR0aCwgaW5DaGFubmVsc11gLiBJZiByYW5rIDMsIGJhdGNoIG9mIDEgaXNcbiAqIGFzc3VtZWQuXG4gKiBAcGFyYW0gZmlsdGVyIFRoZSBmaWx0ZXIsIHJhbmsgNCwgb2Ygc2hhcGVcbiAqICAgICBgW2ZpbHRlckhlaWdodCwgZmlsdGVyV2lkdGgsIGluRGVwdGgsIG91dERlcHRoXWAuXG4gKiBAcGFyYW0gc3RyaWRlcyBUaGUgc3RyaWRlcyBvZiB0aGUgY29udm9sdXRpb246IGBbc3RyaWRlSGVpZ2h0LFxuICogc3RyaWRlV2lkdGhdYC5cbiAqIEBwYXJhbSBwYWQgVGhlIHR5cGUgb2YgcGFkZGluZyBhbGdvcml0aG0uXG4gKiAgIC0gYHNhbWVgIGFuZCBzdHJpZGUgMTogb3V0cHV0IHdpbGwgYmUgb2Ygc2FtZSBzaXplIGFzIGlucHV0LFxuICogICAgICAgcmVnYXJkbGVzcyBvZiBmaWx0ZXIgc2l6ZS5cbiAqICAgLSBgdmFsaWRgIG91dHB1dCB3aWxsIGJlIHNtYWxsZXIgdGhhbiBpbnB1dCBpZiBmaWx0ZXIgaXMgbGFyZ2VyXG4gKiAgICAgICB0aGFuIDF4MS5cbiAqICAgLSBGb3IgbW9yZSBpbmZvLCBzZWUgdGhpcyBndWlkZTpcbiAqICAgICBbaHR0cHM6Ly93d3cudGVuc29yZmxvdy5vcmcvYXBpX2d1aWRlcy9weXRob24vbm4jQ29udm9sdXRpb25dKFxuICogICAgICAgICAgaHR0cHM6Ly93d3cudGVuc29yZmxvdy5vcmcvYXBpX2d1aWRlcy9weXRob24vbm4jQ29udm9sdXRpb24pXG4gKiBAcGFyYW0gZGF0YUZvcm1hdCBBbiBvcHRpb25hbCBzdHJpbmcgZnJvbTogXCJOSFdDXCIsIFwiTkNIV1wiLiBEZWZhdWx0cyB0b1xuICogICAgIFwiTkhXQ1wiLiBTcGVjaWZ5IHRoZSBkYXRhIGZvcm1hdCBvZiB0aGUgaW5wdXQgYW5kIG91dHB1dCBkYXRhLiBXaXRoIHRoZVxuICogICAgIGRlZmF1bHQgZm9ybWF0IFwiTkhXQ1wiLCB0aGUgZGF0YSBpcyBzdG9yZWQgaW4gdGhlIG9yZGVyIG9mOiBbYmF0Y2gsXG4gKiAgICAgaGVpZ2h0LCB3aWR0aCwgY2hhbm5lbHNdLiBPbmx5IFwiTkhXQ1wiIGlzIGN1cnJlbnRseSBzdXBwb3J0ZWQuXG4gKiBAcGFyYW0gZGlsYXRpb25zIFRoZSBkaWxhdGlvbiByYXRlczogYFtkaWxhdGlvbkhlaWdodCwgZGlsYXRpb25XaWR0aF1gXG4gKiAgICAgaW4gd2hpY2ggd2Ugc2FtcGxlIGlucHV0IHZhbHVlcyBhY3Jvc3MgdGhlIGhlaWdodCBhbmQgd2lkdGggZGltZW5zaW9uc1xuICogICAgIGluIGF0cm91cyBjb252b2x1dGlvbi4gRGVmYXVsdHMgdG8gYFsxLCAxXWAuIElmIGBkaWxhdGlvbnNgIGlzIGEgc2luZ2xlXG4gKiAgICAgbnVtYmVyLCB0aGVuIGBkaWxhdGlvbkhlaWdodCA9PSBkaWxhdGlvbldpZHRoYC4gSWYgaXQgaXMgZ3JlYXRlciB0aGFuXG4gKiAgICAgMSwgdGhlbiBhbGwgdmFsdWVzIG9mIGBzdHJpZGVzYCBtdXN0IGJlIDEuXG4gKiBAcGFyYW0gZGltUm91bmRpbmdNb2RlIFRoZSByb3VuZGluZyBtb2RlIHVzZWQgd2hlbiBjb21wdXRpbmcgb3V0cHV0XG4gKiAgICAgZGltZW5zaW9ucyBpZiBwYWQgaXMgYSBudW1iZXIuIElmIG5vbmUgaXMgcHJvdmlkZWQsIGl0IHdpbGwgbm90IHJvdW5kXG4gKiAgICAgYW5kIGVycm9yIGlmIHRoZSBvdXRwdXQgaXMgb2YgZnJhY3Rpb25hbCBzaXplLlxuICogQHBhcmFtIGJpYXMgVGVuc29yIHRvIGJlIGFkZGVkIHRvIHRoZSByZXN1bHQuXG4gKiBAcGFyYW0gYWN0aXZhdGlvbiBOYW1lIG9mIGFjdGl2YXRpb24ga2VybmVsIChkZWZhdWx0cyB0byBgbGluZWFyYCkgdG8gYmVcbiAqICAgICBhcHBsaWVkXG4gKiAgICAgIGFmdGVyIGJpYXNBZGQuXG4gKiBAcGFyYW0gcHJlbHVBY3RpdmF0aW9uV2VpZ2h0cyBUZW5zb3Igb2YgcHJlbHUgd2VpZ2h0cyB0byBiZSBhcHBsaWVkIGFzIHBhcnRcbiAqICAgICBvZiBhIGBwcmVsdWAgYWN0aXZhdGlvbiwgdHlwaWNhbGx5IHRoZSBzYW1lIHNoYXBlIGFzIGB4YC5cbiAqL1xuZnVuY3Rpb24gZnVzZWRDb252MmRfPFQgZXh0ZW5kcyBUZW5zb3IzRHxUZW5zb3I0RD4oe1xuICB4LFxuICBmaWx0ZXIsXG4gIHN0cmlkZXMsXG4gIHBhZCxcbiAgZGF0YUZvcm1hdCA9ICdOSFdDJyxcbiAgZGlsYXRpb25zID0gWzEsIDFdLFxuICBkaW1Sb3VuZGluZ01vZGUsXG4gIGJpYXMsXG4gIGFjdGl2YXRpb24gPSAnbGluZWFyJyxcbiAgcHJlbHVBY3RpdmF0aW9uV2VpZ2h0c1xufToge1xuICB4OiBUfFRlbnNvckxpa2UsXG4gIGZpbHRlcjogVGVuc29yNER8VGVuc29yTGlrZSxcbiAgc3RyaWRlczogW251bWJlciwgbnVtYmVyXXxudW1iZXIsXG4gIHBhZDogJ3ZhbGlkJ3wnc2FtZSd8bnVtYmVyfGNvbnZfdXRpbC5FeHBsaWNpdFBhZGRpbmcsXG4gIGRhdGFGb3JtYXQ/OiAnTkhXQyd8J05DSFcnLFxuICBkaWxhdGlvbnM/OiBbbnVtYmVyLCBudW1iZXJdfG51bWJlcixcbiAgZGltUm91bmRpbmdNb2RlPzogJ2Zsb29yJ3wncm91bmQnfCdjZWlsJyxcbiAgYmlhcz86IFRlbnNvcnxUZW5zb3JMaWtlLFxuICBhY3RpdmF0aW9uPzogQWN0aXZhdGlvbixcbiAgcHJlbHVBY3RpdmF0aW9uV2VpZ2h0cz86IFRlbnNvclxufSk6IFQge1xuICBhY3RpdmF0aW9uID0gYWN0aXZhdGlvbiB8fCAnbGluZWFyJztcblxuICBpZiAoc2hvdWxkRnVzZShFTkdJTkUuc3RhdGUuZ3JhZGllbnREZXB0aCwgYWN0aXZhdGlvbikgPT09IGZhbHNlKSB7XG4gICAgbGV0IHJlc3VsdCA9IHVuZnVzZWRDb252MmQoXG4gICAgICAgIHgsIGZpbHRlciwgc3RyaWRlcywgcGFkLCBkYXRhRm9ybWF0LCBkaWxhdGlvbnMsIGRpbVJvdW5kaW5nTW9kZSk7XG4gICAgaWYgKGJpYXMgIT0gbnVsbCkge1xuICAgICAgcmVzdWx0ID0gYWRkKHJlc3VsdCwgYmlhcyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGFwcGx5QWN0aXZhdGlvbihyZXN1bHQsIGFjdGl2YXRpb24sIHByZWx1QWN0aXZhdGlvbldlaWdodHMpIGFzIFQ7XG4gIH1cblxuICBjb25zdCAkeCA9IGNvbnZlcnRUb1RlbnNvcih4LCAneCcsICdjb252MmQnKTtcbiAgY29uc3QgJGZpbHRlciA9IGNvbnZlcnRUb1RlbnNvcihmaWx0ZXIsICdmaWx0ZXInLCAnY29udjJkJyk7XG5cbiAgbGV0IHg0RCA9ICR4IGFzIFRlbnNvcjREO1xuICBsZXQgcmVzaGFwZWRUbzREID0gZmFsc2U7XG5cbiAgaWYgKCR4LnJhbmsgPT09IDMpIHtcbiAgICByZXNoYXBlZFRvNEQgPSB0cnVlO1xuICAgIHg0RCA9IHJlc2hhcGUoJHgsIFsxLCAkeC5zaGFwZVswXSwgJHguc2hhcGVbMV0sICR4LnNoYXBlWzJdXSk7XG4gIH1cbiAgdXRpbC5hc3NlcnQoXG4gICAgICB4NEQucmFuayA9PT0gNCxcbiAgICAgICgpID0+IGBFcnJvciBpbiBmdXNlZCBjb252MmQ6IGlucHV0IG11c3QgYmUgcmFuayA0LCBidXQgZ290IHJhbmsgYCArXG4gICAgICAgICAgYCR7eDRELnJhbmt9LmApO1xuICB1dGlsLmFzc2VydChcbiAgICAgICRmaWx0ZXIucmFuayA9PT0gNCxcbiAgICAgICgpID0+IGBFcnJvciBpbiBmdXNlZCBjb252MmQ6IGZpbHRlciBtdXN0IGJlIHJhbmsgNCwgYnV0IGdvdCByYW5rIGAgK1xuICAgICAgICAgIGAkeyRmaWx0ZXIucmFua30uYCk7XG4gIGlmIChkaW1Sb3VuZGluZ01vZGUgIT0gbnVsbCkge1xuICAgIHV0aWwuYXNzZXJ0KFxuICAgICAgICB1dGlsLmlzSW50KHBhZCBhcyBudW1iZXIpLFxuICAgICAgICAoKSA9PiBgRXJyb3IgaW4gZnVzZWQgY29udjJkOiBwYWQgbXVzdCBiZSBhbiBpbnRlZ2VyIHdoZW4gdXNpbmcsIGAgK1xuICAgICAgICAgICAgYGRpbVJvdW5kaW5nTW9kZSAke2RpbVJvdW5kaW5nTW9kZX0gYnV0IGdvdCBwYWQgJHtwYWR9LmApO1xuICB9XG5cbiAgdXRpbC5hc3NlcnQoXG4gICAgICB4NEQuc2hhcGVbM10gPT09ICRmaWx0ZXIuc2hhcGVbMl0sXG4gICAgICAoKSA9PiBgRXJyb3IgaW4gY29udjJkOiBkZXB0aCBvZiBpbnB1dCAoJHt4NEQuc2hhcGVbM119KSBtdXN0IG1hdGNoIGAgK1xuICAgICAgICAgIGBpbnB1dCBkZXB0aCBmb3IgZmlsdGVyICR7JGZpbHRlci5zaGFwZVsyXX0uYCk7XG4gIHV0aWwuYXNzZXJ0KFxuICAgICAgY29udl91dGlsLmVpdGhlclN0cmlkZXNPckRpbGF0aW9uc0FyZU9uZShzdHJpZGVzLCBkaWxhdGlvbnMpLFxuICAgICAgKCkgPT4gJ0Vycm9yIGluIGNvbnYyRDogRWl0aGVyIHN0cmlkZXMgb3IgZGlsYXRpb25zIG11c3QgYmUgMS4gJyArXG4gICAgICAgICAgYEdvdCBzdHJpZGVzICR7c3RyaWRlc30gYW5kIGRpbGF0aW9ucyAnJHtkaWxhdGlvbnN9J2ApO1xuICB1dGlsLmFzc2VydChcbiAgICAgIGRhdGFGb3JtYXQgPT09ICdOSFdDJyxcbiAgICAgICgpID0+IGBFcnJvciBpbiBjb252MmQ6IGdvdCBkYXRhRm9ybWF0IG9mICR7XG4gICAgICAgICAgZGF0YUZvcm1hdH0gYnV0IG9ubHkgTkhXQyBpcyBjdXJyZW50bHkgc3VwcG9ydGVkLmApO1xuXG4gIGNvbnN0IGNvbnZJbmZvID0gY29udl91dGlsLmNvbXB1dGVDb252MkRJbmZvKFxuICAgICAgeDRELnNoYXBlLCAkZmlsdGVyLnNoYXBlLCBzdHJpZGVzLCBkaWxhdGlvbnMsIHBhZCwgZGltUm91bmRpbmdNb2RlKTtcblxuICBsZXQgJGJpYXM6IFRlbnNvcjtcbiAgaWYgKGJpYXMgIT0gbnVsbCkge1xuICAgICRiaWFzID0gY29udmVydFRvVGVuc29yKGJpYXMsICdiaWFzJywgJ2Z1c2VkIGNvbnYyZCcpO1xuICAgIFskYmlhc10gPSBtYWtlVHlwZXNNYXRjaCgkYmlhcywgJHgpO1xuXG4gICAgYnJvYWRjYXN0X3V0aWwuYXNzZXJ0QW5kR2V0QnJvYWRjYXN0U2hhcGUoY29udkluZm8ub3V0U2hhcGUsICRiaWFzLnNoYXBlKTtcbiAgfVxuXG4gIGxldCAkcHJlbHVBY3RpdmF0aW9uV2VpZ2h0czogVGVuc29yO1xuICBpZiAocHJlbHVBY3RpdmF0aW9uV2VpZ2h0cyAhPSBudWxsKSB7XG4gICAgJHByZWx1QWN0aXZhdGlvbldlaWdodHMgPSBjb252ZXJ0VG9UZW5zb3IoXG4gICAgICAgIHByZWx1QWN0aXZhdGlvbldlaWdodHMsICdwcmVsdSB3ZWlnaHRzJywgJ2Z1c2VkIGNvbnYyZCcpO1xuICB9XG5cbiAgY29uc3QgZ3JhZCA9IChkeTogVGVuc29yNEQsIHNhdmVkOiBUZW5zb3JbXSkgPT4ge1xuICAgIGNvbnN0IFskZmlsdGVyLCB4NEQsIHksICRiaWFzXSA9XG4gICAgICAgIHNhdmVkIGFzIFtUZW5zb3I0RCwgVGVuc29yNEQsIFRlbnNvcjRELCBUZW5zb3JdO1xuXG4gICAgY29uc3QgZHlBY3RpdmF0aW9uID0gZ2V0RnVzZWREeUFjdGl2YXRpb24oZHksIHksIGFjdGl2YXRpb24pIGFzIFRlbnNvcjREO1xuXG4gICAgdXRpbC5hc3NlcnQoXG4gICAgICAgIGNvbnZfdXRpbC50dXBsZVZhbHVlc0FyZU9uZShkaWxhdGlvbnMpLFxuICAgICAgICAoKSA9PiAnRXJyb3IgaW4gZ3JhZGllbnQgb2YgZnVzZWQgY29udjJEOiAnICtcbiAgICAgICAgICAgIGBkaWxhdGlvbiByYXRlcyBncmVhdGVyIHRoYW4gMSBgICtcbiAgICAgICAgICAgIGBhcmUgbm90IHlldCBzdXBwb3J0ZWQgaW4gZ3JhZGllbnRzLiBHb3QgZGlsYXRpb25zICcke2RpbGF0aW9uc30nYCk7XG5cbiAgICBjb25zdCB4RGVyID1cbiAgICAgICAgY29udjJEQmFja3Byb3BJbnB1dCh4NEQuc2hhcGUsIGR5QWN0aXZhdGlvbiwgJGZpbHRlciwgc3RyaWRlcywgcGFkKTtcbiAgICBjb25zdCBmaWx0ZXJEZXIgPVxuICAgICAgICBjb252MkRCYWNrcHJvcEZpbHRlcih4NEQsIGR5QWN0aXZhdGlvbiwgJGZpbHRlci5zaGFwZSwgc3RyaWRlcywgcGFkKTtcbiAgICBjb25zdCBkZXI6IFRlbnNvcltdID0gW3hEZXIsIGZpbHRlckRlcl07XG5cbiAgICBpZiAoJGJpYXMgIT0gbnVsbCkge1xuICAgICAgY29uc3QgYmlhc0RlciA9IGdldEZ1c2VkQmlhc0dyYWRpZW50KCRiaWFzLCBkeUFjdGl2YXRpb24pO1xuICAgICAgZGVyLnB1c2goYmlhc0Rlcik7XG4gICAgfVxuICAgIHJldHVybiBkZXI7XG4gIH07XG5cbiAgY29uc3QgZm9yd2FyZDogRm9yd2FyZEZ1bmM8VGVuc29yPiA9IChiYWNrZW5kKSA9PiB7XG4gICAgY29uc3QgcmVzID0gYmFja2VuZC5mdXNlZENvbnYyZCh7XG4gICAgICBpbnB1dDogeDRELFxuICAgICAgZmlsdGVyOiAkZmlsdGVyLFxuICAgICAgY29udkluZm8sXG4gICAgICBiaWFzOiAkYmlhcyxcbiAgICAgIGFjdGl2YXRpb24sXG4gICAgICBwcmVsdUFjdGl2YXRpb25XZWlnaHRzOiAkcHJlbHVBY3RpdmF0aW9uV2VpZ2h0c1xuICAgIH0pO1xuICAgIHJldHVybiByZXM7XG4gIH07XG5cbiAgY29uc3QgaW5wdXRzOiBGdXNlZENvbnYyRElucHV0cyA9IHtcbiAgICB4OiB4NEQsXG4gICAgZmlsdGVyOiAkZmlsdGVyLFxuICAgIGJpYXM6ICRiaWFzLFxuICAgIHByZWx1QWN0aXZhdGlvbldlaWdodHM6ICRwcmVsdUFjdGl2YXRpb25XZWlnaHRzXG4gIH07XG5cbiAgY29uc3QgYXR0cnM6IEZ1c2VkQ29udjJEQXR0cnMgPVxuICAgICAge3N0cmlkZXMsIHBhZCwgZGF0YUZvcm1hdCwgZGlsYXRpb25zLCBkaW1Sb3VuZGluZ01vZGUsIGFjdGl2YXRpb259O1xuXG4gIC8vIERlcGVuZGluZyBvbiB0aGUgdGhlIHBhcmFtcyBwYXNzZWQgaW4gd2Ugd2lsbCBoYXZlIGRpZmZlcmVudCBudW1iZXIgb2ZcbiAgLy8gaW5wdXRzIGFuZCB0aHVzIGEgYSBkaWZmZXJlbnQgbnVtYmVyIG9mIGVsZW1lbnRzIGluIHRoZSBncmFkaWVudC5cbiAgaWYgKGJpYXMgPT0gbnVsbCkge1xuICAgIGNvbnN0IGN1c3RvbU9wID1cbiAgICAgICAgY3VzdG9tR3JhZCgoeDREOiBUZW5zb3I0RCwgZmlsdGVyOiBUZW5zb3I0RCwgc2F2ZTogR3JhZFNhdmVGdW5jKSA9PiB7XG4gICAgICAgICAgbGV0IHJlcyA9IEVOR0lORS5ydW5LZXJuZWxGdW5jKFxuICAgICAgICAgICAgICBmb3J3YXJkLCBpbnB1dHMgYXMge30gYXMgTmFtZWRUZW5zb3JNYXAsIG51bGwgLyogZ3JhZCAqLyxcbiAgICAgICAgICAgICAgRnVzZWRDb252MkQsIGF0dHJzIGFzIHt9IGFzIE5hbWVkQXR0ck1hcCk7XG5cbiAgICAgICAgICBzYXZlKFtmaWx0ZXIsIHg0RCwgcmVzXSk7XG5cbiAgICAgICAgICBpZiAocmVzaGFwZWRUbzREKSB7XG4gICAgICAgICAgICByZXMgPSByZXNoYXBlKHJlcywgW3Jlcy5zaGFwZVsxXSwgcmVzLnNoYXBlWzJdLCByZXMuc2hhcGVbM11dKSBhcyBUO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiB7dmFsdWU6IHJlcywgZ3JhZEZ1bmM6IGdyYWR9O1xuICAgICAgICB9KTtcbiAgICByZXR1cm4gY3VzdG9tT3AoeDRELCAkZmlsdGVyKSBhcyBUO1xuICB9IGVsc2Uge1xuICAgIGNvbnN0IGN1c3RvbU9wV2l0aEJpYXMgPSBjdXN0b21HcmFkKFxuICAgICAgICAoeDREOiBUZW5zb3I0RCwgZmlsdGVyOiBUZW5zb3I0RCwgYmlhczogVGVuc29yLCBzYXZlOiBHcmFkU2F2ZUZ1bmMpID0+IHtcbiAgICAgICAgICBsZXQgcmVzID0gRU5HSU5FLnJ1bktlcm5lbEZ1bmMoXG4gICAgICAgICAgICAgIGZvcndhcmQsIGlucHV0cyBhcyB7fSBhcyBOYW1lZFRlbnNvck1hcCwgbnVsbCAvKiBncmFkICovLFxuICAgICAgICAgICAgICBGdXNlZENvbnYyRCwgYXR0cnMgYXMge30gYXMgTmFtZWRBdHRyTWFwKTtcblxuICAgICAgICAgIHNhdmUoW2ZpbHRlciwgeDRELCByZXMsIGJpYXNdKTtcblxuICAgICAgICAgIGlmIChyZXNoYXBlZFRvNEQpIHtcbiAgICAgICAgICAgIHJlcyA9IHJlc2hhcGUocmVzLCBbcmVzLnNoYXBlWzFdLCByZXMuc2hhcGVbMl0sIHJlcy5zaGFwZVszXV0pIGFzIFQ7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIHt2YWx1ZTogcmVzLCBncmFkRnVuYzogZ3JhZH07XG4gICAgICAgIH0pO1xuXG4gICAgcmV0dXJuIGN1c3RvbU9wV2l0aEJpYXMoeDRELCAkZmlsdGVyLCAkYmlhcykgYXMgVDtcbiAgfVxufVxuZXhwb3J0IGNvbnN0IGNvbnYyZCA9IG9wKHtmdXNlZENvbnYyZF99KTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cbmltcG9ydCB7RU5HSU5FLCBGb3J3YXJkRnVuY30gZnJvbSAnLi4vZW5naW5lJztcbmltcG9ydCB7RGVwdGh3aXNlQ29udjJkTmF0aXZlQmFja3Byb3BGaWx0ZXIsIERlcHRod2lzZUNvbnYyZE5hdGl2ZUJhY2twcm9wRmlsdGVySW5wdXRzfSBmcm9tICcuLi9rZXJuZWxfbmFtZXMnO1xuaW1wb3J0IHtUZW5zb3IsIFRlbnNvcjNELCBUZW5zb3I0RH0gZnJvbSAnLi4vdGVuc29yJztcbmltcG9ydCB7TmFtZWRUZW5zb3JNYXB9IGZyb20gJy4uL3RlbnNvcl90eXBlcyc7XG5cbmltcG9ydCAqIGFzIGNvbnZfdXRpbCBmcm9tICcuL2NvbnZfdXRpbCc7XG5pbXBvcnQge29wfSBmcm9tICcuL29wZXJhdGlvbic7XG5pbXBvcnQge3Jlc2hhcGV9IGZyb20gJy4vcmVzaGFwZSc7XG5cbmZ1bmN0aW9uIGRlcHRod2lzZUNvbnYyZE5hdGl2ZUJhY2twcm9wRmlsdGVyXzxUIGV4dGVuZHMgVGVuc29yM0R8VGVuc29yNEQ+KFxuICAgIHg6IFQsIGR5OiBULCBmaWx0ZXJTaGFwZTogW251bWJlciwgbnVtYmVyLCBudW1iZXIsIG51bWJlcl0sXG4gICAgY29udkluZm86IGNvbnZfdXRpbC5Db252MkRJbmZvKTogVGVuc29yNEQge1xuICBsZXQgeDREID0geCBhcyBUZW5zb3I0RDtcbiAgaWYgKHgucmFuayA9PT0gMykge1xuICAgIHg0RCA9IHJlc2hhcGUoeCwgWzEsIHguc2hhcGVbMF0sIHguc2hhcGVbMV0sIHguc2hhcGVbMl1dKTtcbiAgfVxuICBsZXQgZHk0RCA9IGR5IGFzIFRlbnNvcjREO1xuICBpZiAoZHk0RC5yYW5rID09PSAzKSB7XG4gICAgZHk0RCA9IHJlc2hhcGUoZHksIFsxLCBkeS5zaGFwZVswXSwgZHkuc2hhcGVbMV0sIGR5LnNoYXBlWzJdXSk7XG4gIH1cblxuICBjb25zdCBmb3J3YXJkOiBGb3J3YXJkRnVuYzxUZW5zb3I+ID0gYmFja2VuZCA9PlxuICAgICAgYmFja2VuZC5kZXB0aHdpc2VDb252MkREZXJGaWx0ZXIoeDRELCBkeTRELCBjb252SW5mbyk7XG5cbiAgY29uc3QgaW5wdXRzOiBEZXB0aHdpc2VDb252MmROYXRpdmVCYWNrcHJvcEZpbHRlcklucHV0cyA9IHt4OiB4NEQsIGR5OiBkeTREfTtcblxuICByZXR1cm4gRU5HSU5FLnJ1bktlcm5lbEZ1bmMoXG4gICAgICAgICAgICAgZm9yd2FyZCwgaW5wdXRzIGFzIHt9IGFzIE5hbWVkVGVuc29yTWFwLCBudWxsLFxuICAgICAgICAgICAgIERlcHRod2lzZUNvbnYyZE5hdGl2ZUJhY2twcm9wRmlsdGVyKSBhcyBUZW5zb3I0RDtcbn1cblxuZXhwb3J0IGNvbnN0IGRlcHRod2lzZUNvbnYyZE5hdGl2ZUJhY2twcm9wRmlsdGVyID1cbiAgICBvcCh7ZGVwdGh3aXNlQ29udjJkTmF0aXZlQmFja3Byb3BGaWx0ZXJffSk7XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5pbXBvcnQge0VOR0lORSwgRm9yd2FyZEZ1bmN9IGZyb20gJy4uL2VuZ2luZSc7XG5pbXBvcnQge0RlcHRod2lzZUNvbnYyZE5hdGl2ZUJhY2twcm9wSW5wdXQsIERlcHRod2lzZUNvbnYyZE5hdGl2ZUJhY2twcm9wSW5wdXRJbnB1dHN9IGZyb20gJy4uL2tlcm5lbF9uYW1lcyc7XG5pbXBvcnQge1RlbnNvciwgVGVuc29yM0QsIFRlbnNvcjREfSBmcm9tICcuLi90ZW5zb3InO1xuaW1wb3J0IHtOYW1lZFRlbnNvck1hcH0gZnJvbSAnLi4vdGVuc29yX3R5cGVzJztcblxuaW1wb3J0ICogYXMgY29udl91dGlsIGZyb20gJy4vY29udl91dGlsJztcbmltcG9ydCB7b3B9IGZyb20gJy4vb3BlcmF0aW9uJztcbmltcG9ydCB7cmVzaGFwZX0gZnJvbSAnLi9yZXNoYXBlJztcblxuZnVuY3Rpb24gZGVwdGh3aXNlQ29udjJkTmF0aXZlQmFja3Byb3BJbnB1dF88VCBleHRlbmRzIFRlbnNvcjNEfFRlbnNvcjREPihcbiAgICB4U2hhcGU6IFtudW1iZXIsIG51bWJlciwgbnVtYmVyLCBudW1iZXJdfFtudW1iZXIsIG51bWJlciwgbnVtYmVyXSwgZHk6IFQsXG4gICAgZmlsdGVyOiBUZW5zb3I0RCwgY29udkluZm86IGNvbnZfdXRpbC5Db252MkRJbmZvKTogVCB7XG4gIGxldCBkeTREID0gZHkgYXMgVGVuc29yNEQ7XG4gIGxldCByZXNoYXBlZFRvNEQgPSBmYWxzZTtcbiAgaWYgKGR5LnJhbmsgPT09IDMpIHtcbiAgICByZXNoYXBlZFRvNEQgPSB0cnVlO1xuICAgIGR5NEQgPSByZXNoYXBlKGR5LCBbMSwgZHkuc2hhcGVbMF0sIGR5LnNoYXBlWzFdLCBkeS5zaGFwZVsyXV0pO1xuICB9XG5cbiAgY29uc3QgZm9yd2FyZDogRm9yd2FyZEZ1bmM8VGVuc29yPiA9IGJhY2tlbmQgPT5cbiAgICAgIGJhY2tlbmQuZGVwdGh3aXNlQ29udjJERGVySW5wdXQoZHk0RCwgZmlsdGVyLCBjb252SW5mbyk7XG5cbiAgY29uc3QgaW5wdXRzOiBEZXB0aHdpc2VDb252MmROYXRpdmVCYWNrcHJvcElucHV0SW5wdXRzID0ge2R5OiBkeTREfTtcblxuICBjb25zdCByZXMgPSBFTkdJTkUucnVuS2VybmVsRnVuYyhcbiAgICAgIGZvcndhcmQsIGlucHV0cyBhcyB7fSBhcyBOYW1lZFRlbnNvck1hcCwgbnVsbCxcbiAgICAgIERlcHRod2lzZUNvbnYyZE5hdGl2ZUJhY2twcm9wSW5wdXQpO1xuXG4gIGlmIChyZXNoYXBlZFRvNEQpIHtcbiAgICByZXR1cm4gcmVzaGFwZShyZXMsIFtyZXMuc2hhcGVbMV0sIHJlcy5zaGFwZVsyXSwgcmVzLnNoYXBlWzNdXSkgYXMgVDtcbiAgfVxuICByZXR1cm4gcmVzIGFzIFQ7XG59XG5cbmV4cG9ydCBjb25zdCBkZXB0aHdpc2VDb252MmROYXRpdmVCYWNrcHJvcElucHV0ID1cbiAgICBvcCh7ZGVwdGh3aXNlQ29udjJkTmF0aXZlQmFja3Byb3BJbnB1dF99KTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuaW1wb3J0IHtFTkdJTkUsIEZvcndhcmRGdW5jfSBmcm9tICcuLi8uLi9lbmdpbmUnO1xuaW1wb3J0IHtjdXN0b21HcmFkfSBmcm9tICcuLi8uLi9ncmFkaWVudHMnO1xuaW1wb3J0IHtfRnVzZWRNYXRNdWwsIF9GdXNlZE1hdE11bEF0dHJzLCBfRnVzZWRNYXRNdWxJbnB1dHN9IGZyb20gJy4uLy4uL2tlcm5lbF9uYW1lcyc7XG5pbXBvcnQge05hbWVkQXR0ck1hcH0gZnJvbSAnLi4vLi4va2VybmVsX3JlZ2lzdHJ5JztcbmltcG9ydCB7VGVuc29yLCBUZW5zb3IzRH0gZnJvbSAnLi4vLi4vdGVuc29yJztcbmltcG9ydCB7R3JhZFNhdmVGdW5jLCBOYW1lZFRlbnNvck1hcH0gZnJvbSAnLi4vLi4vdGVuc29yX3R5cGVzJztcbmltcG9ydCB7bWFrZVR5cGVzTWF0Y2h9IGZyb20gJy4uLy4uL3RlbnNvcl91dGlsJztcbmltcG9ydCB7Y29udmVydFRvVGVuc29yfSBmcm9tICcuLi8uLi90ZW5zb3JfdXRpbF9lbnYnO1xuaW1wb3J0IHtUZW5zb3JMaWtlfSBmcm9tICcuLi8uLi90eXBlcyc7XG5pbXBvcnQgKiBhcyB1dGlsIGZyb20gJy4uLy4uL3V0aWwnO1xuXG5pbXBvcnQge2FkZH0gZnJvbSAnLi4vYWRkJztcbmltcG9ydCAqIGFzIGJyb2FkY2FzdF91dGlsIGZyb20gJy4uL2Jyb2FkY2FzdF91dGlsJztcbmltcG9ydCB7QWN0aXZhdGlvbn0gZnJvbSAnLi4vZnVzZWRfdHlwZXMnO1xuaW1wb3J0IHthcHBseUFjdGl2YXRpb24sIGdldEZ1c2VkQmlhc0dyYWRpZW50LCBnZXRGdXNlZER5QWN0aXZhdGlvbiwgc2hvdWxkRnVzZX0gZnJvbSAnLi4vZnVzZWRfdXRpbCc7XG5pbXBvcnQge21hdE11bCBhcyB1bmZ1c2VkTWF0TXVsfSBmcm9tICcuLi9tYXRfbXVsJztcbmltcG9ydCB7b3B9IGZyb20gJy4uL29wZXJhdGlvbic7XG5pbXBvcnQge3Jlc2hhcGV9IGZyb20gJy4uL3Jlc2hhcGUnO1xuXG4vKipcbiAqIENvbXB1dGVzIHRoZSBkb3QgcHJvZHVjdCBvZiB0d28gbWF0cmljZXMgd2l0aCBvcHRpb25hbCBhY3RpdmF0aW9uIGFuZCBiaWFzLlxuICpcbiAqIGBgYGpzXG4gKiBjb25zdCBhID0gdGYudGVuc29yMmQoWy0xLCAtMl0sIFsxLCAyXSk7XG4gKiBjb25zdCBiID0gdGYudGVuc29yMmQoWzEsIDIsIDMsIDRdLCBbMiwgMl0pO1xuICogY29uc3QgYmlhcyA9IHRmLnRlbnNvcjJkKFsxLCAyXSwgWzEsIDJdKTtcbiAqXG4gKiB0Zi5mdXNlZC5tYXRNdWwoe2EsIGIsIGJpYXMsIGFjdGl2YXRpb246ICdyZWx1J30pLnByaW50KCk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gb2JqIEFuIG9iamVjdCB3aXRoIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllczpcbiAqIC0gYGFgIEZpcnN0IG1hdHJpeCBpbiBkb3QgcHJvZHVjdCBvcGVyYXRpb24uXG4gKiAtIGBiYCBTZWNvbmQgbWF0cml4IGluIGRvdCBwcm9kdWN0IG9wZXJhdGlvbi5cbiAqIC0gYHRyYW5zcG9zZUFgIElmIHRydWUsIGBhYCBpcyB0cmFuc3Bvc2VkIGJlZm9yZSBtdWx0aXBsaWNhdGlvbi5cbiAqIC0gYHRyYW5zcG9zZUJgIElmIHRydWUsIGBiYCBpcyB0cmFuc3Bvc2VkIGJlZm9yZSBtdWx0aXBsaWNhdGlvbi5cbiAqIC0gYGJpYXNgIE1hdHJpeCB0byBiZSBhZGRlZCB0byB0aGUgcmVzdWx0LlxuICogLSBgYWN0aXZhdGlvbmAgTmFtZSBvZiBhY3RpdmF0aW9uIGtlcm5lbCAoZGVmYXVsdHMgdG8gYGxpbmVhcmApLlxuICogLSBgcHJlbHVBY3RpdmF0aW9uV2VpZ2h0c2AgVGVuc29yIG9mIHByZWx1IHdlaWdodHMuXG4gKi9cbmZ1bmN0aW9uIGZ1c2VkTWF0TXVsXzxUIGV4dGVuZHMgVGVuc29yPih7XG4gIGEsXG4gIGIsXG4gIHRyYW5zcG9zZUEgPSBmYWxzZSxcbiAgdHJhbnNwb3NlQiA9IGZhbHNlLFxuICBiaWFzLFxuICBhY3RpdmF0aW9uID0gJ2xpbmVhcicsXG4gIHByZWx1QWN0aXZhdGlvbldlaWdodHNcbn06IHtcbiAgYTogVHxUZW5zb3JMaWtlLFxuICBiOiBUfFRlbnNvckxpa2UsXG4gIHRyYW5zcG9zZUE/OiBib29sZWFuLFxuICB0cmFuc3Bvc2VCPzogYm9vbGVhbixcbiAgYmlhcz86IFRlbnNvcnxUZW5zb3JMaWtlLFxuICBhY3RpdmF0aW9uPzogQWN0aXZhdGlvbixcbiAgcHJlbHVBY3RpdmF0aW9uV2VpZ2h0cz86IFRlbnNvclxufSk6IFQge1xuICBpZiAoc2hvdWxkRnVzZShFTkdJTkUuc3RhdGUuZ3JhZGllbnREZXB0aCwgYWN0aXZhdGlvbikgPT09IGZhbHNlKSB7XG4gICAgbGV0IHJlc3VsdCA9IHVuZnVzZWRNYXRNdWwoYSwgYiwgdHJhbnNwb3NlQSwgdHJhbnNwb3NlQik7XG4gICAgaWYgKGJpYXMgIT0gbnVsbCkge1xuICAgICAgcmVzdWx0ID0gYWRkKHJlc3VsdCwgYmlhcyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGFwcGx5QWN0aXZhdGlvbihyZXN1bHQsIGFjdGl2YXRpb24sIHByZWx1QWN0aXZhdGlvbldlaWdodHMpIGFzIFQ7XG4gIH1cblxuICBsZXQgJGEgPSBjb252ZXJ0VG9UZW5zb3IoYSwgJ2EnLCAnZnVzZWQgbWF0TXVsJyk7XG4gIGxldCAkYiA9IGNvbnZlcnRUb1RlbnNvcihiLCAnYicsICdmdXNlZCBtYXRNdWwnKTtcbiAgWyRhLCAkYl0gPSBtYWtlVHlwZXNNYXRjaCgkYSwgJGIpO1xuXG4gIGNvbnN0IGlubmVyU2hhcGVBID1cbiAgICAgIHRyYW5zcG9zZUEgPyAkYS5zaGFwZVskYS5yYW5rIC0gMl0gOiAkYS5zaGFwZVskYS5yYW5rIC0gMV07XG4gIGNvbnN0IGlubmVyU2hhcGVCID1cbiAgICAgIHRyYW5zcG9zZUIgPyAkYi5zaGFwZVskYi5yYW5rIC0gMV0gOiAkYi5zaGFwZVskYi5yYW5rIC0gMl07XG5cbiAgY29uc3Qgb3V0ZXJTaGFwZUEgPVxuICAgICAgdHJhbnNwb3NlQSA/ICRhLnNoYXBlWyRhLnJhbmsgLSAxXSA6ICRhLnNoYXBlWyRhLnJhbmsgLSAyXTtcbiAgY29uc3Qgb3V0ZXJTaGFwZUIgPVxuICAgICAgdHJhbnNwb3NlQiA/ICRiLnNoYXBlWyRiLnJhbmsgLSAyXSA6ICRiLnNoYXBlWyRiLnJhbmsgLSAxXTtcblxuICBjb25zdCBvdXRlckRpbXNBID0gJGEuc2hhcGUuc2xpY2UoMCwgLTIpO1xuICBjb25zdCBvdXRlckRpbXNCID0gJGIuc2hhcGUuc2xpY2UoMCwgLTIpO1xuICBjb25zdCBiYXRjaERpbUEgPSB1dGlsLnNpemVGcm9tU2hhcGUob3V0ZXJEaW1zQSk7XG4gIGNvbnN0IGJhdGNoRGltQiA9IHV0aWwuc2l6ZUZyb21TaGFwZShvdXRlckRpbXNCKTtcblxuICB1dGlsLmFzc2VydChcbiAgICAgICRhLnJhbmsgPj0gMiAmJiAkYi5yYW5rID49IDIgJiYgJGEucmFuayA9PT0gJGIucmFuayxcbiAgICAgICgpID0+XG4gICAgICAgICAgYEVycm9yIGluIGZ1c2VkIG1hdE11bDogaW5wdXRzIG11c3QgaGF2ZSB0aGUgc2FtZSByYW5rIG9mIGF0IGxlYXN0IGAgK1xuICAgICAgICAgIGAyLCBnb3QgcmFua3MgJHskYS5yYW5rfSBhbmQgJHskYi5yYW5rfS5gKTtcblxuICB1dGlsLmFzc2VydChcbiAgICAgIHV0aWwuYXJyYXlzRXF1YWwob3V0ZXJEaW1zQSwgb3V0ZXJEaW1zQiksXG4gICAgICAoKSA9PiBgRXJyb3IgaW4gZnVzZWQgbWF0TXVsOiBvdXRlciBkaW1lbnNpb25zICgke291dGVyRGltc0F9KSBhbmQgKGAgK1xuICAgICAgICAgIGAke291dGVyRGltc0J9KSBvZiBUZW5zb3JzIHdpdGggc2hhcGVzICR7JGEuc2hhcGV9IGFuZCBgICtcbiAgICAgICAgICBgJHskYi5zaGFwZX0gbXVzdCBtYXRjaC5gKTtcblxuICB1dGlsLmFzc2VydChcbiAgICAgIGlubmVyU2hhcGVBID09PSBpbm5lclNoYXBlQixcbiAgICAgICgpID0+IGBFcnJvciBpbiBmdXNlZCBtYXRNdWw6IGlubmVyIHNoYXBlcyAoJHtpbm5lclNoYXBlQX0pIGFuZCAoYCArXG4gICAgICAgICAgYCR7aW5uZXJTaGFwZUJ9KSBvZiBUZW5zb3JzIHdpdGggc2hhcGVzICR7JGEuc2hhcGV9IGFuZCBgICtcbiAgICAgICAgICBgJHskYi5zaGFwZX0gYW5kIHRyYW5zcG9zZUE9JHt0cmFuc3Bvc2VBfWAgK1xuICAgICAgICAgIGAgYW5kIHRyYW5zcG9zZUI9JHt0cmFuc3Bvc2VCfSBtdXN0IG1hdGNoLmApO1xuXG4gIGNvbnN0IG91dFNoYXBlID0gJGEuc2hhcGUuc2xpY2UoMCwgLTIpLmNvbmNhdChbb3V0ZXJTaGFwZUEsIG91dGVyU2hhcGVCXSk7XG5cbiAgY29uc3QgYTNEOiBUZW5zb3IzRCA9IHRyYW5zcG9zZUEgP1xuICAgICAgcmVzaGFwZSgkYSwgW2JhdGNoRGltQSwgaW5uZXJTaGFwZUEsIG91dGVyU2hhcGVBXSkgOlxuICAgICAgcmVzaGFwZSgkYSwgW2JhdGNoRGltQSwgb3V0ZXJTaGFwZUEsIGlubmVyU2hhcGVBXSk7XG4gIGNvbnN0IGIzRDogVGVuc29yM0QgPSB0cmFuc3Bvc2VCID9cbiAgICAgIHJlc2hhcGUoJGIsIFtiYXRjaERpbUIsIG91dGVyU2hhcGVCLCBpbm5lclNoYXBlQl0pIDpcbiAgICAgIHJlc2hhcGUoJGIsIFtiYXRjaERpbUIsIGlubmVyU2hhcGVCLCBvdXRlclNoYXBlQl0pO1xuXG4gIGxldCAkYmlhczogVGVuc29yO1xuICBpZiAoYmlhcyAhPSBudWxsKSB7XG4gICAgJGJpYXMgPSBjb252ZXJ0VG9UZW5zb3IoYmlhcywgJ2JpYXMnLCAnZnVzZWQgbWF0TXVsJyk7XG4gICAgWyRiaWFzXSA9IG1ha2VUeXBlc01hdGNoKCRiaWFzLCAkYSk7XG5cbiAgICBicm9hZGNhc3RfdXRpbC5hc3NlcnRBbmRHZXRCcm9hZGNhc3RTaGFwZShvdXRTaGFwZSwgJGJpYXMuc2hhcGUpO1xuICB9XG5cbiAgbGV0ICRwcmVsdUFjdGl2YXRpb25XZWlnaHRzOiBUZW5zb3I7XG4gIGlmIChwcmVsdUFjdGl2YXRpb25XZWlnaHRzICE9IG51bGwpIHtcbiAgICAkcHJlbHVBY3RpdmF0aW9uV2VpZ2h0cyA9IGNvbnZlcnRUb1RlbnNvcihcbiAgICAgICAgcHJlbHVBY3RpdmF0aW9uV2VpZ2h0cywgJ3ByZWx1IHdlaWdodHMnLCAnZnVzZWQgbWF0TXVsJyk7XG4gIH1cblxuICBjb25zdCBncmFkID0gKGR5OiBUZW5zb3IzRCwgc2F2ZWQ6IFRlbnNvcltdKSA9PiB7XG4gICAgY29uc3QgW2EzRCwgYjNELCB5LCAkYmlhc10gPSBzYXZlZDtcbiAgICAvLyB3ZSByZXNoYXBlIGR5IGJlY2F1c2UgdGhlIHJlc3VsdCBvZiB0aGUgZm9yd2FyZCBpcyBub3RcbiAgICAvLyBuZWNlc3NhcmlseSBnb2luZyB0byBiZSBhIDNkIHRlbnNvciBkdWUgdG8gYSByZXNoYXBlIGRvbmUgYXQgdGhlIGVuZCBvZlxuICAgIC8vIHRoZSBjdXN0b21PcC5cbiAgICBjb25zdCBkeUFjdGl2YXRpb24gPVxuICAgICAgICBnZXRGdXNlZER5QWN0aXZhdGlvbihyZXNoYXBlKGR5LCB5LnNoYXBlKSwgeSwgYWN0aXZhdGlvbik7XG4gICAgbGV0IGFEZXI6IFRlbnNvcjtcbiAgICBsZXQgYkRlcjogVGVuc29yO1xuXG4gICAgaWYgKCF0cmFuc3Bvc2VBICYmICF0cmFuc3Bvc2VCKSB7XG4gICAgICBhRGVyID0gdW5mdXNlZE1hdE11bChkeUFjdGl2YXRpb24sIGIzRCwgZmFsc2UsIHRydWUpO1xuICAgICAgYkRlciA9IHVuZnVzZWRNYXRNdWwoYTNELCBkeUFjdGl2YXRpb24sIHRydWUsIGZhbHNlKTtcbiAgICB9IGVsc2UgaWYgKCF0cmFuc3Bvc2VBICYmIHRyYW5zcG9zZUIpIHtcbiAgICAgIGFEZXIgPSB1bmZ1c2VkTWF0TXVsKGR5QWN0aXZhdGlvbiwgYjNELCBmYWxzZSwgZmFsc2UpO1xuICAgICAgYkRlciA9IHVuZnVzZWRNYXRNdWwoZHlBY3RpdmF0aW9uLCBhM0QsIHRydWUsIGZhbHNlKTtcbiAgICB9IGVsc2UgaWYgKHRyYW5zcG9zZUEgJiYgIXRyYW5zcG9zZUIpIHtcbiAgICAgIGFEZXIgPSB1bmZ1c2VkTWF0TXVsKGIzRCwgZHlBY3RpdmF0aW9uLCBmYWxzZSwgdHJ1ZSk7XG4gICAgICBiRGVyID0gdW5mdXNlZE1hdE11bChhM0QsIGR5QWN0aXZhdGlvbiwgZmFsc2UsIGZhbHNlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYURlciA9IHVuZnVzZWRNYXRNdWwoYjNELCBkeUFjdGl2YXRpb24sIHRydWUsIHRydWUpO1xuICAgICAgYkRlciA9IHVuZnVzZWRNYXRNdWwoZHlBY3RpdmF0aW9uLCBhM0QsIHRydWUsIHRydWUpO1xuICAgIH1cblxuICAgIGlmIChiaWFzICE9IG51bGwpIHtcbiAgICAgIGNvbnN0IGJpYXNEZXIgPSBnZXRGdXNlZEJpYXNHcmFkaWVudCgkYmlhcywgZHlBY3RpdmF0aW9uKTtcbiAgICAgIHJldHVybiBbYURlciwgYkRlciwgYmlhc0Rlcl07XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBbYURlciwgYkRlcl07XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGZvcndhcmQ6IEZvcndhcmRGdW5jPFRlbnNvcj4gPSAoYmFja2VuZCkgPT4ge1xuICAgIGNvbnN0IHkgPSBiYWNrZW5kLmZ1c2VkQmF0Y2hNYXRNdWwoe1xuICAgICAgYTogYTNELFxuICAgICAgYjogYjNELFxuICAgICAgdHJhbnNwb3NlQSxcbiAgICAgIHRyYW5zcG9zZUIsXG4gICAgICBiaWFzOiAkYmlhcyxcbiAgICAgIGFjdGl2YXRpb24sXG4gICAgICBwcmVsdUFjdGl2YXRpb25XZWlnaHRzOiAkcHJlbHVBY3RpdmF0aW9uV2VpZ2h0c1xuICAgIH0pO1xuICAgIHJldHVybiB5O1xuICB9O1xuXG4gIGNvbnN0IGlucHV0czogX0Z1c2VkTWF0TXVsSW5wdXRzID0ge1xuICAgIGE6IGEzRCxcbiAgICBiOiBiM0QsXG4gICAgYmlhczogJGJpYXMsXG4gICAgcHJlbHVBY3RpdmF0aW9uV2VpZ2h0czogJHByZWx1QWN0aXZhdGlvbldlaWdodHNcbiAgfTtcbiAgY29uc3QgYXR0cnM6IF9GdXNlZE1hdE11bEF0dHJzID0ge3RyYW5zcG9zZUEsIHRyYW5zcG9zZUIsIGFjdGl2YXRpb259O1xuXG4gIC8vIERlcGVuZGluZyBvbiB0aGUgdGhlIHBhcmFtcyBwYXNzZWQgaW4gd2Ugd2lsbCBoYXZlIGRpZmZlcmVudCBudW1iZXIgb2ZcbiAgLy8gaW5wdXRzIGFuZCB0aHVzIGEgYSBkaWZmZXJlbnQgbnVtYmVyIG9mIGVsZW1lbnRzIGluIHRoZSBncmFkaWVudC5cbiAgaWYgKGJpYXMgPT0gbnVsbCkge1xuICAgIGNvbnN0IGN1c3RvbU9wID1cbiAgICAgICAgY3VzdG9tR3JhZCgoYTNEOiBUZW5zb3IzRCwgYjNEOiBUZW5zb3IzRCwgc2F2ZTogR3JhZFNhdmVGdW5jKSA9PiB7XG4gICAgICAgICAgY29uc3QgcmVzID0gRU5HSU5FLnJ1bktlcm5lbEZ1bmMoXG4gICAgICAgICAgICAgIGZvcndhcmQsIGlucHV0cyBhcyB7fSBhcyBOYW1lZFRlbnNvck1hcCwgbnVsbCAvKiBncmFkICovLFxuICAgICAgICAgICAgICBfRnVzZWRNYXRNdWwsIGF0dHJzIGFzIHt9IGFzIE5hbWVkQXR0ck1hcCk7XG5cbiAgICAgICAgICBzYXZlKFthM0QsIGIzRCwgcmVzXSk7XG5cbiAgICAgICAgICByZXR1cm4ge3ZhbHVlOiByZXNoYXBlKHJlcywgb3V0U2hhcGUpLCBncmFkRnVuYzogZ3JhZH07XG4gICAgICAgIH0pO1xuICAgIHJldHVybiBjdXN0b21PcChhM0QsIGIzRCkgYXMgVDtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCBjdXN0b21PcFdpdGhCaWFzID0gY3VzdG9tR3JhZChcbiAgICAgICAgKGEzRDogVGVuc29yM0QsIGIzRDogVGVuc29yM0QsICRiaWFzOiBUZW5zb3IsIHNhdmU6IEdyYWRTYXZlRnVuYykgPT4ge1xuICAgICAgICAgIGNvbnN0IHJlcyA9IEVOR0lORS5ydW5LZXJuZWxGdW5jKFxuICAgICAgICAgICAgICBmb3J3YXJkLCBpbnB1dHMgYXMge30gYXMgTmFtZWRUZW5zb3JNYXAsIG51bGwgLyogZ3JhZCAqLyxcbiAgICAgICAgICAgICAgX0Z1c2VkTWF0TXVsLCBhdHRycyBhcyB7fSBhcyBOYW1lZEF0dHJNYXApO1xuXG4gICAgICAgICAgc2F2ZShbYTNELCBiM0QsIHJlcywgJGJpYXNdKTtcblxuICAgICAgICAgIHJldHVybiB7dmFsdWU6IHJlc2hhcGUocmVzLCBvdXRTaGFwZSksIGdyYWRGdW5jOiBncmFkfTtcbiAgICAgICAgfSk7XG5cbiAgICByZXR1cm4gY3VzdG9tT3BXaXRoQmlhcyhhM0QsIGIzRCwgJGJpYXMpIGFzIFQ7XG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IG1hdE11bCA9IG9wKHtmdXNlZE1hdE11bF99KTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuaW1wb3J0IHtFTkdJTkUsIEZvcndhcmRGdW5jfSBmcm9tICcuLi8uLi9lbmdpbmUnO1xuaW1wb3J0IHtjdXN0b21HcmFkfSBmcm9tICcuLi8uLi9ncmFkaWVudHMnO1xuaW1wb3J0IHtGdXNlZERlcHRod2lzZUNvbnYyRCwgRnVzZWREZXB0aHdpc2VDb252MkRBdHRycywgRnVzZWREZXB0aHdpc2VDb252MkRJbnB1dHN9IGZyb20gJy4uLy4uL2tlcm5lbF9uYW1lcyc7XG5pbXBvcnQge05hbWVkQXR0ck1hcH0gZnJvbSAnLi4vLi4va2VybmVsX3JlZ2lzdHJ5JztcbmltcG9ydCB7VGVuc29yLCBUZW5zb3IzRCwgVGVuc29yNER9IGZyb20gJy4uLy4uL3RlbnNvcic7XG5pbXBvcnQge0dyYWRTYXZlRnVuYywgTmFtZWRUZW5zb3JNYXB9IGZyb20gJy4uLy4uL3RlbnNvcl90eXBlcyc7XG5pbXBvcnQge21ha2VUeXBlc01hdGNofSBmcm9tICcuLi8uLi90ZW5zb3JfdXRpbCc7XG5pbXBvcnQge2NvbnZlcnRUb1RlbnNvcn0gZnJvbSAnLi4vLi4vdGVuc29yX3V0aWxfZW52JztcbmltcG9ydCB7VGVuc29yTGlrZX0gZnJvbSAnLi4vLi4vdHlwZXMnO1xuaW1wb3J0ICogYXMgdXRpbCBmcm9tICcuLi8uLi91dGlsJztcblxuaW1wb3J0IHthZGR9IGZyb20gJy4uL2FkZCc7XG5pbXBvcnQgKiBhcyBicm9hZGNhc3RfdXRpbCBmcm9tICcuLi9icm9hZGNhc3RfdXRpbCc7XG5pbXBvcnQgKiBhcyBjb252X3V0aWwgZnJvbSAnLi4vY29udl91dGlsJztcbmltcG9ydCB7ZGVwdGh3aXNlQ29udjJkIGFzIHVuZnVzZWREZXB0aHdpc2VDb252MmR9IGZyb20gJy4uL2RlcHRod2lzZV9jb252MmQnO1xuaW1wb3J0IHtkZXB0aHdpc2VDb252MmROYXRpdmVCYWNrcHJvcEZpbHRlcn0gZnJvbSAnLi4vZGVwdGh3aXNlX2NvbnYyZF9uYXRpdmVfYmFja3Byb3BfZmlsdGVyJztcbmltcG9ydCB7ZGVwdGh3aXNlQ29udjJkTmF0aXZlQmFja3Byb3BJbnB1dH0gZnJvbSAnLi4vZGVwdGh3aXNlX2NvbnYyZF9uYXRpdmVfYmFja3Byb3BfaW5wdXQnO1xuaW1wb3J0IHtBY3RpdmF0aW9ufSBmcm9tICcuLi9mdXNlZF90eXBlcyc7XG5pbXBvcnQge2FwcGx5QWN0aXZhdGlvbiwgZ2V0RnVzZWRCaWFzR3JhZGllbnQsIGdldEZ1c2VkRHlBY3RpdmF0aW9uLCBzaG91bGRGdXNlfSBmcm9tICcuLi9mdXNlZF91dGlsJztcbmltcG9ydCB7b3B9IGZyb20gJy4uL29wZXJhdGlvbic7XG5pbXBvcnQge3Jlc2hhcGV9IGZyb20gJy4uL3Jlc2hhcGUnO1xuXG4vKipcbiAqIENvbXB1dGVzIGRlcHRod2lzZSAyRCBjb252b2x1dGlvbiwgb3B0aW9uYWxseSBmdXNlZCB3aXRoIGFkZGluZyBhXG4gKiBiaWFzIGFuZCBhcHBseWluZyBhbiBhY3RpdmF0aW9uLlxuICpcbiAqIEdpdmVuIGEgNEQgYGlucHV0YCBhcnJheSBhbmQgYSBgZmlsdGVyYCBhcnJheSBvZiBzaGFwZVxuICogYFtmaWx0ZXJIZWlnaHQsIGZpbHRlcldpZHRoLCBpbkNoYW5uZWxzLCBjaGFubmVsTXVsdGlwbGllcl1gIGNvbnRhaW5pbmdcbiAqIGBpbkNoYW5uZWxzYCBjb252b2x1dGlvbmFsIGZpbHRlcnMgb2YgZGVwdGggMSwgdGhpcyBvcCBhcHBsaWVzIGFcbiAqIGRpZmZlcmVudCBmaWx0ZXIgdG8gZWFjaCBpbnB1dCBjaGFubmVsIChleHBhbmRpbmcgZnJvbSAxIGNoYW5uZWwgdG9cbiAqIGBjaGFubmVsTXVsdGlwbGllcmAgY2hhbm5lbHMgZm9yIGVhY2gpLCB0aGVuIGNvbmNhdGVuYXRlcyB0aGUgcmVzdWx0c1xuICogdG9nZXRoZXIuIFRoZSBvdXRwdXQgaGFzIGBpbkNoYW5uZWxzICogY2hhbm5lbE11bHRpcGxpZXJgIGNoYW5uZWxzLlxuICpcbiAqIFNlZVxuICogW2h0dHBzOi8vd3d3LnRlbnNvcmZsb3cub3JnL2FwaV9kb2NzL3B5dGhvbi90Zi9ubi9kZXB0aHdpc2VfY29udjJkXShcbiAqICAgICBodHRwczovL3d3dy50ZW5zb3JmbG93Lm9yZy9hcGlfZG9jcy9weXRob24vdGYvbm4vZGVwdGh3aXNlX2NvbnYyZClcbiAqIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogQHBhcmFtIG9iaiBBbiBvYmplY3Qgd2l0aCB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXM6XG4gKiBAcGFyYW0geCBUaGUgaW5wdXQgdGVuc29yLCBvZiByYW5rIDQgb3IgcmFuayAzLCBvZiBzaGFwZVxuICogICAgIGBbYmF0Y2gsIGhlaWdodCwgd2lkdGgsIGluQ2hhbm5lbHNdYC4gSWYgcmFuayAzLCBiYXRjaCBvZiAxIGlzXG4gKiBhc3N1bWVkLlxuICogQHBhcmFtIGZpbHRlciBUaGUgZmlsdGVyIHRlbnNvciwgcmFuayA0LCBvZiBzaGFwZVxuICogICAgIGBbZmlsdGVySGVpZ2h0LCBmaWx0ZXJXaWR0aCwgaW5DaGFubmVscywgY2hhbm5lbE11bHRpcGxpZXJdYC5cbiAqIEBwYXJhbSBzdHJpZGVzIFRoZSBzdHJpZGVzIG9mIHRoZSBjb252b2x1dGlvbjogYFtzdHJpZGVIZWlnaHQsXG4gKiBzdHJpZGVXaWR0aF1gLiBJZiBzdHJpZGVzIGlzIGEgc2luZ2xlIG51bWJlciwgdGhlbiBgc3RyaWRlSGVpZ2h0ID09XG4gKiBzdHJpZGVXaWR0aGAuXG4gKiBAcGFyYW0gcGFkIFRoZSB0eXBlIG9mIHBhZGRpbmcgYWxnb3JpdGhtLlxuICogICAtIGBzYW1lYCBhbmQgc3RyaWRlIDE6IG91dHB1dCB3aWxsIGJlIG9mIHNhbWUgc2l6ZSBhcyBpbnB1dCxcbiAqICAgICAgIHJlZ2FyZGxlc3Mgb2YgZmlsdGVyIHNpemUuXG4gKiAgIC0gYHZhbGlkYDogb3V0cHV0IHdpbGwgYmUgc21hbGxlciB0aGFuIGlucHV0IGlmIGZpbHRlciBpcyBsYXJnZXJcbiAqICAgICAgIHRoYW4gMXgxLlxuICogICAtIEZvciBtb3JlIGluZm8sIHNlZSB0aGlzIGd1aWRlOlxuICogICAgIFtodHRwczovL3d3dy50ZW5zb3JmbG93Lm9yZy9hcGlfZ3VpZGVzL3B5dGhvbi9ubiNDb252b2x1dGlvbl0oXG4gKiAgICAgICAgICBodHRwczovL3d3dy50ZW5zb3JmbG93Lm9yZy9hcGlfZ3VpZGVzL3B5dGhvbi9ubiNDb252b2x1dGlvbilcbiAqIEBwYXJhbSBkaWxhdGlvbnMgVGhlIGRpbGF0aW9uIHJhdGVzOiBgW2RpbGF0aW9uSGVpZ2h0LCBkaWxhdGlvbldpZHRoXWBcbiAqICAgICBpbiB3aGljaCB3ZSBzYW1wbGUgaW5wdXQgdmFsdWVzIGFjcm9zcyB0aGUgaGVpZ2h0IGFuZCB3aWR0aCBkaW1lbnNpb25zXG4gKiAgICAgaW4gYXRyb3VzIGNvbnZvbHV0aW9uLiBEZWZhdWx0cyB0byBgWzEsIDFdYC4gSWYgYHJhdGVgIGlzIGEgc2luZ2xlXG4gKiAgICAgbnVtYmVyLCB0aGVuIGBkaWxhdGlvbkhlaWdodCA9PSBkaWxhdGlvbldpZHRoYC4gSWYgaXQgaXMgZ3JlYXRlciB0aGFuXG4gKiAgICAgMSwgdGhlbiBhbGwgdmFsdWVzIG9mIGBzdHJpZGVzYCBtdXN0IGJlIDEuXG4gKiBAcGFyYW0gZGF0YUZvcm1hdDogQW4gb3B0aW9uYWwgc3RyaW5nIGZyb206IFwiTkhXQ1wiLCBcIk5DSFdcIi4gRGVmYXVsdHMgdG9cbiAqICAgICBcIk5IV0NcIi4gU3BlY2lmeSB0aGUgZGF0YSBmb3JtYXQgb2YgdGhlIGlucHV0IGFuZCBvdXRwdXQgZGF0YS4gV2l0aCB0aGVcbiAqICAgICBkZWZhdWx0IGZvcm1hdCBcIk5IV0NcIiwgdGhlIGRhdGEgaXMgc3RvcmVkIGluIHRoZSBvcmRlciBvZjogW2JhdGNoLFxuICogICAgIGhlaWdodCwgd2lkdGgsIGNoYW5uZWxzXS4gT25seSBcIk5IV0NcIiBpcyBjdXJyZW50bHkgc3VwcG9ydGVkLlxuICogQHBhcmFtIGRpbVJvdW5kaW5nTW9kZSBUaGUgcm91bmRpbmcgbW9kZSB1c2VkIHdoZW4gY29tcHV0aW5nIG91dHB1dFxuICogICAgIGRpbWVuc2lvbnMgaWYgcGFkIGlzIGEgbnVtYmVyLiBJZiBub25lIGlzIHByb3ZpZGVkLCBpdCB3aWxsIG5vdCByb3VuZFxuICogICAgIGFuZCBlcnJvciBpZiB0aGUgb3V0cHV0IGlzIG9mIGZyYWN0aW9uYWwgc2l6ZS5cbiAqIEBwYXJhbSBiaWFzIFRlbnNvciB0byBiZSBhZGRlZCB0byB0aGUgcmVzdWx0LlxuICogQHBhcmFtIGFjdGl2YXRpb24gTmFtZSBvZiBhY3RpdmF0aW9uIGtlcm5lbCAoZGVmYXVsdHMgdG8gYGxpbmVhcmApLlxuICogQHBhcmFtIHByZWx1QWN0aXZhdGlvbldlaWdodHMgVGVuc29yIG9mIHByZWx1IHdlaWdodHMgdG8gYmUgYXBwbGllZCBhcyBwYXJ0XG4gKiAgICAgb2YgYSBgcHJlbHVgIGFjdGl2YXRpb24sIHR5cGljYWxseSB0aGUgc2FtZSBzaGFwZSBhcyBgeGAuXG4gKi9cbmZ1bmN0aW9uIGZ1c2VkRGVwdGh3aXNlQ29udjJkXzxUIGV4dGVuZHMgVGVuc29yM0R8VGVuc29yNEQ+KHtcbiAgeCxcbiAgZmlsdGVyLFxuICBzdHJpZGVzLFxuICBwYWQsXG4gIGRhdGFGb3JtYXQgPSAnTkhXQycsXG4gIGRpbGF0aW9ucyA9IFsxLCAxXSxcbiAgZGltUm91bmRpbmdNb2RlLFxuICBiaWFzLFxuICBhY3RpdmF0aW9uID0gJ2xpbmVhcicsXG4gIHByZWx1QWN0aXZhdGlvbldlaWdodHNcbn06IHtcbiAgeDogVHxUZW5zb3JMaWtlLFxuICBmaWx0ZXI6IFRlbnNvcjREfFRlbnNvckxpa2UsXG4gIHN0cmlkZXM6IFtudW1iZXIsIG51bWJlcl18bnVtYmVyLFxuICBwYWQ6ICd2YWxpZCd8J3NhbWUnfG51bWJlcixcbiAgZGF0YUZvcm1hdD86ICdOSFdDJ3wnTkNIVycsXG4gIGRpbGF0aW9ucz86IFtudW1iZXIsIG51bWJlcl18bnVtYmVyLFxuICBkaW1Sb3VuZGluZ01vZGU/OiAnZmxvb3InfCdyb3VuZCd8J2NlaWwnLFxuICBiaWFzPzogVGVuc29yfFRlbnNvckxpa2UsXG4gIGFjdGl2YXRpb24/OiBBY3RpdmF0aW9uLFxuICBwcmVsdUFjdGl2YXRpb25XZWlnaHRzPzogVGVuc29yXG59KTogVCB7XG4gIGlmIChzaG91bGRGdXNlKEVOR0lORS5zdGF0ZS5ncmFkaWVudERlcHRoLCBhY3RpdmF0aW9uKSA9PT0gZmFsc2UpIHtcbiAgICBsZXQgcmVzdWx0ID0gdW5mdXNlZERlcHRod2lzZUNvbnYyZChcbiAgICAgICAgeCwgZmlsdGVyLCBzdHJpZGVzLCBwYWQsIGRhdGFGb3JtYXQsIGRpbGF0aW9ucywgZGltUm91bmRpbmdNb2RlKTtcbiAgICBpZiAoYmlhcyAhPSBudWxsKSB7XG4gICAgICByZXN1bHQgPSBhZGQocmVzdWx0LCBiaWFzKTtcbiAgICB9XG5cbiAgICByZXR1cm4gYXBwbHlBY3RpdmF0aW9uKHJlc3VsdCwgYWN0aXZhdGlvbiwgcHJlbHVBY3RpdmF0aW9uV2VpZ2h0cykgYXMgVDtcbiAgfVxuXG4gIGNvbnN0ICR4ID0gY29udmVydFRvVGVuc29yKHgsICd4JywgJ2RlcHRod2lzZUNvbnYyZCcpO1xuICBjb25zdCAkZmlsdGVyID0gY29udmVydFRvVGVuc29yKGZpbHRlciwgJ2ZpbHRlcicsICdkZXB0aHdpc2VDb252MmQnKTtcblxuICBsZXQgeDREID0gJHggYXMgVGVuc29yNEQ7XG4gIGxldCByZXNoYXBlZFRvNEQgPSBmYWxzZTtcbiAgaWYgKCR4LnJhbmsgPT09IDMpIHtcbiAgICByZXNoYXBlZFRvNEQgPSB0cnVlO1xuICAgIHg0RCA9IHJlc2hhcGUoJHgsIFsxLCAkeC5zaGFwZVswXSwgJHguc2hhcGVbMV0sICR4LnNoYXBlWzJdXSk7XG4gIH1cbiAgdXRpbC5hc3NlcnQoXG4gICAgICB4NEQucmFuayA9PT0gNCxcbiAgICAgICgpID0+IGBFcnJvciBpbiBmdXNlZCBkZXB0aHdpc2VDb252MmQ6IGlucHV0IG11c3QgYmUgcmFuayA0LCBidXQgZ290IGAgK1xuICAgICAgICAgIGByYW5rICR7eDRELnJhbmt9LmApO1xuICB1dGlsLmFzc2VydChcbiAgICAgICRmaWx0ZXIucmFuayA9PT0gNCxcbiAgICAgICgpID0+IGBFcnJvciBpbiBmdXNlZCBkZXB0aHdpc2VDb252MmQ6IGZpbHRlciBtdXN0IGJlIHJhbmsgNCwgYCArXG4gICAgICAgICAgYGJ1dCBnb3QgcmFuayAkeyRmaWx0ZXIucmFua30uYCk7XG4gIHV0aWwuYXNzZXJ0KFxuICAgICAgeDRELnNoYXBlWzNdID09PSAkZmlsdGVyLnNoYXBlWzJdLFxuICAgICAgKCkgPT4gYEVycm9yIGluIGZ1c2VkIGRlcHRod2lzZUNvbnYyZDogbnVtYmVyIG9mIGlucHV0IGNoYW5uZWxzIGAgK1xuICAgICAgICAgIGAoJHt4NEQuc2hhcGVbM119KSBtdXN0IG1hdGNoIHRoZSBpbkNoYW5uZWxzIGRpbWVuc2lvbiBpbiBgICtcbiAgICAgICAgICBgZmlsdGVyICR7JGZpbHRlci5zaGFwZVsyXX0uYCk7XG4gIGlmIChkaWxhdGlvbnMgPT0gbnVsbCkge1xuICAgIGRpbGF0aW9ucyA9IFsxLCAxXTtcbiAgfVxuICB1dGlsLmFzc2VydChcbiAgICAgIGNvbnZfdXRpbC5laXRoZXJTdHJpZGVzT3JEaWxhdGlvbnNBcmVPbmUoc3RyaWRlcywgZGlsYXRpb25zKSxcbiAgICAgICgpID0+XG4gICAgICAgICAgJ0Vycm9yIGluIGZ1c2VkIGRlcHRod2lzZUNvbnYyZDogRWl0aGVyIHN0cmlkZXMgb3IgZGlsYXRpb25zIG11c3QgJyArXG4gICAgICAgICAgYGJlIDEuIEdvdCBzdHJpZGVzICR7c3RyaWRlc30gYW5kIGRpbGF0aW9ucyAnJHtkaWxhdGlvbnN9J2ApO1xuXG4gIGlmIChkaW1Sb3VuZGluZ01vZGUgIT0gbnVsbCkge1xuICAgIHV0aWwuYXNzZXJ0KFxuICAgICAgICB1dGlsLmlzSW50KHBhZCBhcyBudW1iZXIpLFxuICAgICAgICAoKSA9PiBgRXJyb3IgaW4gZnVzZWQgZGVwdGh3aXNlQ29udjJkOiBwYWQgbXVzdCBiZSBhbiBpbnRlZ2VyIHdoZW4gYCArXG4gICAgICAgICAgICBgdXNpbmcgZGltUm91bmRpbmdNb2RlICR7ZGltUm91bmRpbmdNb2RlfSBidXQgZ290IHBhZCAke3BhZH0uYCk7XG4gIH1cblxuICBjb25zdCBjb252SW5mbyA9IGNvbnZfdXRpbC5jb21wdXRlQ29udjJESW5mbyhcbiAgICAgIHg0RC5zaGFwZSwgJGZpbHRlci5zaGFwZSwgc3RyaWRlcywgZGlsYXRpb25zLCBwYWQsIGRpbVJvdW5kaW5nTW9kZSxcbiAgICAgIHRydWUgLyogZGVwdGh3aXNlICovKTtcblxuICBsZXQgJGJpYXM6IFRlbnNvcjtcbiAgaWYgKGJpYXMgIT0gbnVsbCkge1xuICAgICRiaWFzID0gY29udmVydFRvVGVuc29yKGJpYXMsICdiaWFzJywgJ2Z1c2VkIGNvbnYyZCcpO1xuICAgIFskYmlhc10gPSBtYWtlVHlwZXNNYXRjaCgkYmlhcywgJHgpO1xuXG4gICAgYnJvYWRjYXN0X3V0aWwuYXNzZXJ0QW5kR2V0QnJvYWRjYXN0U2hhcGUoY29udkluZm8ub3V0U2hhcGUsICRiaWFzLnNoYXBlKTtcbiAgfVxuXG4gIGxldCAkcHJlbHVBY3RpdmF0aW9uV2VpZ2h0czogVGVuc29yO1xuICBpZiAocHJlbHVBY3RpdmF0aW9uV2VpZ2h0cyAhPSBudWxsKSB7XG4gICAgJHByZWx1QWN0aXZhdGlvbldlaWdodHMgPSBjb252ZXJ0VG9UZW5zb3IoXG4gICAgICAgIHByZWx1QWN0aXZhdGlvbldlaWdodHMsICdwcmVsdSB3ZWlnaHRzJywgJ2Z1c2VkIGRlcHRod2lzZUNvbnYyZCcpO1xuICB9XG5cbiAgY29uc3QgZ3JhZCA9IChkeTogVGVuc29yNEQsIHNhdmVkOiBUZW5zb3JbXSkgPT4ge1xuICAgIHV0aWwuYXNzZXJ0KFxuICAgICAgICBjb252X3V0aWwudHVwbGVWYWx1ZXNBcmVPbmUoZGlsYXRpb25zKSxcbiAgICAgICAgKCkgPT4gJ0Vycm9yIGluIGdyYWRpZW50IG9mIGZ1c2VkIGRlcHRod2lzZUNvbnYyZDogZGlsYXRpb24gcmF0ZXMgJyArXG4gICAgICAgICAgICBgZ3JlYXRlciB0aGFuIDEgYXJlIG5vdCB5ZXQgc3VwcG9ydGVkLiBHb3QgZGlsYXRpb25zIGAgK1xuICAgICAgICAgICAgYCcke2RpbGF0aW9uc30nYCk7XG4gICAgY29uc3QgWyRmaWx0ZXIsIHg0RCwgeSwgYmlhc10gPSBzYXZlZDtcblxuICAgIGNvbnN0IGR5QWN0aXZhdGlvbiA9IGdldEZ1c2VkRHlBY3RpdmF0aW9uKGR5LCB5LCBhY3RpdmF0aW9uKSBhcyBUZW5zb3I0RDtcblxuICAgIGNvbnN0IHhEZXIgPSBkZXB0aHdpc2VDb252MmROYXRpdmVCYWNrcHJvcElucHV0KFxuICAgICAgICAoeDREIGFzIFRlbnNvcjREKS5zaGFwZSwgZHlBY3RpdmF0aW9uLCAkZmlsdGVyIGFzIFRlbnNvcjRELCBjb252SW5mbyk7XG4gICAgY29uc3QgZmlsdGVyRGVyID0gZGVwdGh3aXNlQ29udjJkTmF0aXZlQmFja3Byb3BGaWx0ZXIoXG4gICAgICAgIHg0RCBhcyBUZW5zb3I0RCwgZHlBY3RpdmF0aW9uLCAoJGZpbHRlciBhcyBUZW5zb3I0RCkuc2hhcGUsIGNvbnZJbmZvKTtcblxuICAgIGlmIChiaWFzICE9IG51bGwpIHtcbiAgICAgIGNvbnN0IGJpYXNEZXIgPSBnZXRGdXNlZEJpYXNHcmFkaWVudCgkYmlhcywgZHlBY3RpdmF0aW9uKTtcbiAgICAgIHJldHVybiBbeERlciwgZmlsdGVyRGVyLCBiaWFzRGVyXTtcbiAgICB9XG4gICAgcmV0dXJuIFt4RGVyLCBmaWx0ZXJEZXJdO1xuICB9O1xuXG4gIGNvbnN0IGZvcndhcmQ6IEZvcndhcmRGdW5jPFRlbnNvcj4gPSAoYmFja2VuZCkgPT4ge1xuICAgIGNvbnN0IHJlcyA9IGJhY2tlbmQuZnVzZWREZXB0aHdpc2VDb252MkQoe1xuICAgICAgaW5wdXQ6IHg0RCxcbiAgICAgIGZpbHRlcjogJGZpbHRlcixcbiAgICAgIGNvbnZJbmZvLFxuICAgICAgYmlhczogJGJpYXMsXG4gICAgICBhY3RpdmF0aW9uLFxuICAgICAgcHJlbHVBY3RpdmF0aW9uV2VpZ2h0czogJHByZWx1QWN0aXZhdGlvbldlaWdodHNcbiAgICB9KTtcbiAgICByZXR1cm4gcmVzO1xuICB9O1xuXG4gIGNvbnN0IGlucHV0czogRnVzZWREZXB0aHdpc2VDb252MkRJbnB1dHMgPSB7XG4gICAgeDogeDRELFxuICAgIGZpbHRlcjogJGZpbHRlcixcbiAgICBiaWFzOiAkYmlhcyxcbiAgICBwcmVsdUFjdGl2YXRpb25XZWlnaHRzOiAkcHJlbHVBY3RpdmF0aW9uV2VpZ2h0c1xuICB9O1xuICBjb25zdCBhdHRyczogRnVzZWREZXB0aHdpc2VDb252MkRBdHRycyA9XG4gICAgICB7c3RyaWRlcywgcGFkLCBkYXRhRm9ybWF0LCBkaWxhdGlvbnMsIGRpbVJvdW5kaW5nTW9kZSwgYWN0aXZhdGlvbn07XG5cbiAgLy8gRGVwZW5kaW5nIG9uIHRoZSB0aGUgcGFyYW1zIHBhc3NlZCBpbiB3ZSB3aWxsIGhhdmUgZGlmZmVyZW50IG51bWJlciBvZlxuICAvLyBpbnB1dHMgYW5kIHRodXMgYSBhIGRpZmZlcmVudCBudW1iZXIgb2YgZWxlbWVudHMgaW4gdGhlIGdyYWRpZW50LlxuICBpZiAoYmlhcyA9PSBudWxsKSB7XG4gICAgY29uc3QgY3VzdG9tT3AgPVxuICAgICAgICBjdXN0b21HcmFkKCh4NEQ6IFRlbnNvcjRELCBmaWx0ZXI6IFRlbnNvcjRELCBzYXZlOiBHcmFkU2F2ZUZ1bmMpID0+IHtcbiAgICAgICAgICBsZXQgcmVzID0gRU5HSU5FLnJ1bktlcm5lbEZ1bmMoXG4gICAgICAgICAgICAgIGZvcndhcmQsIGlucHV0cyBhcyB7fSBhcyBOYW1lZFRlbnNvck1hcCwgbnVsbCAvKiBncmFkICovLFxuICAgICAgICAgICAgICBGdXNlZERlcHRod2lzZUNvbnYyRCwgYXR0cnMgYXMge30gYXMgTmFtZWRBdHRyTWFwKTtcblxuICAgICAgICAgIHNhdmUoW2ZpbHRlciwgeDRELCByZXNdKTtcblxuICAgICAgICAgIGlmIChyZXNoYXBlZFRvNEQpIHtcbiAgICAgICAgICAgIHJlcyA9IHJlc2hhcGUocmVzLCBbcmVzLnNoYXBlWzFdLCByZXMuc2hhcGVbMl0sIHJlcy5zaGFwZVszXV0pIGFzIFQ7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIHt2YWx1ZTogcmVzLCBncmFkRnVuYzogZ3JhZH07XG4gICAgICAgIH0pO1xuICAgIHJldHVybiBjdXN0b21PcCh4NEQsICRmaWx0ZXIpIGFzIFQ7XG4gIH0gZWxzZSB7XG4gICAgY29uc3QgY3VzdG9tT3BXaXRoQmlhcyA9IGN1c3RvbUdyYWQoXG4gICAgICAgICh4NEQ6IFRlbnNvcjRELCBmaWx0ZXI6IFRlbnNvcjRELCBiaWFzOiBUZW5zb3IsIHNhdmU6IEdyYWRTYXZlRnVuYykgPT4ge1xuICAgICAgICAgIGxldCByZXMgPSBFTkdJTkUucnVuS2VybmVsRnVuYyhcbiAgICAgICAgICAgICAgZm9yd2FyZCwgaW5wdXRzIGFzIHt9IGFzIE5hbWVkVGVuc29yTWFwLCBudWxsIC8qIGdyYWQgKi8sXG4gICAgICAgICAgICAgIEZ1c2VkRGVwdGh3aXNlQ29udjJELCBhdHRycyBhcyB7fSBhcyBOYW1lZEF0dHJNYXApO1xuXG4gICAgICAgICAgc2F2ZShbZmlsdGVyLCB4NEQsIHJlcywgYmlhc10pO1xuXG4gICAgICAgICAgaWYgKHJlc2hhcGVkVG80RCkge1xuICAgICAgICAgICAgcmVzID0gcmVzaGFwZShyZXMsIFtyZXMuc2hhcGVbMV0sIHJlcy5zaGFwZVsyXSwgcmVzLnNoYXBlWzNdXSkgYXMgVDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4ge3ZhbHVlOiByZXMsIGdyYWRGdW5jOiBncmFkfTtcbiAgICAgICAgfSk7XG5cbiAgICByZXR1cm4gY3VzdG9tT3BXaXRoQmlhcyh4NEQsICRmaWx0ZXIsICRiaWFzKSBhcyBUO1xuICB9XG59XG5leHBvcnQgY29uc3QgZGVwdGh3aXNlQ29udjJkID0gb3Aoe2Z1c2VkRGVwdGh3aXNlQ29udjJkX30pO1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG5pbXBvcnQge1RlbnNvcjFEfSBmcm9tICcuLi8uLi90ZW5zb3InO1xuaW1wb3J0IHtvcH0gZnJvbSAnLi4vb3BlcmF0aW9uJztcbmltcG9ydCB7Y29zaW5lV2luZG93fSBmcm9tICcuLi9zaWduYWxfb3BzX3V0aWwnO1xuXG4vKipcbiAqIEdlbmVyYXRlIGEgaGFtbWluZyB3aW5kb3cuXG4gKlxuICogU2VlOiBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9XaW5kb3dfZnVuY3Rpb24jSGFubl9hbmRfSGFtbWluZ193aW5kb3dzXG4gKlxuICogYGBganNcbiAqIHRmLnNpZ25hbC5oYW1taW5nV2luZG93KDEwKS5wcmludCgpO1xuICogYGBgXG4gKiBAcGFyYW0gVGhlIGxlbmd0aCBvZiB3aW5kb3dcbiAqXG4gKiBAZG9jIHtoZWFkaW5nOiAnT3BlcmF0aW9ucycsIHN1YmhlYWRpbmc6ICdTaWduYWwnLCBuYW1lc3BhY2U6ICdzaWduYWwnfVxuICovXG5mdW5jdGlvbiBoYW1taW5nV2luZG93Xyh3aW5kb3dMZW5ndGg6IG51bWJlcik6IFRlbnNvcjFEIHtcbiAgcmV0dXJuIGNvc2luZVdpbmRvdyh3aW5kb3dMZW5ndGgsIDAuNTQsIDAuNDYpO1xufVxuZXhwb3J0IGNvbnN0IGhhbW1pbmdXaW5kb3cgPSBvcCh7aGFtbWluZ1dpbmRvd199KTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuaW1wb3J0IHtUZW5zb3IxRH0gZnJvbSAnLi4vLi4vdGVuc29yJztcbmltcG9ydCB7b3B9IGZyb20gJy4uL29wZXJhdGlvbic7XG5pbXBvcnQge2Nvc2luZVdpbmRvd30gZnJvbSAnLi4vc2lnbmFsX29wc191dGlsJztcblxuLyoqXG4gKiBHZW5lcmF0ZSBhIEhhbm4gd2luZG93LlxuICpcbiAqIFNlZTogaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvV2luZG93X2Z1bmN0aW9uI0hhbm5fYW5kX0hhbW1pbmdfd2luZG93c1xuICpcbiAqIGBgYGpzXG4gKiB0Zi5zaWduYWwuaGFubldpbmRvdygxMCkucHJpbnQoKTtcbiAqIGBgYFxuICogQHBhcmFtIFRoZSBsZW5ndGggb2Ygd2luZG93XG4gKlxuICogQGRvYyB7aGVhZGluZzogJ09wZXJhdGlvbnMnLCBzdWJoZWFkaW5nOiAnU2lnbmFsJywgbmFtZXNwYWNlOiAnc2lnbmFsJ31cbiAqL1xuZnVuY3Rpb24gaGFubldpbmRvd18od2luZG93TGVuZ3RoOiBudW1iZXIpOiBUZW5zb3IxRCB7XG4gIHJldHVybiBjb3NpbmVXaW5kb3cod2luZG93TGVuZ3RoLCAwLjUsIDAuNSk7XG59XG5cbmV4cG9ydCBjb25zdCBoYW5uV2luZG93ID0gb3Aoe2hhbm5XaW5kb3dffSk7XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOSBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbmltcG9ydCB7VGVuc29yLCBUZW5zb3IxRH0gZnJvbSAnLi4vLi4vdGVuc29yJztcbmltcG9ydCB7Y29uY2F0fSBmcm9tICcuLi9jb25jYXQnO1xuaW1wb3J0IHtmaWxsfSBmcm9tICcuLi9maWxsJztcbmltcG9ydCB7b3B9IGZyb20gJy4uL29wZXJhdGlvbic7XG5pbXBvcnQge3Jlc2hhcGV9IGZyb20gJy4uL3Jlc2hhcGUnO1xuaW1wb3J0IHtzbGljZX0gZnJvbSAnLi4vc2xpY2UnO1xuaW1wb3J0IHt0ZW5zb3IyZH0gZnJvbSAnLi4vdGVuc29yMmQnO1xuXG4vKipcbiAqIEV4cGFuZHMgaW5wdXQgaW50byBmcmFtZXMgb2YgZnJhbWVMZW5ndGguXG4gKiBTbGlkZXMgYSB3aW5kb3cgc2l6ZSB3aXRoIGZyYW1lU3RlcC5cbiAqXG4gKiBgYGBqc1xuICogdGYuc2lnbmFsLmZyYW1lKFsxLCAyLCAzXSwgMiwgMSkucHJpbnQoKTtcbiAqIGBgYFxuICogQHBhcmFtIHNpZ25hbCBUaGUgaW5wdXQgdGVuc29yIHRvIGJlIGV4cGFuZGVkXG4gKiBAcGFyYW0gZnJhbWVMZW5ndGggTGVuZ3RoIG9mIGVhY2ggZnJhbWVcbiAqIEBwYXJhbSBmcmFtZVN0ZXAgVGhlIGZyYW1lIGhvcCBzaXplIGluIHNhbXBsZXMuXG4gKiBAcGFyYW0gcGFkRW5kIFdoZXRoZXIgdG8gcGFkIHRoZSBlbmQgb2Ygc2lnbmFsIHdpdGggcGFkVmFsdWUuXG4gKiBAcGFyYW0gcGFkVmFsdWUgQW4gbnVtYmVyIHRvIHVzZSB3aGVyZSB0aGUgaW5wdXQgc2lnbmFsIGRvZXNcbiAqICAgICBub3QgZXhpc3Qgd2hlbiBwYWRFbmQgaXMgVHJ1ZS5cbiAqXG4gKiBAZG9jIHtoZWFkaW5nOiAnT3BlcmF0aW9ucycsIHN1YmhlYWRpbmc6ICdTaWduYWwnLCBuYW1lc3BhY2U6ICdzaWduYWwnfVxuICovXG5mdW5jdGlvbiBmcmFtZV8oXG4gICAgc2lnbmFsOiBUZW5zb3IxRCwgZnJhbWVMZW5ndGg6IG51bWJlciwgZnJhbWVTdGVwOiBudW1iZXIsIHBhZEVuZCA9IGZhbHNlLFxuICAgIHBhZFZhbHVlID0gMCk6IFRlbnNvciB7XG4gIGxldCBzdGFydCA9IDA7XG4gIGNvbnN0IG91dHB1dDogVGVuc29yW10gPSBbXTtcbiAgd2hpbGUgKHN0YXJ0ICsgZnJhbWVMZW5ndGggPD0gc2lnbmFsLnNpemUpIHtcbiAgICBvdXRwdXQucHVzaChzbGljZShzaWduYWwsIHN0YXJ0LCBmcmFtZUxlbmd0aCkpO1xuICAgIHN0YXJ0ICs9IGZyYW1lU3RlcDtcbiAgfVxuXG4gIGlmIChwYWRFbmQpIHtcbiAgICB3aGlsZSAoc3RhcnQgPCBzaWduYWwuc2l6ZSkge1xuICAgICAgY29uc3QgcGFkTGVuID0gKHN0YXJ0ICsgZnJhbWVMZW5ndGgpIC0gc2lnbmFsLnNpemU7XG4gICAgICBjb25zdCBwYWQgPSBjb25jYXQoW1xuICAgICAgICBzbGljZShzaWduYWwsIHN0YXJ0LCBmcmFtZUxlbmd0aCAtIHBhZExlbiksIGZpbGwoW3BhZExlbl0sIHBhZFZhbHVlKVxuICAgICAgXSk7XG4gICAgICBvdXRwdXQucHVzaChwYWQpO1xuICAgICAgc3RhcnQgKz0gZnJhbWVTdGVwO1xuICAgIH1cbiAgfVxuXG4gIGlmIChvdXRwdXQubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIHRlbnNvcjJkKFtdLCBbMCwgZnJhbWVMZW5ndGhdKTtcbiAgfVxuXG4gIHJldHVybiByZXNoYXBlKGNvbmNhdChvdXRwdXQpLCBbb3V0cHV0Lmxlbmd0aCwgZnJhbWVMZW5ndGhdKTtcbn1cbmV4cG9ydCBjb25zdCBmcmFtZSA9IG9wKHtmcmFtZV99KTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuaW1wb3J0IHtUZW5zb3IsIFRlbnNvcjFEfSBmcm9tICcuLi8uLi90ZW5zb3InO1xuaW1wb3J0IHtjb25jYXR9IGZyb20gJy4uL2NvbmNhdCc7XG5pbXBvcnQge211bH0gZnJvbSAnLi4vbXVsJztcbmltcG9ydCB7b3B9IGZyb20gJy4uL29wZXJhdGlvbic7XG5pbXBvcnQge2VuY2xvc2luZ1Bvd2VyT2ZUd299IGZyb20gJy4uL3NpZ25hbF9vcHNfdXRpbCc7XG5pbXBvcnQge3NsaWNlfSBmcm9tICcuLi9zbGljZSc7XG5pbXBvcnQge3JmZnR9IGZyb20gJy4uL3NwZWN0cmFsL3JmZnQnO1xuXG5pbXBvcnQge2ZyYW1lfSBmcm9tICcuL2ZyYW1lJztcbmltcG9ydCB7aGFubldpbmRvd30gZnJvbSAnLi9oYW5uX3dpbmRvdyc7XG5cbi8qKlxuICogQ29tcHV0ZXMgdGhlIFNob3J0LXRpbWUgRm91cmllciBUcmFuc2Zvcm0gb2Ygc2lnbmFsc1xuICogU2VlOiBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9TaG9ydC10aW1lX0ZvdXJpZXJfdHJhbnNmb3JtXG4gKlxuICogYGBganNcbiAqIGNvbnN0IGlucHV0ID0gdGYudGVuc29yMWQoWzEsIDEsIDEsIDEsIDFdKVxuICogdGYuc2lnbmFsLnN0ZnQoaW5wdXQsIDMsIDEpLnByaW50KCk7XG4gKiBgYGBcbiAqIEBwYXJhbSBzaWduYWwgMS1kaW1lbnNpb25hbCByZWFsIHZhbHVlIHRlbnNvci5cbiAqIEBwYXJhbSBmcmFtZUxlbmd0aCBUaGUgd2luZG93IGxlbmd0aCBvZiBzYW1wbGVzLlxuICogQHBhcmFtIGZyYW1lU3RlcCBUaGUgbnVtYmVyIG9mIHNhbXBsZXMgdG8gc3RlcC5cbiAqIEBwYXJhbSBmZnRMZW5ndGggVGhlIHNpemUgb2YgdGhlIEZGVCB0byBhcHBseS5cbiAqIEBwYXJhbSB3aW5kb3dGbiBBIGNhbGxhYmxlIHRoYXQgdGFrZXMgYSB3aW5kb3cgbGVuZ3RoIGFuZCByZXR1cm5zIDEtZCB0ZW5zb3IuXG4gKlxuICogQGRvYyB7aGVhZGluZzogJ09wZXJhdGlvbnMnLCBzdWJoZWFkaW5nOiAnU2lnbmFsJywgbmFtZXNwYWNlOiAnc2lnbmFsJ31cbiAqL1xuZnVuY3Rpb24gc3RmdF8oXG4gICAgc2lnbmFsOiBUZW5zb3IxRCwgZnJhbWVMZW5ndGg6IG51bWJlciwgZnJhbWVTdGVwOiBudW1iZXIsXG4gICAgZmZ0TGVuZ3RoPzogbnVtYmVyLFxuICAgIHdpbmRvd0ZuOiAobGVuZ3RoOiBudW1iZXIpID0+IFRlbnNvcjFEID0gaGFubldpbmRvdyk6IFRlbnNvciB7XG4gIGlmIChmZnRMZW5ndGggPT0gbnVsbCkge1xuICAgIGZmdExlbmd0aCA9IGVuY2xvc2luZ1Bvd2VyT2ZUd28oZnJhbWVMZW5ndGgpO1xuICB9XG4gIGNvbnN0IGZyYW1lZFNpZ25hbCA9IGZyYW1lKHNpZ25hbCwgZnJhbWVMZW5ndGgsIGZyYW1lU3RlcCk7XG4gIGNvbnN0IHdpbmRvd2VkU2lnbmFsID0gbXVsKGZyYW1lZFNpZ25hbCwgd2luZG93Rm4oZnJhbWVMZW5ndGgpKTtcbiAgY29uc3Qgb3V0cHV0OiBUZW5zb3JbXSA9IFtdO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGZyYW1lZFNpZ25hbC5zaGFwZVswXTsgaSsrKSB7XG4gICAgb3V0cHV0LnB1c2goXG4gICAgICAgIHJmZnQoc2xpY2Uod2luZG93ZWRTaWduYWwsIFtpLCAwXSwgWzEsIGZyYW1lTGVuZ3RoXSksIGZmdExlbmd0aCkpO1xuICB9XG4gIHJldHVybiBjb25jYXQob3V0cHV0KTtcbn1cbmV4cG9ydCBjb25zdCBzdGZ0ID0gb3Aoe3N0ZnRffSk7XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbmltcG9ydCB7RU5HSU5FLCBGb3J3YXJkRnVuY30gZnJvbSAnLi4vLi4vZW5naW5lJztcbmltcG9ydCB7Q3JvcEFuZFJlc2l6ZSwgQ3JvcEFuZFJlc2l6ZUF0dHJzLCBDcm9wQW5kUmVzaXplSW5wdXRzfSBmcm9tICcuLi8uLi9rZXJuZWxfbmFtZXMnO1xuaW1wb3J0IHtOYW1lZEF0dHJNYXB9IGZyb20gJy4uLy4uL2tlcm5lbF9yZWdpc3RyeSc7XG5pbXBvcnQge1RlbnNvcjFELCBUZW5zb3IyRCwgVGVuc29yNER9IGZyb20gJy4uLy4uL3RlbnNvcic7XG5pbXBvcnQge05hbWVkVGVuc29yTWFwfSBmcm9tICcuLi8uLi90ZW5zb3JfdHlwZXMnO1xuaW1wb3J0IHtjb252ZXJ0VG9UZW5zb3J9IGZyb20gJy4uLy4uL3RlbnNvcl91dGlsX2Vudic7XG5pbXBvcnQge1RlbnNvckxpa2V9IGZyb20gJy4uLy4uL3R5cGVzJztcbmltcG9ydCAqIGFzIHV0aWwgZnJvbSAnLi4vLi4vdXRpbCc7XG5cbmltcG9ydCB7b3B9IGZyb20gJy4uL29wZXJhdGlvbic7XG5cbi8qKlxuICogRXh0cmFjdHMgY3JvcHMgZnJvbSB0aGUgaW5wdXQgaW1hZ2UgdGVuc29yIGFuZCByZXNpemVzIHRoZW0gdXNpbmcgYmlsaW5lYXJcbiAqIHNhbXBsaW5nIG9yIG5lYXJlc3QgbmVpZ2hib3Igc2FtcGxpbmcgKHBvc3NpYmx5IHdpdGggYXNwZWN0IHJhdGlvIGNoYW5nZSlcbiAqIHRvIGEgY29tbW9uIG91dHB1dCBzaXplIHNwZWNpZmllZCBieSBjcm9wX3NpemUuXG4gKlxuICogQHBhcmFtIGltYWdlIDRkIHRlbnNvciBvZiBzaGFwZSBgW2JhdGNoLGltYWdlSGVpZ2h0LGltYWdlV2lkdGgsIGRlcHRoXWAsXG4gKiAgICAgd2hlcmUgaW1hZ2VIZWlnaHQgYW5kIGltYWdlV2lkdGggbXVzdCBiZSBwb3NpdGl2ZSwgc3BlY2lmeWluZyB0aGVcbiAqICAgICBiYXRjaCBvZiBpbWFnZXMgZnJvbSB3aGljaCB0byB0YWtlIGNyb3BzXG4gKiBAcGFyYW0gYm94ZXMgMmQgZmxvYXQzMiB0ZW5zb3Igb2Ygc2hhcGUgYFtudW1Cb3hlcywgNF1gLiBFYWNoIGVudHJ5IGlzXG4gKiAgICAgYFt5MSwgeDEsIHkyLCB4Ml1gLCB3aGVyZSBgKHkxLCB4MSlgIGFuZCBgKHkyLCB4MilgIGFyZSB0aGUgbm9ybWFsaXplZFxuICogICAgIGNvb3JkaW5hdGVzIG9mIHRoZSBib3ggaW4gdGhlIGJveEluZFtpXSd0aCBpbWFnZSBpbiB0aGUgYmF0Y2hcbiAqIEBwYXJhbSBib3hJbmQgMWQgaW50MzIgdGVuc29yIG9mIHNoYXBlIGBbbnVtQm94ZXNdYCB3aXRoIHZhbHVlcyBpbiByYW5nZVxuICogICAgIGBbMCwgYmF0Y2gpYCB0aGF0IHNwZWNpZmllcyB0aGUgaW1hZ2UgdGhhdCB0aGUgYGlgLXRoIGJveCByZWZlcnMgdG8uXG4gKiBAcGFyYW0gY3JvcFNpemUgMWQgaW50MzIgdGVuc29yIG9mIDIgZWxlbWVudHMgYFtjcm9wSGVpZ2gsIGNyb3BXaWR0aF1gXG4gKiAgICAgc3BlY2lmeWluZyB0aGUgc2l6ZSB0byB3aGljaCBhbGwgY3JvcHMgYXJlIHJlc2l6ZWQgdG8uXG4gKiBAcGFyYW0gbWV0aG9kIE9wdGlvbmFsIHN0cmluZyBmcm9tIGAnYmlsaW5lYXInIHwgJ25lYXJlc3QnYCxcbiAqICAgICBkZWZhdWx0cyB0byBiaWxpbmVhciwgd2hpY2ggc3BlY2lmaWVzIHRoZSBzYW1wbGluZyBtZXRob2QgZm9yIHJlc2l6aW5nXG4gKiBAcGFyYW0gZXh0cmFwb2xhdGlvblZhbHVlIEEgdGhyZXNob2xkIGZvciBkZWNpZGluZyB3aGVuIHRvIHJlbW92ZSBib3hlcyBiYXNlZFxuICogICAgIG9uIHNjb3JlLiBEZWZhdWx0cyB0byAwLlxuICogQHJldHVybiBBIDREIHRlbnNvciBvZiB0aGUgc2hhcGUgYFtudW1Cb3hlcyxjcm9wSGVpZ2h0LGNyb3BXaWR0aCxkZXB0aF1gXG4gKlxuICogQGRvYyB7aGVhZGluZzogJ09wZXJhdGlvbnMnLCBzdWJoZWFkaW5nOiAnSW1hZ2VzJywgbmFtZXNwYWNlOiAnaW1hZ2UnfVxuICovXG5mdW5jdGlvbiBjcm9wQW5kUmVzaXplXyhcbiAgICBpbWFnZTogVGVuc29yNER8VGVuc29yTGlrZSxcbiAgICBib3hlczogVGVuc29yMkR8VGVuc29yTGlrZSxcbiAgICBib3hJbmQ6IFRlbnNvcjFEfFRlbnNvckxpa2UsXG4gICAgY3JvcFNpemU6IFtudW1iZXIsIG51bWJlcl0sXG4gICAgbWV0aG9kPzogJ2JpbGluZWFyJ3wnbmVhcmVzdCcsXG4gICAgZXh0cmFwb2xhdGlvblZhbHVlPzogbnVtYmVyLFxuICAgICk6IFRlbnNvcjREIHtcbiAgY29uc3QgJGltYWdlID0gY29udmVydFRvVGVuc29yKGltYWdlLCAnaW1hZ2UnLCAnY3JvcEFuZFJlc2l6ZScpO1xuICBjb25zdCAkYm94ZXMgPSBjb252ZXJ0VG9UZW5zb3IoYm94ZXMsICdib3hlcycsICdjcm9wQW5kUmVzaXplJywgJ2Zsb2F0MzInKTtcbiAgY29uc3QgJGJveEluZCA9IGNvbnZlcnRUb1RlbnNvcihib3hJbmQsICdib3hJbmQnLCAnY3JvcEFuZFJlc2l6ZScsICdpbnQzMicpO1xuICBtZXRob2QgPSBtZXRob2QgfHwgJ2JpbGluZWFyJztcbiAgZXh0cmFwb2xhdGlvblZhbHVlID0gZXh0cmFwb2xhdGlvblZhbHVlIHx8IDA7XG5cbiAgY29uc3QgbnVtQm94ZXMgPSAkYm94ZXMuc2hhcGVbMF07XG5cbiAgdXRpbC5hc3NlcnQoXG4gICAgICAkaW1hZ2UucmFuayA9PT0gNCxcbiAgICAgICgpID0+ICdFcnJvciBpbiBjcm9wQW5kUmVzaXplOiBpbWFnZSBtdXN0IGJlIHJhbmsgNCwnICtcbiAgICAgICAgICBgYnV0IGdvdCByYW5rICR7JGltYWdlLnJhbmt9LmApO1xuICB1dGlsLmFzc2VydChcbiAgICAgICRib3hlcy5yYW5rID09PSAyICYmICRib3hlcy5zaGFwZVsxXSA9PT0gNCxcbiAgICAgICgpID0+IGBFcnJvciBpbiBjcm9wQW5kUmVzaXplOiBib3hlcyBtdXN0IGJlIGhhdmUgc2l6ZSBbJHtudW1Cb3hlc30sNF0gYCArXG4gICAgICAgICAgYGJ1dCBoYWQgc2hhcGUgJHskYm94ZXMuc2hhcGV9LmApO1xuICB1dGlsLmFzc2VydChcbiAgICAgICRib3hJbmQucmFuayA9PT0gMSAmJiAkYm94SW5kLnNoYXBlWzBdID09PSBudW1Cb3hlcyxcbiAgICAgICgpID0+IGBFcnJvciBpbiBjcm9wQW5kUmVzaXplOiBib3hJbmQgbXVzdCBiZSBoYXZlIHNpemUgWyR7bnVtQm94ZXN9XSBgICtcbiAgICAgICAgICBgYnV0IGhhZCBzaGFwZSAkeyRib3hlcy5zaGFwZX0uYCk7XG4gIHV0aWwuYXNzZXJ0KFxuICAgICAgY3JvcFNpemUubGVuZ3RoID09PSAyLFxuICAgICAgKCkgPT4gYEVycm9yIGluIGNyb3BBbmRSZXNpemU6IGNyb3BTaXplIG11c3QgYmUgb2YgbGVuZ3RoIDIsIGJ1dCBnb3QgYCArXG4gICAgICAgICAgYGxlbmd0aCAke2Nyb3BTaXplLmxlbmd0aH0uYCk7XG4gIHV0aWwuYXNzZXJ0KFxuICAgICAgY3JvcFNpemVbMF0gPj0gMSAmJiBjcm9wU2l6ZVsxXSA+PSAxLFxuICAgICAgKCkgPT4gYGNyb3BTaXplIG11c3QgYmUgYXRsZWFzdCBbMSwxXSwgYnV0IHdhcyAke2Nyb3BTaXplfWApO1xuICB1dGlsLmFzc2VydChcbiAgICAgIG1ldGhvZCA9PT0gJ2JpbGluZWFyJyB8fCBtZXRob2QgPT09ICduZWFyZXN0JyxcbiAgICAgICgpID0+IGBtZXRob2QgbXVzdCBiZSBiaWxpbmVhciBvciBuZWFyZXN0LCBidXQgd2FzICR7bWV0aG9kfWApO1xuXG4gIGNvbnN0IGZvcndhcmQ6IEZvcndhcmRGdW5jPFRlbnNvcjREPiA9IChiYWNrZW5kKSA9PiBiYWNrZW5kLmNyb3BBbmRSZXNpemUoXG4gICAgICAkaW1hZ2UsICRib3hlcywgJGJveEluZCwgY3JvcFNpemUsIG1ldGhvZCwgZXh0cmFwb2xhdGlvblZhbHVlKTtcblxuICBjb25zdCBpbnB1dHM6XG4gICAgICBDcm9wQW5kUmVzaXplSW5wdXRzID0ge2ltYWdlOiAkaW1hZ2UsIGJveGVzOiAkYm94ZXMsIGJveEluZDogJGJveEluZH07XG4gIGNvbnN0IGF0dHJzOiBDcm9wQW5kUmVzaXplQXR0cnMgPSB7bWV0aG9kLCBleHRyYXBvbGF0aW9uVmFsdWUsIGNyb3BTaXplfTtcbiAgY29uc3QgcmVzID0gRU5HSU5FLnJ1bktlcm5lbEZ1bmMoXG4gICAgICBmb3J3YXJkLCBpbnB1dHMgYXMge30gYXMgTmFtZWRUZW5zb3JNYXAsIG51bGwgLyogZ3JhZCAqLywgQ3JvcEFuZFJlc2l6ZSxcbiAgICAgIGF0dHJzIGFzIHt9IGFzIE5hbWVkQXR0ck1hcCk7XG4gIHJldHVybiByZXM7XG59XG5cbmV4cG9ydCBjb25zdCBjcm9wQW5kUmVzaXplID0gb3Aoe2Nyb3BBbmRSZXNpemVffSk7XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbmltcG9ydCB7RU5HSU5FfSBmcm9tICcuLi8uLi9lbmdpbmUnO1xuaW1wb3J0IHtGbGlwTGVmdFJpZ2h0LCBGbGlwTGVmdFJpZ2h0SW5wdXRzfSBmcm9tICcuLi8uLi9rZXJuZWxfbmFtZXMnO1xuaW1wb3J0IHtUZW5zb3I0RH0gZnJvbSAnLi4vLi4vdGVuc29yJztcbmltcG9ydCB7TmFtZWRUZW5zb3JNYXB9IGZyb20gJy4uLy4uL3RlbnNvcl90eXBlcyc7XG5pbXBvcnQge2NvbnZlcnRUb1RlbnNvcn0gZnJvbSAnLi4vLi4vdGVuc29yX3V0aWxfZW52JztcbmltcG9ydCB7VGVuc29yTGlrZX0gZnJvbSAnLi4vLi4vdHlwZXMnO1xuaW1wb3J0ICogYXMgdXRpbCBmcm9tICcuLi8uLi91dGlsJztcbmltcG9ydCB7b3B9IGZyb20gJy4uL29wZXJhdGlvbic7XG5cbi8qKlxuICogRmxpcHMgdGhlIGltYWdlIGxlZnQgdG8gcmlnaHQuIEN1cnJlbnRseSBhdmFpbGFibGUgaW4gdGhlIENQVSwgV2ViR0wsIGFuZFxuICogV0FTTSBiYWNrZW5kcy5cbiAqXG4gKiBAcGFyYW0gaW1hZ2UgNGQgdGVuc29yIG9mIHNoYXBlIGBbYmF0Y2gsIGltYWdlSGVpZ2h0LCBpbWFnZVdpZHRoLCBkZXB0aF1gLlxuICovXG4vKiogQGRvYyB7aGVhZGluZzogJ09wZXJhdGlvbnMnLCBzdWJoZWFkaW5nOiAnSW1hZ2VzJywgbmFtZXNwYWNlOiAnaW1hZ2UnfSAqL1xuZnVuY3Rpb24gZmxpcExlZnRSaWdodF8oaW1hZ2U6IFRlbnNvcjREfFRlbnNvckxpa2UpOiBUZW5zb3I0RCB7XG4gIGNvbnN0ICRpbWFnZSA9IGNvbnZlcnRUb1RlbnNvcihpbWFnZSwgJ2ltYWdlJywgJ2ZsaXBMZWZ0UmlnaHQnLCAnZmxvYXQzMicpO1xuXG4gIHV0aWwuYXNzZXJ0KFxuICAgICAgJGltYWdlLnJhbmsgPT09IDQsXG4gICAgICAoKSA9PiAnRXJyb3IgaW4gZmxpcExlZnRSaWdodDogaW1hZ2UgbXVzdCBiZSByYW5rIDQsJyArXG4gICAgICAgICAgYGJ1dCBnb3QgcmFuayAkeyRpbWFnZS5yYW5rfS5gKTtcblxuICBjb25zdCBpbnB1dHM6IEZsaXBMZWZ0UmlnaHRJbnB1dHMgPSB7aW1hZ2U6ICRpbWFnZX07XG4gIGNvbnN0IHJlcyA9XG4gICAgICBFTkdJTkUucnVuS2VybmVsKEZsaXBMZWZ0UmlnaHQsIGlucHV0cyBhcyB7fSBhcyBOYW1lZFRlbnNvck1hcCwge30pO1xuICByZXR1cm4gcmVzIGFzIFRlbnNvcjREO1xufVxuXG5leHBvcnQgY29uc3QgZmxpcExlZnRSaWdodCA9IG9wKHtmbGlwTGVmdFJpZ2h0X30pO1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG5pbXBvcnQge0VOR0lORX0gZnJvbSAnLi4vLi4vZW5naW5lJztcbmltcG9ydCB7Um90YXRlV2l0aE9mZnNldCwgUm90YXRlV2l0aE9mZnNldEF0dHJzLCBSb3RhdGVXaXRoT2Zmc2V0SW5wdXRzfSBmcm9tICcuLi8uLi9rZXJuZWxfbmFtZXMnO1xuaW1wb3J0IHtOYW1lZEF0dHJNYXB9IGZyb20gJy4uLy4uL2tlcm5lbF9yZWdpc3RyeSc7XG5pbXBvcnQge1RlbnNvcjREfSBmcm9tICcuLi8uLi90ZW5zb3InO1xuaW1wb3J0IHtOYW1lZFRlbnNvck1hcH0gZnJvbSAnLi4vLi4vdGVuc29yX3R5cGVzJztcbmltcG9ydCB7Y29udmVydFRvVGVuc29yfSBmcm9tICcuLi8uLi90ZW5zb3JfdXRpbF9lbnYnO1xuaW1wb3J0IHtUZW5zb3JMaWtlfSBmcm9tICcuLi8uLi90eXBlcyc7XG5pbXBvcnQgKiBhcyB1dGlsIGZyb20gJy4uLy4uL3V0aWwnO1xuXG5pbXBvcnQge29wfSBmcm9tICcuLi9vcGVyYXRpb24nO1xuXG4vKipcbiAqIFJvdGF0ZXMgdGhlIGlucHV0IGltYWdlIHRlbnNvciBjb3VudGVyLWNsb2Nrd2lzZSB3aXRoIGFuIG9wdGlvbmFsIG9mZnNldFxuICogY2VudGVyIG9mIHJvdGF0aW9uLiBDdXJyZW50bHkgYXZhaWxhYmxlIGluIHRoZSBDUFUsIFdlYkdMLCBhbmQgV0FTTSBiYWNrZW5kcy5cbiAqXG4gKiBAcGFyYW0gaW1hZ2UgNGQgdGVuc29yIG9mIHNoYXBlIGBbYmF0Y2gsIGltYWdlSGVpZ2h0LCBpbWFnZVdpZHRoLCBkZXB0aF1gLlxuICogQHBhcmFtIHJhZGlhbnMgVGhlIGFtb3VudCBvZiByb3RhdGlvbi5cbiAqIEBwYXJhbSBmaWxsVmFsdWUgVGhlIHZhbHVlIHRvIGZpbGwgaW4gdGhlIGVtcHR5IHNwYWNlIGxlZnRvdmVyXG4gKiAgICAgYWZ0ZXIgcm90YXRpb24uIENhbiBiZSBlaXRoZXIgYSBzaW5nbGUgZ3JheXNjYWxlIHZhbHVlICgwLTI1NSksIG9yIGFuXG4gKiAgICAgYXJyYXkgb2YgdGhyZWUgbnVtYmVycyBgW3JlZCwgZ3JlZW4sIGJsdWVdYCBzcGVjaWZ5aW5nIHRoZSByZWQsIGdyZWVuLFxuICogICAgIGFuZCBibHVlIGNoYW5uZWxzLiBEZWZhdWx0cyB0byBgMGAgKGJsYWNrKS5cbiAqIEBwYXJhbSBjZW50ZXIgVGhlIGNlbnRlciBvZiByb3RhdGlvbi4gQ2FuIGJlIGVpdGhlciBhIHNpbmdsZSB2YWx1ZSAoMC0xKSwgb3JcbiAqICAgICBhbiBhcnJheSBvZiB0d28gbnVtYmVycyBgW2NlbnRlclgsIGNlbnRlclldYC4gRGVmYXVsdHMgdG8gYDAuNWAgKHJvdGF0ZXNcbiAqICAgICB0aGUgaW1hZ2UgYXJvdW5kIGl0cyBjZW50ZXIpLlxuICpcbiAqIEBkb2Mge2hlYWRpbmc6ICdPcGVyYXRpb25zJywgc3ViaGVhZGluZzogJ0ltYWdlcycsIG5hbWVzcGFjZTogJ2ltYWdlJ31cbiAqL1xuZnVuY3Rpb24gcm90YXRlV2l0aE9mZnNldF8oXG4gICAgaW1hZ2U6IFRlbnNvcjREfFRlbnNvckxpa2UsIHJhZGlhbnM6IG51bWJlcixcbiAgICBmaWxsVmFsdWU6IG51bWJlcnxbbnVtYmVyLCBudW1iZXIsIG51bWJlcl0gPSAwLFxuICAgIGNlbnRlcjogbnVtYmVyfFtudW1iZXIsIG51bWJlcl0gPSAwLjUpOiBUZW5zb3I0RCB7XG4gIGNvbnN0ICRpbWFnZSA9IGNvbnZlcnRUb1RlbnNvcihpbWFnZSwgJ2ltYWdlJywgJ3JvdGF0ZVdpdGhPZmZzZXQnLCAnZmxvYXQzMicpO1xuXG4gIHV0aWwuYXNzZXJ0KFxuICAgICAgJGltYWdlLnJhbmsgPT09IDQsXG4gICAgICAoKSA9PiAnRXJyb3IgaW4gcm90YXRlV2l0aE9mZnNldDogaW1hZ2UgbXVzdCBiZSByYW5rIDQsJyArXG4gICAgICAgICAgYGJ1dCBnb3QgcmFuayAkeyRpbWFnZS5yYW5rfS5gKTtcblxuICBjb25zdCBpbnB1dHM6IFJvdGF0ZVdpdGhPZmZzZXRJbnB1dHMgPSB7aW1hZ2U6ICRpbWFnZX07XG4gIGNvbnN0IGF0dHJzOiBSb3RhdGVXaXRoT2Zmc2V0QXR0cnMgPSB7cmFkaWFucywgZmlsbFZhbHVlLCBjZW50ZXJ9O1xuICBjb25zdCByZXMgPSBFTkdJTkUucnVuS2VybmVsKFxuICAgICAgUm90YXRlV2l0aE9mZnNldCwgaW5wdXRzIGFzIHt9IGFzIE5hbWVkVGVuc29yTWFwLFxuICAgICAgYXR0cnMgYXMge30gYXMgTmFtZWRBdHRyTWFwKTtcbiAgcmV0dXJuIHJlcyBhcyBUZW5zb3I0RDtcbn1cblxuZXhwb3J0IGNvbnN0IHJvdGF0ZVdpdGhPZmZzZXQgPSBvcCh7cm90YXRlV2l0aE9mZnNldF99KTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuaW1wb3J0IHtUZW5zb3IxRCwgVGVuc29yMkR9IGZyb20gJy4uL3RlbnNvcic7XG5pbXBvcnQgKiBhcyB1dGlsIGZyb20gJy4uL3V0aWwnO1xuXG5mdW5jdGlvbiBub25NYXhTdXBwU2FuaXR5Q2hlY2soXG4gICAgYm94ZXM6IFRlbnNvcjJELCBzY29yZXM6IFRlbnNvcjFELCBtYXhPdXRwdXRTaXplOiBudW1iZXIsXG4gICAgaW91VGhyZXNob2xkOiBudW1iZXIsIHNjb3JlVGhyZXNob2xkOiBudW1iZXIsIHNvZnRObXNTaWdtYT86IG51bWJlcik6IHtcbiAgbWF4T3V0cHV0U2l6ZTogbnVtYmVyLFxuICBpb3VUaHJlc2hvbGQ6IG51bWJlcixcbiAgc2NvcmVUaHJlc2hvbGQ6IG51bWJlcixcbiAgc29mdE5tc1NpZ21hOiBudW1iZXJcbn0ge1xuICBpZiAoaW91VGhyZXNob2xkID09IG51bGwpIHtcbiAgICBpb3VUaHJlc2hvbGQgPSAwLjU7XG4gIH1cbiAgaWYgKHNjb3JlVGhyZXNob2xkID09IG51bGwpIHtcbiAgICBzY29yZVRocmVzaG9sZCA9IE51bWJlci5ORUdBVElWRV9JTkZJTklUWTtcbiAgfVxuICBpZiAoc29mdE5tc1NpZ21hID09IG51bGwpIHtcbiAgICBzb2Z0Tm1zU2lnbWEgPSAwLjA7XG4gIH1cblxuICBjb25zdCBudW1Cb3hlcyA9IGJveGVzLnNoYXBlWzBdO1xuICBtYXhPdXRwdXRTaXplID0gTWF0aC5taW4obWF4T3V0cHV0U2l6ZSwgbnVtQm94ZXMpO1xuXG4gIHV0aWwuYXNzZXJ0KFxuICAgICAgMCA8PSBpb3VUaHJlc2hvbGQgJiYgaW91VGhyZXNob2xkIDw9IDEsXG4gICAgICAoKSA9PiBgaW91VGhyZXNob2xkIG11c3QgYmUgaW4gWzAsIDFdLCBidXQgd2FzICcke2lvdVRocmVzaG9sZH0nYCk7XG4gIHV0aWwuYXNzZXJ0KFxuICAgICAgYm94ZXMucmFuayA9PT0gMixcbiAgICAgICgpID0+IGBib3hlcyBtdXN0IGJlIGEgMkQgdGVuc29yLCBidXQgd2FzIG9mIHJhbmsgJyR7Ym94ZXMucmFua30nYCk7XG4gIHV0aWwuYXNzZXJ0KFxuICAgICAgYm94ZXMuc2hhcGVbMV0gPT09IDQsXG4gICAgICAoKSA9PlxuICAgICAgICAgIGBib3hlcyBtdXN0IGhhdmUgNCBjb2x1bW5zLCBidXQgMm5kIGRpbWVuc2lvbiB3YXMgJHtib3hlcy5zaGFwZVsxXX1gKTtcbiAgdXRpbC5hc3NlcnQoc2NvcmVzLnJhbmsgPT09IDEsICgpID0+ICdzY29yZXMgbXVzdCBiZSBhIDFEIHRlbnNvcicpO1xuICB1dGlsLmFzc2VydChcbiAgICAgIHNjb3Jlcy5zaGFwZVswXSA9PT0gbnVtQm94ZXMsXG4gICAgICAoKSA9PiBgc2NvcmVzIGhhcyBpbmNvbXBhdGlibGUgc2hhcGUgd2l0aCBib3hlcy4gRXhwZWN0ZWQgJHtudW1Cb3hlc30sIGAgK1xuICAgICAgICAgIGBidXQgd2FzICR7c2NvcmVzLnNoYXBlWzBdfWApO1xuICB1dGlsLmFzc2VydChcbiAgICAgIDAgPD0gc29mdE5tc1NpZ21hICYmIHNvZnRObXNTaWdtYSA8PSAxLFxuICAgICAgKCkgPT4gYHNvZnRObXNTaWdtYSBtdXN0IGJlIGluIFswLCAxXSwgYnV0IHdhcyAnJHtzb2Z0Tm1zU2lnbWF9J2ApO1xuICByZXR1cm4ge21heE91dHB1dFNpemUsIGlvdVRocmVzaG9sZCwgc2NvcmVUaHJlc2hvbGQsIHNvZnRObXNTaWdtYX07XG59XG5cbmV4cG9ydCB7bm9uTWF4U3VwcFNhbml0eUNoZWNrfTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuaW1wb3J0IHtFTkdJTkV9IGZyb20gJy4uLy4uL2VuZ2luZSc7XG5pbXBvcnQge05vbk1heFN1cHByZXNzaW9uVjN9IGZyb20gJy4uLy4uL2tlcm5lbF9uYW1lcyc7XG5pbXBvcnQge1RlbnNvcjFELCBUZW5zb3IyRH0gZnJvbSAnLi4vLi4vdGVuc29yJztcbmltcG9ydCB7Y29udmVydFRvVGVuc29yfSBmcm9tICcuLi8uLi90ZW5zb3JfdXRpbF9lbnYnO1xuaW1wb3J0IHtUZW5zb3JMaWtlfSBmcm9tICcuLi8uLi90eXBlcyc7XG5cbmltcG9ydCB7bm9uTWF4U3VwcFNhbml0eUNoZWNrfSBmcm9tICcuLi9ub25tYXhfdXRpbCc7XG5pbXBvcnQge29wfSBmcm9tICcuLi9vcGVyYXRpb24nO1xuXG5mdW5jdGlvbiBub25NYXhTdXBwcmVzc2lvbl8oXG4gICAgYm94ZXM6IFRlbnNvcjJEfFRlbnNvckxpa2UsIHNjb3JlczogVGVuc29yMUR8VGVuc29yTGlrZSxcbiAgICBtYXhPdXRwdXRTaXplOiBudW1iZXIsIGlvdVRocmVzaG9sZCA9IDAuNSxcbiAgICBzY29yZVRocmVzaG9sZCA9IE51bWJlci5ORUdBVElWRV9JTkZJTklUWSk6IFRlbnNvcjFEIHtcbiAgY29uc3QgJGJveGVzID0gY29udmVydFRvVGVuc29yKGJveGVzLCAnYm94ZXMnLCAnbm9uTWF4U3VwcHJlc3Npb24nKTtcbiAgY29uc3QgJHNjb3JlcyA9IGNvbnZlcnRUb1RlbnNvcihzY29yZXMsICdzY29yZXMnLCAnbm9uTWF4U3VwcHJlc3Npb24nKTtcblxuICBjb25zdCBpbnB1dHMgPSBub25NYXhTdXBwU2FuaXR5Q2hlY2soXG4gICAgICAkYm94ZXMsICRzY29yZXMsIG1heE91dHB1dFNpemUsIGlvdVRocmVzaG9sZCwgc2NvcmVUaHJlc2hvbGQpO1xuICBtYXhPdXRwdXRTaXplID0gaW5wdXRzLm1heE91dHB1dFNpemU7XG4gIGlvdVRocmVzaG9sZCA9IGlucHV0cy5pb3VUaHJlc2hvbGQ7XG4gIHNjb3JlVGhyZXNob2xkID0gaW5wdXRzLnNjb3JlVGhyZXNob2xkO1xuXG4gIGNvbnN0IGF0dHJzID0ge21heE91dHB1dFNpemUsIGlvdVRocmVzaG9sZCwgc2NvcmVUaHJlc2hvbGR9O1xuICByZXR1cm4gRU5HSU5FLnJ1bktlcm5lbEZ1bmMoXG4gICAgICBiID0+IGIubm9uTWF4U3VwcHJlc3Npb24oXG4gICAgICAgICAgJGJveGVzLCAkc2NvcmVzLCBtYXhPdXRwdXRTaXplLCBpb3VUaHJlc2hvbGQsIHNjb3JlVGhyZXNob2xkKSxcbiAgICAgIHtib3hlczogJGJveGVzLCBzY29yZXM6ICRzY29yZXN9LCBudWxsIC8qIGdyYWQgKi8sIE5vbk1heFN1cHByZXNzaW9uVjMsXG4gICAgICBhdHRycyk7XG59XG5cbmV4cG9ydCBjb25zdCBub25NYXhTdXBwcmVzc2lvbiA9IG9wKHtub25NYXhTdXBwcmVzc2lvbl99KTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuLyoqXG4gKiBJbnNlcnRzIGEgdmFsdWUgaW50byBhIHNvcnRlZCBhcnJheS4gVGhpcyBtZXRob2QgYWxsb3dzIGR1cGxpY2F0ZSwgbWVhbmluZyBpdFxuICogYWxsb3dzIGluc2VydGluZyBkdXBsaWNhdGUgdmFsdWUsIGluIHdoaWNoIGNhc2UsIHRoZSBlbGVtZW50IHdpbGwgYmUgaW5zZXJ0ZWRcbiAqIGF0IHRoZSBsb3dlc3QgaW5kZXggb2YgdGhlIHZhbHVlLlxuICogQHBhcmFtIGFyciBUaGUgYXJyYXkgdG8gbW9kaWZ5LlxuICogQHBhcmFtIGVsZW1lbnQgVGhlIGVsZW1lbnQgdG8gaW5zZXJ0LlxuICogQHBhcmFtIGNvbXBhcmF0b3IgT3B0aW9uYWwuIElmIG5vIGNvbXBhcmF0b3IgaXMgc3BlY2lmaWVkLCBlbGVtZW50cyBhcmVcbiAqIGNvbXBhcmVkIHVzaW5nIGFycmF5X3V0aWwuZGVmYXVsdENvbXBhcmF0b3IsIHdoaWNoIGlzIHN1aXRhYmxlIGZvciBTdHJpbmdzXG4gKiBhbmQgTnVtYmVycyBpbiBhc2NlbmRpbmcgYXJyYXlzLiBJZiB0aGUgYXJyYXkgY29udGFpbnMgbXVsdGlwbGUgaW5zdGFuY2VzIG9mXG4gKiB0aGUgdGFyZ2V0IHZhbHVlLCB0aGUgbGVmdC1tb3N0IGluc3RhbmNlIHdpbGwgYmUgcmV0dXJuZWQuIFRvIHByb3ZpZGUgYVxuICogY29tcGFyYXRvciwgaXQgc2hvdWxkIHRha2UgMiBhcmd1bWVudHMgdG8gY29tcGFyZSBhbmQgcmV0dXJuIGEgbmVnYXRpdmUsXG4gKiB6ZXJvLCBvciBhIHBvc2l0aXZlIG51bWJlci5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGJpbmFyeUluc2VydDxUPihcbiAgICBhcnI6IFRbXSwgZWxlbWVudDogVCwgY29tcGFyYXRvcj86IChhOiBULCBiOiBUKSA9PiBudW1iZXIpIHtcbiAgY29uc3QgaW5kZXggPSBiaW5hcnlTZWFyY2goYXJyLCBlbGVtZW50LCBjb21wYXJhdG9yKTtcbiAgY29uc3QgaW5zZXJ0aW9uUG9pbnQgPSBpbmRleCA8IDAgPyAtKGluZGV4ICsgMSkgOiBpbmRleDtcbiAgYXJyLnNwbGljZShpbnNlcnRpb25Qb2ludCwgMCwgZWxlbWVudCk7XG59XG5cbi8qKlxuICogU2VhcmNoZXMgdGhlIGFycmF5IGZvciB0aGUgdGFyZ2V0IHVzaW5nIGJpbmFyeSBzZWFyY2gsIHJldHVybnMgdGhlIGluZGV4XG4gKiBvZiB0aGUgZm91bmQgZWxlbWVudCwgb3IgcG9zaXRpb24gdG8gaW5zZXJ0IGlmIGVsZW1lbnQgbm90IGZvdW5kLiBJZiBub1xuICogY29tcGFyYXRvciBpcyBzcGVjaWZpZWQsIGVsZW1lbnRzIGFyZSBjb21wYXJlZCB1c2luZyBhcnJheV9cbiAqIHV0aWwuZGVmYXVsdENvbXBhcmF0b3IsIHdoaWNoIGlzIHN1aXRhYmxlIGZvciBTdHJpbmdzIGFuZCBOdW1iZXJzIGluXG4gKiBhc2NlbmRpbmcgYXJyYXlzLiBJZiB0aGUgYXJyYXkgY29udGFpbnMgbXVsdGlwbGUgaW5zdGFuY2VzIG9mIHRoZSB0YXJnZXRcbiAqIHZhbHVlLCB0aGUgbGVmdC1tb3N0IGluc3RhbmNlIHdpbGwgYmUgcmV0dXJuZWQuXG4gKiBAcGFyYW0gYXJyIFRoZSBhcnJheSB0byBiZSBzZWFyY2hlZCBpbi5cbiAqIEBwYXJhbSB0YXJnZXQgVGhlIHRhcmdldCB0byBiZSBzZWFyY2hlZCBmb3IuXG4gKiBAcGFyYW0gY29tcGFyYXRvciBTaG91bGQgdGFrZSAyIGFyZ3VtZW50cyB0byBjb21wYXJlIGFuZCByZXR1cm4gYSBuZWdhdGl2ZSxcbiAqICAgIHplcm8sIG9yIGEgcG9zaXRpdmUgbnVtYmVyLlxuICogQHJldHVybiBMb3dlc3QgaW5kZXggb2YgdGhlIHRhcmdldCB2YWx1ZSBpZiBmb3VuZCwgb3RoZXJ3aXNlIHRoZSBpbnNlcnRpb25cbiAqICAgIHBvaW50IHdoZXJlIHRoZSB0YXJnZXQgc2hvdWxkIGJlIGluc2VydGVkLCBpbiB0aGUgZm9ybSBvZlxuICogICAgKC1pbnNlcnRpb25Qb2ludCAtIDEpLlxuICovXG5leHBvcnQgZnVuY3Rpb24gYmluYXJ5U2VhcmNoPFQ+KFxuICAgIGFycjogVFtdLCB0YXJnZXQ6IFQsIGNvbXBhcmF0b3I/OiAoYTogVCwgYjogVCkgPT4gbnVtYmVyKSB7XG4gIHJldHVybiBiaW5hcnlTZWFyY2hfKGFyciwgdGFyZ2V0LCBjb21wYXJhdG9yIHx8IGRlZmF1bHRDb21wYXJhdG9yKTtcbn1cblxuLyoqXG4gKiBDb21wYXJlcyBpdHMgdHdvIGFyZ3VtZW50cyBmb3Igb3JkZXIuXG4gKiBAcGFyYW0gYSBUaGUgZmlyc3QgZWxlbWVudCB0byBiZSBjb21wYXJlZC5cbiAqIEBwYXJhbSBiIFRoZSBzZWNvbmQgZWxlbWVudCB0byBiZSBjb21wYXJlZC5cbiAqIEByZXR1cm4gQSBuZWdhdGl2ZSBudW1iZXIsIHplcm8sIG9yIGEgcG9zaXRpdmUgbnVtYmVyIGFzIHRoZSBmaXJzdFxuICogICAgIGFyZ3VtZW50IGlzIGxlc3MgdGhhbiwgZXF1YWwgdG8sIG9yIGdyZWF0ZXIgdGhhbiB0aGUgc2Vjb25kLlxuICovXG5mdW5jdGlvbiBkZWZhdWx0Q29tcGFyYXRvcjxUPihhOiBULCBiOiBUKTogbnVtYmVyIHtcbiAgcmV0dXJuIGEgPiBiID8gMSA6IGEgPCBiID8gLTEgOiAwO1xufVxuXG5mdW5jdGlvbiBiaW5hcnlTZWFyY2hfPFQ+KFxuICAgIGFycjogVFtdLCB0YXJnZXQ6IFQsIGNvbXBhcmF0b3I6IChhOiBULCBiOiBUKSA9PiBudW1iZXIpIHtcbiAgbGV0IGxlZnQgPSAwO1xuICBsZXQgcmlnaHQgPSBhcnIubGVuZ3RoO1xuICBsZXQgbWlkZGxlID0gMDtcbiAgbGV0IGZvdW5kID0gZmFsc2U7XG4gIHdoaWxlIChsZWZ0IDwgcmlnaHQpIHtcbiAgICBtaWRkbGUgPSBsZWZ0ICsgKChyaWdodCAtIGxlZnQpID4+PiAxKTtcbiAgICBjb25zdCBjb21wYXJlUmVzdWx0ID0gY29tcGFyYXRvcih0YXJnZXQsIGFyclttaWRkbGVdKTtcbiAgICBpZiAoY29tcGFyZVJlc3VsdCA+IDApIHtcbiAgICAgIGxlZnQgPSBtaWRkbGUgKyAxO1xuICAgIH0gZWxzZSB7XG4gICAgICByaWdodCA9IG1pZGRsZTtcbiAgICAgIC8vIElmIGNvbXBhcmVSZXN1bHQgaXMgMCwgdGhlIHZhbHVlIGlzIGZvdW5kLiBXZSByZWNvcmQgaXQgaXMgZm91bmQsXG4gICAgICAvLyBhbmQgdGhlbiBrZWVwIGxvb2tpbmcgYmVjYXVzZSB0aGVyZSBtYXkgYmUgZHVwbGljYXRlLlxuICAgICAgZm91bmQgPSAhY29tcGFyZVJlc3VsdDtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZm91bmQgPyBsZWZ0IDogLWxlZnQgLSAxO1xufVxuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG4vKipcbiAqIEltcGxlbWVudGF0aW9uIG9mIHRoZSBOb25NYXhTdXBwcmVzc2lvbiBrZXJuZWwgc2hhcmVkIGJldHdlZW4gd2ViZ2wgYW5kIGNwdS5cbiAqL1xuXG5pbXBvcnQge3NjYWxhcn0gZnJvbSAnLi4vb3BzL3NjYWxhcic7XG5pbXBvcnQge3RlbnNvcjFkfSBmcm9tICcuLi9vcHMvdGVuc29yMWQnO1xuaW1wb3J0IHtUZW5zb3IxRH0gZnJvbSAnLi4vdGVuc29yJztcbmltcG9ydCB7TmFtZWRUZW5zb3JNYXB9IGZyb20gJy4uL3RlbnNvcl90eXBlcyc7XG5pbXBvcnQge1R5cGVkQXJyYXl9IGZyb20gJy4uL3R5cGVzJztcblxuaW1wb3J0IHtiaW5hcnlJbnNlcnR9IGZyb20gJy4vYXJyYXlfdXRpbCc7XG5cbmludGVyZmFjZSBDYW5kaWRhdGUge1xuICBzY29yZTogbnVtYmVyO1xuICBib3hJbmRleDogbnVtYmVyO1xuICBzdXBwcmVzc0JlZ2luSW5kZXg6IG51bWJlcjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG5vbk1heFN1cHByZXNzaW9uVjNJbXBsKFxuICAgIGJveGVzOiBUeXBlZEFycmF5LCBzY29yZXM6IFR5cGVkQXJyYXksIG1heE91dHB1dFNpemU6IG51bWJlcixcbiAgICBpb3VUaHJlc2hvbGQ6IG51bWJlciwgc2NvcmVUaHJlc2hvbGQ6IG51bWJlcik6IFRlbnNvcjFEIHtcbiAgcmV0dXJuIG5vbk1heFN1cHByZXNzaW9uSW1wbF8oXG4gICAgICAgICAgICAgYm94ZXMsIHNjb3JlcywgbWF4T3V0cHV0U2l6ZSwgaW91VGhyZXNob2xkLCBzY29yZVRocmVzaG9sZCxcbiAgICAgICAgICAgICAwIC8qIHNvZnRObXNTaWdtYSAqLylcbiAgICAgICAgICAgICAuc2VsZWN0ZWRJbmRpY2VzIGFzIFRlbnNvcjFEO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbm9uTWF4U3VwcHJlc3Npb25WNEltcGwoXG4gICAgYm94ZXM6IFR5cGVkQXJyYXksIHNjb3JlczogVHlwZWRBcnJheSwgbWF4T3V0cHV0U2l6ZTogbnVtYmVyLFxuICAgIGlvdVRocmVzaG9sZDogbnVtYmVyLCBzY29yZVRocmVzaG9sZDogbnVtYmVyLFxuICAgIHBhZFRvTWF4T3V0cHV0U2l6ZTogYm9vbGVhbik6IE5hbWVkVGVuc29yTWFwIHtcbiAgcmV0dXJuIG5vbk1heFN1cHByZXNzaW9uSW1wbF8oXG4gICAgICBib3hlcywgc2NvcmVzLCBtYXhPdXRwdXRTaXplLCBpb3VUaHJlc2hvbGQsIHNjb3JlVGhyZXNob2xkLFxuICAgICAgMCAvKiBzb2Z0Tm1zU2lnbWEgKi8sIGZhbHNlIC8qIHJldHVyblNjb3Jlc1RlbnNvciAqLyxcbiAgICAgIHBhZFRvTWF4T3V0cHV0U2l6ZSAvKiBwYWRUb01heE91dHB1dFNpemUgKi8sIHRydWVcbiAgICAgIC8qIHJldHVyblZhbGlkT3V0cHV0cyAqLyk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBub25NYXhTdXBwcmVzc2lvblY1SW1wbChcbiAgICBib3hlczogVHlwZWRBcnJheSwgc2NvcmVzOiBUeXBlZEFycmF5LCBtYXhPdXRwdXRTaXplOiBudW1iZXIsXG4gICAgaW91VGhyZXNob2xkOiBudW1iZXIsIHNjb3JlVGhyZXNob2xkOiBudW1iZXIsXG4gICAgc29mdE5tc1NpZ21hOiBudW1iZXIpOiBOYW1lZFRlbnNvck1hcCB7XG4gIHJldHVybiBub25NYXhTdXBwcmVzc2lvbkltcGxfKFxuICAgICAgYm94ZXMsIHNjb3JlcywgbWF4T3V0cHV0U2l6ZSwgaW91VGhyZXNob2xkLCBzY29yZVRocmVzaG9sZCwgc29mdE5tc1NpZ21hLFxuICAgICAgdHJ1ZSAvKiByZXR1cm5TY29yZXNUZW5zb3IgKi8pO1xufVxuXG5mdW5jdGlvbiBub25NYXhTdXBwcmVzc2lvbkltcGxfKFxuICAgIGJveGVzOiBUeXBlZEFycmF5LCBzY29yZXM6IFR5cGVkQXJyYXksIG1heE91dHB1dFNpemU6IG51bWJlcixcbiAgICBpb3VUaHJlc2hvbGQ6IG51bWJlciwgc2NvcmVUaHJlc2hvbGQ6IG51bWJlciwgc29mdE5tc1NpZ21hOiBudW1iZXIsXG4gICAgcmV0dXJuU2NvcmVzVGVuc29yID0gZmFsc2UsIHBhZFRvTWF4T3V0cHV0U2l6ZSA9IGZhbHNlLFxuICAgIHJldHVyblZhbGlkT3V0cHV0cyA9IGZhbHNlKTogTmFtZWRUZW5zb3JNYXAge1xuICAvLyBUaGUgbGlzdCBpcyBzb3J0ZWQgaW4gYXNjZW5kaW5nIG9yZGVyLCBzbyB0aGF0IHdlIGNhbiBhbHdheXMgcG9wIHRoZVxuICAvLyBjYW5kaWRhdGUgd2l0aCB0aGUgbGFyZ2VzdCBzY29yZSBpbiBPKDEpIHRpbWUuXG4gIGNvbnN0IGNhbmRpZGF0ZXMgPSBbXTtcblxuICBmb3IgKGxldCBpID0gMDsgaSA8IHNjb3Jlcy5sZW5ndGg7IGkrKykge1xuICAgIGlmIChzY29yZXNbaV0gPiBzY29yZVRocmVzaG9sZCkge1xuICAgICAgY2FuZGlkYXRlcy5wdXNoKHtzY29yZTogc2NvcmVzW2ldLCBib3hJbmRleDogaSwgc3VwcHJlc3NCZWdpbkluZGV4OiAwfSk7XG4gICAgfVxuICB9XG5cbiAgY2FuZGlkYXRlcy5zb3J0KGFzY2VuZGluZ0NvbXBhcmF0b3IpO1xuXG4gIC8vIElmIHNvZnRObXNTaWdtYSBpcyAwLCB0aGUgb3V0Y29tZSBvZiB0aGlzIGFsZ29yaXRobSBpcyBleGFjdGx5IHNhbWUgYXNcbiAgLy8gYmVmb3JlLlxuICBjb25zdCBzY2FsZSA9IHNvZnRObXNTaWdtYSA+IDAgPyAoLTAuNSAvIHNvZnRObXNTaWdtYSkgOiAwLjA7XG5cbiAgY29uc3Qgc2VsZWN0ZWRJbmRpY2VzOiBudW1iZXJbXSA9IFtdO1xuICBjb25zdCBzZWxlY3RlZFNjb3JlczogbnVtYmVyW10gPSBbXTtcblxuICB3aGlsZSAoc2VsZWN0ZWRJbmRpY2VzLmxlbmd0aCA8IG1heE91dHB1dFNpemUgJiYgY2FuZGlkYXRlcy5sZW5ndGggPiAwKSB7XG4gICAgY29uc3QgY2FuZGlkYXRlID0gY2FuZGlkYXRlcy5wb3AoKTtcbiAgICBjb25zdCB7c2NvcmU6IG9yaWdpbmFsU2NvcmUsIGJveEluZGV4LCBzdXBwcmVzc0JlZ2luSW5kZXh9ID0gY2FuZGlkYXRlO1xuXG4gICAgaWYgKG9yaWdpbmFsU2NvcmUgPCBzY29yZVRocmVzaG9sZCkge1xuICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgLy8gT3ZlcmxhcHBpbmcgYm94ZXMgYXJlIGxpa2VseSB0byBoYXZlIHNpbWlsYXIgc2NvcmVzLCB0aGVyZWZvcmUgd2VcbiAgICAvLyBpdGVyYXRlIHRocm91Z2ggdGhlIHByZXZpb3VzbHkgc2VsZWN0ZWQgYm94ZXMgYmFja3dhcmRzIGluIG9yZGVyIHRvXG4gICAgLy8gc2VlIGlmIGNhbmRpZGF0ZSdzIHNjb3JlIHNob3VsZCBiZSBzdXBwcmVzc2VkLiBXZSB1c2VcbiAgICAvLyBzdXBwcmVzc0JlZ2luSW5kZXggdG8gdHJhY2sgYW5kIGVuc3VyZSBhIGNhbmRpZGF0ZSBjYW4gYmUgc3VwcHJlc3NlZFxuICAgIC8vIGJ5IGEgc2VsZWN0ZWQgYm94IG5vIG1vcmUgdGhhbiBvbmNlLiBBbHNvLCBpZiB0aGUgb3ZlcmxhcCBleGNlZWRzXG4gICAgLy8gaW91VGhyZXNob2xkLCB3ZSBzaW1wbHkgaWdub3JlIHRoZSBjYW5kaWRhdGUuXG4gICAgbGV0IGlnbm9yZUNhbmRpZGF0ZSA9IGZhbHNlO1xuICAgIGZvciAobGV0IGogPSBzZWxlY3RlZEluZGljZXMubGVuZ3RoIC0gMTsgaiA+PSBzdXBwcmVzc0JlZ2luSW5kZXg7IC0taikge1xuICAgICAgY29uc3QgaW91ID0gaW50ZXJzZWN0aW9uT3ZlclVuaW9uKGJveGVzLCBib3hJbmRleCwgc2VsZWN0ZWRJbmRpY2VzW2pdKTtcblxuICAgICAgaWYgKGlvdSA+PSBpb3VUaHJlc2hvbGQpIHtcbiAgICAgICAgaWdub3JlQ2FuZGlkYXRlID0gdHJ1ZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIGNhbmRpZGF0ZS5zY29yZSA9XG4gICAgICAgICAgY2FuZGlkYXRlLnNjb3JlICogc3VwcHJlc3NXZWlnaHQoaW91VGhyZXNob2xkLCBzY2FsZSwgaW91KTtcblxuICAgICAgaWYgKGNhbmRpZGF0ZS5zY29yZSA8PSBzY29yZVRocmVzaG9sZCkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBBdCB0aGlzIHBvaW50LCBpZiBgY2FuZGlkYXRlLnNjb3JlYCBoYXMgbm90IGRyb3BwZWQgYmVsb3dcbiAgICAvLyBgc2NvcmVUaHJlc2hvbGRgLCB0aGVuIHdlIGtub3cgdGhhdCB3ZSB3ZW50IHRocm91Z2ggYWxsIG9mIHRoZVxuICAgIC8vIHByZXZpb3VzIHNlbGVjdGlvbnMgYW5kIGNhbiBzYWZlbHkgdXBkYXRlIGBzdXBwcmVzc0JlZ2luSW5kZXhgIHRvIHRoZVxuICAgIC8vIGVuZCBvZiB0aGUgc2VsZWN0ZWQgYXJyYXkuIFRoZW4gd2UgY2FuIHJlLWluc2VydCB0aGUgY2FuZGlkYXRlIHdpdGhcbiAgICAvLyB0aGUgdXBkYXRlZCBzY29yZSBhbmQgc3VwcHJlc3NCZWdpbkluZGV4IGJhY2sgaW4gdGhlIGNhbmRpZGF0ZSBsaXN0LlxuICAgIC8vIElmIG9uIHRoZSBvdGhlciBoYW5kLCBgY2FuZGlkYXRlLnNjb3JlYCBoYXMgZHJvcHBlZCBiZWxvdyB0aGUgc2NvcmVcbiAgICAvLyB0aHJlc2hvbGQsIHdlIHdpbGwgbm90IGFkZCBpdCBiYWNrIHRvIHRoZSBjYW5kaWRhdGVzIGxpc3QuXG4gICAgY2FuZGlkYXRlLnN1cHByZXNzQmVnaW5JbmRleCA9IHNlbGVjdGVkSW5kaWNlcy5sZW5ndGg7XG5cbiAgICBpZiAoIWlnbm9yZUNhbmRpZGF0ZSkge1xuICAgICAgLy8gQ2FuZGlkYXRlIGhhcyBwYXNzZWQgYWxsIHRoZSB0ZXN0cywgYW5kIGlzIG5vdCBzdXBwcmVzc2VkLCBzb1xuICAgICAgLy8gc2VsZWN0IHRoZSBjYW5kaWRhdGUuXG4gICAgICBpZiAoY2FuZGlkYXRlLnNjb3JlID09PSBvcmlnaW5hbFNjb3JlKSB7XG4gICAgICAgIHNlbGVjdGVkSW5kaWNlcy5wdXNoKGJveEluZGV4KTtcbiAgICAgICAgc2VsZWN0ZWRTY29yZXMucHVzaChjYW5kaWRhdGUuc2NvcmUpO1xuICAgICAgfSBlbHNlIGlmIChjYW5kaWRhdGUuc2NvcmUgPiBzY29yZVRocmVzaG9sZCkge1xuICAgICAgICAvLyBDYW5kaWRhdGUncyBzY29yZSBpcyBzdXBwcmVzc2VkIGJ1dCBpcyBzdGlsbCBoaWdoIGVub3VnaCB0byBiZVxuICAgICAgICAvLyBjb25zaWRlcmVkLCBzbyBhZGQgYmFjayB0byB0aGUgY2FuZGlkYXRlcyBsaXN0LlxuICAgICAgICBiaW5hcnlJbnNlcnQoY2FuZGlkYXRlcywgY2FuZGlkYXRlLCBhc2NlbmRpbmdDb21wYXJhdG9yKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyBOb25NYXhTdXBwcmVzc2lvblY0IGZlYXR1cmU6IHBhZGRpbmcgb3V0cHV0IHRvIG1heE91dHB1dFNpemUuXG4gIGNvbnN0IHZhbGlkT3V0cHV0cyA9IHNlbGVjdGVkSW5kaWNlcy5sZW5ndGg7XG4gIGNvbnN0IGVsZW1zVG9QYWQgPSBtYXhPdXRwdXRTaXplIC0gdmFsaWRPdXRwdXRzO1xuXG4gIGlmIChwYWRUb01heE91dHB1dFNpemUgJiYgZWxlbXNUb1BhZCA+IDApIHtcbiAgICBzZWxlY3RlZEluZGljZXMucHVzaCguLi5uZXcgQXJyYXkoZWxlbXNUb1BhZCkuZmlsbCgwKSk7XG4gICAgc2VsZWN0ZWRTY29yZXMucHVzaCguLi5uZXcgQXJyYXkoZWxlbXNUb1BhZCkuZmlsbCgwLjApKTtcbiAgfVxuXG4gIGNvbnN0IHJlc3VsdDpcbiAgICAgIE5hbWVkVGVuc29yTWFwID0ge3NlbGVjdGVkSW5kaWNlczogdGVuc29yMWQoc2VsZWN0ZWRJbmRpY2VzLCAnaW50MzInKX07XG5cbiAgaWYgKHJldHVyblNjb3Jlc1RlbnNvcikge1xuICAgIHJlc3VsdFsnc2VsZWN0ZWRTY29yZXMnXSA9IHRlbnNvcjFkKHNlbGVjdGVkU2NvcmVzLCAnZmxvYXQzMicpO1xuICB9XG5cbiAgaWYgKHJldHVyblZhbGlkT3V0cHV0cykge1xuICAgIHJlc3VsdFsndmFsaWRPdXRwdXRzJ10gPSBzY2FsYXIodmFsaWRPdXRwdXRzLCAnaW50MzInKTtcbiAgfVxuXG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmZ1bmN0aW9uIGludGVyc2VjdGlvbk92ZXJVbmlvbihib3hlczogVHlwZWRBcnJheSwgaTogbnVtYmVyLCBqOiBudW1iZXIpIHtcbiAgY29uc3QgaUNvb3JkID0gYm94ZXMuc3ViYXJyYXkoaSAqIDQsIGkgKiA0ICsgNCk7XG4gIGNvbnN0IGpDb29yZCA9IGJveGVzLnN1YmFycmF5KGogKiA0LCBqICogNCArIDQpO1xuICBjb25zdCB5bWluSSA9IE1hdGgubWluKGlDb29yZFswXSwgaUNvb3JkWzJdKTtcbiAgY29uc3QgeG1pbkkgPSBNYXRoLm1pbihpQ29vcmRbMV0sIGlDb29yZFszXSk7XG4gIGNvbnN0IHltYXhJID0gTWF0aC5tYXgoaUNvb3JkWzBdLCBpQ29vcmRbMl0pO1xuICBjb25zdCB4bWF4SSA9IE1hdGgubWF4KGlDb29yZFsxXSwgaUNvb3JkWzNdKTtcbiAgY29uc3QgeW1pbkogPSBNYXRoLm1pbihqQ29vcmRbMF0sIGpDb29yZFsyXSk7XG4gIGNvbnN0IHhtaW5KID0gTWF0aC5taW4oakNvb3JkWzFdLCBqQ29vcmRbM10pO1xuICBjb25zdCB5bWF4SiA9IE1hdGgubWF4KGpDb29yZFswXSwgakNvb3JkWzJdKTtcbiAgY29uc3QgeG1heEogPSBNYXRoLm1heChqQ29vcmRbMV0sIGpDb29yZFszXSk7XG4gIGNvbnN0IGFyZWFJID0gKHltYXhJIC0geW1pbkkpICogKHhtYXhJIC0geG1pbkkpO1xuICBjb25zdCBhcmVhSiA9ICh5bWF4SiAtIHltaW5KKSAqICh4bWF4SiAtIHhtaW5KKTtcbiAgaWYgKGFyZWFJIDw9IDAgfHwgYXJlYUogPD0gMCkge1xuICAgIHJldHVybiAwLjA7XG4gIH1cbiAgY29uc3QgaW50ZXJzZWN0aW9uWW1pbiA9IE1hdGgubWF4KHltaW5JLCB5bWluSik7XG4gIGNvbnN0IGludGVyc2VjdGlvblhtaW4gPSBNYXRoLm1heCh4bWluSSwgeG1pbkopO1xuICBjb25zdCBpbnRlcnNlY3Rpb25ZbWF4ID0gTWF0aC5taW4oeW1heEksIHltYXhKKTtcbiAgY29uc3QgaW50ZXJzZWN0aW9uWG1heCA9IE1hdGgubWluKHhtYXhJLCB4bWF4Sik7XG4gIGNvbnN0IGludGVyc2VjdGlvbkFyZWEgPSBNYXRoLm1heChpbnRlcnNlY3Rpb25ZbWF4IC0gaW50ZXJzZWN0aW9uWW1pbiwgMC4wKSAqXG4gICAgICBNYXRoLm1heChpbnRlcnNlY3Rpb25YbWF4IC0gaW50ZXJzZWN0aW9uWG1pbiwgMC4wKTtcbiAgcmV0dXJuIGludGVyc2VjdGlvbkFyZWEgLyAoYXJlYUkgKyBhcmVhSiAtIGludGVyc2VjdGlvbkFyZWEpO1xufVxuXG4vLyBBIEdhdXNzaWFuIHBlbmFsdHkgZnVuY3Rpb24sIHRoaXMgbWV0aG9kIGFsd2F5cyByZXR1cm5zIHZhbHVlcyBpbiBbMCwgMV0uXG4vLyBUaGUgd2VpZ2h0IGlzIGEgZnVuY3Rpb24gb2Ygc2ltaWxhcml0eSwgdGhlIG1vcmUgb3ZlcmxhcCB0d28gYm94ZXMgYXJlLCB0aGVcbi8vIHNtYWxsZXIgdGhlIHdlaWdodCBpcywgbWVhbmluZyBoaWdobHkgb3ZlcmxhcHBpbmcgYm94ZSB3aWxsIGJlIHNpZ25pZmljYW50bHlcbi8vIHBlbmFsaXplZC4gT24gdGhlIG90aGVyIGhhbmQsIGEgbm9uLW92ZXJsYXBwaW5nIGJveCB3aWxsIG5vdCBiZSBwZW5hbGl6ZWQuXG5mdW5jdGlvbiBzdXBwcmVzc1dlaWdodChpb3VUaHJlc2hvbGQ6IG51bWJlciwgc2NhbGU6IG51bWJlciwgaW91OiBudW1iZXIpIHtcbiAgY29uc3Qgd2VpZ2h0ID0gTWF0aC5leHAoc2NhbGUgKiBpb3UgKiBpb3UpO1xuICByZXR1cm4gaW91IDw9IGlvdVRocmVzaG9sZCA/IHdlaWdodCA6IDAuMDtcbn1cblxuZnVuY3Rpb24gYXNjZW5kaW5nQ29tcGFyYXRvcihjMTogQ2FuZGlkYXRlLCBjMjogQ2FuZGlkYXRlKSB7XG4gIC8vIEZvciBvYmplY3RzIHdpdGggc2FtZSBzY29yZXMsIHdlIG1ha2UgdGhlIG9iamVjdCB3aXRoIHRoZSBsYXJnZXIgaW5kZXggZ29cbiAgLy8gZmlyc3QuIEluIGFuIGFycmF5IHRoYXQgcG9wcyBmcm9tIHRoZSBlbmQsIHRoaXMgbWVhbnMgdGhhdCB0aGUgb2JqZWN0IHdpdGhcbiAgLy8gdGhlIHNtYWxsZXIgaW5kZXggd2lsbCBiZSBwb3BwZWQgZmlyc3QuIFRoaXMgZW5zdXJlcyB0aGUgc2FtZSBvdXRwdXQgYXNcbiAgLy8gdGhlIFRlbnNvckZsb3cgcHl0aG9uIHZlcnNpb24uXG4gIHJldHVybiAoYzEuc2NvcmUgLSBjMi5zY29yZSkgfHxcbiAgICAgICgoYzEuc2NvcmUgPT09IGMyLnNjb3JlKSAmJiAoYzIuYm94SW5kZXggLSBjMS5ib3hJbmRleCkpO1xufVxuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG5pbXBvcnQge25vbk1heFN1cHByZXNzaW9uVjNJbXBsfSBmcm9tICcuLi8uLi9iYWNrZW5kcy9ub25fbWF4X3N1cHByZXNzaW9uX2ltcGwnO1xuaW1wb3J0IHtUZW5zb3IxRCwgVGVuc29yMkR9IGZyb20gJy4uLy4uL3RlbnNvcic7XG5pbXBvcnQge2NvbnZlcnRUb1RlbnNvcn0gZnJvbSAnLi4vLi4vdGVuc29yX3V0aWxfZW52JztcbmltcG9ydCB7VGVuc29yTGlrZX0gZnJvbSAnLi4vLi4vdHlwZXMnO1xuaW1wb3J0IHtub25NYXhTdXBwU2FuaXR5Q2hlY2t9IGZyb20gJy4uL25vbm1heF91dGlsJztcblxuLyoqXG4gKiBQZXJmb3JtcyBub24gbWF4aW11bSBzdXBwcmVzc2lvbiBvZiBib3VuZGluZyBib3hlcyBiYXNlZCBvblxuICogaW91IChpbnRlcnNlY3Rpb24gb3ZlciB1bmlvbikuXG4gKlxuICogVGhpcyBpcyB0aGUgYXN5bmMgdmVyc2lvbiBvZiBgbm9uTWF4U3VwcHJlc3Npb25gXG4gKlxuICogQHBhcmFtIGJveGVzIGEgMmQgdGVuc29yIG9mIHNoYXBlIGBbbnVtQm94ZXMsIDRdYC4gRWFjaCBlbnRyeSBpc1xuICogICAgIGBbeTEsIHgxLCB5MiwgeDJdYCwgd2hlcmUgYCh5MSwgeDEpYCBhbmQgYCh5MiwgeDIpYCBhcmUgdGhlIGNvcm5lcnMgb2ZcbiAqICAgICB0aGUgYm91bmRpbmcgYm94LlxuICogQHBhcmFtIHNjb3JlcyBhIDFkIHRlbnNvciBwcm92aWRpbmcgdGhlIGJveCBzY29yZXMgb2Ygc2hhcGUgYFtudW1Cb3hlc11gLlxuICogQHBhcmFtIG1heE91dHB1dFNpemUgVGhlIG1heGltdW0gbnVtYmVyIG9mIGJveGVzIHRvIGJlIHNlbGVjdGVkLlxuICogQHBhcmFtIGlvdVRocmVzaG9sZCBBIGZsb2F0IHJlcHJlc2VudGluZyB0aGUgdGhyZXNob2xkIGZvciBkZWNpZGluZyB3aGV0aGVyXG4gKiAgICAgYm94ZXMgb3ZlcmxhcCB0b28gbXVjaCB3aXRoIHJlc3BlY3QgdG8gSU9VLiBNdXN0IGJlIGJldHdlZW4gWzAsIDFdLlxuICogICAgIERlZmF1bHRzIHRvIDAuNSAoNTAlIGJveCBvdmVybGFwKS5cbiAqIEBwYXJhbSBzY29yZVRocmVzaG9sZCBBIHRocmVzaG9sZCBmb3IgZGVjaWRpbmcgd2hlbiB0byByZW1vdmUgYm94ZXMgYmFzZWRcbiAqICAgICBvbiBzY29yZS4gRGVmYXVsdHMgdG8gLWluZiwgd2hpY2ggbWVhbnMgYW55IHNjb3JlIGlzIGFjY2VwdGVkLlxuICogQHJldHVybiBBIDFEIHRlbnNvciB3aXRoIHRoZSBzZWxlY3RlZCBib3ggaW5kaWNlcy5cbiAqXG4gKiBAZG9jIHtoZWFkaW5nOiAnT3BlcmF0aW9ucycsIHN1YmhlYWRpbmc6ICdJbWFnZXMnLCBuYW1lc3BhY2U6ICdpbWFnZSd9XG4gKi9cbmFzeW5jIGZ1bmN0aW9uIG5vbk1heFN1cHByZXNzaW9uQXN5bmNfKFxuICAgIGJveGVzOiBUZW5zb3IyRHxUZW5zb3JMaWtlLCBzY29yZXM6IFRlbnNvcjFEfFRlbnNvckxpa2UsXG4gICAgbWF4T3V0cHV0U2l6ZTogbnVtYmVyLCBpb3VUaHJlc2hvbGQgPSAwLjUsXG4gICAgc2NvcmVUaHJlc2hvbGQgPSBOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFkpOiBQcm9taXNlPFRlbnNvcjFEPiB7XG4gIGNvbnN0ICRib3hlcyA9IGNvbnZlcnRUb1RlbnNvcihib3hlcywgJ2JveGVzJywgJ25vbk1heFN1cHByZXNzaW9uQXN5bmMnKTtcbiAgY29uc3QgJHNjb3JlcyA9IGNvbnZlcnRUb1RlbnNvcihzY29yZXMsICdzY29yZXMnLCAnbm9uTWF4U3VwcHJlc3Npb25Bc3luYycpO1xuXG4gIGNvbnN0IGlucHV0cyA9IG5vbk1heFN1cHBTYW5pdHlDaGVjayhcbiAgICAgICRib3hlcywgJHNjb3JlcywgbWF4T3V0cHV0U2l6ZSwgaW91VGhyZXNob2xkLCBzY29yZVRocmVzaG9sZCk7XG4gIG1heE91dHB1dFNpemUgPSBpbnB1dHMubWF4T3V0cHV0U2l6ZTtcbiAgaW91VGhyZXNob2xkID0gaW5wdXRzLmlvdVRocmVzaG9sZDtcbiAgc2NvcmVUaHJlc2hvbGQgPSBpbnB1dHMuc2NvcmVUaHJlc2hvbGQ7XG5cbiAgY29uc3QgYm94ZXNBbmRTY29yZXMgPSBhd2FpdCBQcm9taXNlLmFsbChbJGJveGVzLmRhdGEoKSwgJHNjb3Jlcy5kYXRhKCldKTtcbiAgY29uc3QgYm94ZXNWYWxzID0gYm94ZXNBbmRTY29yZXNbMF07XG4gIGNvbnN0IHNjb3Jlc1ZhbHMgPSBib3hlc0FuZFNjb3Jlc1sxXTtcblxuICAvLyBXZSBjYWxsIGEgY3B1IGJhc2VkIGltcGwgZGlyZWN0bHkgd2l0aCB0aGUgdHlwZWRhcnJheSBkYXRhICBoZXJlIHJhdGhlclxuICAvLyB0aGFuIGEga2VybmVsIGJlY2F1c2UgYWxsIGtlcm5lbHMgYXJlIHN5bmNocm9ub3VzIChhbmQgdGh1cyBjYW5ub3QgYXdhaXRcbiAgLy8gLmRhdGEoKSkuXG4gIGNvbnN0IHJlcyA9IG5vbk1heFN1cHByZXNzaW9uVjNJbXBsKFxuICAgICAgYm94ZXNWYWxzLCBzY29yZXNWYWxzLCBtYXhPdXRwdXRTaXplLCBpb3VUaHJlc2hvbGQsIHNjb3JlVGhyZXNob2xkKTtcbiAgaWYgKCRib3hlcyAhPT0gYm94ZXMpIHtcbiAgICAkYm94ZXMuZGlzcG9zZSgpO1xuICB9XG4gIGlmICgkc2NvcmVzICE9PSBzY29yZXMpIHtcbiAgICAkc2NvcmVzLmRpc3Bvc2UoKTtcbiAgfVxuICByZXR1cm4gcmVzO1xufVxuXG5leHBvcnQgY29uc3Qgbm9uTWF4U3VwcHJlc3Npb25Bc3luYyA9IG5vbk1heFN1cHByZXNzaW9uQXN5bmNfO1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG5pbXBvcnQge0VOR0lORX0gZnJvbSAnLi4vLi4vZW5naW5lJztcbmltcG9ydCB7Tm9uTWF4U3VwcHJlc3Npb25WNSwgTm9uTWF4U3VwcHJlc3Npb25WNUF0dHJzLCBOb25NYXhTdXBwcmVzc2lvblY1SW5wdXRzfSBmcm9tICcuLi8uLi9rZXJuZWxfbmFtZXMnO1xuaW1wb3J0IHtOYW1lZEF0dHJNYXB9IGZyb20gJy4uLy4uL2tlcm5lbF9yZWdpc3RyeSc7XG5pbXBvcnQge1RlbnNvciwgVGVuc29yMUQsIFRlbnNvcjJEfSBmcm9tICcuLi8uLi90ZW5zb3InO1xuaW1wb3J0IHtOYW1lZFRlbnNvck1hcH0gZnJvbSAnLi4vLi4vdGVuc29yX3R5cGVzJztcbmltcG9ydCB7Y29udmVydFRvVGVuc29yfSBmcm9tICcuLi8uLi90ZW5zb3JfdXRpbF9lbnYnO1xuaW1wb3J0IHtUZW5zb3JMaWtlfSBmcm9tICcuLi8uLi90eXBlcyc7XG5cbmltcG9ydCB7bm9uTWF4U3VwcFNhbml0eUNoZWNrfSBmcm9tICcuLi9ub25tYXhfdXRpbCc7XG5pbXBvcnQge29wfSBmcm9tICcuLi9vcGVyYXRpb24nO1xuXG4vKipcbiAqIFBlcmZvcm1zIG5vbiBtYXhpbXVtIHN1cHByZXNzaW9uIG9mIGJvdW5kaW5nIGJveGVzIGJhc2VkIG9uXG4gKiBpb3UgKGludGVyc2VjdGlvbiBvdmVyIHVuaW9uKS5cbiAqXG4gKiBUaGlzIG9wIGFsc28gc3VwcG9ydHMgYSBTb2Z0LU5NUyBtb2RlIChjLmYuXG4gKiBCb2RsYSBldCBhbCwgaHR0cHM6Ly9hcnhpdi5vcmcvYWJzLzE3MDQuMDQ1MDMpIHdoZXJlIGJveGVzIHJlZHVjZSB0aGUgc2NvcmVcbiAqIG9mIG90aGVyIG92ZXJsYXBwaW5nIGJveGVzLCB0aGVyZWZvcmUgZmF2b3JpbmcgZGlmZmVyZW50IHJlZ2lvbnMgb2YgdGhlIGltYWdlXG4gKiB3aXRoIGhpZ2ggc2NvcmVzLiBUbyBlbmFibGUgdGhpcyBTb2Z0LU5NUyBtb2RlLCBzZXQgdGhlIGBzb2Z0Tm1zU2lnbWFgXG4gKiBwYXJhbWV0ZXIgdG8gYmUgbGFyZ2VyIHRoYW4gMC5cbiAqXG4gKiBAcGFyYW0gYm94ZXMgYSAyZCB0ZW5zb3Igb2Ygc2hhcGUgYFtudW1Cb3hlcywgNF1gLiBFYWNoIGVudHJ5IGlzXG4gKiAgICAgYFt5MSwgeDEsIHkyLCB4Ml1gLCB3aGVyZSBgKHkxLCB4MSlgIGFuZCBgKHkyLCB4MilgIGFyZSB0aGUgY29ybmVycyBvZlxuICogICAgIHRoZSBib3VuZGluZyBib3guXG4gKiBAcGFyYW0gc2NvcmVzIGEgMWQgdGVuc29yIHByb3ZpZGluZyB0aGUgYm94IHNjb3JlcyBvZiBzaGFwZSBgW251bUJveGVzXWAuXG4gKiBAcGFyYW0gbWF4T3V0cHV0U2l6ZSBUaGUgbWF4aW11bSBudW1iZXIgb2YgYm94ZXMgdG8gYmUgc2VsZWN0ZWQuXG4gKiBAcGFyYW0gaW91VGhyZXNob2xkIEEgZmxvYXQgcmVwcmVzZW50aW5nIHRoZSB0aHJlc2hvbGQgZm9yIGRlY2lkaW5nIHdoZXRoZXJcbiAqICAgICBib3hlcyBvdmVybGFwIHRvbyBtdWNoIHdpdGggcmVzcGVjdCB0byBJT1UuIE11c3QgYmUgYmV0d2VlbiBbMCwgMV0uXG4gKiAgICAgRGVmYXVsdHMgdG8gMC41ICg1MCUgYm94IG92ZXJsYXApLlxuICogQHBhcmFtIHNjb3JlVGhyZXNob2xkIEEgdGhyZXNob2xkIGZvciBkZWNpZGluZyB3aGVuIHRvIHJlbW92ZSBib3hlcyBiYXNlZFxuICogICAgIG9uIHNjb3JlLiBEZWZhdWx0cyB0byAtaW5mLCB3aGljaCBtZWFucyBhbnkgc2NvcmUgaXMgYWNjZXB0ZWQuXG4gKiBAcGFyYW0gc29mdE5tc1NpZ21hIEEgZmxvYXQgcmVwcmVzZW50aW5nIHRoZSBzaWdtYSBwYXJhbWV0ZXIgZm9yIFNvZnQgTk1TLlxuICogICAgIFdoZW4gc2lnbWEgaXMgMCwgaXQgZmFsbHMgYmFjayB0byBub25NYXhTdXBwcmVzc2lvbi5cbiAqIEByZXR1cm4gQSBtYXAgd2l0aCB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXM6XG4gKiAgICAgLSBzZWxlY3RlZEluZGljZXM6IEEgMUQgdGVuc29yIHdpdGggdGhlIHNlbGVjdGVkIGJveCBpbmRpY2VzLlxuICogICAgIC0gc2VsZWN0ZWRTY29yZXM6IEEgMUQgdGVuc29yIHdpdGggdGhlIGNvcnJlc3BvbmRpbmcgc2NvcmVzIGZvciBlYWNoXG4gKiAgICAgICBzZWxlY3RlZCBib3guXG4gKlxuICogQGRvYyB7aGVhZGluZzogJ09wZXJhdGlvbnMnLCBzdWJoZWFkaW5nOiAnSW1hZ2VzJywgbmFtZXNwYWNlOiAnaW1hZ2UnfVxuICovXG5mdW5jdGlvbiBub25NYXhTdXBwcmVzc2lvbldpdGhTY29yZV8oXG4gICAgYm94ZXM6IFRlbnNvcjJEfFRlbnNvckxpa2UsIHNjb3JlczogVGVuc29yMUR8VGVuc29yTGlrZSxcbiAgICBtYXhPdXRwdXRTaXplOiBudW1iZXIsIGlvdVRocmVzaG9sZCA9IDAuNSxcbiAgICBzY29yZVRocmVzaG9sZCA9IE51bWJlci5ORUdBVElWRV9JTkZJTklUWSxcbiAgICBzb2Z0Tm1zU2lnbWEgPSAwLjApOiBOYW1lZFRlbnNvck1hcCB7XG4gIGNvbnN0ICRib3hlcyA9IGNvbnZlcnRUb1RlbnNvcihib3hlcywgJ2JveGVzJywgJ25vbk1heFN1cHByZXNzaW9uJyk7XG4gIGNvbnN0ICRzY29yZXMgPSBjb252ZXJ0VG9UZW5zb3Ioc2NvcmVzLCAnc2NvcmVzJywgJ25vbk1heFN1cHByZXNzaW9uJyk7XG5cbiAgY29uc3QgcGFyYW1zID0gbm9uTWF4U3VwcFNhbml0eUNoZWNrKFxuICAgICAgJGJveGVzLCAkc2NvcmVzLCBtYXhPdXRwdXRTaXplLCBpb3VUaHJlc2hvbGQsIHNjb3JlVGhyZXNob2xkLFxuICAgICAgc29mdE5tc1NpZ21hKTtcbiAgbWF4T3V0cHV0U2l6ZSA9IHBhcmFtcy5tYXhPdXRwdXRTaXplO1xuICBpb3VUaHJlc2hvbGQgPSBwYXJhbXMuaW91VGhyZXNob2xkO1xuICBzY29yZVRocmVzaG9sZCA9IHBhcmFtcy5zY29yZVRocmVzaG9sZDtcbiAgc29mdE5tc1NpZ21hID0gcGFyYW1zLnNvZnRObXNTaWdtYTtcblxuICBjb25zdCBpbnB1dHM6IE5vbk1heFN1cHByZXNzaW9uVjVJbnB1dHMgPSB7Ym94ZXM6ICRib3hlcywgc2NvcmVzOiAkc2NvcmVzfTtcbiAgY29uc3QgYXR0cnM6IE5vbk1heFN1cHByZXNzaW9uVjVBdHRycyA9XG4gICAgICB7bWF4T3V0cHV0U2l6ZSwgaW91VGhyZXNob2xkLCBzY29yZVRocmVzaG9sZCwgc29mdE5tc1NpZ21hfTtcblxuICBjb25zdCByZXN1bHQgPSBFTkdJTkUucnVuS2VybmVsKFxuICAgICAgICAgICAgICAgICAgICAgTm9uTWF4U3VwcHJlc3Npb25WNSwgaW5wdXRzIGFzIHt9IGFzIE5hbWVkVGVuc29yTWFwLFxuICAgICAgICAgICAgICAgICAgICAgYXR0cnMgYXMge30gYXMgTmFtZWRBdHRyTWFwKSBhcyBUZW5zb3JbXTtcblxuICByZXR1cm4ge3NlbGVjdGVkSW5kaWNlczogcmVzdWx0WzBdLCBzZWxlY3RlZFNjb3JlczogcmVzdWx0WzFdfTtcbn1cblxuZXhwb3J0IGNvbnN0IG5vbk1heFN1cHByZXNzaW9uV2l0aFNjb3JlID0gb3Aoe25vbk1heFN1cHByZXNzaW9uV2l0aFNjb3JlX30pO1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuaW1wb3J0IHtub25NYXhTdXBwcmVzc2lvblY1SW1wbH0gZnJvbSAnLi4vLi4vYmFja2VuZHMvbm9uX21heF9zdXBwcmVzc2lvbl9pbXBsJztcbmltcG9ydCB7VGVuc29yMUQsIFRlbnNvcjJEfSBmcm9tICcuLi8uLi90ZW5zb3InO1xuaW1wb3J0IHtOYW1lZFRlbnNvck1hcH0gZnJvbSAnLi4vLi4vdGVuc29yX3R5cGVzJztcbmltcG9ydCB7Y29udmVydFRvVGVuc29yfSBmcm9tICcuLi8uLi90ZW5zb3JfdXRpbF9lbnYnO1xuaW1wb3J0IHtUZW5zb3JMaWtlfSBmcm9tICcuLi8uLi90eXBlcyc7XG5pbXBvcnQge25vbk1heFN1cHBTYW5pdHlDaGVja30gZnJvbSAnLi4vbm9ubWF4X3V0aWwnO1xuXG4vKipcbiAqIEFzeW5jaHJvbm91c2x5IHBlcmZvcm1zIG5vbiBtYXhpbXVtIHN1cHByZXNzaW9uIG9mIGJvdW5kaW5nIGJveGVzIGJhc2VkIG9uXG4gKiBpb3UgKGludGVyc2VjdGlvbiBvdmVyIHVuaW9uKS5cbiAqXG4gKiBUaGlzIG9wIGFsc28gc3VwcG9ydHMgYSBTb2Z0LU5NUyBtb2RlIChjLmYuXG4gKiBCb2RsYSBldCBhbCwgaHR0cHM6Ly9hcnhpdi5vcmcvYWJzLzE3MDQuMDQ1MDMpIHdoZXJlIGJveGVzIHJlZHVjZSB0aGUgc2NvcmVcbiAqIG9mIG90aGVyIG92ZXJsYXBwaW5nIGJveGVzLCB0aGVyZWZvcmUgZmF2b3JpbmcgZGlmZmVyZW50IHJlZ2lvbnMgb2YgdGhlIGltYWdlXG4gKiB3aXRoIGhpZ2ggc2NvcmVzLiBUbyBlbmFibGUgdGhpcyBTb2Z0LU5NUyBtb2RlLCBzZXQgdGhlIGBzb2Z0Tm1zU2lnbWFgXG4gKiBwYXJhbWV0ZXIgdG8gYmUgbGFyZ2VyIHRoYW4gMC5cbiAqXG4gKiBAcGFyYW0gYm94ZXMgYSAyZCB0ZW5zb3Igb2Ygc2hhcGUgYFtudW1Cb3hlcywgNF1gLiBFYWNoIGVudHJ5IGlzXG4gKiAgICAgYFt5MSwgeDEsIHkyLCB4Ml1gLCB3aGVyZSBgKHkxLCB4MSlgIGFuZCBgKHkyLCB4MilgIGFyZSB0aGUgY29ybmVycyBvZlxuICogICAgIHRoZSBib3VuZGluZyBib3guXG4gKiBAcGFyYW0gc2NvcmVzIGEgMWQgdGVuc29yIHByb3ZpZGluZyB0aGUgYm94IHNjb3JlcyBvZiBzaGFwZSBgW251bUJveGVzXWAuXG4gKiBAcGFyYW0gbWF4T3V0cHV0U2l6ZSBUaGUgbWF4aW11bSBudW1iZXIgb2YgYm94ZXMgdG8gYmUgc2VsZWN0ZWQuXG4gKiBAcGFyYW0gaW91VGhyZXNob2xkIEEgZmxvYXQgcmVwcmVzZW50aW5nIHRoZSB0aHJlc2hvbGQgZm9yIGRlY2lkaW5nIHdoZXRoZXJcbiAqICAgICBib3hlcyBvdmVybGFwIHRvbyBtdWNoIHdpdGggcmVzcGVjdCB0byBJT1UuIE11c3QgYmUgYmV0d2VlbiBbMCwgMV0uXG4gKiAgICAgRGVmYXVsdHMgdG8gMC41ICg1MCUgYm94IG92ZXJsYXApLlxuICogQHBhcmFtIHNjb3JlVGhyZXNob2xkIEEgdGhyZXNob2xkIGZvciBkZWNpZGluZyB3aGVuIHRvIHJlbW92ZSBib3hlcyBiYXNlZFxuICogICAgIG9uIHNjb3JlLiBEZWZhdWx0cyB0byAtaW5mLCB3aGljaCBtZWFucyBhbnkgc2NvcmUgaXMgYWNjZXB0ZWQuXG4gKiBAcGFyYW0gc29mdE5tc1NpZ21hIEEgZmxvYXQgcmVwcmVzZW50aW5nIHRoZSBzaWdtYSBwYXJhbWV0ZXIgZm9yIFNvZnQgTk1TLlxuICogICAgIFdoZW4gc2lnbWEgaXMgMCwgaXQgZmFsbHMgYmFjayB0byBub25NYXhTdXBwcmVzc2lvbi5cbiAqIEByZXR1cm4gQSBtYXAgd2l0aCB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXM6XG4gKiAgICAgLSBzZWxlY3RlZEluZGljZXM6IEEgMUQgdGVuc29yIHdpdGggdGhlIHNlbGVjdGVkIGJveCBpbmRpY2VzLlxuICogICAgIC0gc2VsZWN0ZWRTY29yZXM6IEEgMUQgdGVuc29yIHdpdGggdGhlIGNvcnJlc3BvbmRpbmcgc2NvcmVzIGZvciBlYWNoXG4gKiAgICAgICBzZWxlY3RlZCBib3guXG4gKlxuICogQGRvYyB7aGVhZGluZzogJ09wZXJhdGlvbnMnLCBzdWJoZWFkaW5nOiAnSW1hZ2VzJywgbmFtZXNwYWNlOiAnaW1hZ2UnfVxuICovXG5hc3luYyBmdW5jdGlvbiBub25NYXhTdXBwcmVzc2lvbldpdGhTY29yZUFzeW5jXyhcbiAgICBib3hlczogVGVuc29yMkR8VGVuc29yTGlrZSwgc2NvcmVzOiBUZW5zb3IxRHxUZW5zb3JMaWtlLFxuICAgIG1heE91dHB1dFNpemU6IG51bWJlciwgaW91VGhyZXNob2xkID0gMC41LFxuICAgIHNjb3JlVGhyZXNob2xkID0gTnVtYmVyLk5FR0FUSVZFX0lORklOSVRZLFxuICAgIHNvZnRObXNTaWdtYSA9IDAuMCk6IFByb21pc2U8TmFtZWRUZW5zb3JNYXA+IHtcbiAgY29uc3QgJGJveGVzID0gY29udmVydFRvVGVuc29yKGJveGVzLCAnYm94ZXMnLCAnbm9uTWF4U3VwcHJlc3Npb25Bc3luYycpO1xuICBjb25zdCAkc2NvcmVzID0gY29udmVydFRvVGVuc29yKHNjb3JlcywgJ3Njb3JlcycsICdub25NYXhTdXBwcmVzc2lvbkFzeW5jJyk7XG5cbiAgY29uc3QgcGFyYW1zID0gbm9uTWF4U3VwcFNhbml0eUNoZWNrKFxuICAgICAgJGJveGVzLCAkc2NvcmVzLCBtYXhPdXRwdXRTaXplLCBpb3VUaHJlc2hvbGQsIHNjb3JlVGhyZXNob2xkLFxuICAgICAgc29mdE5tc1NpZ21hKTtcbiAgbWF4T3V0cHV0U2l6ZSA9IHBhcmFtcy5tYXhPdXRwdXRTaXplO1xuICBpb3VUaHJlc2hvbGQgPSBwYXJhbXMuaW91VGhyZXNob2xkO1xuICBzY29yZVRocmVzaG9sZCA9IHBhcmFtcy5zY29yZVRocmVzaG9sZDtcbiAgc29mdE5tc1NpZ21hID0gcGFyYW1zLnNvZnRObXNTaWdtYTtcblxuICBjb25zdCBib3hlc0FuZFNjb3JlcyA9IGF3YWl0IFByb21pc2UuYWxsKFskYm94ZXMuZGF0YSgpLCAkc2NvcmVzLmRhdGEoKV0pO1xuICBjb25zdCBib3hlc1ZhbHMgPSBib3hlc0FuZFNjb3Jlc1swXTtcbiAgY29uc3Qgc2NvcmVzVmFscyA9IGJveGVzQW5kU2NvcmVzWzFdO1xuXG4gIC8vIFdlIGNhbGwgYSBjcHUgYmFzZWQgaW1wbCBkaXJlY3RseSB3aXRoIHRoZSB0eXBlZGFycmF5IGRhdGEgIGhlcmUgcmF0aGVyXG4gIC8vIHRoYW4gYSBrZXJuZWwgYmVjYXVzZSBhbGwga2VybmVscyBhcmUgc3luY2hyb25vdXMgKGFuZCB0aHVzIGNhbm5vdCBhd2FpdFxuICAvLyAuZGF0YSgpKS5cbiAgY29uc3QgcmVzID0gbm9uTWF4U3VwcHJlc3Npb25WNUltcGwoXG4gICAgICBib3hlc1ZhbHMsIHNjb3Jlc1ZhbHMsIG1heE91dHB1dFNpemUsIGlvdVRocmVzaG9sZCwgc2NvcmVUaHJlc2hvbGQsXG4gICAgICBzb2Z0Tm1zU2lnbWEpO1xuXG4gIGlmICgkYm94ZXMgIT09IGJveGVzKSB7XG4gICAgJGJveGVzLmRpc3Bvc2UoKTtcbiAgfVxuICBpZiAoJHNjb3JlcyAhPT0gc2NvcmVzKSB7XG4gICAgJHNjb3Jlcy5kaXNwb3NlKCk7XG4gIH1cbiAgcmV0dXJuIHJlcztcbn1cblxuZXhwb3J0IGNvbnN0IG5vbk1heFN1cHByZXNzaW9uV2l0aFNjb3JlQXN5bmMgPSBub25NYXhTdXBwcmVzc2lvbldpdGhTY29yZUFzeW5jXztcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuaW1wb3J0IHtFTkdJTkV9IGZyb20gJy4uLy4uL2VuZ2luZSc7XG5pbXBvcnQge05vbk1heFN1cHByZXNzaW9uVjQsIE5vbk1heFN1cHByZXNzaW9uVjRBdHRycywgTm9uTWF4U3VwcHJlc3Npb25WNElucHV0c30gZnJvbSAnLi4vLi4va2VybmVsX25hbWVzJztcbmltcG9ydCB7TmFtZWRBdHRyTWFwfSBmcm9tICcuLi8uLi9rZXJuZWxfcmVnaXN0cnknO1xuaW1wb3J0IHtUZW5zb3IsIFRlbnNvcjFELCBUZW5zb3IyRH0gZnJvbSAnLi4vLi4vdGVuc29yJztcbmltcG9ydCB7TmFtZWRUZW5zb3JNYXB9IGZyb20gJy4uLy4uL3RlbnNvcl90eXBlcyc7XG5pbXBvcnQge2NvbnZlcnRUb1RlbnNvcn0gZnJvbSAnLi4vLi4vdGVuc29yX3V0aWxfZW52JztcbmltcG9ydCB7VGVuc29yTGlrZX0gZnJvbSAnLi4vLi4vdHlwZXMnO1xuXG5pbXBvcnQge25vbk1heFN1cHBTYW5pdHlDaGVja30gZnJvbSAnLi4vbm9ubWF4X3V0aWwnO1xuaW1wb3J0IHtvcH0gZnJvbSAnLi4vb3BlcmF0aW9uJztcblxuLyoqXG4gKiBBc3luY2hyb25vdXNseSBwZXJmb3JtcyBub24gbWF4aW11bSBzdXBwcmVzc2lvbiBvZiBib3VuZGluZyBib3hlcyBiYXNlZCBvblxuICogaW91IChpbnRlcnNlY3Rpb24gb3ZlciB1bmlvbiksIHdpdGggYW4gb3B0aW9uIHRvIHBhZCByZXN1bHRzLlxuICpcbiAqIEBwYXJhbSBib3hlcyBhIDJkIHRlbnNvciBvZiBzaGFwZSBgW251bUJveGVzLCA0XWAuIEVhY2ggZW50cnkgaXNcbiAqICAgICBgW3kxLCB4MSwgeTIsIHgyXWAsIHdoZXJlIGAoeTEsIHgxKWAgYW5kIGAoeTIsIHgyKWAgYXJlIHRoZSBjb3JuZXJzIG9mXG4gKiAgICAgdGhlIGJvdW5kaW5nIGJveC5cbiAqIEBwYXJhbSBzY29yZXMgYSAxZCB0ZW5zb3IgcHJvdmlkaW5nIHRoZSBib3ggc2NvcmVzIG9mIHNoYXBlIGBbbnVtQm94ZXNdYC5cbiAqIEBwYXJhbSBtYXhPdXRwdXRTaXplIFRoZSBtYXhpbXVtIG51bWJlciBvZiBib3hlcyB0byBiZSBzZWxlY3RlZC5cbiAqIEBwYXJhbSBpb3VUaHJlc2hvbGQgQSBmbG9hdCByZXByZXNlbnRpbmcgdGhlIHRocmVzaG9sZCBmb3IgZGVjaWRpbmcgd2hldGhlclxuICogICAgIGJveGVzIG92ZXJsYXAgdG9vIG11Y2ggd2l0aCByZXNwZWN0IHRvIElPVS4gTXVzdCBiZSBiZXR3ZWVuIFswLCAxXS5cbiAqICAgICBEZWZhdWx0cyB0byAwLjUgKDUwJSBib3ggb3ZlcmxhcCkuXG4gKiBAcGFyYW0gc2NvcmVUaHJlc2hvbGQgQSB0aHJlc2hvbGQgZm9yIGRlY2lkaW5nIHdoZW4gdG8gcmVtb3ZlIGJveGVzIGJhc2VkXG4gKiAgICAgb24gc2NvcmUuIERlZmF1bHRzIHRvIC1pbmYsIHdoaWNoIG1lYW5zIGFueSBzY29yZSBpcyBhY2NlcHRlZC5cbiAqIEBwYXJhbSBwYWRUb01heE91dHB1dFNpemUgRGVmYWx0cyB0byBmYWxzZS4gSWYgdHJ1ZSwgc2l6ZSBvZiBvdXRwdXRcbiAqICAgICBgc2VsZWN0ZWRJbmRpY2VzYCBpcyBwYWRkZWQgdG8gbWF4T3V0cHV0U2l6ZS5cbiAqIEByZXR1cm4gQSBtYXAgd2l0aCB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXM6XG4gKiAgICAgLSBzZWxlY3RlZEluZGljZXM6IEEgMUQgdGVuc29yIHdpdGggdGhlIHNlbGVjdGVkIGJveCBpbmRpY2VzLlxuICogICAgIC0gdmFsaWRPdXRwdXRzOiBBIHNjYWxhciBkZW5vdGluZyBob3cgbWFueSBlbGVtZW50cyBpbiBgc2VsZWN0ZWRJbmRpY2VzYFxuICogICAgICAgYXJlIHZhbGlkLiBWYWxpZCBlbGVtZW50cyBvY2N1ciBmaXJzdCwgdGhlbiBwYWRkaW5nLlxuICpcbiAqIEBkb2Mge2hlYWRpbmc6ICdPcGVyYXRpb25zJywgc3ViaGVhZGluZzogJ0ltYWdlcycsIG5hbWVzcGFjZTogJ2ltYWdlJ31cbiAqL1xuZnVuY3Rpb24gbm9uTWF4U3VwcHJlc3Npb25QYWRkZWRfKFxuICAgIGJveGVzOiBUZW5zb3IyRHxUZW5zb3JMaWtlLCBzY29yZXM6IFRlbnNvcjFEfFRlbnNvckxpa2UsXG4gICAgbWF4T3V0cHV0U2l6ZTogbnVtYmVyLCBpb3VUaHJlc2hvbGQgPSAwLjUsXG4gICAgc2NvcmVUaHJlc2hvbGQgPSBOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFksXG4gICAgcGFkVG9NYXhPdXRwdXRTaXplID0gZmFsc2UpOiBOYW1lZFRlbnNvck1hcCB7XG4gIGNvbnN0ICRib3hlcyA9IGNvbnZlcnRUb1RlbnNvcihib3hlcywgJ2JveGVzJywgJ25vbk1heFN1cHByZXNzaW9uJyk7XG4gIGNvbnN0ICRzY29yZXMgPSBjb252ZXJ0VG9UZW5zb3Ioc2NvcmVzLCAnc2NvcmVzJywgJ25vbk1heFN1cHByZXNzaW9uJyk7XG5cbiAgY29uc3QgcGFyYW1zID0gbm9uTWF4U3VwcFNhbml0eUNoZWNrKFxuICAgICAgJGJveGVzLCAkc2NvcmVzLCBtYXhPdXRwdXRTaXplLCBpb3VUaHJlc2hvbGQsIHNjb3JlVGhyZXNob2xkLFxuICAgICAgbnVsbCAvKiBzb2Z0Tm1zU2lnbWEgKi8pO1xuICBjb25zdCAkbWF4T3V0cHV0U2l6ZSA9IHBhcmFtcy5tYXhPdXRwdXRTaXplO1xuICBjb25zdCAkaW91VGhyZXNob2xkID0gcGFyYW1zLmlvdVRocmVzaG9sZDtcbiAgY29uc3QgJHNjb3JlVGhyZXNob2xkID0gcGFyYW1zLnNjb3JlVGhyZXNob2xkO1xuXG4gIGNvbnN0IGlucHV0czogTm9uTWF4U3VwcHJlc3Npb25WNElucHV0cyA9IHtib3hlczogJGJveGVzLCBzY29yZXM6ICRzY29yZXN9O1xuICBjb25zdCBhdHRyczogTm9uTWF4U3VwcHJlc3Npb25WNEF0dHJzID0ge1xuICAgIG1heE91dHB1dFNpemU6ICRtYXhPdXRwdXRTaXplLFxuICAgIGlvdVRocmVzaG9sZDogJGlvdVRocmVzaG9sZCxcbiAgICBzY29yZVRocmVzaG9sZDogJHNjb3JlVGhyZXNob2xkLFxuICAgIHBhZFRvTWF4T3V0cHV0U2l6ZVxuICB9O1xuXG4gIGNvbnN0IHJlc3VsdCA9IEVOR0lORS5ydW5LZXJuZWwoXG4gICAgICAgICAgICAgICAgICAgICBOb25NYXhTdXBwcmVzc2lvblY0LCBpbnB1dHMgYXMge30gYXMgTmFtZWRUZW5zb3JNYXAsXG4gICAgICAgICAgICAgICAgICAgICBhdHRycyBhcyB7fSBhcyBOYW1lZEF0dHJNYXApIGFzIFRlbnNvcltdO1xuXG4gIHJldHVybiB7c2VsZWN0ZWRJbmRpY2VzOiByZXN1bHRbMF0sIHZhbGlkT3V0cHV0czogcmVzdWx0WzFdfTtcbn1cblxuZXhwb3J0IGNvbnN0IG5vbk1heFN1cHByZXNzaW9uUGFkZGVkID0gb3Aoe25vbk1heFN1cHByZXNzaW9uUGFkZGVkX30pO1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuaW1wb3J0IHtub25NYXhTdXBwcmVzc2lvblY0SW1wbH0gZnJvbSAnLi4vLi4vYmFja2VuZHMvbm9uX21heF9zdXBwcmVzc2lvbl9pbXBsJztcbmltcG9ydCB7VGVuc29yMUQsIFRlbnNvcjJEfSBmcm9tICcuLi8uLi90ZW5zb3InO1xuaW1wb3J0IHtOYW1lZFRlbnNvck1hcH0gZnJvbSAnLi4vLi4vdGVuc29yX3R5cGVzJztcbmltcG9ydCB7Y29udmVydFRvVGVuc29yfSBmcm9tICcuLi8uLi90ZW5zb3JfdXRpbF9lbnYnO1xuaW1wb3J0IHtUZW5zb3JMaWtlfSBmcm9tICcuLi8uLi90eXBlcyc7XG5pbXBvcnQge25vbk1heFN1cHBTYW5pdHlDaGVja30gZnJvbSAnLi4vbm9ubWF4X3V0aWwnO1xuXG4vKipcbiAqIEFzeW5jaHJvbm91c2x5IHBlcmZvcm1zIG5vbiBtYXhpbXVtIHN1cHByZXNzaW9uIG9mIGJvdW5kaW5nIGJveGVzIGJhc2VkIG9uXG4gKiBpb3UgKGludGVyc2VjdGlvbiBvdmVyIHVuaW9uKSwgd2l0aCBhbiBvcHRpb24gdG8gcGFkIHJlc3VsdHMuXG4gKlxuICogQHBhcmFtIGJveGVzIGEgMmQgdGVuc29yIG9mIHNoYXBlIGBbbnVtQm94ZXMsIDRdYC4gRWFjaCBlbnRyeSBpc1xuICogICAgIGBbeTEsIHgxLCB5MiwgeDJdYCwgd2hlcmUgYCh5MSwgeDEpYCBhbmQgYCh5MiwgeDIpYCBhcmUgdGhlIGNvcm5lcnMgb2ZcbiAqICAgICB0aGUgYm91bmRpbmcgYm94LlxuICogQHBhcmFtIHNjb3JlcyBhIDFkIHRlbnNvciBwcm92aWRpbmcgdGhlIGJveCBzY29yZXMgb2Ygc2hhcGUgYFtudW1Cb3hlc11gLlxuICogQHBhcmFtIG1heE91dHB1dFNpemUgVGhlIG1heGltdW0gbnVtYmVyIG9mIGJveGVzIHRvIGJlIHNlbGVjdGVkLlxuICogQHBhcmFtIGlvdVRocmVzaG9sZCBBIGZsb2F0IHJlcHJlc2VudGluZyB0aGUgdGhyZXNob2xkIGZvciBkZWNpZGluZyB3aGV0aGVyXG4gKiAgICAgYm94ZXMgb3ZlcmxhcCB0b28gbXVjaCB3aXRoIHJlc3BlY3QgdG8gSU9VLiBNdXN0IGJlIGJldHdlZW4gWzAsIDFdLlxuICogICAgIERlZmF1bHRzIHRvIDAuNSAoNTAlIGJveCBvdmVybGFwKS5cbiAqIEBwYXJhbSBzY29yZVRocmVzaG9sZCBBIHRocmVzaG9sZCBmb3IgZGVjaWRpbmcgd2hlbiB0byByZW1vdmUgYm94ZXMgYmFzZWRcbiAqICAgICBvbiBzY29yZS4gRGVmYXVsdHMgdG8gLWluZiwgd2hpY2ggbWVhbnMgYW55IHNjb3JlIGlzIGFjY2VwdGVkLlxuICogQHBhcmFtIHBhZFRvTWF4T3V0cHV0U2l6ZSBEZWZhbHRzIHRvIGZhbHNlLiBJZiB0cnVlLCBzaXplIG9mIG91dHB1dFxuICogICAgIGBzZWxlY3RlZEluZGljZXNgIGlzIHBhZGRlZCB0byBtYXhPdXRwdXRTaXplLlxuICogQHJldHVybiBBIG1hcCB3aXRoIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllczpcbiAqICAgICAtIHNlbGVjdGVkSW5kaWNlczogQSAxRCB0ZW5zb3Igd2l0aCB0aGUgc2VsZWN0ZWQgYm94IGluZGljZXMuXG4gKiAgICAgLSB2YWxpZE91dHB1dHM6IEEgc2NhbGFyIGRlbm90aW5nIGhvdyBtYW55IGVsZW1lbnRzIGluIGBzZWxlY3RlZEluZGljZXNgXG4gKiAgICAgICBhcmUgdmFsaWQuIFZhbGlkIGVsZW1lbnRzIG9jY3VyIGZpcnN0LCB0aGVuIHBhZGRpbmcuXG4gKlxuICogQGRvYyB7aGVhZGluZzogJ09wZXJhdGlvbnMnLCBzdWJoZWFkaW5nOiAnSW1hZ2VzJywgbmFtZXNwYWNlOiAnaW1hZ2UnfVxuICovXG5hc3luYyBmdW5jdGlvbiBub25NYXhTdXBwcmVzc2lvblBhZGRlZEFzeW5jXyhcbiAgICBib3hlczogVGVuc29yMkR8VGVuc29yTGlrZSwgc2NvcmVzOiBUZW5zb3IxRHxUZW5zb3JMaWtlLFxuICAgIG1heE91dHB1dFNpemU6IG51bWJlciwgaW91VGhyZXNob2xkID0gMC41LFxuICAgIHNjb3JlVGhyZXNob2xkID0gTnVtYmVyLk5FR0FUSVZFX0lORklOSVRZLFxuICAgIHBhZFRvTWF4T3V0cHV0U2l6ZSA9IGZhbHNlKTogUHJvbWlzZTxOYW1lZFRlbnNvck1hcD4ge1xuICBjb25zdCAkYm94ZXMgPSBjb252ZXJ0VG9UZW5zb3IoYm94ZXMsICdib3hlcycsICdub25NYXhTdXBwcmVzc2lvbkFzeW5jJyk7XG4gIGNvbnN0ICRzY29yZXMgPSBjb252ZXJ0VG9UZW5zb3Ioc2NvcmVzLCAnc2NvcmVzJywgJ25vbk1heFN1cHByZXNzaW9uQXN5bmMnKTtcblxuICBjb25zdCBwYXJhbXMgPSBub25NYXhTdXBwU2FuaXR5Q2hlY2soXG4gICAgICAkYm94ZXMsICRzY29yZXMsIG1heE91dHB1dFNpemUsIGlvdVRocmVzaG9sZCwgc2NvcmVUaHJlc2hvbGQsXG4gICAgICBudWxsIC8qIHNvZnRObXNTaWdtYSAqLyk7XG4gIGNvbnN0ICRtYXhPdXRwdXRTaXplID0gcGFyYW1zLm1heE91dHB1dFNpemU7XG4gIGNvbnN0ICRpb3VUaHJlc2hvbGQgPSBwYXJhbXMuaW91VGhyZXNob2xkO1xuICBjb25zdCAkc2NvcmVUaHJlc2hvbGQgPSBwYXJhbXMuc2NvcmVUaHJlc2hvbGQ7XG5cbiAgY29uc3QgW2JveGVzVmFscywgc2NvcmVzVmFsc10gPVxuICAgICAgYXdhaXQgUHJvbWlzZS5hbGwoWyRib3hlcy5kYXRhKCksICRzY29yZXMuZGF0YSgpXSk7XG5cbiAgLy8gV2UgY2FsbCBhIGNwdSBiYXNlZCBpbXBsIGRpcmVjdGx5IHdpdGggdGhlIHR5cGVkYXJyYXkgZGF0YSBoZXJlIHJhdGhlclxuICAvLyB0aGFuIGEga2VybmVsIGJlY2F1c2UgYWxsIGtlcm5lbHMgYXJlIHN5bmNocm9ub3VzIChhbmQgdGh1cyBjYW5ub3QgYXdhaXRcbiAgLy8gLmRhdGEoKSkuXG4gIGNvbnN0IHJlcyA9IG5vbk1heFN1cHByZXNzaW9uVjRJbXBsKFxuICAgICAgYm94ZXNWYWxzLCBzY29yZXNWYWxzLCAkbWF4T3V0cHV0U2l6ZSwgJGlvdVRocmVzaG9sZCwgJHNjb3JlVGhyZXNob2xkLFxuICAgICAgcGFkVG9NYXhPdXRwdXRTaXplKTtcblxuICBpZiAoJGJveGVzICE9PSBib3hlcykge1xuICAgICRib3hlcy5kaXNwb3NlKCk7XG4gIH1cbiAgaWYgKCRzY29yZXMgIT09IHNjb3Jlcykge1xuICAgICRzY29yZXMuZGlzcG9zZSgpO1xuICB9XG4gIHJldHVybiByZXM7XG59XG5cbmV4cG9ydCBjb25zdCBub25NYXhTdXBwcmVzc2lvblBhZGRlZEFzeW5jID0gbm9uTWF4U3VwcHJlc3Npb25QYWRkZWRBc3luY187XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbmltcG9ydCB7RU5HSU5FLCBGb3J3YXJkRnVuY30gZnJvbSAnLi4vLi4vZW5naW5lJztcbmltcG9ydCB7UmVzaXplQmlsaW5lYXIsIFJlc2l6ZUJpbGluZWFyQXR0cnMsIFJlc2l6ZUJpbGluZWFySW5wdXRzfSBmcm9tICcuLi8uLi9rZXJuZWxfbmFtZXMnO1xuaW1wb3J0IHtOYW1lZEF0dHJNYXB9IGZyb20gJy4uLy4uL2tlcm5lbF9yZWdpc3RyeSc7XG5pbXBvcnQge1RlbnNvcjNELCBUZW5zb3I0RH0gZnJvbSAnLi4vLi4vdGVuc29yJztcbmltcG9ydCB7TmFtZWRUZW5zb3JNYXB9IGZyb20gJy4uLy4uL3RlbnNvcl90eXBlcyc7XG5pbXBvcnQge2NvbnZlcnRUb1RlbnNvcn0gZnJvbSAnLi4vLi4vdGVuc29yX3V0aWxfZW52JztcbmltcG9ydCB7VGVuc29yTGlrZX0gZnJvbSAnLi4vLi4vdHlwZXMnO1xuaW1wb3J0ICogYXMgdXRpbCBmcm9tICcuLi8uLi91dGlsJztcblxuaW1wb3J0IHtvcH0gZnJvbSAnLi4vb3BlcmF0aW9uJztcbmltcG9ydCB7cmVzaGFwZX0gZnJvbSAnLi4vcmVzaGFwZSc7XG5cbi8qKlxuICogQmlsaW5lYXIgcmVzaXplIGEgYmF0Y2ggb2YgM0QgaW1hZ2VzIHRvIGEgbmV3IHNoYXBlLlxuICpcbiAqIEBwYXJhbSBpbWFnZXMgVGhlIGltYWdlcywgb2YgcmFuayA0IG9yIHJhbmsgMywgb2Ygc2hhcGVcbiAqICAgICBgW2JhdGNoLCBoZWlnaHQsIHdpZHRoLCBpbkNoYW5uZWxzXWAuIElmIHJhbmsgMywgYmF0Y2ggb2YgMSBpcyBhc3N1bWVkLlxuICogQHBhcmFtIHNpemUgVGhlIG5ldyBzaGFwZSBgW25ld0hlaWdodCwgbmV3V2lkdGhdYCB0byByZXNpemUgdGhlXG4gKiAgICAgaW1hZ2VzIHRvLiBFYWNoIGNoYW5uZWwgaXMgcmVzaXplZCBpbmRpdmlkdWFsbHkuXG4gKiBAcGFyYW0gYWxpZ25Db3JuZXJzIERlZmF1bHRzIHRvIEZhbHNlLiBJZiB0cnVlLCByZXNjYWxlXG4gKiAgICAgaW5wdXQgYnkgYChuZXdfaGVpZ2h0IC0gMSkgLyAoaGVpZ2h0IC0gMSlgLCB3aGljaCBleGFjdGx5IGFsaWducyB0aGUgNFxuICogICAgIGNvcm5lcnMgb2YgaW1hZ2VzIGFuZCByZXNpemVkIGltYWdlcy4gSWYgZmFsc2UsIHJlc2NhbGUgYnlcbiAqICAgICBgbmV3X2hlaWdodCAvIGhlaWdodGAuIFRyZWF0IHNpbWlsYXJseSB0aGUgd2lkdGggZGltZW5zaW9uLlxuICpcbiAqIEBkb2Mge2hlYWRpbmc6ICdPcGVyYXRpb25zJywgc3ViaGVhZGluZzogJ0ltYWdlcycsIG5hbWVzcGFjZTogJ2ltYWdlJ31cbiAqL1xuZnVuY3Rpb24gcmVzaXplQmlsaW5lYXJfPFQgZXh0ZW5kcyBUZW5zb3IzRHxUZW5zb3I0RD4oXG4gICAgaW1hZ2VzOiBUfFRlbnNvckxpa2UsIHNpemU6IFtudW1iZXIsIG51bWJlcl0sIGFsaWduQ29ybmVycyA9IGZhbHNlKTogVCB7XG4gIGNvbnN0ICRpbWFnZXMgPSBjb252ZXJ0VG9UZW5zb3IoaW1hZ2VzLCAnaW1hZ2VzJywgJ3Jlc2l6ZUJpbGluZWFyJyk7XG5cbiAgdXRpbC5hc3NlcnQoXG4gICAgICAkaW1hZ2VzLnJhbmsgPT09IDMgfHwgJGltYWdlcy5yYW5rID09PSA0LFxuICAgICAgKCkgPT4gYEVycm9yIGluIHJlc2l6ZUJpbGluZWFyOiB4IG11c3QgYmUgcmFuayAzIG9yIDQsIGJ1dCBnb3QgYCArXG4gICAgICAgICAgYHJhbmsgJHskaW1hZ2VzLnJhbmt9LmApO1xuICB1dGlsLmFzc2VydChcbiAgICAgIHNpemUubGVuZ3RoID09PSAyLFxuICAgICAgKCkgPT4gYEVycm9yIGluIHJlc2l6ZUJpbGluZWFyOiBuZXcgc2hhcGUgbXVzdCAyRCwgYnV0IGdvdCBzaGFwZSBgICtcbiAgICAgICAgICBgJHtzaXplfS5gKTtcblxuICBsZXQgYmF0Y2hJbWFnZXMgPSAkaW1hZ2VzIGFzIFRlbnNvcjREO1xuICBsZXQgcmVzaGFwZWRUbzREID0gZmFsc2U7XG4gIGlmICgkaW1hZ2VzLnJhbmsgPT09IDMpIHtcbiAgICByZXNoYXBlZFRvNEQgPSB0cnVlO1xuICAgIGJhdGNoSW1hZ2VzID0gcmVzaGFwZShcbiAgICAgICAgJGltYWdlcywgWzEsICRpbWFnZXMuc2hhcGVbMF0sICRpbWFnZXMuc2hhcGVbMV0sICRpbWFnZXMuc2hhcGVbMl1dKTtcbiAgfVxuXG4gIGNvbnN0IFtuZXdIZWlnaHQsIG5ld1dpZHRoXSA9IHNpemU7XG4gIGNvbnN0IGZvcndhcmQ6IEZvcndhcmRGdW5jPFRlbnNvcjREPiA9IChiYWNrZW5kLCBzYXZlKSA9PiB7XG4gICAgc2F2ZShbYmF0Y2hJbWFnZXNdKTtcbiAgICByZXR1cm4gYmFja2VuZC5yZXNpemVCaWxpbmVhcihcbiAgICAgICAgYmF0Y2hJbWFnZXMsIG5ld0hlaWdodCwgbmV3V2lkdGgsIGFsaWduQ29ybmVycyk7XG4gIH07XG5cbiAgY29uc3QgaW5wdXRzOiBSZXNpemVCaWxpbmVhcklucHV0cyA9IHtpbWFnZXM6IGJhdGNoSW1hZ2VzfTtcbiAgY29uc3QgYXR0cnM6IFJlc2l6ZUJpbGluZWFyQXR0cnMgPSB7YWxpZ25Db3JuZXJzLCBzaXplfTtcblxuICBjb25zdCByZXMgPSBFTkdJTkUucnVuS2VybmVsRnVuYyhcbiAgICAgIGZvcndhcmQsIGlucHV0cyBhcyB7fSBhcyBOYW1lZFRlbnNvck1hcCwgbnVsbCAvKiBncmFkaWVudCAqLyxcbiAgICAgIFJlc2l6ZUJpbGluZWFyLCBhdHRycyBhcyB7fSBhcyBOYW1lZEF0dHJNYXApO1xuXG4gIGlmIChyZXNoYXBlZFRvNEQpIHtcbiAgICByZXR1cm4gcmVzaGFwZShyZXMsIFtyZXMuc2hhcGVbMV0sIHJlcy5zaGFwZVsyXSwgcmVzLnNoYXBlWzNdXSkgYXMgVDtcbiAgfVxuICByZXR1cm4gcmVzIGFzIFQ7XG59XG5cbmV4cG9ydCBjb25zdCByZXNpemVCaWxpbmVhciA9IG9wKHtyZXNpemVCaWxpbmVhcl99KTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuaW1wb3J0IHtFTkdJTkUsIEZvcndhcmRGdW5jfSBmcm9tICcuLi8uLi9lbmdpbmUnO1xuaW1wb3J0IHtSZXNpemVOZWFyZXN0TmVpZ2hib3IsIFJlc2l6ZU5lYXJlc3ROZWlnaGJvckF0dHJzLCBSZXNpemVOZWFyZXN0TmVpZ2hib3JJbnB1dHN9IGZyb20gJy4uLy4uL2tlcm5lbF9uYW1lcyc7XG5pbXBvcnQge05hbWVkQXR0ck1hcH0gZnJvbSAnLi4vLi4va2VybmVsX3JlZ2lzdHJ5JztcbmltcG9ydCB7VGVuc29yM0QsIFRlbnNvcjREfSBmcm9tICcuLi8uLi90ZW5zb3InO1xuaW1wb3J0IHtOYW1lZFRlbnNvck1hcH0gZnJvbSAnLi4vLi4vdGVuc29yX3R5cGVzJztcbmltcG9ydCB7Y29udmVydFRvVGVuc29yfSBmcm9tICcuLi8uLi90ZW5zb3JfdXRpbF9lbnYnO1xuaW1wb3J0IHtUZW5zb3JMaWtlfSBmcm9tICcuLi8uLi90eXBlcyc7XG5pbXBvcnQgKiBhcyB1dGlsIGZyb20gJy4uLy4uL3V0aWwnO1xuXG5pbXBvcnQge29wfSBmcm9tICcuLi9vcGVyYXRpb24nO1xuaW1wb3J0IHtyZXNoYXBlfSBmcm9tICcuLi9yZXNoYXBlJztcblxuLyoqXG4gKiBOZWFyZXN0TmVpZ2hib3IgcmVzaXplIGEgYmF0Y2ggb2YgM0QgaW1hZ2VzIHRvIGEgbmV3IHNoYXBlLlxuICpcbiAqIEBwYXJhbSBpbWFnZXMgVGhlIGltYWdlcywgb2YgcmFuayA0IG9yIHJhbmsgMywgb2Ygc2hhcGVcbiAqICAgICBgW2JhdGNoLCBoZWlnaHQsIHdpZHRoLCBpbkNoYW5uZWxzXWAuIElmIHJhbmsgMywgYmF0Y2ggb2YgMSBpcyBhc3N1bWVkLlxuICogQHBhcmFtIHNpemUgVGhlIG5ldyBzaGFwZSBgW25ld0hlaWdodCwgbmV3V2lkdGhdYCB0byByZXNpemUgdGhlXG4gKiAgICAgaW1hZ2VzIHRvLiBFYWNoIGNoYW5uZWwgaXMgcmVzaXplZCBpbmRpdmlkdWFsbHkuXG4gKiBAcGFyYW0gYWxpZ25Db3JuZXJzIERlZmF1bHRzIHRvIEZhbHNlLiBJZiB0cnVlLCByZXNjYWxlXG4gKiAgICAgaW5wdXQgYnkgYChuZXdfaGVpZ2h0IC0gMSkgLyAoaGVpZ2h0IC0gMSlgLCB3aGljaCBleGFjdGx5IGFsaWducyB0aGUgNFxuICogICAgIGNvcm5lcnMgb2YgaW1hZ2VzIGFuZCByZXNpemVkIGltYWdlcy4gSWYgZmFsc2UsIHJlc2NhbGUgYnlcbiAqICAgICBgbmV3X2hlaWdodCAvIGhlaWdodGAuIFRyZWF0IHNpbWlsYXJseSB0aGUgd2lkdGggZGltZW5zaW9uLlxuICpcbiAqIEBkb2Mge2hlYWRpbmc6ICdPcGVyYXRpb25zJywgc3ViaGVhZGluZzogJ0ltYWdlcycsIG5hbWVzcGFjZTogJ2ltYWdlJ31cbiAqL1xuZnVuY3Rpb24gcmVzaXplTmVhcmVzdE5laWdoYm9yXzxUIGV4dGVuZHMgVGVuc29yM0R8VGVuc29yNEQ+KFxuICAgIGltYWdlczogVHxUZW5zb3JMaWtlLCBzaXplOiBbbnVtYmVyLCBudW1iZXJdLCBhbGlnbkNvcm5lcnMgPSBmYWxzZSk6IFQge1xuICBjb25zdCAkaW1hZ2VzID0gY29udmVydFRvVGVuc29yKGltYWdlcywgJ2ltYWdlcycsICdyZXNpemVOZWFyZXN0TmVpZ2hib3InKTtcblxuICB1dGlsLmFzc2VydChcbiAgICAgICRpbWFnZXMucmFuayA9PT0gMyB8fCAkaW1hZ2VzLnJhbmsgPT09IDQsXG4gICAgICAoKSA9PiBgRXJyb3IgaW4gcmVzaXplTmVhcmVzdE5laWdoYm9yOiB4IG11c3QgYmUgcmFuayAzIG9yIDQsIGJ1dCBnb3QgYCArXG4gICAgICAgICAgYHJhbmsgJHskaW1hZ2VzLnJhbmt9LmApO1xuICB1dGlsLmFzc2VydChcbiAgICAgIHNpemUubGVuZ3RoID09PSAyLFxuICAgICAgKCkgPT5cbiAgICAgICAgICBgRXJyb3IgaW4gcmVzaXplTmVhcmVzdE5laWdoYm9yOiBuZXcgc2hhcGUgbXVzdCAyRCwgYnV0IGdvdCBzaGFwZSBgICtcbiAgICAgICAgICBgJHtzaXplfS5gKTtcbiAgdXRpbC5hc3NlcnQoXG4gICAgICAkaW1hZ2VzLmR0eXBlID09PSAnZmxvYXQzMicgfHwgJGltYWdlcy5kdHlwZSA9PT0gJ2ludDMyJyxcbiAgICAgICgpID0+ICdgaW1hZ2VzYCBtdXN0IGhhdmUgYGludDMyYCBvciBgZmxvYXQzMmAgYXMgZHR5cGUnKTtcblxuICBsZXQgYmF0Y2hJbWFnZXMgPSAkaW1hZ2VzIGFzIFRlbnNvcjREO1xuICBsZXQgcmVzaGFwZWRUbzREID0gZmFsc2U7XG4gIGlmICgkaW1hZ2VzLnJhbmsgPT09IDMpIHtcbiAgICByZXNoYXBlZFRvNEQgPSB0cnVlO1xuICAgIGJhdGNoSW1hZ2VzID0gcmVzaGFwZShcbiAgICAgICAgJGltYWdlcywgWzEsICRpbWFnZXMuc2hhcGVbMF0sICRpbWFnZXMuc2hhcGVbMV0sICRpbWFnZXMuc2hhcGVbMl1dKTtcbiAgfVxuICBjb25zdCBbbmV3SGVpZ2h0LCBuZXdXaWR0aF0gPSBzaXplO1xuXG4gIGNvbnN0IGlucHV0czogUmVzaXplTmVhcmVzdE5laWdoYm9ySW5wdXRzID0ge2ltYWdlczogYmF0Y2hJbWFnZXN9O1xuICBjb25zdCBhdHRyczogUmVzaXplTmVhcmVzdE5laWdoYm9yQXR0cnMgPSB7YWxpZ25Db3JuZXJzLCBzaXplfTtcblxuICBjb25zdCBmb3J3YXJkOiBGb3J3YXJkRnVuYzxUZW5zb3I0RD4gPSAoYmFja2VuZCwgc2F2ZSkgPT4ge1xuICAgIHNhdmUoW2JhdGNoSW1hZ2VzXSk7XG4gICAgcmV0dXJuIGJhY2tlbmQucmVzaXplTmVhcmVzdE5laWdoYm9yKFxuICAgICAgICBiYXRjaEltYWdlcywgbmV3SGVpZ2h0LCBuZXdXaWR0aCwgYWxpZ25Db3JuZXJzKTtcbiAgfTtcblxuICBjb25zdCByZXMgPSBFTkdJTkUucnVuS2VybmVsRnVuYyhcbiAgICAgIGZvcndhcmQsIGlucHV0cyBhcyB7fSBhcyBOYW1lZFRlbnNvck1hcCwgbnVsbCAvKiBncmFkaWVudCAqLyxcbiAgICAgIFJlc2l6ZU5lYXJlc3ROZWlnaGJvciwgYXR0cnMgYXMge30gYXMgTmFtZWRBdHRyTWFwKTtcblxuICBpZiAocmVzaGFwZWRUbzREKSB7XG4gICAgcmV0dXJuIHJlc2hhcGUocmVzLCBbcmVzLnNoYXBlWzFdLCByZXMuc2hhcGVbMl0sIHJlcy5zaGFwZVszXV0pIGFzIFQ7XG4gIH1cbiAgcmV0dXJuIHJlcyBhcyBUO1xufVxuXG5leHBvcnQgY29uc3QgcmVzaXplTmVhcmVzdE5laWdoYm9yID0gb3Aoe3Jlc2l6ZU5lYXJlc3ROZWlnaGJvcl99KTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuaW1wb3J0IHtUZW5zb3J9IGZyb20gJy4uLy4uL3RlbnNvcic7XG5pbXBvcnQge2NvbnZlcnRUb1RlbnNvcn0gZnJvbSAnLi4vLi4vdGVuc29yX3V0aWxfZW52JztcbmltcG9ydCB7VGVuc29yTGlrZX0gZnJvbSAnLi4vLi4vdHlwZXMnO1xuaW1wb3J0IHthc3NlcnR9IGZyb20gJy4uLy4uL3V0aWwnO1xuXG5pbXBvcnQge2dyZWF0ZXJFcXVhbH0gZnJvbSAnLi4vZ3JlYXRlcl9lcXVhbCc7XG5pbXBvcnQge2xlc3NFcXVhbH0gZnJvbSAnLi4vbGVzc19lcXVhbCc7XG5pbXBvcnQge2xvZ2ljYWxBbmR9IGZyb20gJy4uL2xvZ2ljYWxfYW5kJztcbmltcG9ydCB7b3B9IGZyb20gJy4uL29wZXJhdGlvbic7XG5pbXBvcnQge3JhbmdlfSBmcm9tICcuLi9yYW5nZSc7XG5pbXBvcnQge3Jlc2hhcGV9IGZyb20gJy4uL3Jlc2hhcGUnO1xuaW1wb3J0IHtzY2FsYXJ9IGZyb20gJy4uL3NjYWxhcic7XG5pbXBvcnQge3N0YWNrfSBmcm9tICcuLi9zdGFjayc7XG5pbXBvcnQge3N1Yn0gZnJvbSAnLi4vc3ViJztcbmltcG9ydCB7dW5zdGFja30gZnJvbSAnLi4vdW5zdGFjayc7XG5pbXBvcnQge3doZXJlfSBmcm9tICcuLi93aGVyZSc7XG5pbXBvcnQge3plcm9zfSBmcm9tICcuLi96ZXJvcyc7XG5cbi8qKlxuICogQ29weSBhIHRlbnNvciBzZXR0aW5nIGV2ZXJ5dGhpbmcgb3V0c2lkZSBhIGNlbnRyYWwgYmFuZCBpbiBlYWNoIGlubmVybW9zdFxuICogbWF0cml4IHRvIHplcm8uXG4gKlxuICogVGhlIGJhbmQgcGFydCBpcyBjb21wdXRlZCBhcyBmb2xsb3dzOiBBc3N1bWUgaW5wdXQgaGFzIGBrYCBkaW1lbnNpb25zXG4gKiBgW0ksIEosIEssIC4uLiwgTSwgTl1gLCB0aGVuIHRoZSBvdXRwdXQgaXMgYSB0ZW5zb3Igd2l0aCB0aGUgc2FtZSBzaGFwZSB3aGVyZVxuICogYGJhbmRbaSwgaiwgaywgLi4uLCBtLCBuXSA9IGluX2JhbmQobSwgbikgKiBpbnB1dFtpLCBqLCBrLCAuLi4sIG0sIG5dYC5cbiAqIFRoZSBpbmRpY2F0b3IgZnVuY3Rpb25cbiAqIGBpbl9iYW5kKG0sIG4pID0gKG51bV9sb3dlciA8IDAgfHwgKG0tbikgPD0gbnVtX2xvd2VyKSlgXG4gKiBgJiYgKG51bV91cHBlciA8IDAgfHwgKG4tbSkgPD0gbnVtX3VwcGVyKWBcbiAqXG4gKiBgYGBqc1xuICogY29uc3QgeCA9IHRmLnRlbnNvcjJkKFtbIDAsICAxLCAgMiwgM10sXG4gKiAgICAgICAgICAgICAgICAgICAgICAgIFstMSwgIDAsICAxLCAyXSxcbiAqICAgICAgICAgICAgICAgICAgICAgICAgWy0yLCAtMSwgIDAsIDFdLFxuICogICAgICAgICAgICAgICAgICAgICAgICBbLTMsIC0yLCAtMSwgMF1dKTtcbiAqIGxldCB5ID0gdGYubGluYWxnLmJhbmRQYXJ0KHgsIDEsIC0xKTtcbiAqIHkucHJpbnQoKTsgLy8gW1sgMCwgIDEsICAyLCAzXSxcbiAqICAgICAgICAgICAgLy8gIFstMSwgIDAsICAxLCAyXSxcbiAqICAgICAgICAgICAgLy8gIFsgMCwgLTEsICAwLCAxXSxcbiAqICAgICAgICAgICAgLy8gIFsgMCwgMCAsIC0xLCAwXV1cbiAqIGxldCB6ID0gdGYubGluYWxnLmJhbmRQYXJ0KHgsIDIsIDEpO1xuICogei5wcmludCgpOyAvLyBbWyAwLCAgMSwgIDAsIDBdLFxuICogICAgICAgICAgICAvLyAgWy0xLCAgMCwgIDEsIDBdLFxuICogICAgICAgICAgICAvLyAgWy0yLCAtMSwgIDAsIDFdLFxuICogICAgICAgICAgICAvLyAgWyAwLCAtMiwgLTEsIDBdXVxuICogYGBgXG4gKlxuICogQHBhcmFtIHggUmFuayBga2AgdGVuc29yXG4gKiBAcGFyYW0gbnVtTG93ZXIgTnVtYmVyIG9mIHN1YmRpYWdvbmFscyB0byBrZWVwLlxuICogICBJZiBuZWdhdGl2ZSwga2VlcCBlbnRpcmUgbG93ZXIgdHJpYW5nbGUuXG4gKiBAcGFyYW0gbnVtVXBwZXIgTnVtYmVyIG9mIHN1YmRpYWdvbmFscyB0byBrZWVwLlxuICogICBJZiBuZWdhdGl2ZSwga2VlcCBlbnRpcmUgdXBwZXIgdHJpYW5nbGUuXG4gKiBAcmV0dXJucyBSYW5rIGBrYCB0ZW5zb3Igb2YgdGhlIHNhbWUgc2hhcGUgYXMgaW5wdXQuXG4gKiAgIFRoZSBleHRyYWN0ZWQgYmFuZGVkIHRlbnNvci5cbiAqXG4gKiBAZG9jIHtoZWFkaW5nOidPcGVyYXRpb25zJywgc3ViaGVhZGluZzonTGluZWFyIEFsZ2VicmEnLCBuYW1lc3BhY2U6J2xpbmFsZyd9XG4gKi9cbmZ1bmN0aW9uIGJhbmRQYXJ0XzxUIGV4dGVuZHMgVGVuc29yPihcbiAgICBhOiBUfFRlbnNvckxpa2UsIG51bUxvd2VyOiBudW1iZXIsIG51bVVwcGVyOiBudW1iZXIpOiBUIHtcbiAgYXNzZXJ0KFxuICAgICAgbnVtTG93ZXIgJSAxID09PSAwLFxuICAgICAgKCkgPT4gYGJhbmRQYXJ0KCk6IG51bUxvd2VyIG11c3QgYmUgYW4gaW50ZWdlciwgZ290ICR7bnVtTG93ZXJ9LmApO1xuICBhc3NlcnQoXG4gICAgICBudW1VcHBlciAlIDEgPT09IDAsXG4gICAgICAoKSA9PiBgYmFuZFBhcnQoKTogbnVtVXBwZXIgbXVzdCBiZSBhbiBpbnRlZ2VyLCBnb3QgJHtudW1VcHBlcn0uYCk7XG5cbiAgY29uc3QgJGEgPSBjb252ZXJ0VG9UZW5zb3IoYSwgJ2EnLCAnYmFuZFBhcnQnKTtcblxuICBhc3NlcnQoXG4gICAgICAkYS5yYW5rID49IDIsXG4gICAgICAoKSA9PiBgYmFuZFBhcnQoKTogUmFuayBtdXN0IGJlIGF0IGxlYXN0IDIsIGdvdCAkeyRhLnJhbmt9LmApO1xuXG4gIGNvbnN0IHNoYXBlID0gJGEuc2hhcGU7XG4gIGNvbnN0IFtNLCBOXSA9ICRhLnNoYXBlLnNsaWNlKC0yKTtcblxuICBpZiAoIShudW1Mb3dlciA8PSBNKSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgYGJhbmRQYXJ0KCk6IG51bUxvd2VyICgke251bUxvd2VyfSlgICtcbiAgICAgICAgYCBtdXN0IG5vdCBiZSBncmVhdGVyIHRoYW4gdGhlIG51bWJlciBvZiByb3dzICgke019KS5gKTtcbiAgfVxuICBpZiAoIShudW1VcHBlciA8PSBOKSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgYGJhbmRQYXJ0KCk6IG51bVVwcGVyICgke251bVVwcGVyfSlgICtcbiAgICAgICAgYCBtdXN0IG5vdCBiZSBncmVhdGVyIHRoYW4gdGhlIG51bWJlciBvZiBjb2x1bW5zICgke059KS5gKTtcbiAgfVxuXG4gIGlmIChudW1Mb3dlciA8IDApIHtcbiAgICBudW1Mb3dlciA9IE07XG4gIH1cbiAgaWYgKG51bVVwcGVyIDwgMCkge1xuICAgIG51bVVwcGVyID0gTjtcbiAgfVxuXG4gIGNvbnN0IGkgPSByZXNoYXBlKHJhbmdlKDAsIE0sIDEsICdpbnQzMicpLCBbLTEsIDFdKTtcbiAgY29uc3QgaiA9IHJhbmdlKDAsIE4sIDEsICdpbnQzMicpO1xuICBjb25zdCBpaiA9IHN1YihpLCBqKTtcblxuICBjb25zdCBpbkJhbmQgPSBsb2dpY2FsQW5kKFxuICAgICAgbGVzc0VxdWFsKGlqLCBzY2FsYXIoK251bUxvd2VyLCAnaW50MzInKSksXG4gICAgICBncmVhdGVyRXF1YWwoaWosIHNjYWxhcigtbnVtVXBwZXIsICdpbnQzMicpKSk7XG5cbiAgY29uc3QgemVybyA9IHplcm9zKFtNLCBOXSwgJGEuZHR5cGUpO1xuXG4gIHJldHVybiByZXNoYXBlKFxuICAgICAgICAgICAgIHN0YWNrKHVuc3RhY2socmVzaGFwZSgkYSwgWy0xLCBNLCBOXSkpXG4gICAgICAgICAgICAgICAgICAgICAgIC5tYXAobWF0ID0+IHdoZXJlKGluQmFuZCwgbWF0LCB6ZXJvKSkpLFxuICAgICAgICAgICAgIHNoYXBlKSBhcyBUO1xufVxuXG5leHBvcnQgY29uc3QgYmFuZFBhcnQgPSBvcCh7YmFuZFBhcnRffSk7XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbmltcG9ydCB7RU5HSU5FfSBmcm9tICcuLi8uLi9lbmdpbmUnO1xuaW1wb3J0IHtUZW5zb3IxRCwgVGVuc29yMkR9IGZyb20gJy4uLy4uL3RlbnNvcic7XG5pbXBvcnQge2Fzc2VydH0gZnJvbSAnLi4vLi4vdXRpbCc7XG5cbmltcG9ydCB7ZGl2fSBmcm9tICcuLi9kaXYnO1xuaW1wb3J0IHttdWx9IGZyb20gJy4uL211bCc7XG5pbXBvcnQge25vcm19IGZyb20gJy4uL25vcm0nO1xuaW1wb3J0IHtvcH0gZnJvbSAnLi4vb3BlcmF0aW9uJztcbmltcG9ydCB7c3BsaXR9IGZyb20gJy4uL3NwbGl0JztcbmltcG9ydCB7c3F1ZWV6ZX0gZnJvbSAnLi4vc3F1ZWV6ZSc7XG5pbXBvcnQge3N0YWNrfSBmcm9tICcuLi9zdGFjayc7XG5pbXBvcnQge3N1Yn0gZnJvbSAnLi4vc3ViJztcbmltcG9ydCB7c3VtfSBmcm9tICcuLi9zdW0nO1xuXG4vKipcbiAqIEdyYW0tU2NobWlkdCBvcnRob2dvbmFsaXphdGlvbi5cbiAqXG4gKiBgYGBqc1xuICogY29uc3QgeCA9IHRmLnRlbnNvcjJkKFtbMSwgMl0sIFszLCA0XV0pO1xuICogbGV0IHkgPSB0Zi5saW5hbGcuZ3JhbVNjaG1pZHQoeCk7XG4gKiB5LnByaW50KCk7XG4gKiBjb25zb2xlLmxvZygnT3Rob2dvbmFsaXplZDonKTtcbiAqIHkuZG90KHkudHJhbnNwb3NlKCkpLnByaW50KCk7ICAvLyBzaG91bGQgYmUgbmVhcmx5IHRoZSBpZGVudGl0eSBtYXRyaXguXG4gKiBjb25zb2xlLmxvZygnRmlyc3Qgcm93IGRpcmVjdGlvbiBtYWludGFpbmVkOicpO1xuICogY29uc3QgZGF0YSA9IGF3YWl0IHkuYXJyYXkoKTtcbiAqIGNvbnNvbGUubG9nKGRhdGFbMF1bMV0gLyBkYXRhWzBdWzBdKTsgIC8vIHNob3VsZCBiZSBuZWFybHkgMi5cbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB4cyBUaGUgdmVjdG9ycyB0byBiZSBvcnRob2dvbmFsaXplZCwgaW4gb25lIG9mIHRoZSB0d28gZm9sbG93aW5nXG4gKiAgIGZvcm1hdHM6XG4gKiAgIC0gQW4gQXJyYXkgb2YgYHRmLlRlbnNvcjFEYC5cbiAqICAgLSBBIGB0Zi5UZW5zb3IyRGAsIGkuZS4sIGEgbWF0cml4LCBpbiB3aGljaCBjYXNlIHRoZSB2ZWN0b3JzIGFyZSB0aGUgcm93c1xuICogICAgIG9mIGB4c2AuXG4gKiAgIEluIGVhY2ggY2FzZSwgYWxsIHRoZSB2ZWN0b3JzIG11c3QgaGF2ZSB0aGUgc2FtZSBsZW5ndGggYW5kIHRoZSBsZW5ndGhcbiAqICAgbXVzdCBiZSBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gdGhlIG51bWJlciBvZiB2ZWN0b3JzLlxuICogQHJldHVybnMgVGhlIG9ydGhvZ29uYWxpemVkIGFuZCBub3JtYWxpemVkIHZlY3RvcnMgb3IgbWF0cml4LlxuICogICBPcnRob2dvbmFsaXphdGlvbiBtZWFucyB0aGF0IHRoZSB2ZWN0b3JzIG9yIHRoZSByb3dzIG9mIHRoZSBtYXRyaXhcbiAqICAgYXJlIG9ydGhvZ29uYWwgKHplcm8gaW5uZXIgcHJvZHVjdHMpLiBOb3JtYWxpemF0aW9uIG1lYW5zIHRoYXQgZWFjaFxuICogICB2ZWN0b3Igb3IgZWFjaCByb3cgb2YgdGhlIG1hdHJpeCBoYXMgYW4gTDIgbm9ybSB0aGF0IGVxdWFscyBgMWAuXG4gKlxuICogQGRvYyB7aGVhZGluZzonT3BlcmF0aW9ucycsIHN1YmhlYWRpbmc6J0xpbmVhciBBbGdlYnJhJywgbmFtZXNwYWNlOidsaW5hbGcnfVxuICovXG5mdW5jdGlvbiBncmFtU2NobWlkdF8oeHM6IFRlbnNvcjFEW118VGVuc29yMkQpOiBUZW5zb3IxRFtdfFRlbnNvcjJEIHtcbiAgbGV0IGlucHV0SXNUZW5zb3IyRDogYm9vbGVhbjtcbiAgaWYgKEFycmF5LmlzQXJyYXkoeHMpKSB7XG4gICAgaW5wdXRJc1RlbnNvcjJEID0gZmFsc2U7XG4gICAgYXNzZXJ0KFxuICAgICAgICB4cyAhPSBudWxsICYmIHhzLmxlbmd0aCA+IDAsXG4gICAgICAgICgpID0+ICdHcmFtLVNjaG1pZHQgcHJvY2VzczogaW5wdXQgbXVzdCBub3QgYmUgbnVsbCwgdW5kZWZpbmVkLCBvciAnICtcbiAgICAgICAgICAgICdlbXB0eScpO1xuICAgIGNvbnN0IGRpbSA9IHhzWzBdLnNoYXBlWzBdO1xuICAgIGZvciAobGV0IGkgPSAxOyBpIDwgeHMubGVuZ3RoOyArK2kpIHtcbiAgICAgIGFzc2VydChcbiAgICAgICAgICB4c1tpXS5zaGFwZVswXSA9PT0gZGltLFxuICAgICAgICAgICgpID0+XG4gICAgICAgICAgICAgICdHcmFtLVNjaG1pZHQ6IE5vbi11bmlxdWUgbGVuZ3RocyBmb3VuZCBpbiB0aGUgaW5wdXQgdmVjdG9yczogJyArXG4gICAgICAgICAgICAgIGAoJHsoeHMgYXMgVGVuc29yMURbXSlbaV0uc2hhcGVbMF19IHZzLiAke2RpbX0pYCk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlucHV0SXNUZW5zb3IyRCA9IHRydWU7XG4gICAgeHMgPSBzcGxpdCh4cywgeHMuc2hhcGVbMF0sIDApLm1hcCh4ID0+IHNxdWVlemUoeCwgWzBdKSk7XG4gIH1cblxuICBhc3NlcnQoXG4gICAgICB4cy5sZW5ndGggPD0geHNbMF0uc2hhcGVbMF0sXG4gICAgICAoKSA9PiBgR3JhbS1TY2htaWR0OiBOdW1iZXIgb2YgdmVjdG9ycyAoJHtcbiAgICAgICAgICAgICAgICAoeHMgYXMgVGVuc29yMURbXSkubGVuZ3RofSkgZXhjZWVkcyBgICtcbiAgICAgICAgICBgbnVtYmVyIG9mIGRpbWVuc2lvbnMgKCR7KHhzIGFzIFRlbnNvcjFEW10pWzBdLnNoYXBlWzBdfSkuYCk7XG5cbiAgY29uc3QgeXM6IFRlbnNvcjFEW10gPSBbXTtcbiAgY29uc3QgeHMxZCA9IHhzO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHhzLmxlbmd0aDsgKytpKSB7XG4gICAgeXMucHVzaChFTkdJTkUudGlkeSgoKSA9PiB7XG4gICAgICBsZXQgeCA9IHhzMWRbaV07XG4gICAgICBpZiAoaSA+IDApIHtcbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBpOyArK2opIHtcbiAgICAgICAgICBjb25zdCBwcm9qID0gbXVsKHN1bShtdWwoeXNbal0sIHgpKSwgeXNbal0pO1xuICAgICAgICAgIHggPSBzdWIoeCwgcHJvaik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBkaXYoeCwgbm9ybSh4LCAnZXVjbGlkZWFuJykpO1xuICAgIH0pKTtcbiAgfVxuXG4gIGlmIChpbnB1dElzVGVuc29yMkQpIHtcbiAgICByZXR1cm4gc3RhY2soeXMsIDApIGFzIFRlbnNvcjJEO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiB5cztcbiAgfVxufVxuXG5leHBvcnQgY29uc3QgZ3JhbVNjaG1pZHQgPSBvcCh7Z3JhbVNjaG1pZHRffSk7XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5pbXBvcnQge0VOR0lORX0gZnJvbSAnLi4vLi4vZW5naW5lJztcbmltcG9ydCB7ZGlzcG9zZX0gZnJvbSAnLi4vLi4vZ2xvYmFscyc7XG5pbXBvcnQge1RlbnNvciwgVGVuc29yMkR9IGZyb20gJy4uLy4uL3RlbnNvcic7XG5pbXBvcnQge2Fzc2VydH0gZnJvbSAnLi4vLi4vdXRpbCc7XG5cbmltcG9ydCB7Y2xvbmV9IGZyb20gJy4uL2Nsb25lJztcbmltcG9ydCB7Y29uY2F0fSBmcm9tICcuLi9jb25jYXQnO1xuaW1wb3J0IHtkaXZ9IGZyb20gJy4uL2Rpdic7XG5pbXBvcnQge2V5ZX0gZnJvbSAnLi4vZXllJztcbmltcG9ydCB7Z3JlYXRlcn0gZnJvbSAnLi4vZ3JlYXRlcic7XG5pbXBvcnQge21hdE11bH0gZnJvbSAnLi4vbWF0X211bCc7XG5pbXBvcnQge211bH0gZnJvbSAnLi4vbXVsJztcbmltcG9ydCB7bmVnfSBmcm9tICcuLi9uZWcnO1xuaW1wb3J0IHtub3JtfSBmcm9tICcuLi9ub3JtJztcbmltcG9ydCB7b3B9IGZyb20gJy4uL29wZXJhdGlvbic7XG5pbXBvcnQge3Jlc2hhcGV9IGZyb20gJy4uL3Jlc2hhcGUnO1xuaW1wb3J0IHtzbGljZX0gZnJvbSAnLi4vc2xpY2UnO1xuaW1wb3J0IHtzdGFja30gZnJvbSAnLi4vc3RhY2snO1xuaW1wb3J0IHtzdWJ9IGZyb20gJy4uL3N1Yic7XG5pbXBvcnQge3RlbnNvcjJkfSBmcm9tICcuLi90ZW5zb3IyZCc7XG5pbXBvcnQge3RyYW5zcG9zZX0gZnJvbSAnLi4vdHJhbnNwb3NlJztcbmltcG9ydCB7dW5zdGFja30gZnJvbSAnLi4vdW5zdGFjayc7XG5pbXBvcnQge3doZXJlfSBmcm9tICcuLi93aGVyZSc7XG5cbi8qKlxuICogQ29tcHV0ZSBRUiBkZWNvbXBvc2l0aW9uIG9mIG0tYnktbiBtYXRyaXggdXNpbmcgSG91c2Vob2xkZXIgdHJhbnNmb3JtYXRpb24uXG4gKlxuICogSW1wbGVtZW50YXRpb24gYmFzZWQgb25cbiAqICAgW2h0dHA6Ly93d3cuY3MuY29ybmVsbC5lZHUvfmJpbmRlbC9jbGFzcy9jczYyMTAtZjA5L2xlYzE4LnBkZl1cbiAqIChodHRwOi8vd3d3LmNzLmNvcm5lbGwuZWR1L35iaW5kZWwvY2xhc3MvY3M2MjEwLWYwOS9sZWMxOC5wZGYpXG4gKlxuICogYGBganNcbiAqIGNvbnN0IGEgPSB0Zi50ZW5zb3IyZChbWzEsIDJdLCBbMywgNF1dKTtcbiAqIGxldCBbcSwgcl0gPSB0Zi5saW5hbGcucXIoYSk7XG4gKiBjb25zb2xlLmxvZygnUScpO1xuICogcS5wcmludCgpO1xuICogY29uc29sZS5sb2coJ1InKTtcbiAqIHIucHJpbnQoKTtcbiAqIGNvbnNvbGUubG9nKCdPcnRob2dvbmFsaXplZCcpO1xuICogcS5kb3QocS50cmFuc3Bvc2UoKSkucHJpbnQoKSAgLy8gc2hvdWxkIGJlIG5lYXJseSB0aGUgaWRlbnRpdHkgbWF0cml4LlxuICogY29uc29sZS5sb2coJ1JlY29uc3RydWN0ZWQnKTtcbiAqIHEuZG90KHIpLnByaW50KCk7IC8vIHNob3VsZCBiZSBuZWFybHkgW1sxLCAyXSwgWzMsIDRdXTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB4IFRoZSBgdGYuVGVuc29yYCB0byBiZSBRUi1kZWNvbXBvc2VkLiBNdXN0IGhhdmUgcmFuayA+PSAyLiBTdXBwb3NlXG4gKiAgIGl0IGhhcyB0aGUgc2hhcGUgYFsuLi4sIE0sIE5dYC5cbiAqIEBwYXJhbSBmdWxsTWF0cmljZXMgQW4gb3B0aW9uYWwgYm9vbGVhbiBwYXJhbWV0ZXIuIERlZmF1bHRzIHRvIGBmYWxzZWAuXG4gKiAgIElmIGB0cnVlYCwgY29tcHV0ZSBmdWxsLXNpemVkIGBRYC4gSWYgYGZhbHNlYCAodGhlIGRlZmF1bHQpLFxuICogICBjb21wdXRlIG9ubHkgdGhlIGxlYWRpbmcgTiBjb2x1bW5zIG9mIGBRYCBhbmQgYFJgLlxuICogQHJldHVybnMgQW4gYEFycmF5YCBvZiB0d28gYHRmLlRlbnNvcmBzOiBgW1EsIFJdYC4gYFFgIGlzIGEgdW5pdGFyeSBtYXRyaXgsXG4gKiAgIGkuZS4sIGl0cyBjb2x1bW5zIGFsbCBoYXZlIHVuaXQgbm9ybSBhbmQgYXJlIG11dHVhbGx5IG9ydGhvZ29uYWwuXG4gKiAgIElmIGBNID49IE5gLFxuICogICAgIElmIGBmdWxsTWF0cmljZXNgIGlzIGBmYWxzZWAgKGRlZmF1bHQpLFxuICogICAgICAgLSBgUWAgaGFzIGEgc2hhcGUgb2YgYFsuLi4sIE0sIE5dYCxcbiAqICAgICAgIC0gYFJgIGhhcyBhIHNoYXBlIG9mIGBbLi4uLCBOLCBOXWAuXG4gKiAgICAgSWYgYGZ1bGxNYXRyaWNlc2AgaXMgYHRydWVgIChkZWZhdWx0KSxcbiAqICAgICAgIC0gYFFgIGhhcyBhIHNoYXBlIG9mIGBbLi4uLCBNLCBNXWAsXG4gKiAgICAgICAtIGBSYCBoYXMgYSBzaGFwZSBvZiBgWy4uLiwgTSwgTl1gLlxuICogICBJZiBgTSA8IE5gLFxuICogICAgIC0gYFFgIGhhcyBhIHNoYXBlIG9mIGBbLi4uLCBNLCBNXWAsXG4gKiAgICAgLSBgUmAgaGFzIGEgc2hhcGUgb2YgYFsuLi4sIE0sIE5dYC5cbiAqIEB0aHJvd3MgSWYgdGhlIHJhbmsgb2YgYHhgIGlzIGxlc3MgdGhhbiAyLlxuICpcbiAqIEBkb2Mge2hlYWRpbmc6J09wZXJhdGlvbnMnLFxuICogICAgICAgc3ViaGVhZGluZzonTGluZWFyIEFsZ2VicmEnLFxuICogICAgICAgbmFtZXNwYWNlOidsaW5hbGcnfVxuICovXG5mdW5jdGlvbiBxcl8oeDogVGVuc29yLCBmdWxsTWF0cmljZXMgPSBmYWxzZSk6IFtUZW5zb3IsIFRlbnNvcl0ge1xuICBhc3NlcnQoXG4gICAgICB4LnJhbmsgPj0gMixcbiAgICAgICgpID0+IGBxcigpIHJlcXVpcmVzIGlucHV0IHRlbnNvciB0byBoYXZlIGEgcmFuayA+PSAyLCBidXQgZ290IHJhbmsgJHtcbiAgICAgICAgICB4LnJhbmt9YCk7XG5cbiAgaWYgKHgucmFuayA9PT0gMikge1xuICAgIHJldHVybiBxcjJkKHggYXMgVGVuc29yMkQsIGZ1bGxNYXRyaWNlcyk7XG4gIH0gZWxzZSB7XG4gICAgLy8gUmFuayA+IDIuXG4gICAgLy8gVE9ETyhjYWlzKTogQmVsb3cgd2Ugc3BsaXQgdGhlIGlucHV0IGludG8gaW5kaXZpZHVhbCAyRCB0ZW5zb3JzLFxuICAgIC8vICAgcGVyZm9ybSBRUiBkZWNvbXBvc2l0aW9uIG9uIHRoZW0gYW5kIHRoZW4gc3RhY2sgdGhlIHJlc3VsdHMgYmFja1xuICAgIC8vICAgdG9nZXRoZXIuIFdlIHNob3VsZCBleHBsb3JlIHdoZXRoZXIgdGhpcyBjYW4gYmUgcGFyYWxsZWxpemVkLlxuICAgIGNvbnN0IG91dGVyRGltc1Byb2QgPSB4LnNoYXBlLnNsaWNlKDAsIHguc2hhcGUubGVuZ3RoIC0gMilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZWR1Y2UoKHZhbHVlLCBwcmV2KSA9PiB2YWx1ZSAqIHByZXYpO1xuICAgIGNvbnN0IHgyZHMgPSB1bnN0YWNrKFxuICAgICAgICByZXNoYXBlKFxuICAgICAgICAgICAgeCxcbiAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgb3V0ZXJEaW1zUHJvZCwgeC5zaGFwZVt4LnNoYXBlLmxlbmd0aCAtIDJdLFxuICAgICAgICAgICAgICB4LnNoYXBlW3guc2hhcGUubGVuZ3RoIC0gMV1cbiAgICAgICAgICAgIF0pLFxuICAgICAgICAwKTtcbiAgICBjb25zdCBxMmRzOiBUZW5zb3IyRFtdID0gW107XG4gICAgY29uc3QgcjJkczogVGVuc29yMkRbXSA9IFtdO1xuICAgIHgyZHMuZm9yRWFjaCh4MmQgPT4ge1xuICAgICAgY29uc3QgW3EyZCwgcjJkXSA9IHFyMmQoeDJkIGFzIFRlbnNvcjJELCBmdWxsTWF0cmljZXMpO1xuICAgICAgcTJkcy5wdXNoKHEyZCk7XG4gICAgICByMmRzLnB1c2gocjJkKTtcbiAgICB9KTtcbiAgICBjb25zdCBxID0gcmVzaGFwZShzdGFjayhxMmRzLCAwKSwgeC5zaGFwZSk7XG4gICAgY29uc3QgciA9IHJlc2hhcGUoc3RhY2socjJkcywgMCksIHguc2hhcGUpO1xuICAgIHJldHVybiBbcSwgcl07XG4gIH1cbn1cblxuZnVuY3Rpb24gcXIyZCh4OiBUZW5zb3IyRCwgZnVsbE1hdHJpY2VzID0gZmFsc2UpOiBbVGVuc29yMkQsIFRlbnNvcjJEXSB7XG4gIHJldHVybiBFTkdJTkUudGlkeSgoKSA9PiB7XG4gICAgYXNzZXJ0KFxuICAgICAgICB4LnNoYXBlLmxlbmd0aCA9PT0gMixcbiAgICAgICAgKCkgPT4gYHFyMmQoKSByZXF1aXJlcyBhIDJEIFRlbnNvciwgYnV0IGdvdCBhICR7XG4gICAgICAgICAgICB4LnNoYXBlLmxlbmd0aH1EIFRlbnNvci5gKTtcblxuICAgIGNvbnN0IG0gPSB4LnNoYXBlWzBdO1xuICAgIGNvbnN0IG4gPSB4LnNoYXBlWzFdO1xuXG4gICAgbGV0IHEgPSBleWUobSk7ICAgIC8vIE9ydGhvZ29uYWwgdHJhbnNmb3JtIHNvIGZhci5cbiAgICBsZXQgciA9IGNsb25lKHgpOyAgLy8gVHJhbnNmb3JtZWQgbWF0cml4IHNvIGZhci5cblxuICAgIGNvbnN0IG9uZTJEID0gdGVuc29yMmQoW1sxXV0sIFsxLCAxXSk7XG4gICAgbGV0IHc6IFRlbnNvcjJEID0gY2xvbmUob25lMkQpO1xuXG4gICAgY29uc3QgaXRlcnMgPSBtID49IG4gPyBuIDogbTtcbiAgICBmb3IgKGxldCBqID0gMDsgaiA8IGl0ZXJzOyArK2opIHtcbiAgICAgIC8vIFRoaXMgdGlkeSB3aXRoaW4gdGhlIGZvci1sb29wIGVuc3VyZXMgd2UgY2xlYW4gdXAgdGVtcG9yYXJ5XG4gICAgICAvLyB0ZW5zb3JzIGFzIHNvb24gYXMgdGhleSBhcmUgbm8gbG9uZ2VyIG5lZWRlZC5cbiAgICAgIGNvbnN0IHJUZW1wID0gcjtcbiAgICAgIGNvbnN0IHdUZW1wID0gdztcbiAgICAgIGNvbnN0IHFUZW1wID0gcTtcbiAgICAgIFt3LCByLCBxXSA9IEVOR0lORS50aWR5KCgpOiBbVGVuc29yMkQsIFRlbnNvcjJELCBUZW5zb3IyRF0gPT4ge1xuICAgICAgICAvLyBGaW5kIEggPSBJIC0gdGF1ICogdyAqIHcnLCB0byBwdXQgemVyb3MgYmVsb3cgUihqLCBqKS5cbiAgICAgICAgY29uc3QgcmpFbmQxID0gc2xpY2UociwgW2osIGpdLCBbbSAtIGosIDFdKTtcbiAgICAgICAgY29uc3Qgbm9ybVggPSBub3JtKHJqRW5kMSk7XG4gICAgICAgIGNvbnN0IHJqaiA9IHNsaWNlKHIsIFtqLCBqXSwgWzEsIDFdKTtcblxuICAgICAgICAvLyBUaGUgc2lnbigpIGZ1bmN0aW9uIHJldHVybnMgMCBvbiAwLCB3aGljaCBjYXVzZXMgZGl2aXNpb24gYnkgemVyby5cbiAgICAgICAgY29uc3QgcyA9IHdoZXJlKGdyZWF0ZXIocmpqLCAwKSwgdGVuc29yMmQoW1stMV1dKSwgdGVuc29yMmQoW1sxXV0pKTtcblxuICAgICAgICBjb25zdCB1MSA9IHN1YihyamosIG11bChzLCBub3JtWCkpO1xuICAgICAgICBjb25zdCB3UHJlID0gZGl2KHJqRW5kMSwgdTEpO1xuICAgICAgICBpZiAod1ByZS5zaGFwZVswXSA9PT0gMSkge1xuICAgICAgICAgIHcgPSBjbG9uZShvbmUyRCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdyA9IGNvbmNhdChcbiAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgIG9uZTJELFxuICAgICAgICAgICAgICAgIHNsaWNlKHdQcmUsIFsxLCAwXSwgW3dQcmUuc2hhcGVbMF0gLSAxLCB3UHJlLnNoYXBlWzFdXSkgYXNcbiAgICAgICAgICAgICAgICAgICAgVGVuc29yMkRcbiAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgMCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdGF1ID0gbmVnKGRpdihtYXRNdWwocywgdTEpLCBub3JtWCkpIGFzIFRlbnNvcjJEO1xuXG4gICAgICAgIC8vIC0tIFIgOj0gSFIsIFEgOj0gUUguXG4gICAgICAgIGNvbnN0IHJqRW5kQWxsID0gc2xpY2UociwgW2osIDBdLCBbbSAtIGosIG5dKTtcbiAgICAgICAgY29uc3QgdGF1VGltZXNXOiBUZW5zb3IyRCA9IG11bCh0YXUsIHcpO1xuICAgICAgICBjb25zdCB3VDogVGVuc29yMkQgPSB0cmFuc3Bvc2Uodyk7XG4gICAgICAgIGlmIChqID09PSAwKSB7XG4gICAgICAgICAgciA9IHN1YihyakVuZEFsbCwgbWF0TXVsKHRhdVRpbWVzVywgbWF0TXVsKHdULCByakVuZEFsbCkpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zdCByVGltZXNUYXU6IFRlbnNvcjJEID1cbiAgICAgICAgICAgICAgc3ViKHJqRW5kQWxsLCBtYXRNdWwodGF1VGltZXNXLCBtYXRNdWwod1QsIHJqRW5kQWxsKSkpO1xuICAgICAgICAgIHIgPSBjb25jYXQoW3NsaWNlKHIsIFswLCAwXSwgW2osIG5dKSwgclRpbWVzVGF1XSwgMCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdGF3VGltZXNXVDogVGVuc29yMkQgPSB0cmFuc3Bvc2UodGF1VGltZXNXKTtcbiAgICAgICAgY29uc3QgcUFsbEpFbmQgPSBzbGljZShxLCBbMCwgal0sIFttLCBxLnNoYXBlWzFdIC0gal0pO1xuICAgICAgICBpZiAoaiA9PT0gMCkge1xuICAgICAgICAgIHEgPSBzdWIocUFsbEpFbmQsIG1hdE11bChtYXRNdWwocUFsbEpFbmQsIHcpLCB0YXdUaW1lc1dUKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc3QgcVRpbWVzVGF1OiBUZW5zb3IyRCA9XG4gICAgICAgICAgICAgIHN1YihxQWxsSkVuZCwgbWF0TXVsKG1hdE11bChxQWxsSkVuZCwgdyksIHRhd1RpbWVzV1QpKTtcbiAgICAgICAgICBxID0gY29uY2F0KFtzbGljZShxLCBbMCwgMF0sIFttLCBqXSksIHFUaW1lc1RhdV0sIDEpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBbdywgciwgcV07XG4gICAgICB9KTtcbiAgICAgIGRpc3Bvc2UoW3JUZW1wLCB3VGVtcCwgcVRlbXBdKTtcbiAgICB9XG5cbiAgICBpZiAoIWZ1bGxNYXRyaWNlcyAmJiBtID4gbikge1xuICAgICAgcSA9IHNsaWNlKHEsIFswLCAwXSwgW20sIG5dKTtcbiAgICAgIHIgPSBzbGljZShyLCBbMCwgMF0sIFtuLCBuXSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIFtxLCByXTtcbiAgfSkgYXMgW1RlbnNvcjJELCBUZW5zb3IyRF07XG59XG5cbmV4cG9ydCBjb25zdCBxciA9IG9wKHtxcl99KTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuZXhwb3J0IGVudW0gUmVkdWN0aW9uIHtcbiAgTk9ORSxcbiAgTUVBTixcbiAgU1VNLFxuICBTVU1fQllfTk9OWkVST19XRUlHSFRTXG59XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5pbXBvcnQge1RlbnNvcn0gZnJvbSAnLi4vLi4vdGVuc29yJztcbmltcG9ydCB7Y29udmVydFRvVGVuc29yfSBmcm9tICcuLi8uLi90ZW5zb3JfdXRpbF9lbnYnO1xuaW1wb3J0IHtUZW5zb3JMaWtlfSBmcm9tICcuLi8uLi90eXBlcyc7XG5cbmltcG9ydCB7Y2FzdH0gZnJvbSAnLi4vY2FzdCc7XG5pbXBvcnQge2Rpdn0gZnJvbSAnLi4vZGl2JztcbmltcG9ydCB7UmVkdWN0aW9ufSBmcm9tICcuLi9sb3NzX29wc191dGlscyc7XG5pbXBvcnQge21lYW59IGZyb20gJy4uL21lYW4nO1xuaW1wb3J0IHttdWx9IGZyb20gJy4uL211bCc7XG5pbXBvcnQge25vdEVxdWFsfSBmcm9tICcuLi9ub3RfZXF1YWwnO1xuaW1wb3J0IHtvbmVzfSBmcm9tICcuLi9vbmVzJztcbmltcG9ydCB7b3B9IGZyb20gJy4uL29wZXJhdGlvbic7XG5pbXBvcnQge3NjYWxhcn0gZnJvbSAnLi4vc2NhbGFyJztcbmltcG9ydCB7c3VtfSBmcm9tICcuLi9zdW0nO1xuXG4vKipcbiAqIENvbXB1dGVzIHRoZSB3ZWlnaHRlZCBsb3NzIGJldHdlZW4gdHdvIHRlbnNvcnMuXG4gKlxuICogQHBhcmFtIGxvc3NlcyBUZW5zb3Igb2Ygc2hhcGUgYFtiYXRjaF9zaXplLCBkMSwgLi4uIGROXWAuXG4gKiBAcGFyYW0gd2VpZ2h0cyBUZW5zb3Igd2hvc2UgcmFuayBpcyBlaXRoZXIgMCwgb3IgdGhlIHNhbWUgcmFuayBhc1xuICogICAgYGxvc3Nlc2AsIGFuZCBtdXN0IGJlIGJyb2FkY2FzdGFibGUgdG8gYGxvc3Nlc2AgKGkuZS4sIGFsbFxuICogICAgZGltZW5zaW9ucyBtdXN0IGJlIGVpdGhlciBgMWAsIG9yIHRoZSBzYW1lIGFzIHRoZSBjb3JyZXNwb25kaW5nXG4gKiAgICBgbG9zc2VzYCBkaW1lbnNpb24pLlxuICpcbiAqIEBkb2Mge2hlYWRpbmc6ICdUcmFpbmluZycsIHN1YmhlYWRpbmc6ICdMb3NzZXMnLCBuYW1lc3BhY2U6ICdsb3NzZXMnfVxuICovXG5mdW5jdGlvbiBjb21wdXRlV2VpZ2h0ZWRMb3NzXzxUIGV4dGVuZHMgVGVuc29yLCBPIGV4dGVuZHMgVGVuc29yPihcbiAgICBsb3NzZXM6IFR8VGVuc29yTGlrZSwgd2VpZ2h0cz86IFRlbnNvcnxUZW5zb3JMaWtlLFxuICAgIHJlZHVjdGlvbiA9IFJlZHVjdGlvbi5TVU1fQllfTk9OWkVST19XRUlHSFRTKTogTyB7XG4gIGNvbnN0ICRsb3NzZXMgPSBjb252ZXJ0VG9UZW5zb3IobG9zc2VzLCAnbG9zc2VzJywgJ2NvbXB1dGVXZWlnaHRlZExvc3MnKTtcbiAgbGV0ICR3ZWlnaHRzOiBUZW5zb3IgPSBudWxsO1xuICBpZiAod2VpZ2h0cyAhPSBudWxsKSB7XG4gICAgJHdlaWdodHMgPSBjb252ZXJ0VG9UZW5zb3Iod2VpZ2h0cywgJ3dlaWdodHMnLCAnY29tcHV0ZVdlaWdodGVkTG9zcycpO1xuICB9XG5cbiAgY29uc3Qgd2VpZ2h0ZWRMb3NzID0gKCR3ZWlnaHRzID09IG51bGwpID8gJGxvc3NlcyA6IG11bCgkbG9zc2VzLCAkd2VpZ2h0cyk7XG5cbiAgaWYgKHJlZHVjdGlvbiA9PT0gUmVkdWN0aW9uLk5PTkUpIHtcbiAgICByZXR1cm4gd2VpZ2h0ZWRMb3NzIGFzIE87XG4gIH1cbiAgaWYgKHJlZHVjdGlvbiA9PT0gUmVkdWN0aW9uLlNVTSkge1xuICAgIHJldHVybiBzdW0od2VpZ2h0ZWRMb3NzKTtcbiAgfVxuICBpZiAocmVkdWN0aW9uID09PSBSZWR1Y3Rpb24uTUVBTikge1xuICAgIGlmICgkd2VpZ2h0cyA9PSBudWxsKSB7XG4gICAgICByZXR1cm4gbWVhbih3ZWlnaHRlZExvc3MpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBicm9hZGNhc3RGYWN0b3IgPSAkbG9zc2VzLnNpemUgLyAkd2VpZ2h0cy5zaXplO1xuICAgICAgY29uc3QgcmVzdWx0ID0gZGl2KHN1bSh3ZWlnaHRlZExvc3MpLCBzdW0oJHdlaWdodHMpKTtcbiAgICAgIHJldHVybiBicm9hZGNhc3RGYWN0b3IgPiAxID8gZGl2KHJlc3VsdCwgc2NhbGFyKGJyb2FkY2FzdEZhY3RvcikpIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0IGFzIE87XG4gICAgfVxuICB9XG4gIGlmIChyZWR1Y3Rpb24gPT09IFJlZHVjdGlvbi5TVU1fQllfTk9OWkVST19XRUlHSFRTKSB7XG4gICAgaWYgKCR3ZWlnaHRzID09IG51bGwpIHtcbiAgICAgIHJldHVybiBkaXYoc3VtKHdlaWdodGVkTG9zcyksIHNjYWxhcigkbG9zc2VzLnNpemUpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgYnJvYWRjYXN0ZWRXZWlnaHRzID0gbXVsKCR3ZWlnaHRzLCBvbmVzKCRsb3NzZXMuc2hhcGUpKTtcblxuICAgICAgY29uc3QgbnVtTm9uWmVyb3MgPVxuICAgICAgICAgIGNhc3Qoc3VtKG5vdEVxdWFsKGJyb2FkY2FzdGVkV2VpZ2h0cywgc2NhbGFyKDApKSksICdmbG9hdDMyJyk7XG4gICAgICByZXR1cm4gZGl2KHN1bSh3ZWlnaHRlZExvc3MpLCBudW1Ob25aZXJvcyk7XG4gICAgfVxuICB9XG5cbiAgdGhyb3cgRXJyb3IoYFVua25vd24gcmVkdWN0aW9uOiAke3JlZHVjdGlvbn1gKTtcbn1cbmV4cG9ydCBjb25zdCBjb21wdXRlV2VpZ2h0ZWRMb3NzID0gb3Aoe2NvbXB1dGVXZWlnaHRlZExvc3NffSk7XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbmltcG9ydCB7VGVuc29yfSBmcm9tICcuLi8uLi90ZW5zb3InO1xuaW1wb3J0IHtjb252ZXJ0VG9UZW5zb3J9IGZyb20gJy4uLy4uL3RlbnNvcl91dGlsX2Vudic7XG5pbXBvcnQge1RlbnNvckxpa2V9IGZyb20gJy4uLy4uL3R5cGVzJztcbmltcG9ydCB7YXNzZXJ0U2hhcGVzTWF0Y2h9IGZyb20gJy4uLy4uL3V0aWwnO1xuaW1wb3J0IHthYnN9IGZyb20gJy4uL2Ficyc7XG5pbXBvcnQge1JlZHVjdGlvbn0gZnJvbSAnLi4vbG9zc19vcHNfdXRpbHMnO1xuaW1wb3J0IHtvcH0gZnJvbSAnLi4vb3BlcmF0aW9uJztcbmltcG9ydCB7c3VifSBmcm9tICcuLi9zdWInO1xuXG5pbXBvcnQge2NvbXB1dGVXZWlnaHRlZExvc3N9IGZyb20gJy4vY29tcHV0ZV93ZWlnaHRlZF9sb3NzJztcblxuLyoqXG4gKiBDb21wdXRlcyB0aGUgYWJzb2x1dGUgZGlmZmVyZW5jZSBsb3NzIGJldHdlZW4gdHdvIHRlbnNvcnMuXG4gKlxuICogQHBhcmFtIGxhYmVscyBUaGUgZ3JvdW5kIHRydXRoIG91dHB1dCB0ZW5zb3IsIHNhbWUgZGltZW5zaW9ucyBhc1xuICogICAgJ3ByZWRpY3Rpb25zJy5cbiAqIEBwYXJhbSBwcmVkaWN0aW9ucyBUaGUgcHJlZGljdGVkIG91dHB1dHMuXG4gKiBAcGFyYW0gd2VpZ2h0cyBUZW5zb3Igd2hvc2UgcmFuayBpcyBlaXRoZXIgMCwgb3IgdGhlIHNhbWUgcmFuayBhc1xuICogICAgYGxhYmVsc2AsIGFuZCBtdXN0IGJlIGJyb2FkY2FzdGFibGUgdG8gYGxhYmVsc2AgKGkuZS4sIGFsbCBkaW1lbnNpb25zXG4gKiAgICBtdXN0IGJlIGVpdGhlciBgMWAsIG9yIHRoZSBzYW1lIGFzIHRoZSBjb3JyZXNwb25kaW5nIGBsb3NzZXNgXG4gKiAgICBkaW1lbnNpb24pLlxuICogQHBhcmFtIHJlZHVjdGlvbiBUeXBlIG9mIHJlZHVjdGlvbiB0byBhcHBseSB0byBsb3NzLiBTaG91bGQgYmUgb2YgdHlwZVxuICogICAgYFJlZHVjdGlvbmBcbiAqXG4gKiBAZG9jIHtoZWFkaW5nOiAnVHJhaW5pbmcnLCBzdWJoZWFkaW5nOiAnTG9zc2VzJywgbmFtZXNwYWNlOiAnbG9zc2VzJ31cbiAqL1xuZnVuY3Rpb24gYWJzb2x1dGVEaWZmZXJlbmNlXzxUIGV4dGVuZHMgVGVuc29yLCBPIGV4dGVuZHMgVGVuc29yPihcbiAgICBsYWJlbHM6IFR8VGVuc29yTGlrZSwgcHJlZGljdGlvbnM6IFR8VGVuc29yTGlrZSxcbiAgICB3ZWlnaHRzPzogVGVuc29yfFRlbnNvckxpa2UsXG4gICAgcmVkdWN0aW9uID0gUmVkdWN0aW9uLlNVTV9CWV9OT05aRVJPX1dFSUdIVFMpOiBPIHtcbiAgY29uc3QgJGxhYmVscyA9IGNvbnZlcnRUb1RlbnNvcihsYWJlbHMsICdsYWJlbHMnLCAnYWJzb2x1dGVEaWZmZXJlbmNlJyk7XG4gIGNvbnN0ICRwcmVkaWN0aW9ucyA9XG4gICAgICBjb252ZXJ0VG9UZW5zb3IocHJlZGljdGlvbnMsICdwcmVkaWN0aW9ucycsICdhYnNvbHV0ZURpZmZlcmVuY2UnKTtcbiAgbGV0ICR3ZWlnaHRzOiBUZW5zb3IgPSBudWxsO1xuICBpZiAod2VpZ2h0cyAhPSBudWxsKSB7XG4gICAgJHdlaWdodHMgPSBjb252ZXJ0VG9UZW5zb3Iod2VpZ2h0cywgJ3dlaWdodHMnLCAnYWJzb2x1dGVEaWZmZXJlbmNlJyk7XG4gIH1cbiAgYXNzZXJ0U2hhcGVzTWF0Y2goXG4gICAgICAkbGFiZWxzLnNoYXBlLCAkcHJlZGljdGlvbnMuc2hhcGUsICdFcnJvciBpbiBhYnNvbHV0ZURpZmZlcmVuY2U6ICcpO1xuXG4gIGNvbnN0IGxvc3NlcyA9IGFicyhzdWIoJGxhYmVscywgJHByZWRpY3Rpb25zKSk7XG4gIHJldHVybiBjb21wdXRlV2VpZ2h0ZWRMb3NzKGxvc3NlcywgJHdlaWdodHMsIHJlZHVjdGlvbik7XG59XG5cbmV4cG9ydCBjb25zdCBhYnNvbHV0ZURpZmZlcmVuY2UgPSBvcCh7YWJzb2x1dGVEaWZmZXJlbmNlX30pO1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuaW1wb3J0IHtUZW5zb3J9IGZyb20gJy4uLy4uL3RlbnNvcic7XG5pbXBvcnQge2NvbnZlcnRUb1RlbnNvcn0gZnJvbSAnLi4vLi4vdGVuc29yX3V0aWxfZW52JztcbmltcG9ydCB7VGVuc29yTGlrZX0gZnJvbSAnLi4vLi4vdHlwZXMnO1xuaW1wb3J0IHthc3NlcnRTaGFwZXNNYXRjaH0gZnJvbSAnLi4vLi4vdXRpbCc7XG5pbXBvcnQge1JlZHVjdGlvbn0gZnJvbSAnLi4vbG9zc19vcHNfdXRpbHMnO1xuaW1wb3J0IHttdWx9IGZyb20gJy4uL211bCc7XG5pbXBvcnQge29wfSBmcm9tICcuLi9vcGVyYXRpb24nO1xuaW1wb3J0IHtzY2FsYXJ9IGZyb20gJy4uL3NjYWxhcic7XG5pbXBvcnQge3N1Yn0gZnJvbSAnLi4vc3ViJztcbmltcG9ydCB7c3VtfSBmcm9tICcuLi9zdW0nO1xuXG5pbXBvcnQge2NvbXB1dGVXZWlnaHRlZExvc3N9IGZyb20gJy4vY29tcHV0ZV93ZWlnaHRlZF9sb3NzJztcblxuLyoqXG4gKiBDb21wdXRlcyB0aGUgY29zaW5lIGRpc3RhbmNlIGxvc3MgYmV0d2VlbiB0d28gdGVuc29ycy5cbiAqXG4gKiBAcGFyYW0gbGFiZWxzIFRoZSBncm91bmQgdHJ1dGggb3V0cHV0IHRlbnNvciwgc2FtZSBkaW1lbnNpb25zIGFzXG4gKiAgICAncHJlZGljdGlvbnMnLlxuICogQHBhcmFtIHByZWRpY3Rpb25zIFRoZSBwcmVkaWN0ZWQgb3V0cHV0cy5cbiAqIEBwYXJhbSBheGlzIFRoZSBkaW1lbnNpb24gYWxvbmcgd2hpY2ggdGhlIGNvc2luZSBkaXN0YW5jZSBpcyBjb21wdXRlZC5cbiAqIEBwYXJhbSB3ZWlnaHRzIFRlbnNvciB3aG9zZSByYW5rIGlzIGVpdGhlciAwLCBvciB0aGUgc2FtZSByYW5rIGFzXG4gKiAgICBgbGFiZWxzYCwgYW5kIG11c3QgYmUgYnJvYWRjYXN0YWJsZSB0byBgbGFiZWxzYCAoaS5lLiwgYWxsIGRpbWVuc2lvbnNcbiAqICAgIG11c3QgYmUgZWl0aGVyIGAxYCwgb3IgdGhlIHNhbWUgYXMgdGhlIGNvcnJlc3BvbmRpbmcgYGxvc3Nlc2BcbiAqICAgIGRpbWVuc2lvbikuXG4gKiBAcGFyYW0gcmVkdWN0aW9uIFR5cGUgb2YgcmVkdWN0aW9uIHRvIGFwcGx5IHRvIGxvc3MuIFNob3VsZCBiZSBvZiB0eXBlXG4gKiAgICBgUmVkdWN0aW9uYFxuICpcbiAqIEBkb2Mge2hlYWRpbmc6ICdUcmFpbmluZycsIHN1YmhlYWRpbmc6ICdMb3NzZXMnLCBuYW1lc3BhY2U6ICdsb3NzZXMnfVxuICovXG5mdW5jdGlvbiBjb3NpbmVEaXN0YW5jZV88VCBleHRlbmRzIFRlbnNvciwgTyBleHRlbmRzIFRlbnNvcj4oXG4gICAgbGFiZWxzOiBUfFRlbnNvckxpa2UsIHByZWRpY3Rpb25zOiBUfFRlbnNvckxpa2UsIGF4aXM6IG51bWJlcixcbiAgICB3ZWlnaHRzPzogVGVuc29yfFRlbnNvckxpa2UsXG4gICAgcmVkdWN0aW9uID0gUmVkdWN0aW9uLlNVTV9CWV9OT05aRVJPX1dFSUdIVFMpOiBPIHtcbiAgY29uc3QgJGxhYmVscyA9IGNvbnZlcnRUb1RlbnNvcihsYWJlbHMsICdsYWJlbHMnLCAnY29zaW5lRGlzdGFuY2UnKTtcbiAgY29uc3QgJHByZWRpY3Rpb25zID1cbiAgICAgIGNvbnZlcnRUb1RlbnNvcihwcmVkaWN0aW9ucywgJ3ByZWRpY3Rpb25zJywgJ2Nvc2luZURpc3RhbmNlJyk7XG4gIGxldCAkd2VpZ2h0czogVGVuc29yID0gbnVsbDtcbiAgaWYgKHdlaWdodHMgIT0gbnVsbCkge1xuICAgICR3ZWlnaHRzID0gY29udmVydFRvVGVuc29yKHdlaWdodHMsICd3ZWlnaHRzJywgJ2Nvc2luZURpc3RhbmNlJyk7XG4gIH1cbiAgYXNzZXJ0U2hhcGVzTWF0Y2goXG4gICAgICAkbGFiZWxzLnNoYXBlLCAkcHJlZGljdGlvbnMuc2hhcGUsICdFcnJvciBpbiBjb3NpbmVEaXN0YW5jZTogJyk7XG5cbiAgY29uc3Qgb25lID0gc2NhbGFyKDEpO1xuICBjb25zdCBsb3NzZXMgPSBzdWIob25lLCBzdW0obXVsKCRsYWJlbHMsICRwcmVkaWN0aW9ucyksIGF4aXMsIHRydWUpKTtcbiAgcmV0dXJuIGNvbXB1dGVXZWlnaHRlZExvc3MobG9zc2VzLCAkd2VpZ2h0cywgcmVkdWN0aW9uKTtcbn1cbmV4cG9ydCBjb25zdCBjb3NpbmVEaXN0YW5jZSA9IG9wKHtjb3NpbmVEaXN0YW5jZV99KTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cbmltcG9ydCB7VGVuc29yfSBmcm9tICcuLi8uLi90ZW5zb3InO1xuaW1wb3J0IHtjb252ZXJ0VG9UZW5zb3J9IGZyb20gJy4uLy4uL3RlbnNvcl91dGlsX2Vudic7XG5pbXBvcnQge1RlbnNvckxpa2V9IGZyb20gJy4uLy4uL3R5cGVzJztcbmltcG9ydCB7YXNzZXJ0U2hhcGVzTWF0Y2h9IGZyb20gJy4uLy4uL3V0aWwnO1xuaW1wb3J0IHtSZWR1Y3Rpb259IGZyb20gJy4uL2xvc3Nfb3BzX3V0aWxzJztcbmltcG9ydCB7bXVsfSBmcm9tICcuLi9tdWwnO1xuaW1wb3J0IHtvcH0gZnJvbSAnLi4vb3BlcmF0aW9uJztcbmltcG9ydCB7cmVsdX0gZnJvbSAnLi4vcmVsdSc7XG5pbXBvcnQge3NjYWxhcn0gZnJvbSAnLi4vc2NhbGFyJztcbmltcG9ydCB7c3VifSBmcm9tICcuLi9zdWInO1xuXG5pbXBvcnQge2NvbXB1dGVXZWlnaHRlZExvc3N9IGZyb20gJy4vY29tcHV0ZV93ZWlnaHRlZF9sb3NzJztcblxuLyoqXG4gKiBDb21wdXRlcyB0aGUgSGluZ2UgbG9zcyBiZXR3ZWVuIHR3byB0ZW5zb3JzLlxuICpcbiAqIEBwYXJhbSBsYWJlbHMgVGhlIGdyb3VuZCB0cnV0aCBvdXRwdXQgdGVuc29yLCBzYW1lIGRpbWVuc2lvbnMgYXNcbiAqICAgICdwcmVkaWN0aW9ucycuXG4gKiBAcGFyYW0gcHJlZGljdGlvbnMgVGhlIHByZWRpY3RlZCBvdXRwdXRzLlxuICogQHBhcmFtIHdlaWdodHMgVGVuc29yIHdob3NlIHJhbmsgaXMgZWl0aGVyIDAsIG9yIHRoZSBzYW1lIHJhbmsgYXNcbiAqICAgIGBsYWJlbHNgLCBhbmQgbXVzdCBiZSBicm9hZGNhc3RhYmxlIHRvIGBsYWJlbHNgIChpLmUuLCBhbGwgZGltZW5zaW9uc1xuICogICAgbXVzdCBiZSBlaXRoZXIgYDFgLCBvciB0aGUgc2FtZSBhcyB0aGUgY29ycmVzcG9uZGluZyBgbG9zc2VzYFxuICogICAgZGltZW5zaW9uKS5cbiAqIEBwYXJhbSByZWR1Y3Rpb24gVHlwZSBvZiByZWR1Y3Rpb24gdG8gYXBwbHkgdG8gbG9zcy4gU2hvdWxkIGJlIG9mIHR5cGVcbiAqICAgIGBSZWR1Y3Rpb25gXG4gKlxuICogQGRvYyB7aGVhZGluZzogJ1RyYWluaW5nJywgc3ViaGVhZGluZzogJ0xvc3NlcycsIG5hbWVzcGFjZTogJ2xvc3Nlcyd9XG4gKi9cbmZ1bmN0aW9uIGhpbmdlTG9zc188VCBleHRlbmRzIFRlbnNvciwgTyBleHRlbmRzIFRlbnNvcj4oXG4gICAgbGFiZWxzOiBUfFRlbnNvckxpa2UsIHByZWRpY3Rpb25zOiBUfFRlbnNvckxpa2UsXG4gICAgd2VpZ2h0cz86IFRlbnNvcnxUZW5zb3JMaWtlLFxuICAgIHJlZHVjdGlvbiA9IFJlZHVjdGlvbi5TVU1fQllfTk9OWkVST19XRUlHSFRTKTogTyB7XG4gIGxldCAkbGFiZWxzID0gY29udmVydFRvVGVuc29yKGxhYmVscywgJ2xhYmVscycsICdoaW5nZUxvc3MnKTtcbiAgY29uc3QgJHByZWRpY3Rpb25zID0gY29udmVydFRvVGVuc29yKHByZWRpY3Rpb25zLCAncHJlZGljdGlvbnMnLCAnaGluZ2VMb3NzJyk7XG4gIGxldCAkd2VpZ2h0czogVGVuc29yID0gbnVsbDtcbiAgaWYgKHdlaWdodHMgIT0gbnVsbCkge1xuICAgICR3ZWlnaHRzID0gY29udmVydFRvVGVuc29yKHdlaWdodHMsICd3ZWlnaHRzJywgJ2hpbmdlTG9zcycpO1xuICB9XG4gIGFzc2VydFNoYXBlc01hdGNoKCRsYWJlbHMuc2hhcGUsICRwcmVkaWN0aW9ucy5zaGFwZSwgJ0Vycm9yIGluIGhpbmdlTG9zczogJyk7XG5cbiAgY29uc3Qgb25lID0gc2NhbGFyKDEpO1xuICAvLyBDb252ZXJ0IGJpbmFyeSBsYWJlbHMgdG8gKC0xLCAxKVxuICAkbGFiZWxzID0gc3ViKG11bChzY2FsYXIoMiksICRsYWJlbHMpLCBvbmUpO1xuICBjb25zdCBsb3NzZXMgPSByZWx1KHN1YihvbmUsIG11bCgkbGFiZWxzLCAkcHJlZGljdGlvbnMpKSk7XG4gIHJldHVybiBjb21wdXRlV2VpZ2h0ZWRMb3NzKGxvc3NlcywgJHdlaWdodHMsIHJlZHVjdGlvbik7XG59XG5leHBvcnQgY29uc3QgaGluZ2VMb3NzID0gb3Aoe2hpbmdlTG9zc199KTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuaW1wb3J0IHtUZW5zb3J9IGZyb20gJy4uLy4uL3RlbnNvcic7XG5pbXBvcnQge2NvbnZlcnRUb1RlbnNvcn0gZnJvbSAnLi4vLi4vdGVuc29yX3V0aWxfZW52JztcbmltcG9ydCB7VGVuc29yTGlrZX0gZnJvbSAnLi4vLi4vdHlwZXMnO1xuaW1wb3J0IHthc3NlcnRTaGFwZXNNYXRjaH0gZnJvbSAnLi4vLi4vdXRpbCc7XG5pbXBvcnQge2Fic30gZnJvbSAnLi4vYWJzJztcbmltcG9ydCB7YWRkfSBmcm9tICcuLi9hZGQnO1xuaW1wb3J0IHtSZWR1Y3Rpb259IGZyb20gJy4uL2xvc3Nfb3BzX3V0aWxzJztcbmltcG9ydCB7bWluaW11bX0gZnJvbSAnLi4vbWluaW11bSc7XG5pbXBvcnQge211bH0gZnJvbSAnLi4vbXVsJztcbmltcG9ydCB7b3B9IGZyb20gJy4uL29wZXJhdGlvbic7XG5pbXBvcnQge3NjYWxhcn0gZnJvbSAnLi4vc2NhbGFyJztcbmltcG9ydCB7c3F1YXJlfSBmcm9tICcuLi9zcXVhcmUnO1xuaW1wb3J0IHtzdWJ9IGZyb20gJy4uL3N1Yic7XG5cbmltcG9ydCB7Y29tcHV0ZVdlaWdodGVkTG9zc30gZnJvbSAnLi9jb21wdXRlX3dlaWdodGVkX2xvc3MnO1xuXG4vKipcbiAqIENvbXB1dGVzIHRoZSBodWJlciBsb3NzIGJldHdlZW4gdHdvIHRlbnNvcnMuXG4gKlxuICogQHBhcmFtIGxhYmVscyBUaGUgZ3JvdW5kIHRydXRoIG91dHB1dCB0ZW5zb3IsIHNhbWUgZGltZW5zaW9ucyBhc1xuICogICAgJ3ByZWRpY3Rpb25zJy5cbiAqIEBwYXJhbSBwcmVkaWN0aW9ucyBUaGUgcHJlZGljdGVkIG91dHB1dHMuXG4gKiBAcGFyYW0gd2VpZ2h0cyBUZW5zb3Igd2hvc2UgcmFuayBpcyBlaXRoZXIgMCwgb3IgdGhlIHNhbWUgcmFuayBhc1xuICogICAgYGxhYmVsc2AsIGFuZCBtdXN0IGJlIGJyb2FkY2FzdGFibGUgdG8gYGxhYmVsc2AgKGkuZS4sIGFsbCBkaW1lbnNpb25zXG4gKiAgICBtdXN0IGJlIGVpdGhlciBgMWAsIG9yIHRoZSBzYW1lIGFzIHRoZSBjb3JyZXNwb25kaW5nIGBsb3NzZXNgXG4gKiAgICBkaW1lbnNpb24pLlxuICogQHBhcmFtIGRlbHRhIFBvaW50IHdoZXJlIGh1YmVyIGxvc3MgY2hhbmdlcyBmcm9tIHF1YWRyYXRpYyB0byBsaW5lYXIuXG4gKiBAcGFyYW0gcmVkdWN0aW9uIFR5cGUgb2YgcmVkdWN0aW9uIHRvIGFwcGx5IHRvIGxvc3MuIFNob3VsZCBiZSBvZiB0eXBlXG4gKiAgICBgUmVkdWN0aW9uYC5cbiAqXG4gKiBAZG9jIHtoZWFkaW5nOiAnVHJhaW5pbmcnLCBzdWJoZWFkaW5nOiAnTG9zc2VzJywgbmFtZXNwYWNlOiAnbG9zc2VzJ31cbiAqL1xuZnVuY3Rpb24gaHViZXJMb3NzXzxUIGV4dGVuZHMgVGVuc29yLCBPIGV4dGVuZHMgVGVuc29yPihcbiAgICBsYWJlbHM6IFR8VGVuc29yTGlrZSwgcHJlZGljdGlvbnM6IFR8VGVuc29yTGlrZSxcbiAgICB3ZWlnaHRzPzogVGVuc29yfFRlbnNvckxpa2UsIGRlbHRhID0gMS4wLFxuICAgIHJlZHVjdGlvbiA9IFJlZHVjdGlvbi5TVU1fQllfTk9OWkVST19XRUlHSFRTKTogTyB7XG4gIGNvbnN0ICRsYWJlbHMgPSBjb252ZXJ0VG9UZW5zb3IobGFiZWxzLCAnbGFiZWxzJywgJ2h1YmVyTG9zcycpO1xuICBjb25zdCAkcHJlZGljdGlvbnMgPSBjb252ZXJ0VG9UZW5zb3IocHJlZGljdGlvbnMsICdwcmVkaWN0aW9ucycsICdodWJlckxvc3MnKTtcbiAgbGV0ICR3ZWlnaHRzOiBUZW5zb3IgPSBudWxsO1xuICBpZiAod2VpZ2h0cyAhPSBudWxsKSB7XG4gICAgJHdlaWdodHMgPSBjb252ZXJ0VG9UZW5zb3Iod2VpZ2h0cywgJ3dlaWdodHMnLCAnaHViZXJMb3NzJyk7XG4gIH1cbiAgYXNzZXJ0U2hhcGVzTWF0Y2goJGxhYmVscy5zaGFwZSwgJHByZWRpY3Rpb25zLnNoYXBlLCAnRXJyb3IgaW4gaHViZXJMb3NzOiAnKTtcblxuICBjb25zdCBkZWx0YVNjYWxhciA9IHNjYWxhcihkZWx0YSk7XG4gIGNvbnN0IGVycm9yID0gYWJzKHN1YigkcHJlZGljdGlvbnMsICRsYWJlbHMpKTtcbiAgY29uc3QgcXVhZHJhdGljID0gbWluaW11bShlcnJvciwgZGVsdGFTY2FsYXIpO1xuICBjb25zdCBsaW5lYXIgPSBzdWIoZXJyb3IsIHF1YWRyYXRpYyk7XG5cbiAgY29uc3QgbG9zc2VzID1cbiAgICAgIGFkZChtdWwoc2NhbGFyKDAuNSksIHNxdWFyZShxdWFkcmF0aWMpKSwgbXVsKGRlbHRhU2NhbGFyLCBsaW5lYXIpKTtcbiAgcmV0dXJuIGNvbXB1dGVXZWlnaHRlZExvc3MobG9zc2VzLCAkd2VpZ2h0cywgcmVkdWN0aW9uKTtcbn1cbmV4cG9ydCBjb25zdCBodWJlckxvc3MgPSBvcCh7aHViZXJMb3NzX30pO1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG5pbXBvcnQge1RlbnNvcn0gZnJvbSAnLi4vLi4vdGVuc29yJztcbmltcG9ydCB7Y29udmVydFRvVGVuc29yfSBmcm9tICcuLi8uLi90ZW5zb3JfdXRpbF9lbnYnO1xuaW1wb3J0IHtUZW5zb3JMaWtlfSBmcm9tICcuLi8uLi90eXBlcyc7XG5pbXBvcnQge2Fzc2VydFNoYXBlc01hdGNofSBmcm9tICcuLi8uLi91dGlsJztcbmltcG9ydCB7YWRkfSBmcm9tICcuLi9hZGQnO1xuaW1wb3J0IHtsb2d9IGZyb20gJy4uL2xvZyc7XG5pbXBvcnQge1JlZHVjdGlvbn0gZnJvbSAnLi4vbG9zc19vcHNfdXRpbHMnO1xuaW1wb3J0IHttdWx9IGZyb20gJy4uL211bCc7XG5pbXBvcnQge25lZ30gZnJvbSAnLi4vbmVnJztcbmltcG9ydCB7b3B9IGZyb20gJy4uL29wZXJhdGlvbic7XG5pbXBvcnQge3NjYWxhcn0gZnJvbSAnLi4vc2NhbGFyJztcbmltcG9ydCB7c3VifSBmcm9tICcuLi9zdWInO1xuXG5pbXBvcnQge2NvbXB1dGVXZWlnaHRlZExvc3N9IGZyb20gJy4vY29tcHV0ZV93ZWlnaHRlZF9sb3NzJztcblxuLyoqXG4gKiBDb21wdXRlcyB0aGUgbG9nIGxvc3MgYmV0d2VlbiB0d28gdGVuc29ycy5cbiAqXG4gKiBAcGFyYW0gbGFiZWxzIFRoZSBncm91bmQgdHJ1dGggb3V0cHV0IHRlbnNvciwgc2FtZSBkaW1lbnNpb25zIGFzXG4gKiAgICAncHJlZGljdGlvbnMnLlxuICogQHBhcmFtIHByZWRpY3Rpb25zIFRoZSBwcmVkaWN0ZWQgb3V0cHV0cy5cbiAqIEBwYXJhbSB3ZWlnaHRzIFRlbnNvciB3aG9zZSByYW5rIGlzIGVpdGhlciAwLCBvciB0aGUgc2FtZSByYW5rIGFzXG4gKiAgICBgbGFiZWxzYCwgYW5kIG11c3QgYmUgYnJvYWRjYXN0YWJsZSB0byBgbGFiZWxzYCAoaS5lLiwgYWxsIGRpbWVuc2lvbnNcbiAqICAgIG11c3QgYmUgZWl0aGVyIGAxYCwgb3IgdGhlIHNhbWUgYXMgdGhlIGNvcnJlc3BvbmRpbmcgYGxvc3Nlc2BcbiAqICAgIGRpbWVuc2lvbikuXG4gKiBAcGFyYW0gZXBzaWxvbiBBIHNtYWxsIGluY3JlbWVudCB0byBhdm9pZCB0YWtpbmcgbG9nIG9mIHplcm9cbiAqIEBwYXJhbSByZWR1Y3Rpb24gVHlwZSBvZiByZWR1Y3Rpb24gdG8gYXBwbHkgdG8gbG9zcy4gU2hvdWxkIGJlIG9mIHR5cGVcbiAqICAgIGBSZWR1Y3Rpb25gXG4gKlxuICogQGRvYyB7aGVhZGluZzogJ1RyYWluaW5nJywgc3ViaGVhZGluZzogJ0xvc3NlcycsIG5hbWVzcGFjZTogJ2xvc3Nlcyd9XG4gKi9cbmZ1bmN0aW9uIGxvZ0xvc3NfPFQgZXh0ZW5kcyBUZW5zb3IsIE8gZXh0ZW5kcyBUZW5zb3I+KFxuICAgIGxhYmVsczogVHxUZW5zb3JMaWtlLCBwcmVkaWN0aW9uczogVHxUZW5zb3JMaWtlLFxuICAgIHdlaWdodHM/OiBUZW5zb3J8VGVuc29yTGlrZSwgZXBzaWxvbiA9IDFlLTcsXG4gICAgcmVkdWN0aW9uID0gUmVkdWN0aW9uLlNVTV9CWV9OT05aRVJPX1dFSUdIVFMpOiBPIHtcbiAgY29uc3QgJGxhYmVscyA9IGNvbnZlcnRUb1RlbnNvcihsYWJlbHMsICdsYWJlbHMnLCAnbG9nTG9zcycpO1xuICBjb25zdCAkcHJlZGljdGlvbnMgPSBjb252ZXJ0VG9UZW5zb3IocHJlZGljdGlvbnMsICdwcmVkaWN0aW9ucycsICdsb2dMb3NzJyk7XG4gIGxldCAkd2VpZ2h0czogVGVuc29yID0gbnVsbDtcbiAgaWYgKHdlaWdodHMgIT0gbnVsbCkge1xuICAgICR3ZWlnaHRzID0gY29udmVydFRvVGVuc29yKHdlaWdodHMsICd3ZWlnaHRzJywgJ2xvZ0xvc3MnKTtcbiAgfVxuICBhc3NlcnRTaGFwZXNNYXRjaCgkbGFiZWxzLnNoYXBlLCAkcHJlZGljdGlvbnMuc2hhcGUsICdFcnJvciBpbiBsb2dMb3NzOiAnKTtcblxuICBjb25zdCBvbmUgPSBzY2FsYXIoMSk7XG4gIGNvbnN0IGVwc2lsb25TY2FsYXIgPSBzY2FsYXIoZXBzaWxvbik7XG5cbiAgY29uc3QgbDEgPSBuZWcobXVsKCRsYWJlbHMsIGxvZyhhZGQoJHByZWRpY3Rpb25zLCBlcHNpbG9uU2NhbGFyKSkpKTtcbiAgY29uc3QgbDIgPVxuICAgICAgbXVsKHN1YihvbmUsICRsYWJlbHMpLCBsb2coYWRkKHN1YihvbmUsICRwcmVkaWN0aW9ucyksIGVwc2lsb25TY2FsYXIpKSk7XG4gIGNvbnN0IGxvc3NlcyA9IHN1YihsMSwgbDIpO1xuICByZXR1cm4gY29tcHV0ZVdlaWdodGVkTG9zcyhsb3NzZXMsICR3ZWlnaHRzLCByZWR1Y3Rpb24pO1xufVxuZXhwb3J0IGNvbnN0IGxvZ0xvc3MgPSBvcCh7bG9nTG9zc199KTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuaW1wb3J0IHtUZW5zb3J9IGZyb20gJy4uLy4uL3RlbnNvcic7XG5pbXBvcnQge2NvbnZlcnRUb1RlbnNvcn0gZnJvbSAnLi4vLi4vdGVuc29yX3V0aWxfZW52JztcbmltcG9ydCB7VGVuc29yTGlrZX0gZnJvbSAnLi4vLi4vdHlwZXMnO1xuaW1wb3J0IHthc3NlcnRTaGFwZXNNYXRjaH0gZnJvbSAnLi4vLi4vdXRpbCc7XG5pbXBvcnQge1JlZHVjdGlvbn0gZnJvbSAnLi4vbG9zc19vcHNfdXRpbHMnO1xuaW1wb3J0IHtvcH0gZnJvbSAnLi4vb3BlcmF0aW9uJztcbmltcG9ydCB7c3F1YXJlZERpZmZlcmVuY2V9IGZyb20gJy4uL3NxdWFyZWRfZGlmZmVyZW5jZSc7XG5cbmltcG9ydCB7Y29tcHV0ZVdlaWdodGVkTG9zc30gZnJvbSAnLi9jb21wdXRlX3dlaWdodGVkX2xvc3MnO1xuXG4vKipcbiAqIENvbXB1dGVzIHRoZSBtZWFuIHNxdWFyZWQgZXJyb3IgYmV0d2VlbiB0d28gdGVuc29ycy5cbiAqXG4gKiBAcGFyYW0gbGFiZWxzIFRoZSBncm91bmQgdHJ1dGggb3V0cHV0IHRlbnNvciwgc2FtZSBkaW1lbnNpb25zIGFzXG4gKiAgICAncHJlZGljdGlvbnMnLlxuICogQHBhcmFtIHByZWRpY3Rpb25zIFRoZSBwcmVkaWN0ZWQgb3V0cHV0cy5cbiAqIEBwYXJhbSB3ZWlnaHRzIFRlbnNvciB3aG9zZSByYW5rIGlzIGVpdGhlciAwLCBvciB0aGUgc2FtZSByYW5rIGFzXG4gKiAgICBgbGFiZWxzYCwgYW5kIG11c3QgYmUgYnJvYWRjYXN0YWJsZSB0byBgbGFiZWxzYCAoaS5lLiwgYWxsIGRpbWVuc2lvbnNcbiAqICAgIG11c3QgYmUgZWl0aGVyIGAxYCwgb3IgdGhlIHNhbWUgYXMgdGhlIGNvcnJlc3BvbmRpbmcgYGxvc3Nlc2BcbiAqICAgIGRpbWVuc2lvbikuXG4gKiBAcGFyYW0gcmVkdWN0aW9uIFR5cGUgb2YgcmVkdWN0aW9uIHRvIGFwcGx5IHRvIGxvc3MuIFNob3VsZCBiZSBvZiB0eXBlXG4gKiAgICBgUmVkdWN0aW9uYFxuICpcbiAqIEBkb2Mge2hlYWRpbmc6ICdUcmFpbmluZycsIHN1YmhlYWRpbmc6ICdMb3NzZXMnLCBuYW1lc3BhY2U6ICdsb3NzZXMnfVxuICovXG5mdW5jdGlvbiBtZWFuU3F1YXJlZEVycm9yXzxUIGV4dGVuZHMgVGVuc29yLCBPIGV4dGVuZHMgVGVuc29yPihcbiAgICBsYWJlbHM6IFR8VGVuc29yTGlrZSwgcHJlZGljdGlvbnM6IFR8VGVuc29yTGlrZSxcbiAgICB3ZWlnaHRzPzogVGVuc29yfFRlbnNvckxpa2UsXG4gICAgcmVkdWN0aW9uID0gUmVkdWN0aW9uLlNVTV9CWV9OT05aRVJPX1dFSUdIVFMpOiBPIHtcbiAgY29uc3QgJGxhYmVscyA9IGNvbnZlcnRUb1RlbnNvcihsYWJlbHMsICdsYWJlbHMnLCAnbWVhblNxdWFyZWRFcnJvcicpO1xuICBjb25zdCAkcHJlZGljdGlvbnMgPVxuICAgICAgY29udmVydFRvVGVuc29yKHByZWRpY3Rpb25zLCAncHJlZGljdGlvbnMnLCAnbWVhblNxdWFyZWRFcnJvcicpO1xuICBsZXQgJHdlaWdodHM6IFRlbnNvciA9IG51bGw7XG4gIGlmICh3ZWlnaHRzICE9IG51bGwpIHtcbiAgICAkd2VpZ2h0cyA9IGNvbnZlcnRUb1RlbnNvcih3ZWlnaHRzLCAnd2VpZ2h0cycsICdtZWFuU3F1YXJlZEVycm9yJyk7XG4gIH1cbiAgYXNzZXJ0U2hhcGVzTWF0Y2goXG4gICAgICAkbGFiZWxzLnNoYXBlLCAkcHJlZGljdGlvbnMuc2hhcGUsICdFcnJvciBpbiBtZWFuU3F1YXJlZEVycm9yOiAnKTtcblxuICBjb25zdCBsb3NzZXMgPSBzcXVhcmVkRGlmZmVyZW5jZSgkbGFiZWxzLCAkcHJlZGljdGlvbnMpO1xuICByZXR1cm4gY29tcHV0ZVdlaWdodGVkTG9zcyhsb3NzZXMsICR3ZWlnaHRzLCByZWR1Y3Rpb24pO1xufVxuZXhwb3J0IGNvbnN0IG1lYW5TcXVhcmVkRXJyb3IgPSBvcCh7bWVhblNxdWFyZWRFcnJvcl99KTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuaW1wb3J0IHtUZW5zb3J9IGZyb20gJy4uLy4uL3RlbnNvcic7XG5pbXBvcnQge2NvbnZlcnRUb1RlbnNvcn0gZnJvbSAnLi4vLi4vdGVuc29yX3V0aWxfZW52JztcbmltcG9ydCB7VGVuc29yTGlrZX0gZnJvbSAnLi4vLi4vdHlwZXMnO1xuaW1wb3J0IHthc3NlcnRTaGFwZXNNYXRjaH0gZnJvbSAnLi4vLi4vdXRpbCc7XG5pbXBvcnQge2Fic30gZnJvbSAnLi4vYWJzJztcbmltcG9ydCB7YWRkfSBmcm9tICcuLi9hZGQnO1xuaW1wb3J0IHtleHB9IGZyb20gJy4uL2V4cCc7XG5pbXBvcnQge2xvZzFwfSBmcm9tICcuLi9sb2cxcCc7XG5pbXBvcnQge1JlZHVjdGlvbn0gZnJvbSAnLi4vbG9zc19vcHNfdXRpbHMnO1xuaW1wb3J0IHttdWx9IGZyb20gJy4uL211bCc7XG5pbXBvcnQge25lZ30gZnJvbSAnLi4vbmVnJztcbmltcG9ydCB7b3B9IGZyb20gJy4uL29wZXJhdGlvbic7XG5pbXBvcnQge3JlbHV9IGZyb20gJy4uL3JlbHUnO1xuaW1wb3J0IHtzY2FsYXJ9IGZyb20gJy4uL3NjYWxhcic7XG5pbXBvcnQge3N1Yn0gZnJvbSAnLi4vc3ViJztcblxuaW1wb3J0IHtjb21wdXRlV2VpZ2h0ZWRMb3NzfSBmcm9tICcuL2NvbXB1dGVfd2VpZ2h0ZWRfbG9zcyc7XG5cbmZ1bmN0aW9uIHNpZ21vaWRDcm9zc0VudHJvcHlXaXRoTG9naXRzXzxUIGV4dGVuZHMgVGVuc29yLCBPIGV4dGVuZHMgVGVuc29yPihcbiAgICBsYWJlbHM6IFR8VGVuc29yTGlrZSwgbG9naXRzOiBUfFRlbnNvckxpa2UpOiBPIHtcbiAgY29uc3QgJGxhYmVscyA9XG4gICAgICBjb252ZXJ0VG9UZW5zb3IobGFiZWxzLCAnbGFiZWxzJywgJ3NpZ21vaWRDcm9zc0VudHJvcHlXaXRoTG9naXRzJyk7XG4gIGNvbnN0ICRsb2dpdHMgPVxuICAgICAgY29udmVydFRvVGVuc29yKGxvZ2l0cywgJ2xvZ2l0cycsICdzaWdtb2lkQ3Jvc3NFbnRyb3B5V2l0aExvZ2l0cycpO1xuICBhc3NlcnRTaGFwZXNNYXRjaChcbiAgICAgICRsYWJlbHMuc2hhcGUsICRsb2dpdHMuc2hhcGUsICdFcnJvciBpbiBzaWdtb2lkQ3Jvc3NFbnRyb3B5V2l0aExvZ2l0czogJyk7XG5cbiAgLyoqXG4gICAqIEltcGxlbWVudGF0aW9uIERldGFpbHM6XG4gICAqXG4gICAqIEZvciBicmV2aXR5LCBsZXQgYHggPSBsb2dpdHNgLCBgeiA9IGxhYmVsc2AuICBUaGUgbG9naXN0aWMgbG9zcyBpc1xuICAgKiAgICAgeiAqIC1sb2coc2lnbW9pZCh4KSkgKyAoMSAtIHopICogLWxvZygxIC0gc2lnbW9pZCh4KSlcbiAgICogICA9IHogKiAtbG9nKDEgLyAoMSArIGV4cCgteCkpKSArICgxIC0geikgKiAtbG9nKGV4cCgteCkgLyAoMSArIGV4cCgteCkpKVxuICAgKiAgID0geiAqIGxvZygxICsgZXhwKC14KSkgKyAoMSAtIHopICogKC1sb2coZXhwKC14KSkgKyBsb2coMSArIGV4cCgteCkpKVxuICAgKiAgID0geiAqIGxvZygxICsgZXhwKC14KSkgKyAoMSAtIHopICogKHggKyBsb2coMSArIGV4cCgteCkpXG4gICAqICAgPSAoMSAtIHopICogeCArIGxvZygxICsgZXhwKC14KSlcbiAgICogICA9IHggLSB4ICogeiArIGxvZygxICsgZXhwKC14KSlcbiAgICpcbiAgICogICBGb3IgeCA8IDAsIHRvIGF2b2lkIG92ZXJmbG93IGluIGV4cCgteCksIHdlIHJlZm9ybXVsYXRlIHRoZSBhYm92ZVxuICAgKiAgICAgeCAtIHggKiB6ICsgbG9nKDEgKyBleHAoLXgpKVxuICAgKiAgID0gbG9nKGV4cCh4KSkgLSB4ICogeiArIGxvZygxICsgZXhwKC14KSlcbiAgICogICA9IC0geCAqIHogKyBsb2coMSArIGV4cCh4KSlcbiAgICpcbiAgICogSGVuY2UsIHRvIGVuc3VyZSBzdGFiaWxpdHkgYW5kIGF2b2lkIG92ZXJmbG93LCB0aGUgaW1wbGVtZW50YXRpb24gdXNlc1xuICAgKiB0aGlzIGVxdWl2YWxlbnQgZm9ybXVsYXRpb246XG4gICAqICAgICBtYXgoeCwgMCkgLSB4ICogeiArIGxvZygxICsgZXhwKC1hYnMoeCkpKVxuICAgKi9cbiAgY29uc3QgbWF4T3V0cHV0ID0gcmVsdSgkbG9naXRzKTtcbiAgY29uc3Qgb3V0cHV0WFRhcmdldCA9IG11bCgkbG9naXRzLCAkbGFiZWxzKTtcbiAgY29uc3Qgc2lnbW9pZE91dHB1dCA9IGxvZzFwKGV4cChuZWcoYWJzKCRsb2dpdHMpKSkpO1xuXG4gIHJldHVybiBhZGQoc3ViKG1heE91dHB1dCwgb3V0cHV0WFRhcmdldCksIHNpZ21vaWRPdXRwdXQpO1xufVxuXG4vKipcbiAqIENvbXB1dGVzIHRoZSBzaWdtb2lkIGNyb3NzIGVudHJvcHkgbG9zcyBiZXR3ZWVuIHR3byB0ZW5zb3JzLlxuICpcbiAqIElmIGxhYmVsU21vb3RoaW5nIGlzIG5vbnplcm8sIHNtb290aCB0aGUgbGFiZWxzIHRvd2FyZHMgMS8yOlxuICpcbiAqICAgbmV3TXVsdGljbGFzc0xhYmVscyA9IG11bHRpY2xhc3NMYWJlbHMgKiAoMSAtIGxhYmVsU21vb3RoaW5nKVxuICogICAgICAgICAgICAgICAgICAgICAgICAgKyAwLjUgKiBsYWJlbFNtb290aGluZ1xuICpcbiAqIEBwYXJhbSBtdWx0aUNsYXNzTGFiZWxzIFRoZSBncm91bmQgdHJ1dGggb3V0cHV0IHRlbnNvciBvZiBzaGFwZVxuICogW2JhdGNoX3NpemUsIG51bV9jbGFzc2VzXSwgc2FtZSBkaW1lbnNpb25zIGFzICdwcmVkaWN0aW9ucycuXG4gKiBAcGFyYW0gbG9naXRzIFRoZSBwcmVkaWN0ZWQgb3V0cHV0cy5cbiAqIEBwYXJhbSB3ZWlnaHRzIFRlbnNvciB3aG9zZSByYW5rIGlzIGVpdGhlciAwLCBvciB0aGUgc2FtZSByYW5rIGFzXG4gKiAgICBgbGFiZWxzYCwgYW5kIG11c3QgYmUgYnJvYWRjYXN0YWJsZSB0byBgbGFiZWxzYCAoaS5lLiwgYWxsIGRpbWVuc2lvbnNcbiAqICAgIG11c3QgYmUgZWl0aGVyIGAxYCwgb3IgdGhlIHNhbWUgYXMgdGhlIGNvcnJlc3BvbmRpbmcgYGxvc3Nlc2BcbiAqICAgIGRpbWVuc2lvbikuXG4gKiBAcGFyYW0gbGFiZWxTbW9vdGhpbmcgSWYgZ3JlYXRlciB0aGFuIDAsIHRoZW4gc21vb3RoIHRoZSBsYWJlbHMuXG4gKiBAcGFyYW0gcmVkdWN0aW9uIFR5cGUgb2YgcmVkdWN0aW9uIHRvIGFwcGx5IHRvIGxvc3MuIFNob3VsZCBiZSBvZiB0eXBlXG4gKiAgICBgUmVkdWN0aW9uYFxuICpcbiAqIEBkb2MgeyBoZWFkaW5nOiAnVHJhaW5pbmcnLCBzdWJoZWFkaW5nOiAnTG9zc2VzJywgbmFtZXNwYWNlOiAnbG9zc2VzJyB9XG4gKi9cbmZ1bmN0aW9uIHNpZ21vaWRDcm9zc0VudHJvcHlfPFQgZXh0ZW5kcyBUZW5zb3IsIE8gZXh0ZW5kcyBUZW5zb3I+KFxuICAgIG11bHRpQ2xhc3NMYWJlbHM6IFR8VGVuc29yTGlrZSwgbG9naXRzOiBUfFRlbnNvckxpa2UsXG4gICAgd2VpZ2h0cz86IFRlbnNvcnxUZW5zb3JMaWtlLCBsYWJlbFNtb290aGluZyA9IDAsXG4gICAgcmVkdWN0aW9uID0gUmVkdWN0aW9uLlNVTV9CWV9OT05aRVJPX1dFSUdIVFMpOiBPIHtcbiAgbGV0ICRtdWx0aUNsYXNzTGFiZWxzID0gY29udmVydFRvVGVuc29yKFxuICAgICAgbXVsdGlDbGFzc0xhYmVscywgJ211bHRpQ2xhc3NMYWJlbHMnLCAnc2lnbW9pZENyb3NzRW50cm9weScpO1xuICBjb25zdCAkbG9naXRzID0gY29udmVydFRvVGVuc29yKGxvZ2l0cywgJ2xvZ2l0cycsICdzaWdtb2lkQ3Jvc3NFbnRyb3B5Jyk7XG4gIGxldCAkd2VpZ2h0czogVGVuc29yID0gbnVsbDtcbiAgaWYgKHdlaWdodHMgIT0gbnVsbCkge1xuICAgICR3ZWlnaHRzID0gY29udmVydFRvVGVuc29yKHdlaWdodHMsICd3ZWlnaHRzJywgJ3NpZ21vaWRDcm9zc0VudHJvcHknKTtcbiAgfVxuICBhc3NlcnRTaGFwZXNNYXRjaChcbiAgICAgICRtdWx0aUNsYXNzTGFiZWxzLnNoYXBlLCAkbG9naXRzLnNoYXBlLCAnRXJyb3IgaW4gc2lnbW9pZENyb3NzRW50cm9weTogJyk7XG5cbiAgaWYgKGxhYmVsU21vb3RoaW5nID4gMCkge1xuICAgIGNvbnN0IGxhYmVsU21vb3RoaW5nU2NhbGFyID0gc2NhbGFyKGxhYmVsU21vb3RoaW5nKTtcbiAgICBjb25zdCBvbmUgPSBzY2FsYXIoMSk7XG4gICAgY29uc3QgaGFsZiA9IHNjYWxhcigwLjUpO1xuXG4gICAgJG11bHRpQ2xhc3NMYWJlbHMgPVxuICAgICAgICBhZGQobXVsKCRtdWx0aUNsYXNzTGFiZWxzLCBzdWIob25lLCBsYWJlbFNtb290aGluZ1NjYWxhcikpLFxuICAgICAgICAgICAgbXVsKGhhbGYsIGxhYmVsU21vb3RoaW5nU2NhbGFyKSk7XG4gIH1cbiAgY29uc3QgbG9zc2VzID0gc2lnbW9pZENyb3NzRW50cm9weVdpdGhMb2dpdHNfKCRtdWx0aUNsYXNzTGFiZWxzLCAkbG9naXRzKTtcblxuICByZXR1cm4gY29tcHV0ZVdlaWdodGVkTG9zcyhsb3NzZXMsICR3ZWlnaHRzLCByZWR1Y3Rpb24pO1xufVxuXG5leHBvcnQgY29uc3Qgc2lnbW9pZENyb3NzRW50cm9weSA9IG9wKHtzaWdtb2lkQ3Jvc3NFbnRyb3B5X30pO1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuaW1wb3J0IHtjdXN0b21HcmFkfSBmcm9tICcuLi8uLi9ncmFkaWVudHMnO1xuaW1wb3J0IHtUZW5zb3J9IGZyb20gJy4uLy4uL3RlbnNvcic7XG5pbXBvcnQge0dyYWRTYXZlRnVuY30gZnJvbSAnLi4vLi4vdGVuc29yX3R5cGVzJztcbmltcG9ydCB7Y29udmVydFRvVGVuc29yfSBmcm9tICcuLi8uLi90ZW5zb3JfdXRpbF9lbnYnO1xuaW1wb3J0IHtUZW5zb3JMaWtlfSBmcm9tICcuLi8uLi90eXBlcyc7XG5pbXBvcnQge2Fzc2VydFNoYXBlc01hdGNofSBmcm9tICcuLi8uLi91dGlsJztcbmltcG9ydCB7YWRkfSBmcm9tICcuLi9hZGQnO1xuaW1wb3J0IHtleHBhbmRTaGFwZVRvS2VlcERpbX0gZnJvbSAnLi4vYXhpc191dGlsJztcbmltcG9ydCB7Y2FzdH0gZnJvbSAnLi4vY2FzdCc7XG5pbXBvcnQge2Rpdn0gZnJvbSAnLi4vZGl2JztcbmltcG9ydCB7ZXhwfSBmcm9tICcuLi9leHAnO1xuaW1wb3J0IHtsb2dTdW1FeHB9IGZyb20gJy4uL2xvZ19zdW1fZXhwJztcbmltcG9ydCB7UmVkdWN0aW9ufSBmcm9tICcuLi9sb3NzX29wc191dGlscyc7XG5pbXBvcnQge211bH0gZnJvbSAnLi4vbXVsJztcbmltcG9ydCB7bmVnfSBmcm9tICcuLi9uZWcnO1xuaW1wb3J0IHtvcH0gZnJvbSAnLi4vb3BlcmF0aW9uJztcbmltcG9ydCB7cmVzaGFwZX0gZnJvbSAnLi4vcmVzaGFwZSc7XG5pbXBvcnQge3NjYWxhcn0gZnJvbSAnLi4vc2NhbGFyJztcbmltcG9ydCB7c3VifSBmcm9tICcuLi9zdWInO1xuaW1wb3J0IHtzdW19IGZyb20gJy4uL3N1bSc7XG5cbmltcG9ydCB7Y29tcHV0ZVdlaWdodGVkTG9zc30gZnJvbSAnLi9jb21wdXRlX3dlaWdodGVkX2xvc3MnO1xuXG4vKipcbiAqIENvbXB1dGVzIHNvZnRtYXggY3Jvc3MgZW50cm9weSBiZXR3ZWVuIGxvZ2l0cyBhbmQgbGFiZWxzLlxuICpcbiAqIE1lYXN1cmVzIHRoZSBwcm9iYWJpbGl0eSBlcnJvciBpbiBkaXNjcmV0ZSBjbGFzc2lmaWNhdGlvbiB0YXNrcyBpbiB3aGljaFxuICogdGhlIGNsYXNzZXMgYXJlIG11dHVhbGx5IGV4Y2x1c2l2ZSAoZWFjaCBlbnRyeSBpcyBpbiBleGFjdGx5IG9uZSBjbGFzcykuXG4gKiBGb3IgZXhhbXBsZSwgZWFjaCBDSUZBUi0xMCBpbWFnZSBpcyBsYWJlbGVkIHdpdGggb25lIGFuZCBvbmx5IG9uZSBsYWJlbDogYW5cbiAqIGltYWdlIGNhbiBiZSBhIGRvZyBvciBhIHRydWNrLCBidXQgbm90IGJvdGguXG4gKlxuICogYE5PVEVgOiBXaGlsZSB0aGUgY2xhc3NlcyBhcmUgbXV0dWFsbHkgZXhjbHVzaXZlLCB0aGVpciBwcm9iYWJpbGl0aWVzIG5lZWRcbiAqIG5vdCBiZS4gQWxsIHRoYXQgaXMgcmVxdWlyZWQgaXMgdGhhdCBlYWNoIHJvdyBvZiBsYWJlbHMgaXMgYSB2YWxpZFxuICogcHJvYmFiaWxpdHkgZGlzdHJpYnV0aW9uLiBJZiB0aGV5IGFyZSBub3QsIHRoZSBjb21wdXRhdGlvbiBvZiB0aGUgZ3JhZGllbnRcbiAqIHdpbGwgYmUgaW5jb3JyZWN0LlxuICpcbiAqIGBXQVJOSU5HYDogVGhpcyBvcCBleHBlY3RzIHVuc2NhbGVkIGxvZ2l0cywgc2luY2UgaXQgcGVyZm9ybXMgYSBzb2Z0bWF4IG9uXG4gKiBsb2dpdHMgaW50ZXJuYWxseSBmb3IgZWZmaWNpZW5jeS4gRG8gbm90IGNhbGwgdGhpcyBvcCB3aXRoIHRoZSBvdXRwdXQgb2ZcbiAqIHNvZnRtYXgsIGFzIGl0IHdpbGwgcHJvZHVjZSBpbmNvcnJlY3QgcmVzdWx0cy5cbiAqXG4gKiBsb2dpdHMgYW5kIGxhYmVscyBtdXN0IGhhdmUgdGhlIHNhbWUgc2hhcGUsIGUuZy4gW2JhdGNoX3NpemUsIG51bV9jbGFzc2VzXVxuICogYW5kIHRoZSBzYW1lIGR0eXBlLlxuICogQHBhcmFtIGxhYmVscyBUaGUgbGFiZWxzIGFycmF5LlxuICogQHBhcmFtIGxvZ2l0cyBUaGUgbG9naXRzIGFycmF5LlxuICogQHBhcmFtIGRpbSBUaGUgZGltZW5zaW9uIHNvZnRtYXggd291bGQgYmUgcGVyZm9ybWVkIG9uLiBEZWZhdWx0cyB0byBgLTFgXG4gKiAgICAgd2hpY2ggaW5kaWNhdGVzIHRoZSBsYXN0IGRpbWVuc2lvbi5cbiAqL1xuZnVuY3Rpb24gc29mdG1heENyb3NzRW50cm9weVdpdGhMb2dpdHNfPFQgZXh0ZW5kcyBUZW5zb3IsIE8gZXh0ZW5kcyBUZW5zb3I+KFxuICAgIGxhYmVsczogVCwgbG9naXRzOiBULCBkaW0gPSAtMSk6IE8ge1xuICBpZiAoZGltID09PSAtMSkge1xuICAgIGRpbSA9IGxvZ2l0cy5yYW5rIC0gMTtcbiAgfVxuXG4gIGlmIChkaW0gIT09IGxvZ2l0cy5yYW5rIC0gMSkge1xuICAgIHRocm93IEVycm9yKFxuICAgICAgICBgU29mdG1heCBjcm9zcyBlbnRyb3B5IGFsb25nIGEgbm9uLWxhc3QgZGltZW5zaW9uIGlzIG5vdCB5ZXQgYCArXG4gICAgICAgIGBzdXBwb3J0ZWQuIExhYmVscyAvIGxvZ2l0cyB3YXMgcmFuayAke2xvZ2l0cy5yYW5rfSBgICtcbiAgICAgICAgYGFuZCBkaW0gd2FzICR7ZGltfWApO1xuICB9XG4gIC8vIFVzZSBhIGN1c3RvbSBncmFkaWVudCBmb3IgbnVtZXJpY2FsIHN0YWJpbGl0eS5cbiAgY29uc3QgY3VzdG9tT3AgPVxuICAgICAgY3VzdG9tR3JhZCgobGFiZWxzOiBUZW5zb3IsIGxvZ2l0czogVGVuc29yLCBzYXZlOiBHcmFkU2F2ZUZ1bmMpID0+IHtcbiAgICAgICAgLy8gUmVmZXJlbmNlOlxuICAgICAgICAvLyAgIDEuIGh0dHA6Ly9jczIzMW4uZ2l0aHViLmlvL2xpbmVhci1jbGFzc2lmeS8jc29mdG1heFxuICAgICAgICAvLyAgIDIuIGh0dHBzOi8vYmxvZy5mZWVkbHkuY29tL3RyaWNrcy1vZi10aGUtdHJhZGUtbG9nc3VtZXhwL1xuICAgICAgICBjb25zdCBrZWVwRGltcyA9IHRydWU7XG4gICAgICAgIGNvbnN0IGxzZSA9IGxvZ1N1bUV4cChsb2dpdHMsIFtkaW1dLCBrZWVwRGltcyk7XG4gICAgICAgIGNvbnN0IGxvZ1Jlc3VsdCA9IHN1YihjYXN0KGxvZ2l0cywgJ2Zsb2F0MzInKSwgbHNlKTtcbiAgICAgICAgc2F2ZShbbGFiZWxzLCBsb2dSZXN1bHRdKTtcblxuICAgICAgICBjb25zdCBjb3N0VmVjdG9yID0gbmVnKG11bChsb2dSZXN1bHQsIGxhYmVscykpO1xuICAgICAgICBjb25zdCB2YWx1ZTogTyA9IHN1bShjb3N0VmVjdG9yLCBbZGltXSk7XG5cbiAgICAgICAgY29uc3QgZ3JhZEZ1bmMgPSAoZHk6IE8sIHNhdmVkOiBUZW5zb3JbXSkgPT4ge1xuICAgICAgICAgIGNvbnN0IFtsYWJlbHMsIGxvZ1Jlc3VsdF0gPSBzYXZlZDtcbiAgICAgICAgICBjb25zdCBkeVNoYXBlID0gZXhwYW5kU2hhcGVUb0tlZXBEaW0oZHkuc2hhcGUsIFtkaW1dKTtcbiAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgbXVsKHJlc2hhcGUoZHksIGR5U2hhcGUpLFxuICAgICAgICAgICAgICAgIHN1YihjYXN0KGxhYmVscywgJ2Zsb2F0MzInKSwgZXhwKGxvZ1Jlc3VsdCkpKSxcbiAgICAgICAgICAgIG11bChyZXNoYXBlKGR5LCBkeVNoYXBlKSxcbiAgICAgICAgICAgICAgICBzdWIoZXhwKGxvZ1Jlc3VsdCksIGNhc3QobGFiZWxzLCAnZmxvYXQzMicpKSksXG4gICAgICAgICAgXTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHt2YWx1ZSwgZ3JhZEZ1bmN9O1xuICAgICAgfSk7XG5cbiAgcmV0dXJuIGN1c3RvbU9wKGxhYmVscywgbG9naXRzKTtcbn1cblxuLyoqXG4gKiBDb21wdXRlcyB0aGUgc29mdG1heCBjcm9zcyBlbnRyb3B5IGxvc3MgYmV0d2VlbiB0d28gdGVuc29ycy5cbiAqXG4gKiBJZiBsYWJlbFNtb290aGluZyBpcyBub256ZXJvLCBzbW9vdGggdGhlIGxhYmVscyB0b3dhcmRzIDEvMjpcbiAqXG4gKiAgIG5ld09uZWhvdExhYmVscyA9IG9uZWhvdExhYmVscyAqICgxIC0gbGFiZWxTbW9vdGhpbmcpXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICArIGxhYmVsU21vb3RoaW5nIC8gbnVtQ2xhc3Nlc1xuICpcbiAqIEBwYXJhbSBvbmVob3RMYWJlbHMgT25lIGhvdCBlbmNvZGVkIGxhYmVsc1xuICogICAgW2JhdGNoX3NpemUsIG51bV9jbGFzc2VzXSwgc2FtZSBkaW1lbnNpb25zIGFzICdwcmVkaWN0aW9ucycuXG4gKiBAcGFyYW0gbG9naXRzIFRoZSBwcmVkaWN0ZWQgb3V0cHV0cy5cbiAqIEBwYXJhbSB3ZWlnaHRzIFRlbnNvciB3aG9zZSByYW5rIGlzIGVpdGhlciAwLCBvciAxLCBhbmQgbXVzdCBiZVxuICogICAgYnJvYWRjYXN0YWJsZSB0byBgbG9zc2AgIG9mIHNoYXBlIFtiYXRjaF9zaXplXVxuICogQHBhcmFtIGxhYmVsU21vb3RoaW5nIElmIGdyZWF0ZXIgdGhhbiAwLCB0aGVuIHNtb290aCB0aGUgbGFiZWxzLlxuICogQHBhcmFtIHJlZHVjdGlvbiBUeXBlIG9mIHJlZHVjdGlvbiB0byBhcHBseSB0byBsb3NzLiBTaG91bGQgYmUgb2YgdHlwZVxuICogICAgYFJlZHVjdGlvbmBcbiAqXG4gKiBAZG9jIHsgaGVhZGluZzogJ1RyYWluaW5nJywgc3ViaGVhZGluZzogJ0xvc3NlcycsIG5hbWVzcGFjZTogJ2xvc3NlcycgfVxuICovXG5mdW5jdGlvbiBzb2Z0bWF4Q3Jvc3NFbnRyb3B5XzxUIGV4dGVuZHMgVGVuc29yLCBPIGV4dGVuZHMgVGVuc29yPihcbiAgICBvbmVob3RMYWJlbHM6IFR8VGVuc29yTGlrZSwgbG9naXRzOiBUfFRlbnNvckxpa2UsXG4gICAgd2VpZ2h0cz86IFRlbnNvcnxUZW5zb3JMaWtlLCBsYWJlbFNtb290aGluZyA9IDAsXG4gICAgcmVkdWN0aW9uID0gUmVkdWN0aW9uLlNVTV9CWV9OT05aRVJPX1dFSUdIVFMpOiBPIHtcbiAgbGV0ICRvbmVob3RMYWJlbHMgPVxuICAgICAgY29udmVydFRvVGVuc29yKG9uZWhvdExhYmVscywgJ29uZWhvdExhYmVscycsICdzb2Z0bWF4Q3Jvc3NFbnRyb3B5Jyk7XG4gIGNvbnN0ICRsb2dpdHMgPSBjb252ZXJ0VG9UZW5zb3IobG9naXRzLCAnbG9naXRzJywgJ3NvZnRtYXhDcm9zc0VudHJvcHknKTtcbiAgbGV0ICR3ZWlnaHRzOiBUZW5zb3IgPSBudWxsO1xuXG4gIGlmICh3ZWlnaHRzICE9IG51bGwpIHtcbiAgICAkd2VpZ2h0cyA9IGNvbnZlcnRUb1RlbnNvcih3ZWlnaHRzLCAnd2VpZ2h0cycsICdzb2Z0bWF4Q3Jvc3NFbnRyb3B5Jyk7XG4gIH1cblxuICBhc3NlcnRTaGFwZXNNYXRjaChcbiAgICAgICRvbmVob3RMYWJlbHMuc2hhcGUsICRsb2dpdHMuc2hhcGUsICdFcnJvciBpbiBzb2Z0bWF4Q3Jvc3NFbnRyb3B5OiAnKTtcblxuICBpZiAobGFiZWxTbW9vdGhpbmcgPiAwKSB7XG4gICAgY29uc3QgbGFiZWxTbW9vdGhpbmdTY2FsYXIgPSBzY2FsYXIobGFiZWxTbW9vdGhpbmcpO1xuICAgIGNvbnN0IG9uZSA9IHNjYWxhcigxKTtcbiAgICBjb25zdCBudW1DbGFzc2VzID0gc2NhbGFyKCRvbmVob3RMYWJlbHMuc2hhcGVbMV0pO1xuXG4gICAgJG9uZWhvdExhYmVscyA9XG4gICAgICAgIGFkZChtdWwoJG9uZWhvdExhYmVscywgc3ViKG9uZSwgbGFiZWxTbW9vdGhpbmdTY2FsYXIpKSxcbiAgICAgICAgICAgIGRpdihsYWJlbFNtb290aGluZ1NjYWxhciwgbnVtQ2xhc3NlcykpO1xuICB9XG5cbiAgY29uc3QgbG9zc2VzID0gc29mdG1heENyb3NzRW50cm9weVdpdGhMb2dpdHNfKCRvbmVob3RMYWJlbHMsICRsb2dpdHMpO1xuXG4gIHJldHVybiBjb21wdXRlV2VpZ2h0ZWRMb3NzKGxvc3NlcywgJHdlaWdodHMsIHJlZHVjdGlvbik7XG59XG5cbmV4cG9ydCBjb25zdCBzb2Z0bWF4Q3Jvc3NFbnRyb3B5ID0gb3Aoe3NvZnRtYXhDcm9zc0VudHJvcHlffSk7XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbi8vIE1vZHVsYXJpemVkIG9wcy5cbmV4cG9ydCB7YWJzfSBmcm9tICcuL2Ficyc7XG5leHBvcnQge2Fjb3N9IGZyb20gJy4vYWNvcyc7XG5leHBvcnQge2Fjb3NofSBmcm9tICcuL2Fjb3NoJztcbmV4cG9ydCB7YWRkfSBmcm9tICcuL2FkZCc7XG5leHBvcnQge2FkZE59IGZyb20gJy4vYWRkX24nO1xuZXhwb3J0IHthbGx9IGZyb20gJy4vYWxsJztcbmV4cG9ydCB7YW55fSBmcm9tICcuL2FueSc7XG5leHBvcnQge2FyZ01heH0gZnJvbSAnLi9hcmdfbWF4JztcbmV4cG9ydCB7YXJnTWlufSBmcm9tICcuL2FyZ19taW4nO1xuZXhwb3J0IHthc2lufSBmcm9tICcuL2FzaW4nO1xuZXhwb3J0IHthc2luaH0gZnJvbSAnLi9hc2luaCc7XG5leHBvcnQge2F0YW59IGZyb20gJy4vYXRhbic7XG5leHBvcnQge2F0YW4yfSBmcm9tICcuL2F0YW4yJztcbmV4cG9ydCB7YXRhbmh9IGZyb20gJy4vYXRhbmgnO1xuZXhwb3J0IHthdmdQb29sfSBmcm9tICcuL2F2Z19wb29sJztcbmV4cG9ydCB7YXZnUG9vbDNkfSBmcm9tICcuL2F2Z19wb29sXzNkJztcbmV4cG9ydCB7YmFzaWNMU1RNQ2VsbH0gZnJvbSAnLi9iYXNpY19sc3RtX2NlbGwnO1xuZXhwb3J0IHtiYXRjaFRvU3BhY2VORH0gZnJvbSAnLi9iYXRjaF90b19zcGFjZV9uZCc7XG5leHBvcnQge2JhdGNoTm9ybX0gZnJvbSAnLi9iYXRjaG5vcm0nO1xuZXhwb3J0IHtiYXRjaE5vcm0yZH0gZnJvbSAnLi9iYXRjaG5vcm0yZCc7XG5leHBvcnQge2JhdGNoTm9ybTNkfSBmcm9tICcuL2JhdGNobm9ybTNkJztcbmV4cG9ydCB7YmF0Y2hOb3JtNGR9IGZyb20gJy4vYmF0Y2hub3JtNGQnO1xuZXhwb3J0IHticm9hZGNhc3RUb30gZnJvbSAnLi9icm9hZGNhc3RfdG8nO1xuZXhwb3J0IHtidWZmZXJ9IGZyb20gJy4vYnVmZmVyJztcbmV4cG9ydCB7Y2FzdH0gZnJvbSAnLi9jYXN0JztcbmV4cG9ydCB7Y2VpbH0gZnJvbSAnLi9jZWlsJztcbmV4cG9ydCB7Y2xpcEJ5VmFsdWV9IGZyb20gJy4vY2xpcF9ieV92YWx1ZSc7XG5leHBvcnQge2Nsb25lfSBmcm9tICcuL2Nsb25lJztcbmV4cG9ydCB7Y29tcGxleH0gZnJvbSAnLi9jb21wbGV4JztcbmV4cG9ydCB7Y29uY2F0fSBmcm9tICcuL2NvbmNhdCc7XG5leHBvcnQge2NvbmNhdDFkfSBmcm9tICcuL2NvbmNhdF8xZCc7XG5leHBvcnQge2NvbmNhdDJkfSBmcm9tICcuL2NvbmNhdF8yZCc7XG5leHBvcnQge2NvbmNhdDNkfSBmcm9tICcuL2NvbmNhdF8zZCc7XG5leHBvcnQge2NvbmNhdDRkfSBmcm9tICcuL2NvbmNhdF80ZCc7XG5leHBvcnQge2NvbnYxZH0gZnJvbSAnLi9jb252MWQnO1xuZXhwb3J0IHtjb252MmR9IGZyb20gJy4vY29udjJkJztcbmV4cG9ydCB7Y29udjJkVHJhbnNwb3NlfSBmcm9tICcuL2NvbnYyZF90cmFuc3Bvc2UnO1xuZXhwb3J0IHtjb252M2R9IGZyb20gJy4vY29udjNkJztcbmV4cG9ydCB7Y29udjNkVHJhbnNwb3NlfSBmcm9tICcuL2NvbnYzZF90cmFuc3Bvc2UnO1xuZXhwb3J0IHtjb3N9IGZyb20gJy4vY29zJztcbmV4cG9ydCB7Y29zaH0gZnJvbSAnLi9jb3NoJztcbmV4cG9ydCB7Y3Vtc3VtfSBmcm9tICcuL2N1bXN1bSc7XG5leHBvcnQge2RlcHRoVG9TcGFjZX0gZnJvbSAnLi9kZXB0aF90b19zcGFjZSc7XG5leHBvcnQge2RlcHRod2lzZUNvbnYyZH0gZnJvbSAnLi9kZXB0aHdpc2VfY29udjJkJztcbmV4cG9ydCB7ZGlhZ30gZnJvbSAnLi9kaWFnJztcbmV4cG9ydCB7ZGlsYXRpb24yZH0gZnJvbSAnLi9kaWxhdGlvbjJkJztcbmV4cG9ydCB7ZGl2fSBmcm9tICcuL2Rpdic7XG5leHBvcnQge2Rpdk5vTmFufSBmcm9tICcuL2Rpdl9ub19uYW4nO1xuZXhwb3J0IHtkb3R9IGZyb20gJy4vZG90JztcbmV4cG9ydCB7ZWx1fSBmcm9tICcuL2VsdSc7XG5leHBvcnQge2VxdWFsfSBmcm9tICcuL2VxdWFsJztcbmV4cG9ydCB7ZXJmfSBmcm9tICcuL2VyZic7XG5leHBvcnQge2V4cH0gZnJvbSAnLi9leHAnO1xuZXhwb3J0IHtleHBhbmREaW1zfSBmcm9tICcuL2V4cGFuZF9kaW1zJztcbmV4cG9ydCB7ZXhwbTF9IGZyb20gJy4vZXhwbTEnO1xuZXhwb3J0IHtleWV9IGZyb20gJy4vZXllJztcbmV4cG9ydCB7ZmlsbH0gZnJvbSAnLi9maWxsJztcbmV4cG9ydCB7Zmxvb3J9IGZyb20gJy4vZmxvb3InO1xuZXhwb3J0IHtmbG9vckRpdn0gZnJvbSAnLi9mbG9vckRpdic7XG5leHBvcnQge2dhdGhlcn0gZnJvbSAnLi9nYXRoZXInO1xuZXhwb3J0IHtncmVhdGVyfSBmcm9tICcuL2dyZWF0ZXInO1xuZXhwb3J0IHtncmVhdGVyRXF1YWx9IGZyb20gJy4vZ3JlYXRlcl9lcXVhbCc7XG5leHBvcnQge2ltYWd9IGZyb20gJy4vaW1hZyc7XG5leHBvcnQge2lzRmluaXRlfSBmcm9tICcuL2lzX2Zpbml0ZSc7XG5leHBvcnQge2lzSW5mfSBmcm9tICcuL2lzX2luZic7XG5leHBvcnQge2lzTmFOfSBmcm9tICcuL2lzX25hbic7XG5leHBvcnQge2xlYWt5UmVsdX0gZnJvbSAnLi9sZWFreV9yZWx1JztcbmV4cG9ydCB7bGVzc30gZnJvbSAnLi9sZXNzJztcbmV4cG9ydCB7bGVzc0VxdWFsfSBmcm9tICcuL2xlc3NfZXF1YWwnO1xuZXhwb3J0IHtsaW5zcGFjZX0gZnJvbSAnLi9saW5zcGFjZSc7XG5leHBvcnQge2xvY2FsUmVzcG9uc2VOb3JtYWxpemF0aW9ufSBmcm9tICcuL2xvY2FsX3Jlc3BvbnNlX25vcm1hbGl6YXRpb24nO1xuZXhwb3J0IHtsb2d9IGZyb20gJy4vbG9nJztcbmV4cG9ydCB7bG9nMXB9IGZyb20gJy4vbG9nMXAnO1xuZXhwb3J0IHtsb2dTaWdtb2lkfSBmcm9tICcuL2xvZ19zaWdtb2lkJztcbmV4cG9ydCB7bG9nU29mdG1heH0gZnJvbSAnLi9sb2dfc29mdG1heCc7XG5leHBvcnQge2xvZ1N1bUV4cH0gZnJvbSAnLi9sb2dfc3VtX2V4cCc7XG5leHBvcnQge2xvZ2ljYWxBbmR9IGZyb20gJy4vbG9naWNhbF9hbmQnO1xuZXhwb3J0IHtsb2dpY2FsTm90fSBmcm9tICcuL2xvZ2ljYWxfbm90JztcbmV4cG9ydCB7bG9naWNhbE9yfSBmcm9tICcuL2xvZ2ljYWxfb3InO1xuZXhwb3J0IHtsb2dpY2FsWG9yfSBmcm9tICcuL2xvZ2ljYWxfeG9yJztcbmV4cG9ydCB7bWF0TXVsfSBmcm9tICcuL21hdF9tdWwnO1xuZXhwb3J0IHttYXh9IGZyb20gJy4vbWF4JztcbmV4cG9ydCB7bWF4UG9vbH0gZnJvbSAnLi9tYXhfcG9vbCc7XG5leHBvcnQge21heFBvb2wzZH0gZnJvbSAnLi9tYXhfcG9vbF8zZCc7XG5leHBvcnQge21heFBvb2xXaXRoQXJnbWF4fSBmcm9tICcuL21heF9wb29sX3dpdGhfYXJnbWF4JztcbmV4cG9ydCB7bWF4aW11bX0gZnJvbSAnLi9tYXhpbXVtJztcbmV4cG9ydCB7bWVhbn0gZnJvbSAnLi9tZWFuJztcbmV4cG9ydCB7bWlufSBmcm9tICcuL21pbic7XG5leHBvcnQge21pbmltdW19IGZyb20gJy4vbWluaW11bSc7XG5leHBvcnQge21vZH0gZnJvbSAnLi9tb2QnO1xuZXhwb3J0IHttb21lbnRzfSBmcm9tICcuL21vbWVudHMnO1xuZXhwb3J0IHttdWx9IGZyb20gJy4vbXVsJztcbmV4cG9ydCB7TFNUTUNlbGxGdW5jLCBtdWx0aVJOTkNlbGx9IGZyb20gJy4vbXVsdGlfcm5uX2NlbGwnO1xuZXhwb3J0IHttdWx0aW5vbWlhbH0gZnJvbSAnLi9tdWx0aW5vbWlhbCc7XG5leHBvcnQge25lZ30gZnJvbSAnLi9uZWcnO1xuZXhwb3J0IHtub3RFcXVhbH0gZnJvbSAnLi9ub3RfZXF1YWwnO1xuZXhwb3J0IHtvbmVIb3R9IGZyb20gJy4vb25lX2hvdCc7XG5leHBvcnQge29uZXN9IGZyb20gJy4vb25lcyc7XG5leHBvcnQge29uZXNMaWtlfSBmcm9tICcuL29uZXNfbGlrZSc7XG5leHBvcnQge291dGVyUHJvZHVjdH0gZnJvbSAnLi9vdXRlcl9wcm9kdWN0JztcbmV4cG9ydCB7cGFkfSBmcm9tICcuL3BhZCc7XG5leHBvcnQge3BhZDFkfSBmcm9tICcuL3BhZDFkJztcbmV4cG9ydCB7cGFkMmR9IGZyb20gJy4vcGFkMmQnO1xuZXhwb3J0IHtwYWQzZH0gZnJvbSAnLi9wYWQzZCc7XG5leHBvcnQge3BhZDRkfSBmcm9tICcuL3BhZDRkJztcbmV4cG9ydCB7cG9vbH0gZnJvbSAnLi9wb29sJztcbmV4cG9ydCB7cG93fSBmcm9tICcuL3Bvdyc7XG5leHBvcnQge3ByZWx1fSBmcm9tICcuL3ByZWx1JztcbmV4cG9ydCB7cHJpbnR9IGZyb20gJy4vcHJpbnQnO1xuZXhwb3J0IHtwcm9kfSBmcm9tICcuL3Byb2QnO1xuZXhwb3J0IHtyYW5kfSBmcm9tICcuL3JhbmQnO1xuZXhwb3J0IHtyYW5kb21HYW1tYX0gZnJvbSAnLi9yYW5kb21fZ2FtbWEnO1xuZXhwb3J0IHtyYW5kb21Ob3JtYWx9IGZyb20gJy4vcmFuZG9tX25vcm1hbCc7XG5leHBvcnQge3JhbmRvbVVuaWZvcm19IGZyb20gJy4vcmFuZG9tX3VuaWZvcm0nO1xuZXhwb3J0IHtyYW5nZX0gZnJvbSAnLi9yYW5nZSc7XG5leHBvcnQge3JlYWx9IGZyb20gJy4vcmVhbCc7XG5leHBvcnQge3JlY2lwcm9jYWx9IGZyb20gJy4vcmVjaXByb2NhbCc7XG5leHBvcnQge3JlbHV9IGZyb20gJy4vcmVsdSc7XG5leHBvcnQge3JlbHU2fSBmcm9tICcuL3JlbHU2JztcbmV4cG9ydCB7cmVzaGFwZX0gZnJvbSAnLi9yZXNoYXBlJztcbmV4cG9ydCB7cmV2ZXJzZX0gZnJvbSAnLi9yZXZlcnNlJztcbmV4cG9ydCB7cmV2ZXJzZTFkfSBmcm9tICcuL3JldmVyc2VfMWQnO1xuZXhwb3J0IHtyZXZlcnNlMmR9IGZyb20gJy4vcmV2ZXJzZV8yZCc7XG5leHBvcnQge3JldmVyc2UzZH0gZnJvbSAnLi9yZXZlcnNlXzNkJztcbmV4cG9ydCB7cmV2ZXJzZTRkfSBmcm9tICcuL3JldmVyc2VfNGQnO1xuZXhwb3J0IHtyb3VuZH0gZnJvbSAnLi9yb3VuZCc7XG5leHBvcnQge3JzcXJ0fSBmcm9tICcuL3JzcXJ0JztcbmV4cG9ydCB7c2NhbGFyfSBmcm9tICcuL3NjYWxhcic7XG5leHBvcnQge3NlbHV9IGZyb20gJy4vc2VsdSc7XG5leHBvcnQge3NlcGFyYWJsZUNvbnYyZH0gZnJvbSAnLi9zZXBhcmFibGVfY29udjJkJztcbmV4cG9ydCB7c2V0ZGlmZjFkQXN5bmN9IGZyb20gJy4vc2V0ZGlmZjFkX2FzeW5jJztcbmV4cG9ydCB7c2lnbW9pZH0gZnJvbSAnLi9zaWdtb2lkJztcbmV4cG9ydCB7c2lnbn0gZnJvbSAnLi9zaWduJztcbmV4cG9ydCB7c2lufSBmcm9tICcuL3Npbic7XG5leHBvcnQge3Npbmh9IGZyb20gJy4vc2luaCc7XG5leHBvcnQge3NsaWNlfSBmcm9tICcuL3NsaWNlJztcbmV4cG9ydCB7c2xpY2UxZH0gZnJvbSAnLi9zbGljZTFkJztcbmV4cG9ydCB7c2xpY2UyZH0gZnJvbSAnLi9zbGljZTJkJztcbmV4cG9ydCB7c2xpY2UzZH0gZnJvbSAnLi9zbGljZTNkJztcbmV4cG9ydCB7c2xpY2U0ZH0gZnJvbSAnLi9zbGljZTRkJztcbmV4cG9ydCB7c29mdG1heH0gZnJvbSAnLi9zb2Z0bWF4JztcbmV4cG9ydCB7c29mdHBsdXN9IGZyb20gJy4vc29mdHBsdXMnO1xuZXhwb3J0IHtzcGFjZVRvQmF0Y2hORH0gZnJvbSAnLi9zcGFjZV90b19iYXRjaF9uZCc7XG5leHBvcnQge2ZmdH0gZnJvbSAnLi9zcGVjdHJhbC9mZnQnO1xuZXhwb3J0IHtpZmZ0fSBmcm9tICcuL3NwZWN0cmFsL2lmZnQnO1xuZXhwb3J0IHtpcmZmdH0gZnJvbSAnLi9zcGVjdHJhbC9pcmZmdCc7XG5leHBvcnQge3JmZnR9IGZyb20gJy4vc3BlY3RyYWwvcmZmdCc7XG5leHBvcnQge3NwbGl0fSBmcm9tICcuL3NwbGl0JztcbmV4cG9ydCB7c3FydH0gZnJvbSAnLi9zcXJ0JztcbmV4cG9ydCB7c3F1YXJlfSBmcm9tICcuL3NxdWFyZSc7XG5leHBvcnQge3NxdWFyZWREaWZmZXJlbmNlfSBmcm9tICcuL3NxdWFyZWRfZGlmZmVyZW5jZSc7XG5leHBvcnQge3NxdWVlemV9IGZyb20gJy4vc3F1ZWV6ZSc7XG5leHBvcnQge3N0YWNrfSBmcm9tICcuL3N0YWNrJztcbmV4cG9ydCB7c3RlcH0gZnJvbSAnLi9zdGVwJztcbmV4cG9ydCB7c3RyaWRlZFNsaWNlfSBmcm9tICcuL3N0cmlkZWRfc2xpY2UnO1xuZXhwb3J0IHtzdWJ9IGZyb20gJy4vc3ViJztcbmV4cG9ydCB7c3VtfSBmcm9tICcuL3N1bSc7XG5leHBvcnQge3Rhbn0gZnJvbSAnLi90YW4nO1xuZXhwb3J0IHt0YW5ofSBmcm9tICcuL3RhbmgnO1xuZXhwb3J0IHt0ZW5zb3J9IGZyb20gJy4vdGVuc29yJztcbmV4cG9ydCB7dGVuc29yMWR9IGZyb20gJy4vdGVuc29yMWQnO1xuZXhwb3J0IHt0ZW5zb3IyZH0gZnJvbSAnLi90ZW5zb3IyZCc7XG5leHBvcnQge3RlbnNvcjNkfSBmcm9tICcuL3RlbnNvcjNkJztcbmV4cG9ydCB7dGVuc29yNGR9IGZyb20gJy4vdGVuc29yNGQnO1xuZXhwb3J0IHt0ZW5zb3I1ZH0gZnJvbSAnLi90ZW5zb3I1ZCc7XG5leHBvcnQge3RlbnNvcjZkfSBmcm9tICcuL3RlbnNvcjZkJztcbmV4cG9ydCB7dGlsZX0gZnJvbSAnLi90aWxlJztcbmV4cG9ydCB7dG9wa30gZnJvbSAnLi90b3BrJztcbmV4cG9ydCB7dHJ1bmNhdGVkTm9ybWFsfSBmcm9tICcuL3RydW5jYXRlZF9ub3JtYWwnO1xuZXhwb3J0IHt1bmlxdWV9IGZyb20gJy4vdW5pcXVlJztcbmV4cG9ydCB7dW5zb3J0ZWRTZWdtZW50U3VtfSBmcm9tICcuL3Vuc29ydGVkX3NlZ21lbnRfc3VtJztcbmV4cG9ydCB7dW5zdGFja30gZnJvbSAnLi91bnN0YWNrJztcbmV4cG9ydCB7dmFyaWFibGV9IGZyb20gJy4vdmFyaWFibGUnO1xuZXhwb3J0IHt3aGVyZX0gZnJvbSAnLi93aGVyZSc7XG5leHBvcnQge3doZXJlQXN5bmN9IGZyb20gJy4vd2hlcmVfYXN5bmMnO1xuZXhwb3J0IHt6ZXJvc30gZnJvbSAnLi96ZXJvcyc7XG5leHBvcnQge3plcm9zTGlrZX0gZnJvbSAnLi96ZXJvc19saWtlJztcblxuZXhwb3J0ICogZnJvbSAnLi9ib29sZWFuX21hc2snO1xuZXhwb3J0ICogZnJvbSAnLi9jb21wYXJlJztcbmV4cG9ydCAqIGZyb20gJy4vYmluYXJ5X29wcyc7XG5leHBvcnQgKiBmcm9tICcuL3RyYW5zcG9zZSc7XG5leHBvcnQgKiBmcm9tICcuL25vcm0nO1xuZXhwb3J0ICogZnJvbSAnLi9tb3ZpbmdfYXZlcmFnZSc7XG5leHBvcnQgKiBmcm9tICcuL3NjYXR0ZXJfbmQnO1xuZXhwb3J0ICogZnJvbSAnLi9zcGFyc2VfdG9fZGVuc2UnO1xuZXhwb3J0ICogZnJvbSAnLi9nYXRoZXJfbmQnO1xuZXhwb3J0ICogZnJvbSAnLi9kcm9wb3V0JztcbmV4cG9ydCAqIGZyb20gJy4vc2lnbmFsX29wc191dGlsJztcbmV4cG9ydCAqIGZyb20gJy4vaW5fdG9wX2snO1xuXG5leHBvcnQge29wLCBPUF9TQ09QRV9TVUZGSVh9IGZyb20gJy4vb3BlcmF0aW9uJztcblxuaW1wb3J0IHtyZmZ0fSBmcm9tICcuL3NwZWN0cmFsL3JmZnQnO1xuaW1wb3J0IHtmZnR9IGZyb20gJy4vc3BlY3RyYWwvZmZ0JztcbmltcG9ydCB7aWZmdH0gZnJvbSAnLi9zcGVjdHJhbC9pZmZ0JztcbmltcG9ydCB7aXJmZnR9IGZyb20gJy4vc3BlY3RyYWwvaXJmZnQnO1xuY29uc3Qgc3BlY3RyYWwgPSB7XG4gIGZmdCxcbiAgaWZmdCxcbiAgcmZmdCxcbiAgaXJmZnRcbn07XG5cbmltcG9ydCAqIGFzIGZ1c2VkIGZyb20gJy4vZnVzZWRfb3BzJztcblxuaW1wb3J0IHtoYW1taW5nV2luZG93fSBmcm9tICcuL3NpZ25hbC9oYW1taW5nX3dpbmRvdyc7XG5pbXBvcnQge2hhbm5XaW5kb3d9IGZyb20gJy4vc2lnbmFsL2hhbm5fd2luZG93JztcbmltcG9ydCB7ZnJhbWV9IGZyb20gJy4vc2lnbmFsL2ZyYW1lJztcbmltcG9ydCB7c3RmdH0gZnJvbSAnLi9zaWduYWwvc3RmdCc7XG5jb25zdCBzaWduYWwgPSB7XG4gIGhhbW1pbmdXaW5kb3csXG4gIGhhbm5XaW5kb3csXG4gIGZyYW1lLFxuICBzdGZ0LFxufTtcblxuLy8gSW1hZ2UgT3BzIG5hbWVzcGFjZVxuaW1wb3J0IHtjcm9wQW5kUmVzaXplfSBmcm9tICcuL2ltYWdlL2Nyb3BfYW5kX3Jlc2l6ZSc7XG5pbXBvcnQge2ZsaXBMZWZ0UmlnaHR9IGZyb20gJy4vaW1hZ2UvZmxpcF9sZWZ0X3JpZ2h0JztcbmltcG9ydCB7cm90YXRlV2l0aE9mZnNldH0gZnJvbSAnLi9pbWFnZS9yb3RhdGVfd2l0aF9vZmZzZXQnO1xuaW1wb3J0IHtub25NYXhTdXBwcmVzc2lvbn0gZnJvbSAnLi9pbWFnZS9ub25fbWF4X3N1cHByZXNzaW9uJztcbmltcG9ydCB7bm9uTWF4U3VwcHJlc3Npb25Bc3luY30gZnJvbSAnLi9pbWFnZS9ub25fbWF4X3N1cHByZXNzaW9uX2FzeW5jJztcbmltcG9ydCB7bm9uTWF4U3VwcHJlc3Npb25XaXRoU2NvcmV9IGZyb20gJy4vaW1hZ2Uvbm9uX21heF9zdXBwcmVzc2lvbl93aXRoX3Njb3JlJztcbmltcG9ydCB7bm9uTWF4U3VwcHJlc3Npb25XaXRoU2NvcmVBc3luY30gZnJvbSAnLi9pbWFnZS9ub25fbWF4X3N1cHByZXNzaW9uX3dpdGhfc2NvcmVfYXN5bmMnO1xuaW1wb3J0IHtub25NYXhTdXBwcmVzc2lvblBhZGRlZH0gZnJvbSAnLi9pbWFnZS9ub25fbWF4X3N1cHByZXNzaW9uX3BhZGRlZCc7XG5pbXBvcnQge25vbk1heFN1cHByZXNzaW9uUGFkZGVkQXN5bmN9IGZyb20gJy4vaW1hZ2Uvbm9uX21heF9zdXBwcmVzc2lvbl9wYWRkZWRfYXN5bmMnO1xuaW1wb3J0IHtyZXNpemVCaWxpbmVhcn0gZnJvbSAnLi9pbWFnZS9yZXNpemVfYmlsaW5lYXInO1xuaW1wb3J0IHtyZXNpemVOZWFyZXN0TmVpZ2hib3J9IGZyb20gJy4vaW1hZ2UvcmVzaXplX25lYXJlc3RfbmVpZ2hib3InO1xuY29uc3QgaW1hZ2UgPSB7XG4gIGZsaXBMZWZ0UmlnaHQsXG4gIHJlc2l6ZU5lYXJlc3ROZWlnaGJvcixcbiAgcmVzaXplQmlsaW5lYXIsXG4gIHJvdGF0ZVdpdGhPZmZzZXQsXG4gIGNyb3BBbmRSZXNpemUsXG4gIG5vbk1heFN1cHByZXNzaW9uLFxuICBub25NYXhTdXBwcmVzc2lvbkFzeW5jLFxuICBub25NYXhTdXBwcmVzc2lvbldpdGhTY29yZSxcbiAgbm9uTWF4U3VwcHJlc3Npb25XaXRoU2NvcmVBc3luYyxcbiAgbm9uTWF4U3VwcHJlc3Npb25QYWRkZWQsXG4gIG5vbk1heFN1cHByZXNzaW9uUGFkZGVkQXN5bmNcbn07XG5cbi8vIGxpbmFsZyBuYW1lc3BhY2VcbmltcG9ydCB7YmFuZFBhcnR9IGZyb20gJy4vbGluYWxnL2JhbmRfcGFydCc7XG5pbXBvcnQge2dyYW1TY2htaWR0fSBmcm9tICcuL2xpbmFsZy9ncmFtX3NjaG1pZHQnO1xuaW1wb3J0IHtxcn0gZnJvbSAnLi9saW5hbGcvcXInO1xuY29uc3QgbGluYWxnID0ge1xuICBiYW5kUGFydCxcbiAgZ3JhbVNjaG1pZHQsXG4gIHFyXG59O1xuXG4vLyBsb3NzZXMgbmFtZXNwYWNlO1xuaW1wb3J0IHthYnNvbHV0ZURpZmZlcmVuY2V9IGZyb20gJy4vbG9zc2VzL2Fic29sdXRlX2RpZmZlcmVuY2UnO1xuaW1wb3J0IHtjb21wdXRlV2VpZ2h0ZWRMb3NzfSBmcm9tICcuL2xvc3Nlcy9jb21wdXRlX3dlaWdodGVkX2xvc3MnO1xuaW1wb3J0IHtjb3NpbmVEaXN0YW5jZX0gZnJvbSAnLi9sb3NzZXMvY29zaW5lX2Rpc3RhbmNlJztcbmltcG9ydCB7aGluZ2VMb3NzfSBmcm9tICcuL2xvc3Nlcy9oaW5nZV9sb3NzJztcbmltcG9ydCB7aHViZXJMb3NzfSBmcm9tICcuL2xvc3Nlcy9odWJlcl9sb3NzJztcbmltcG9ydCB7bG9nTG9zc30gZnJvbSAnLi9sb3NzZXMvbG9nX2xvc3MnO1xuaW1wb3J0IHttZWFuU3F1YXJlZEVycm9yfSBmcm9tICcuL2xvc3Nlcy9tZWFuX3NxdWFyZWRfZXJyb3InO1xuaW1wb3J0IHtzaWdtb2lkQ3Jvc3NFbnRyb3B5fSBmcm9tICcuL2xvc3Nlcy9zaWdtb2lkX2Nyb3NzX2VudHJvcHknO1xuaW1wb3J0IHtzb2Z0bWF4Q3Jvc3NFbnRyb3B5fSBmcm9tICcuL2xvc3Nlcy9zb2Z0bWF4X2Nyb3NzX2VudHJvcHknO1xuY29uc3QgbG9zc2VzID0ge1xuICBhYnNvbHV0ZURpZmZlcmVuY2UsXG4gIGNvbXB1dGVXZWlnaHRlZExvc3MsXG4gIGNvc2luZURpc3RhbmNlLFxuICBoaW5nZUxvc3MsXG4gIGh1YmVyTG9zcyxcbiAgbG9nTG9zcyxcbiAgbWVhblNxdWFyZWRFcnJvcixcbiAgc2lnbW9pZENyb3NzRW50cm9weSxcbiAgc29mdG1heENyb3NzRW50cm9weVxufTtcblxuLy8gU2Vjb25kIGxldmVsIGV4cG9ydHMuXG5leHBvcnQge2ltYWdlLCBsaW5hbGcsIGxvc3Nlcywgc3BlY3RyYWwsIGZ1c2VkLCBzaWduYWx9O1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTggR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG5pbXBvcnQge2Rpc3Bvc2V9IGZyb20gJy4uL2dsb2JhbHMnO1xuaW1wb3J0IHt2YXJpYWJsZUdyYWRzfSBmcm9tICcuLi9ncmFkaWVudHMnO1xuaW1wb3J0IHtzY2FsYXJ9IGZyb20gJy4uL29wcy9vcHMnO1xuaW1wb3J0IHtTZXJpYWxpemFibGV9IGZyb20gJy4uL3NlcmlhbGl6YXRpb24nO1xuaW1wb3J0IHtTY2FsYXIsIFZhcmlhYmxlfSBmcm9tICcuLi90ZW5zb3InO1xuaW1wb3J0IHtOYW1lZFRlbnNvciwgTmFtZWRUZW5zb3JNYXB9IGZyb20gJy4uL3RlbnNvcl90eXBlcyc7XG5cbi8qKlxuICogQSB2YXJpYWJsZSB0aGF0IGJlbG9uZ3MgdG8gYW4gb3B0aW1pemVyLlxuICpcbiAqIFRoZSBgb3JpZ2luYWxOYW1lYCBmaWVsZCBpcyByZXF1aXJlZCBmb3Iga2VlcGluZyB0cmFjayBvZiB0aGUgY2Fub25pY2FsXG4gKiBuYW1lIG9mIHRoZSB2YXJpYWJsZSwgd2hpY2ggaXMgdXN1YWxseSB0aGUgbmFtZSBvZiB0aGUgbW9kZWwgd2VpZ2h0IHRoYXRcbiAqIHRoZSB2YXJpYWJsZSBpcyByZWxhdGVkIHRvIHBsdXMgYSBzdWZmaXgsIGUuZy4sICdkZW5zZTEva2VybmVsL21vbWVudHVtJy5cbiAqIFRoZSBuYW1lIG9mIHRoZSBgVmFyaWFibGVgIG9iamVjdCBpdHNlbGYgY2Fubm90IGJlIHVzZWQgZGlyZWN0bHkgZHVlIHRvXG4gKiBwb3NzaWJsZSBkZWR1cGxpY2F0aW9uOiBFdmVyeSBgVmFyaWFibGVgIG11c3QgaGF2ZSBhIHVuaXF1ZSBuYW1lIGJ1dCBtb3JlXG4gKiB0aGFuIG9uZSBvcHRpbWl6ZXIgb2JqZWN0cyBvZiB0aGUgc2FtZSB0eXBlIG1heSBiZSBjcmVhdGVkIGZvciB0aGUgc2FtZSBtb2RlbFxuICogb3IgdGhlIHNhbWUgYFZhcmlhYmxlYC5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBPcHRpbWl6ZXJWYXJpYWJsZSB7XG4gIG9yaWdpbmFsTmFtZTogc3RyaW5nO1xuICB2YXJpYWJsZTogVmFyaWFibGU7XG59XG5cbi8qKiBAZG9jIHtoZWFkaW5nOiAnVHJhaW5pbmcnLCBzdWJoZWFkaW5nOiAnQ2xhc3NlcycsIG5hbWVzcGFjZTogJ3RyYWluJ30gKi9cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBPcHRpbWl6ZXIgZXh0ZW5kcyBTZXJpYWxpemFibGUge1xuICBwcm90ZWN0ZWQgaXRlcmF0aW9uc186IG51bWJlcjtcblxuICAvKipcbiAgICogRXhlY3V0ZXMgYGYoKWAgYW5kIG1pbmltaXplcyB0aGUgc2NhbGFyIG91dHB1dCBvZiBgZigpYCBieSBjb21wdXRpbmdcbiAgICogZ3JhZGllbnRzIG9mIHkgd2l0aCByZXNwZWN0IHRvIHRoZSBsaXN0IG9mIHRyYWluYWJsZSB2YXJpYWJsZXMgcHJvdmlkZWQgYnlcbiAgICogYHZhckxpc3RgLiBJZiBubyBsaXN0IGlzIHByb3ZpZGVkLCBpdCBkZWZhdWx0cyB0byBhbGwgdHJhaW5hYmxlIHZhcmlhYmxlcy5cbiAgICpcbiAgICogQHBhcmFtIGYgVGhlIGZ1bmN0aW9uIHRvIGV4ZWN1dGUgYW5kIHdob3NlIG91dHB1dCB0byBtaW5pbWl6ZS5cbiAgICogQHBhcmFtIHJldHVybkNvc3QgV2hldGhlciB0byByZXR1cm4gdGhlIHNjYWxhciBjb3N0IHZhbHVlIHByb2R1Y2VkIGJ5XG4gICAqIGV4ZWN1dGluZyBgZigpYC5cbiAgICogQHBhcmFtIHZhckxpc3QgQW4gb3B0aW9uYWwgbGlzdCBvZiB2YXJpYWJsZXMgdG8gdXBkYXRlLiBJZiBzcGVjaWZpZWQsIG9ubHlcbiAgICogdGhlIHRyYWluYWJsZSB2YXJpYWJsZXMgaW4gdmFyTGlzdCB3aWxsIGJlIHVwZGF0ZWQgYnkgbWluaW1pemUuIERlZmF1bHRzIHRvXG4gICAqIGFsbCB0cmFpbmFibGUgdmFyaWFibGVzLlxuICAgKlxuICAgKiBAZG9jIHtoZWFkaW5nOiAnVHJhaW5pbmcnLCBzdWJoZWFkaW5nOiAnT3B0aW1pemVycyd9XG4gICAqL1xuICBtaW5pbWl6ZShmOiAoKSA9PiBTY2FsYXIsIHJldHVybkNvc3QgPSBmYWxzZSwgdmFyTGlzdD86IFZhcmlhYmxlW10pOiBTY2FsYXJcbiAgICAgIHxudWxsIHtcbiAgICBjb25zdCB7dmFsdWUsIGdyYWRzfSA9IHRoaXMuY29tcHV0ZUdyYWRpZW50cyhmLCB2YXJMaXN0KTtcblxuICAgIGlmICh2YXJMaXN0ICE9IG51bGwpIHtcbiAgICAgIGNvbnN0IGdyYWRBcnJheTogTmFtZWRUZW5zb3JbXSA9XG4gICAgICAgICAgdmFyTGlzdC5tYXAodiA9PiAoe25hbWU6IHYubmFtZSwgdGVuc29yOiBncmFkc1t2Lm5hbWVdfSkpO1xuICAgICAgdGhpcy5hcHBseUdyYWRpZW50cyhncmFkQXJyYXkpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmFwcGx5R3JhZGllbnRzKGdyYWRzKTtcbiAgICB9XG5cbiAgICAvLyBEaXNwb3NlIGdyYWRpZW50cy5cbiAgICBkaXNwb3NlKGdyYWRzKTtcblxuICAgIGlmIChyZXR1cm5Db3N0KSB7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhbHVlLmRpc3Bvc2UoKTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgbnVtYmVyIG9mIGl0ZXJhdGlvbnMgdGhhdCB0aGlzIG9wdGltaXplciBpbnN0YW5jZSBoYXMgYmVlbiBpbnZva2VkIGZvci5cbiAgICovXG4gIGdldCBpdGVyYXRpb25zKCk6IG51bWJlciB7XG4gICAgaWYgKHRoaXMuaXRlcmF0aW9uc18gPT0gbnVsbCkge1xuICAgICAgdGhpcy5pdGVyYXRpb25zXyA9IDA7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLml0ZXJhdGlvbnNfO1xuICB9XG5cbiAgcHJvdGVjdGVkIGluY3JlbWVudEl0ZXJhdGlvbnMoKSB7XG4gICAgdGhpcy5pdGVyYXRpb25zXyA9IHRoaXMuaXRlcmF0aW9ucyArIDE7XG4gIH1cblxuICAvKipcbiAgICogRXhlY3V0ZXMgZigpIGFuZCBjb21wdXRlcyB0aGUgZ3JhZGllbnQgb2YgdGhlIHNjYWxhciBvdXRwdXQgb2YgZigpIHdpdGhcbiAgICogcmVzcGVjdCB0byB0aGUgbGlzdCBvZiB0cmFpbmFibGUgdmFyaWFibGVzIHByb3ZpZGVkIGJ5IGB2YXJMaXN0YC4gSWYgbm9cbiAgICogbGlzdCBpcyBwcm92aWRlZCwgaXQgZGVmYXVsdHMgdG8gYWxsIHRyYWluYWJsZSB2YXJpYWJsZXMuXG4gICAqXG4gICAqIEBwYXJhbSBmIFRoZSBmdW5jdGlvbiB0byBleGVjdXRlIGFuZCB3aG9zZSBvdXRwdXQgdG8gdXNlIGZvciBjb21wdXRpbmdcbiAgICogZ3JhZGllbnRzIHdpdGggcmVzcGVjdCB0byB2YXJpYWJsZXMuXG4gICAqIEBwYXJhbSB2YXJMaXN0IEFuIG9wdGlvbmFsIGxpc3Qgb2YgdmFyaWFibGVzIHRvIGNvbXB1dGUgZ3JhZGllbnRzIHdpdGhcbiAgICogcmVzcGVjdCB0by4gSWYgc3BlY2lmaWVkLCBvbmx5IHRoZSB0cmFpbmFibGUgdmFyaWFibGVzIGluIHZhckxpc3Qgd2lsbCBoYXZlXG4gICAqIGdyYWRpZW50cyBjb21wdXRlZCB3aXRoIHJlc3BlY3QgdG8uIERlZmF1bHRzIHRvIGFsbCB0cmFpbmFibGUgdmFyaWFibGVzLlxuICAgKlxuICAgKiBAZG9jIHtoZWFkaW5nOiAnVHJhaW5pbmcnLCBzdWJoZWFkaW5nOiAnT3B0aW1pemVycyd9XG4gICAqL1xuICBjb21wdXRlR3JhZGllbnRzKGY6ICgpID0+IFNjYWxhciwgdmFyTGlzdD86IFZhcmlhYmxlW10pOlxuICAgICAge3ZhbHVlOiBTY2FsYXIsIGdyYWRzOiBOYW1lZFRlbnNvck1hcH0ge1xuICAgIHJldHVybiB2YXJpYWJsZUdyYWRzKGYsIHZhckxpc3QpO1xuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZXMgdmFyaWFibGVzIGJ5IHVzaW5nIHRoZSBjb21wdXRlZCBncmFkaWVudHMuXG4gICAqXG4gICAqIEBwYXJhbSB2YXJpYWJsZUdyYWRpZW50cyBBIG1hcHBpbmcgb2YgdmFyaWFibGUgbmFtZSB0byBpdHMgZ3JhZGllbnQgdmFsdWUuXG4gICAqXG4gICAqIEBkb2Mge2hlYWRpbmc6ICdUcmFpbmluZycsIHN1YmhlYWRpbmc6ICdPcHRpbWl6ZXJzJ31cbiAgICovXG4gIGFic3RyYWN0IGFwcGx5R3JhZGllbnRzKHZhcmlhYmxlR3JhZGllbnRzOiBOYW1lZFRlbnNvck1hcHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgTmFtZWRUZW5zb3JbXSk6IHZvaWQ7XG5cbiAgLyoqXG4gICAqIERpc3Bvc2UgdGhlIHZhcmlhYmxlcyAoaWYgYW55KSBvd25lZCBieSB0aGlzIG9wdGltaXplciBpbnN0YW5jZS5cbiAgICovXG4gIGRpc3Bvc2UoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuaXRlcmF0aW9uc18gIT0gbnVsbCkge1xuICAgICAgZGlzcG9zZSh0aGlzLml0ZXJhdGlvbnNfKTtcbiAgICB9XG4gIH1cblxuICBhc3luYyBzYXZlSXRlcmF0aW9ucygpOiBQcm9taXNlPE5hbWVkVGVuc29yPiB7XG4gICAgaWYgKHRoaXMuaXRlcmF0aW9uc18gPT0gbnVsbCkge1xuICAgICAgdGhpcy5pdGVyYXRpb25zXyA9IDA7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICBuYW1lOiAnaXRlcicsICAvLyBOYW1lZCBmb3IgUHl0aG9uIGNvbXBhdGliaWxpdHkuXG4gICAgICAvLyBUT0RPKGNhaXMpOiBVc2UgJ2ludDY0JyB0eXBlIHdoZW4gYXZhaWxhYmxlLlxuICAgICAgdGVuc29yOiBzY2FsYXIodGhpcy5pdGVyYXRpb25zXywgJ2ludDMyJylcbiAgICB9O1xuICB9XG5cbiAgYXN5bmMgZ2V0V2VpZ2h0cygpOiBQcm9taXNlPE5hbWVkVGVuc29yW10+IHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2dldFdlaWdodHMoKSBpcyBub3QgaW1wbGVtZW50ZWQgZm9yIHRoaXMgb3B0aW1pemVyIHlldC4nKTtcbiAgfVxuXG4gIGFzeW5jIHNldFdlaWdodHMod2VpZ2h0VmFsdWVzOiBOYW1lZFRlbnNvcltdKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBgc2V0V2VpZ2h0cygpIGlzIG5vdCBpbXBsZW1lbnRlZCBmb3IgdGhpcyBvcHRpbWl6ZXIgY2xhc3MgYCArXG4gICAgICAgIGAke3RoaXMuZ2V0Q2xhc3NOYW1lKCl9YCk7XG4gIH1cblxuICAvKipcbiAgICogRXh0cmFjdCB0aGUgZmlyc3QgZWxlbWVudCBvZiB0aGUgd2VpZ2h0IHZhbHVlcyBhbmQgc2V0IGl0XG4gICAqIGFzIHRoZSBpdGVyYXRpb25zIGNvdW50ZXIgdmFyaWFibGUgb2YgdGhpcyBpbnN0YW5jZSBvZiBvcHRpbWl6ZXIuXG4gICAqXG4gICAqIEBwYXJhbSB3ZWlnaHRWYWx1ZXNcbiAgICogQHJldHVybnMgV2VpZ2h0IHZhbHVlcyB3aXRoIHRoZSBmaXJzdCBlbGVtZW50IGNvbnN1bWVkIGFuZCBleGNsdWRlZC5cbiAgICovXG4gIHByb3RlY3RlZCBhc3luYyBleHRyYWN0SXRlcmF0aW9ucyh3ZWlnaHRWYWx1ZXM6IE5hbWVkVGVuc29yW10pOlxuICAgICAgUHJvbWlzZTxOYW1lZFRlbnNvcltdPiB7XG4gICAgdGhpcy5pdGVyYXRpb25zXyA9IChhd2FpdCB3ZWlnaHRWYWx1ZXNbMF0udGVuc29yLmRhdGEoKSlbMF07XG4gICAgcmV0dXJuIHdlaWdodFZhbHVlcy5zbGljZSgxKTtcbiAgfVxufVxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoT3B0aW1pemVyLCBTeW1ib2wuaGFzSW5zdGFuY2UsIHtcbiAgdmFsdWU6IChpbnN0YW5jZTogT3B0aW1pemVyKSA9PiB7XG4gICAgcmV0dXJuIGluc3RhbmNlLm1pbmltaXplICE9IG51bGwgJiYgaW5zdGFuY2UuY29tcHV0ZUdyYWRpZW50cyAhPSBudWxsICYmXG4gICAgICAgIGluc3RhbmNlLmFwcGx5R3JhZGllbnRzICE9IG51bGw7XG4gIH1cbn0pO1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTggR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG5pbXBvcnQge0VOR0lORX0gZnJvbSAnLi4vZW5naW5lJztcbmltcG9ydCB7ZGlzcG9zZSwgdGlkeX0gZnJvbSAnLi4vZ2xvYmFscyc7XG5pbXBvcnQge2FkZH0gZnJvbSAnLi4vb3BzL2FkZCc7XG5pbXBvcnQge2Rpdn0gZnJvbSAnLi4vb3BzL2Rpdic7XG5pbXBvcnQge211bH0gZnJvbSAnLi4vb3BzL211bCc7XG5pbXBvcnQge3NxcnR9IGZyb20gJy4uL29wcy9vcHMnO1xuaW1wb3J0IHtzcXVhcmV9IGZyb20gJy4uL29wcy9zcXVhcmUnO1xuaW1wb3J0IHt6ZXJvc0xpa2V9IGZyb20gJy4uL29wcy96ZXJvc19saWtlJztcbmltcG9ydCB7Q29uZmlnRGljdCwgcmVnaXN0ZXJDbGFzcywgU2VyaWFsaXphYmxlLCBTZXJpYWxpemFibGVDb25zdHJ1Y3Rvcn0gZnJvbSAnLi4vc2VyaWFsaXphdGlvbic7XG5pbXBvcnQge05hbWVkVGVuc29yLCBOYW1lZFZhcmlhYmxlTWFwfSBmcm9tICcuLi90ZW5zb3JfdHlwZXMnO1xuXG5pbXBvcnQge09wdGltaXplciwgT3B0aW1pemVyVmFyaWFibGV9IGZyb20gJy4vb3B0aW1pemVyJztcblxuLyoqIEBkb2NsaW5rIE9wdGltaXplciAqL1xuZXhwb3J0IGNsYXNzIEFkYWRlbHRhT3B0aW1pemVyIGV4dGVuZHMgT3B0aW1pemVyIHtcbiAgLyoqIEBub2NvbGxhcHNlICovXG4gIHN0YXRpYyBjbGFzc05hbWUgPSAnQWRhZGVsdGEnOyAgLy8gTmFtZSBtYXR0ZXJzIGZvciBQeXRob24gY29tcGF0aWJpbGl0eS5cbiAgcHJpdmF0ZSBhY2N1bXVsYXRlZEdyYWRzOiBPcHRpbWl6ZXJWYXJpYWJsZVtdID0gW107XG4gIHByaXZhdGUgYWNjdW11bGF0ZWRVcGRhdGVzOiBPcHRpbWl6ZXJWYXJpYWJsZVtdID0gW107XG5cbiAgY29uc3RydWN0b3IoXG4gICAgICBwcm90ZWN0ZWQgbGVhcm5pbmdSYXRlOiBudW1iZXIsIHByb3RlY3RlZCByaG86IG51bWJlcixcbiAgICAgIHByb3RlY3RlZCBlcHNpbG9uOiBudW1iZXIgPSBudWxsKSB7XG4gICAgc3VwZXIoKTtcblxuICAgIGlmIChlcHNpbG9uID09IG51bGwpIHtcbiAgICAgIHRoaXMuZXBzaWxvbiA9IEVOR0lORS5iYWNrZW5kLmVwc2lsb24oKTtcbiAgICB9XG4gIH1cblxuICBhcHBseUdyYWRpZW50cyh2YXJpYWJsZUdyYWRpZW50czogTmFtZWRWYXJpYWJsZU1hcHxOYW1lZFRlbnNvcltdKSB7XG4gICAgY29uc3QgdmFyaWFibGVOYW1lcyA9IEFycmF5LmlzQXJyYXkodmFyaWFibGVHcmFkaWVudHMpID9cbiAgICAgICAgdmFyaWFibGVHcmFkaWVudHMubWFwKGl0ZW0gPT4gaXRlbS5uYW1lKSA6XG4gICAgICAgIE9iamVjdC5rZXlzKHZhcmlhYmxlR3JhZGllbnRzKTtcblxuICAgIHZhcmlhYmxlTmFtZXMuZm9yRWFjaCgobmFtZSwgaSkgPT4ge1xuICAgICAgY29uc3QgdmFsdWUgPSBFTkdJTkUucmVnaXN0ZXJlZFZhcmlhYmxlc1tuYW1lXTtcbiAgICAgIGNvbnN0IHRyYWluYWJsZSA9IGZhbHNlO1xuICAgICAgaWYgKHRoaXMuYWNjdW11bGF0ZWRHcmFkc1tpXSA9PSBudWxsKSB7XG4gICAgICAgIHRoaXMuYWNjdW11bGF0ZWRHcmFkc1tpXSA9IHtcbiAgICAgICAgICBvcmlnaW5hbE5hbWU6IGAke25hbWV9L2FjY3VtX2dyYWRgLFxuICAgICAgICAgIHZhcmlhYmxlOiB0aWR5KCgpID0+IHplcm9zTGlrZSh2YWx1ZSkudmFyaWFibGUodHJhaW5hYmxlKSlcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLmFjY3VtdWxhdGVkVXBkYXRlc1tpXSA9PSBudWxsKSB7XG4gICAgICAgIHRoaXMuYWNjdW11bGF0ZWRVcGRhdGVzW2ldID0ge1xuICAgICAgICAgIG9yaWdpbmFsTmFtZTogYCR7bmFtZX0vYWNjdW1fdmFyYCxcbiAgICAgICAgICB2YXJpYWJsZTogdGlkeSgoKSA9PiB6ZXJvc0xpa2UodmFsdWUpLnZhcmlhYmxlKHRyYWluYWJsZSkpXG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGdyYWRpZW50ID0gQXJyYXkuaXNBcnJheSh2YXJpYWJsZUdyYWRpZW50cykgP1xuICAgICAgICAgIHZhcmlhYmxlR3JhZGllbnRzW2ldLnRlbnNvciA6XG4gICAgICAgICAgdmFyaWFibGVHcmFkaWVudHNbbmFtZV07XG4gICAgICBpZiAoZ3JhZGllbnQgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGFjY3VtdWxhdGVkR3JhZCA9IHRoaXMuYWNjdW11bGF0ZWRHcmFkc1tpXS52YXJpYWJsZTtcbiAgICAgIGNvbnN0IGFjY3VtdWxhdGVkVXBkYXRlID0gdGhpcy5hY2N1bXVsYXRlZFVwZGF0ZXNbaV0udmFyaWFibGU7XG5cbiAgICAgIHRpZHkoKCkgPT4ge1xuICAgICAgICBjb25zdCBuZXdBY2N1bXVsYXRlZEdyYWQgPVxuICAgICAgICAgICAgYWRkKG11bChhY2N1bXVsYXRlZEdyYWQsIHRoaXMucmhvKSxcbiAgICAgICAgICAgICAgICBtdWwoc3F1YXJlKGdyYWRpZW50KSwgMSAtIHRoaXMucmhvKSk7XG5cbiAgICAgICAgY29uc3QgdXBkYXRlcyA9XG4gICAgICAgICAgICBtdWwoZGl2KHNxcnQoYWRkKGFjY3VtdWxhdGVkVXBkYXRlLCB0aGlzLmVwc2lsb24pKSxcbiAgICAgICAgICAgICAgICAgICAgc3FydChhZGQoYWNjdW11bGF0ZWRHcmFkLCB0aGlzLmVwc2lsb24pKSksXG4gICAgICAgICAgICAgICAgZ3JhZGllbnQpO1xuXG4gICAgICAgIGNvbnN0IG5ld0FjY3VtdWxhdGVkVXBkYXRlID1cbiAgICAgICAgICAgIGFkZChtdWwoYWNjdW11bGF0ZWRVcGRhdGUsIHRoaXMucmhvKSxcbiAgICAgICAgICAgICAgICBtdWwoc3F1YXJlKHVwZGF0ZXMpLCAxIC0gdGhpcy5yaG8pKTtcblxuICAgICAgICBhY2N1bXVsYXRlZEdyYWQuYXNzaWduKG5ld0FjY3VtdWxhdGVkR3JhZCk7XG4gICAgICAgIGFjY3VtdWxhdGVkVXBkYXRlLmFzc2lnbihuZXdBY2N1bXVsYXRlZFVwZGF0ZSk7XG5cbiAgICAgICAgY29uc3QgbmV3VmFsdWUgPSBhZGQobXVsKHVwZGF0ZXMsIC10aGlzLmxlYXJuaW5nUmF0ZSksIHZhbHVlKTtcbiAgICAgICAgdmFsdWUuYXNzaWduKG5ld1ZhbHVlKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHRoaXMuaW5jcmVtZW50SXRlcmF0aW9ucygpO1xuICB9XG5cbiAgZGlzcG9zZSgpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5hY2N1bXVsYXRlZFVwZGF0ZXMgIT0gbnVsbCkge1xuICAgICAgZGlzcG9zZSh0aGlzLmFjY3VtdWxhdGVkR3JhZHMubWFwKHYgPT4gdi52YXJpYWJsZSkpO1xuICAgICAgZGlzcG9zZSh0aGlzLmFjY3VtdWxhdGVkVXBkYXRlcy5tYXAodiA9PiB2LnZhcmlhYmxlKSk7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgZ2V0V2VpZ2h0cygpOiBQcm9taXNlPE5hbWVkVGVuc29yW10+IHtcbiAgICAvLyBPcmRlciBtYXR0ZXJzIGZvciBQeXRob24gY29tcGF0aWJpbGl0eS5cbiAgICBjb25zdCB2YXJpYWJsZXM6IE9wdGltaXplclZhcmlhYmxlW10gPVxuICAgICAgICBbLi4udGhpcy5hY2N1bXVsYXRlZEdyYWRzLCAuLi50aGlzLmFjY3VtdWxhdGVkVXBkYXRlc107XG4gICAgcmV0dXJuIFthd2FpdCB0aGlzLnNhdmVJdGVyYXRpb25zKCldLmNvbmNhdChcbiAgICAgICAgdmFyaWFibGVzLm1hcCh2ID0+ICh7bmFtZTogdi5vcmlnaW5hbE5hbWUsIHRlbnNvcjogdi52YXJpYWJsZX0pKSk7XG4gIH1cblxuICBhc3luYyBzZXRXZWlnaHRzKHdlaWdodFZhbHVlczogTmFtZWRUZW5zb3JbXSk6IFByb21pc2U8dm9pZD4ge1xuICAgIHdlaWdodFZhbHVlcyA9IGF3YWl0IHRoaXMuZXh0cmFjdEl0ZXJhdGlvbnMod2VpZ2h0VmFsdWVzKTtcbiAgICBjb25zdCB2YXJpYWJsZUNvdW50ID0gd2VpZ2h0VmFsdWVzLmxlbmd0aCAvIDI7XG4gICAgY29uc3QgdHJhaW5hYmxlID0gZmFsc2U7XG4gICAgdGhpcy5hY2N1bXVsYXRlZEdyYWRzID1cbiAgICAgICAgd2VpZ2h0VmFsdWVzLnNsaWNlKDAsIHZhcmlhYmxlQ291bnQpLm1hcCh2ID0+ICh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbE5hbWU6IHYubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhcmlhYmxlOiB2LnRlbnNvci52YXJpYWJsZShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFpbmFibGUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgIHRoaXMuYWNjdW11bGF0ZWRVcGRhdGVzID1cbiAgICAgICAgd2VpZ2h0VmFsdWVzLnNsaWNlKHZhcmlhYmxlQ291bnQsIHZhcmlhYmxlQ291bnQgKiAyKVxuICAgICAgICAgICAgLm1hcCh2ID0+ICh7XG4gICAgICAgICAgICAgICAgICAgb3JpZ2luYWxOYW1lOiB2Lm5hbWUsXG4gICAgICAgICAgICAgICAgICAgdmFyaWFibGU6IHYudGVuc29yLnZhcmlhYmxlKHRyYWluYWJsZSlcbiAgICAgICAgICAgICAgICAgfSkpO1xuICB9XG5cbiAgZ2V0Q29uZmlnKCk6IENvbmZpZ0RpY3Qge1xuICAgIHJldHVybiB7XG4gICAgICAnbGVhcm5pbmdSYXRlJzogdGhpcy5sZWFybmluZ1JhdGUsXG4gICAgICAncmhvJzogdGhpcy5yaG8sXG4gICAgICAnZXBzaWxvbic6IHRoaXMuZXBzaWxvblxuICAgIH07XG4gIH1cblxuICAvKiogQG5vY29sbGFwc2UgKi9cbiAgc3RhdGljIGZyb21Db25maWc8VCBleHRlbmRzIFNlcmlhbGl6YWJsZT4oXG4gICAgICBjbHM6IFNlcmlhbGl6YWJsZUNvbnN0cnVjdG9yPFQ+LCBjb25maWc6IENvbmZpZ0RpY3QpOiBUIHtcbiAgICByZXR1cm4gbmV3IGNscyhjb25maWdbJ2xlYXJuaW5nUmF0ZSddLCBjb25maWdbJ3JobyddLCBjb25maWdbJ2Vwc2lsb24nXSk7XG4gIH1cbn1cbnJlZ2lzdGVyQ2xhc3MoQWRhZGVsdGFPcHRpbWl6ZXIpO1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTggR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG5pbXBvcnQge0VOR0lORX0gZnJvbSAnLi4vZW5naW5lJztcbmltcG9ydCB7ZGlzcG9zZSwgdGlkeX0gZnJvbSAnLi4vZ2xvYmFscyc7XG5pbXBvcnQge2FkZH0gZnJvbSAnLi4vb3BzL2FkZCc7XG5pbXBvcnQge2Rpdn0gZnJvbSAnLi4vb3BzL2Rpdic7XG5pbXBvcnQge2ZpbGx9IGZyb20gJy4uL29wcy9maWxsJztcbmltcG9ydCB7bXVsfSBmcm9tICcuLi9vcHMvbXVsJztcbmltcG9ydCB7c3FydH0gZnJvbSAnLi4vb3BzL3NxcnQnO1xuaW1wb3J0IHtzcXVhcmV9IGZyb20gJy4uL29wcy9zcXVhcmUnO1xuaW1wb3J0IHtDb25maWdEaWN0LCByZWdpc3RlckNsYXNzLCBTZXJpYWxpemFibGUsIFNlcmlhbGl6YWJsZUNvbnN0cnVjdG9yfSBmcm9tICcuLi9zZXJpYWxpemF0aW9uJztcbmltcG9ydCB7TmFtZWRUZW5zb3IsIE5hbWVkVmFyaWFibGVNYXB9IGZyb20gJy4uL3RlbnNvcl90eXBlcyc7XG5cbmltcG9ydCB7T3B0aW1pemVyLCBPcHRpbWl6ZXJWYXJpYWJsZX0gZnJvbSAnLi9vcHRpbWl6ZXInO1xuXG4vKiogQGRvY2xpbmsgT3B0aW1pemVyICovXG5leHBvcnQgY2xhc3MgQWRhZ3JhZE9wdGltaXplciBleHRlbmRzIE9wdGltaXplciB7XG4gIC8qKiBAbm9jb2xsYXBzZSAqL1xuICBzdGF0aWMgY2xhc3NOYW1lID0gJ0FkYWdyYWQnOyAgLy8gTm90ZTogTmFtZSBtYXR0ZXJzIGZvciBQeXRob24gY29tcGF0aWJpbGl0eS5cblxuICBwcml2YXRlIGFjY3VtdWxhdGVkR3JhZHM6IE9wdGltaXplclZhcmlhYmxlW10gPSBbXTtcblxuICBjb25zdHJ1Y3RvcihcbiAgICAgIHByb3RlY3RlZCBsZWFybmluZ1JhdGU6IG51bWJlciwgcHJpdmF0ZSBpbml0aWFsQWNjdW11bGF0b3JWYWx1ZSA9IDAuMSkge1xuICAgIHN1cGVyKCk7XG4gIH1cblxuICBhcHBseUdyYWRpZW50cyh2YXJpYWJsZUdyYWRpZW50czogTmFtZWRWYXJpYWJsZU1hcHxOYW1lZFRlbnNvcltdKSB7XG4gICAgY29uc3QgdmFyaWFibGVOYW1lcyA9IEFycmF5LmlzQXJyYXkodmFyaWFibGVHcmFkaWVudHMpID9cbiAgICAgICAgdmFyaWFibGVHcmFkaWVudHMubWFwKGl0ZW0gPT4gaXRlbS5uYW1lKSA6XG4gICAgICAgIE9iamVjdC5rZXlzKHZhcmlhYmxlR3JhZGllbnRzKTtcblxuICAgIHZhcmlhYmxlTmFtZXMuZm9yRWFjaCgobmFtZSwgaSkgPT4ge1xuICAgICAgY29uc3QgdmFsdWUgPSBFTkdJTkUucmVnaXN0ZXJlZFZhcmlhYmxlc1tuYW1lXTtcbiAgICAgIGlmICh0aGlzLmFjY3VtdWxhdGVkR3JhZHNbaV0gPT0gbnVsbCkge1xuICAgICAgICBjb25zdCB0cmFpbmFibGUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5hY2N1bXVsYXRlZEdyYWRzW2ldID0ge1xuICAgICAgICAgIG9yaWdpbmFsTmFtZTogYCR7bmFtZX0vYWNjdW11bGF0b3JgLFxuICAgICAgICAgIHZhcmlhYmxlOiB0aWR5KFxuICAgICAgICAgICAgICAoKSA9PiBmaWxsKHZhbHVlLnNoYXBlLCB0aGlzLmluaXRpYWxBY2N1bXVsYXRvclZhbHVlKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnZhcmlhYmxlKHRyYWluYWJsZSkpXG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGdyYWRpZW50ID0gQXJyYXkuaXNBcnJheSh2YXJpYWJsZUdyYWRpZW50cykgP1xuICAgICAgICAgIHZhcmlhYmxlR3JhZGllbnRzW2ldLnRlbnNvciA6XG4gICAgICAgICAgdmFyaWFibGVHcmFkaWVudHNbbmFtZV07XG4gICAgICBpZiAoZ3JhZGllbnQgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGFjY3VtdWxhdGVkR3JhZCA9IHRoaXMuYWNjdW11bGF0ZWRHcmFkc1tpXS52YXJpYWJsZTtcblxuICAgICAgdGlkeSgoKSA9PiB7XG4gICAgICAgIGNvbnN0IG5ld0FjY3VtdWxhdGVkR3JhZCA9IGFkZChhY2N1bXVsYXRlZEdyYWQsIHNxdWFyZShncmFkaWVudCkpO1xuICAgICAgICBhY2N1bXVsYXRlZEdyYWQuYXNzaWduKG5ld0FjY3VtdWxhdGVkR3JhZCk7XG5cbiAgICAgICAgY29uc3QgbmV3VmFsdWUgPSBhZGQoXG4gICAgICAgICAgICBtdWwoZGl2KGdyYWRpZW50LFxuICAgICAgICAgICAgICAgICAgICBzcXJ0KGFkZChuZXdBY2N1bXVsYXRlZEdyYWQsIEVOR0lORS5iYWNrZW5kLmVwc2lsb24oKSkpKSxcbiAgICAgICAgICAgICAgICAtdGhpcy5sZWFybmluZ1JhdGUpLFxuICAgICAgICAgICAgdmFsdWUpO1xuICAgICAgICB2YWx1ZS5hc3NpZ24obmV3VmFsdWUpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgdGhpcy5pbmNyZW1lbnRJdGVyYXRpb25zKCk7XG4gIH1cblxuICBkaXNwb3NlKCk6IHZvaWQge1xuICAgIGlmICh0aGlzLmFjY3VtdWxhdGVkR3JhZHMgIT0gbnVsbCkge1xuICAgICAgZGlzcG9zZSh0aGlzLmFjY3VtdWxhdGVkR3JhZHMubWFwKHYgPT4gdi52YXJpYWJsZSkpO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGdldFdlaWdodHMoKTogUHJvbWlzZTxOYW1lZFRlbnNvcltdPiB7XG4gICAgLy8gT3JkZXIgbWF0dGVycyBmb3IgUHl0aG9uIGNvbXBhdGliaWxpdHkuXG4gICAgcmV0dXJuIFthd2FpdCB0aGlzLnNhdmVJdGVyYXRpb25zKCldLmNvbmNhdCh0aGlzLmFjY3VtdWxhdGVkR3JhZHMubWFwKFxuICAgICAgICB2ID0+ICh7bmFtZTogdi5vcmlnaW5hbE5hbWUsIHRlbnNvcjogdi52YXJpYWJsZX0pKSk7XG4gIH1cblxuICBhc3luYyBzZXRXZWlnaHRzKHdlaWdodFZhbHVlczogTmFtZWRUZW5zb3JbXSk6IFByb21pc2U8dm9pZD4ge1xuICAgIHdlaWdodFZhbHVlcyA9IGF3YWl0IHRoaXMuZXh0cmFjdEl0ZXJhdGlvbnMod2VpZ2h0VmFsdWVzKTtcbiAgICBjb25zdCB0cmFpbmFibGUgPSBmYWxzZTtcbiAgICB0aGlzLmFjY3VtdWxhdGVkR3JhZHMgPSB3ZWlnaHRWYWx1ZXMubWFwKFxuICAgICAgICB2ID0+ICh7b3JpZ2luYWxOYW1lOiB2Lm5hbWUsIHZhcmlhYmxlOiB2LnRlbnNvci52YXJpYWJsZSh0cmFpbmFibGUpfSkpO1xuICB9XG5cbiAgZ2V0Q29uZmlnKCk6IENvbmZpZ0RpY3Qge1xuICAgIHJldHVybiB7XG4gICAgICAnbGVhcm5pbmdSYXRlJzogdGhpcy5sZWFybmluZ1JhdGUsXG4gICAgICAnaW5pdGlhbEFjY3VtdWxhdG9yVmFsdWUnOiB0aGlzLmluaXRpYWxBY2N1bXVsYXRvclZhbHVlLFxuICAgIH07XG4gIH1cblxuICAvKiogQG5vY29sbGFwc2UgKi9cbiAgc3RhdGljIGZyb21Db25maWc8VCBleHRlbmRzIFNlcmlhbGl6YWJsZT4oXG4gICAgICBjbHM6IFNlcmlhbGl6YWJsZUNvbnN0cnVjdG9yPFQ+LCBjb25maWc6IENvbmZpZ0RpY3QpOiBUIHtcbiAgICByZXR1cm4gbmV3IGNscyhjb25maWdbJ2xlYXJuaW5nUmF0ZSddLCBjb25maWdbJ2luaXRpYWxBY2N1bXVsYXRvclZhbHVlJ10pO1xuICB9XG59XG5yZWdpc3RlckNsYXNzKEFkYWdyYWRPcHRpbWl6ZXIpO1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTggR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG5pbXBvcnQge0VOR0lORX0gZnJvbSAnLi4vZW5naW5lJztcbmltcG9ydCB7ZGlzcG9zZSwgdGlkeX0gZnJvbSAnLi4vZ2xvYmFscyc7XG5pbXBvcnQge2FkZH0gZnJvbSAnLi4vb3BzL2FkZCc7XG5pbXBvcnQge2Rpdn0gZnJvbSAnLi4vb3BzL2Rpdic7XG5pbXBvcnQge211bH0gZnJvbSAnLi4vb3BzL211bCc7XG5pbXBvcnQge3Bvd30gZnJvbSAnLi4vb3BzL3Bvdyc7XG5pbXBvcnQge3NjYWxhcn0gZnJvbSAnLi4vb3BzL3NjYWxhcic7XG5pbXBvcnQge3NxcnR9IGZyb20gJy4uL29wcy9zcXJ0JztcbmltcG9ydCB7c3F1YXJlfSBmcm9tICcuLi9vcHMvc3F1YXJlJztcbmltcG9ydCB7c3VifSBmcm9tICcuLi9vcHMvc3ViJztcbmltcG9ydCB7emVyb3NMaWtlfSBmcm9tICcuLi9vcHMvemVyb3NfbGlrZSc7XG5pbXBvcnQge0NvbmZpZ0RpY3QsIHJlZ2lzdGVyQ2xhc3MsIFNlcmlhbGl6YWJsZSwgU2VyaWFsaXphYmxlQ29uc3RydWN0b3J9IGZyb20gJy4uL3NlcmlhbGl6YXRpb24nO1xuaW1wb3J0IHtWYXJpYWJsZX0gZnJvbSAnLi4vdGVuc29yJztcbmltcG9ydCB7TmFtZWRUZW5zb3IsIE5hbWVkVmFyaWFibGVNYXB9IGZyb20gJy4uL3RlbnNvcl90eXBlcyc7XG5cbmltcG9ydCB7T3B0aW1pemVyLCBPcHRpbWl6ZXJWYXJpYWJsZX0gZnJvbSAnLi9vcHRpbWl6ZXInO1xuXG5leHBvcnQgY2xhc3MgQWRhbU9wdGltaXplciBleHRlbmRzIE9wdGltaXplciB7XG4gIC8qKiBAbm9jb2xsYXBzZSAqL1xuICBzdGF0aWMgY2xhc3NOYW1lID0gJ0FkYW0nOyAgLy8gTm90ZTogTmFtZSBtYXR0ZXJzIGZvciBQeXRob24gY29tcGF0aWJpbGl0eS5cbiAgcHJpdmF0ZSBhY2NCZXRhMTogVmFyaWFibGU7XG4gIHByaXZhdGUgYWNjQmV0YTI6IFZhcmlhYmxlO1xuXG4gIHByaXZhdGUgYWNjdW11bGF0ZWRGaXJzdE1vbWVudDogT3B0aW1pemVyVmFyaWFibGVbXSA9IFtdO1xuICBwcml2YXRlIGFjY3VtdWxhdGVkU2Vjb25kTW9tZW50OiBPcHRpbWl6ZXJWYXJpYWJsZVtdID0gW107XG5cbiAgY29uc3RydWN0b3IoXG4gICAgICBwcm90ZWN0ZWQgbGVhcm5pbmdSYXRlOiBudW1iZXIsIHByb3RlY3RlZCBiZXRhMTogbnVtYmVyLFxuICAgICAgcHJvdGVjdGVkIGJldGEyOiBudW1iZXIsIHByb3RlY3RlZCBlcHNpbG9uOiBudW1iZXIgPSBudWxsKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aWR5KCgpID0+IHtcbiAgICAgIC8vIGFjY0IqIHdpbGwgYmUgdXBkYXRlZCBieSBiYXRjaC5cbiAgICAgIHRoaXMuYWNjQmV0YTEgPSBzY2FsYXIoYmV0YTEpLnZhcmlhYmxlKCk7XG4gICAgICB0aGlzLmFjY0JldGEyID0gc2NhbGFyKGJldGEyKS52YXJpYWJsZSgpO1xuICAgIH0pO1xuXG4gICAgaWYgKGVwc2lsb24gPT0gbnVsbCkge1xuICAgICAgdGhpcy5lcHNpbG9uID0gRU5HSU5FLmJhY2tlbmQuZXBzaWxvbigpO1xuICAgIH1cbiAgfVxuXG4gIGFwcGx5R3JhZGllbnRzKHZhcmlhYmxlR3JhZGllbnRzOiBOYW1lZFZhcmlhYmxlTWFwfE5hbWVkVGVuc29yW10pIHtcbiAgICBjb25zdCB2YXJOYW1lcyA9IEFycmF5LmlzQXJyYXkodmFyaWFibGVHcmFkaWVudHMpID9cbiAgICAgICAgdmFyaWFibGVHcmFkaWVudHMubWFwKHYgPT4gdi5uYW1lKSA6XG4gICAgICAgIE9iamVjdC5rZXlzKHZhcmlhYmxlR3JhZGllbnRzKTtcbiAgICB0aWR5KCgpID0+IHtcbiAgICAgIGNvbnN0IG9uZU1pbnVzQWNjQmV0YTEgPSBzdWIoMSwgdGhpcy5hY2NCZXRhMSk7XG4gICAgICBjb25zdCBvbmVNaW51c0FjY0JldGEyID0gc3ViKDEsIHRoaXMuYWNjQmV0YTIpO1xuXG4gICAgICB2YXJOYW1lcy5mb3JFYWNoKChuYW1lLCBpKSA9PiB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gRU5HSU5FLnJlZ2lzdGVyZWRWYXJpYWJsZXNbbmFtZV07XG4gICAgICAgIGNvbnN0IHRyYWluYWJsZSA9IGZhbHNlO1xuICAgICAgICBpZiAodGhpcy5hY2N1bXVsYXRlZEZpcnN0TW9tZW50W2ldID09IG51bGwpIHtcbiAgICAgICAgICB0aGlzLmFjY3VtdWxhdGVkRmlyc3RNb21lbnRbaV0gPSB7XG4gICAgICAgICAgICBvcmlnaW5hbE5hbWU6IGAke25hbWV9L21gLFxuICAgICAgICAgICAgdmFyaWFibGU6IHRpZHkoKCkgPT4gemVyb3NMaWtlKHZhbHVlKS52YXJpYWJsZSh0cmFpbmFibGUpKVxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuYWNjdW11bGF0ZWRTZWNvbmRNb21lbnRbaV0gPT0gbnVsbCkge1xuICAgICAgICAgIHRoaXMuYWNjdW11bGF0ZWRTZWNvbmRNb21lbnRbaV0gPSB7XG4gICAgICAgICAgICBvcmlnaW5hbE5hbWU6IGAke25hbWV9L3ZgLFxuICAgICAgICAgICAgdmFyaWFibGU6IHRpZHkoKCkgPT4gemVyb3NMaWtlKHZhbHVlKS52YXJpYWJsZSh0cmFpbmFibGUpKVxuICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBncmFkaWVudCA9IEFycmF5LmlzQXJyYXkodmFyaWFibGVHcmFkaWVudHMpID9cbiAgICAgICAgICAgIHZhcmlhYmxlR3JhZGllbnRzW2ldLnRlbnNvciA6XG4gICAgICAgICAgICB2YXJpYWJsZUdyYWRpZW50c1tuYW1lXTtcbiAgICAgICAgaWYgKGdyYWRpZW50ID09IG51bGwpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBmaXJzdE1vbWVudCA9IHRoaXMuYWNjdW11bGF0ZWRGaXJzdE1vbWVudFtpXS52YXJpYWJsZTtcbiAgICAgICAgY29uc3Qgc2Vjb25kTW9tZW50ID0gdGhpcy5hY2N1bXVsYXRlZFNlY29uZE1vbWVudFtpXS52YXJpYWJsZTtcblxuICAgICAgICBjb25zdCBuZXdGaXJzdE1vbWVudCA9XG4gICAgICAgICAgICBhZGQobXVsKGZpcnN0TW9tZW50LCB0aGlzLmJldGExKSwgbXVsKGdyYWRpZW50LCAxIC0gdGhpcy5iZXRhMSkpO1xuICAgICAgICBjb25zdCBuZXdTZWNvbmRNb21lbnQgPVxuICAgICAgICAgICAgYWRkKG11bChzZWNvbmRNb21lbnQsIHRoaXMuYmV0YTIpLFxuICAgICAgICAgICAgICAgIG11bChzcXVhcmUoZ3JhZGllbnQpLCAxIC0gdGhpcy5iZXRhMikpO1xuXG4gICAgICAgIGNvbnN0IGJpYXNDb3JyZWN0ZWRGaXJzdE1vbWVudCA9IGRpdihuZXdGaXJzdE1vbWVudCwgb25lTWludXNBY2NCZXRhMSk7XG4gICAgICAgIGNvbnN0IGJpYXNDb3JyZWN0ZWRTZWNvbmRNb21lbnQgPVxuICAgICAgICAgICAgZGl2KG5ld1NlY29uZE1vbWVudCwgb25lTWludXNBY2NCZXRhMik7XG5cbiAgICAgICAgZmlyc3RNb21lbnQuYXNzaWduKG5ld0ZpcnN0TW9tZW50KTtcbiAgICAgICAgc2Vjb25kTW9tZW50LmFzc2lnbihuZXdTZWNvbmRNb21lbnQpO1xuXG4gICAgICAgIGNvbnN0IG5ld1ZhbHVlID1cbiAgICAgICAgICAgIGFkZChtdWwoZGl2KGJpYXNDb3JyZWN0ZWRGaXJzdE1vbWVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZChzcXJ0KGJpYXNDb3JyZWN0ZWRTZWNvbmRNb21lbnQpLCB0aGlzLmVwc2lsb24pKSxcbiAgICAgICAgICAgICAgICAgICAgLXRoaXMubGVhcm5pbmdSYXRlKSxcbiAgICAgICAgICAgICAgICB2YWx1ZSk7XG4gICAgICAgIHZhbHVlLmFzc2lnbihuZXdWYWx1ZSk7XG4gICAgICB9KTtcblxuICAgICAgdGhpcy5hY2NCZXRhMS5hc3NpZ24obXVsKHRoaXMuYWNjQmV0YTEsIHRoaXMuYmV0YTEpKTtcbiAgICAgIHRoaXMuYWNjQmV0YTIuYXNzaWduKG11bCh0aGlzLmFjY0JldGEyLCB0aGlzLmJldGEyKSk7XG4gICAgfSk7XG4gICAgdGhpcy5pbmNyZW1lbnRJdGVyYXRpb25zKCk7XG4gIH1cblxuICBkaXNwb3NlKCk6IHZvaWQge1xuICAgIHRoaXMuYWNjQmV0YTEuZGlzcG9zZSgpO1xuICAgIHRoaXMuYWNjQmV0YTIuZGlzcG9zZSgpO1xuXG4gICAgaWYgKHRoaXMuYWNjdW11bGF0ZWRGaXJzdE1vbWVudCAhPSBudWxsKSB7XG4gICAgICBkaXNwb3NlKHRoaXMuYWNjdW11bGF0ZWRGaXJzdE1vbWVudC5tYXAodiA9PiB2LnZhcmlhYmxlKSk7XG4gICAgfVxuICAgIGlmICh0aGlzLmFjY3VtdWxhdGVkU2Vjb25kTW9tZW50ICE9IG51bGwpIHtcbiAgICAgIGRpc3Bvc2UodGhpcy5hY2N1bXVsYXRlZFNlY29uZE1vbWVudC5tYXAodiA9PiB2LnZhcmlhYmxlKSk7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgZ2V0V2VpZ2h0cygpOiBQcm9taXNlPE5hbWVkVGVuc29yW10+IHtcbiAgICAvLyBPcmRlciBtYXR0ZXJzIGZvciBQeXRob24gY29tcGF0aWJpbGl0eS5cbiAgICBjb25zdCB2YXJpYWJsZXM6IE9wdGltaXplclZhcmlhYmxlW10gPVxuICAgICAgICBbLi4udGhpcy5hY2N1bXVsYXRlZEZpcnN0TW9tZW50LCAuLi50aGlzLmFjY3VtdWxhdGVkU2Vjb25kTW9tZW50XTtcbiAgICByZXR1cm4gW2F3YWl0IHRoaXMuc2F2ZUl0ZXJhdGlvbnMoKV0uY29uY2F0KFxuICAgICAgICB2YXJpYWJsZXMubWFwKHYgPT4gKHtuYW1lOiB2Lm9yaWdpbmFsTmFtZSwgdGVuc29yOiB2LnZhcmlhYmxlfSkpKTtcbiAgfVxuXG4gIGFzeW5jIHNldFdlaWdodHMod2VpZ2h0VmFsdWVzOiBOYW1lZFRlbnNvcltdKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgd2VpZ2h0VmFsdWVzID0gYXdhaXQgdGhpcy5leHRyYWN0SXRlcmF0aW9ucyh3ZWlnaHRWYWx1ZXMpO1xuICAgIHRpZHkoKCkgPT4ge1xuICAgICAgdGhpcy5hY2NCZXRhMS5hc3NpZ24ocG93KHRoaXMuYmV0YTEsIHRoaXMuaXRlcmF0aW9uc18gKyAxKSk7XG4gICAgICB0aGlzLmFjY0JldGEyLmFzc2lnbihwb3codGhpcy5iZXRhMiwgdGhpcy5pdGVyYXRpb25zXyArIDEpKTtcbiAgICB9KTtcblxuICAgIGNvbnN0IHZhcmlhYmxlQ291bnQgPSB3ZWlnaHRWYWx1ZXMubGVuZ3RoIC8gMjtcbiAgICBjb25zdCB0cmFpbmFibGUgPSBmYWxzZTtcbiAgICB0aGlzLmFjY3VtdWxhdGVkRmlyc3RNb21lbnQgPVxuICAgICAgICB3ZWlnaHRWYWx1ZXMuc2xpY2UoMCwgdmFyaWFibGVDb3VudCkubWFwKHYgPT4gKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsTmFtZTogdi5uYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyaWFibGU6IHYudGVuc29yLnZhcmlhYmxlKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYWluYWJsZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgdGhpcy5hY2N1bXVsYXRlZFNlY29uZE1vbWVudCA9XG4gICAgICAgIHdlaWdodFZhbHVlcy5zbGljZSh2YXJpYWJsZUNvdW50LCB2YXJpYWJsZUNvdW50ICogMilcbiAgICAgICAgICAgIC5tYXAodiA9PiAoe1xuICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsTmFtZTogdi5uYW1lLFxuICAgICAgICAgICAgICAgICAgIHZhcmlhYmxlOiB2LnRlbnNvci52YXJpYWJsZSh0cmFpbmFibGUpXG4gICAgICAgICAgICAgICAgIH0pKTtcbiAgfVxuXG4gIGdldENvbmZpZygpOiBDb25maWdEaWN0IHtcbiAgICByZXR1cm4ge1xuICAgICAgJ2xlYXJuaW5nUmF0ZSc6IHRoaXMubGVhcm5pbmdSYXRlLFxuICAgICAgJ2JldGExJzogdGhpcy5iZXRhMSxcbiAgICAgICdiZXRhMic6IHRoaXMuYmV0YTIsXG4gICAgICAnZXBzaWxvbic6IHRoaXMuZXBzaWxvbixcbiAgICB9O1xuICB9XG5cbiAgLyoqIEBub2NvbGxhcHNlICovXG4gIHN0YXRpYyBmcm9tQ29uZmlnPFQgZXh0ZW5kcyBTZXJpYWxpemFibGU+KFxuICAgICAgY2xzOiBTZXJpYWxpemFibGVDb25zdHJ1Y3RvcjxUPiwgY29uZmlnOiBDb25maWdEaWN0KTogVCB7XG4gICAgcmV0dXJuIG5ldyBjbHMoXG4gICAgICAgIGNvbmZpZ1snbGVhcm5pbmdSYXRlJ10sIGNvbmZpZ1snYmV0YTEnXSwgY29uZmlnWydiZXRhMiddLFxuICAgICAgICBjb25maWdbJ2Vwc2lsb24nXSk7XG4gIH1cbn1cbnJlZ2lzdGVyQ2xhc3MoQWRhbU9wdGltaXplcik7XG4iLCLvu78vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbmltcG9ydCB7RU5HSU5FfSBmcm9tICcuLi9lbmdpbmUnO1xuaW1wb3J0IHtkaXNwb3NlLCB0aWR5fSBmcm9tICcuLi9nbG9iYWxzJztcbmltcG9ydCB7YWJzfSBmcm9tICcuLi9vcHMvYWJzJztcbmltcG9ydCB7YWRkfSBmcm9tICcuLi9vcHMvYWRkJztcbmltcG9ydCB7ZGl2fSBmcm9tICcuLi9vcHMvZGl2JztcbmltcG9ydCB7bWF4aW11bX0gZnJvbSAnLi4vb3BzL21heGltdW0nO1xuaW1wb3J0IHttdWx9IGZyb20gJy4uL29wcy9tdWwnO1xuaW1wb3J0IHtzY2FsYXJ9IGZyb20gJy4uL29wcy9zY2FsYXInO1xuaW1wb3J0IHtzdWJ9IGZyb20gJy4uL29wcy9zdWInO1xuaW1wb3J0IHt6ZXJvc0xpa2V9IGZyb20gJy4uL29wcy96ZXJvc19saWtlJztcbmltcG9ydCB7Q29uZmlnRGljdCwgcmVnaXN0ZXJDbGFzcywgU2VyaWFsaXphYmxlLCBTZXJpYWxpemFibGVDb25zdHJ1Y3Rvcn0gZnJvbSAnLi4vc2VyaWFsaXphdGlvbic7XG5pbXBvcnQge1ZhcmlhYmxlfSBmcm9tICcuLi90ZW5zb3InO1xuaW1wb3J0IHtOYW1lZFRlbnNvciwgTmFtZWRWYXJpYWJsZU1hcH0gZnJvbSAnLi4vdGVuc29yX3R5cGVzJztcblxuaW1wb3J0IHtPcHRpbWl6ZXIsIE9wdGltaXplclZhcmlhYmxlfSBmcm9tICcuL29wdGltaXplcic7XG5cbmV4cG9ydCBjbGFzcyBBZGFtYXhPcHRpbWl6ZXIgZXh0ZW5kcyBPcHRpbWl6ZXIge1xuICAvKiogQG5vY29sbGFwc2UgKi9cbiAgc3RhdGljIGNsYXNzTmFtZSA9ICdBZGFtYXgnOyAgLy8gTm90ZTogTmFtZSBtYXR0ZXJzIGZvciBQeXRob24gY29tcGF0YmlsaXR5LlxuICBwcml2YXRlIGFjY0JldGExOiBWYXJpYWJsZTtcbiAgcHJpdmF0ZSBpdGVyYXRpb246IFZhcmlhYmxlO1xuXG4gIHByaXZhdGUgYWNjdW11bGF0ZWRGaXJzdE1vbWVudDogT3B0aW1pemVyVmFyaWFibGVbXSA9IFtdO1xuICBwcml2YXRlIGFjY3VtdWxhdGVkV2VpZ2h0ZWRJbmZOb3JtOiBPcHRpbWl6ZXJWYXJpYWJsZVtdID0gW107XG5cbiAgY29uc3RydWN0b3IoXG4gICAgICBwcm90ZWN0ZWQgbGVhcm5pbmdSYXRlOiBudW1iZXIsIHByb3RlY3RlZCBiZXRhMTogbnVtYmVyLFxuICAgICAgcHJvdGVjdGVkIGJldGEyOiBudW1iZXIsIHByb3RlY3RlZCBlcHNpbG9uOiBudW1iZXIgPSBudWxsLFxuICAgICAgcHJvdGVjdGVkIGRlY2F5ID0gMC4wKSB7XG4gICAgc3VwZXIoKTtcblxuICAgIHRpZHkoKCkgPT4ge1xuICAgICAgdGhpcy5pdGVyYXRpb24gPSBzY2FsYXIoMCkudmFyaWFibGUoKTtcbiAgICAgIHRoaXMuYWNjQmV0YTEgPSBzY2FsYXIoYmV0YTEpLnZhcmlhYmxlKCk7XG4gICAgfSk7XG5cbiAgICBpZiAoZXBzaWxvbiA9PSBudWxsKSB7XG4gICAgICB0aGlzLmVwc2lsb24gPSBFTkdJTkUuYmFja2VuZC5lcHNpbG9uKCk7XG4gICAgfVxuICB9XG5cbiAgYXBwbHlHcmFkaWVudHModmFyaWFibGVHcmFkaWVudHM6IE5hbWVkVmFyaWFibGVNYXB8TmFtZWRUZW5zb3JbXSkge1xuICAgIGNvbnN0IHZhcmlhYmxlTmFtZXMgPSBBcnJheS5pc0FycmF5KHZhcmlhYmxlR3JhZGllbnRzKSA/XG4gICAgICAgIHZhcmlhYmxlR3JhZGllbnRzLm1hcChpdGVtID0+IGl0ZW0ubmFtZSkgOlxuICAgICAgICBPYmplY3Qua2V5cyh2YXJpYWJsZUdyYWRpZW50cyk7XG5cbiAgICB0aWR5KCgpID0+IHtcbiAgICAgIGNvbnN0IG9uZU1pbnVzQWNjQmV0YTEgPSBzdWIoMSwgdGhpcy5hY2NCZXRhMSk7XG4gICAgICBjb25zdCBsciA9XG4gICAgICAgICAgZGl2KC10aGlzLmxlYXJuaW5nUmF0ZSwgYWRkKG11bCh0aGlzLml0ZXJhdGlvbiwgdGhpcy5kZWNheSksIDEpKTtcblxuICAgICAgdmFyaWFibGVOYW1lcy5mb3JFYWNoKChuYW1lLCBpKSA9PiB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gRU5HSU5FLnJlZ2lzdGVyZWRWYXJpYWJsZXNbbmFtZV07XG4gICAgICAgIGNvbnN0IHRyYWluYWJsZSA9IGZhbHNlO1xuICAgICAgICBpZiAodGhpcy5hY2N1bXVsYXRlZEZpcnN0TW9tZW50W2ldID09IG51bGwpIHtcbiAgICAgICAgICB0aGlzLmFjY3VtdWxhdGVkRmlyc3RNb21lbnRbaV0gPSB7XG4gICAgICAgICAgICBvcmlnaW5hbE5hbWU6IGAke25hbWV9L21gLFxuICAgICAgICAgICAgdmFyaWFibGU6IHplcm9zTGlrZSh2YWx1ZSkudmFyaWFibGUodHJhaW5hYmxlKVxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuYWNjdW11bGF0ZWRXZWlnaHRlZEluZk5vcm1baV0gPT0gbnVsbCkge1xuICAgICAgICAgIHRoaXMuYWNjdW11bGF0ZWRXZWlnaHRlZEluZk5vcm1baV0gPSB7XG4gICAgICAgICAgICBvcmlnaW5hbE5hbWU6IGAke25hbWV9L3ZgLFxuICAgICAgICAgICAgdmFyaWFibGU6IHplcm9zTGlrZSh2YWx1ZSkudmFyaWFibGUodHJhaW5hYmxlKVxuICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBncmFkaWVudCA9IEFycmF5LmlzQXJyYXkodmFyaWFibGVHcmFkaWVudHMpID9cbiAgICAgICAgICAgIHZhcmlhYmxlR3JhZGllbnRzW2ldLnRlbnNvciA6XG4gICAgICAgICAgICB2YXJpYWJsZUdyYWRpZW50c1tuYW1lXTtcbiAgICAgICAgaWYgKGdyYWRpZW50ID09IG51bGwpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBmaXJzdE1vbWVudCA9IHRoaXMuYWNjdW11bGF0ZWRGaXJzdE1vbWVudFtpXS52YXJpYWJsZTtcbiAgICAgICAgY29uc3Qgd2VpZ2h0ZWRJbmZOb3JtID0gdGhpcy5hY2N1bXVsYXRlZFdlaWdodGVkSW5mTm9ybVtpXS52YXJpYWJsZTtcblxuICAgICAgICBjb25zdCBuZXdGaXJzdE1vbWVudCA9XG4gICAgICAgICAgICBhZGQobXVsKGZpcnN0TW9tZW50LCB0aGlzLmJldGExKSwgbXVsKGdyYWRpZW50LCAxIC0gdGhpcy5iZXRhMSkpO1xuXG4gICAgICAgIGNvbnN0IHV0MCA9IG11bCh3ZWlnaHRlZEluZk5vcm0sIHRoaXMuYmV0YTIpO1xuICAgICAgICBjb25zdCB1dDEgPSBhYnMoZ3JhZGllbnQpO1xuXG4gICAgICAgIGNvbnN0IG5ld1dlaWdodGVkSW5mTm9ybSA9IG1heGltdW0odXQwLCB1dDEpO1xuXG4gICAgICAgIGZpcnN0TW9tZW50LmFzc2lnbihuZXdGaXJzdE1vbWVudCk7XG4gICAgICAgIHdlaWdodGVkSW5mTm9ybS5hc3NpZ24obmV3V2VpZ2h0ZWRJbmZOb3JtKTtcblxuICAgICAgICBjb25zdCBuZXdWYWx1ZSA9XG4gICAgICAgICAgICBhZGQobXVsKGRpdihsciwgb25lTWludXNBY2NCZXRhMSksXG4gICAgICAgICAgICAgICAgICAgIGRpdihuZXdGaXJzdE1vbWVudCwgYWRkKG5ld1dlaWdodGVkSW5mTm9ybSwgdGhpcy5lcHNpbG9uKSkpLFxuICAgICAgICAgICAgICAgIHZhbHVlKTtcblxuICAgICAgICB2YWx1ZS5hc3NpZ24obmV3VmFsdWUpO1xuICAgICAgfSk7XG5cbiAgICAgIHRoaXMuaXRlcmF0aW9uLmFzc2lnbihhZGQodGhpcy5pdGVyYXRpb24sIDEpKTtcbiAgICAgIHRoaXMuYWNjQmV0YTEuYXNzaWduKG11bCh0aGlzLmFjY0JldGExLCB0aGlzLmJldGExKSk7XG4gICAgfSk7XG4gICAgdGhpcy5pbmNyZW1lbnRJdGVyYXRpb25zKCk7XG4gIH1cblxuICBkaXNwb3NlKCk6IHZvaWQge1xuICAgIHRoaXMuYWNjQmV0YTEuZGlzcG9zZSgpO1xuICAgIHRoaXMuaXRlcmF0aW9uLmRpc3Bvc2UoKTtcblxuICAgIGlmICh0aGlzLmFjY3VtdWxhdGVkRmlyc3RNb21lbnQgIT0gbnVsbCkge1xuICAgICAgZGlzcG9zZSh0aGlzLmFjY3VtdWxhdGVkRmlyc3RNb21lbnQubWFwKHYgPT4gdi52YXJpYWJsZSkpO1xuICAgIH1cbiAgICBpZiAodGhpcy5hY2N1bXVsYXRlZFdlaWdodGVkSW5mTm9ybSAhPSBudWxsKSB7XG4gICAgICBkaXNwb3NlKHRoaXMuYWNjdW11bGF0ZWRXZWlnaHRlZEluZk5vcm0ubWFwKHYgPT4gdi52YXJpYWJsZSkpO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGdldFdlaWdodHMoKTogUHJvbWlzZTxOYW1lZFRlbnNvcltdPiB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdnZXRXZWlnaHRzKCkgaXMgbm90IGltcGxlbWVudGVkIGZvciBBZGFtYXggeWV0LicpO1xuICB9XG5cbiAgYXN5bmMgc2V0V2VpZ2h0cyh3ZWlnaHRWYWx1ZXM6IE5hbWVkVGVuc29yW10pOiBQcm9taXNlPHZvaWQ+IHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3NldFdlaWdodHMoKSBpcyBub3QgaW1wbGVtZW50ZWQgZm9yIEFkYW1heCB5ZXQuJyk7XG4gIH1cblxuICBnZXRDb25maWcoKTogQ29uZmlnRGljdCB7XG4gICAgcmV0dXJuIHtcbiAgICAgICdsZWFybmluZ1JhdGUnOiB0aGlzLmxlYXJuaW5nUmF0ZSxcbiAgICAgICdiZXRhMSc6IHRoaXMuYmV0YTEsXG4gICAgICAnYmV0YTInOiB0aGlzLmJldGEyLFxuICAgICAgJ2Vwc2lsb24nOiB0aGlzLmVwc2lsb24sXG4gICAgICAnZGVjYXknOiB0aGlzLmRlY2F5XG4gICAgfTtcbiAgfVxuXG4gIC8qKiBAbm9jb2xsYXBzZSAqL1xuICBzdGF0aWMgZnJvbUNvbmZpZzxUIGV4dGVuZHMgU2VyaWFsaXphYmxlPihcbiAgICAgIGNsczogU2VyaWFsaXphYmxlQ29uc3RydWN0b3I8VD4sIGNvbmZpZzogQ29uZmlnRGljdCk6IFQge1xuICAgIHJldHVybiBuZXcgY2xzKFxuICAgICAgICBjb25maWdbJ2xlYXJuaW5nUmF0ZSddLCBjb25maWdbJ2JldGExJ10sIGNvbmZpZ1snYmV0YTInXSxcbiAgICAgICAgY29uZmlnWydlcHNpbG9uJ10sIGNvbmZpZ1snZGVjYXknXSk7XG4gIH1cbn1cbnJlZ2lzdGVyQ2xhc3MoQWRhbWF4T3B0aW1pemVyKTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE4IEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuaW1wb3J0IHtFTkdJTkV9IGZyb20gJy4uL2VuZ2luZSc7XG5pbXBvcnQge2tlZXAsIHRpZHl9IGZyb20gJy4uL2dsb2JhbHMnO1xuaW1wb3J0IHthZGR9IGZyb20gJy4uL29wcy9hZGQnO1xuaW1wb3J0IHttdWx9IGZyb20gJy4uL29wcy9tdWwnO1xuaW1wb3J0IHtzY2FsYXJ9IGZyb20gJy4uL29wcy9zY2FsYXInO1xuaW1wb3J0IHtDb25maWdEaWN0LCByZWdpc3RlckNsYXNzLCBTZXJpYWxpemFibGUsIFNlcmlhbGl6YWJsZUNvbnN0cnVjdG9yfSBmcm9tICcuLi9zZXJpYWxpemF0aW9uJztcbmltcG9ydCB7U2NhbGFyfSBmcm9tICcuLi90ZW5zb3InO1xuaW1wb3J0IHtOYW1lZFRlbnNvciwgTmFtZWRUZW5zb3JNYXB9IGZyb20gJy4uL3RlbnNvcl90eXBlcyc7XG5cbmltcG9ydCB7T3B0aW1pemVyfSBmcm9tICcuL29wdGltaXplcic7XG5cbi8qKiBAZG9jbGluayBPcHRpbWl6ZXIgKi9cbmV4cG9ydCBjbGFzcyBTR0RPcHRpbWl6ZXIgZXh0ZW5kcyBPcHRpbWl6ZXIge1xuICAvKiogQG5vY29sbGFwc2UgKi9cbiAgc3RhdGljIGNsYXNzTmFtZSA9ICdTR0QnOyAgLy8gTm90ZTogTmFtZSBtYXR0ZXJzIGZvciBQeXRob24gY29tcGF0aWJpbGl0eS5cbiAgcHJvdGVjdGVkIGM6IFNjYWxhcjtcblxuICBjb25zdHJ1Y3Rvcihwcm90ZWN0ZWQgbGVhcm5pbmdSYXRlOiBudW1iZXIpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuc2V0TGVhcm5pbmdSYXRlKGxlYXJuaW5nUmF0ZSk7XG4gIH1cblxuICBhcHBseUdyYWRpZW50cyh2YXJpYWJsZUdyYWRpZW50czogTmFtZWRUZW5zb3JNYXB8TmFtZWRUZW5zb3JbXSkge1xuICAgIGNvbnN0IHZhck5hbWVzID0gQXJyYXkuaXNBcnJheSh2YXJpYWJsZUdyYWRpZW50cykgP1xuICAgICAgICB2YXJpYWJsZUdyYWRpZW50cy5tYXAodiA9PiB2Lm5hbWUpIDpcbiAgICAgICAgT2JqZWN0LmtleXModmFyaWFibGVHcmFkaWVudHMpO1xuICAgIHZhck5hbWVzLmZvckVhY2goKG5hbWUsIGkpID0+IHtcbiAgICAgIGNvbnN0IGdyYWRpZW50ID0gQXJyYXkuaXNBcnJheSh2YXJpYWJsZUdyYWRpZW50cykgP1xuICAgICAgICAgIHZhcmlhYmxlR3JhZGllbnRzW2ldLnRlbnNvciA6XG4gICAgICAgICAgdmFyaWFibGVHcmFkaWVudHNbbmFtZV07XG4gICAgICBpZiAoZ3JhZGllbnQgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCB2YWx1ZSA9IEVOR0lORS5yZWdpc3RlcmVkVmFyaWFibGVzW25hbWVdO1xuICAgICAgdGlkeSgoKSA9PiB7XG4gICAgICAgIGNvbnN0IG5ld1ZhbHVlID0gYWRkKG11bCh0aGlzLmMsIGdyYWRpZW50KSwgdmFsdWUpO1xuICAgICAgICB2YWx1ZS5hc3NpZ24obmV3VmFsdWUpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgdGhpcy5pbmNyZW1lbnRJdGVyYXRpb25zKCk7XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgbGVhcm5pbmcgcmF0ZSBvZiB0aGUgb3B0aW1pemVyLlxuICAgKi9cbiAgc2V0TGVhcm5pbmdSYXRlKGxlYXJuaW5nUmF0ZTogbnVtYmVyKSB7XG4gICAgdGhpcy5sZWFybmluZ1JhdGUgPSBsZWFybmluZ1JhdGU7XG4gICAgaWYgKHRoaXMuYyAhPSBudWxsKSB7XG4gICAgICB0aGlzLmMuZGlzcG9zZSgpO1xuICAgIH1cbiAgICB0aGlzLmMgPSBrZWVwKHNjYWxhcigtbGVhcm5pbmdSYXRlKSk7XG4gIH1cblxuICBkaXNwb3NlKCkge1xuICAgIHRoaXMuYy5kaXNwb3NlKCk7XG4gIH1cblxuICBhc3luYyBnZXRXZWlnaHRzKCk6IFByb21pc2U8TmFtZWRUZW5zb3JbXT4ge1xuICAgIHJldHVybiBbYXdhaXQgdGhpcy5zYXZlSXRlcmF0aW9ucygpXTtcbiAgfVxuXG4gIGFzeW5jIHNldFdlaWdodHMod2VpZ2h0VmFsdWVzOiBOYW1lZFRlbnNvcltdKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgd2VpZ2h0VmFsdWVzID0gYXdhaXQgdGhpcy5leHRyYWN0SXRlcmF0aW9ucyh3ZWlnaHRWYWx1ZXMpO1xuICAgIGlmICh3ZWlnaHRWYWx1ZXMubGVuZ3RoICE9PSAwKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NHRCBvcHRpbWl6ZXIgZG9lcyBub3QgaGF2ZSBzZXR0YWJsZSB3ZWlnaHRzLicpO1xuICAgIH1cbiAgfVxuXG4gIGdldENvbmZpZygpOiBDb25maWdEaWN0IHtcbiAgICByZXR1cm4geydsZWFybmluZ1JhdGUnOiB0aGlzLmxlYXJuaW5nUmF0ZX07XG4gIH1cblxuICAvKiogQG5vY29sbGFwc2UgKi9cbiAgc3RhdGljIGZyb21Db25maWc8VCBleHRlbmRzIFNlcmlhbGl6YWJsZT4oXG4gICAgICBjbHM6IFNlcmlhbGl6YWJsZUNvbnN0cnVjdG9yPFQ+LCBjb25maWc6IENvbmZpZ0RpY3QpOiBUIHtcbiAgICByZXR1cm4gbmV3IGNscyhjb25maWdbJ2xlYXJuaW5nUmF0ZSddKTtcbiAgfVxufVxucmVnaXN0ZXJDbGFzcyhTR0RPcHRpbWl6ZXIpO1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTggR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG5pbXBvcnQge0VOR0lORX0gZnJvbSAnLi4vZW5naW5lJztcbmltcG9ydCB7ZGlzcG9zZSwgdGlkeX0gZnJvbSAnLi4vZ2xvYmFscyc7XG5pbXBvcnQge2FkZH0gZnJvbSAnLi4vb3BzL2FkZCc7XG5pbXBvcnQge211bH0gZnJvbSAnLi4vb3BzL211bCc7XG5pbXBvcnQge3NjYWxhcn0gZnJvbSAnLi4vb3BzL3NjYWxhcic7XG5pbXBvcnQge3plcm9zTGlrZX0gZnJvbSAnLi4vb3BzL3plcm9zX2xpa2UnO1xuaW1wb3J0IHtDb25maWdEaWN0LCByZWdpc3RlckNsYXNzLCBTZXJpYWxpemFibGUsIFNlcmlhbGl6YWJsZUNvbnN0cnVjdG9yfSBmcm9tICcuLi9zZXJpYWxpemF0aW9uJztcbmltcG9ydCB7U2NhbGFyLCBUZW5zb3J9IGZyb20gJy4uL3RlbnNvcic7XG5pbXBvcnQge05hbWVkVGVuc29yLCBOYW1lZFZhcmlhYmxlTWFwfSBmcm9tICcuLi90ZW5zb3JfdHlwZXMnO1xuXG5pbXBvcnQge09wdGltaXplclZhcmlhYmxlfSBmcm9tICcuL29wdGltaXplcic7XG5pbXBvcnQge1NHRE9wdGltaXplcn0gZnJvbSAnLi9zZ2Rfb3B0aW1pemVyJztcblxuLyoqIEBkb2NsaW5rIE9wdGltaXplciAqL1xuZXhwb3J0IGNsYXNzIE1vbWVudHVtT3B0aW1pemVyIGV4dGVuZHMgU0dET3B0aW1pemVyIHtcbiAgLyoqIEBub2NvbGxhcHNlICovXG4gIHN0YXRpYyBjbGFzc05hbWUgPSAnTW9tZW50dW0nOyAgLy8gTmFtZSBtYXR0ZXJzIGZvciBQeXRob24gY29tcGF0aWJpbGl0eS5cbiAgcHJpdmF0ZSBtOiBTY2FsYXI7XG4gIHByaXZhdGUgYWNjdW11bGF0aW9uczogT3B0aW1pemVyVmFyaWFibGVbXSA9IFtdO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgICAgcHJvdGVjdGVkIGxlYXJuaW5nUmF0ZTogbnVtYmVyLCBwcml2YXRlIG1vbWVudHVtOiBudW1iZXIsXG4gICAgICBwcml2YXRlIHVzZU5lc3Rlcm92ID0gZmFsc2UpIHtcbiAgICBzdXBlcihsZWFybmluZ1JhdGUpO1xuICAgIHRoaXMubSA9IHNjYWxhcih0aGlzLm1vbWVudHVtKTtcbiAgfVxuXG4gIGFwcGx5R3JhZGllbnRzKHZhcmlhYmxlR3JhZGllbnRzOiBOYW1lZFZhcmlhYmxlTWFwfE5hbWVkVGVuc29yW10pIHtcbiAgICBjb25zdCB2YXJpYWJsZU5hbWVzID0gQXJyYXkuaXNBcnJheSh2YXJpYWJsZUdyYWRpZW50cykgP1xuICAgICAgICB2YXJpYWJsZUdyYWRpZW50cy5tYXAoaXRlbSA9PiBpdGVtLm5hbWUpIDpcbiAgICAgICAgT2JqZWN0LmtleXModmFyaWFibGVHcmFkaWVudHMpO1xuXG4gICAgdmFyaWFibGVOYW1lcy5mb3JFYWNoKChuYW1lLCBpKSA9PiB7XG4gICAgICBjb25zdCB2YWx1ZSA9IEVOR0lORS5yZWdpc3RlcmVkVmFyaWFibGVzW25hbWVdO1xuICAgICAgaWYgKHRoaXMuYWNjdW11bGF0aW9uc1tpXSA9PSBudWxsKSB7XG4gICAgICAgIGNvbnN0IHRyYWluYWJsZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmFjY3VtdWxhdGlvbnNbaV0gPSB7XG4gICAgICAgICAgb3JpZ2luYWxOYW1lOiBgJHtuYW1lfS9tb21lbnR1bWAsXG4gICAgICAgICAgdmFyaWFibGU6IHRpZHkoKCkgPT4gemVyb3NMaWtlKHZhbHVlKS52YXJpYWJsZSh0cmFpbmFibGUpKVxuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICBjb25zdCBhY2N1bXVsYXRpb24gPSB0aGlzLmFjY3VtdWxhdGlvbnNbaV0udmFyaWFibGU7XG4gICAgICBjb25zdCBncmFkaWVudCA9IEFycmF5LmlzQXJyYXkodmFyaWFibGVHcmFkaWVudHMpID9cbiAgICAgICAgICB2YXJpYWJsZUdyYWRpZW50c1tpXS50ZW5zb3IgOlxuICAgICAgICAgIHZhcmlhYmxlR3JhZGllbnRzW25hbWVdO1xuICAgICAgaWYgKGdyYWRpZW50ID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0aWR5KCgpID0+IHtcbiAgICAgICAgbGV0IG5ld1ZhbHVlOiBUZW5zb3I7XG4gICAgICAgIGNvbnN0IG5ld0FjY3VtdWxhdGlvbiA9IGFkZChtdWwodGhpcy5tLCBhY2N1bXVsYXRpb24pLCBncmFkaWVudCk7XG4gICAgICAgIGlmICh0aGlzLnVzZU5lc3Rlcm92KSB7XG4gICAgICAgICAgbmV3VmFsdWUgPSBhZGQoXG4gICAgICAgICAgICAgIG11bCh0aGlzLmMsIGFkZChncmFkaWVudCwgbXVsKG5ld0FjY3VtdWxhdGlvbiwgdGhpcy5tKSkpLCB2YWx1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbmV3VmFsdWUgPSBhZGQobXVsKHRoaXMuYywgbmV3QWNjdW11bGF0aW9uKSwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGFjY3VtdWxhdGlvbi5hc3NpZ24obmV3QWNjdW11bGF0aW9uKTtcbiAgICAgICAgdmFsdWUuYXNzaWduKG5ld1ZhbHVlKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHRoaXMuaW5jcmVtZW50SXRlcmF0aW9ucygpO1xuICB9XG5cbiAgZGlzcG9zZSgpOiB2b2lkIHtcbiAgICB0aGlzLm0uZGlzcG9zZSgpO1xuICAgIGlmICh0aGlzLmFjY3VtdWxhdGlvbnMgIT0gbnVsbCkge1xuICAgICAgZGlzcG9zZSh0aGlzLmFjY3VtdWxhdGlvbnMubWFwKHYgPT4gdi52YXJpYWJsZSkpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBtb21lbnR1bSBvZiB0aGUgb3B0aW1pemVyLlxuICAgKlxuICAgKiBAcGFyYW0gbW9tZW50dW1cbiAgICovXG4gIHNldE1vbWVudHVtKG1vbWVudHVtOiBudW1iZXIpIHtcbiAgICB0aGlzLm1vbWVudHVtID0gbW9tZW50dW07XG4gIH1cblxuICBhc3luYyBnZXRXZWlnaHRzKCk6IFByb21pc2U8TmFtZWRUZW5zb3JbXT4ge1xuICAgIC8vIE9yZGVyIG1hdHRlcnMgZm9yIFB5dGhvbiBjb21wYXRpYmlsaXR5LlxuICAgIHJldHVybiBbYXdhaXQgdGhpcy5zYXZlSXRlcmF0aW9ucygpXS5jb25jYXQodGhpcy5hY2N1bXVsYXRpb25zLm1hcChcbiAgICAgICAgdiA9PiAoe25hbWU6IHYub3JpZ2luYWxOYW1lLCB0ZW5zb3I6IHYudmFyaWFibGV9KSkpO1xuICB9XG5cbiAgYXN5bmMgc2V0V2VpZ2h0cyh3ZWlnaHRWYWx1ZXM6IE5hbWVkVGVuc29yW10pOiBQcm9taXNlPHZvaWQ+IHtcbiAgICB3ZWlnaHRWYWx1ZXMgPSBhd2FpdCB0aGlzLmV4dHJhY3RJdGVyYXRpb25zKHdlaWdodFZhbHVlcyk7XG4gICAgY29uc3QgdHJhaW5hYmxlID0gZmFsc2U7XG4gICAgdGhpcy5hY2N1bXVsYXRpb25zID0gd2VpZ2h0VmFsdWVzLm1hcChcbiAgICAgICAgdiA9PiAoe29yaWdpbmFsTmFtZTogdi5uYW1lLCB2YXJpYWJsZTogdi50ZW5zb3IudmFyaWFibGUodHJhaW5hYmxlKX0pKTtcbiAgfVxuXG4gIGdldENvbmZpZygpOiBDb25maWdEaWN0IHtcbiAgICByZXR1cm4ge1xuICAgICAgJ2xlYXJuaW5nUmF0ZSc6IHRoaXMubGVhcm5pbmdSYXRlLFxuICAgICAgJ21vbWVudHVtJzogdGhpcy5tb21lbnR1bSxcbiAgICAgICd1c2VOZXN0ZXJvdic6IHRoaXMudXNlTmVzdGVyb3ZcbiAgICB9O1xuICB9XG5cbiAgLyoqIEBub2NvbGxhcHNlICovXG4gIHN0YXRpYyBmcm9tQ29uZmlnPFQgZXh0ZW5kcyBTZXJpYWxpemFibGU+KFxuICAgICAgY2xzOiBTZXJpYWxpemFibGVDb25zdHJ1Y3RvcjxUPiwgY29uZmlnOiBDb25maWdEaWN0KTogVCB7XG4gICAgcmV0dXJuIG5ldyBjbHMoXG4gICAgICAgIGNvbmZpZ1snbGVhcm5pbmdSYXRlJ10sIGNvbmZpZ1snbW9tZW50dW0nXSwgY29uZmlnWyd1c2VOZXN0ZXJvdiddKTtcbiAgfVxufVxucmVnaXN0ZXJDbGFzcyhNb21lbnR1bU9wdGltaXplcik7XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbmltcG9ydCB7RU5HSU5FfSBmcm9tICcuLi9lbmdpbmUnO1xuaW1wb3J0IHtkaXNwb3NlLCB0aWR5fSBmcm9tICcuLi9nbG9iYWxzJztcbmltcG9ydCB7YWRkfSBmcm9tICcuLi9vcHMvYWRkJztcbmltcG9ydCB7ZGl2fSBmcm9tICcuLi9vcHMvZGl2JztcbmltcG9ydCB7bXVsfSBmcm9tICcuLi9vcHMvbXVsJztcbmltcG9ydCB7c3FydH0gZnJvbSAnLi4vb3BzL3NxcnQnO1xuaW1wb3J0IHtzcXVhcmV9IGZyb20gJy4uL29wcy9zcXVhcmUnO1xuaW1wb3J0IHtzdWJ9IGZyb20gJy4uL29wcy9zdWInO1xuaW1wb3J0IHt6ZXJvc0xpa2V9IGZyb20gJy4uL29wcy96ZXJvc19saWtlJztcbmltcG9ydCB7Q29uZmlnRGljdCwgcmVnaXN0ZXJDbGFzcywgU2VyaWFsaXphYmxlLCBTZXJpYWxpemFibGVDb25zdHJ1Y3Rvcn0gZnJvbSAnLi4vc2VyaWFsaXphdGlvbic7XG5pbXBvcnQge05hbWVkVGVuc29yLCBOYW1lZFRlbnNvck1hcH0gZnJvbSAnLi4vdGVuc29yX3R5cGVzJztcblxuaW1wb3J0IHtPcHRpbWl6ZXIsIE9wdGltaXplclZhcmlhYmxlfSBmcm9tICcuL29wdGltaXplcic7XG5cbi8qKiBAZG9jbGluayBPcHRpbWl6ZXIgKi9cbmV4cG9ydCBjbGFzcyBSTVNQcm9wT3B0aW1pemVyIGV4dGVuZHMgT3B0aW1pemVyIHtcbiAgLyoqIEBub2NvbGxhcHNlICovXG4gIHN0YXRpYyBjbGFzc05hbWUgPSAnUk1TUHJvcCc7ICAvLyBOb3RlOiBOYW1lIG1hdHRlcnMgZm9yIFB5dGhvbiBjb21wYXRpYmlsaXR5LlxuICBwcml2YXRlIGNlbnRlcmVkOiBib29sZWFuO1xuXG4gIHByaXZhdGUgYWNjdW11bGF0ZWRNZWFuU3F1YXJlczogT3B0aW1pemVyVmFyaWFibGVbXSA9IFtdO1xuICBwcml2YXRlIGFjY3VtdWxhdGVkTW9tZW50czogT3B0aW1pemVyVmFyaWFibGVbXSA9IFtdO1xuICBwcml2YXRlIGFjY3VtdWxhdGVkTWVhbkdyYWRzOiBPcHRpbWl6ZXJWYXJpYWJsZVtdID0gW107XG5cbiAgY29uc3RydWN0b3IoXG4gICAgICBwcm90ZWN0ZWQgbGVhcm5pbmdSYXRlOiBudW1iZXIsIHByb3RlY3RlZCBkZWNheSA9IDAuOSxcbiAgICAgIHByb3RlY3RlZCBtb21lbnR1bSA9IDAuMCwgcHJvdGVjdGVkIGVwc2lsb246IG51bWJlciA9IG51bGwsXG4gICAgICBjZW50ZXJlZCA9IGZhbHNlKSB7XG4gICAgc3VwZXIoKTtcblxuICAgIHRoaXMuY2VudGVyZWQgPSBjZW50ZXJlZDtcblxuICAgIGlmIChlcHNpbG9uID09IG51bGwpIHtcbiAgICAgIHRoaXMuZXBzaWxvbiA9IEVOR0lORS5iYWNrZW5kLmVwc2lsb24oKTtcbiAgICB9XG4gICAgaWYgKGxlYXJuaW5nUmF0ZSA9PSBudWxsKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYGxlYXJuaW5nUmF0ZSBmb3IgUk1TUHJvcE9wdGltaXplciBtdXN0IGJlIGRlZmluZWQuYCk7XG4gICAgfVxuICB9XG5cbiAgYXBwbHlHcmFkaWVudHModmFyaWFibGVHcmFkaWVudHM6IE5hbWVkVGVuc29yTWFwfE5hbWVkVGVuc29yW10pIHtcbiAgICBjb25zdCB2YXJpYWJsZU5hbWVzID0gQXJyYXkuaXNBcnJheSh2YXJpYWJsZUdyYWRpZW50cykgP1xuICAgICAgICB2YXJpYWJsZUdyYWRpZW50cy5tYXAoaXRlbSA9PiBpdGVtLm5hbWUpIDpcbiAgICAgICAgT2JqZWN0LmtleXModmFyaWFibGVHcmFkaWVudHMpO1xuXG4gICAgdmFyaWFibGVOYW1lcy5mb3JFYWNoKChuYW1lLCBpKSA9PiB7XG4gICAgICBjb25zdCB2YWx1ZSA9IEVOR0lORS5yZWdpc3RlcmVkVmFyaWFibGVzW25hbWVdO1xuICAgICAgY29uc3QgdHJhaW5hYmxlID0gZmFsc2U7XG4gICAgICBpZiAodGhpcy5hY2N1bXVsYXRlZE1lYW5TcXVhcmVzW2ldID09IG51bGwpIHtcbiAgICAgICAgdGhpcy5hY2N1bXVsYXRlZE1lYW5TcXVhcmVzW2ldID0ge1xuICAgICAgICAgIG9yaWdpbmFsTmFtZTogYCR7bmFtZX0vcm1zYCxcbiAgICAgICAgICB2YXJpYWJsZTogdGlkeSgoKSA9PiB6ZXJvc0xpa2UodmFsdWUpLnZhcmlhYmxlKHRyYWluYWJsZSkpXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5hY2N1bXVsYXRlZE1vbWVudHNbaV0gPT0gbnVsbCkge1xuICAgICAgICB0aGlzLmFjY3VtdWxhdGVkTW9tZW50c1tpXSA9IHtcbiAgICAgICAgICBvcmlnaW5hbE5hbWU6IGAke25hbWV9L21vbWVudHVtYCxcbiAgICAgICAgICB2YXJpYWJsZTogdGlkeSgoKSA9PiB6ZXJvc0xpa2UodmFsdWUpLnZhcmlhYmxlKHRyYWluYWJsZSkpXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5hY2N1bXVsYXRlZE1lYW5HcmFkc1tpXSA9PSBudWxsICYmIHRoaXMuY2VudGVyZWQpIHtcbiAgICAgICAgdGhpcy5hY2N1bXVsYXRlZE1lYW5HcmFkc1tpXSA9IHtcbiAgICAgICAgICBvcmlnaW5hbE5hbWU6IGAke25hbWV9L21nYCxcbiAgICAgICAgICB2YXJpYWJsZTogdGlkeSgoKSA9PiB6ZXJvc0xpa2UodmFsdWUpLnZhcmlhYmxlKHRyYWluYWJsZSkpXG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGdyYWRpZW50ID0gQXJyYXkuaXNBcnJheSh2YXJpYWJsZUdyYWRpZW50cykgP1xuICAgICAgICAgIHZhcmlhYmxlR3JhZGllbnRzW2ldLnRlbnNvciA6XG4gICAgICAgICAgdmFyaWFibGVHcmFkaWVudHNbbmFtZV07XG4gICAgICBpZiAoZ3JhZGllbnQgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGFjY3VtdWxhdGVkTWVhblNxdWFyZSA9IHRoaXMuYWNjdW11bGF0ZWRNZWFuU3F1YXJlc1tpXS52YXJpYWJsZTtcbiAgICAgIGNvbnN0IGFjY3VtdWxhdGVkTW9tZW50cyA9IHRoaXMuYWNjdW11bGF0ZWRNb21lbnRzW2ldLnZhcmlhYmxlO1xuICAgICAgdGlkeSgoKSA9PiB7XG4gICAgICAgIGNvbnN0IG5ld0FjY3VtdWxhdGVkTWVhblNxdWFyZSA9XG4gICAgICAgICAgICBhZGQobXVsKGFjY3VtdWxhdGVkTWVhblNxdWFyZSwgdGhpcy5kZWNheSksXG4gICAgICAgICAgICAgICAgbXVsKHNxdWFyZShncmFkaWVudCksIDEgLSB0aGlzLmRlY2F5KSk7XG5cbiAgICAgICAgaWYgKHRoaXMuY2VudGVyZWQpIHtcbiAgICAgICAgICBjb25zdCBhY2N1bXVsYXRlZE1lYW5HcmFkID0gdGhpcy5hY2N1bXVsYXRlZE1lYW5HcmFkc1tpXS52YXJpYWJsZTtcbiAgICAgICAgICAvLyBDZW50ZXJlZCBncmFkaWVudFxuICAgICAgICAgIGNvbnN0IG5ld0FjY3VtdWxhdGVkTWVhbkdyYWQgPVxuICAgICAgICAgICAgICBhZGQobXVsKGFjY3VtdWxhdGVkTWVhbkdyYWQsIHRoaXMuZGVjYXkpLFxuICAgICAgICAgICAgICAgICAgbXVsKGdyYWRpZW50LCAxIC0gdGhpcy5kZWNheSkpO1xuXG4gICAgICAgICAgY29uc3QgZ3JhZENvbnRyaWJ1dGlvbiA9XG4gICAgICAgICAgICAgIGRpdihtdWwoZ3JhZGllbnQsIHRoaXMubGVhcm5pbmdSYXRlKSxcbiAgICAgICAgICAgICAgICAgIHNxcnQoXG4gICAgICAgICAgICAgICAgICAgICAgc3ViKG5ld0FjY3VtdWxhdGVkTWVhblNxdWFyZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkKHNxdWFyZShuZXdBY2N1bXVsYXRlZE1lYW5HcmFkKSwgdGhpcy5lcHNpbG9uKSkpKTtcbiAgICAgICAgICBjb25zdCBuZXdBY2N1bXVsYXRlZE1vbWVudHMgPVxuICAgICAgICAgICAgICBhZGQobXVsKGFjY3VtdWxhdGVkTW9tZW50cywgdGhpcy5tb21lbnR1bSksIGdyYWRDb250cmlidXRpb24pO1xuXG4gICAgICAgICAgYWNjdW11bGF0ZWRNZWFuU3F1YXJlLmFzc2lnbihuZXdBY2N1bXVsYXRlZE1lYW5TcXVhcmUpO1xuICAgICAgICAgIGFjY3VtdWxhdGVkTWVhbkdyYWQuYXNzaWduKG5ld0FjY3VtdWxhdGVkTWVhbkdyYWQpO1xuICAgICAgICAgIGFjY3VtdWxhdGVkTW9tZW50cy5hc3NpZ24obmV3QWNjdW11bGF0ZWRNb21lbnRzKTtcblxuICAgICAgICAgIGNvbnN0IG5ld1ZhbHVlID0gc3ViKHZhbHVlLCBuZXdBY2N1bXVsYXRlZE1vbWVudHMpO1xuICAgICAgICAgIHZhbHVlLmFzc2lnbihuZXdWYWx1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gUGxhaW4gZ3JhZGllbnRcbiAgICAgICAgICBjb25zdCBuZXdBY2N1bXVsYXRlZE1lYW5TcXVhcmUgPVxuICAgICAgICAgICAgICBhZGQobXVsKGFjY3VtdWxhdGVkTWVhblNxdWFyZSwgdGhpcy5kZWNheSksXG4gICAgICAgICAgICAgICAgICBtdWwoc3F1YXJlKGdyYWRpZW50KSwgMSAtIHRoaXMuZGVjYXkpKTtcblxuICAgICAgICAgIGNvbnN0IG5ld0FjY3VtdWxhdGVkTW9tZW50cyA9XG4gICAgICAgICAgICAgIGFkZChtdWwoYWNjdW11bGF0ZWRNb21lbnRzLCB0aGlzLm1vbWVudHVtKSxcbiAgICAgICAgICAgICAgICAgIGRpdihtdWwoZ3JhZGllbnQsIHRoaXMubGVhcm5pbmdSYXRlKSxcbiAgICAgICAgICAgICAgICAgICAgICBzcXJ0KGFkZChuZXdBY2N1bXVsYXRlZE1lYW5TcXVhcmUsIHRoaXMuZXBzaWxvbikpKSk7XG5cbiAgICAgICAgICBhY2N1bXVsYXRlZE1lYW5TcXVhcmUuYXNzaWduKG5ld0FjY3VtdWxhdGVkTWVhblNxdWFyZSk7XG4gICAgICAgICAgYWNjdW11bGF0ZWRNb21lbnRzLmFzc2lnbihuZXdBY2N1bXVsYXRlZE1vbWVudHMpO1xuXG4gICAgICAgICAgY29uc3QgbmV3VmFsdWUgPSBzdWIodmFsdWUsIG5ld0FjY3VtdWxhdGVkTW9tZW50cyk7XG4gICAgICAgICAgdmFsdWUuYXNzaWduKG5ld1ZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gICAgdGhpcy5pbmNyZW1lbnRJdGVyYXRpb25zKCk7XG4gIH1cblxuICBkaXNwb3NlKCk6IHZvaWQge1xuICAgIGlmICh0aGlzLmFjY3VtdWxhdGVkTWVhblNxdWFyZXMgIT0gbnVsbCkge1xuICAgICAgZGlzcG9zZSh0aGlzLmFjY3VtdWxhdGVkTWVhblNxdWFyZXMubWFwKHYgPT4gdi52YXJpYWJsZSkpO1xuICAgIH1cbiAgICBpZiAodGhpcy5hY2N1bXVsYXRlZE1lYW5HcmFkcyAhPSBudWxsICYmIHRoaXMuY2VudGVyZWQpIHtcbiAgICAgIGRpc3Bvc2UodGhpcy5hY2N1bXVsYXRlZE1lYW5HcmFkcy5tYXAodiA9PiB2LnZhcmlhYmxlKSk7XG4gICAgfVxuICAgIGlmICh0aGlzLmFjY3VtdWxhdGVkTW9tZW50cyAhPSBudWxsKSB7XG4gICAgICBkaXNwb3NlKHRoaXMuYWNjdW11bGF0ZWRNb21lbnRzLm1hcCh2ID0+IHYudmFyaWFibGUpKTtcbiAgICB9XG4gIH1cblxuICBhc3luYyBnZXRXZWlnaHRzKCk6IFByb21pc2U8TmFtZWRUZW5zb3JbXT4ge1xuICAgIC8vIE9yZGVyIG1hdHRlcnMgZm9yIFB5dGhvbiBjb21wYXRpYmlsaXR5LlxuICAgIGNvbnN0IHZhcmlhYmxlczogT3B0aW1pemVyVmFyaWFibGVbXSA9XG4gICAgICAgIFsuLi50aGlzLmFjY3VtdWxhdGVkTWVhblNxdWFyZXMsIC4uLnRoaXMuYWNjdW11bGF0ZWRNb21lbnRzXTtcbiAgICBpZiAodGhpcy5jZW50ZXJlZCkge1xuICAgICAgdmFyaWFibGVzLnB1c2goLi4udGhpcy5hY2N1bXVsYXRlZE1lYW5HcmFkcyk7XG4gICAgfVxuICAgIHJldHVybiBbYXdhaXQgdGhpcy5zYXZlSXRlcmF0aW9ucygpXS5jb25jYXQoXG4gICAgICAgIHZhcmlhYmxlcy5tYXAodiA9PiAoe25hbWU6IHYub3JpZ2luYWxOYW1lLCB0ZW5zb3I6IHYudmFyaWFibGV9KSkpO1xuICB9XG5cbiAgYXN5bmMgc2V0V2VpZ2h0cyh3ZWlnaHRWYWx1ZXM6IE5hbWVkVGVuc29yW10pOiBQcm9taXNlPHZvaWQ+IHtcbiAgICB3ZWlnaHRWYWx1ZXMgPSBhd2FpdCB0aGlzLmV4dHJhY3RJdGVyYXRpb25zKHdlaWdodFZhbHVlcyk7XG4gICAgY29uc3QgdmFyaWFibGVDb3VudCA9XG4gICAgICAgIHRoaXMuY2VudGVyZWQgPyB3ZWlnaHRWYWx1ZXMubGVuZ3RoIC8gMyA6IHdlaWdodFZhbHVlcy5sZW5ndGggLyAyO1xuICAgIGNvbnN0IHRyYWluYWJsZSA9IGZhbHNlO1xuICAgIHRoaXMuYWNjdW11bGF0ZWRNZWFuU3F1YXJlcyA9XG4gICAgICAgIHdlaWdodFZhbHVlcy5zbGljZSgwLCB2YXJpYWJsZUNvdW50KS5tYXAodiA9PiAoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxOYW1lOiB2Lm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXJpYWJsZTogdi50ZW5zb3IudmFyaWFibGUoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhaW5hYmxlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICB0aGlzLmFjY3VtdWxhdGVkTW9tZW50cyA9XG4gICAgICAgIHdlaWdodFZhbHVlcy5zbGljZSh2YXJpYWJsZUNvdW50LCB2YXJpYWJsZUNvdW50ICogMilcbiAgICAgICAgICAgIC5tYXAodiA9PiAoe1xuICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsTmFtZTogdi5uYW1lLFxuICAgICAgICAgICAgICAgICAgIHZhcmlhYmxlOiB2LnRlbnNvci52YXJpYWJsZSh0cmFpbmFibGUpXG4gICAgICAgICAgICAgICAgIH0pKTtcbiAgICBpZiAodGhpcy5jZW50ZXJlZCkge1xuICAgICAgdGhpcy5hY2N1bXVsYXRlZE1lYW5HcmFkcyA9XG4gICAgICAgICAgd2VpZ2h0VmFsdWVzLnNsaWNlKHZhcmlhYmxlQ291bnQgKiAyLCB2YXJpYWJsZUNvdW50ICogMylcbiAgICAgICAgICAgICAgLm1hcCh2ID0+ICh7XG4gICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbE5hbWU6IHYubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgIHZhcmlhYmxlOiB2LnRlbnNvci52YXJpYWJsZSh0cmFpbmFibGUpXG4gICAgICAgICAgICAgICAgICAgfSkpO1xuICAgIH1cbiAgfVxuXG4gIGdldENvbmZpZygpOiBDb25maWdEaWN0IHtcbiAgICByZXR1cm4ge1xuICAgICAgJ2xlYXJuaW5nUmF0ZSc6IHRoaXMubGVhcm5pbmdSYXRlLFxuICAgICAgJ2RlY2F5JzogdGhpcy5kZWNheSxcbiAgICAgICdtb21lbnR1bSc6IHRoaXMubW9tZW50dW0sXG4gICAgICAnZXBzaWxvbic6IHRoaXMuZXBzaWxvbixcbiAgICAgICdjZW50ZXJlZCc6IHRoaXMuY2VudGVyZWRcbiAgICB9O1xuICB9XG5cbiAgLyoqIEBub2NvbGxhcHNlICovXG4gIHN0YXRpYyBmcm9tQ29uZmlnPFQgZXh0ZW5kcyBTZXJpYWxpemFibGU+KFxuICAgICAgY2xzOiBTZXJpYWxpemFibGVDb25zdHJ1Y3RvcjxUPiwgY29uZmlnOiBDb25maWdEaWN0KTogVCB7XG4gICAgcmV0dXJuIG5ldyBjbHMoXG4gICAgICAgIGNvbmZpZ1snbGVhcm5pbmdSYXRlJ10sIGNvbmZpZ1snZGVjYXknXSwgY29uZmlnWydtb21lbnR1bSddLFxuICAgICAgICBjb25maWdbJ2Vwc2lsb24nXSwgY29uZmlnWydjZW50ZXJlZCddKTtcbiAgfVxufVxucmVnaXN0ZXJDbGFzcyhSTVNQcm9wT3B0aW1pemVyKTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE4IEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuaW1wb3J0IHtBZGFkZWx0YU9wdGltaXplcn0gZnJvbSAnLi9hZGFkZWx0YV9vcHRpbWl6ZXInO1xuaW1wb3J0IHtBZGFncmFkT3B0aW1pemVyfSBmcm9tICcuL2FkYWdyYWRfb3B0aW1pemVyJztcbmltcG9ydCB7QWRhbU9wdGltaXplcn0gZnJvbSAnLi9hZGFtX29wdGltaXplcic7XG5pbXBvcnQge0FkYW1heE9wdGltaXplcn0gZnJvbSAnLi9hZGFtYXhfb3B0aW1pemVyJztcbmltcG9ydCB7TW9tZW50dW1PcHRpbWl6ZXJ9IGZyb20gJy4vbW9tZW50dW1fb3B0aW1pemVyJztcbmltcG9ydCB7Uk1TUHJvcE9wdGltaXplcn0gZnJvbSAnLi9ybXNwcm9wX29wdGltaXplcic7XG5pbXBvcnQge1NHRE9wdGltaXplcn0gZnJvbSAnLi9zZ2Rfb3B0aW1pemVyJztcblxuZXhwb3J0IGNsYXNzIE9wdGltaXplckNvbnN0cnVjdG9ycyB7XG4gIC8qKlxuICAgKiBDb25zdHJ1Y3RzIGEgYHRmLlNHRE9wdGltaXplcmAgdGhhdCB1c2VzIHN0b2NoYXN0aWMgZ3JhZGllbnQgZGVzY2VudC5cbiAgICpcbiAgICogYGBganNcbiAgICogLy8gRml0IGEgcXVhZHJhdGljIGZ1bmN0aW9uIGJ5IGxlYXJuaW5nIHRoZSBjb2VmZmljaWVudHMgYSwgYiwgYy5cbiAgICogY29uc3QgeHMgPSB0Zi50ZW5zb3IxZChbMCwgMSwgMiwgM10pO1xuICAgKiBjb25zdCB5cyA9IHRmLnRlbnNvcjFkKFsxLjEsIDUuOSwgMTYuOCwgMzMuOV0pO1xuICAgKlxuICAgKiBjb25zdCBhID0gdGYuc2NhbGFyKE1hdGgucmFuZG9tKCkpLnZhcmlhYmxlKCk7XG4gICAqIGNvbnN0IGIgPSB0Zi5zY2FsYXIoTWF0aC5yYW5kb20oKSkudmFyaWFibGUoKTtcbiAgICogY29uc3QgYyA9IHRmLnNjYWxhcihNYXRoLnJhbmRvbSgpKS52YXJpYWJsZSgpO1xuICAgKlxuICAgKiAvLyB5ID0gYSAqIHheMiArIGIgKiB4ICsgYy5cbiAgICogY29uc3QgZiA9IHggPT4gYS5tdWwoeC5zcXVhcmUoKSkuYWRkKGIubXVsKHgpKS5hZGQoYyk7XG4gICAqIGNvbnN0IGxvc3MgPSAocHJlZCwgbGFiZWwpID0+IHByZWQuc3ViKGxhYmVsKS5zcXVhcmUoKS5tZWFuKCk7XG4gICAqXG4gICAqIGNvbnN0IGxlYXJuaW5nUmF0ZSA9IDAuMDE7XG4gICAqIGNvbnN0IG9wdGltaXplciA9IHRmLnRyYWluLnNnZChsZWFybmluZ1JhdGUpO1xuICAgKlxuICAgKiAvLyBUcmFpbiB0aGUgbW9kZWwuXG4gICAqIGZvciAobGV0IGkgPSAwOyBpIDwgMTA7IGkrKykge1xuICAgKiAgIG9wdGltaXplci5taW5pbWl6ZSgoKSA9PiBsb3NzKGYoeHMpLCB5cykpO1xuICAgKiB9XG4gICAqXG4gICAqIC8vIE1ha2UgcHJlZGljdGlvbnMuXG4gICAqIGNvbnNvbGUubG9nKFxuICAgKiAgICAgYGE6ICR7YS5kYXRhU3luYygpfSwgYjogJHtiLmRhdGFTeW5jKCl9LCBjOiAke2MuZGF0YVN5bmMoKX1gKTtcbiAgICogY29uc3QgcHJlZHMgPSBmKHhzKS5kYXRhU3luYygpO1xuICAgKiBwcmVkcy5mb3JFYWNoKChwcmVkLCBpKSA9PiB7XG4gICAqICAgY29uc29sZS5sb2coYHg6ICR7aX0sIHByZWQ6ICR7cHJlZH1gKTtcbiAgICogfSk7XG4gICAqIGBgYFxuICAgKlxuICAgKiBAcGFyYW0gbGVhcm5pbmdSYXRlIFRoZSBsZWFybmluZyByYXRlIHRvIHVzZSBmb3IgdGhlIFNHRCBhbGdvcml0aG0uXG4gICAqXG4gICAqIEBkb2Mge2hlYWRpbmc6ICdUcmFpbmluZycsIHN1YmhlYWRpbmc6ICdPcHRpbWl6ZXJzJywgbmFtZXNwYWNlOiAndHJhaW4nfVxuICAgKi9cbiAgc3RhdGljIHNnZChsZWFybmluZ1JhdGU6IG51bWJlcik6IFNHRE9wdGltaXplciB7XG4gICAgcmV0dXJuIG5ldyBTR0RPcHRpbWl6ZXIobGVhcm5pbmdSYXRlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb25zdHJ1Y3RzIGEgYHRmLk1vbWVudHVtT3B0aW1pemVyYCB0aGF0IHVzZXMgbW9tZW50dW0gZ3JhZGllbnRcbiAgICogZGVzY2VudC5cbiAgICpcbiAgICogU2VlXG4gICAqIFtodHRwOi8vcHJvY2VlZGluZ3MubWxyLnByZXNzL3YyOC9zdXRza2V2ZXIxMy5wZGZdKFxuICAgKiBodHRwOi8vcHJvY2VlZGluZ3MubWxyLnByZXNzL3YyOC9zdXRza2V2ZXIxMy5wZGYpXG4gICAqXG4gICAqIEBwYXJhbSBsZWFybmluZ1JhdGUgVGhlIGxlYXJuaW5nIHJhdGUgdG8gdXNlIGZvciB0aGUgTW9tZW50dW0gZ3JhZGllbnRcbiAgICogZGVzY2VudCBhbGdvcml0aG0uXG4gICAqIEBwYXJhbSBtb21lbnR1bSBUaGUgbW9tZW50dW0gdG8gdXNlIGZvciB0aGUgbW9tZW50dW0gZ3JhZGllbnQgZGVzY2VudFxuICAgKiBhbGdvcml0aG0uXG4gICAqXG4gICAqIEBkb2Mge2hlYWRpbmc6ICdUcmFpbmluZycsIHN1YmhlYWRpbmc6ICdPcHRpbWl6ZXJzJywgbmFtZXNwYWNlOiAndHJhaW4nfVxuICAgKi9cbiAgc3RhdGljIG1vbWVudHVtKGxlYXJuaW5nUmF0ZTogbnVtYmVyLCBtb21lbnR1bTogbnVtYmVyLCB1c2VOZXN0ZXJvdiA9IGZhbHNlKTpcbiAgICAgIE1vbWVudHVtT3B0aW1pemVyIHtcbiAgICByZXR1cm4gbmV3IE1vbWVudHVtT3B0aW1pemVyKGxlYXJuaW5nUmF0ZSwgbW9tZW50dW0sIHVzZU5lc3Rlcm92KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb25zdHJ1Y3RzIGEgYHRmLlJNU1Byb3BPcHRpbWl6ZXJgIHRoYXQgdXNlcyBSTVNQcm9wIGdyYWRpZW50XG4gICAqIGRlc2NlbnQuIFRoaXMgaW1wbGVtZW50YXRpb24gdXNlcyBwbGFpbiBtb21lbnR1bSBhbmQgaXMgbm90IGNlbnRlcmVkXG4gICAqIHZlcnNpb24gb2YgUk1TUHJvcC5cbiAgICpcbiAgICogU2VlXG4gICAqIFtodHRwOi8vd3d3LmNzLnRvcm9udG8uZWR1L350aWptZW4vY3NjMzIxL3NsaWRlcy9sZWN0dXJlX3NsaWRlc19sZWM2LnBkZl0oXG4gICAqIGh0dHA6Ly93d3cuY3MudG9yb250by5lZHUvfnRpam1lbi9jc2MzMjEvc2xpZGVzL2xlY3R1cmVfc2xpZGVzX2xlYzYucGRmKVxuICAgKlxuICAgKiBAcGFyYW0gbGVhcm5pbmdSYXRlIFRoZSBsZWFybmluZyByYXRlIHRvIHVzZSBmb3IgdGhlIFJNU1Byb3AgZ3JhZGllbnRcbiAgICogZGVzY2VudCBhbGdvcml0aG0uXG4gICAqIEBwYXJhbSBkZWNheSBUaGUgZGlzY291bnRpbmcgZmFjdG9yIGZvciB0aGUgaGlzdG9yeS9jb21pbmcgZ3JhZGllbnQuXG4gICAqIEBwYXJhbSBtb21lbnR1bSBUaGUgbW9tZW50dW0gdG8gdXNlIGZvciB0aGUgUk1TUHJvcCBncmFkaWVudCBkZXNjZW50XG4gICAqIGFsZ29yaXRobS5cbiAgICogQHBhcmFtIGVwc2lsb24gU21hbGwgdmFsdWUgdG8gYXZvaWQgemVybyBkZW5vbWluYXRvci5cbiAgICogQHBhcmFtIGNlbnRlcmVkIElmIHRydWUsIGdyYWRpZW50cyBhcmUgbm9ybWFsaXplZCBieSB0aGUgZXN0aW1hdGVkXG4gICAqIHZhcmlhbmNlIG9mIHRoZSBncmFkaWVudC5cbiAgICpcbiAgICogQGRvYyB7aGVhZGluZzogJ1RyYWluaW5nJywgc3ViaGVhZGluZzogJ09wdGltaXplcnMnLCBuYW1lc3BhY2U6ICd0cmFpbid9XG4gICAqL1xuICBzdGF0aWMgcm1zcHJvcChcbiAgICAgIGxlYXJuaW5nUmF0ZTogbnVtYmVyLCBkZWNheSA9IC45LCBtb21lbnR1bSA9IDAuMCwgZXBzaWxvbjogbnVtYmVyID0gbnVsbCxcbiAgICAgIGNlbnRlcmVkID0gZmFsc2UpOiBSTVNQcm9wT3B0aW1pemVyIHtcbiAgICByZXR1cm4gbmV3IFJNU1Byb3BPcHRpbWl6ZXIoXG4gICAgICAgIGxlYXJuaW5nUmF0ZSwgZGVjYXksIG1vbWVudHVtLCBlcHNpbG9uLCBjZW50ZXJlZCk7XG4gIH1cblxuICAvKipcbiAgICogQ29uc3RydWN0cyBhIGB0Zi5BZGFtT3B0aW1pemVyYCB0aGF0IHVzZXMgdGhlIEFkYW0gYWxnb3JpdGhtLlxuICAgKiBTZWUgW2h0dHBzOi8vYXJ4aXYub3JnL2Ficy8xNDEyLjY5ODBdKGh0dHBzOi8vYXJ4aXYub3JnL2Ficy8xNDEyLjY5ODApXG4gICAqXG4gICAqIEBwYXJhbSBsZWFybmluZ1JhdGUgVGhlIGxlYXJuaW5nIHJhdGUgdG8gdXNlIGZvciB0aGUgQWRhbSBncmFkaWVudFxuICAgKiBkZXNjZW50IGFsZ29yaXRobS5cbiAgICogQHBhcmFtIGJldGExIFRoZSBleHBvbmVudGlhbCBkZWNheSByYXRlIGZvciB0aGUgMXN0IG1vbWVudCBlc3RpbWF0ZXMuXG4gICAqIEBwYXJhbSBiZXRhMiBUaGUgZXhwb25lbnRpYWwgZGVjYXkgcmF0ZSBmb3IgdGhlIDJuZCBtb21lbnQgZXN0aW1hdGVzLlxuICAgKiBAcGFyYW0gZXBzaWxvbiBBIHNtYWxsIGNvbnN0YW50IGZvciBudW1lcmljYWwgc3RhYmlsaXR5LlxuICAgKlxuICAgKiBAZG9jIHtoZWFkaW5nOiAnVHJhaW5pbmcnLCBzdWJoZWFkaW5nOiAnT3B0aW1pemVycycsIG5hbWVzcGFjZTogJ3RyYWluJ31cbiAgICovXG4gIHN0YXRpYyBhZGFtKFxuICAgICAgbGVhcm5pbmdSYXRlID0gMC4wMDEsIGJldGExID0gMC45LCBiZXRhMiA9IDAuOTk5LFxuICAgICAgZXBzaWxvbjogbnVtYmVyID0gbnVsbCk6IEFkYW1PcHRpbWl6ZXIge1xuICAgIHJldHVybiBuZXcgQWRhbU9wdGltaXplcihsZWFybmluZ1JhdGUsIGJldGExLCBiZXRhMiwgZXBzaWxvbik7XG4gIH1cblxuICAvKipcbiAgICogQ29uc3RydWN0cyBhIGB0Zi5BZGFkZWx0YU9wdGltaXplcmAgdGhhdCB1c2VzIHRoZSBBZGFkZWx0YSBhbGdvcml0aG0uXG4gICAqIFNlZSBbaHR0cHM6Ly9hcnhpdi5vcmcvYWJzLzEyMTIuNTcwMV0oaHR0cHM6Ly9hcnhpdi5vcmcvYWJzLzEyMTIuNTcwMSlcbiAgICpcbiAgICogQHBhcmFtIGxlYXJuaW5nUmF0ZSBUaGUgbGVhcm5pbmcgcmF0ZSB0byB1c2UgZm9yIHRoZSBBZGFkZWx0YSBncmFkaWVudFxuICAgKiBkZXNjZW50IGFsZ29yaXRobS5cbiAgICogQHBhcmFtIHJobyBUaGUgbGVhcm5pbmcgcmF0ZSBkZWNheSBvdmVyIGVhY2ggdXBkYXRlLlxuICAgKiBAcGFyYW0gZXBzaWxvbiBBIGNvbnN0YW50IGVwc2lsb24gdXNlZCB0byBiZXR0ZXIgY29uZGl0aW9uIHRoZSBncmFkXG4gICAqIHVwZGF0ZS5cbiAgICpcbiAgICogQGRvYyB7aGVhZGluZzogJ1RyYWluaW5nJywgc3ViaGVhZGluZzogJ09wdGltaXplcnMnLCBuYW1lc3BhY2U6ICd0cmFpbid9XG4gICAqL1xuICBzdGF0aWMgYWRhZGVsdGEobGVhcm5pbmdSYXRlID0gLjAwMSwgcmhvID0gLjk1LCBlcHNpbG9uOiBudW1iZXIgPSBudWxsKTpcbiAgICAgIEFkYWRlbHRhT3B0aW1pemVyIHtcbiAgICByZXR1cm4gbmV3IEFkYWRlbHRhT3B0aW1pemVyKGxlYXJuaW5nUmF0ZSwgcmhvLCBlcHNpbG9uKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb25zdHJ1Y3RzIGEgYHRmLkFkYW1heE9wdGltaXplcmAgdGhhdCB1c2VzIHRoZSBBZGFtYXggYWxnb3JpdGhtLlxuICAgKiBTZWUgW2h0dHBzOi8vYXJ4aXYub3JnL2Ficy8xNDEyLjY5ODBdKGh0dHBzOi8vYXJ4aXYub3JnL2Ficy8xNDEyLjY5ODApXG4gICAqXG4gICAqIEBwYXJhbSBsZWFybmluZ1JhdGUgVGhlIGxlYXJuaW5nIHJhdGUgdG8gdXNlIGZvciB0aGUgQWRhbWF4IGdyYWRpZW50XG4gICAqIGRlc2NlbnQgYWxnb3JpdGhtLlxuICAgKiBAcGFyYW0gYmV0YTEgVGhlIGV4cG9uZW50aWFsIGRlY2F5IHJhdGUgZm9yIHRoZSAxc3QgbW9tZW50IGVzdGltYXRlcy5cbiAgICogQHBhcmFtIGJldGEyIFRoZSBleHBvbmVudGlhbCBkZWNheSByYXRlIGZvciB0aGUgMm5kIG1vbWVudCBlc3RpbWF0ZXMuXG4gICAqIEBwYXJhbSBlcHNpbG9uIEEgc21hbGwgY29uc3RhbnQgZm9yIG51bWVyaWNhbCBzdGFiaWxpdHkuXG4gICAqIEBwYXJhbSBkZWNheSBUaGUgbGVhcm5pbmcgcmF0ZSBkZWNheSBvdmVyIGVhY2ggdXBkYXRlLlxuICAgKlxuICAgKiBAZG9jIHtoZWFkaW5nOiAnVHJhaW5pbmcnLCBzdWJoZWFkaW5nOiAnT3B0aW1pemVycycsIG5hbWVzcGFjZTogJ3RyYWluJ31cbiAgICovXG4gIHN0YXRpYyBhZGFtYXgoXG4gICAgICBsZWFybmluZ1JhdGUgPSAwLjAwMiwgYmV0YTEgPSAwLjksIGJldGEyID0gMC45OTksIGVwc2lsb246IG51bWJlciA9IG51bGwsXG4gICAgICBkZWNheSA9IDAuMCk6IEFkYW1heE9wdGltaXplciB7XG4gICAgcmV0dXJuIG5ldyBBZGFtYXhPcHRpbWl6ZXIobGVhcm5pbmdSYXRlLCBiZXRhMSwgYmV0YTIsIGVwc2lsb24sIGRlY2F5KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb25zdHJ1Y3RzIGEgYHRmLkFkYWdyYWRPcHRpbWl6ZXJgIHRoYXQgdXNlcyB0aGUgQWRhZ3JhZCBhbGdvcml0aG0uXG4gICAqIFNlZVxuICAgKiBbaHR0cDovL3d3dy5qbWxyLm9yZy9wYXBlcnMvdm9sdW1lMTIvZHVjaGkxMWEvZHVjaGkxMWEucGRmXShcbiAgICogaHR0cDovL3d3dy5qbWxyLm9yZy9wYXBlcnMvdm9sdW1lMTIvZHVjaGkxMWEvZHVjaGkxMWEucGRmKVxuICAgKiBvclxuICAgKiBbaHR0cDovL3J1ZGVyLmlvL29wdGltaXppbmctZ3JhZGllbnQtZGVzY2VudC9kYXNoYm9hcmQuaHRtbCNhZGFncmFkXShcbiAgICogaHR0cDovL3J1ZGVyLmlvL29wdGltaXppbmctZ3JhZGllbnQtZGVzY2VudC9kYXNoYm9hcmQuaHRtbCNhZGFncmFkKVxuICAgKlxuICAgKiBAcGFyYW0gbGVhcm5pbmdSYXRlIFRoZSBsZWFybmluZyByYXRlIHRvIHVzZSBmb3IgdGhlIEFkYWdyYWQgZ3JhZGllbnRcbiAgICogZGVzY2VudCBhbGdvcml0aG0uXG4gICAqIEBwYXJhbSBpbml0aWFsQWNjdW11bGF0b3JWYWx1ZSBTdGFydGluZyB2YWx1ZSBmb3IgdGhlIGFjY3VtdWxhdG9ycywgbXVzdCBiZVxuICAgKiBwb3NpdGl2ZS5cbiAgICpcbiAgICogQGRvYyB7aGVhZGluZzogJ1RyYWluaW5nJywgc3ViaGVhZGluZzogJ09wdGltaXplcnMnLCBuYW1lc3BhY2U6ICd0cmFpbid9XG4gICAqL1xuICBzdGF0aWMgYWRhZ3JhZChsZWFybmluZ1JhdGU6IG51bWJlciwgaW5pdGlhbEFjY3VtdWxhdG9yVmFsdWUgPSAwLjEpOlxuICAgICAgQWRhZ3JhZE9wdGltaXplciB7XG4gICAgcmV0dXJuIG5ldyBBZGFncmFkT3B0aW1pemVyKGxlYXJuaW5nUmF0ZSwgaW5pdGlhbEFjY3VtdWxhdG9yVmFsdWUpO1xuICB9XG59XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbi8vIFNvIHR5cGluZ3MgY2FuIHByb3BhZ2F0ZS5cbmltcG9ydCB7QWRhZGVsdGFPcHRpbWl6ZXJ9IGZyb20gJy4vb3B0aW1pemVycy9hZGFkZWx0YV9vcHRpbWl6ZXInO1xuaW1wb3J0IHtBZGFncmFkT3B0aW1pemVyfSBmcm9tICcuL29wdGltaXplcnMvYWRhZ3JhZF9vcHRpbWl6ZXInO1xuaW1wb3J0IHtBZGFtT3B0aW1pemVyfSBmcm9tICcuL29wdGltaXplcnMvYWRhbV9vcHRpbWl6ZXInO1xuaW1wb3J0IHtBZGFtYXhPcHRpbWl6ZXJ9IGZyb20gJy4vb3B0aW1pemVycy9hZGFtYXhfb3B0aW1pemVyJztcbmltcG9ydCB7TW9tZW50dW1PcHRpbWl6ZXJ9IGZyb20gJy4vb3B0aW1pemVycy9tb21lbnR1bV9vcHRpbWl6ZXInO1xuaW1wb3J0IHtPcHRpbWl6ZXJDb25zdHJ1Y3RvcnN9IGZyb20gJy4vb3B0aW1pemVycy9vcHRpbWl6ZXJfY29uc3RydWN0b3JzJztcbmltcG9ydCB7Uk1TUHJvcE9wdGltaXplcn0gZnJvbSAnLi9vcHRpbWl6ZXJzL3Jtc3Byb3Bfb3B0aW1pemVyJztcbmltcG9ydCB7U0dET3B0aW1pemVyfSBmcm9tICcuL29wdGltaXplcnMvc2dkX29wdGltaXplcic7XG5cbi8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby11bnVzZWQtZXhwcmVzc2lvblxuW01vbWVudHVtT3B0aW1pemVyLCBTR0RPcHRpbWl6ZXIsIEFkYWRlbHRhT3B0aW1pemVyLCBBZGFncmFkT3B0aW1pemVyLFxuIFJNU1Byb3BPcHRpbWl6ZXIsIEFkYW1heE9wdGltaXplciwgQWRhbU9wdGltaXplcl07XG5cbmV4cG9ydCBjb25zdCB0cmFpbiA9IHtcbiAgc2dkOiBPcHRpbWl6ZXJDb25zdHJ1Y3RvcnMuc2dkLFxuICBtb21lbnR1bTogT3B0aW1pemVyQ29uc3RydWN0b3JzLm1vbWVudHVtLFxuICBhZGFkZWx0YTogT3B0aW1pemVyQ29uc3RydWN0b3JzLmFkYWRlbHRhLFxuICBhZGFncmFkOiBPcHRpbWl6ZXJDb25zdHJ1Y3RvcnMuYWRhZ3JhZCxcbiAgcm1zcHJvcDogT3B0aW1pemVyQ29uc3RydWN0b3JzLnJtc3Byb3AsXG4gIGFkYW1heDogT3B0aW1pemVyQ29uc3RydWN0b3JzLmFkYW1heCxcbiAgYWRhbTogT3B0aW1pemVyQ29uc3RydWN0b3JzLmFkYW1cbn07XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbmNvbnN0IGRlbGF5Q2FsbGJhY2s6IEZ1bmN0aW9uID0gKCgpID0+IHtcbiAgaWYgKHR5cGVvZiByZXF1ZXN0QW5pbWF0aW9uRnJhbWUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuIHJlcXVlc3RBbmltYXRpb25GcmFtZTtcbiAgfSBlbHNlIGlmICh0eXBlb2Ygc2V0SW1tZWRpYXRlICE9PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybiBzZXRJbW1lZGlhdGU7XG4gIH1cbiAgcmV0dXJuIChmOiBGdW5jdGlvbikgPT4gZigpOyAgLy8gbm8gZGVsYXlzXG59KSgpO1xuXG4vKipcbiAqIFJldHVybnMgYSBwcm9taXNlIHRoYXQgcmVzb2x2ZSB3aGVuIGEgcmVxdWVzdEFuaW1hdGlvbkZyYW1lIGhhcyBjb21wbGV0ZWQuXG4gKlxuICogT24gTm9kZS5qcyB0aGlzIHVzZXMgc2V0SW1tZWRpYXRlIGluc3RlYWQgb2YgcmVxdWVzdEFuaW1hdGlvbkZyYW1lLlxuICpcbiAqIFRoaXMgaXMgc2ltcGx5IGEgc3VnYXIgbWV0aG9kIHNvIHRoYXQgdXNlcnMgY2FuIGRvIHRoZSBmb2xsb3dpbmc6XG4gKiBgYXdhaXQgdGYubmV4dEZyYW1lKCk7YFxuICpcbiAqIEBkb2Mge2hlYWRpbmc6ICdQZXJmb3JtYW5jZScsIHN1YmhlYWRpbmc6ICdUaW1pbmcnfVxuICovXG5mdW5jdGlvbiBuZXh0RnJhbWUoKTogUHJvbWlzZTx2b2lkPiB7XG4gIHJldHVybiBuZXcgUHJvbWlzZTx2b2lkPihyZXNvbHZlID0+IGRlbGF5Q2FsbGJhY2soKCkgPT4gcmVzb2x2ZSgpKSk7XG59XG5cbmV4cG9ydCB7bmV4dEZyYW1lfTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE4IEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cbmltcG9ydCB7RU5HSU5FfSBmcm9tICcuLi9lbmdpbmUnO1xuaW1wb3J0IHtjYXN0fSBmcm9tICcuLi9vcHMvY2FzdCc7XG5pbXBvcnQge3NjYWxhcn0gZnJvbSAnLi4vb3BzL3NjYWxhcic7XG5pbXBvcnQge3RlbnNvcjFkfSBmcm9tICcuLi9vcHMvdGVuc29yMWQnO1xuaW1wb3J0IHt6ZXJvc30gZnJvbSAnLi4vb3BzL3plcm9zJztcbmltcG9ydCB7VGVuc29yfSBmcm9tICcuLi90ZW5zb3InO1xuaW1wb3J0IHtSYW5rfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQge0RhdGFUeXBlLCBTaGFwZU1hcH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHtoYXNFbmNvZGluZ0xvc3MsIG1ha2VaZXJvc1R5cGVkQXJyYXl9IGZyb20gJy4uL3V0aWwnO1xuXG5pbXBvcnQge0tlcm5lbEJhY2tlbmR9IGZyb20gJy4vYmFja2VuZCc7XG5cbi8vIFV0aWxpdGllcyBuZWVkZWQgYnkgYmFja2VuZCBjb25zdW1lcnMgb2YgdGYtY29yZS5cbmV4cG9ydCAqIGZyb20gJy4uL29wcy9heGlzX3V0aWwnO1xuZXhwb3J0ICogZnJvbSAnLi4vb3BzL2Jyb2FkY2FzdF91dGlsJztcbmV4cG9ydCAqIGZyb20gJy4uL29wcy9jb25jYXRfdXRpbCc7XG5leHBvcnQgKiBmcm9tICcuLi9vcHMvY29udl91dGlsJztcbmV4cG9ydCAqIGZyb20gJy4uL29wcy9mdXNlZF91dGlsJztcbmV4cG9ydCAqIGZyb20gJy4uL29wcy9mdXNlZF90eXBlcyc7XG5leHBvcnQgKiBmcm9tICcuLi9vcHMvcmVkdWNlX3V0aWwnO1xuXG5pbXBvcnQgKiBhcyBzbGljZV91dGlsIGZyb20gJy4uL29wcy9zbGljZV91dGlsJztcbmV4cG9ydCB7c2xpY2VfdXRpbH07XG5cbmV4cG9ydCB7QmFja2VuZFZhbHVlcywgVHlwZWRBcnJheSwgdXBjYXN0VHlwZSwgUGl4ZWxEYXRhfSBmcm9tICcuLi90eXBlcyc7XG5leHBvcnQge01lbW9yeUluZm8sIFRpbWluZ0luZm99IGZyb20gJy4uL2VuZ2luZSc7XG5leHBvcnQgKiBmcm9tICcuLi9vcHMvcm90YXRlX3V0aWwnO1xuZXhwb3J0ICogZnJvbSAnLi4vb3BzL2FycmF5X29wc191dGlsJztcbmV4cG9ydCAqIGZyb20gJy4uL29wcy9nYXRoZXJfbmRfdXRpbCc7XG5leHBvcnQgKiBmcm9tICcuLi9vcHMvc2NhdHRlcl9uZF91dGlsJztcbmV4cG9ydCAqIGZyb20gJy4uL29wcy9zZWx1X3V0aWwnO1xuZXhwb3J0ICogZnJvbSAnLi4vb3BzL2Z1c2VkX3V0aWwnO1xuZXhwb3J0ICogZnJvbSAnLi4vb3BzL2VyZl91dGlsJztcbmV4cG9ydCAqIGZyb20gJy4uL2xvZyc7XG5leHBvcnQgKiBmcm9tICcuLi9iYWNrZW5kcy9jb21wbGV4X3V0aWwnO1xuZXhwb3J0ICogZnJvbSAnLi4vb3BzL3NwbGl0X3V0aWwnO1xuXG5pbXBvcnQgKiBhcyBzZWdtZW50X3V0aWwgZnJvbSAnLi4vb3BzL3NlZ21lbnRfdXRpbCc7XG5leHBvcnQge3NlZ21lbnRfdXRpbH07XG5cbmV4cG9ydCBmdW5jdGlvbiBjYXN0VGVuc29yPFQgZXh0ZW5kcyBUZW5zb3I+KFxuICAgIHg6IFQsIGR0eXBlOiBEYXRhVHlwZSwgYmFja2VuZDogS2VybmVsQmFja2VuZCk6IFQge1xuICBpZiAoZHR5cGUgPT09ICdjb21wbGV4NjQnKSB7XG4gICAgaWYgKHguZHR5cGUgPT09ICdjb21wbGV4NjQnKSB7XG4gICAgICByZXR1cm4geC5jbG9uZSgpO1xuICAgIH1cbiAgICBjb25zdCB6ZXJvc1RlbnNvciA9IHplcm9zKHguc2hhcGUpO1xuICAgIGNvbnN0IGZsb2F0WCA9IGNhc3QoeCwgJ2Zsb2F0MzInKTtcbiAgICBjb25zdCByZXN1bHQgPSBiYWNrZW5kLmNvbXBsZXgoZmxvYXRYLCB6ZXJvc1RlbnNvcik7XG4gICAgemVyb3NUZW5zb3IuZGlzcG9zZSgpO1xuICAgIGZsb2F0WC5kaXNwb3NlKCk7XG4gICAgcmV0dXJuIHJlc3VsdCBhcyBUO1xuICB9XG5cbiAgaWYgKCFoYXNFbmNvZGluZ0xvc3MoeC5kdHlwZSwgZHR5cGUpKSB7XG4gICAgLy8gV2UgZG9uJ3QgY2hhbmdlIHRoZSB1bmRlcmx5aW5nIGRhdGEsIHNpbmNlIHdlIGNhc3QgdG8gaGlnaGVyXG4gICAgLy8gcHJlY2lzaW9uLlxuICAgIHJldHVybiBFTkdJTkUubWFrZVRlbnNvckZyb21EYXRhSWQoeC5kYXRhSWQsIHguc2hhcGUsIGR0eXBlKSBhcyBUO1xuICB9XG4gIGlmICh4LmR0eXBlID09PSAnY29tcGxleDY0Jykge1xuICAgIGNvbnN0IHJlYWwgPSBiYWNrZW5kLnJlYWwoeCk7XG4gICAgY29uc3QgcmVzdWx0ID0gY2FzdChyZWFsLCBkdHlwZSk7XG4gICAgcmVhbC5kaXNwb3NlKCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuICBpZiAoZHR5cGUgPT09ICdpbnQzMicpIHtcbiAgICByZXR1cm4gYmFja2VuZC5pbnQoeCk7XG4gIH0gZWxzZSBpZiAoZHR5cGUgPT09ICdib29sJykge1xuICAgIGNvbnN0IHplcm8gPSBzY2FsYXIoMCwgeC5kdHlwZSk7XG4gICAgY29uc3QgcmVzdWx0ID0gYmFja2VuZC5ub3RFcXVhbCh4LCB6ZXJvKSBhcyBUO1xuICAgIHplcm8uZGlzcG9zZSgpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBFcnJvciBpbiBDYXN0OiBmYWlsZWQgdG8gY2FzdCAke3guZHR5cGV9IHRvICR7ZHR5cGV9YCk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlc2hhcGVUZW5zb3I8VCBleHRlbmRzIFRlbnNvciwgUiBleHRlbmRzIFJhbms+KFxuICAgIHg6IFQsIHNoYXBlOiBTaGFwZU1hcFtSXSk6IFRlbnNvcjxSPiB7XG4gIHJldHVybiBFTkdJTkUubWFrZVRlbnNvckZyb21EYXRhSWQoeC5kYXRhSWQsIHNoYXBlLCB4LmR0eXBlKSBhcyBUZW5zb3I8Uj47XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBsaW5zcGFjZUltcGwoc3RhcnQ6IG51bWJlciwgc3RvcDogbnVtYmVyLCBudW06IG51bWJlcikge1xuICBjb25zdCBzdGVwID0gKHN0b3AgLSBzdGFydCkgLyAobnVtIC0gMSk7XG5cbiAgY29uc3QgdmFsdWVzID0gbWFrZVplcm9zVHlwZWRBcnJheShudW0sICdmbG9hdDMyJyk7XG4gIHZhbHVlc1swXSA9IHN0YXJ0O1xuICBmb3IgKGxldCBpID0gMTsgaSA8IHZhbHVlcy5sZW5ndGg7IGkrKykge1xuICAgIHZhbHVlc1tpXSA9IHZhbHVlc1tpIC0gMV0gKyBzdGVwO1xuICB9XG5cbiAgcmV0dXJuIHRlbnNvcjFkKHZhbHVlcywgJ2Zsb2F0MzInKTtcbn1cbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuLy8gUmV0dXJucyB0aGUgaW1hZ2UgY2VudGVyIGluIHBpeGVscy5cbmV4cG9ydCBmdW5jdGlvbiBnZXRJbWFnZUNlbnRlcihcbiAgICBjZW50ZXI6IG51bWJlcnxbbnVtYmVyLCBudW1iZXJdLCBpbWFnZUhlaWdodDogbnVtYmVyLFxuICAgIGltYWdlV2lkdGg6IG51bWJlcik6IFtudW1iZXIsIG51bWJlcl0ge1xuICBjb25zdCBjZW50ZXJYID1cbiAgICAgIGltYWdlV2lkdGggKiAodHlwZW9mIGNlbnRlciA9PT0gJ251bWJlcicgPyBjZW50ZXIgOiBjZW50ZXJbMF0pO1xuICBjb25zdCBjZW50ZXJZID1cbiAgICAgIGltYWdlSGVpZ2h0ICogKHR5cGVvZiBjZW50ZXIgPT09ICdudW1iZXInID8gY2VudGVyIDogY2VudGVyWzFdKTtcbiAgcmV0dXJuIFtjZW50ZXJYLCBjZW50ZXJZXTtcbn1cbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE4IEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuLyoqXG4gKiBHZXRzIHRoZSBuZXcgc2hhcGUgb2YgdGhlIGlucHV0IFRlbnNvciBhZnRlciBpdCdzIGJlZW4gcmVzaGFwZWRcbiAqIHRvOlxuICogW2Jsb2NrU2hhcGVbMF0sIC4uLiwgYmxvY2tTaGFwZVtNLTFdLCBiYXRjaCAvIHByb2QoYmxvY2tTaGFwZSksXG4gKiBpbnB1dFNoYXBlWzFdLCAuLi4sIGlucHV0U2hhcGVbTi0xXV1cbiAqXG4gKiBTZWUgc3RlcCAxOiBodHRwczovL3d3dy50ZW5zb3JmbG93Lm9yZy9hcGlfZG9jcy9weXRob24vdGYvYmF0Y2hfdG9fc3BhY2VfbmRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFJlc2hhcGVkKFxuICAgIGlucHV0U2hhcGU6IG51bWJlcltdLCBibG9ja1NoYXBlOiBudW1iZXJbXSwgcHJvZDogbnVtYmVyLFxuICAgIGJhdGNoVG9TcGFjZSA9IHRydWUpOiBudW1iZXJbXSB7XG4gIGxldCByZXNoYXBlZDogbnVtYmVyW10gPSBbXTtcbiAgaWYgKGJhdGNoVG9TcGFjZSkge1xuICAgIHJlc2hhcGVkID0gcmVzaGFwZWQuY29uY2F0KGJsb2NrU2hhcGUuc2xpY2UoMCkpO1xuICAgIHJlc2hhcGVkLnB1c2goaW5wdXRTaGFwZVswXSAvIHByb2QpO1xuICAgIHJlc2hhcGVkID0gcmVzaGFwZWQuY29uY2F0KGlucHV0U2hhcGUuc2xpY2UoMSkpO1xuICB9IGVsc2Uge1xuICAgIHJlc2hhcGVkID0gcmVzaGFwZWQuY29uY2F0KGlucHV0U2hhcGVbMF0pO1xuICAgIGNvbnN0IHNwYXRpYWxMZW5ndGggPSBibG9ja1NoYXBlLmxlbmd0aDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNwYXRpYWxMZW5ndGg7ICsraSkge1xuICAgICAgcmVzaGFwZWQgPVxuICAgICAgICAgIHJlc2hhcGVkLmNvbmNhdChbaW5wdXRTaGFwZVtpICsgMV0gLyBibG9ja1NoYXBlW2ldLCBibG9ja1NoYXBlW2ldXSk7XG4gICAgfVxuICAgIHJlc2hhcGVkID0gcmVzaGFwZWQuY29uY2F0KGlucHV0U2hhcGUuc2xpY2Uoc3BhdGlhbExlbmd0aCArIDEpKTtcbiAgfVxuICByZXR1cm4gcmVzaGFwZWQ7XG59XG5cbi8qKlxuICogR2V0cyB0aGUgcGVybXV0YXRpb24gdGhhdCB3aWxsIHRyYW5zcG9zZSB0aGUgZGltZW5zaW9ucyBvZiB0aGVcbiAqIHJlc2hhcGVkIHRlbnNvciB0byBzaGFwZTpcbiAqXG4gKiBbYmF0Y2ggLyBwcm9kKGJsb2NrX3NoYXBlKSxpbnB1dFNoYXBlWzFdLCBibG9ja1NoYXBlWzBdLCAuLi4sXG4gKiBpbnB1dFNoYXBlW01dLCBibG9ja1NoYXBlW00tMV0saW5wdXRTaGFwZVtNKzFdLCAuLi4sIGlucHV0U2hhcGVbTi0xXV1cbiAqXG4gKiBzZWUgc3RlcCAyOiBodHRwczovL3d3dy50ZW5zb3JmbG93Lm9yZy9hcGlfZG9jcy9weXRob24vdGYvYmF0Y2hfdG9fc3BhY2VfbmRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFBlcm11dGVkKFxuICAgIHJlc2hhcGVkUmFuazogbnVtYmVyLCBibG9ja1NoYXBlUmFuazogbnVtYmVyLFxuICAgIGJhdGNoVG9TcGFjZSA9IHRydWUpOiBudW1iZXJbXSB7XG4gIGNvbnN0IHBlcm11dGVkID0gW107XG4gIGlmIChiYXRjaFRvU3BhY2UpIHtcbiAgICBwZXJtdXRlZC5wdXNoKGJsb2NrU2hhcGVSYW5rKTtcbiAgICBmb3IgKGxldCBpID0gYmxvY2tTaGFwZVJhbmsgKyAxOyBpIDwgcmVzaGFwZWRSYW5rOyArK2kpIHtcbiAgICAgIGlmIChpIDw9IDIgKiBibG9ja1NoYXBlUmFuaykge1xuICAgICAgICBwZXJtdXRlZC5wdXNoKGkpO1xuICAgICAgICBwZXJtdXRlZC5wdXNoKGkgLSAoYmxvY2tTaGFwZVJhbmsgKyAxKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZXJtdXRlZC5wdXNoKGkpO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBjb25zdCBwZXJtdXRlZEJlZm9yZUJhdGNoID0gW107XG4gICAgY29uc3QgcGVybXV0ZWRBZnRlckJhdGNoID0gW107XG4gICAgZm9yIChsZXQgaSA9IDE7IGkgPCByZXNoYXBlZFJhbms7ICsraSkge1xuICAgICAgaWYgKGkgPj0gYmxvY2tTaGFwZVJhbmsgKiAyICsgMSB8fCBpICUgMiA9PT0gMSkge1xuICAgICAgICBwZXJtdXRlZEFmdGVyQmF0Y2gucHVzaChpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlcm11dGVkQmVmb3JlQmF0Y2gucHVzaChpKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcGVybXV0ZWQucHVzaCguLi5wZXJtdXRlZEJlZm9yZUJhdGNoKTtcbiAgICBwZXJtdXRlZC5wdXNoKDApO1xuICAgIHBlcm11dGVkLnB1c2goLi4ucGVybXV0ZWRBZnRlckJhdGNoKTtcbiAgfVxuICByZXR1cm4gcGVybXV0ZWQ7XG59XG5cbi8qKlxuICogR2V0cyB0aGUgc2hhcGUgb2YgdGhlIHJlc2hhcGVkIGFuZCBwZXJtdXRlZCBpbnB1dCBUZW5zb3IgYmVmb3JlIGFueSBjcm9wcGluZ1xuICogaXMgYXBwbGllZC4gIFRoZSBuZXcgc2hhcGUgd2lsbCBiZTpcbiAqXG4gKiBbYmF0Y2ggLyBwcm9kKGJsb2NrU2hhcGUpLGlucHV0U2hhcGVbMV0gKiBibG9ja1NoYXBlWzBdLCAuLi4sXG4gKiBpbnB1dFNoYXBlW01dICogYmxvY2tTaGFwZVtNLTFdLGlucHV0U2hhcGVbTSsxXSwgLi4uLCBpbnB1dFNoYXBlW04tMV1dXG4gKlxuICogU2VlIHN0ZXAgMzogaHR0cHM6Ly93d3cudGVuc29yZmxvdy5vcmcvYXBpX2RvY3MvcHl0aG9uL3RmL2JhdGNoX3RvX3NwYWNlX25kXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRSZXNoYXBlZFBlcm11dGVkKFxuICAgIGlucHV0U2hhcGU6IG51bWJlcltdLCBibG9ja1NoYXBlOiBudW1iZXJbXSwgcHJvZDogbnVtYmVyLFxuICAgIGJhdGNoVG9TcGFjZSA9IHRydWUpOiBudW1iZXJbXSB7XG4gIGNvbnN0IHJlc2hhcGVkUGVybXV0ZWQgPSBbXTtcblxuICBpZiAoYmF0Y2hUb1NwYWNlKSB7XG4gICAgcmVzaGFwZWRQZXJtdXRlZC5wdXNoKGlucHV0U2hhcGVbMF0gLyBwcm9kKTtcbiAgfSBlbHNlIHtcbiAgICByZXNoYXBlZFBlcm11dGVkLnB1c2goaW5wdXRTaGFwZVswXSAqIHByb2QpO1xuICB9XG5cbiAgZm9yIChsZXQgaSA9IDE7IGkgPCBpbnB1dFNoYXBlLmxlbmd0aDsgKytpKSB7XG4gICAgaWYgKGkgPD0gYmxvY2tTaGFwZS5sZW5ndGgpIHtcbiAgICAgIGlmIChiYXRjaFRvU3BhY2UpIHtcbiAgICAgICAgcmVzaGFwZWRQZXJtdXRlZC5wdXNoKGJsb2NrU2hhcGVbaSAtIDFdICogaW5wdXRTaGFwZVtpXSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXNoYXBlZFBlcm11dGVkLnB1c2goaW5wdXRTaGFwZVtpXSAvIGJsb2NrU2hhcGVbaSAtIDFdKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmVzaGFwZWRQZXJtdXRlZC5wdXNoKGlucHV0U2hhcGVbaV0pO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiByZXNoYXBlZFBlcm11dGVkO1xufVxuXG4vKipcbiAqIENvbnZlcnRzIHRoZSBjcm9wcyBhcmd1bWVudCBpbnRvIHRoZSBiZWdpbm5pbmcgY29vcmRpbmF0ZXMgb2YgYSBzbGljZVxuICogb3BlcmF0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0U2xpY2VCZWdpbkNvb3JkcyhcbiAgICBjcm9wczogbnVtYmVyW11bXSwgYmxvY2tTaGFwZTogbnVtYmVyKTogbnVtYmVyW10ge1xuICBjb25zdCBzbGljZUJlZ2luQ29vcmRzID0gWzBdO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGJsb2NrU2hhcGU7ICsraSkge1xuICAgIHNsaWNlQmVnaW5Db29yZHMucHVzaChjcm9wc1tpXVswXSk7XG4gIH1cbiAgcmV0dXJuIHNsaWNlQmVnaW5Db29yZHM7XG59XG5cbi8qKlxuICogQ29udmVydHMgdGhlIGNyb3BzIGFyZ3VtZW50IGludG8gdGhlIHNpemUgb2YgYSBzbGljZSBvcGVyYXRpb24uICBXaGVuXG4gKiBjb21iaW5lZCB3aXRoIGdldFNsaWNlQmVnaW5Db29yZHMgdGhpcyBmdW5jdGlvbiBhbGxvd3MgdGhlIHJlc2hhcGVkIGFuZFxuICogcGVybXV0ZWQgVGVuc29yIHRvIGJlIGNyb3BwZWQgdG8gaXRzIGZpbmFsIG91dHB1dCBzaGFwZSBvZjpcbiAqXG4gKiBpbnB1dFNoYXBlWzFdICogYmxvY2tTaGFwZVswXSAtIGNyb3BzWzAsMF0gLSBjcm9wc1swLDFdLCAuLi4sXG4gKiBpbnB1dFNoYXBlW01dICogYmxvY2tTaGFwZVtNLTFdIC1jcm9wc1tNLTEsMF0gLVxuICogY3JvcHNbTS0xLDFdLGlucHV0U2hhcGVbTSsxXSwgLi4uLCBpbnB1dFNoYXBlW04tMV1dXG4gKlxuICogU2VlIHN0ZXAgNDogaHR0cHM6Ly93d3cudGVuc29yZmxvdy5vcmcvYXBpX2RvY3MvcHl0aG9uL3RmL2JhdGNoX3RvX3NwYWNlX25kXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRTbGljZVNpemUoXG4gICAgdW5jcm9wcGVkU2hhcGU6IG51bWJlcltdLCBjcm9wczogbnVtYmVyW11bXSwgYmxvY2tTaGFwZTogbnVtYmVyKTogbnVtYmVyW10ge1xuICBjb25zdCBzbGljZVNpemUgPSB1bmNyb3BwZWRTaGFwZS5zbGljZSgwLCAxKTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBibG9ja1NoYXBlOyArK2kpIHtcbiAgICBzbGljZVNpemUucHVzaCh1bmNyb3BwZWRTaGFwZVtpICsgMV0gLSBjcm9wc1tpXVswXSAtIGNyb3BzW2ldWzFdKTtcbiAgfVxuXG4gIHJldHVybiBzbGljZVNpemU7XG59XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbmV4cG9ydCBjb25zdCBTRUxVX1NDQUxFQUxQSEEgPSAxLjc1ODA5OTM0MDg0NzM3Njg1OTk0MDIxNzUyMDgxMjM7XG5leHBvcnQgY29uc3QgU0VMVV9TQ0FMRSA9IDEuMDUwNzAwOTg3MzU1NDgwNDkzNDE5MzM0OTg1Mjk0NjtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE4IEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuZXhwb3J0IGNvbnN0IEVSRl9QID0gMC4zMjc1OTExO1xuZXhwb3J0IGNvbnN0IEVSRl9BMSA9IDAuMjU0ODI5NTkyO1xuZXhwb3J0IGNvbnN0IEVSRl9BMiA9IC0wLjI4NDQ5NjczNjtcbmV4cG9ydCBjb25zdCBFUkZfQTMgPSAxLjQyMTQxMzc0MTtcbmV4cG9ydCBjb25zdCBFUkZfQTQgPSAtMS40NTMxNTIwMjc7XG5leHBvcnQgY29uc3QgRVJGX0E1ID0gMS4wNjE0MDU0Mjk7XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbmltcG9ydCB7ZW52fSBmcm9tICcuL2Vudmlyb25tZW50JztcblxuZXhwb3J0IGZ1bmN0aW9uIHdhcm4oLi4ubXNnOiBBcnJheTx7fT4pOiB2b2lkIHtcbiAgaWYgKCFlbnYoKS5nZXRCb29sKCdJU19URVNUJykpIHtcbiAgICBjb25zb2xlLndhcm4oLi4ubXNnKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gbG9nKC4uLm1zZzogQXJyYXk8e30+KTogdm9pZCB7XG4gIGlmICghZW52KCkuZ2V0Qm9vbCgnSVNfVEVTVCcpKSB7XG4gICAgY29uc29sZS5sb2coLi4ubXNnKTtcbiAgfVxufVxuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTggR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG5pbXBvcnQge1R5cGVkQXJyYXl9IGZyb20gJy4uL3R5cGVzJztcbi8qKlxuICogTWVyZ2VzIHJlYWwgYW5kIGltYWdpbmFyeSBGbG9hdDMyQXJyYXlzIGludG8gYSBzaW5nbGUgY29tcGxleCBGbG9hdDMyQXJyYXkuXG4gKlxuICogVGhlIG1lbW9yeSBsYXlvdXQgaXMgaW50ZXJsZWF2ZWQgYXMgZm9sbG93czpcbiAqIHJlYWw6IFtyMCwgcjEsIHIyXVxuICogaW1hZzogW2kwLCBpMSwgaTJdXG4gKiBjb21wbGV4OiBbcjAsIGkwLCByMSwgaTEsIHIyLCBpMl1cbiAqXG4gKiBUaGlzIGlzIHRoZSBpbnZlcnNlIG9mIHNwbGl0UmVhbEFuZEltYWdBcnJheXMuXG4gKlxuICogQHBhcmFtIHJlYWwgVGhlIHJlYWwgdmFsdWVzIG9mIHRoZSBjb21wbGV4IHRlbnNvciB2YWx1ZXMuXG4gKiBAcGFyYW0gaW1hZyBUaGUgaW1hZyB2YWx1ZXMgb2YgdGhlIGNvbXBsZXggdGVuc29yIHZhbHVlcy5cbiAqIEByZXR1cm5zIEEgY29tcGxleCB0ZW5zb3IgYXMgYSBGbG9hdDMyQXJyYXkgd2l0aCBtZXJnZWQgdmFsdWVzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbWVyZ2VSZWFsQW5kSW1hZ0FycmF5cyhcbiAgICByZWFsOiBGbG9hdDMyQXJyYXksIGltYWc6IEZsb2F0MzJBcnJheSk6IEZsb2F0MzJBcnJheSB7XG4gIGlmIChyZWFsLmxlbmd0aCAhPT0gaW1hZy5sZW5ndGgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIGBDYW5ub3QgbWVyZ2UgcmVhbCBhbmQgaW1hZyBhcnJheXMgb2YgZGlmZmVyZW50IGxlbmd0aHMuIHJlYWw6YCArXG4gICAgICAgIGAke3JlYWwubGVuZ3RofSwgaW1hZzogJHtpbWFnLmxlbmd0aH0uYCk7XG4gIH1cbiAgY29uc3QgcmVzdWx0ID0gbmV3IEZsb2F0MzJBcnJheShyZWFsLmxlbmd0aCAqIDIpO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHJlc3VsdC5sZW5ndGg7IGkgKz0gMikge1xuICAgIHJlc3VsdFtpXSA9IHJlYWxbaSAvIDJdO1xuICAgIHJlc3VsdFtpICsgMV0gPSBpbWFnW2kgLyAyXTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIFNwbGl0cyBhIGNvbXBsZXggRmxvYXQzMkFycmF5IGludG8gcmVhbCBhbmQgaW1hZyBwYXJ0cy5cbiAqXG4gKiBUaGUgbWVtb3J5IGxheW91dCBpcyBpbnRlcmxlYXZlZCBhcyBmb2xsb3dzOlxuICogY29tcGxleDogW3IwLCBpMCwgcjEsIGkxLCByMiwgaTJdXG4gKiByZWFsOiBbcjAsIHIxLCByMl1cbiAqIGltYWc6IFtpMCwgaTEsIGkyXVxuICpcbiAqIFRoaXMgaXMgdGhlIGludmVyc2Ugb2YgbWVyZ2VSZWFsQW5kSW1hZ0FycmF5cy5cbiAqXG4gKiBAcGFyYW0gY29tcGxleCBUaGUgY29tcGxleCB0ZW5zb3IgdmFsdWVzLlxuICogQHJldHVybnMgQW4gb2JqZWN0IHdpdGggcmVhbCBhbmQgaW1hZyBGbG9hdDMyQXJyYXkgY29tcG9uZW50cyBvZiB0aGUgY29tcGxleFxuICogICAgIHRlbnNvci5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNwbGl0UmVhbEFuZEltYWdBcnJheXMoY29tcGxleDogRmxvYXQzMkFycmF5KTpcbiAgICB7cmVhbDogRmxvYXQzMkFycmF5LCBpbWFnOiBGbG9hdDMyQXJyYXl9IHtcbiAgY29uc3QgcmVhbCA9IG5ldyBGbG9hdDMyQXJyYXkoY29tcGxleC5sZW5ndGggLyAyKTtcbiAgY29uc3QgaW1hZyA9IG5ldyBGbG9hdDMyQXJyYXkoY29tcGxleC5sZW5ndGggLyAyKTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb21wbGV4Lmxlbmd0aDsgaSArPSAyKSB7XG4gICAgcmVhbFtpIC8gMl0gPSBjb21wbGV4W2ldO1xuICAgIGltYWdbaSAvIDJdID0gY29tcGxleFtpICsgMV07XG4gIH1cbiAgcmV0dXJuIHtyZWFsLCBpbWFnfTtcbn1cblxuLyoqXG4gKiBFeHRyYWN0cyBldmVuIGluZGV4ZWQgY29tcGxleCB2YWx1ZXMgaW4gdGhlIGdpdmVuIGFycmF5LlxuICogQHBhcmFtIGNvbXBsZXggVGhlIGNvbXBsZXggdGVuc29yIHZhbHVlc1xuICovXG5leHBvcnQgZnVuY3Rpb24gY29tcGxleFdpdGhFdmVuSW5kZXgoY29tcGxleDogRmxvYXQzMkFycmF5KTpcbiAgICB7cmVhbDogRmxvYXQzMkFycmF5LCBpbWFnOiBGbG9hdDMyQXJyYXl9IHtcbiAgY29uc3QgbGVuID0gTWF0aC5jZWlsKGNvbXBsZXgubGVuZ3RoIC8gNCk7XG4gIGNvbnN0IHJlYWwgPSBuZXcgRmxvYXQzMkFycmF5KGxlbik7XG4gIGNvbnN0IGltYWcgPSBuZXcgRmxvYXQzMkFycmF5KGxlbik7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgY29tcGxleC5sZW5ndGg7IGkgKz0gNCkge1xuICAgIHJlYWxbTWF0aC5mbG9vcihpIC8gNCldID0gY29tcGxleFtpXTtcbiAgICBpbWFnW01hdGguZmxvb3IoaSAvIDQpXSA9IGNvbXBsZXhbaSArIDFdO1xuICB9XG4gIHJldHVybiB7cmVhbCwgaW1hZ307XG59XG5cbi8qKlxuICogRXh0cmFjdHMgb2RkIGluZGV4ZWQgY29tcGxlIHZhbHVlcyBpbiB0aGUgZ2l2ZW4gYXJyYXkuXG4gKiBAcGFyYW0gY29tcGxleCBUaGUgY29tcGxleCB0ZW5zb3IgdmFsdWVzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb21wbGV4V2l0aE9kZEluZGV4KGNvbXBsZXg6IEZsb2F0MzJBcnJheSk6XG4gICAge3JlYWw6IEZsb2F0MzJBcnJheSwgaW1hZzogRmxvYXQzMkFycmF5fSB7XG4gIGNvbnN0IGxlbiA9IE1hdGguZmxvb3IoY29tcGxleC5sZW5ndGggLyA0KTtcbiAgY29uc3QgcmVhbCA9IG5ldyBGbG9hdDMyQXJyYXkobGVuKTtcbiAgY29uc3QgaW1hZyA9IG5ldyBGbG9hdDMyQXJyYXkobGVuKTtcbiAgZm9yIChsZXQgaSA9IDI7IGkgPCBjb21wbGV4Lmxlbmd0aDsgaSArPSA0KSB7XG4gICAgcmVhbFtNYXRoLmZsb29yKGkgLyA0KV0gPSBjb21wbGV4W2ldO1xuICAgIGltYWdbTWF0aC5mbG9vcihpIC8gNCldID0gY29tcGxleFtpICsgMV07XG4gIH1cbiAgcmV0dXJuIHtyZWFsLCBpbWFnfTtcbn1cblxuLyoqXG4gKiBHZXQgdGhlIG1hcCByZXByZXNlbnRpbmcgYSBjb21wbGV4IHZhbHVlIGluIHRoZSBnaXZlbiBhcnJheS5cbiAqIEBwYXJhbSBjb21wbGV4IFRoZSBjb21wbGV4IHRlbnNvciB2YWx1ZXMuXG4gKiBAcGFyYW0gaW5kZXggQW4gaW5kZXggb2YgdGhlIHRhcmdldCBjb21wbGV4IHZhbHVlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q29tcGxleFdpdGhJbmRleChcbiAgICBjb21wbGV4OiBGbG9hdDMyQXJyYXksIGluZGV4OiBudW1iZXIpOiB7cmVhbDogbnVtYmVyLCBpbWFnOiBudW1iZXJ9IHtcbiAgY29uc3QgcmVhbCA9IGNvbXBsZXhbaW5kZXggKiAyXTtcbiAgY29uc3QgaW1hZyA9IGNvbXBsZXhbaW5kZXggKiAyICsgMV07XG4gIHJldHVybiB7cmVhbCwgaW1hZ307XG59XG5cbi8qKlxuICogSW5zZXJ0IGEgZ2l2ZW4gY29tcGxleCB2YWx1ZSBpbnRvIHRoZSBUeXBlZEFycmF5LlxuICogQHBhcmFtIGRhdGEgVGhlIGFycmF5IGluIHdoaWNoIHRoZSBjb21wbGV4IHZhbHVlIGlzIGluc2VydGVkLlxuICogQHBhcmFtIGMgVGhlIGNvbXBsZXggdmFsdWUgdG8gYmUgaW5zZXJ0ZWQuXG4gKiBAcGFyYW0gaW5kZXggQW4gaW5kZXggb2YgdGhlIHRhcmdldCBjb21wbGV4IHZhbHVlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gYXNzaWduVG9UeXBlZEFycmF5KFxuICAgIGRhdGE6IFR5cGVkQXJyYXksIHJlYWw6IG51bWJlciwgaW1hZzogbnVtYmVyLCBpbmRleDogbnVtYmVyKSB7XG4gIGRhdGFbaW5kZXggKiAyXSA9IHJlYWw7XG4gIGRhdGFbaW5kZXggKiAyICsgMV0gPSBpbWFnO1xufVxuXG4vKipcbiAqIE1ha2UgdGhlIGxpc3Qgb2YgZXhwb25lbnQgdGVybXMgdXNlZCBieSBGRlQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBleHBvbmVudHMoXG4gICAgbjogbnVtYmVyLCBpbnZlcnNlOiBib29sZWFuKToge3JlYWw6IEZsb2F0MzJBcnJheSwgaW1hZzogRmxvYXQzMkFycmF5fSB7XG4gIGNvbnN0IHJlYWwgPSBuZXcgRmxvYXQzMkFycmF5KG4gLyAyKTtcbiAgY29uc3QgaW1hZyA9IG5ldyBGbG9hdDMyQXJyYXkobiAvIDIpO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IE1hdGguY2VpbChuIC8gMik7IGkrKykge1xuICAgIGNvbnN0IHggPSAoaW52ZXJzZSA/IDIgOiAtMikgKiBNYXRoLlBJICogKGkgLyBuKTtcbiAgICByZWFsW2ldID0gTWF0aC5jb3MoeCk7XG4gICAgaW1hZ1tpXSA9IE1hdGguc2luKHgpO1xuICB9XG4gIHJldHVybiB7cmVhbCwgaW1hZ307XG59XG5cbi8qKlxuICogTWFrZSB0aGUgZXhwb25lbnQgdGVybSB1c2VkIGJ5IEZGVC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGV4cG9uZW50KFxuICAgIGs6IG51bWJlciwgbjogbnVtYmVyLCBpbnZlcnNlOiBib29sZWFuKToge3JlYWw6IG51bWJlciwgaW1hZzogbnVtYmVyfSB7XG4gIGNvbnN0IHggPSAoaW52ZXJzZSA/IDIgOiAtMikgKiBNYXRoLlBJICogKGsgLyBuKTtcbiAgY29uc3QgcmVhbCA9IE1hdGguY29zKHgpO1xuICBjb25zdCBpbWFnID0gTWF0aC5zaW4oeCk7XG4gIHJldHVybiB7cmVhbCwgaW1hZ307XG59XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbmltcG9ydCB7c2xpY2V9IGZyb20gJy4uL29wcy9zbGljZSc7XG5pbXBvcnQge1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yJztcblxuLy8gVE9ETyhhbm54aW5neXVhbik6IFVzZSB0aGlzIGhlbHBlciBpbiBXQVNNIFNwbGl0IGtlcm5lbCBvbmNlIGludGVybWVkaWF0ZVxuLy8ga2VybmVscyBoYXZlIGJlZW4gbW9kdWxhcml6ZWQgaW4gV2ViR0wgYW5kIENQVVxuLy8gaHR0cHM6Ly9naXRodWIuY29tL3RlbnNvcmZsb3cvdGZqcy9pc3N1ZXMvMjgyMi5cbi8qKiBTaGFyZWQgaW1wbGVtZW50YXRpb24gb2YgdGhlIHNwbGl0IGtlcm5lbCBhY3Jvc3MgV2ViR0wgYW5kIENQVS4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzcGxpdDxUIGV4dGVuZHMgVGVuc29yPihcbiAgICB4OiBULCBzaXplU3BsaXRzOiBudW1iZXJbXSwgYXhpczogbnVtYmVyKTogVFtdIHtcbiAgY29uc3QgYmVnaW4gPSBuZXcgQXJyYXkoeC5yYW5rKS5maWxsKDApO1xuICBjb25zdCBzaXplID0geC5zaGFwZS5zbGljZSgpO1xuICByZXR1cm4gc2l6ZVNwbGl0cy5tYXAocyA9PiB7XG4gICAgY29uc3Qgc2xpY2VTaXplID0gWy4uLnNpemVdO1xuICAgIHNsaWNlU2l6ZVtheGlzXSA9IHM7XG4gICAgY29uc3Qgc2xpY2VUID0gc2xpY2UoeCwgYmVnaW4sIHNsaWNlU2l6ZSk7XG4gICAgYmVnaW5bYXhpc10gKz0gcztcbiAgICByZXR1cm4gc2xpY2VUO1xuICB9KTtcbn1cbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuLyoqXG4gKiBBbiBpbXBsZW1lbnRhdGlvbiBvZiB0aGUgdGlsZSBrZXJuZWwgc2hhcmVkIGJldHdlZW4gd2ViZ2wgYW5kIGNwdSBmb3Igc3RyaW5nXG4gKiB0ZW5zb3JzIG9ubHkuXG4gKi9cblxuaW1wb3J0IHtidWZmZXJ9IGZyb20gJy4uL29wcy9idWZmZXInO1xuaW1wb3J0IHtUZW5zb3IsIFRlbnNvckJ1ZmZlcn0gZnJvbSAnLi4vdGVuc29yJztcbmltcG9ydCB7RGF0YVR5cGUsIFJhbmt9IGZyb20gJy4uL3R5cGVzJztcblxuZXhwb3J0IGZ1bmN0aW9uIHRpbGU8UiBleHRlbmRzIFJhbms+KFxuICAgIHhCdWY6IFRlbnNvckJ1ZmZlcjxSLCBEYXRhVHlwZT4sIHJlcHM6IG51bWJlcltdKTogVGVuc29yPFI+IHtcbiAgY29uc3QgbmV3U2hhcGU6IG51bWJlcltdID0gbmV3IEFycmF5KHhCdWYucmFuayk7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbmV3U2hhcGUubGVuZ3RoOyBpKyspIHtcbiAgICBuZXdTaGFwZVtpXSA9IHhCdWYuc2hhcGVbaV0gKiByZXBzW2ldO1xuICB9XG4gIGNvbnN0IHJlc3VsdCA9IGJ1ZmZlcihuZXdTaGFwZSwgeEJ1Zi5kdHlwZSk7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgcmVzdWx0LnZhbHVlcy5sZW5ndGg7ICsraSkge1xuICAgIGNvbnN0IG5ld0xvYyA9IHJlc3VsdC5pbmRleFRvTG9jKGkpO1xuXG4gICAgY29uc3Qgb3JpZ2luYWxMb2M6IG51bWJlcltdID0gbmV3IEFycmF5KHhCdWYucmFuayk7XG4gICAgZm9yIChsZXQgaiA9IDA7IGogPCBvcmlnaW5hbExvYy5sZW5ndGg7IGorKykge1xuICAgICAgb3JpZ2luYWxMb2Nbal0gPSBuZXdMb2Nbal0gJSB4QnVmLnNoYXBlW2pdO1xuICAgIH1cblxuICAgIGNvbnN0IG9yaWdpbmFsSW5kZXggPSB4QnVmLmxvY1RvSW5kZXgob3JpZ2luYWxMb2MpO1xuXG4gICAgcmVzdWx0LnZhbHVlc1tpXSA9IHhCdWYudmFsdWVzW29yaWdpbmFsSW5kZXhdO1xuICB9XG4gIHJldHVybiByZXN1bHQudG9UZW5zb3IoKSBhcyBUZW5zb3I8Uj47XG59XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbi8qKiBBbiBpbXBsZW1lbnRhdGlvbiBvZiB0aGUgVG9wSyBrZXJuZWwgc2hhcmVkIGJldHdlZW4gd2ViZ2wgYW5kIGNwdS4gKi9cblxuaW1wb3J0IHt0ZW5zb3J9IGZyb20gJy4uL29wcy90ZW5zb3InO1xuaW1wb3J0IHtUZW5zb3J9IGZyb20gJy4uL3RlbnNvcic7XG5pbXBvcnQge051bWVyaWNEYXRhVHlwZSwgVHlwZWRBcnJheX0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHtnZXRUeXBlZEFycmF5RnJvbURUeXBlfSBmcm9tICcuLi91dGlsJztcblxuZXhwb3J0IGZ1bmN0aW9uIHRvcGtJbXBsPFQgZXh0ZW5kcyBUZW5zb3I+KFxuICAgIHg6IFR5cGVkQXJyYXksIHhTaGFwZTogbnVtYmVyW10sIHhEdHlwZTogTnVtZXJpY0RhdGFUeXBlLCBrOiBudW1iZXIsXG4gICAgc29ydGVkOiBib29sZWFuKTogW1QsIFRdIHtcbiAgLy8gUmVzaGFwZSBpbnRvIGEgMmQgdGVuc29yIFtiYXRjaCwgbGFzdERpbV0gYW5kIGNvbXB1dGUgdG9wayBhbG9uZyBsYXN0RGltLlxuICBjb25zdCBsYXN0RGltID0geFNoYXBlW3hTaGFwZS5sZW5ndGggLSAxXTtcbiAgY29uc3QgW2JhdGNoLCBzaXplXSA9IFt4Lmxlbmd0aCAvIGxhc3REaW0sIGxhc3REaW1dO1xuICBjb25zdCBhbGxUb3BLVmFscyA9IGdldFR5cGVkQXJyYXlGcm9tRFR5cGUoeER0eXBlLCBiYXRjaCAqIGspO1xuICBjb25zdCBhbGxUb3BLSW5kaWNlcyA9IGdldFR5cGVkQXJyYXlGcm9tRFR5cGUoJ2ludDMyJywgYmF0Y2ggKiBrKTtcblxuICBmb3IgKGxldCBiID0gMDsgYiA8IGJhdGNoOyBiKyspIHtcbiAgICBjb25zdCBvZmZzZXQgPSBiICogc2l6ZTtcbiAgICBjb25zdCB2YWxzID0geC5zdWJhcnJheShvZmZzZXQsIG9mZnNldCArIHNpemUpO1xuICAgIGNvbnN0IHZhbEFuZEluZDogQXJyYXk8e3ZhbHVlOiBudW1iZXIsIGluZGV4OiBudW1iZXJ9PiA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmFscy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFsQW5kSW5kLnB1c2goe3ZhbHVlOiB2YWxzW2ldLCBpbmRleDogaX0pO1xuICAgIH1cbiAgICB2YWxBbmRJbmQuc29ydCgoYSwgYikgPT4gYi52YWx1ZSAtIGEudmFsdWUpO1xuXG4gICAgY29uc3Qgb3V0T2Zmc2V0ID0gYiAqIGs7XG4gICAgY29uc3QgdG9wS1ZhbHMgPSBhbGxUb3BLVmFscy5zdWJhcnJheShvdXRPZmZzZXQsIG91dE9mZnNldCArIGspO1xuICAgIGNvbnN0IHRvcEtJbmRpY2VzID0gYWxsVG9wS0luZGljZXMuc3ViYXJyYXkob3V0T2Zmc2V0LCBvdXRPZmZzZXQgKyBrKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGs7IGkrKykge1xuICAgICAgdG9wS1ZhbHNbaV0gPSB2YWxBbmRJbmRbaV0udmFsdWU7XG4gICAgICB0b3BLSW5kaWNlc1tpXSA9IHZhbEFuZEluZFtpXS5pbmRleDtcbiAgICB9XG4gIH1cbiAgLy8gUmVzaGFwZSBiYWNrIHRvIHRoZSBvcmlnaW5hbCBpbnB1dCBzaGFwZSwgZXhjZXB0IHRoYXQgdGhlIGxhc3RcbiAgLy8gZGltZW5zaW9uIGlzIGsuXG4gIGNvbnN0IG91dHB1dFNoYXBlID0geFNoYXBlLnNsaWNlKCk7XG4gIG91dHB1dFNoYXBlW291dHB1dFNoYXBlLmxlbmd0aCAtIDFdID0gaztcbiAgcmV0dXJuIFtcbiAgICB0ZW5zb3IoYWxsVG9wS1ZhbHMsIG91dHB1dFNoYXBlLCB4RHR5cGUpIGFzIFQsXG4gICAgdGVuc29yKGFsbFRvcEtJbmRpY2VzLCBvdXRwdXRTaGFwZSwgJ2ludDMyJykgYXMgVFxuICBdO1xufVxuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG5pbXBvcnQge0Fic30gZnJvbSAnLi4va2VybmVsX25hbWVzJztcbmltcG9ydCB7R3JhZENvbmZpZ30gZnJvbSAnLi4va2VybmVsX3JlZ2lzdHJ5JztcbmltcG9ydCB7Y2FzdH0gZnJvbSAnLi4vb3BzL2Nhc3QnO1xuaW1wb3J0IHttdWx9IGZyb20gJy4uL29wcy9tdWwnO1xuaW1wb3J0IHtzdGVwfSBmcm9tICcuLi9vcHMvc3RlcCc7XG5pbXBvcnQge1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yJztcblxuZXhwb3J0IGNvbnN0IGFic0dyYWRDb25maWc6IEdyYWRDb25maWcgPSB7XG4gIGtlcm5lbE5hbWU6IEFicyxcbiAgaW5wdXRzVG9TYXZlOiBbJ3gnXSxcbiAgZ3JhZEZ1bmM6IChkeTogVGVuc29yLCBzYXZlZDogVGVuc29yW10pID0+IHtcbiAgICBjb25zdCBbeF0gPSBzYXZlZDtcbiAgICByZXR1cm4ge3g6ICgpID0+IG11bChkeSwgc3RlcChjYXN0KHgsICdmbG9hdDMyJyksIC0xKSl9O1xuICB9XG59O1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG5pbXBvcnQge0Fjb3N9IGZyb20gJy4uL2tlcm5lbF9uYW1lcyc7XG5pbXBvcnQge0dyYWRDb25maWd9IGZyb20gJy4uL2tlcm5lbF9yZWdpc3RyeSc7XG5pbXBvcnQge2Nhc3R9IGZyb20gJy4uL29wcy9jYXN0JztcbmltcG9ydCB7ZGl2fSBmcm9tICcuLi9vcHMvZGl2JztcbmltcG9ydCB7bmVnfSBmcm9tICcuLi9vcHMvbmVnJztcbmltcG9ydCB7c2NhbGFyfSBmcm9tICcuLi9vcHMvc2NhbGFyJztcbmltcG9ydCB7c3FydH0gZnJvbSAnLi4vb3BzL3NxcnQnO1xuaW1wb3J0IHtzcXVhcmV9IGZyb20gJy4uL29wcy9zcXVhcmUnO1xuaW1wb3J0IHtzdWJ9IGZyb20gJy4uL29wcy9zdWInO1xuaW1wb3J0IHtUZW5zb3J9IGZyb20gJy4uL3RlbnNvcic7XG5cbmV4cG9ydCBjb25zdCBhY29zR3JhZENvbmZpZzogR3JhZENvbmZpZyA9IHtcbiAga2VybmVsTmFtZTogQWNvcyxcbiAgaW5wdXRzVG9TYXZlOiBbJ3gnXSxcbiAgZ3JhZEZ1bmM6IChkeTogVGVuc29yLCBzYXZlZDogVGVuc29yW10pID0+IHtcbiAgICBjb25zdCBbeF0gPSBzYXZlZDtcblxuICAgIHJldHVybiB7XG4gICAgICB4OiAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGEgPSBzcXVhcmUoY2FzdCh4LCAnZmxvYXQzMicpKTtcbiAgICAgICAgY29uc3QgYiA9IHNxcnQoc3ViKHNjYWxhcigxKSwgYSkpO1xuICAgICAgICByZXR1cm4gbmVnKGRpdihkeSwgYikpO1xuICAgICAgfVxuXG4gICAgfTtcbiAgfVxufTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuaW1wb3J0IHtBY29zaH0gZnJvbSAnLi4va2VybmVsX25hbWVzJztcbmltcG9ydCB7R3JhZENvbmZpZ30gZnJvbSAnLi4va2VybmVsX3JlZ2lzdHJ5JztcbmltcG9ydCB7Y2FzdH0gZnJvbSAnLi4vb3BzL2Nhc3QnO1xuaW1wb3J0IHtkaXZ9IGZyb20gJy4uL29wcy9kaXYnO1xuaW1wb3J0IHtzcXJ0fSBmcm9tICcuLi9vcHMvc3FydCc7XG5pbXBvcnQge3NxdWFyZX0gZnJvbSAnLi4vb3BzL3NxdWFyZSc7XG5pbXBvcnQge3N1Yn0gZnJvbSAnLi4vb3BzL3N1Yic7XG5pbXBvcnQge1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yJztcblxuZXhwb3J0IGNvbnN0IGFjb3NoR3JhZENvbmZpZzogR3JhZENvbmZpZyA9IHtcbiAga2VybmVsTmFtZTogQWNvc2gsXG4gIGlucHV0c1RvU2F2ZTogWyd4J10sXG4gIGdyYWRGdW5jOiAoZHk6IFRlbnNvciwgc2F2ZWQ6IFRlbnNvcltdKSA9PiB7XG4gICAgY29uc3QgW3hdID0gc2F2ZWQ7XG5cbiAgICByZXR1cm4ge1xuICAgICAgeDogKCkgPT4ge1xuICAgICAgICBjb25zdCBhID0gc3FydChzdWIoc3F1YXJlKGNhc3QoeCwgJ2Zsb2F0MzInKSksIDEpKTtcbiAgICAgICAgcmV0dXJuIGRpdihkeSwgYSk7XG4gICAgICB9XG4gICAgfTtcbiAgfVxufTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cbmltcG9ydCB7QWRkfSBmcm9tICcuLi9rZXJuZWxfbmFtZXMnO1xuaW1wb3J0IHtHcmFkQ29uZmlnfSBmcm9tICcuLi9rZXJuZWxfcmVnaXN0cnknO1xuaW1wb3J0ICogYXMgYnJvYWRjYXN0X3V0aWwgZnJvbSAnLi4vb3BzL2Jyb2FkY2FzdF91dGlsJztcbmltcG9ydCB7cmVzaGFwZX0gZnJvbSAnLi4vb3BzL3Jlc2hhcGUnO1xuaW1wb3J0IHtzdW19IGZyb20gJy4uL29wcy9zdW0nO1xuaW1wb3J0IHtUZW5zb3J9IGZyb20gJy4uL3RlbnNvcic7XG5cbmV4cG9ydCBjb25zdCBhZGRHcmFkQ29uZmlnOiBHcmFkQ29uZmlnID0ge1xuICBrZXJuZWxOYW1lOiBBZGQsXG4gIGlucHV0c1RvU2F2ZTogWydhJywgJ2InXSxcbiAgZ3JhZEZ1bmM6IChkeTogVGVuc29yLCBzYXZlZDogVGVuc29yW10pID0+IHtcbiAgICBjb25zdCBbYSwgYl0gPSBzYXZlZDtcbiAgICBjb25zdCBvdXRTaGFwZSA9XG4gICAgICAgIGJyb2FkY2FzdF91dGlsLmFzc2VydEFuZEdldEJyb2FkY2FzdFNoYXBlKGEuc2hhcGUsIGIuc2hhcGUpO1xuXG4gICAgY29uc3QgZGVyQSA9ICgpID0+IHtcbiAgICAgIGxldCByZXMgPSBkeTtcbiAgICAgIGNvbnN0IHJlZHVjZUF4ZXMgPSBicm9hZGNhc3RfdXRpbC5nZXRSZWR1Y3Rpb25BeGVzKGEuc2hhcGUsIG91dFNoYXBlKTtcbiAgICAgIGlmIChyZWR1Y2VBeGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgcmVzID0gc3VtKHJlcywgcmVkdWNlQXhlcyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzaGFwZShyZXMsIGEuc2hhcGUpO1xuICAgIH07XG4gICAgY29uc3QgZGVyQiA9ICgpID0+IHtcbiAgICAgIGxldCByZXMgPSBkeTtcbiAgICAgIGNvbnN0IHJlZHVjZUF4ZXMgPSBicm9hZGNhc3RfdXRpbC5nZXRSZWR1Y3Rpb25BeGVzKGIuc2hhcGUsIG91dFNoYXBlKTtcbiAgICAgIGlmIChyZWR1Y2VBeGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgcmVzID0gc3VtKHJlcywgcmVkdWNlQXhlcyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzaGFwZShyZXMsIGIuc2hhcGUpO1xuICAgIH07XG5cbiAgICByZXR1cm4ge2E6IGRlckEsIGI6IGRlckJ9O1xuICB9XG59O1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG5pbXBvcnQge0FkZE59IGZyb20gJy4uL2tlcm5lbF9uYW1lcyc7XG5pbXBvcnQge0dyYWRDb25maWd9IGZyb20gJy4uL2tlcm5lbF9yZWdpc3RyeSc7XG5pbXBvcnQge1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yJztcblxuZXhwb3J0IGNvbnN0IGFkZE5HcmFkQ29uZmlnOiBHcmFkQ29uZmlnID0ge1xuICBrZXJuZWxOYW1lOiBBZGROLFxuICBzYXZlQWxsSW5wdXRzOiB0cnVlLFxuICBncmFkRnVuYzogKGR5OiBUZW5zb3IsIHNhdmVkOiBUZW5zb3JbXSkgPT4ge1xuICAgIGNvbnN0IGRlcnM6IHtba2V5OiBzdHJpbmddOiAoKSA9PiBUZW5zb3J9ID0ge307XG4gICAgc2F2ZWQuZm9yRWFjaCgoXywgaSkgPT4ge1xuICAgICAgZGVyc1tpXSA9ICgpID0+IGR5LmNsb25lKCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGRlcnM7XG4gIH1cbn07XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbmltcG9ydCB7QXJnTWF4fSBmcm9tICcuLi9rZXJuZWxfbmFtZXMnO1xuaW1wb3J0IHtHcmFkQ29uZmlnfSBmcm9tICcuLi9rZXJuZWxfcmVnaXN0cnknO1xuaW1wb3J0IHt6ZXJvc0xpa2V9IGZyb20gJy4uL29wcy96ZXJvc19saWtlJztcbmltcG9ydCB7VGVuc29yfSBmcm9tICcuLi90ZW5zb3InO1xuXG5leHBvcnQgY29uc3QgYXJnTWF4R3JhZENvbmZpZzogR3JhZENvbmZpZyA9IHtcbiAga2VybmVsTmFtZTogQXJnTWF4LFxuICBpbnB1dHNUb1NhdmU6IFsneCddLFxuICBncmFkRnVuYzogKGR5OiBUZW5zb3IsIHNhdmVkOiBUZW5zb3JbXSkgPT4ge1xuICAgIGNvbnN0IFt4XSA9IHNhdmVkO1xuICAgIHJldHVybiB7eDogKCkgPT4gemVyb3NMaWtlKHgpfTtcbiAgfVxufTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuaW1wb3J0IHtBcmdNaW59IGZyb20gJy4uL2tlcm5lbF9uYW1lcyc7XG5pbXBvcnQge0dyYWRDb25maWd9IGZyb20gJy4uL2tlcm5lbF9yZWdpc3RyeSc7XG5pbXBvcnQge3plcm9zTGlrZX0gZnJvbSAnLi4vb3BzL3plcm9zX2xpa2UnO1xuaW1wb3J0IHtUZW5zb3J9IGZyb20gJy4uL3RlbnNvcic7XG5cbmV4cG9ydCBjb25zdCBhcmdNaW5HcmFkQ29uZmlnOiBHcmFkQ29uZmlnID0ge1xuICBrZXJuZWxOYW1lOiBBcmdNaW4sXG4gIGlucHV0c1RvU2F2ZTogWyd4J10sXG4gIGdyYWRGdW5jOiAoZHk6IFRlbnNvciwgc2F2ZWQ6IFRlbnNvcltdKSA9PiB7XG4gICAgY29uc3QgW3hdID0gc2F2ZWQ7XG4gICAgcmV0dXJuIHt4OiAoKSA9PiB6ZXJvc0xpa2UoeCl9O1xuICB9XG59O1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG5pbXBvcnQge0FzaW59IGZyb20gJy4uL2tlcm5lbF9uYW1lcyc7XG5pbXBvcnQge0dyYWRDb25maWd9IGZyb20gJy4uL2tlcm5lbF9yZWdpc3RyeSc7XG5pbXBvcnQge2Nhc3R9IGZyb20gJy4uL29wcy9jYXN0JztcbmltcG9ydCB7ZGl2fSBmcm9tICcuLi9vcHMvZGl2JztcbmltcG9ydCB7c2NhbGFyfSBmcm9tICcuLi9vcHMvc2NhbGFyJztcbmltcG9ydCB7c3FydH0gZnJvbSAnLi4vb3BzL3NxcnQnO1xuaW1wb3J0IHtzcXVhcmV9IGZyb20gJy4uL29wcy9zcXVhcmUnO1xuaW1wb3J0IHtzdWJ9IGZyb20gJy4uL29wcy9zdWInO1xuaW1wb3J0IHtUZW5zb3J9IGZyb20gJy4uL3RlbnNvcic7XG5cbmV4cG9ydCBjb25zdCBhc2luR3JhZENvbmZpZzogR3JhZENvbmZpZyA9IHtcbiAga2VybmVsTmFtZTogQXNpbixcbiAgaW5wdXRzVG9TYXZlOiBbJ3gnXSxcbiAgZ3JhZEZ1bmM6IChkeTogVGVuc29yLCBzYXZlZDogVGVuc29yW10pID0+IHtcbiAgICBjb25zdCBbeF0gPSBzYXZlZDtcbiAgICByZXR1cm4ge3g6ICgpID0+IGRpdihkeSwgc3FydChzdWIoc2NhbGFyKDEpLCBzcXVhcmUoY2FzdCh4LCAnZmxvYXQzMicpKSkpKX07XG4gIH1cbn07XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbmltcG9ydCB7QXNpbmh9IGZyb20gJy4uL2tlcm5lbF9uYW1lcyc7XG5pbXBvcnQge0dyYWRDb25maWd9IGZyb20gJy4uL2tlcm5lbF9yZWdpc3RyeSc7XG5pbXBvcnQge2FkZH0gZnJvbSAnLi4vb3BzL2FkZCc7XG5pbXBvcnQge2Nhc3R9IGZyb20gJy4uL29wcy9jYXN0JztcbmltcG9ydCB7ZGl2fSBmcm9tICcuLi9vcHMvZGl2JztcbmltcG9ydCB7c2NhbGFyfSBmcm9tICcuLi9vcHMvc2NhbGFyJztcbmltcG9ydCB7c3FydH0gZnJvbSAnLi4vb3BzL3NxcnQnO1xuaW1wb3J0IHtzcXVhcmV9IGZyb20gJy4uL29wcy9zcXVhcmUnO1xuaW1wb3J0IHtUZW5zb3J9IGZyb20gJy4uL3RlbnNvcic7XG5cbmV4cG9ydCBjb25zdCBhc2luaEdyYWRDb25maWc6IEdyYWRDb25maWcgPSB7XG4gIGtlcm5lbE5hbWU6IEFzaW5oLFxuICBpbnB1dHNUb1NhdmU6IFsneCddLFxuICBncmFkRnVuYzogKGR5OiBUZW5zb3IsIHNhdmVkOiBUZW5zb3JbXSkgPT4ge1xuICAgIGNvbnN0IFt4XSA9IHNhdmVkO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIHg6ICgpID0+IHtcbiAgICAgICAgY29uc3QgYSA9IHNxcnQoYWRkKHNjYWxhcigxKSwgc3F1YXJlKGNhc3QoeCwgJ2Zsb2F0MzInKSkpKTtcbiAgICAgICAgcmV0dXJuIGRpdihkeSwgYSk7XG4gICAgICB9XG4gICAgfTtcbiAgfVxufTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuaW1wb3J0IHtBdGFuMn0gZnJvbSAnLi4va2VybmVsX25hbWVzJztcbmltcG9ydCB7R3JhZENvbmZpZ30gZnJvbSAnLi4va2VybmVsX3JlZ2lzdHJ5JztcbmltcG9ydCB7YWRkfSBmcm9tICcuLi9vcHMvYWRkJztcbmltcG9ydCB7YXNzZXJ0QW5kR2V0QnJvYWRjYXN0U2hhcGUsIGdldFJlZHVjdGlvbkF4ZXN9IGZyb20gJy4uL29wcy9icm9hZGNhc3RfdXRpbCc7XG5pbXBvcnQge2Rpdn0gZnJvbSAnLi4vb3BzL2Rpdic7XG5pbXBvcnQge211bH0gZnJvbSAnLi4vb3BzL211bCc7XG5pbXBvcnQge25lZ30gZnJvbSAnLi4vb3BzL25lZyc7XG5pbXBvcnQge3Jlc2hhcGV9IGZyb20gJy4uL29wcy9yZXNoYXBlJztcbmltcG9ydCB7c3F1YXJlfSBmcm9tICcuLi9vcHMvc3F1YXJlJztcbmltcG9ydCB7c3VtfSBmcm9tICcuLi9vcHMvc3VtJztcbmltcG9ydCB7VGVuc29yfSBmcm9tICcuLi90ZW5zb3InO1xuXG5leHBvcnQgY29uc3QgYXRhbjJHcmFkQ29uZmlnOiBHcmFkQ29uZmlnID0ge1xuICBrZXJuZWxOYW1lOiBBdGFuMixcbiAgaW5wdXRzVG9TYXZlOiBbJ2EnLCAnYiddLFxuICBncmFkRnVuYzogKGR5OiBUZW5zb3IsIHNhdmVkOiBUZW5zb3JbXSkgPT4ge1xuICAgIGNvbnN0IFthLCBiXSA9IHNhdmVkO1xuICAgIGNvbnN0IG91dFNoYXBlID0gYXNzZXJ0QW5kR2V0QnJvYWRjYXN0U2hhcGUoYS5zaGFwZSwgYi5zaGFwZSk7XG5cbiAgICBjb25zdCBkZXJBID0gKCkgPT4ge1xuICAgICAgY29uc3QgZCA9IGFkZChzcXVhcmUoYSksIHNxdWFyZShiKSk7XG4gICAgICBsZXQgcmVzID0gbXVsKGR5LCBkaXYoYiwgZCkpO1xuICAgICAgY29uc3QgcmVkdWNlQXhlcyA9IGdldFJlZHVjdGlvbkF4ZXMoYS5zaGFwZSwgb3V0U2hhcGUpO1xuICAgICAgaWYgKHJlZHVjZUF4ZXMubGVuZ3RoID4gMCkge1xuICAgICAgICByZXMgPSBzdW0ocmVzLCByZWR1Y2VBeGVzKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXNoYXBlKHJlcywgYS5zaGFwZSk7XG4gICAgfTtcbiAgICBjb25zdCBkZXJCID0gKCkgPT4ge1xuICAgICAgY29uc3QgZCA9IGFkZChzcXVhcmUoYSksIHNxdWFyZShiKSk7XG4gICAgICBsZXQgcmVzID0gbmVnKG11bChkeSwgZGl2KGEsIGQpKSk7XG4gICAgICBjb25zdCByZWR1Y2VBeGVzID0gZ2V0UmVkdWN0aW9uQXhlcyhiLnNoYXBlLCBvdXRTaGFwZSk7XG4gICAgICBpZiAocmVkdWNlQXhlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIHJlcyA9IHN1bShyZXMsIHJlZHVjZUF4ZXMpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc2hhcGUocmVzLCBiLnNoYXBlKTtcbiAgICB9O1xuICAgIHJldHVybiB7YTogZGVyQSwgYjogZGVyQn07XG4gIH1cbn07XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbmltcG9ydCB7QXRhbn0gZnJvbSAnLi4va2VybmVsX25hbWVzJztcbmltcG9ydCB7R3JhZENvbmZpZ30gZnJvbSAnLi4va2VybmVsX3JlZ2lzdHJ5JztcbmltcG9ydCB7YWRkfSBmcm9tICcuLi9vcHMvYWRkJztcbmltcG9ydCB7Y2FzdH0gZnJvbSAnLi4vb3BzL2Nhc3QnO1xuaW1wb3J0IHtkaXZ9IGZyb20gJy4uL29wcy9kaXYnO1xuaW1wb3J0IHtzcXVhcmV9IGZyb20gJy4uL29wcy9zcXVhcmUnO1xuaW1wb3J0IHtUZW5zb3J9IGZyb20gJy4uL3RlbnNvcic7XG5cbmV4cG9ydCBjb25zdCBhdGFuR3JhZENvbmZpZzogR3JhZENvbmZpZyA9IHtcbiAga2VybmVsTmFtZTogQXRhbixcbiAgaW5wdXRzVG9TYXZlOiBbJ3gnXSxcbiAgZ3JhZEZ1bmM6IChkeTogVGVuc29yLCBzYXZlZDogVGVuc29yW10pID0+IHtcbiAgICBjb25zdCBbeF0gPSBzYXZlZDtcblxuICAgIHJldHVybiB7eDogKCkgPT4gZGl2KGR5LCBhZGQoc3F1YXJlKGNhc3QoeCwgJ2Zsb2F0MzInKSksIDEpKX07XG4gIH1cbn07XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbmltcG9ydCB7QXRhbmh9IGZyb20gJy4uL2tlcm5lbF9uYW1lcyc7XG5pbXBvcnQge0dyYWRDb25maWd9IGZyb20gJy4uL2tlcm5lbF9yZWdpc3RyeSc7XG5pbXBvcnQge2Nhc3R9IGZyb20gJy4uL29wcy9jYXN0JztcbmltcG9ydCB7ZGl2fSBmcm9tICcuLi9vcHMvZGl2JztcbmltcG9ydCB7c3F1YXJlfSBmcm9tICcuLi9vcHMvc3F1YXJlJztcbmltcG9ydCB7c3VifSBmcm9tICcuLi9vcHMvc3ViJztcbmltcG9ydCB7c2NhbGFyfSBmcm9tICcuLi9vcHMvc2NhbGFyJztcbmltcG9ydCB7VGVuc29yfSBmcm9tICcuLi90ZW5zb3InO1xuXG5leHBvcnQgY29uc3QgYXRhbmhHcmFkQ29uZmlnOiBHcmFkQ29uZmlnID0ge1xuICBrZXJuZWxOYW1lOiBBdGFuaCxcbiAgaW5wdXRzVG9TYXZlOiBbJ3gnXSxcbiAgZ3JhZEZ1bmM6IChkeTogVGVuc29yLCBzYXZlZDogVGVuc29yW10pID0+IHtcbiAgICBjb25zdCBbeF0gPSBzYXZlZDtcblxuICAgIHJldHVybiB7eDogKCkgPT4gZGl2KGR5LCBzdWIoc2NhbGFyKDEpLCBzcXVhcmUoY2FzdCh4LCAnZmxvYXQzMicpKSkpfTtcbiAgfVxufTtcbiIsIlxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG5pbXBvcnQge0VOR0lORSwgRm9yd2FyZEZ1bmN9IGZyb20gJy4uL2VuZ2luZSc7XG5pbXBvcnQge0F2Z1Bvb2wzREJhY2twcm9wLCBBdmdQb29sM0RCYWNrcHJvcEF0dHJzLCBBdmdQb29sM0RCYWNrcHJvcElucHV0c30gZnJvbSAnLi4va2VybmVsX25hbWVzJztcbmltcG9ydCB7TmFtZWRBdHRyTWFwfSBmcm9tICcuLi9rZXJuZWxfcmVnaXN0cnknO1xuaW1wb3J0IHtUZW5zb3IsIFRlbnNvcjRELCBUZW5zb3I1RH0gZnJvbSAnLi4vdGVuc29yJztcbmltcG9ydCB7TmFtZWRUZW5zb3JNYXB9IGZyb20gJy4uL3RlbnNvcl90eXBlcyc7XG5pbXBvcnQge2NvbnZlcnRUb1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yX3V0aWxfZW52JztcbmltcG9ydCB7VGVuc29yTGlrZX0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0ICogYXMgdXRpbCBmcm9tICcuLi91dGlsJztcblxuaW1wb3J0ICogYXMgY29udl91dGlsIGZyb20gJy4vY29udl91dGlsJztcbmltcG9ydCB7b3B9IGZyb20gJy4vb3BlcmF0aW9uJztcbmltcG9ydCB7cmVzaGFwZX0gZnJvbSAnLi9yZXNoYXBlJztcblxuLyoqXG4gKiBDb21wdXRlcyB0aGUgYmFja3Byb3Agb2YgYSAzZCBhdmcgcG9vbC5cbiAqXG4gKiBAcGFyYW0gZHkgVGhlIGR5IGVycm9yLCBvZiByYW5rIDUgb2Ygc2hhcGVcbiAqICAgICBbYmF0Y2hTaXplLCBkZXB0aCwgaGVpZ2h0LCB3aWR0aCwgY2hhbm5lbHNdLlxuICogYXNzdW1lZC5cbiAqIEBwYXJhbSBpbnB1dCBUaGUgb3JpZ2luYWwgaW5wdXQgaW1hZ2UsIG9mIHJhbmsgNSBvciByYW5rNCBvZiBzaGFwZVxuICogICAgIFtiYXRjaFNpemUsIGRlcHRoLCBoZWlnaHQsIHdpZHRoLCBjaGFubmVsc10uXG4gKiBAcGFyYW0gZmlsdGVyU2l6ZSBUaGUgZmlsdGVyIHNpemU6XG4gKiAgICAgYFtmaWx0ZXJEZXB0aCwgZmlsdGVySGVpZ2h0LCBmaWx0ZXJXaWR0aF1gLlxuICogICAgIGBmaWx0ZXJTaXplYCBpcyBhIHNpbmdsZSBudW1iZXIsXG4gKiAgICAgdGhlbiBgZmlsdGVyRGVwdGggPT0gZmlsdGVySGVpZ2h0ID09IGZpbHRlcldpZHRoYC5cbiAqIEBwYXJhbSBzdHJpZGVzIFRoZSBzdHJpZGVzIG9mIHRoZSBwb29saW5nOlxuICogICAgIGBbc3RyaWRlRGVwdGgsIHN0cmlkZUhlaWdodCwgc3RyaWRlV2lkdGhdYC4gSWZcbiAqICAgICBgc3RyaWRlc2AgaXMgYSBzaW5nbGUgbnVtYmVyLCB0aGVuIGBzdHJpZGVIZWlnaHQgPT0gc3RyaWRlV2lkdGhgLlxuICogQHBhcmFtIGRpbGF0aW9ucyBEZXByZWNhdGVkLCB0aGlzIGZpZWxkIHdpbGwgYmUgZ29uZSBpbiB2My4wLjAuIFRoZSBkaWxhdGlvblxuICogICAgIHJhdGVzOiBgW2RpbGF0aW9uRGVwdGgsIGRpbGF0aW9uSGVpZ2h0LCBkaWxhdGlvbldpZHRoXWBcbiAqICAgICBpbiB3aGljaCB3ZSBzYW1wbGUgaW5wdXQgdmFsdWVzIGFjcm9zcyB0aGUgZGVwdGgsIGhlaWdodCBhbmQgd2lkdGhcbiAqICAgICBkaW1lbnNpb25zIGluIGRpbGF0ZWQgcG9vbGluZy5cbiAqICAgICBEZWZhdWx0cyB0byBgWzEsIDEsIDFdYC4gSWYgYGRpbGF0aW9uc2AgaXMgYSBzaW5nbGUgbnVtYmVyLFxuICogICAgIHRoZW4gYGRpbGF0aW9uRGVwdGggPT0gZGlsYXRpb25IZWlnaHQgPT0gZGlsYXRpb25XaWR0aGAuXG4gKiAgICAgSWYgaXQgaXMgZ3JlYXRlciB0aGFuIDEsIHRoZW4gYWxsIHZhbHVlcyBvZiBgc3RyaWRlc2AgbXVzdCBiZSAxLlxuICogQHBhcmFtIHBhZCBBIHN0cmluZyBmcm9tOiAnc2FtZScsICd2YWxpZCcuIFRoZSB0eXBlIG9mIHBhZGRpbmcgYWxnb3JpdGhtXG4gKiAgICAgdXNlZCBpbiB0aGUgZm9yd2FyZCBwcm9wIG9mIHRoZSBvcC5cbiAqIEBwYXJhbSBkaW1Sb3VuZGluZ01vZGUgQSBzdHJpbmcgZnJvbTogJ2NlaWwnLCAncm91bmQnLCAnZmxvb3InLiBUaGVcbiAqICAgICByb3VuZGluZyBtb2RlIHVzZWQgd2hlbiBjb21wdXRpbmcgb3V0cHV0IGRpbWVuc2lvbnMgaWYgcGFkIGlzIGFcbiAqICAgICBudW1iZXIuIElmIG5vbmUgaXMgcHJvdmlkZWQsIGl0IHdpbGwgbm90IHJvdW5kIGFuZCBlcnJvciBpZiB0aGUgb3V0cHV0XG4gKiAgICAgaXMgb2YgZnJhY3Rpb25hbCBzaXplLlxuICovXG5mdW5jdGlvbiBhdmdQb29sM2RCYWNrcHJvcF88VCBleHRlbmRzIFRlbnNvcjREfFRlbnNvcjVEPihcbiAgICBkeTogVHxUZW5zb3JMaWtlLCBpbnB1dDogVHxUZW5zb3JMaWtlLFxuICAgIGZpbHRlclNpemU6IFtudW1iZXIsIG51bWJlciwgbnVtYmVyXXxudW1iZXIsXG4gICAgc3RyaWRlczogW251bWJlciwgbnVtYmVyLCBudW1iZXJdfG51bWJlcixcbiAgICBkaWxhdGlvbnM6IFtudW1iZXIsIG51bWJlciwgbnVtYmVyXXxudW1iZXIgPSBbMSwgMSwgMV0sXG4gICAgcGFkOiAndmFsaWQnfCdzYW1lJ3xudW1iZXIsIGRpbVJvdW5kaW5nTW9kZT86ICdmbG9vcid8J3JvdW5kJ3wnY2VpbCcpOiBUIHtcbiAgY29uc3QgJGR5ID0gY29udmVydFRvVGVuc29yKGR5LCAnZHknLCAnYXZnUG9vbDNkQmFja3Byb3AnKTtcbiAgY29uc3QgJGlucHV0ID0gY29udmVydFRvVGVuc29yKGlucHV0LCAnaW5wdXQnLCAnYXZnUG9vbDNkQmFja3Byb3AnKTtcblxuICBsZXQgZHk1RCA9ICRkeSBhcyBUZW5zb3I1RDtcbiAgbGV0IGlucHV0NUQgPSAkaW5wdXQgYXMgVGVuc29yNUQ7XG4gIGxldCByZXNoYXBlZFRvNUQgPSBmYWxzZTtcblxuICBpZiAoJGlucHV0LnJhbmsgPT09IDQpIHtcbiAgICByZXNoYXBlZFRvNUQgPSB0cnVlO1xuICAgIGR5NUQgPSByZXNoYXBlKFxuICAgICAgICAkZHksIFsxLCAkZHkuc2hhcGVbMF0sICRkeS5zaGFwZVsxXSwgJGR5LnNoYXBlWzJdLCAkZHkuc2hhcGVbM11dKTtcbiAgICBpbnB1dDVEID0gcmVzaGFwZSgkaW5wdXQsIFtcbiAgICAgIDEsICRpbnB1dC5zaGFwZVswXSwgJGlucHV0LnNoYXBlWzFdLCAkaW5wdXQuc2hhcGVbMl0sICRpbnB1dC5zaGFwZVszXVxuICAgIF0pO1xuICB9XG5cbiAgdXRpbC5hc3NlcnQoXG4gICAgICBkeTVELnJhbmsgPT09IDUsXG4gICAgICAoKSA9PiBgRXJyb3IgaW4gYXZnUG9vbDNkQmFja3Byb3A6IGR5IG11c3QgYmUgcmFuayA1IGJ1dCBnb3QgcmFuayBgICtcbiAgICAgICAgICBgJHtkeTVELnJhbmt9LmApO1xuICB1dGlsLmFzc2VydChcbiAgICAgIGlucHV0NUQucmFuayA9PT0gNSxcbiAgICAgICgpID0+IGBFcnJvciBpbiBhdmdQb29sM2RCYWNrcHJvcDogaW5wdXQgbXVzdCBiZSByYW5rIDUgYnV0IGdvdCByYW5rIGAgK1xuICAgICAgICAgIGAke2lucHV0NUQucmFua30uYCk7XG5cbiAgdXRpbC5hc3NlcnQoXG4gICAgICBjb252X3V0aWwuZWl0aGVyU3RyaWRlc09yRGlsYXRpb25zQXJlT25lKHN0cmlkZXMsIGRpbGF0aW9ucyksXG4gICAgICAoKSA9PiAnRXJyb3IgaW4gYXZnUG9vbDNkQmFja3Byb3A6IEVpdGhlciBzdHJpZGVzIG9yIGRpbGF0aW9ucyAnICtcbiAgICAgICAgICBgbXVzdCBiZSAxLiBHb3Qgc3RyaWRlcyAke3N0cmlkZXN9IGFuZCBkaWxhdGlvbnMgJyR7ZGlsYXRpb25zfSdgKTtcblxuICBpZiAoZGltUm91bmRpbmdNb2RlICE9IG51bGwpIHtcbiAgICB1dGlsLmFzc2VydChcbiAgICAgICAgdXRpbC5pc0ludChwYWQgYXMgbnVtYmVyKSxcbiAgICAgICAgKCkgPT4gYEVycm9yIGluIG1heFBvb2wzZEJhY2twcm9wOiBwYWQgbXVzdCBiZSBhbiBpbnRlZ2VyIHdoZW4gYCArXG4gICAgICAgICAgICBgdXNpbmcsIGRpbVJvdW5kaW5nTW9kZSAke2RpbVJvdW5kaW5nTW9kZX0gYnV0IGdvdCBwYWQgJHtwYWR9LmApO1xuICB9XG5cbiAgY29uc3QgZm9yd2FyZDogRm9yd2FyZEZ1bmM8VGVuc29yPiA9IGJhY2tlbmQgPT4ge1xuICAgIGNvbnN0IGNvbnZJbmZvID0gY29udl91dGlsLmNvbXB1dGVQb29sM0RJbmZvKFxuICAgICAgICBpbnB1dDVELnNoYXBlLCBmaWx0ZXJTaXplLCBzdHJpZGVzLCBkaWxhdGlvbnMsIHBhZCwgZGltUm91bmRpbmdNb2RlKTtcblxuICAgIHJldHVybiBiYWNrZW5kLmF2Z1Bvb2wzZEJhY2twcm9wKGR5NUQsIGlucHV0NUQsIGNvbnZJbmZvKTtcbiAgfTtcblxuICBjb25zdCBpbnB1dHM6IEF2Z1Bvb2wzREJhY2twcm9wSW5wdXRzID0ge2R5OiBkeTVELCBpbnB1dDogaW5wdXQ1RH07XG5cbiAgY29uc3QgYXR0cnM6IEF2Z1Bvb2wzREJhY2twcm9wQXR0cnMgPVxuICAgICAge2ZpbHRlclNpemUsIHN0cmlkZXMsIGRpbGF0aW9ucywgcGFkLCBkaW1Sb3VuZGluZ01vZGV9O1xuXG4gIGNvbnN0IHJlcyA9IEVOR0lORS5ydW5LZXJuZWxGdW5jKFxuICAgICAgZm9yd2FyZCwgaW5wdXRzIGFzIHt9IGFzIE5hbWVkVGVuc29yTWFwLCBudWxsIC8qIGdyYWQgKi8sXG4gICAgICBBdmdQb29sM0RCYWNrcHJvcCwgYXR0cnMgYXMge30gYXMgTmFtZWRBdHRyTWFwKTtcblxuICBpZiAocmVzaGFwZWRUbzVEKSB7XG4gICAgcmV0dXJuIHJlc2hhcGUoXG4gICAgICAgICAgICAgICByZXMsIFtyZXMuc2hhcGVbMV0sIHJlcy5zaGFwZVsyXSwgcmVzLnNoYXBlWzNdLCByZXMuc2hhcGVbNF1dKSBhc1xuICAgICAgICBUO1xuICB9XG5cbiAgcmV0dXJuIHJlcyBhcyBUO1xufVxuXG5leHBvcnQgY29uc3QgYXZnUG9vbDNkQmFja3Byb3AgPSBvcCh7YXZnUG9vbDNkQmFja3Byb3BffSk7XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbmltcG9ydCB7QXZnUG9vbDNELCBBdmdQb29sM0RBdHRyc30gZnJvbSAnLi4va2VybmVsX25hbWVzJztcbmltcG9ydCB7R3JhZENvbmZpZywgTmFtZWRBdHRyTWFwfSBmcm9tICcuLi9rZXJuZWxfcmVnaXN0cnknO1xuaW1wb3J0IHthdmdQb29sM2RCYWNrcHJvcH0gZnJvbSAnLi4vb3BzL2F2Z19wb29sXzNkX2JhY2twcm9wJztcbmltcG9ydCB7VGVuc29yLCBUZW5zb3I1RH0gZnJvbSAnLi4vdGVuc29yJztcblxuZXhwb3J0IGNvbnN0IGF2Z1Bvb2wzREdyYWRDb25maWc6IEdyYWRDb25maWcgPSB7XG4gIGtlcm5lbE5hbWU6IEF2Z1Bvb2wzRCxcbiAgaW5wdXRzVG9TYXZlOiBbJ3gnXSxcbiAgZ3JhZEZ1bmM6IChkeTogVGVuc29yLCBzYXZlZDogVGVuc29yW10sIGF0dHJzOiBOYW1lZEF0dHJNYXApID0+IHtcbiAgICBjb25zdCBbeF0gPSBzYXZlZCBhcyBbVGVuc29yNURdO1xuICAgIGNvbnN0IHtmaWx0ZXJTaXplLCBzdHJpZGVzLCBkaWxhdGlvbnMsIHBhZCwgZGltUm91bmRpbmdNb2RlfSA9XG4gICAgICAgIGF0dHJzIGFzIHt9IGFzIEF2Z1Bvb2wzREF0dHJzO1xuXG4gICAgY29uc3QgJGRpbGF0aW9ucyA9XG4gICAgICAgIGRpbGF0aW9ucyA9PSBudWxsID8gWzEsIDEsIDFdIGFzIFtudW1iZXIsIG51bWJlciwgbnVtYmVyXSA6IGRpbGF0aW9ucztcblxuICAgIHJldHVybiB7XG4gICAgICB4OiAoKSA9PiBhdmdQb29sM2RCYWNrcHJvcChcbiAgICAgICAgICBkeSBhcyBUZW5zb3I1RCwgeCwgZmlsdGVyU2l6ZSwgc3RyaWRlcywgJGRpbGF0aW9ucywgcGFkLFxuICAgICAgICAgIGRpbVJvdW5kaW5nTW9kZSlcbiAgICB9O1xuICB9XG59O1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG5pbXBvcnQge0VOR0lORSwgRm9yd2FyZEZ1bmN9IGZyb20gJy4uL2VuZ2luZSc7XG5pbXBvcnQge0F2Z1Bvb2xCYWNrcHJvcCwgQXZnUG9vbEJhY2twcm9wQXR0cnMsIEF2Z1Bvb2xCYWNrcHJvcElucHV0c30gZnJvbSAnLi4va2VybmVsX25hbWVzJztcbmltcG9ydCB7TmFtZWRBdHRyTWFwfSBmcm9tICcuLi9rZXJuZWxfcmVnaXN0cnknO1xuaW1wb3J0IHtUZW5zb3IsIFRlbnNvcjNELCBUZW5zb3I0RH0gZnJvbSAnLi4vdGVuc29yJztcbmltcG9ydCB7TmFtZWRUZW5zb3JNYXB9IGZyb20gJy4uL3RlbnNvcl90eXBlcyc7XG5pbXBvcnQge2NvbnZlcnRUb1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yX3V0aWxfZW52JztcbmltcG9ydCB7VGVuc29yTGlrZX0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0ICogYXMgdXRpbCBmcm9tICcuLi91dGlsJztcblxuaW1wb3J0ICogYXMgY29udl91dGlsIGZyb20gJy4vY29udl91dGlsJztcbmltcG9ydCB7b3B9IGZyb20gJy4vb3BlcmF0aW9uJztcbmltcG9ydCB7cmVzaGFwZX0gZnJvbSAnLi9yZXNoYXBlJztcblxuLyoqXG4gKiBDb21wdXRlcyB0aGUgYmFja3Byb3Agb2YgYW4gMkQgYXZnIHBvb2wuXG4gKlxuICogQHBhcmFtIGR5IFRoZSBkeSBlcnJvciwgb2YgcmFuayA0IG9yIHJhbmsgMyBvZiBzaGFwZVxuICogICAgIFtiYXRjaFNpemUsIGhlaWdodCwgd2lkdGgsIGNoYW5uZWxzXS4gSWYgcmFuayAzLCBiYXRjaCBvZiAxIGlzXG4gKiBhc3N1bWVkLlxuICogQHBhcmFtIGlucHV0IFRoZSBpbnB1dCBpbWFnZSwgb2YgcmFuayA0IG9yIHJhbmsgMyBvZiBzaGFwZVxuICogICAgIFtiYXRjaFNpemUsIGhlaWdodCwgd2lkdGgsIGNoYW5uZWxzXS4gSWYgcmFuayAzLCBiYXRjaCBvZiAxIGlzXG4gKiBhc3N1bWVkLlxuICogQHBhcmFtIGZpbHRlclNpemUgVGhlIGZpbHRlciBzaXplOiBgW2ZpbHRlckhlaWdodCwgZmlsdGVyV2lkdGhdYC4gSWZcbiAqICAgICBgZmlsdGVyU2l6ZWAgaXMgYSBzaW5nbGUgbnVtYmVyLCB0aGVuIGBmaWx0ZXJIZWlnaHQgPT0gZmlsdGVyV2lkdGhgLlxuICogQHBhcmFtIHN0cmlkZXMgVGhlIHN0cmlkZXMgb2YgdGhlIHBvb2xpbmc6IGBbc3RyaWRlSGVpZ2h0LCBzdHJpZGVXaWR0aF1gLiBJZlxuICogICAgIGBzdHJpZGVzYCBpcyBhIHNpbmdsZSBudW1iZXIsIHRoZW4gYHN0cmlkZUhlaWdodCA9PSBzdHJpZGVXaWR0aGAuXG4gKiBAcGFyYW0gcGFkIEEgc3RyaW5nIGZyb206ICdzYW1lJywgJ3ZhbGlkJy4gVGhlIHR5cGUgb2YgcGFkZGluZyBhbGdvcml0aG1cbiAqICAgICB1c2VkIGluIHRoZSBmb3J3YXJkIHByb3Agb2YgdGhlIG9wLlxuICovXG5mdW5jdGlvbiBhdmdQb29sQmFja3Byb3BfPFQgZXh0ZW5kcyBUZW5zb3IzRHxUZW5zb3I0RD4oXG4gICAgZHk6IFR8VGVuc29yTGlrZSwgaW5wdXQ6IFR8VGVuc29yTGlrZSwgZmlsdGVyU2l6ZTogW251bWJlciwgbnVtYmVyXXxudW1iZXIsXG4gICAgc3RyaWRlczogW251bWJlciwgbnVtYmVyXXxudW1iZXIsIHBhZDogJ3ZhbGlkJ3wnc2FtZSd8bnVtYmVyKTogVCB7XG4gIGNvbnN0ICRkeSA9IGNvbnZlcnRUb1RlbnNvcihkeSwgJ2R5JywgJ2F2Z1Bvb2xCYWNrcHJvcCcpO1xuICBjb25zdCAkaW5wdXQgPSBjb252ZXJ0VG9UZW5zb3IoaW5wdXQsICdpbnB1dCcsICdhdmdQb29sQmFja3Byb3AnKTtcblxuICB1dGlsLmFzc2VydChcbiAgICAgICRpbnB1dC5yYW5rID09PSAkZHkucmFuayxcbiAgICAgICgpID0+IGBSYW5rIG9mIGlucHV0ICgkeyRpbnB1dC5yYW5rfSkgZG9lcyBub3QgbWF0Y2ggcmFuayBvZiBkeSAoJHtcbiAgICAgICAgICAkZHkucmFua30pYCk7XG5cbiAgbGV0IGlucHV0NEQgPSAkaW5wdXQgYXMgVGVuc29yNEQ7XG4gIGxldCBkeTREID0gJGR5IGFzIFRlbnNvcjREO1xuICBsZXQgcmVzaGFwZWRUbzREID0gZmFsc2U7XG5cbiAgaWYgKCRpbnB1dC5yYW5rID09PSAzKSB7XG4gICAgcmVzaGFwZWRUbzREID0gdHJ1ZTtcbiAgICBpbnB1dDREID1cbiAgICAgICAgcmVzaGFwZSgkaW5wdXQsIFsxLCAkaW5wdXQuc2hhcGVbMF0sICRpbnB1dC5zaGFwZVsxXSwgJGlucHV0LnNoYXBlWzJdXSk7XG4gICAgZHk0RCA9IHJlc2hhcGUoJGR5LCBbMSwgJGR5LnNoYXBlWzBdLCAkZHkuc2hhcGVbMV0sICRkeS5zaGFwZVsyXV0pO1xuICB9XG5cbiAgdXRpbC5hc3NlcnQoXG4gICAgICBkeTRELnJhbmsgPT09IDQsXG4gICAgICAoKSA9PiBgRXJyb3IgaW4gYXZnUG9vbEJhY2twcm9wOiBkeSBtdXN0IGJlIHJhbmsgNCBidXQgZ290IHJhbmsgYCArXG4gICAgICAgICAgYCR7ZHk0RC5yYW5rfS5gKTtcbiAgdXRpbC5hc3NlcnQoXG4gICAgICBpbnB1dDRELnJhbmsgPT09IDQsXG4gICAgICAoKSA9PiBgRXJyb3IgaW4gYXZnUG9vbEJhY2twcm9wOiBpbnB1dCBtdXN0IGJlIHJhbmsgNCBidXQgZ290IHJhbmsgYCArXG4gICAgICAgICAgYCR7aW5wdXQ0RC5yYW5rfS5gKTtcblxuICBjb25zdCBmb3J3YXJkOiBGb3J3YXJkRnVuYzxUZW5zb3I+ID0gYmFja2VuZCA9PiB7XG4gICAgY29uc3QgY29udkluZm8gPSBjb252X3V0aWwuY29tcHV0ZVBvb2wyREluZm8oXG4gICAgICAgIGlucHV0NEQuc2hhcGUsIGZpbHRlclNpemUsIHN0cmlkZXMsIDEgLyogZGlsYXRpb25zICovLCBwYWQpO1xuXG4gICAgcmV0dXJuIGJhY2tlbmQuYXZnUG9vbEJhY2twcm9wKGR5NEQsIGlucHV0NEQsIGNvbnZJbmZvKTtcbiAgfTtcblxuICBjb25zdCBpbnB1dHM6IEF2Z1Bvb2xCYWNrcHJvcElucHV0cyA9IHtkeTogZHk0RCwgaW5wdXQ6IGlucHV0NER9O1xuXG4gIGNvbnN0IGF0dHJzOiBBdmdQb29sQmFja3Byb3BBdHRycyA9IHtmaWx0ZXJTaXplLCBzdHJpZGVzLCBwYWR9O1xuXG4gIGNvbnN0IHJlcyA9IEVOR0lORS5ydW5LZXJuZWxGdW5jKFxuICAgICAgZm9yd2FyZCwgaW5wdXRzIGFzIHt9IGFzIE5hbWVkVGVuc29yTWFwLCBudWxsLCBBdmdQb29sQmFja3Byb3AsXG4gICAgICBhdHRycyBhcyB7fSBhcyBOYW1lZEF0dHJNYXApO1xuXG4gIGlmIChyZXNoYXBlZFRvNEQpIHtcbiAgICByZXR1cm4gcmVzaGFwZShyZXMsIFtyZXMuc2hhcGVbMV0sIHJlcy5zaGFwZVsyXSwgcmVzLnNoYXBlWzNdXSkgYXMgVDtcbiAgfVxuICByZXR1cm4gcmVzIGFzIFQ7XG59XG5cbmV4cG9ydCBjb25zdCBhdmdQb29sQmFja3Byb3AgPSBvcCh7YXZnUG9vbEJhY2twcm9wX30pO1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG5pbXBvcnQge0F2Z1Bvb2wsIEF2Z1Bvb2xBdHRyc30gZnJvbSAnLi4va2VybmVsX25hbWVzJztcbmltcG9ydCB7R3JhZENvbmZpZywgTmFtZWRBdHRyTWFwfSBmcm9tICcuLi9rZXJuZWxfcmVnaXN0cnknO1xuaW1wb3J0IHthdmdQb29sQmFja3Byb3B9IGZyb20gJy4uL29wcy9hdmdfcG9vbF9iYWNrcHJvcCc7XG5pbXBvcnQge1RlbnNvciwgVGVuc29yNER9IGZyb20gJy4uL3RlbnNvcic7XG5cbmV4cG9ydCBjb25zdCBhdmdQb29sR3JhZENvbmZpZzogR3JhZENvbmZpZyA9IHtcbiAga2VybmVsTmFtZTogQXZnUG9vbCxcbiAgaW5wdXRzVG9TYXZlOiBbJ3gnXSxcbiAgZ3JhZEZ1bmM6IChkeTogVGVuc29yLCBzYXZlZDogVGVuc29yW10sIGF0dHJzOiBOYW1lZEF0dHJNYXApID0+IHtcbiAgICBjb25zdCBbeF0gPSBzYXZlZCBhcyBbVGVuc29yNERdO1xuICAgIGNvbnN0IHtmaWx0ZXJTaXplLCBzdHJpZGVzLCBwYWR9ID0gYXR0cnMgYXMge30gYXMgQXZnUG9vbEF0dHJzO1xuICAgIHJldHVybiB7XG4gICAgICB4OiAoKSA9PiBhdmdQb29sQmFja3Byb3AoZHkgYXMgVGVuc29yNEQsIHgsIGZpbHRlclNpemUsIHN0cmlkZXMsIHBhZClcbiAgICB9O1xuICB9XG59O1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG5pbXBvcnQge0JhdGNoTWF0TXVsLCBCYXRjaE1hdE11bEF0dHJzfSBmcm9tICcuLi9rZXJuZWxfbmFtZXMnO1xuaW1wb3J0IHtHcmFkQ29uZmlnLCBOYW1lZEF0dHJNYXB9IGZyb20gJy4uL2tlcm5lbF9yZWdpc3RyeSc7XG5pbXBvcnQge21hdE11bH0gZnJvbSAnLi4vb3BzL21hdF9tdWwnO1xuaW1wb3J0IHtUZW5zb3IsIFRlbnNvcjNEfSBmcm9tICcuLi90ZW5zb3InO1xuXG5leHBvcnQgY29uc3QgYmF0Y2hNYXRNdWxHcmFkQ29uZmlnOiBHcmFkQ29uZmlnID0ge1xuICBrZXJuZWxOYW1lOiBCYXRjaE1hdE11bCxcbiAgaW5wdXRzVG9TYXZlOiBbJ2EnLCAnYiddLFxuICBncmFkRnVuYzogKGR5OiBUZW5zb3IzRCwgc2F2ZWQ6IFRlbnNvcltdLCBhdHRyczogTmFtZWRBdHRyTWFwKSA9PiB7XG4gICAgY29uc3QgW2EsIGJdID0gc2F2ZWQgYXMgVGVuc29yM0RbXTtcblxuICAgIGNvbnN0IHt0cmFuc3Bvc2VBLCB0cmFuc3Bvc2VCfSA9IGF0dHJzIGFzIHt9IGFzIEJhdGNoTWF0TXVsQXR0cnM7XG5cbiAgICBpZiAoIXRyYW5zcG9zZUEgJiYgIXRyYW5zcG9zZUIpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGE6ICgpID0+IG1hdE11bChkeSwgYiwgZmFsc2UsIHRydWUpLFxuICAgICAgICBiOiAoKSA9PiBtYXRNdWwoYSwgZHksIHRydWUsIGZhbHNlKVxuICAgICAgfTtcbiAgICB9IGVsc2UgaWYgKCF0cmFuc3Bvc2VBICYmIHRyYW5zcG9zZUIpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGE6ICgpID0+IG1hdE11bChkeSwgYiwgZmFsc2UsIGZhbHNlKSxcbiAgICAgICAgYjogKCkgPT4gbWF0TXVsKGR5LCBhLCB0cnVlLCBmYWxzZSlcbiAgICAgIH07XG4gICAgfSBlbHNlIGlmICh0cmFuc3Bvc2VBICYmICF0cmFuc3Bvc2VCKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBhOiAoKSA9PiBtYXRNdWwoYiwgZHksIGZhbHNlLCB0cnVlKSxcbiAgICAgICAgYjogKCkgPT4gbWF0TXVsKGEsIGR5LCBmYWxzZSwgZmFsc2UpXG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBhOiAoKSA9PiBtYXRNdWwoYiwgZHksIHRydWUsIHRydWUpLFxuICAgICAgICBiOiAoKSA9PiBtYXRNdWwoZHksIGEsIHRydWUsIHRydWUpXG4gICAgICB9O1xuICAgIH1cbiAgfVxufTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuaW1wb3J0IHtCYXRjaFRvU3BhY2VORCwgQmF0Y2hUb1NwYWNlTkRBdHRyc30gZnJvbSAnLi4va2VybmVsX25hbWVzJztcbmltcG9ydCB7R3JhZENvbmZpZywgTmFtZWRBdHRyTWFwfSBmcm9tICcuLi9rZXJuZWxfcmVnaXN0cnknO1xuaW1wb3J0IHtzcGFjZVRvQmF0Y2hORH0gZnJvbSAnLi4vb3BzL3NwYWNlX3RvX2JhdGNoX25kJztcbmltcG9ydCB7VGVuc29yfSBmcm9tICcuLi90ZW5zb3InO1xuXG5leHBvcnQgY29uc3QgYmF0Y2hUb1NwYWNlTkRHcmFkQ29uZmlnOiBHcmFkQ29uZmlnID0ge1xuICBrZXJuZWxOYW1lOiBCYXRjaFRvU3BhY2VORCxcbiAgZ3JhZEZ1bmM6IChkeTogVGVuc29yLCBzYXZlZDogVGVuc29yW10sIGF0dHJzOiBOYW1lZEF0dHJNYXApID0+IHtcbiAgICBjb25zdCB7YmxvY2tTaGFwZSwgY3JvcHN9ID0gYXR0cnMgYXMge30gYXMgQmF0Y2hUb1NwYWNlTkRBdHRycztcbiAgICByZXR1cm4ge3g6ICgpID0+IHNwYWNlVG9CYXRjaE5EKGR5LCBibG9ja1NoYXBlLCBjcm9wcyl9O1xuICB9XG59O1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG5pbXBvcnQge0Jyb2FkY2FzdFRvLCBCcm9hZENhc3RUb0F0dHJzfSBmcm9tICcuLi9rZXJuZWxfbmFtZXMnO1xuaW1wb3J0IHtHcmFkQ29uZmlnLCBOYW1lZEF0dHJNYXB9IGZyb20gJy4uL2tlcm5lbF9yZWdpc3RyeSc7XG5pbXBvcnQge3N1bX0gZnJvbSAnLi4vb3BzL3N1bSc7XG5pbXBvcnQge1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yJztcblxuZXhwb3J0IGNvbnN0IGJyb2FkY2FzdFRvR3JhZENvbmZpZzogR3JhZENvbmZpZyA9IHtcbiAga2VybmVsTmFtZTogQnJvYWRjYXN0VG8sXG4gIGdyYWRGdW5jOiAoZHk6IFRlbnNvciwgc2F2ZWQ6IFRlbnNvcltdLCBhdHRyczogTmFtZWRBdHRyTWFwKSA9PiB7XG4gICAgY29uc3QgYnJvYWRDYXN0VG9BdHRyczogQnJvYWRDYXN0VG9BdHRycyA9XG4gICAgICAgIGF0dHJzIGFzIHVua25vd24gYXMgQnJvYWRDYXN0VG9BdHRycztcblxuICAgIGNvbnN0IGlucHV0U2hhcGUgPSBicm9hZENhc3RUb0F0dHJzLmlucHV0U2hhcGU7XG4gICAgY29uc3Qgb3V0cHV0U2hhcGUgPSBicm9hZENhc3RUb0F0dHJzLnNoYXBlO1xuXG4gICAgY29uc3QgcmVwczogbnVtYmVyW10gPSBBcnJheS5mcm9tKG91dHB1dFNoYXBlKTtcbiAgICBmb3IgKGxldCBpID0gaW5wdXRTaGFwZS5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgaWYgKGlucHV0U2hhcGVbaV0gPT09IG91dHB1dFNoYXBlW2ldKSB7XG4gICAgICAgIHJlcHNbaV0gPSAxO1xuICAgICAgfSBlbHNlIGlmIChpbnB1dFNoYXBlW2ldICE9PSAxKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgYnJvYWRjYXN0VG8oKTogWyR7XG4gICAgICAgICAgICBpbnB1dFNoYXBlfV0gY2Fubm90IGJlIGJyb2FkY2FzdCB0byBbJHtvdXRwdXRTaGFwZX1dLmApO1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBheGVzOiBudW1iZXJbXSA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmVwcy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKHJlcHNbaV0gPiAxKSB7XG4gICAgICAgIGF4ZXMucHVzaChpKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4ge3g6ICgpID0+IHN1bShkeSwgYXhlcywgdHJ1ZSAvKiBrZWVwRGltcyAqLyl9O1xuICB9XG59O1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG5pbXBvcnQge0Nhc3R9IGZyb20gJy4uL2tlcm5lbF9uYW1lcyc7XG5pbXBvcnQge0dyYWRDb25maWd9IGZyb20gJy4uL2tlcm5lbF9yZWdpc3RyeSc7XG5pbXBvcnQge1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yJztcblxuZXhwb3J0IGNvbnN0IGNhc3RHcmFkQ29uZmlnOiBHcmFkQ29uZmlnID0ge1xuICBrZXJuZWxOYW1lOiBDYXN0LFxuICBncmFkRnVuYzogKGR5OiBUZW5zb3IpID0+IHtcbiAgICByZXR1cm4ge3g6ICgpID0+IGR5LmNsb25lKCl9O1xuICB9XG59O1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG5pbXBvcnQge0NlaWx9IGZyb20gJy4uL2tlcm5lbF9uYW1lcyc7XG5pbXBvcnQge0dyYWRDb25maWd9IGZyb20gJy4uL2tlcm5lbF9yZWdpc3RyeSc7XG5pbXBvcnQge3plcm9zTGlrZX0gZnJvbSAnLi4vb3BzL3plcm9zX2xpa2UnO1xuaW1wb3J0IHtUZW5zb3J9IGZyb20gJy4uL3RlbnNvcic7XG5cbmV4cG9ydCBjb25zdCBjZWlsR3JhZENvbmZpZzogR3JhZENvbmZpZyA9IHtcbiAga2VybmVsTmFtZTogQ2VpbCxcbiAgZ3JhZEZ1bmM6IChkeTogVGVuc29yKSA9PiB7XG4gICAgLy8gVE9ETyhtYW5yYWpncm92ZXIpOiBSZXR1cm4gbnVsbCBmb3IgZ3JhZGllbnRzIHdoZW4gYmFja3Byb3Agc3VwcG9ydHMgaXQuXG4gICAgcmV0dXJuIHt4OiAoKSA9PiB6ZXJvc0xpa2UoZHkpfTtcbiAgfVxufTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuaW1wb3J0IHtDbGlwQnlWYWx1ZSwgQ2xpcEJ5VmFsdWVBdHRyc30gZnJvbSAnLi4va2VybmVsX25hbWVzJztcbmltcG9ydCB7R3JhZENvbmZpZywgTmFtZWRBdHRyTWFwfSBmcm9tICcuLi9rZXJuZWxfcmVnaXN0cnknO1xuaW1wb3J0IHtncmVhdGVyRXF1YWx9IGZyb20gJy4uL29wcy9ncmVhdGVyX2VxdWFsJztcbmltcG9ydCB7bGVzc0VxdWFsfSBmcm9tICcuLi9vcHMvbGVzc19lcXVhbCc7XG5pbXBvcnQge2xvZ2ljYWxBbmR9IGZyb20gJy4uL29wcy9sb2dpY2FsX2FuZCc7XG5pbXBvcnQge3doZXJlfSBmcm9tICcuLi9vcHMvd2hlcmUnO1xuaW1wb3J0IHt6ZXJvc0xpa2V9IGZyb20gJy4uL29wcy96ZXJvc19saWtlJztcbmltcG9ydCB7VGVuc29yfSBmcm9tICcuLi90ZW5zb3InO1xuXG5leHBvcnQgY29uc3QgY2xpcEJ5VmFsdWVHcmFkQ29uZmlnOiBHcmFkQ29uZmlnID0ge1xuICBrZXJuZWxOYW1lOiBDbGlwQnlWYWx1ZSxcbiAgaW5wdXRzVG9TYXZlOiBbJ3gnXSxcbiAgZ3JhZEZ1bmM6IChkeTogVGVuc29yLCBzYXZlZDogVGVuc29yW10sIGF0dHJzOiBOYW1lZEF0dHJNYXApID0+IHtcbiAgICBjb25zdCBbeF0gPSBzYXZlZDtcbiAgICBjb25zdCB7Y2xpcFZhbHVlTWluLCBjbGlwVmFsdWVNYXh9ID0gYXR0cnMgYXMge30gYXMgQ2xpcEJ5VmFsdWVBdHRycztcbiAgICByZXR1cm4ge1xuICAgICAgeDogKCkgPT4gd2hlcmUoXG4gICAgICAgICAgbG9naWNhbEFuZChncmVhdGVyRXF1YWwoeCwgY2xpcFZhbHVlTWluKSwgbGVzc0VxdWFsKHgsIGNsaXBWYWx1ZU1heCkpLFxuICAgICAgICAgIGR5LCB6ZXJvc0xpa2UoZHkpKSxcbiAgICB9O1xuICB9XG59O1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuaW1wb3J0IHtDb25jYXQsIENvbmNhdEF0dHJzfSBmcm9tICcuLi9rZXJuZWxfbmFtZXMnO1xuaW1wb3J0IHtHcmFkQ29uZmlnLCBOYW1lZEF0dHJNYXB9IGZyb20gJy4uL2tlcm5lbF9yZWdpc3RyeSc7XG5pbXBvcnQge3NwbGl0fSBmcm9tICcuLi9vcHMvc3BsaXQnO1xuaW1wb3J0IHtUZW5zb3J9IGZyb20gJy4uL3RlbnNvcic7XG5pbXBvcnQge3BhcnNlQXhpc1BhcmFtfSBmcm9tICcuLi91dGlsJztcblxuZXhwb3J0IGNvbnN0IGNvbmNhdEdyYWRDb25maWc6IEdyYWRDb25maWcgPSB7XG4gIGtlcm5lbE5hbWU6IENvbmNhdCxcbiAgc2F2ZUFsbElucHV0czogdHJ1ZSxcbiAgZ3JhZEZ1bmM6IChkeTogVGVuc29yLCBzYXZlZDogVGVuc29yW10sIGF0dHJzOiBOYW1lZEF0dHJNYXApID0+IHtcbiAgICBjb25zdCBzaGFwZXMgPSBzYXZlZC5tYXAodCA9PiB0LnNoYXBlKTtcbiAgICBjb25zdCB7YXhpc30gPSBhdHRycyBhcyB7fSBhcyBDb25jYXRBdHRycztcbiAgICBjb25zdCAkYXhpcyA9IHBhcnNlQXhpc1BhcmFtKGF4aXMsIHNhdmVkWzBdLnNoYXBlKVswXTtcbiAgICBjb25zdCBzaXplU3BsaXRzID0gc2hhcGVzLm1hcChzID0+IHNbJGF4aXNdKTtcbiAgICBjb25zdCBkZXJUZW5zb3JzID0gc3BsaXQoZHksIHNpemVTcGxpdHMsICRheGlzKTtcbiAgICByZXR1cm4gZGVyVGVuc29ycy5tYXAodCA9PiAoKSA9PiB0KSBhcyB7fTtcbiAgfVxufTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cbmltcG9ydCB7Q29udjJELCBDb252MkRBdHRyc30gZnJvbSAnLi4va2VybmVsX25hbWVzJztcbmltcG9ydCB7R3JhZENvbmZpZywgTmFtZWRBdHRyTWFwfSBmcm9tICcuLi9rZXJuZWxfcmVnaXN0cnknO1xuaW1wb3J0IHtjb252MkRCYWNrcHJvcEZpbHRlcn0gZnJvbSAnLi4vb3BzL2NvbnYyZF9iYWNrcHJvcF9maWx0ZXInO1xuaW1wb3J0IHtjb252MkRCYWNrcHJvcElucHV0fSBmcm9tICcuLi9vcHMvY29udjJkX2JhY2twcm9wX2lucHV0JztcbmltcG9ydCAqIGFzIGNvbnZfdXRpbCBmcm9tICcuLi9vcHMvY29udl91dGlsJztcbmltcG9ydCB7VGVuc29yLCBUZW5zb3I0RH0gZnJvbSAnLi4vdGVuc29yJztcbmltcG9ydCAqIGFzIHV0aWwgZnJvbSAnLi4vdXRpbCc7XG5cbmV4cG9ydCBjb25zdCBjb252MkRHcmFkQ29uZmlnOiBHcmFkQ29uZmlnID0ge1xuICBrZXJuZWxOYW1lOiBDb252MkQsXG4gIGlucHV0c1RvU2F2ZTogWyd4JywgJ2ZpbHRlciddLFxuICBncmFkRnVuYzogKGR5OiBUZW5zb3I0RCwgc2F2ZWQ6IFRlbnNvcltdLCBhdHRyczogTmFtZWRBdHRyTWFwKSA9PiB7XG4gICAgY29uc3QgW3g0RCwgJGZpbHRlcl0gPSBzYXZlZCBhcyBbVGVuc29yNEQsIFRlbnNvcjREXTtcbiAgICBjb25zdCB7ZGlsYXRpb25zLCBzdHJpZGVzLCBwYWQsIGRhdGFGb3JtYXR9ID0gYXR0cnMgYXMge30gYXMgQ29udjJEQXR0cnM7XG5cbiAgICB1dGlsLmFzc2VydChcbiAgICAgICAgY29udl91dGlsLnR1cGxlVmFsdWVzQXJlT25lKGRpbGF0aW9ucyksXG4gICAgICAgICgpID0+ICdFcnJvciBpbiBncmFkaWVudCBvZiBjb252MkQ6IGRpbGF0aW9uIHJhdGVzIGdyZWF0ZXIgdGhhbiAxICcgK1xuICAgICAgICAgICAgYGFyZSBub3QgeWV0IHN1cHBvcnRlZCBpbiBncmFkaWVudHMuIEdvdCBkaWxhdGlvbnMgJyR7ZGlsYXRpb25zfSdgKTtcblxuICAgIHJldHVybiB7XG4gICAgICB4OiAoKSA9PlxuICAgICAgICAgIGNvbnYyREJhY2twcm9wSW5wdXQoeDRELnNoYXBlLCBkeSwgJGZpbHRlciwgc3RyaWRlcywgcGFkLCBkYXRhRm9ybWF0KSxcbiAgICAgIGZpbHRlcjogKCkgPT5cbiAgICAgICAgICBjb252MkRCYWNrcHJvcEZpbHRlcih4NEQsIGR5LCAkZmlsdGVyLnNoYXBlLCBzdHJpZGVzLCBwYWQsIGRhdGFGb3JtYXQpXG4gICAgfTtcbiAgfVxufTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cbmltcG9ydCB7Q29udjJEQmFja3Byb3BJbnB1dCwgQ29udjJEQmFja3Byb3BJbnB1dEF0dHJzfSBmcm9tICcuLi9rZXJuZWxfbmFtZXMnO1xuaW1wb3J0IHtHcmFkQ29uZmlnLCBOYW1lZEF0dHJNYXB9IGZyb20gJy4uL2tlcm5lbF9yZWdpc3RyeSc7XG5pbXBvcnQge2NvbnYyZH0gZnJvbSAnLi4vb3BzL2NvbnYyZCc7XG5pbXBvcnQge2NvbnYyREJhY2twcm9wRmlsdGVyfSBmcm9tICcuLi9vcHMvY29udjJkX2JhY2twcm9wX2ZpbHRlcic7XG5pbXBvcnQge1RlbnNvciwgVGVuc29yNER9IGZyb20gJy4uL3RlbnNvcic7XG5cbmV4cG9ydCBjb25zdCBjb252MkRCYWNrcHJvcElucHV0R3JhZENvbmZpZzogR3JhZENvbmZpZyA9IHtcbiAga2VybmVsTmFtZTogQ29udjJEQmFja3Byb3BJbnB1dCxcbiAgaW5wdXRzVG9TYXZlOiBbJ2R5JywgJ2ZpbHRlciddLFxuICBncmFkRnVuYzogKGRkeDogVGVuc29yNEQsIHNhdmVkOiBUZW5zb3JbXSwgYXR0cnM6IE5hbWVkQXR0ck1hcCkgPT4ge1xuICAgIGNvbnN0IFtkeSwgZmlsdGVyXSA9IHNhdmVkIGFzIFtUZW5zb3I0RCwgVGVuc29yNERdO1xuXG4gICAgY29uc3Qge3N0cmlkZXMsIHBhZCwgZGF0YUZvcm1hdCwgZGltUm91bmRpbmdNb2RlfSA9XG4gICAgICAgIGF0dHJzIGFzIHt9IGFzIENvbnYyREJhY2twcm9wSW5wdXRBdHRycztcblxuICAgIHJldHVybiB7XG4gICAgICBkeTogKCkgPT4gY29udjJkKFxuICAgICAgICAgIGRkeCwgZmlsdGVyLCBzdHJpZGVzLCBwYWQsIGRhdGFGb3JtYXQsIDEgLyogZGlsYXRpb25zICovLFxuICAgICAgICAgIGRpbVJvdW5kaW5nTW9kZSksXG4gICAgICBmaWx0ZXI6ICgpID0+IGNvbnYyREJhY2twcm9wRmlsdGVyKFxuICAgICAgICAgIGRkeCwgZHksIGZpbHRlci5zaGFwZSwgc3RyaWRlcywgcGFkLCBkYXRhRm9ybWF0LCBkaW1Sb3VuZGluZ01vZGUpXG4gICAgfTtcbiAgfVxufTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cbmltcG9ydCB7RU5HSU5FLCBGb3J3YXJkRnVuY30gZnJvbSAnLi4vZW5naW5lJztcbmltcG9ydCB7Q29udjNEQmFja3Byb3BGaWx0ZXJBdHRycywgQ29udjNEQmFja3Byb3BGaWx0ZXJJbnB1dHMsIENvbnYzREJhY2twcm9wRmlsdGVyVjJ9IGZyb20gJy4uL2tlcm5lbF9uYW1lcyc7XG5pbXBvcnQge05hbWVkQXR0ck1hcH0gZnJvbSAnLi4va2VybmVsX3JlZ2lzdHJ5JztcbmltcG9ydCB7VGVuc29yLCBUZW5zb3I0RCwgVGVuc29yNUR9IGZyb20gJy4uL3RlbnNvcic7XG5pbXBvcnQge05hbWVkVGVuc29yTWFwfSBmcm9tICcuLi90ZW5zb3JfdHlwZXMnO1xuaW1wb3J0ICogYXMgdXRpbCBmcm9tICcuLi91dGlsJztcblxuaW1wb3J0ICogYXMgY29udl91dGlsIGZyb20gJy4vY29udl91dGlsJztcbmltcG9ydCB7b3B9IGZyb20gJy4vb3BlcmF0aW9uJztcbmltcG9ydCB7cmVzaGFwZX0gZnJvbSAnLi9yZXNoYXBlJztcblxuLyoqXG4gKiBDb21wdXRlcyB0aGUgZGVyaXZhdGl2ZSBvZiB0aGUgZmlsdGVyIG9mIGEgM0QgY29udm9sdXRpb24uXG4gKlxuICogQHBhcmFtIHggVGhlIGlucHV0IHRlbnNvciwgb2YgcmFuayA1IG9yIHJhbmsgNCBvZiBzaGFwZVxuICogICAgIFtiYXRjaCwgZGVwdGgsIGhlaWdodCwgd2lkdGgsIGluQ2hhbm5lbHNdLiBJZiByYW5rIDQsIGJhdGNoIG9mIDEgaXNcbiAqICAgICBhc3N1bWVkLlxuICogQHBhcmFtIGR5IFRoZSBkeSBpbWFnZSwgb2YgcmFuayA1IG9yIHJhbmsgNCwgb2Ygc2hhcGVcbiAqICAgICBbYmF0Y2gsIGRlcHRoLCBoZWlnaHQsIHdpZHRoLCBvdXREZXB0aF0uIElmIHJhbmsgNCwgYmF0Y2ggb2YgMSBpc1xuICogICAgIGFzc3VtZWQuXG4gKiBAcGFyYW0gZmlsdGVyU2hhcGUgVGhlIHNoYXBlIG9mIHRoZSBmaWx0ZXIsIGxlbmd0aCA1LFxuICogICAgIFtmaWx0ZXJEZXB0aCwgZmlsdGVySGVpZ2h0LCBmaWx0ZXJXaWR0aCwgaW5EZXB0aCwgb3V0RGVwdGhdLlxuICogQHBhcmFtIHN0cmlkZXMgVGhlIHN0cmlkZXMgb2YgdGhlIGNvbnZvbHV0aW9uOiBbc3RyaWRlRGVwdGgsIHN0cmlkZUhlaWdodCxcbiAqIHN0cmlkZVdpZHRoXS5cbiAqIEBwYXJhbSBwYWQgQSBzdHJpbmcgZnJvbTogJ3NhbWUnLCAndmFsaWQnLiBUaGUgdHlwZSBvZiBwYWRkaW5nIGFsZ29yaXRobVxuICogICAgIHVzZWQgaW4gdGhlIGZvcndhcmQgcHJvcCBvZiB0aGUgb3AuXG4gKi9cbmZ1bmN0aW9uIGNvbnYzREJhY2twcm9wRmlsdGVyXzxUIGV4dGVuZHMgVGVuc29yNER8VGVuc29yNUQ+KFxuICAgIHg6IFQsIGR5OiBULCBmaWx0ZXJTaGFwZTogW251bWJlciwgbnVtYmVyLCBudW1iZXIsIG51bWJlciwgbnVtYmVyXSxcbiAgICBzdHJpZGVzOiBbbnVtYmVyLCBudW1iZXIsIG51bWJlcl18bnVtYmVyLCBwYWQ6ICd2YWxpZCd8J3NhbWUnKTogVGVuc29yNUQge1xuICBsZXQgeDVEID0geCBhcyBUZW5zb3I1RDtcbiAgaWYgKHgucmFuayA9PT0gNCkge1xuICAgIHg1RCA9IHJlc2hhcGUoeCwgWzEsIHguc2hhcGVbMF0sIHguc2hhcGVbMV0sIHguc2hhcGVbMl0sIHguc2hhcGVbM11dKTtcbiAgfVxuICBsZXQgZHk1RCA9IGR5IGFzIFRlbnNvcjVEO1xuICBpZiAoZHk1RC5yYW5rID09PSA0KSB7XG4gICAgZHk1RCA9IHJlc2hhcGUoZHksIFsxLCBkeS5zaGFwZVswXSwgZHkuc2hhcGVbMV0sIGR5LnNoYXBlWzJdLCBkeS5zaGFwZVszXV0pO1xuICB9XG4gIHV0aWwuYXNzZXJ0KFxuICAgICAgeDVELnJhbmsgPT09IDUsXG4gICAgICAoKSA9PiBgRXJyb3IgaW4gY29udjNkRGVyRmlsdGVyOiBpbnB1dCBtdXN0IGJlIHJhbmsgNSwgYnV0IGdvdCBzaGFwZSBgICtcbiAgICAgICAgICBgJHt4NUQuc2hhcGV9LmApO1xuICB1dGlsLmFzc2VydChcbiAgICAgIGR5NUQucmFuayA9PT0gNSxcbiAgICAgICgpID0+IGBFcnJvciBpbiBjb252M2REZXJGaWx0ZXI6IGR5IG11c3QgYmUgcmFuayA1LCBidXQgZ290IHNoYXBlIGAgK1xuICAgICAgICAgIGAke2R5NUQuc2hhcGV9LmApO1xuICB1dGlsLmFzc2VydChcbiAgICAgIGZpbHRlclNoYXBlLmxlbmd0aCA9PT0gNSxcbiAgICAgICgpID0+IGBFcnJvciBpbiBjb252M2REZXJGaWx0ZXI6IGZpbHRlclNoYXBlIG11c3QgYmUgbGVuZ3RoIDUsIGJ1dCBnb3QgYCArXG4gICAgICAgICAgYCR7ZmlsdGVyU2hhcGV9LmApO1xuICB1dGlsLmFzc2VydChcbiAgICAgIHg1RC5zaGFwZVs0XSA9PT0gZmlsdGVyU2hhcGVbM10sXG4gICAgICAoKSA9PiBgRXJyb3IgaW4gY29udjNkRGVyRmlsdGVyOiBkZXB0aCBvZiBpbnB1dCAke3g1RC5zaGFwZVs0XX0pIG11c3QgYCArXG4gICAgICAgICAgYG1hdGNoIGlucHV0IGRlcHRoIGluIGZpbHRlciAoJHtmaWx0ZXJTaGFwZVszXX0uYCk7XG4gIHV0aWwuYXNzZXJ0KFxuICAgICAgZHk1RC5zaGFwZVs0XSA9PT0gZmlsdGVyU2hhcGVbNF0sXG4gICAgICAoKSA9PiBgRXJyb3IgaW4gY29udjNkRGVyRmlsdGVyOiBkZXB0aCBvZiBkeSAoJHtkeTVELnNoYXBlWzRdfSkgbXVzdCBgICtcbiAgICAgICAgICBgbWF0Y2ggb3V0cHV0IGRlcHRoIGZvciBmaWx0ZXIgKCR7ZmlsdGVyU2hhcGVbNF19KS5gKTtcblxuICBjb25zdCBmb3J3YXJkOiBGb3J3YXJkRnVuYzxUZW5zb3I+ID0gYmFja2VuZCA9PiB7XG4gICAgY29uc3QgZGlsYXRpb25zID0gMTtcblxuICAgIGNvbnN0IGNvbnZJbmZvID0gY29udl91dGlsLmNvbXB1dGVDb252M0RJbmZvKFxuICAgICAgICB4NUQuc2hhcGUsIGZpbHRlclNoYXBlLCBzdHJpZGVzLCBkaWxhdGlvbnMsIHBhZCk7XG5cbiAgICByZXR1cm4gYmFja2VuZC5jb252M2REZXJGaWx0ZXIoeDVELCBkeTVELCBjb252SW5mbyk7XG4gIH07XG5cbiAgY29uc3QgaW5wdXRzOiBDb252M0RCYWNrcHJvcEZpbHRlcklucHV0cyA9IHt4OiB4NUQsIHk6IGR5NUR9O1xuXG4gIGNvbnN0IGF0dHJzOiBDb252M0RCYWNrcHJvcEZpbHRlckF0dHJzID0ge3N0cmlkZXMsIHBhZH07XG5cbiAgcmV0dXJuIEVOR0lORS5ydW5LZXJuZWxGdW5jKFxuICAgICAgICAgICAgIGZvcndhcmQsIGlucHV0cyBhcyB7fSBhcyBOYW1lZFRlbnNvck1hcCwgbnVsbCxcbiAgICAgICAgICAgICBDb252M0RCYWNrcHJvcEZpbHRlclYyLCBhdHRycyBhcyB7fSBhcyBOYW1lZEF0dHJNYXApIGFzIFRlbnNvcjVEO1xufVxuXG5leHBvcnQgY29uc3QgY29udjNEQmFja3Byb3BGaWx0ZXIgPSBvcCh7Y29udjNEQmFja3Byb3BGaWx0ZXJffSk7XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5pbXBvcnQge0NvbnYzRCwgQ29udjNEQXR0cnN9IGZyb20gJy4uL2tlcm5lbF9uYW1lcyc7XG5pbXBvcnQge0dyYWRDb25maWcsIE5hbWVkQXR0ck1hcH0gZnJvbSAnLi4va2VybmVsX3JlZ2lzdHJ5JztcbmltcG9ydCB7Y29udjNEQmFja3Byb3BGaWx0ZXJ9IGZyb20gJy4uL29wcy9jb252M2RfYmFja3Byb3BfZmlsdGVyJztcbmltcG9ydCB7Y29udjNEQmFja3Byb3BJbnB1dH0gZnJvbSAnLi4vb3BzL2NvbnYzZF9iYWNrcHJvcF9pbnB1dCc7XG5pbXBvcnQge3R1cGxlVmFsdWVzQXJlT25lfSBmcm9tICcuLi9vcHMvY29udl91dGlsJztcbmltcG9ydCB7VGVuc29yLCBUZW5zb3I1RH0gZnJvbSAnLi4vdGVuc29yJztcbmltcG9ydCAqIGFzIHV0aWwgZnJvbSAnLi4vdXRpbCc7XG5cbmV4cG9ydCBjb25zdCBjb252M0RHcmFkQ29uZmlnOiBHcmFkQ29uZmlnID0ge1xuICBrZXJuZWxOYW1lOiBDb252M0QsXG4gIGlucHV0c1RvU2F2ZTogWyd4JywgJ2ZpbHRlciddLFxuICBncmFkRnVuYzogKGR5OiBUZW5zb3I1RCwgc2F2ZWQ6IFRlbnNvcltdLCBhdHRyczogTmFtZWRBdHRyTWFwKSA9PiB7XG4gICAgY29uc3Qge2RpbGF0aW9ucywgc3RyaWRlcywgcGFkfSA9IGF0dHJzIGFzIHt9IGFzIENvbnYzREF0dHJzO1xuICAgIHV0aWwuYXNzZXJ0KFxuICAgICAgICB0dXBsZVZhbHVlc0FyZU9uZShkaWxhdGlvbnMpLFxuICAgICAgICAoKSA9PlxuICAgICAgICAgICAgJ0Vycm9yIGluIGdyYWRpZW50IG9mIGNvbnYzRDogZGlsYXRpb24gcmF0ZXMgZ3JlYXRlciB0aGFuIDEgYXJlICcgK1xuICAgICAgICAgICAgYG5vdCB5ZXQgc3VwcG9ydGVkIGluIGdyYWRpZW50cy4gR290IGRpbGF0aW9ucyAnJHtkaWxhdGlvbnN9J2ApO1xuXG4gICAgY29uc3QgW3g1RCwgJGZpbHRlcl0gPSBzYXZlZDtcblxuICAgIHJldHVybiB7XG4gICAgICB4OiAoKSA9PiBjb252M0RCYWNrcHJvcElucHV0KFxuICAgICAgICAgICh4NUQgYXMgVGVuc29yNUQpLnNoYXBlLCBkeSwgJGZpbHRlciBhcyBUZW5zb3I1RCwgc3RyaWRlcywgcGFkKSxcbiAgICAgIGZpbHRlcjogKCkgPT4gY29udjNEQmFja3Byb3BGaWx0ZXIoXG4gICAgICAgICAgeDVEIGFzIFRlbnNvcjVELCBkeSwgKCRmaWx0ZXIgYXMgVGVuc29yNUQpLnNoYXBlLCBzdHJpZGVzLCBwYWQpXG4gICAgfTtcbiAgfVxufTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuaW1wb3J0IHtDb3N9IGZyb20gJy4uL2tlcm5lbF9uYW1lcyc7XG5pbXBvcnQge0dyYWRDb25maWd9IGZyb20gJy4uL2tlcm5lbF9yZWdpc3RyeSc7XG5pbXBvcnQge2Nhc3R9IGZyb20gJy4uL29wcy9jYXN0JztcbmltcG9ydCB7bXVsfSBmcm9tICcuLi9vcHMvbXVsJztcbmltcG9ydCB7bmVnfSBmcm9tICcuLi9vcHMvbmVnJztcbmltcG9ydCB7c2lufSBmcm9tICcuLi9vcHMvc2luJztcbmltcG9ydCB7VGVuc29yfSBmcm9tICcuLi90ZW5zb3InO1xuXG5leHBvcnQgY29uc3QgY29zR3JhZENvbmZpZzogR3JhZENvbmZpZyA9IHtcbiAga2VybmVsTmFtZTogQ29zLFxuICBpbnB1dHNUb1NhdmU6IFsneCddLFxuICBncmFkRnVuYzogKGR5OiBUZW5zb3IsIHNhdmVkOiBUZW5zb3JbXSkgPT4ge1xuICAgIGNvbnN0IFt4XSA9IHNhdmVkO1xuXG4gICAgcmV0dXJuIHt4OiAoKSA9PiBtdWwobmVnKHNpbihjYXN0KHgsICdmbG9hdDMyJykpKSwgZHkpfTtcbiAgfVxufTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuaW1wb3J0IHtDb3NofSBmcm9tICcuLi9rZXJuZWxfbmFtZXMnO1xuaW1wb3J0IHtHcmFkQ29uZmlnfSBmcm9tICcuLi9rZXJuZWxfcmVnaXN0cnknO1xuaW1wb3J0IHtjYXN0fSBmcm9tICcuLi9vcHMvY2FzdCc7XG5pbXBvcnQge211bH0gZnJvbSAnLi4vb3BzL211bCc7XG5pbXBvcnQge3Npbmh9IGZyb20gJy4uL29wcy9zaW5oJztcbmltcG9ydCB7VGVuc29yfSBmcm9tICcuLi90ZW5zb3InO1xuXG5leHBvcnQgY29uc3QgY29zaEdyYWRDb25maWc6IEdyYWRDb25maWcgPSB7XG4gIGtlcm5lbE5hbWU6IENvc2gsXG4gIGlucHV0c1RvU2F2ZTogWyd4J10sXG4gIGdyYWRGdW5jOiAoZHk6IFRlbnNvciwgc2F2ZWQ6IFRlbnNvcltdKSA9PiB7XG4gICAgY29uc3QgW3hdID0gc2F2ZWQ7XG5cbiAgICByZXR1cm4ge3g6ICgpID0+IG11bChzaW5oKGNhc3QoeCwgJ2Zsb2F0MzInKSksIGR5KX07XG4gIH1cbn07XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbmltcG9ydCB7Q3Vtc3VtLCBDdW1zdW1BdHRyc30gZnJvbSAnLi4va2VybmVsX25hbWVzJztcbmltcG9ydCB7R3JhZENvbmZpZywgTmFtZWRBdHRyTWFwfSBmcm9tICcuLi9rZXJuZWxfcmVnaXN0cnknO1xuaW1wb3J0IHtnZXRBeGVzUGVybXV0YXRpb259IGZyb20gJy4uL29wcy9heGlzX3V0aWwnO1xuaW1wb3J0IHtjdW1zdW19IGZyb20gJy4uL29wcy9jdW1zdW0nO1xuaW1wb3J0IHt0cmFuc3Bvc2V9IGZyb20gJy4uL29wcy90cmFuc3Bvc2UnO1xuaW1wb3J0IHtUZW5zb3J9IGZyb20gJy4uL3RlbnNvcic7XG5cbmV4cG9ydCBjb25zdCBjdW1zdW1HcmFkQ29uZmlnOiBHcmFkQ29uZmlnID0ge1xuICBrZXJuZWxOYW1lOiBDdW1zdW0sXG4gIGlucHV0c1RvU2F2ZTogWyd4J10sXG4gIGdyYWRGdW5jOiAoZHk6IFRlbnNvciwgc2F2ZWQ6IFRlbnNvcltdLCBhdHRyczogTmFtZWRBdHRyTWFwKSA9PiB7XG4gICAgY29uc3QgW3hdID0gc2F2ZWQ7XG4gICAgY29uc3Qge2F4aXMsIGV4Y2x1c2l2ZSwgcmV2ZXJzZX06IEN1bXN1bUF0dHJzID0gYXR0cnMgYXMge30gYXMgQ3Vtc3VtQXR0cnM7XG5cbiAgICByZXR1cm4ge1xuICAgICAgeDogKCkgPT4ge1xuICAgICAgICBjb25zdCBwZXJtdXRhdGlvbiA9IGdldEF4ZXNQZXJtdXRhdGlvbihbYXhpc10sIHgucmFuayk7XG5cbiAgICAgICAgbGV0IG91dCA9IGN1bXN1bShkeSwgYXhpcywgZXhjbHVzaXZlLCAhcmV2ZXJzZSk7XG5cbiAgICAgICAgaWYgKHBlcm11dGF0aW9uICE9IG51bGwpIHtcbiAgICAgICAgICBvdXQgPSB0cmFuc3Bvc2Uob3V0LCBwZXJtdXRhdGlvbik7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gb3V0O1xuICAgICAgfVxuICAgIH07XG4gIH1cbn07XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5pbXBvcnQge0RlcHRod2lzZUNvbnYyZE5hdGl2ZSwgRGVwdGh3aXNlQ29udjJkTmF0aXZlQXR0cnN9IGZyb20gJy4uL2tlcm5lbF9uYW1lcyc7XG5pbXBvcnQge0dyYWRDb25maWcsIE5hbWVkQXR0ck1hcH0gZnJvbSAnLi4va2VybmVsX3JlZ2lzdHJ5JztcbmltcG9ydCAqIGFzIGNvbnZfdXRpbCBmcm9tICcuLi9vcHMvY29udl91dGlsJztcbmltcG9ydCB7ZGVwdGh3aXNlQ29udjJkTmF0aXZlQmFja3Byb3BGaWx0ZXJ9IGZyb20gJy4uL29wcy9kZXB0aHdpc2VfY29udjJkX25hdGl2ZV9iYWNrcHJvcF9maWx0ZXInO1xuaW1wb3J0IHtkZXB0aHdpc2VDb252MmROYXRpdmVCYWNrcHJvcElucHV0fSBmcm9tICcuLi9vcHMvZGVwdGh3aXNlX2NvbnYyZF9uYXRpdmVfYmFja3Byb3BfaW5wdXQnO1xuaW1wb3J0IHtUZW5zb3IsIFRlbnNvcjREfSBmcm9tICcuLi90ZW5zb3InO1xuaW1wb3J0ICogYXMgdXRpbCBmcm9tICcuLi91dGlsJztcblxuZXhwb3J0IGNvbnN0IGRlcHRod2lzZUNvbnYyZE5hdGl2ZUdyYWRDb25maWc6IEdyYWRDb25maWcgPSB7XG4gIGtlcm5lbE5hbWU6IERlcHRod2lzZUNvbnYyZE5hdGl2ZSxcbiAgaW5wdXRzVG9TYXZlOiBbJ3gnLCAnZmlsdGVyJ10sXG4gIGdyYWRGdW5jOiAoZHk6IFRlbnNvcjRELCBzYXZlZDogVGVuc29yW10sIGF0dHJzOiBOYW1lZEF0dHJNYXApID0+IHtcbiAgICBjb25zdCB7ZGlsYXRpb25zLCBzdHJpZGVzLCBwYWQsIGRpbVJvdW5kaW5nTW9kZX0gPVxuICAgICAgICBhdHRycyBhcyB7fSBhcyBEZXB0aHdpc2VDb252MmROYXRpdmVBdHRycztcblxuICAgIGNvbnN0ICRkaWxhdGlvbnMgPSBkaWxhdGlvbnMgPT0gbnVsbCA/IFsxLCAxXSA6IGRpbGF0aW9ucztcblxuICAgIHV0aWwuYXNzZXJ0KFxuICAgICAgICBjb252X3V0aWwudHVwbGVWYWx1ZXNBcmVPbmUoJGRpbGF0aW9ucyksXG4gICAgICAgICgpID0+ICdFcnJvciBpbiBncmFkaWVudCBvZiBkZXB0aHdpc2VDb252MmROYXRpdmU6IGRpbGF0aW9uIHJhdGVzICcgK1xuICAgICAgICAgICAgYGdyZWF0ZXIgdGhhbiAxIGFyZSBub3QgeWV0IHN1cHBvcnRlZC4gR290IGRpbGF0aW9ucyBgICtcbiAgICAgICAgICAgIGAnJHskZGlsYXRpb25zfSdgKTtcblxuICAgIGNvbnN0IFt4LCBmaWx0ZXJdID0gc2F2ZWQgYXMgW1RlbnNvcjRELCBUZW5zb3I0RF07XG5cbiAgICB1dGlsLmFzc2VydChcbiAgICAgICAgeC5yYW5rID09PSA0LFxuICAgICAgICAoKSA9PiBgRXJyb3IgaW4gZ3JhZGllbnQgb2YgZGVwdGh3aXNlQ29udjJkTmF0aXZlOiBpbnB1dCBtdXN0IGJlIGAgK1xuICAgICAgICAgICAgYHJhbmsgNCwgYnV0IGdvdCByYW5rICR7eC5yYW5rfS5gKTtcbiAgICB1dGlsLmFzc2VydChcbiAgICAgICAgZmlsdGVyLnJhbmsgPT09IDQsXG4gICAgICAgICgpID0+IGBFcnJvciBpbiBncmFkaWVudCBvZiBkZXB0aHdpc2VDb252MmROYXRpdmU6IGZpbHRlciBtdXN0IGJlIGAgK1xuICAgICAgICAgICAgYHJhbmsgNCwgYnV0IGdvdCByYW5rICR7ZmlsdGVyLnJhbmt9LmApO1xuICAgIHV0aWwuYXNzZXJ0KFxuICAgICAgICB4LnNoYXBlWzNdID09PSBmaWx0ZXIuc2hhcGVbMl0sXG4gICAgICAgICgpID0+IGBFcnJvciBpbiBncmFkaWVudCBvZiBkZXB0aHdpc2VDb252MmQ6IG51bWJlciBvZiBpbnB1dCBgICtcbiAgICAgICAgICAgIGBjaGFubmVscyAoJHt4LnNoYXBlWzNdfSkgbXVzdCBtYXRjaCB0aGUgaW5DaGFubmVscyBkaW1lbnNpb24gYCArXG4gICAgICAgICAgICBgaW4gZmlsdGVyICR7ZmlsdGVyLnNoYXBlWzJdfS5gKTtcblxuICAgIHV0aWwuYXNzZXJ0KFxuICAgICAgICBjb252X3V0aWwuZWl0aGVyU3RyaWRlc09yRGlsYXRpb25zQXJlT25lKHN0cmlkZXMsICRkaWxhdGlvbnMpLFxuICAgICAgICAoKSA9PiAnRXJyb3IgaW4gZ3JhZGllbnQgb2YgZGVwdGh3aXNlQ29udjJkOiBFaXRoZXIgc3RyaWRlcyBvciAnICtcbiAgICAgICAgICAgIGBkaWxhdGlvbnMgbXVzdCBiZSAgMS4gR290IHN0cmlkZXMgJHtzdHJpZGVzfSBhbmQgZGlsYXRpb25zIGAgK1xuICAgICAgICAgICAgYCckeyRkaWxhdGlvbnN9Jy5gKTtcblxuICAgIGlmIChkaW1Sb3VuZGluZ01vZGUgIT0gbnVsbCkge1xuICAgICAgdXRpbC5hc3NlcnQoXG4gICAgICAgICAgdXRpbC5pc0ludChwYWQgYXMgbnVtYmVyKSxcbiAgICAgICAgICAoKSA9PlxuICAgICAgICAgICAgICBgRXJyb3IgaW4gZGVwdGh3aXNlQ29udjJkOiBwYWQgbXVzdCBiZSBhbiBpbnRlZ2VyIHdoZW4gdXNpbmcsIGAgK1xuICAgICAgICAgICAgICBgZGltUm91bmRpbmdNb2RlICR7ZGltUm91bmRpbmdNb2RlfSBidXQgZ290IHBhZCAke3BhZH0uYCk7XG4gICAgfVxuXG4gICAgY29uc3QgY29udkluZm8gPSBjb252X3V0aWwuY29tcHV0ZUNvbnYyREluZm8oXG4gICAgICAgIHguc2hhcGUsIGZpbHRlci5zaGFwZSwgc3RyaWRlcywgJGRpbGF0aW9ucyBhcyBudW1iZXIgfCBbbnVtYmVyLCBudW1iZXJdLFxuICAgICAgICBwYWQsIGRpbVJvdW5kaW5nTW9kZSwgdHJ1ZSAvKiBkZXB0aHdpc2UgKi8pO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIHg6ICgpID0+XG4gICAgICAgICAgZGVwdGh3aXNlQ29udjJkTmF0aXZlQmFja3Byb3BJbnB1dCh4LnNoYXBlLCBkeSwgZmlsdGVyLCBjb252SW5mbyksXG4gICAgICBmaWx0ZXI6ICgpID0+XG4gICAgICAgICAgZGVwdGh3aXNlQ29udjJkTmF0aXZlQmFja3Byb3BGaWx0ZXIoeCwgZHksIGZpbHRlci5zaGFwZSwgY29udkluZm8pLFxuICAgIH07XG4gIH1cbn07XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5pbXBvcnQge0VOR0lORX0gZnJvbSAnLi4vZW5naW5lJztcbmltcG9ydCB7RGlsYXRpb24yRCwgRGlsYXRpb24yREJhY2twcm9wRmlsdGVyLCBEaWxhdGlvbjJEQmFja3Byb3BGaWx0ZXJJbnB1dHMsIERpbGF0aW9uMkRCYWNrcHJvcElucHV0LCBEaWxhdGlvbjJEQmFja3Byb3BJbnB1dElucHV0c30gZnJvbSAnLi4va2VybmVsX25hbWVzJztcbmltcG9ydCB7R3JhZENvbmZpZ30gZnJvbSAnLi4va2VybmVsX3JlZ2lzdHJ5JztcbmltcG9ydCB7TmFtZWRBdHRyTWFwfSBmcm9tICcuLi9rZXJuZWxfcmVnaXN0cnknO1xuaW1wb3J0IHtUZW5zb3IsIFRlbnNvcjNELCBUZW5zb3I0RH0gZnJvbSAnLi4vdGVuc29yJztcbmltcG9ydCB7TmFtZWRUZW5zb3JNYXB9IGZyb20gJy4uL3RlbnNvcl90eXBlcyc7XG5cbmV4cG9ydCBjb25zdCBkaWxhdGlvbjJkR3JhZENvbmZpZzogR3JhZENvbmZpZyA9IHtcbiAga2VybmVsTmFtZTogRGlsYXRpb24yRCxcbiAgaW5wdXRzVG9TYXZlOiBbJ3gnLCAnZmlsdGVyJ10sXG4gIGdyYWRGdW5jOiAoZHk6IFRlbnNvcjRELCBzYXZlZDogVGVuc29yW10sIGF0dHJzOiBOYW1lZEF0dHJNYXApID0+IHtcbiAgICBjb25zdCBbeCwgZmlsdGVyXSA9IHNhdmVkIGFzIFtUZW5zb3I0RCwgVGVuc29yM0RdO1xuXG4gICAgY29uc3QgaW5wdXRJbnB1dHM6IERpbGF0aW9uMkRCYWNrcHJvcElucHV0SW5wdXRzID0ge3gsIGZpbHRlciwgZHl9O1xuICAgIGNvbnN0IGZpbHRlcklucHV0czogRGlsYXRpb24yREJhY2twcm9wRmlsdGVySW5wdXRzID0ge3gsIGZpbHRlciwgZHl9O1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIHg6ICgpID0+IEVOR0lORS5ydW5LZXJuZWwoXG4gICAgICAgICAgICAgICAgICAgRGlsYXRpb24yREJhY2twcm9wSW5wdXQsIGlucHV0SW5wdXRzIGFzIHt9IGFzIE5hbWVkVGVuc29yTWFwLFxuICAgICAgICAgICAgICAgICAgIGF0dHJzKSBhcyBUZW5zb3IsXG4gICAgICBmaWx0ZXI6ICgpID0+IEVOR0lORS5ydW5LZXJuZWwoXG4gICAgICAgICAgICAgICAgICAgICAgICBEaWxhdGlvbjJEQmFja3Byb3BGaWx0ZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWx0ZXJJbnB1dHMgYXMge30gYXMgTmFtZWRUZW5zb3JNYXAsIGF0dHJzKSBhcyBUZW5zb3JcbiAgICB9O1xuICB9XG59O1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG5pbXBvcnQge0Rpdn0gZnJvbSAnLi4va2VybmVsX25hbWVzJztcbmltcG9ydCB7R3JhZENvbmZpZ30gZnJvbSAnLi4va2VybmVsX3JlZ2lzdHJ5JztcbmltcG9ydCAqIGFzIGJyb2FkY2FzdF91dGlsIGZyb20gJy4uL29wcy9icm9hZGNhc3RfdXRpbCc7XG5pbXBvcnQge2Nhc3R9IGZyb20gJy4uL29wcy9jYXN0JztcbmltcG9ydCB7ZGl2fSBmcm9tICcuLi9vcHMvZGl2JztcbmltcG9ydCB7bXVsfSBmcm9tICcuLi9vcHMvbXVsJztcbmltcG9ydCB7bmVnfSBmcm9tICcuLi9vcHMvbmVnJztcbmltcG9ydCB7cmVzaGFwZX0gZnJvbSAnLi4vb3BzL3Jlc2hhcGUnO1xuaW1wb3J0IHtzcXVhcmV9IGZyb20gJy4uL29wcy9zcXVhcmUnO1xuaW1wb3J0IHtzdW19IGZyb20gJy4uL29wcy9zdW0nO1xuaW1wb3J0IHtUZW5zb3J9IGZyb20gJy4uL3RlbnNvcic7XG5cbmV4cG9ydCBjb25zdCBkaXZHcmFkQ29uZmlnOiBHcmFkQ29uZmlnID0ge1xuICBrZXJuZWxOYW1lOiBEaXYsXG4gIGlucHV0c1RvU2F2ZTogWydhJywgJ2InXSxcbiAgZ3JhZEZ1bmM6IChkeTogVGVuc29yLCBzYXZlZDogVGVuc29yW10pID0+IHtcbiAgICBjb25zdCBbYSwgYl0gPSBzYXZlZDtcbiAgICBjb25zdCBvdXRTaGFwZSA9XG4gICAgICAgIGJyb2FkY2FzdF91dGlsLmFzc2VydEFuZEdldEJyb2FkY2FzdFNoYXBlKGEuc2hhcGUsIGIuc2hhcGUpO1xuICAgIGNvbnN0IGRlckEgPSAoKSA9PiB7XG4gICAgICBjb25zdCByZXMgPSBkaXYoZHksIGNhc3QoYiwgJ2Zsb2F0MzInKSk7XG4gICAgICBjb25zdCByZWR1Y2VBeGVzID0gYnJvYWRjYXN0X3V0aWwuZ2V0UmVkdWN0aW9uQXhlcyhhLnNoYXBlLCBvdXRTaGFwZSk7XG4gICAgICBpZiAocmVkdWNlQXhlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIHJldHVybiByZXNoYXBlKHN1bShyZXMsIHJlZHVjZUF4ZXMpLCBhLnNoYXBlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXM7XG4gICAgfTtcbiAgICBjb25zdCBkZXJCID0gKCkgPT4ge1xuICAgICAgbGV0IHJlcyA9IG11bChkeSwgY2FzdChhLCAnZmxvYXQzMicpKTtcbiAgICAgIGNvbnN0IHJlZHVjZUF4ZXMgPSBicm9hZGNhc3RfdXRpbC5nZXRSZWR1Y3Rpb25BeGVzKGIuc2hhcGUsIG91dFNoYXBlKTtcbiAgICAgIGlmIChyZWR1Y2VBeGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgcmVzID0gcmVzaGFwZShzdW0ocmVzLCByZWR1Y2VBeGVzKSwgYi5zaGFwZSk7XG4gICAgICB9XG4gICAgICBjb25zdCB0bXAgPSBzcXVhcmUoYik7XG4gICAgICByZXR1cm4gbmVnKGRpdihyZXMsIGNhc3QodG1wLCAnZmxvYXQzMicpKSk7XG4gICAgfTtcbiAgICByZXR1cm4ge2E6IGRlckEsIGI6IGRlckJ9O1xuICB9XG59O1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuaW1wb3J0IHtFTkdJTkUsIEZvcndhcmRGdW5jfSBmcm9tICcuLi9lbmdpbmUnO1xuaW1wb3J0IHtFbHUsIEVsdUdyYWQsIEVsdUdyYWRJbnB1dHN9IGZyb20gJy4uL2tlcm5lbF9uYW1lcyc7XG5pbXBvcnQge0dyYWRDb25maWd9IGZyb20gJy4uL2tlcm5lbF9yZWdpc3RyeSc7XG5pbXBvcnQge1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yJztcbmltcG9ydCB7TmFtZWRUZW5zb3JNYXB9IGZyb20gJy4uL3RlbnNvcl90eXBlcyc7XG5cbmV4cG9ydCBjb25zdCBlbHVHcmFkQ29uZmlnOiBHcmFkQ29uZmlnID0ge1xuICBrZXJuZWxOYW1lOiBFbHUsXG4gIG91dHB1dHNUb1NhdmU6IFt0cnVlXSxcbiAgZ3JhZEZ1bmM6IChkeTogVGVuc29yLCBzYXZlZDogVGVuc29yW10pID0+IHtcbiAgICBjb25zdCBbeV0gPSBzYXZlZDtcblxuICAgIGNvbnN0IGJhY2tQcm9wS2VybmVsRnVuYzogRm9yd2FyZEZ1bmM8VGVuc29yPiA9IChiYWNrZW5kKSA9PiB7XG4gICAgICByZXR1cm4gYmFja2VuZC5lbHVEZXIoZHksIHkpO1xuICAgIH07XG5cbiAgICBjb25zdCBpbnB1dHM6IEVsdUdyYWRJbnB1dHMgPSB7ZHksIHl9O1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIHg6ICgpID0+IEVOR0lORS5ydW5LZXJuZWxGdW5jKFxuICAgICAgICAgIGJhY2tQcm9wS2VybmVsRnVuYywgaW5wdXRzIGFzIHt9IGFzIE5hbWVkVGVuc29yTWFwLCBudWxsIC8qIGdyYWQgKi8sXG4gICAgICAgICAgRWx1R3JhZClcbiAgICB9O1xuICB9XG59O1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG5pbXBvcnQge0VyZn0gZnJvbSAnLi4va2VybmVsX25hbWVzJztcbmltcG9ydCB7R3JhZENvbmZpZ30gZnJvbSAnLi4va2VybmVsX3JlZ2lzdHJ5JztcbmltcG9ydCB7ZXhwfSBmcm9tICcuLi9vcHMvZXhwJztcbmltcG9ydCB7bXVsfSBmcm9tICcuLi9vcHMvbXVsJztcbmltcG9ydCB7bmVnfSBmcm9tICcuLi9vcHMvbmVnJztcbmltcG9ydCB7c3F1YXJlfSBmcm9tICcuLi9vcHMvc3F1YXJlJztcbmltcG9ydCB7VGVuc29yfSBmcm9tICcuLi90ZW5zb3InO1xuXG5leHBvcnQgY29uc3QgZXJmR3JhZENvbmZpZzogR3JhZENvbmZpZyA9IHtcbiAga2VybmVsTmFtZTogRXJmLFxuICBpbnB1dHNUb1NhdmU6IFsneCddLFxuICBncmFkRnVuYzogKGR5OiBUZW5zb3IsIHNhdmVkOiBUZW5zb3JbXSkgPT4ge1xuICAgIGNvbnN0IFt4XSA9IHNhdmVkO1xuICAgIGNvbnN0IGEgPSBtdWwoZXhwKG5lZyhzcXVhcmUoeCkpKSwgMiAvIE1hdGguc3FydChNYXRoLlBJKSk7XG4gICAgcmV0dXJuIHt4OiAoKSA9PiBtdWwoZHksIGEpfTtcbiAgfVxufTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuaW1wb3J0IHtFeHB9IGZyb20gJy4uL2tlcm5lbF9uYW1lcyc7XG5pbXBvcnQge0dyYWRDb25maWd9IGZyb20gJy4uL2tlcm5lbF9yZWdpc3RyeSc7XG5pbXBvcnQge211bH0gZnJvbSAnLi4vb3BzL211bCc7XG5pbXBvcnQge1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yJztcblxuZXhwb3J0IGNvbnN0IGV4cEdyYWRDb25maWc6IEdyYWRDb25maWcgPSB7XG4gIGtlcm5lbE5hbWU6IEV4cCxcbiAgb3V0cHV0c1RvU2F2ZTogW3RydWVdLFxuICBncmFkRnVuYzogKGR5OiBUZW5zb3IsIHNhdmVkOiBUZW5zb3JbXSkgPT4ge1xuICAgIGNvbnN0IFt5XSA9IHNhdmVkO1xuICAgIHJldHVybiB7eDogKCkgPT4gbXVsKGR5LCB5KX07XG4gIH1cbn07XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbmltcG9ydCB7RXhwbTF9IGZyb20gJy4uL2tlcm5lbF9uYW1lcyc7XG5pbXBvcnQge0dyYWRDb25maWd9IGZyb20gJy4uL2tlcm5lbF9yZWdpc3RyeSc7XG5pbXBvcnQge2V4cH0gZnJvbSAnLi4vb3BzL2V4cCc7XG5pbXBvcnQge211bH0gZnJvbSAnLi4vb3BzL211bCc7XG5pbXBvcnQge1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yJztcblxuZXhwb3J0IGNvbnN0IGV4cG0xR3JhZENvbmZpZzogR3JhZENvbmZpZyA9IHtcbiAga2VybmVsTmFtZTogRXhwbTEsXG4gIGlucHV0c1RvU2F2ZTogWyd4J10sXG4gIGdyYWRGdW5jOiAoZHk6IFRlbnNvciwgc2F2ZWQ6IFRlbnNvcltdKSA9PiB7XG4gICAgY29uc3QgW3hdID0gc2F2ZWQ7XG4gICAgcmV0dXJuIHt4OiAoKSA9PiBtdWwoZHksIGV4cCh4KSl9O1xuICB9XG59O1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG5pbXBvcnQge0Zsb29yfSBmcm9tICcuLi9rZXJuZWxfbmFtZXMnO1xuaW1wb3J0IHtHcmFkQ29uZmlnfSBmcm9tICcuLi9rZXJuZWxfcmVnaXN0cnknO1xuaW1wb3J0IHt6ZXJvc0xpa2V9IGZyb20gJy4uL29wcy96ZXJvc19saWtlJztcbmltcG9ydCB7VGVuc29yfSBmcm9tICcuLi90ZW5zb3InO1xuXG5leHBvcnQgY29uc3QgZmxvb3JHcmFkQ29uZmlnOiBHcmFkQ29uZmlnID0ge1xuICBrZXJuZWxOYW1lOiBGbG9vcixcbiAgZ3JhZEZ1bmM6IChkeTogVGVuc29yKSA9PiB7XG4gICAgcmV0dXJuIHt4OiAoKSA9PiB6ZXJvc0xpa2UoZHkpfTtcbiAgfVxufTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuaW1wb3J0IHtGbG9vckRpdn0gZnJvbSAnLi4va2VybmVsX25hbWVzJztcbmltcG9ydCB7R3JhZENvbmZpZ30gZnJvbSAnLi4va2VybmVsX3JlZ2lzdHJ5JztcbmltcG9ydCB7YXNzZXJ0QW5kR2V0QnJvYWRjYXN0U2hhcGUsIGdldFJlZHVjdGlvbkF4ZXN9IGZyb20gJy4uL29wcy9icm9hZGNhc3RfdXRpbCc7XG5pbXBvcnQge2Nhc3R9IGZyb20gJy4uL29wcy9jYXN0JztcbmltcG9ydCB7ZGl2fSBmcm9tICcuLi9vcHMvZGl2JztcbmltcG9ydCB7bXVsfSBmcm9tICcuLi9vcHMvbXVsJztcbmltcG9ydCB7bmVnfSBmcm9tICcuLi9vcHMvbmVnJztcbmltcG9ydCB7cmVzaGFwZX0gZnJvbSAnLi4vb3BzL3Jlc2hhcGUnO1xuaW1wb3J0IHtzcXVhcmV9IGZyb20gJy4uL29wcy9zcXVhcmUnO1xuaW1wb3J0IHtzdW19IGZyb20gJy4uL29wcy9zdW0nO1xuaW1wb3J0IHtUZW5zb3J9IGZyb20gJy4uL3RlbnNvcic7XG5cbmV4cG9ydCBjb25zdCBmbG9vckRpdkdyYWRDb25maWc6IEdyYWRDb25maWcgPSB7XG4gIGtlcm5lbE5hbWU6IEZsb29yRGl2LFxuICBpbnB1dHNUb1NhdmU6IFsnYScsICdiJ10sXG4gIGdyYWRGdW5jOiAoZHk6IFRlbnNvciwgc2F2ZWQ6IFRlbnNvcltdKSA9PiB7XG4gICAgY29uc3QgW2EsIGJdID0gc2F2ZWQ7XG4gICAgY29uc3Qgb3V0U2hhcGUgPSBhc3NlcnRBbmRHZXRCcm9hZGNhc3RTaGFwZShhLnNoYXBlLCBiLnNoYXBlKTtcblxuICAgIGNvbnN0IGRlckEgPSAoKSA9PiB7XG4gICAgICBjb25zdCByZXMgPSBkaXYoZHksIGNhc3QoYiwgJ2Zsb2F0MzInKSk7XG4gICAgICBjb25zdCByZWR1Y2VBeGVzID0gZ2V0UmVkdWN0aW9uQXhlcyhhLnNoYXBlLCBvdXRTaGFwZSk7XG4gICAgICBpZiAocmVkdWNlQXhlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIHJldHVybiByZXNoYXBlKHN1bShyZXMsIHJlZHVjZUF4ZXMpLCBhLnNoYXBlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXM7XG4gICAgfTtcbiAgICBjb25zdCBkZXJCID0gKCkgPT4ge1xuICAgICAgbGV0IHJlcyA9IG11bChkeSwgY2FzdChhLCAnZmxvYXQzMicpKTtcbiAgICAgIGNvbnN0IHJlZHVjZUF4ZXMgPSBnZXRSZWR1Y3Rpb25BeGVzKGIuc2hhcGUsIG91dFNoYXBlKTtcbiAgICAgIGlmIChyZWR1Y2VBeGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgcmVzID0gcmVzaGFwZShzdW0ocmVzLCByZWR1Y2VBeGVzKSwgYi5zaGFwZSk7XG4gICAgICB9XG4gICAgICBjb25zdCB0bXAgPSBzcXVhcmUoYik7XG4gICAgICByZXR1cm4gbmVnKGRpdihyZXMsIGNhc3QodG1wLCAnZmxvYXQzMicpKSk7XG4gICAgfTtcbiAgICByZXR1cm4ge2E6IGRlckEsIGI6IGRlckJ9O1xuICB9XG59O1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuaW1wb3J0IHtGdXNlZEJhdGNoTm9ybSwgRnVzZWRCYXRjaE5vcm1BdHRyc30gZnJvbSAnLi4va2VybmVsX25hbWVzJztcbmltcG9ydCB7R3JhZENvbmZpZywgTmFtZWRBdHRyTWFwfSBmcm9tICcuLi9rZXJuZWxfcmVnaXN0cnknO1xuaW1wb3J0IHthZGR9IGZyb20gJy4uL29wcy9hZGQnO1xuaW1wb3J0IHtnZXRSZWR1Y3Rpb25BeGVzfSBmcm9tICcuLi9vcHMvYnJvYWRjYXN0X3V0aWwnO1xuaW1wb3J0IHttdWx9IGZyb20gJy4uL29wcy9tdWwnO1xuaW1wb3J0IHtyZXNoYXBlfSBmcm9tICcuLi9vcHMvcmVzaGFwZSc7XG5pbXBvcnQge3JzcXJ0fSBmcm9tICcuLi9vcHMvcnNxcnQnO1xuaW1wb3J0IHtzY2FsYXJ9IGZyb20gJy4uL29wcy9zY2FsYXInO1xuaW1wb3J0IHtzdWJ9IGZyb20gJy4uL29wcy9zdWInO1xuaW1wb3J0IHtzdW19IGZyb20gJy4uL29wcy9zdW0nO1xuaW1wb3J0IHt0aWxlfSBmcm9tICcuLi9vcHMvdGlsZSc7XG5pbXBvcnQge1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yJztcbmltcG9ydCB7UmFuaywgU2hhcGVNYXB9IGZyb20gJy4uL3R5cGVzJztcblxuZXhwb3J0IGNvbnN0IGZ1c2VkQmF0Y2hOb3JtR3JhZENvbmZpZzogR3JhZENvbmZpZyA9IHtcbiAga2VybmVsTmFtZTogRnVzZWRCYXRjaE5vcm0sXG4gIGlucHV0c1RvU2F2ZTogWyd4JywgJ21lYW4nLCAndmFyaWFuY2UnLCAnc2NhbGUnXSxcbiAgZ3JhZEZ1bmM6IDxSIGV4dGVuZHMgUmFuaz4oXG4gICAgICBkeTogVGVuc29yLCBzYXZlZDogVGVuc29yW10sIGF0dHJzOiBOYW1lZEF0dHJNYXApID0+IHtcbiAgICBjb25zdCB7dmFyaWFuY2VFcHNpbG9ufSA9IGF0dHJzIGFzIHt9IGFzIEZ1c2VkQmF0Y2hOb3JtQXR0cnM7XG4gICAgY29uc3QgW3gsIG1lYW4sIHZhcmlhbmNlLCBzY2FsZV0gPSBzYXZlZDtcblxuICAgIGNvbnN0IHNjYWxlVmFsdWUgPSBzY2FsZSA9PSBudWxsID8gc2NhbGFyKDEpIDogc2NhbGU7XG4gICAgY29uc3QgcmVkdWN0aW9uQXhlcyA9IGdldFJlZHVjdGlvbkF4ZXMobWVhbi5zaGFwZSwgeC5zaGFwZSk7XG4gICAgY29uc3QgdGlsZVNoYXBlOiBudW1iZXJbXSA9IFtdO1xuICAgIGlmIChtZWFuLnJhbmsgPT09IDEpIHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgeC5zaGFwZS5sZW5ndGggLSAxOyArK2kpIHtcbiAgICAgICAgdGlsZVNoYXBlLnB1c2goeC5zaGFwZVtpXSk7XG4gICAgICB9XG4gICAgICB0aWxlU2hhcGUucHVzaCgxKTtcbiAgICB9XG5cbiAgICBjb25zdCB4TWludXNNZWFuID0gc3ViKHgsIG1lYW4pO1xuICAgIGNvbnN0IGR5VGltZXNTY2FsZVZhbHVlID0gbXVsKGR5LCBzY2FsZVZhbHVlKTtcbiAgICBjb25zdCBvbmVPdmVyU3FydFZhcmlhbmNlID0gcnNxcnQoYWRkKHZhcmlhbmNlLCBzY2FsYXIodmFyaWFuY2VFcHNpbG9uKSkpO1xuICAgIGNvbnN0IG1pbnVzSGFsZlJDdWJlID0gbXVsKFxuICAgICAgICBtdWwobXVsKG9uZU92ZXJTcXJ0VmFyaWFuY2UsIG9uZU92ZXJTcXJ0VmFyaWFuY2UpLCBvbmVPdmVyU3FydFZhcmlhbmNlKSxcbiAgICAgICAgc2NhbGFyKC0wLjUpKTtcblxuICAgIGNvbnN0IGRlclggPSAoKSA9PiB7XG4gICAgICBpZiAobWVhbi5yYW5rID09PSAxKSB7XG4gICAgICAgIHJldHVybiByZXNoYXBlKFxuICAgICAgICAgICAgbXVsKG11bChkeSxcbiAgICAgICAgICAgICAgICAgICAgdGlsZShcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc2hhcGUob25lT3ZlclNxcnRWYXJpYW5jZSwgWzEsIDEsIDEsIG1lYW4uc2hhcGVbMF1dKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpbGVTaGFwZSkpLFxuICAgICAgICAgICAgICAgIHNjYWxlVmFsdWUpLFxuICAgICAgICAgICAgeC5zaGFwZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gcmVzaGFwZShtdWwobXVsKGR5LCBvbmVPdmVyU3FydFZhcmlhbmNlKSwgc2NhbGVWYWx1ZSksIHguc2hhcGUpO1xuICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgZGVyTWVhbiA9ICgpID0+IHtcbiAgICAgIGxldCBtZWFuRGVyID1cbiAgICAgICAgICBtdWwobXVsKG9uZU92ZXJTcXJ0VmFyaWFuY2UsIHNjYWxhcigtMSkpLCBkeVRpbWVzU2NhbGVWYWx1ZSk7XG4gICAgICBpZiAobWVhbi5yYW5rID09PSAxKSB7XG4gICAgICAgIG1lYW5EZXIgPSBzdW0obWVhbkRlciwgcmVkdWN0aW9uQXhlcyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzaGFwZShtZWFuRGVyLCBtZWFuLnNoYXBlIGFzIFNoYXBlTWFwW1JdKTtcbiAgICB9O1xuICAgIGNvbnN0IGRlclZhcmlhbmNlID0gKCkgPT4ge1xuICAgICAgbGV0IHZhcmlhbmNlRGVyID0gbXVsKG11bChtaW51c0hhbGZSQ3ViZSwgeE1pbnVzTWVhbiksIGR5VGltZXNTY2FsZVZhbHVlKTtcblxuICAgICAgaWYgKG1lYW4ucmFuayA9PT0gMSkge1xuICAgICAgICB2YXJpYW5jZURlciA9IHN1bSh2YXJpYW5jZURlciwgcmVkdWN0aW9uQXhlcyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzaGFwZSh2YXJpYW5jZURlciwgbWVhbi5zaGFwZSBhcyBTaGFwZU1hcFtSXSk7XG4gICAgfTtcbiAgICBjb25zdCBkZXJTY2FsZSA9ICgpID0+IHtcbiAgICAgIGNvbnN0IHhNaW51c01lYW4yVGltZXNSc3FydCA9IG11bCh4TWludXNNZWFuLCBvbmVPdmVyU3FydFZhcmlhbmNlKTtcblxuICAgICAgbGV0IHNjYWxlRGVyID0gbXVsKGR5LCB4TWludXNNZWFuMlRpbWVzUnNxcnQpO1xuICAgICAgaWYgKG1lYW4ucmFuayA9PT0gMSkge1xuICAgICAgICBzY2FsZURlciA9IHN1bShzY2FsZURlciwgcmVkdWN0aW9uQXhlcyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzaGFwZShzY2FsZURlciwgbWVhbi5zaGFwZSBhcyBTaGFwZU1hcFtSXSk7XG4gICAgfTtcbiAgICBjb25zdCBkZXJPZmZzZXQgPSAoKSA9PiB7XG4gICAgICBsZXQgb2Zmc2V0RGVyID0gZHk7XG4gICAgICBpZiAobWVhbi5yYW5rID09PSAxKSB7XG4gICAgICAgIG9mZnNldERlciA9IHN1bShvZmZzZXREZXIsIHJlZHVjdGlvbkF4ZXMpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc2hhcGUob2Zmc2V0RGVyLCBtZWFuLnNoYXBlIGFzIFNoYXBlTWFwW1JdKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIHg6IGRlclgsXG4gICAgICBtZWFuOiBkZXJNZWFuLFxuICAgICAgdmFyaWFuY2U6IGRlclZhcmlhbmNlLFxuICAgICAgc2NhbGU6IGRlclNjYWxlLFxuICAgICAgb2Zmc2V0OiBkZXJPZmZzZXRcbiAgICB9O1xuICB9XG59O1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG5pbXBvcnQge0dhdGhlclYyLCBHYXRoZXJWMkF0dHJzfSBmcm9tICcuLi9rZXJuZWxfbmFtZXMnO1xuaW1wb3J0IHtHcmFkQ29uZmlnLCBOYW1lZEF0dHJNYXB9IGZyb20gJy4uL2tlcm5lbF9yZWdpc3RyeSc7XG5pbXBvcnQge2dldFVuZG9BeGVzUGVybXV0YXRpb259IGZyb20gJy4uL29wcy9heGlzX3V0aWwnO1xuaW1wb3J0IHtyZXNoYXBlfSBmcm9tICcuLi9vcHMvcmVzaGFwZSc7XG5pbXBvcnQge3RyYW5zcG9zZX0gZnJvbSAnLi4vb3BzL3RyYW5zcG9zZSc7XG5pbXBvcnQge3Vuc29ydGVkU2VnbWVudFN1bX0gZnJvbSAnLi4vb3BzL3Vuc29ydGVkX3NlZ21lbnRfc3VtJztcbmltcG9ydCB7VGVuc29yLCBUZW5zb3IxRH0gZnJvbSAnLi4vdGVuc29yJztcbmltcG9ydCB7cGFyc2VBeGlzUGFyYW19IGZyb20gJy4uL3V0aWwnO1xuXG5leHBvcnQgY29uc3QgZ2F0aGVyR3JhZENvbmZpZzogR3JhZENvbmZpZyA9IHtcbiAga2VybmVsTmFtZTogR2F0aGVyVjIsXG4gIGlucHV0c1RvU2F2ZTogWyd4JywgJ2luZGljZXMnXSxcbiAgZ3JhZEZ1bmM6IChkeTogVGVuc29yLCBzYXZlZDogVGVuc29yW10sIGF0dHJzOiBOYW1lZEF0dHJNYXApID0+IHtcbiAgICBjb25zdCBbeCwgaW5kaWNlc10gPSBzYXZlZDtcbiAgICBjb25zdCB7YXhpc30gPSBhdHRycyBhcyB7fSBhcyBHYXRoZXJWMkF0dHJzO1xuXG4gICAgY29uc3QgcGFyc2VkQXhpcyA9IHBhcnNlQXhpc1BhcmFtKGF4aXMsIHguc2hhcGUpWzBdO1xuXG4gICAgY29uc3QgZGVyWCA9ICgpID0+IHtcbiAgICAgIGNvbnN0IHBhcmFtc1NoYXBlID0geC5zaGFwZTtcbiAgICAgIGNvbnN0IGluZGljZXNTaXplID0gaW5kaWNlcy5zaXplO1xuXG4gICAgICBjb25zdCBvdXRlclNoYXBlID0gcGFyYW1zU2hhcGUuc2xpY2UoMCwgcGFyc2VkQXhpcyk7XG4gICAgICBjb25zdCBvdXRlckRpbXMgPSBvdXRlclNoYXBlLmxlbmd0aDtcbiAgICAgIGNvbnN0IGlubmVyU2hhcGUgPSBwYXJhbXNTaGFwZS5zbGljZShheGlzLCBwYXJhbXNTaGFwZS5sZW5ndGgpLnNsaWNlKDEpO1xuICAgICAgY29uc3QgaW5uZXJEaW1zID0gaW5uZXJTaGFwZS5sZW5ndGg7XG5cbiAgICAgIGNvbnN0IG91dGVyQXhlc0luZGljZXMgPSBhcnJheVJhbmdlKDAsIG91dGVyRGltcyk7XG4gICAgICBjb25zdCBpbm5lckF4ZXNJbmRpY2VzID1cbiAgICAgICAgICBhcnJheVJhbmdlKG91dGVyRGltcyArIDEsIG91dGVyRGltcyArIDEgKyBpbm5lckRpbXMpO1xuXG4gICAgICBjb25zdCB2YWx1ZXNTaGFwZSA9IGFycmF5Q29uY2F0KFtvdXRlclNoYXBlLCBbaW5kaWNlc1NpemVdLCBpbm5lclNoYXBlXSk7XG5cbiAgICAgIGNvbnN0IHZhbHVlcyA9IHJlc2hhcGUoZHksIHZhbHVlc1NoYXBlKTtcbiAgICAgIGNvbnN0IHJlc2hhcGVkSW5kaWNlcyA9IHJlc2hhcGUoaW5kaWNlcywgW2luZGljZXNTaXplXSk7XG5cbiAgICAgIGNvbnN0IHRyYW5zcG9zZURpbXMgPVxuICAgICAgICAgIGFycmF5Q29uY2F0KFtbb3V0ZXJEaW1zXSwgb3V0ZXJBeGVzSW5kaWNlcywgaW5uZXJBeGVzSW5kaWNlc10pO1xuICAgICAgY29uc3QgdmFsdWVzVHJhbnNwb3NlID0gdHJhbnNwb3NlKHZhbHVlcywgdHJhbnNwb3NlRGltcyk7XG4gICAgICBsZXQgcGFyYW1zR3JhZCA9IHVuc29ydGVkU2VnbWVudFN1bShcbiAgICAgICAgICB2YWx1ZXNUcmFuc3Bvc2UsIHJlc2hhcGVkSW5kaWNlcyBhcyBUZW5zb3IxRCwgeC5zaGFwZVtwYXJzZWRBeGlzXSk7XG5cbiAgICAgIGNvbnN0IGludmVydFRyYW5zcG9zZURpbXMgPSBnZXRVbmRvQXhlc1Blcm11dGF0aW9uKHRyYW5zcG9zZURpbXMpO1xuICAgICAgcGFyYW1zR3JhZCA9IHRyYW5zcG9zZShwYXJhbXNHcmFkLCBpbnZlcnRUcmFuc3Bvc2VEaW1zKTtcblxuICAgICAgcmV0dXJuIHBhcmFtc0dyYWQ7XG4gICAgfTtcbiAgICByZXR1cm4ge3g6IGRlclgsIGluZGljZXM6ICgpID0+IGluZGljZXN9O1xuICB9XG59O1xuXG5mdW5jdGlvbiBhcnJheVJhbmdlKHN0YXJ0OiBudW1iZXIsIHN0b3A6IG51bWJlcik6IG51bWJlcltdIHtcbiAgY29uc3QgcmVzdWx0ID0gW107XG4gIGZvciAobGV0IGkgPSBzdGFydDsgaSA8IHN0b3A7ICsraSkge1xuICAgIHJlc3VsdC5wdXNoKGkpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmZ1bmN0aW9uIGFycmF5Q29uY2F0KGFycmF5czogbnVtYmVyW11bXSk6IG51bWJlcltdIHtcbiAgY29uc3QgcmVzdWx0ID0gW107XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyYXlzLmxlbmd0aDsgKytpKSB7XG4gICAgZm9yIChsZXQgaiA9IDA7IGogPCBhcnJheXNbaV0ubGVuZ3RoOyArK2opIHtcbiAgICAgIHJlc3VsdC5wdXNoKGFycmF5c1tpXVtqXSk7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5pbXBvcnQge0dyZWF0ZXJFcXVhbH0gZnJvbSAnLi4va2VybmVsX25hbWVzJztcbmltcG9ydCB7R3JhZENvbmZpZ30gZnJvbSAnLi4va2VybmVsX3JlZ2lzdHJ5JztcbmltcG9ydCB7emVyb3NMaWtlfSBmcm9tICcuLi9vcHMvemVyb3NfbGlrZSc7XG5pbXBvcnQge1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yJztcblxuZXhwb3J0IGNvbnN0IGdyZWF0ZXJFcXVhbEdyYWRDb25maWc6IEdyYWRDb25maWcgPSB7XG4gIGtlcm5lbE5hbWU6IEdyZWF0ZXJFcXVhbCxcbiAgaW5wdXRzVG9TYXZlOiBbJ2EnLCAnYiddLFxuICBncmFkRnVuYzogKGR5OiBUZW5zb3IsIHNhdmVkOiBUZW5zb3JbXSkgPT4ge1xuICAgIGNvbnN0IFthLCBiXSA9IHNhdmVkO1xuICAgIHJldHVybiB7YTogKCkgPT4gemVyb3NMaWtlKGEpLCBiOiAoKSA9PiB6ZXJvc0xpa2UoYil9O1xuICB9XG59O1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG5pbXBvcnQge0lkZW50aXR5fSBmcm9tICcuLi9rZXJuZWxfbmFtZXMnO1xuaW1wb3J0IHtHcmFkQ29uZmlnfSBmcm9tICcuLi9rZXJuZWxfcmVnaXN0cnknO1xuaW1wb3J0IHtjYXN0fSBmcm9tICcuLi9vcHMvY2FzdCc7XG5pbXBvcnQge1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yJztcblxuZXhwb3J0IGNvbnN0IGlkZW50aXR5R3JhZENvbmZpZzogR3JhZENvbmZpZyA9IHtcbiAga2VybmVsTmFtZTogSWRlbnRpdHksXG4gIGdyYWRGdW5jOiAoZHk6IFRlbnNvcikgPT4ge1xuICAgIHJldHVybiB7eDogKCkgPT4gY2FzdChkeSwgJ2Zsb2F0MzInKX07XG4gIH1cbn07XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbmltcG9ydCB7SXNGaW5pdGV9IGZyb20gJy4uL2tlcm5lbF9uYW1lcyc7XG5pbXBvcnQge0dyYWRDb25maWd9IGZyb20gJy4uL2tlcm5lbF9yZWdpc3RyeSc7XG5pbXBvcnQge3plcm9zTGlrZX0gZnJvbSAnLi4vb3BzL3plcm9zX2xpa2UnO1xuaW1wb3J0IHtUZW5zb3J9IGZyb20gJy4uL3RlbnNvcic7XG5cbmV4cG9ydCBjb25zdCBpc0Zpbml0ZUdyYWRDb25maWc6IEdyYWRDb25maWcgPSB7XG4gIGtlcm5lbE5hbWU6IElzRmluaXRlLFxuICBncmFkRnVuYzogKGR5OiBUZW5zb3IpID0+IHtcbiAgICAvLyBUT0RPKG5zdGhvcmF0KTogTGV0IGdyYWRpZW50cyBiZSBudWxsIGZvciBjYXNlcyB3aGVyZSB3ZSB3YW50IHRvIHN0b3BcbiAgICAvLyBiYWNrcHJvcGdhdGlvbi5cbiAgICByZXR1cm4ge3g6ICgpID0+IHplcm9zTGlrZShkeSl9O1xuICB9XG59O1xuIiwiXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbmltcG9ydCB7SXNJbmZ9IGZyb20gJy4uL2tlcm5lbF9uYW1lcyc7XG5pbXBvcnQge0dyYWRDb25maWd9IGZyb20gJy4uL2tlcm5lbF9yZWdpc3RyeSc7XG5pbXBvcnQge3plcm9zTGlrZX0gZnJvbSAnLi4vb3BzL3plcm9zX2xpa2UnO1xuaW1wb3J0IHtUZW5zb3J9IGZyb20gJy4uL3RlbnNvcic7XG5cbmV4cG9ydCBjb25zdCBpc0luZkdyYWRDb25maWc6IEdyYWRDb25maWcgPSB7XG4gIGtlcm5lbE5hbWU6IElzSW5mLFxuICBncmFkRnVuYzogKGR5OiBUZW5zb3IpID0+IHtcbiAgICAvLyBUT0RPKG5zdGhvcmF0KTogTGV0IGdyYWRpZW50cyBiZSBudWxsIGZvciBjYXNlcyB3aGVyZSB3ZSB3YW50IHRvIHN0b3BcbiAgICAvLyBiYWNrcHJvcGdhdGlvbi5cbiAgICByZXR1cm4ge3g6ICgpID0+IHplcm9zTGlrZShkeSl9O1xuICB9XG59O1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG5pbXBvcnQge0lzTmFufSBmcm9tICcuLi9rZXJuZWxfbmFtZXMnO1xuaW1wb3J0IHtHcmFkQ29uZmlnfSBmcm9tICcuLi9rZXJuZWxfcmVnaXN0cnknO1xuaW1wb3J0IHt6ZXJvc0xpa2V9IGZyb20gJy4uL29wcy96ZXJvc19saWtlJztcbmltcG9ydCB7VGVuc29yfSBmcm9tICcuLi90ZW5zb3InO1xuXG5leHBvcnQgY29uc3QgaXNOYW5HcmFkQ29uZmlnOiBHcmFkQ29uZmlnID0ge1xuICBrZXJuZWxOYW1lOiBJc05hbixcbiAgZ3JhZEZ1bmM6IChkeTogVGVuc29yKSA9PiB7XG4gICAgLy8gVE9ETyhuc3Rob3JhdCk6IExldCBncmFkaWVudHMgYmUgbnVsbCBmb3IgY2FzZXMgd2hlcmUgd2Ugd2FudCB0byBzdG9wXG4gICAgLy8gYmFja3Byb3BnYXRpb24uXG4gICAgcmV0dXJuIHt4OiAoKSA9PiB6ZXJvc0xpa2UoZHkpfTtcbiAgfVxufTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuaW1wb3J0IHtMb2cxcH0gZnJvbSAnLi4va2VybmVsX25hbWVzJztcbmltcG9ydCB7R3JhZENvbmZpZ30gZnJvbSAnLi4va2VybmVsX3JlZ2lzdHJ5JztcbmltcG9ydCB7YWRkfSBmcm9tICcuLi9vcHMvYWRkJztcbmltcG9ydCB7ZGl2fSBmcm9tICcuLi9vcHMvZGl2JztcbmltcG9ydCB7VGVuc29yfSBmcm9tICcuLi90ZW5zb3InO1xuXG5leHBvcnQgY29uc3QgbG9nMXBHcmFkQ29uZmlnOiBHcmFkQ29uZmlnID0ge1xuICBrZXJuZWxOYW1lOiBMb2cxcCxcbiAgaW5wdXRzVG9TYXZlOiBbJ3gnXSxcbiAgZ3JhZEZ1bmM6IChkeTogVGVuc29yLCBzYXZlZDogVGVuc29yW10pID0+IHtcbiAgICBjb25zdCBbeF0gPSBzYXZlZDtcbiAgICByZXR1cm4ge3g6ICgpID0+IGRpdihkeSwgYWRkKHgsIDEpKX07XG4gIH1cbn07XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbmltcG9ydCB7TG9nfSBmcm9tICcuLi9rZXJuZWxfbmFtZXMnO1xuaW1wb3J0IHtHcmFkQ29uZmlnfSBmcm9tICcuLi9rZXJuZWxfcmVnaXN0cnknO1xuaW1wb3J0IHtjYXN0fSBmcm9tICcuLi9vcHMvY2FzdCc7XG5pbXBvcnQge2Rpdn0gZnJvbSAnLi4vb3BzL2Rpdic7XG5pbXBvcnQge1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yJztcblxuZXhwb3J0IGNvbnN0IGxvZ0dyYWRDb25maWc6IEdyYWRDb25maWcgPSB7XG4gIGtlcm5lbE5hbWU6IExvZyxcbiAgaW5wdXRzVG9TYXZlOiBbJ3gnXSxcbiAgZ3JhZEZ1bmM6IChkeTogVGVuc29yLCBzYXZlZDogVGVuc29yW10pID0+IHtcbiAgICBjb25zdCBbeF0gPSBzYXZlZDtcbiAgICByZXR1cm4ge3g6ICgpID0+IGRpdihkeSwgY2FzdCh4LCAnZmxvYXQzMicpKX07XG4gIH1cbn07XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbmltcG9ydCB7TG9nU29mdG1heCwgTG9nU29mdG1heEF0dHJzfSBmcm9tICcuLi9rZXJuZWxfbmFtZXMnO1xuaW1wb3J0IHtHcmFkQ29uZmlnLCBOYW1lZEF0dHJNYXB9IGZyb20gJy4uL2tlcm5lbF9yZWdpc3RyeSc7XG5pbXBvcnQge2V4cH0gZnJvbSAnLi4vb3BzL2V4cCc7XG5pbXBvcnQge211bH0gZnJvbSAnLi4vb3BzL211bCc7XG5pbXBvcnQge3N1Yn0gZnJvbSAnLi4vb3BzL3N1Yic7XG5pbXBvcnQge3N1bX0gZnJvbSAnLi4vb3BzL3N1bSc7XG5pbXBvcnQge1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yJztcblxuZXhwb3J0IGNvbnN0IGxvZ1NvZnRtYXhHcmFkQ29uZmlnOiBHcmFkQ29uZmlnID0ge1xuICBrZXJuZWxOYW1lOiBMb2dTb2Z0bWF4LFxuICBpbnB1dHNUb1NhdmU6IFtdLFxuICBvdXRwdXRzVG9TYXZlOiBbdHJ1ZV0sXG4gIGdyYWRGdW5jOiAoZHk6IFRlbnNvciwgc2F2ZWQ6IFRlbnNvcltdLCBhdHRyczogTmFtZWRBdHRyTWFwKSA9PiB7XG4gICAgY29uc3QgW3ZhbHVlXSA9IHNhdmVkO1xuICAgIGNvbnN0IHtheGlzfSA9IGF0dHJzIGFzIHt9IGFzIExvZ1NvZnRtYXhBdHRycztcbiAgICByZXR1cm4ge1xuICAgICAgbG9naXRzOiAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGtlZXBEaW1zID0gdHJ1ZTtcbiAgICAgICAgY29uc3Qgc29mdG1heCA9IGV4cCh2YWx1ZSk7XG4gICAgICAgIHJldHVybiBzdWIoZHksIG11bChzdW0oZHksIGF4aXMsIGtlZXBEaW1zKSwgc29mdG1heCkpO1xuICAgICAgfVxuICAgIH07XG4gIH1cbn07XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbmltcG9ydCB7RU5HSU5FLCBGb3J3YXJkRnVuY30gZnJvbSAnLi4vZW5naW5lJztcbmltcG9ydCB7TFJOQmFja3Byb3AsIExSTkJhY2twcm9wQXR0cnMsIExSTkJhY2twcm9wSW5wdXRzfSBmcm9tICcuLi9rZXJuZWxfbmFtZXMnO1xuaW1wb3J0IHtOYW1lZEF0dHJNYXB9IGZyb20gJy4uL2tlcm5lbF9yZWdpc3RyeSc7XG5pbXBvcnQge1RlbnNvciwgVGVuc29yNER9IGZyb20gJy4uL3RlbnNvcic7XG5pbXBvcnQge05hbWVkVGVuc29yTWFwfSBmcm9tICcuLi90ZW5zb3JfdHlwZXMnO1xuXG5pbXBvcnQge29wfSBmcm9tICcuL29wZXJhdGlvbic7XG5cbmZ1bmN0aW9uIGxvY2FsUmVzcG9uc2VOb3JtYWxpemF0aW9uQmFja3Byb3BfPFQgZXh0ZW5kcyBUZW5zb3I0RD4oXG4gICAgeDogVCwgeTogVCwgZHk6IFQsIGRlcHRoUmFkaXVzID0gNSwgYmlhcyA9IDEsIGFscGhhID0gMSwgYmV0YSA9IDAuNSk6IFQge1xuICBjb25zdCBmb3J3YXJkOiBGb3J3YXJkRnVuYzxUZW5zb3I+ID0gYmFja2VuZCA9PlxuICAgICAgYmFja2VuZC5MUk5HcmFkKGR5LCB4LCB5LCBkZXB0aFJhZGl1cywgYmlhcywgYWxwaGEsIGJldGEpO1xuXG4gIGNvbnN0IGlucHV0czogTFJOQmFja3Byb3BJbnB1dHMgPSB7eCwgeSwgZHl9O1xuXG4gIGNvbnN0IGF0dHJzOiBMUk5CYWNrcHJvcEF0dHJzID0ge2RlcHRoUmFkaXVzLCBiaWFzLCBhbHBoYSwgYmV0YX07XG5cbiAgcmV0dXJuIEVOR0lORS5ydW5LZXJuZWxGdW5jKFxuICAgICAgICAgICAgIGZvcndhcmQsIGlucHV0cyBhcyB7fSBhcyBOYW1lZFRlbnNvck1hcCwgbnVsbCAvKiBncmFkICovLFxuICAgICAgICAgICAgIExSTkJhY2twcm9wLCBhdHRycyBhcyB7fSBhcyBOYW1lZEF0dHJNYXApIGFzIFQ7XG59XG5cbmV4cG9ydCBjb25zdCBsb2NhbFJlc3BvbnNlTm9ybWFsaXphdGlvbkJhY2twcm9wID1cbiAgICBvcCh7bG9jYWxSZXNwb25zZU5vcm1hbGl6YXRpb25CYWNrcHJvcF99KTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cbmltcG9ydCB7TFJOLCBMUk5BdHRyc30gZnJvbSAnLi4va2VybmVsX25hbWVzJztcbmltcG9ydCB7R3JhZENvbmZpZywgTmFtZWRBdHRyTWFwfSBmcm9tICcuLi9rZXJuZWxfcmVnaXN0cnknO1xuaW1wb3J0IHtsb2NhbFJlc3BvbnNlTm9ybWFsaXphdGlvbkJhY2twcm9wfSBmcm9tICcuLi9vcHMvbG9jYWxfcmVzcG9uc2Vfbm9ybWFsaXphdGlvbl9iYWNrcHJvcCc7XG5pbXBvcnQge1RlbnNvciwgVGVuc29yNER9IGZyb20gJy4uL3RlbnNvcic7XG5cbmV4cG9ydCBjb25zdCBscm5HcmFkQ29uZmlnOiBHcmFkQ29uZmlnID0ge1xuICBrZXJuZWxOYW1lOiBMUk4sXG4gIGlucHV0c1RvU2F2ZTogWyd4J10sXG4gIG91dHB1dHNUb1NhdmU6IFt0cnVlXSxcbiAgZ3JhZEZ1bmM6IChkeTogVGVuc29yNEQsIHNhdmVkOiBUZW5zb3JbXSwgYXR0cnM6IE5hbWVkQXR0ck1hcCkgPT4ge1xuICAgIGNvbnN0IFt4LCB5XSA9IHNhdmVkIGFzIFtUZW5zb3I0RCwgVGVuc29yNERdO1xuICAgIGNvbnN0IHtkZXB0aFJhZGl1cywgYmlhcywgYWxwaGEsIGJldGF9ID0gYXR0cnMgYXMge30gYXMgTFJOQXR0cnM7XG5cbiAgICByZXR1cm4ge1xuICAgICAgeDogKCkgPT4gbG9jYWxSZXNwb25zZU5vcm1hbGl6YXRpb25CYWNrcHJvcChcbiAgICAgICAgICB4LCB5LCBkeSwgZGVwdGhSYWRpdXMsIGJpYXMsIGFscGhhLCBiZXRhKVxuICAgIH07XG4gIH1cbn07XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbmltcG9ydCAqIGFzIGF4aXNfdXRpbCBmcm9tICcuLi9vcHMvYXhpc191dGlsJztcbmltcG9ydCB7Y2FzdH0gZnJvbSAnLi4vb3BzL2Nhc3QnO1xuaW1wb3J0IHtlcXVhbH0gZnJvbSAnLi4vb3BzL2VxdWFsJztcbmltcG9ydCB7bXVsfSBmcm9tICcuLi9vcHMvbXVsJztcbmltcG9ydCB7cmVzaGFwZX0gZnJvbSAnLi4vb3BzL3Jlc2hhcGUnO1xuaW1wb3J0IHt0cmFuc3Bvc2V9IGZyb20gJy4uL29wcy90cmFuc3Bvc2UnO1xuaW1wb3J0IHtUZW5zb3J9IGZyb20gJy4uL3RlbnNvcic7XG5cbi8qKlxuICogR3JhZGllbnQgaGVscGVyIGZ1bmN0aW9uIGZvciB0aGUgbWluIGFuZCBtYXggb3BlcmF0aW9ucy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdyYWRGb3JNaW5BbmRNYXg8VCBleHRlbmRzIFRlbnNvcj4oXG4gICAgZHk6IFQsIHk6IFQsIHhPcmlnOiBUZW5zb3IsIG9yaWdBeGVzOiBudW1iZXJbXSwgcGVybXV0ZWRBeGVzOiBudW1iZXJbXSkge1xuICBpZiAoeS5yYW5rIDwgeE9yaWcucmFuaykge1xuICAgIHkgPSByZXNoYXBlKHksIGF4aXNfdXRpbC5leHBhbmRTaGFwZVRvS2VlcERpbSh5LnNoYXBlLCBvcmlnQXhlcykpIGFzIFQ7XG4gIH1cbiAgaWYgKGR5LnJhbmsgPCB4T3JpZy5yYW5rKSB7XG4gICAgZHkgPSByZXNoYXBlKGR5LCBheGlzX3V0aWwuZXhwYW5kU2hhcGVUb0tlZXBEaW0oZHkuc2hhcGUsIG9yaWdBeGVzKSkgYXMgVDtcbiAgfVxuICByZXR1cm4ge1xuICAgIHg6ICgpID0+IHtcbiAgICAgIGNvbnN0IGR4ID0gbXVsKGR5LCBjYXN0KGVxdWFsKHhPcmlnLCB5KSwgZHkuZHR5cGUpKTtcbiAgICAgIHJldHVybiBwZXJtdXRlZEF4ZXMgPT0gbnVsbCA/IGR4IDogdHJhbnNwb3NlKGR4LCBwZXJtdXRlZEF4ZXMpO1xuICAgIH1cbiAgfTtcbn1cbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuaW1wb3J0IHtNYXgsIE1heEF0dHJzfSBmcm9tICcuLi9rZXJuZWxfbmFtZXMnO1xuaW1wb3J0IHtHcmFkQ29uZmlnLCBOYW1lZEF0dHJNYXB9IGZyb20gJy4uL2tlcm5lbF9yZWdpc3RyeSc7XG5pbXBvcnQgKiBhcyBheGlzX3V0aWwgZnJvbSAnLi4vb3BzL2F4aXNfdXRpbCc7XG5pbXBvcnQge3RyYW5zcG9zZX0gZnJvbSAnLi4vb3BzL3RyYW5zcG9zZSc7XG5pbXBvcnQge1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yJztcbmltcG9ydCAqIGFzIHV0aWwgZnJvbSAnLi4vdXRpbCc7XG5cbmltcG9ydCB7Z3JhZEZvck1pbkFuZE1heH0gZnJvbSAnLi9taW5fbWF4X2dyYWRfdXRpbCc7XG5cbmV4cG9ydCBjb25zdCBtYXhHcmFkQ29uZmlnOiBHcmFkQ29uZmlnID0ge1xuICBrZXJuZWxOYW1lOiBNYXgsXG4gIGlucHV0c1RvU2F2ZTogWyd4J10sXG4gIG91dHB1dHNUb1NhdmU6IFt0cnVlXSxcbiAgZ3JhZEZ1bmM6IChkeTogVGVuc29yLCBzYXZlZDogVGVuc29yW10sIGF0dHJzOiBOYW1lZEF0dHJNYXApID0+IHtcbiAgICBjb25zdCBtYXhBdHRyczogTWF4QXR0cnMgPSBhdHRycyBhcyB7fSBhcyBNYXhBdHRycztcbiAgICBjb25zdCB7cmVkdWN0aW9uSW5kaWNlc30gPSBtYXhBdHRycztcbiAgICBjb25zdCBbeCwgeV0gPSBzYXZlZDtcbiAgICBjb25zdCBvcmlnQXhlcyA9IHV0aWwucGFyc2VBeGlzUGFyYW0ocmVkdWN0aW9uSW5kaWNlcywgeC5zaGFwZSk7XG4gICAgY29uc3QgcGVybXV0ZWRBeGVzID0gYXhpc191dGlsLmdldEF4ZXNQZXJtdXRhdGlvbihvcmlnQXhlcywgeC5yYW5rKTtcbiAgICBjb25zdCBtYXhHcmFkID0gZ3JhZEZvck1pbkFuZE1heChkeSwgeSwgeCwgb3JpZ0F4ZXMsIHBlcm11dGVkQXhlcyk7XG4gICAgcmV0dXJuIHtcbiAgICAgIHg6ICgpID0+IHtcbiAgICAgICAgbGV0IG91dCA9IG1heEdyYWRbJ3gnXSgpO1xuICAgICAgICBpZiAocGVybXV0ZWRBeGVzICE9IG51bGwpIHtcbiAgICAgICAgICBvdXQgPSB0cmFuc3Bvc2Uob3V0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb3V0O1xuICAgICAgfVxuICAgIH07XG4gIH1cbn07XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbmltcG9ydCB7TWF4aW11bX0gZnJvbSAnLi4va2VybmVsX25hbWVzJztcbmltcG9ydCB7R3JhZENvbmZpZ30gZnJvbSAnLi4va2VybmVsX3JlZ2lzdHJ5JztcbmltcG9ydCB7Y2FzdH0gZnJvbSAnLi4vb3BzL2Nhc3QnO1xuaW1wb3J0IHtncmVhdGVyRXF1YWx9IGZyb20gJy4uL29wcy9ncmVhdGVyX2VxdWFsJztcbmltcG9ydCB7bGVzc30gZnJvbSAnLi4vb3BzL2xlc3MnO1xuaW1wb3J0IHttdWx9IGZyb20gJy4uL29wcy9tdWwnO1xuaW1wb3J0IHtUZW5zb3J9IGZyb20gJy4uL3RlbnNvcic7XG5cbmV4cG9ydCBjb25zdCBtYXhpbXVtR3JhZENvbmZpZzogR3JhZENvbmZpZyA9IHtcbiAga2VybmVsTmFtZTogTWF4aW11bSxcbiAgaW5wdXRzVG9TYXZlOiBbJ2EnLCAnYiddLFxuICBncmFkRnVuYzogKGR5OiBUZW5zb3IsIHNhdmVkOiBUZW5zb3JbXSkgPT4ge1xuICAgIGNvbnN0IFthLCBiXSA9IHNhdmVkO1xuICAgIGNvbnN0IGRlckEgPSAoKSA9PiBtdWwoZHksIGNhc3QoZ3JlYXRlckVxdWFsKGEsIGIpLCAnZmxvYXQzMicpKTtcbiAgICBjb25zdCBkZXJCID0gKCkgPT4gbXVsKGR5LCBjYXN0KGxlc3MoYSwgYiksICdmbG9hdDMyJykpO1xuICAgIHJldHVybiB7YTogZGVyQSwgYjogZGVyQn07XG4gIH1cbn07XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbmltcG9ydCB7RU5HSU5FLCBGb3J3YXJkRnVuY30gZnJvbSAnLi4vZW5naW5lJztcbmltcG9ydCB7TWF4UG9vbDNEQmFja3Byb3AsIE1heFBvb2wzREJhY2twcm9wQXR0cnMsIE1heFBvb2wzREJhY2twcm9wSW5wdXRzfSBmcm9tICcuLi9rZXJuZWxfbmFtZXMnO1xuaW1wb3J0IHtOYW1lZEF0dHJNYXB9IGZyb20gJy4uL2tlcm5lbF9yZWdpc3RyeSc7XG5pbXBvcnQge1RlbnNvciwgVGVuc29yNEQsIFRlbnNvcjVEfSBmcm9tICcuLi90ZW5zb3InO1xuaW1wb3J0IHtOYW1lZFRlbnNvck1hcH0gZnJvbSAnLi4vdGVuc29yX3R5cGVzJztcbmltcG9ydCB7Y29udmVydFRvVGVuc29yfSBmcm9tICcuLi90ZW5zb3JfdXRpbF9lbnYnO1xuaW1wb3J0IHtUZW5zb3JMaWtlfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgKiBhcyB1dGlsIGZyb20gJy4uL3V0aWwnO1xuXG5pbXBvcnQgKiBhcyBjb252X3V0aWwgZnJvbSAnLi9jb252X3V0aWwnO1xuaW1wb3J0IHtvcH0gZnJvbSAnLi9vcGVyYXRpb24nO1xuaW1wb3J0IHtyZXNoYXBlfSBmcm9tICcuL3Jlc2hhcGUnO1xuXG4vKipcbiAqIENvbXB1dGVzIHRoZSBiYWNrcHJvcCBvZiBhIDNkIG1heCBwb29sLlxuICpcbiAqIEBwYXJhbSBkeSBUaGUgZHkgZXJyb3IsIG9mIHJhbmsgNSBvZiBzaGFwZVxuICogICAgIFtiYXRjaFNpemUsIGRlcHRoLCBoZWlnaHQsIHdpZHRoLCBjaGFubmVsc10uXG4gKiBhc3N1bWVkLlxuICogQHBhcmFtIGlucHV0IFRoZSBvcmlnaW5hbCBpbnB1dCBpbWFnZSwgb2YgcmFuayA1IG9yIHJhbmsgNCBvZiBzaGFwZVxuICogICAgIFtiYXRjaFNpemUsIGRlcHRoLCBoZWlnaHQsIHdpZHRoLCBjaGFubmVsc10uXG4gKiBAcGFyYW0gb3V0cHV0IFRoZSBvcmlnaW5hbCBvdXRwdXQgaW1hZ2UsIG9mIHJhbmsgNSBvZiBzaGFwZVxuICogICAgIFtiYXRjaFNpemUsIG91dERlcHRoLCBvdXRIZWlnaHQsIG91dFdpZHRoLCBjaGFubmVsc10uXG4gKiBAcGFyYW0gZmlsdGVyU2l6ZSBUaGUgZmlsdGVyIHNpemU6XG4gKiAgICAgYFtmaWx0ZXJEZXB0aCwgZmlsdGVySGVpZ2h0LCBmaWx0ZXJXaWR0aF1gLlxuICogICAgIGBmaWx0ZXJTaXplYCBpcyBhIHNpbmdsZSBudW1iZXIsXG4gKiAgICAgdGhlbiBgZmlsdGVyRGVwdGggPT0gZmlsdGVySGVpZ2h0ID09IGZpbHRlcldpZHRoYC5cbiAqIEBwYXJhbSBzdHJpZGVzIFRoZSBzdHJpZGVzIG9mIHRoZSBwb29saW5nOlxuICogICAgIGBbc3RyaWRlRGVwdGgsIHN0cmlkZUhlaWdodCwgc3RyaWRlV2lkdGhdYC4gSWZcbiAqICAgICBgc3RyaWRlc2AgaXMgYSBzaW5nbGUgbnVtYmVyLCB0aGVuIGBzdHJpZGVIZWlnaHQgPT0gc3RyaWRlV2lkdGhgLlxuICogQHBhcmFtIGRpbGF0aW9ucyBEZXByZWNhdGVkLCB0aGlzIGZpZWxkIHdpbGwgYmUgZ29uZSBpbiB2My4wLjAuXG4gKiAgICAgVGhlIGRpbGF0aW9uIHJhdGVzOiBgW2RpbGF0aW9uRGVwdGgsIGRpbGF0aW9uSGVpZ2h0LCBkaWxhdGlvbldpZHRoXWBcbiAqICAgICBpbiB3aGljaCB3ZSBzYW1wbGUgaW5wdXQgdmFsdWVzIGFjcm9zcyB0aGUgZGVwdGgsIGhlaWdodCBhbmQgd2lkdGhcbiAqICAgICBkaW1lbnNpb25zIGluIGRpbGF0ZWQgcG9vbGluZy5cbiAqICAgICBEZWZhdWx0cyB0byBgWzEsIDEsIDFdYC4gSWYgYGRpbGF0aW9uc2AgaXMgYSBzaW5nbGUgbnVtYmVyLFxuICogICAgIHRoZW4gYGRpbGF0aW9uRGVwdGggPT0gZGlsYXRpb25IZWlnaHQgPT0gZGlsYXRpb25XaWR0aGAuXG4gKiAgICAgSWYgaXQgaXMgZ3JlYXRlciB0aGFuIDEsIHRoZW4gYWxsIHZhbHVlcyBvZiBgc3RyaWRlc2AgbXVzdCBiZSAxLlxuICogQHBhcmFtIHBhZCBBIHN0cmluZyBmcm9tOiAnc2FtZScsICd2YWxpZCcuIFRoZSB0eXBlIG9mIHBhZGRpbmcgYWxnb3JpdGhtXG4gKiAgICAgdXNlZCBpbiB0aGUgZm9yd2FyZCBwcm9wIG9mIHRoZSBvcC5cbiAqIEBwYXJhbSBkaW1Sb3VuZGluZ01vZGUgQSBzdHJpbmcgZnJvbTogJ2NlaWwnLCAncm91bmQnLCAnZmxvb3InLiBUaGVcbiAqICAgICByb3VuZGluZyBtb2RlIHVzZWQgd2hlbiBjb21wdXRpbmcgb3V0cHV0IGRpbWVuc2lvbnMgaWYgcGFkIGlzIGFcbiAqICAgICBudW1iZXIuIElmIG5vbmUgaXMgcHJvdmlkZWQsIGl0IHdpbGwgbm90IHJvdW5kIGFuZCBlcnJvciBpZiB0aGUgb3V0cHV0XG4gKiAgICAgaXMgb2YgZnJhY3Rpb25hbCBzaXplLlxuICovXG5mdW5jdGlvbiBtYXhQb29sM2RCYWNrcHJvcF88VCBleHRlbmRzIFRlbnNvcjREfFRlbnNvcjVEPihcbiAgICBkeTogVHxUZW5zb3JMaWtlLCBpbnB1dDogVHxUZW5zb3JMaWtlLCBvdXRwdXQ6IFR8VGVuc29yTGlrZSxcbiAgICBmaWx0ZXJTaXplOiBbbnVtYmVyLCBudW1iZXIsIG51bWJlcl18bnVtYmVyLFxuICAgIHN0cmlkZXM6IFtudW1iZXIsIG51bWJlciwgbnVtYmVyXXxudW1iZXIsXG4gICAgZGlsYXRpb25zOiBbbnVtYmVyLCBudW1iZXIsIG51bWJlcl18bnVtYmVyID0gWzEsIDEsIDFdLFxuICAgIHBhZDogJ3ZhbGlkJ3wnc2FtZSd8bnVtYmVyLCBkaW1Sb3VuZGluZ01vZGU/OiAnZmxvb3InfCdyb3VuZCd8J2NlaWwnKTogVCB7XG4gIGNvbnN0ICRkeSA9IGNvbnZlcnRUb1RlbnNvcihkeSwgJ2R5JywgJ21heFBvb2wzZEJhY2twcm9wJyk7XG4gIGNvbnN0ICRpbnB1dCA9IGNvbnZlcnRUb1RlbnNvcihpbnB1dCwgJ2lucHV0JywgJ21heFBvb2wzZEJhY2twcm9wJyk7XG4gIGNvbnN0ICRvdXRwdXQgPSBjb252ZXJ0VG9UZW5zb3Iob3V0cHV0LCAnb3V0cHV0JywgJ21heFBvb2wzZEJhY2twcm9wJyk7XG5cbiAgbGV0IGR5NUQgPSAkZHkgYXMgVGVuc29yNUQ7XG4gIGxldCBpbnB1dDVEID0gJGlucHV0IGFzIFRlbnNvcjVEO1xuICBsZXQgb3V0cHV0NUQgPSAkb3V0cHV0IGFzIFRlbnNvcjVEO1xuICBsZXQgcmVzaGFwZWRUbzVEID0gZmFsc2U7XG5cbiAgaWYgKCRpbnB1dC5yYW5rID09PSA0KSB7XG4gICAgcmVzaGFwZWRUbzVEID0gdHJ1ZTtcbiAgICBkeTVEID0gcmVzaGFwZShcbiAgICAgICAgJGR5LCBbMSwgJGR5LnNoYXBlWzBdLCAkZHkuc2hhcGVbMV0sICRkeS5zaGFwZVsyXSwgJGR5LnNoYXBlWzNdXSk7XG4gICAgaW5wdXQ1RCA9IHJlc2hhcGUoJGlucHV0LCBbXG4gICAgICAxLCAkaW5wdXQuc2hhcGVbMF0sICRpbnB1dC5zaGFwZVsxXSwgJGlucHV0LnNoYXBlWzJdLCAkaW5wdXQuc2hhcGVbM11cbiAgICBdKTtcbiAgICBvdXRwdXQ1RCA9IHJlc2hhcGUoJG91dHB1dCwgW1xuICAgICAgMSwgJG91dHB1dC5zaGFwZVswXSwgJG91dHB1dC5zaGFwZVsxXSwgJG91dHB1dC5zaGFwZVsyXSwgJG91dHB1dC5zaGFwZVszXVxuICAgIF0pO1xuICB9XG5cbiAgdXRpbC5hc3NlcnQoXG4gICAgICBkeTVELnJhbmsgPT09IDUsXG4gICAgICAoKSA9PiBgRXJyb3IgaW4gbWF4UG9vbDNkQmFja3Byb3A6IGR5IG11c3QgYmUgcmFuayA1IGJ1dCBnb3QgcmFuayBgICtcbiAgICAgICAgICBgJHtkeTVELnJhbmt9LmApO1xuICB1dGlsLmFzc2VydChcbiAgICAgIGlucHV0NUQucmFuayA9PT0gNSxcbiAgICAgICgpID0+IGBFcnJvciBpbiBtYXhQb29sM2RCYWNrcHJvcDogaW5wdXQgbXVzdCBiZSByYW5rIDUgYnV0IGdvdCByYW5rIGAgK1xuICAgICAgICAgIGAke2lucHV0NUQucmFua30uYCk7XG4gIHV0aWwuYXNzZXJ0KFxuICAgICAgb3V0cHV0NUQucmFuayA9PT0gNSxcbiAgICAgICgpID0+IGBFcnJvciBpbiBtYXhQb29sM2RCYWNrcHJvcDogb3V0cHV0IG11c3QgYmUgcmFuayA1IGJ1dCBnb3QgcmFuayBgICtcbiAgICAgICAgICBgJHtvdXRwdXQ1RC5yYW5rfS5gKTtcblxuICB1dGlsLmFzc2VydChcbiAgICAgIGNvbnZfdXRpbC5laXRoZXJTdHJpZGVzT3JEaWxhdGlvbnNBcmVPbmUoc3RyaWRlcywgZGlsYXRpb25zKSxcbiAgICAgICgpID0+ICdFcnJvciBpbiBtYXhQb29sM2RCYWNrcHJvcDogRWl0aGVyIHN0cmlkZXMgb3IgZGlsYXRpb25zICcgK1xuICAgICAgICAgIGBtdXN0IGJlIDEuIEdvdCBzdHJpZGVzICR7c3RyaWRlc30gYW5kIGRpbGF0aW9ucyAnJHtkaWxhdGlvbnN9J2ApO1xuICBpZiAoZGltUm91bmRpbmdNb2RlICE9IG51bGwpIHtcbiAgICB1dGlsLmFzc2VydChcbiAgICAgICAgdXRpbC5pc0ludChwYWQgYXMgbnVtYmVyKSxcbiAgICAgICAgKCkgPT4gYEVycm9yIGluIG1heFBvb2wzZEJhY2twcm9wOiBwYWQgbXVzdCBiZSBhbiBpbnRlZ2VyIHdoZW4gYCArXG4gICAgICAgICAgICBgdXNpbmcsIGRpbVJvdW5kaW5nTW9kZSAke2RpbVJvdW5kaW5nTW9kZX0gYnV0IGdvdCBwYWQgJHtwYWR9LmApO1xuICB9XG5cbiAgY29uc3QgZm9yd2FyZDogRm9yd2FyZEZ1bmM8VGVuc29yPiA9IGJhY2tlbmQgPT4ge1xuICAgIGNvbnN0IGNvbnZJbmZvID0gY29udl91dGlsLmNvbXB1dGVQb29sM0RJbmZvKFxuICAgICAgICBpbnB1dDVELnNoYXBlLCBmaWx0ZXJTaXplLCBzdHJpZGVzLCBkaWxhdGlvbnMsIHBhZCwgZGltUm91bmRpbmdNb2RlKTtcblxuICAgIHJldHVybiBiYWNrZW5kLm1heFBvb2wzZEJhY2twcm9wKGR5NUQsIGlucHV0NUQsIG91dHB1dDVELCBjb252SW5mbyk7XG4gIH07XG5cbiAgY29uc3QgaW5wdXRzOlxuICAgICAgTWF4UG9vbDNEQmFja3Byb3BJbnB1dHMgPSB7ZHk6IGR5NUQsIGlucHV0OiBpbnB1dDVELCBvdXRwdXQ6IG91dHB1dDVEfTtcblxuICBjb25zdCBhdHRyczogTWF4UG9vbDNEQmFja3Byb3BBdHRycyA9XG4gICAgICB7ZmlsdGVyU2l6ZSwgc3RyaWRlcywgZGlsYXRpb25zLCBwYWQsIGRpbVJvdW5kaW5nTW9kZX07XG5cbiAgY29uc3QgcmVzID0gRU5HSU5FLnJ1bktlcm5lbEZ1bmMoXG4gICAgICBmb3J3YXJkLCBpbnB1dHMgYXMge30gYXMgTmFtZWRUZW5zb3JNYXAsIG51bGwgLyogZ3JhZCAqLyxcbiAgICAgIE1heFBvb2wzREJhY2twcm9wLCBhdHRycyBhcyB7fSBhcyBOYW1lZEF0dHJNYXApO1xuXG4gIGlmIChyZXNoYXBlZFRvNUQpIHtcbiAgICByZXR1cm4gcmVzaGFwZShcbiAgICAgICAgICAgICAgIHJlcywgW3Jlcy5zaGFwZVsxXSwgcmVzLnNoYXBlWzJdLCByZXMuc2hhcGVbM10sIHJlcy5zaGFwZVs0XV0pIGFzXG4gICAgICAgIFQ7XG4gIH1cblxuICByZXR1cm4gcmVzIGFzIFQ7XG59XG5cbmV4cG9ydCBjb25zdCBtYXhQb29sM2RCYWNrcHJvcCA9IG9wKHttYXhQb29sM2RCYWNrcHJvcF99KTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuaW1wb3J0IHtNYXhQb29sM0QsIE1heFBvb2wzREF0dHJzfSBmcm9tICcuLi9rZXJuZWxfbmFtZXMnO1xuaW1wb3J0IHtHcmFkQ29uZmlnLCBOYW1lZEF0dHJNYXB9IGZyb20gJy4uL2tlcm5lbF9yZWdpc3RyeSc7XG5pbXBvcnQge21heFBvb2wzZEJhY2twcm9wfSBmcm9tICcuLi9vcHMvbWF4X3Bvb2xfM2RfYmFja3Byb3AnO1xuaW1wb3J0IHtUZW5zb3IsIFRlbnNvcjVEfSBmcm9tICcuLi90ZW5zb3InO1xuXG5leHBvcnQgY29uc3QgbWF4UG9vbDNER3JhZENvbmZpZzogR3JhZENvbmZpZyA9IHtcbiAga2VybmVsTmFtZTogTWF4UG9vbDNELFxuICBpbnB1dHNUb1NhdmU6IFsneCddLFxuICBvdXRwdXRzVG9TYXZlOiBbdHJ1ZV0sXG4gIGdyYWRGdW5jOiAoZHk6IFRlbnNvciwgc2F2ZWQ6IFRlbnNvcltdLCBhdHRyczogTmFtZWRBdHRyTWFwKSA9PiB7XG4gICAgY29uc3QgW3gsIHldID0gc2F2ZWQgYXMgW1RlbnNvcjVELCBUZW5zb3I1RF07XG4gICAgY29uc3Qge2ZpbHRlclNpemUsIHN0cmlkZXMsIGRpbGF0aW9ucywgcGFkLCBkaW1Sb3VuZGluZ01vZGV9ID1cbiAgICAgICAgYXR0cnMgYXMge30gYXMgTWF4UG9vbDNEQXR0cnM7XG5cbiAgICBjb25zdCAkZGlsYXRpb25zID1cbiAgICAgICAgZGlsYXRpb25zID09IG51bGwgPyBbMSwgMSwgMV0gYXMgW251bWJlciwgbnVtYmVyLCBudW1iZXJdIDogZGlsYXRpb25zO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIHg6ICgpID0+IG1heFBvb2wzZEJhY2twcm9wKFxuICAgICAgICAgIGR5IGFzIFRlbnNvcjVELCB4LCB5LCBmaWx0ZXJTaXplLCBzdHJpZGVzLCAkZGlsYXRpb25zLCBwYWQsXG4gICAgICAgICAgZGltUm91bmRpbmdNb2RlKVxuICAgIH07XG4gIH1cbn07XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbmltcG9ydCB7RU5HSU5FLCBGb3J3YXJkRnVuY30gZnJvbSAnLi4vZW5naW5lJztcbmltcG9ydCB7TWF4UG9vbEJhY2twcm9wLCBNYXhQb29sQmFja3Byb3BBdHRycywgTWF4UG9vbEJhY2twcm9wSW5wdXRzfSBmcm9tICcuLi9rZXJuZWxfbmFtZXMnO1xuaW1wb3J0IHtOYW1lZEF0dHJNYXB9IGZyb20gJy4uL2tlcm5lbF9yZWdpc3RyeSc7XG5pbXBvcnQge1RlbnNvciwgVGVuc29yNER9IGZyb20gJy4uL3RlbnNvcic7XG5pbXBvcnQge05hbWVkVGVuc29yTWFwfSBmcm9tICcuLi90ZW5zb3JfdHlwZXMnO1xuaW1wb3J0IHtjb252ZXJ0VG9UZW5zb3J9IGZyb20gJy4uL3RlbnNvcl91dGlsX2Vudic7XG5pbXBvcnQge1RlbnNvckxpa2V9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCAqIGFzIHV0aWwgZnJvbSAnLi4vdXRpbCc7XG5cbmltcG9ydCAqIGFzIGNvbnZfdXRpbCBmcm9tICcuL2NvbnZfdXRpbCc7XG5pbXBvcnQge29wfSBmcm9tICcuL29wZXJhdGlvbic7XG5cbi8qKlxuICogQ29tcHV0ZXMgdGhlIGJhY2twcm9wIG9mIGEgMkQgbWF4IHBvb2wuXG4gKlxuICogQHBhcmFtIGR5IFRoZSBkeSBlcnJvciwgb2YgcmFuayA0IG9yIHJhbmsgMyBvZiBzaGFwZVxuICogICAgIFtiYXRjaFNpemUsIGhlaWdodCwgd2lkdGgsIGNoYW5uZWxzXS4gSWYgcmFuayAzLCBiYXRjaCBvZiAxIGlzXG4gKiBhc3N1bWVkLlxuICogQHBhcmFtIGlucHV0IFRoZSBvcmlnaW5hbCBpbnB1dCBpbWFnZSwgb2YgcmFuayA0LCBvZiBzaGFwZVxuICogICAgIFtiYXRjaFNpemUsIGhlaWdodCwgd2lkdGgsIGNoYW5uZWxzXS5cbiAqIEBwYXJhbSBvdXRwdXQgVGhlIG9yaWdpbmFsIG91dHB1dCBpbWFnZSwgb2YgcmFuayA0LCBvZiBzaGFwZVxuICogICAgIFtiYXRjaFNpemUsIG91dEhlaWdodCwgb3V0V2lkdGgsIGNoYW5uZWxzXS5cbiAqIEBwYXJhbSBmaWx0ZXJTaXplIFRoZSBmaWx0ZXIgc2l6ZTogYFtmaWx0ZXJIZWlnaHQsIGZpbHRlcldpZHRoXWAuIElmXG4gKiAgICAgYGZpbHRlclNpemVgIGlzIGEgc2luZ2xlIG51bWJlciwgdGhlbiBgZmlsdGVySGVpZ2h0ID09IGZpbHRlcldpZHRoYC5cbiAqIEBwYXJhbSBzdHJpZGVzIFRoZSBzdHJpZGVzIG9mIHRoZSBwb29saW5nOiBgW3N0cmlkZUhlaWdodCwgc3RyaWRlV2lkdGhdYC4gSWZcbiAqICAgICBgc3RyaWRlc2AgaXMgYSBzaW5nbGUgbnVtYmVyLCB0aGVuIGBzdHJpZGVIZWlnaHQgPT0gc3RyaWRlV2lkdGhgLlxuICogQHBhcmFtIHBhZCBBIHN0cmluZyBmcm9tOiAnc2FtZScsICd2YWxpZCcuIFRoZSB0eXBlIG9mIHBhZGRpbmcgYWxnb3JpdGhtXG4gKiAgICAgdXNlZCBpbiB0aGUgZm9yd2FyZCBwcm9wIG9mIHRoZSBvcC5cbiAqIEBwYXJhbSBkaW1Sb3VuZGluZ01vZGUgQSBzdHJpbmcgZnJvbTogJ2NlaWwnLCAncm91bmQnLCAnZmxvb3InLiBUaGVcbiAqICAgICByb3VuZGluZyBtb2RlIHVzZWQgd2hlbiBjb21wdXRpbmcgb3V0cHV0IGRpbWVuc2lvbnMgaWYgcGFkIGlzIGFcbiAqICAgICBudW1iZXIuIElmIG5vbmUgaXMgcHJvdmlkZWQsIGl0IHdpbGwgbm90IHJvdW5kIGFuZCBlcnJvciBpZiB0aGUgb3V0cHV0XG4gKiAgICAgaXMgb2YgZnJhY3Rpb25hbCBzaXplLlxuICovXG5mdW5jdGlvbiBtYXhQb29sQmFja3Byb3BfKFxuICAgIGR5OiBUZW5zb3I0RHxUZW5zb3JMaWtlLCBpbnB1dDogVGVuc29yNER8VGVuc29yTGlrZSxcbiAgICBvdXRwdXQ6IFRlbnNvcjREfFRlbnNvckxpa2UsIGZpbHRlclNpemU6IFtudW1iZXIsIG51bWJlcl18bnVtYmVyLFxuICAgIHN0cmlkZXM6IFtudW1iZXIsIG51bWJlcl18bnVtYmVyLCBwYWQ6ICd2YWxpZCd8J3NhbWUnfG51bWJlcixcbiAgICBkaW1Sb3VuZGluZ01vZGU/OiAnZmxvb3InfCdyb3VuZCd8J2NlaWwnKTogVGVuc29yNEQge1xuICBjb25zdCAkZHkgPSBjb252ZXJ0VG9UZW5zb3IoZHksICdkeScsICdtYXhQb29sQmFja3Byb3AnKTtcbiAgY29uc3QgJGlucHV0ID0gY29udmVydFRvVGVuc29yKGlucHV0LCAnaW5wdXQnLCAnbWF4UG9vbEJhY2twcm9wJyk7XG4gIGNvbnN0ICRvdXRwdXQgPSBjb252ZXJ0VG9UZW5zb3Iob3V0cHV0LCAnb3V0cHV0JywgJ21heFBvb2xCYWNrcHJvcCcpO1xuXG4gIHV0aWwuYXNzZXJ0KFxuICAgICAgJGlucHV0LnJhbmsgPT09ICRkeS5yYW5rLFxuICAgICAgKCkgPT4gYFJhbmsgb2YgaW5wdXQgKCR7JGlucHV0LnJhbmt9KSBkb2VzIG5vdCBtYXRjaCByYW5rIG9mIGR5IGAgK1xuICAgICAgICAgIGAoJHskZHkucmFua30pYCk7XG5cbiAgdXRpbC5hc3NlcnQoXG4gICAgICAkZHkucmFuayA9PT0gNCxcbiAgICAgICgpID0+IGBFcnJvciBpbiBtYXhQb29sQmFja3Byb3A6IGR5IG11c3QgYmUgcmFuayA0IGJ1dCBnb3QgcmFuayBgICtcbiAgICAgICAgICBgJHskZHkucmFua30uYCk7XG4gIHV0aWwuYXNzZXJ0KFxuICAgICAgJGlucHV0LnJhbmsgPT09IDQsXG4gICAgICAoKSA9PiBgRXJyb3IgaW4gbWF4UG9vbEJhY2twcm9wOiBpbnB1dCBtdXN0IGJlIHJhbmsgNCBidXQgZ290IHJhbmsgYCArXG4gICAgICAgICAgYCR7JGlucHV0LnJhbmt9LmApO1xuICBpZiAoZGltUm91bmRpbmdNb2RlICE9IG51bGwpIHtcbiAgICB1dGlsLmFzc2VydChcbiAgICAgICAgdXRpbC5pc0ludChwYWQgYXMgbnVtYmVyKSxcbiAgICAgICAgKCkgPT4gYEVycm9yIGluIG1heFBvb2xCYWNrcHJvcDogcGFkIG11c3QgYmUgYW4gaW50ZWdlciB3aGVuIHVzaW5nLCBgICtcbiAgICAgICAgICAgIGBkaW1Sb3VuZGluZ01vZGUgJHtkaW1Sb3VuZGluZ01vZGV9IGJ1dCBnb3QgcGFkICR7cGFkfS5gKTtcbiAgfVxuXG4gIGNvbnN0IGZvcndhcmQ6IEZvcndhcmRGdW5jPFRlbnNvcj4gPSBiYWNrZW5kID0+IHtcbiAgICBjb25zdCBjb252SW5mbyA9IGNvbnZfdXRpbC5jb21wdXRlUG9vbDJESW5mbyhcbiAgICAgICAgJGlucHV0LnNoYXBlLCBmaWx0ZXJTaXplLCBzdHJpZGVzLCAxIC8qIGRpbGF0aW9ucyAqLywgcGFkLFxuICAgICAgICBkaW1Sb3VuZGluZ01vZGUpO1xuXG4gICAgcmV0dXJuIGJhY2tlbmQubWF4UG9vbEJhY2twcm9wKCRkeSwgJGlucHV0LCAkb3V0cHV0LCBjb252SW5mbyk7XG4gIH07XG5cbiAgY29uc3QgaW5wdXRzOlxuICAgICAgTWF4UG9vbEJhY2twcm9wSW5wdXRzID0ge2R5OiAkZHksIGlucHV0OiAkaW5wdXQsIG91dHB1dDogJG91dHB1dH07XG5cbiAgY29uc3QgYXR0cnM6XG4gICAgICBNYXhQb29sQmFja3Byb3BBdHRycyA9IHtmaWx0ZXJTaXplLCBzdHJpZGVzLCBwYWQsIGRpbVJvdW5kaW5nTW9kZX07XG5cbiAgcmV0dXJuIEVOR0lORS5ydW5LZXJuZWxGdW5jKFxuICAgICAgICAgICAgIGZvcndhcmQsIGlucHV0cyBhcyB7fSBhcyBOYW1lZFRlbnNvck1hcCwgbnVsbCwgTWF4UG9vbEJhY2twcm9wLFxuICAgICAgICAgICAgIGF0dHJzIGFzIHt9IGFzIE5hbWVkQXR0ck1hcCkgYXMgVGVuc29yNEQ7XG59XG5cbmV4cG9ydCBjb25zdCBtYXhQb29sQmFja3Byb3AgPSBvcCh7bWF4UG9vbEJhY2twcm9wX30pO1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG5pbXBvcnQge1BhZFYyLCBQYWRWMkF0dHJzfSBmcm9tICcuLi9rZXJuZWxfbmFtZXMnO1xuaW1wb3J0IHtHcmFkQ29uZmlnLCBOYW1lZEF0dHJNYXB9IGZyb20gJy4uL2tlcm5lbF9yZWdpc3RyeSc7XG5pbXBvcnQge3NsaWNlfSBmcm9tICcuLi9vcHMvc2xpY2UnO1xuaW1wb3J0IHtUZW5zb3J9IGZyb20gJy4uL3RlbnNvcic7XG5cbmV4cG9ydCBjb25zdCBwYWRWMkdyYWRDb25maWc6IEdyYWRDb25maWcgPSB7XG4gIGtlcm5lbE5hbWU6IFBhZFYyLFxuICBpbnB1dHNUb1NhdmU6IFsneCddLFxuICBncmFkRnVuYzogKGR5OiBUZW5zb3IsIHNhdmVkOiBUZW5zb3JbXSwgYXR0cnM6IE5hbWVkQXR0ck1hcCkgPT4ge1xuICAgIC8vIFBhZCBpbnRyb2R1Y2VzIHZhbHVlcyBhcm91bmQgdGhlIG9yaWdpbmFsIHRlbnNvciwgc28gdGhlIGdyYWRpZW50XG4gICAgLy8gc2xpY2VzIHRoZSBvcmlnaW5hbCBzaGFwZSBvdXQgb2YgdGhlIGdyYWRpZW50LlxuICAgIGNvbnN0IHggPSBzYXZlZFswXTtcbiAgICBjb25zdCB7cGFkZGluZ3N9ID0gYXR0cnMgYXMgdW5rbm93biBhcyBQYWRWMkF0dHJzO1xuICAgIGNvbnN0IGJlZ2luID0gcGFkZGluZ3MubWFwKHAgPT4gcFswXSk7XG4gICAgcmV0dXJuIHt4OiAoKSA9PiBzbGljZShkeSwgYmVnaW4sIHguc2hhcGUpfTtcbiAgfVxufTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuaW1wb3J0IHtTcGFjZVRvQmF0Y2hORCwgU3BhY2VUb0JhdGNoTkRBdHRyc30gZnJvbSAnLi4va2VybmVsX25hbWVzJztcbmltcG9ydCB7R3JhZENvbmZpZywgTmFtZWRBdHRyTWFwfSBmcm9tICcuLi9rZXJuZWxfcmVnaXN0cnknO1xuaW1wb3J0IHtiYXRjaFRvU3BhY2VORH0gZnJvbSAnLi4vb3BzL2JhdGNoX3RvX3NwYWNlX25kJztcbmltcG9ydCB7VGVuc29yfSBmcm9tICcuLi90ZW5zb3InO1xuXG5leHBvcnQgY29uc3Qgc3BhY2VUb0JhdGNoTkRHcmFkQ29uZmlnOiBHcmFkQ29uZmlnID0ge1xuICBrZXJuZWxOYW1lOiBTcGFjZVRvQmF0Y2hORCxcbiAgZ3JhZEZ1bmM6IChkeTogVGVuc29yLCBzYXZlZDogVGVuc29yW10sIGF0dHJzOiBOYW1lZEF0dHJNYXApID0+IHtcbiAgICBjb25zdCB7YmxvY2tTaGFwZSwgcGFkZGluZ3N9ID0gYXR0cnMgYXMge30gYXMgU3BhY2VUb0JhdGNoTkRBdHRycztcbiAgICByZXR1cm4ge3g6ICgpID0+IGJhdGNoVG9TcGFjZU5EKGR5LCBibG9ja1NoYXBlLCBwYWRkaW5ncyl9O1xuICB9XG59O1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuaW1wb3J0IHtTcGxpdFYsIFNwbGl0VkF0dHJzfSBmcm9tICcuLi9rZXJuZWxfbmFtZXMnO1xuaW1wb3J0IHtHcmFkQ29uZmlnLCBOYW1lZEF0dHJNYXB9IGZyb20gJy4uL2tlcm5lbF9yZWdpc3RyeSc7XG5pbXBvcnQge2NvbmNhdH0gZnJvbSAnLi4vb3BzL2NvbmNhdCc7XG5pbXBvcnQge1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yJztcblxuZXhwb3J0IGNvbnN0IHNwbGl0VkdyYWRDb25maWc6IEdyYWRDb25maWcgPSB7XG4gIGtlcm5lbE5hbWU6IFNwbGl0VixcbiAgZ3JhZEZ1bmM6IChkeTogVGVuc29yW10sIHNhdmVkOiBUZW5zb3JbXSwgYXR0cnM6IE5hbWVkQXR0ck1hcCkgPT4ge1xuICAgIGNvbnN0IHtheGlzfSA9IGF0dHJzIGFzIHt9IGFzIFNwbGl0VkF0dHJzO1xuXG4gICAgcmV0dXJuIHt4OiAoKSA9PiBjb25jYXQoZHksIGF4aXMpfTtcbiAgfVxufTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cbmltcG9ydCB7YWJzR3JhZENvbmZpZ30gZnJvbSAnLi9ncmFkaWVudHMvQWJzX2dyYWQnO1xuaW1wb3J0IHthY29zR3JhZENvbmZpZ30gZnJvbSAnLi9ncmFkaWVudHMvQWNvc19ncmFkJztcbmltcG9ydCB7YWNvc2hHcmFkQ29uZmlnfSBmcm9tICcuL2dyYWRpZW50cy9BY29zaF9ncmFkJztcbmltcG9ydCB7YWRkR3JhZENvbmZpZ30gZnJvbSAnLi9ncmFkaWVudHMvQWRkX2dyYWQnO1xuaW1wb3J0IHthZGROR3JhZENvbmZpZ30gZnJvbSAnLi9ncmFkaWVudHMvQWRkTl9ncmFkJztcbmltcG9ydCB7YXJnTWF4R3JhZENvbmZpZ30gZnJvbSAnLi9ncmFkaWVudHMvQXJnTWF4X2dyYWQnO1xuaW1wb3J0IHthcmdNaW5HcmFkQ29uZmlnfSBmcm9tICcuL2dyYWRpZW50cy9BcmdNaW5fZ3JhZCc7XG5pbXBvcnQge2FzaW5HcmFkQ29uZmlnfSBmcm9tICcuL2dyYWRpZW50cy9Bc2luX2dyYWQnO1xuaW1wb3J0IHthc2luaEdyYWRDb25maWd9IGZyb20gJy4vZ3JhZGllbnRzL0FzaW5oX2dyYWQnO1xuaW1wb3J0IHthdGFuMkdyYWRDb25maWd9IGZyb20gJy4vZ3JhZGllbnRzL0F0YW4yX2dyYWQnO1xuaW1wb3J0IHthdGFuR3JhZENvbmZpZ30gZnJvbSAnLi9ncmFkaWVudHMvQXRhbl9ncmFkJztcbmltcG9ydCB7YXRhbmhHcmFkQ29uZmlnfSBmcm9tICcuL2dyYWRpZW50cy9BdGFuaF9ncmFkJztcbmltcG9ydCB7YXZnUG9vbDNER3JhZENvbmZpZ30gZnJvbSAnLi9ncmFkaWVudHMvQXZnUG9vbDNEX2dyYWQnO1xuaW1wb3J0IHthdmdQb29sR3JhZENvbmZpZ30gZnJvbSAnLi9ncmFkaWVudHMvQXZnUG9vbF9ncmFkJztcbmltcG9ydCB7YmF0Y2hNYXRNdWxHcmFkQ29uZmlnfSBmcm9tICcuL2dyYWRpZW50cy9CYXRjaE1hdE11bF9ncmFkJztcbmltcG9ydCB7YmF0Y2hUb1NwYWNlTkRHcmFkQ29uZmlnfSBmcm9tICcuL2dyYWRpZW50cy9CYXRjaFRvU3BhY2VORF9ncmFkJztcbmltcG9ydCB7YnJvYWRjYXN0VG9HcmFkQ29uZmlnfSBmcm9tICcuL2dyYWRpZW50cy9Ccm9hZGNhc3RUb19ncmFkJztcbmltcG9ydCB7Y2FzdEdyYWRDb25maWd9IGZyb20gJy4vZ3JhZGllbnRzL0Nhc3RfZ3JhZCc7XG5pbXBvcnQge2NlaWxHcmFkQ29uZmlnfSBmcm9tICcuL2dyYWRpZW50cy9DZWlsX2dyYWQnO1xuaW1wb3J0IHtjbGlwQnlWYWx1ZUdyYWRDb25maWd9IGZyb20gJy4vZ3JhZGllbnRzL0NsaXBCeVZhbHVlX2dyYWQnO1xuaW1wb3J0IHtjb25jYXRHcmFkQ29uZmlnfSBmcm9tICcuL2dyYWRpZW50cy9Db25jYXRfZ3JhZCc7XG5pbXBvcnQge2NvbnYyREdyYWRDb25maWd9IGZyb20gJy4vZ3JhZGllbnRzL0NvbnYyRF9ncmFkJztcbmltcG9ydCB7Y29udjJEQmFja3Byb3BJbnB1dEdyYWRDb25maWd9IGZyb20gJy4vZ3JhZGllbnRzL0NvbnYyREJhY2twcm9wSW5wdXRfZ3JhZCc7XG5pbXBvcnQge2NvbnYzREdyYWRDb25maWd9IGZyb20gJy4vZ3JhZGllbnRzL0NvbnYzRF9ncmFkJztcbmltcG9ydCB7Y29zR3JhZENvbmZpZ30gZnJvbSAnLi9ncmFkaWVudHMvQ29zX2dyYWQnO1xuaW1wb3J0IHtjb3NoR3JhZENvbmZpZ30gZnJvbSAnLi9ncmFkaWVudHMvQ29zaF9ncmFkJztcbmltcG9ydCB7Y3Vtc3VtR3JhZENvbmZpZ30gZnJvbSAnLi9ncmFkaWVudHMvQ3Vtc3VtX2dyYWQnO1xuaW1wb3J0IHtkZXB0aHdpc2VDb252MmROYXRpdmVHcmFkQ29uZmlnfSBmcm9tICcuL2dyYWRpZW50cy9EZXB0aHdpc2VDb252MmROYXRpdmVfZ3JhZCc7XG5pbXBvcnQge2RpbGF0aW9uMmRHcmFkQ29uZmlnfSBmcm9tICcuL2dyYWRpZW50cy9EaWxhdGlvbjJEX2dyYWQnO1xuaW1wb3J0IHtkaXZHcmFkQ29uZmlnfSBmcm9tICcuL2dyYWRpZW50cy9EaXZfZ3JhZCc7XG5pbXBvcnQge2VsdUdyYWRDb25maWd9IGZyb20gJy4vZ3JhZGllbnRzL0VsdV9ncmFkJztcbmltcG9ydCB7ZXJmR3JhZENvbmZpZ30gZnJvbSAnLi9ncmFkaWVudHMvRXJmX2dyYWQnO1xuaW1wb3J0IHtleHBHcmFkQ29uZmlnfSBmcm9tICcuL2dyYWRpZW50cy9FeHBfZ3JhZCc7XG5pbXBvcnQge2V4cG0xR3JhZENvbmZpZ30gZnJvbSAnLi9ncmFkaWVudHMvRXhwbTFfZ3JhZCc7XG5pbXBvcnQge2Zsb29yR3JhZENvbmZpZ30gZnJvbSAnLi9ncmFkaWVudHMvRmxvb3JfZ3JhZCc7XG5pbXBvcnQge2Zsb29yRGl2R3JhZENvbmZpZ30gZnJvbSAnLi9ncmFkaWVudHMvRmxvb3JEaXZfZ3JhZCc7XG5pbXBvcnQge2Z1c2VkQmF0Y2hOb3JtR3JhZENvbmZpZ30gZnJvbSAnLi9ncmFkaWVudHMvRnVzZWRCYXRjaE5vcm1fZ3JhZCc7XG5pbXBvcnQge2dhdGhlckdyYWRDb25maWd9IGZyb20gJy4vZ3JhZGllbnRzL0dhdGhlclYyX2dyYWQnO1xuaW1wb3J0IHtncmVhdGVyRXF1YWxHcmFkQ29uZmlnfSBmcm9tICcuL2dyYWRpZW50cy9HcmVhdGVyRXF1YWxfZ3JhZCc7XG5pbXBvcnQge2lkZW50aXR5R3JhZENvbmZpZ30gZnJvbSAnLi9ncmFkaWVudHMvSWRlbnRpdHlfZ3JhZCc7XG5pbXBvcnQge2lzRmluaXRlR3JhZENvbmZpZ30gZnJvbSAnLi9ncmFkaWVudHMvSXNGaW5pdGVfZ3JhZCc7XG5pbXBvcnQge2lzSW5mR3JhZENvbmZpZ30gZnJvbSAnLi9ncmFkaWVudHMvSXNJbmZfZ3JhZCc7XG5pbXBvcnQge2lzTmFuR3JhZENvbmZpZ30gZnJvbSAnLi9ncmFkaWVudHMvSXNOYW5fZ3JhZCc7XG5pbXBvcnQge2xvZzFwR3JhZENvbmZpZ30gZnJvbSAnLi9ncmFkaWVudHMvTG9nMXBfZ3JhZCc7XG5pbXBvcnQge2xvZ0dyYWRDb25maWd9IGZyb20gJy4vZ3JhZGllbnRzL0xvZ19ncmFkJztcbmltcG9ydCB7bG9nU29mdG1heEdyYWRDb25maWd9IGZyb20gJy4vZ3JhZGllbnRzL0xvZ1NvZnRtYXhfZ3JhZCc7XG5pbXBvcnQge2xybkdyYWRDb25maWd9IGZyb20gJy4vZ3JhZGllbnRzL0xSTl9ncmFkJztcbmltcG9ydCB7bWF4R3JhZENvbmZpZ30gZnJvbSAnLi9ncmFkaWVudHMvTWF4X2dyYWQnO1xuaW1wb3J0IHttYXhpbXVtR3JhZENvbmZpZ30gZnJvbSAnLi9ncmFkaWVudHMvTWF4aW11bV9ncmFkJztcbmltcG9ydCB7bWF4UG9vbDNER3JhZENvbmZpZ30gZnJvbSAnLi9ncmFkaWVudHMvTWF4UG9vbDNEX2dyYWQnO1xuaW1wb3J0IHttYXhQb29sR3JhZENvbmZpZ30gZnJvbSAnLi9ncmFkaWVudHMvTWF4UG9vbF9ncmFkJztcbmltcG9ydCB7bWluR3JhZENvbmZpZ30gZnJvbSAnLi9ncmFkaWVudHMvTWluX2dyYWQnO1xuaW1wb3J0IHttaW5pbXVtR3JhZENvbmZpZ30gZnJvbSAnLi9ncmFkaWVudHMvTWluaW11bV9ncmFkJztcbmltcG9ydCB7bW9kR3JhZENvbmZpZ30gZnJvbSAnLi9ncmFkaWVudHMvTW9kX2dyYWQnO1xuaW1wb3J0IHttdWx0aXBseUdyYWRDb25maWd9IGZyb20gJy4vZ3JhZGllbnRzL011bHRpcGx5X2dyYWQnO1xuaW1wb3J0IHtuZWdhdGVHcmFkQ29uZmlnfSBmcm9tICcuL2dyYWRpZW50cy9OZWdhdGVfZ3JhZCc7XG5pbXBvcnQge29uZUhvdEdyYWRDb25maWd9IGZyb20gJy4vZ3JhZGllbnRzL09uZUhvdF9ncmFkJztcbmltcG9ydCB7b25lc0xpa2VHcmFkQ29uZmlnfSBmcm9tICcuL2dyYWRpZW50cy9PbmVzTGlrZV9ncmFkJztcbmltcG9ydCB7cGFkVjJHcmFkQ29uZmlnfSBmcm9tICcuL2dyYWRpZW50cy9QYWRWMl9ncmFkJztcbmltcG9ydCB7cG93R3JhZENvbmZpZ30gZnJvbSAnLi9ncmFkaWVudHMvUG93X2dyYWQnO1xuaW1wb3J0IHtwcmVsdUdyYWRDb25maWd9IGZyb20gJy4vZ3JhZGllbnRzL1ByZWx1X2dyYWQnO1xuaW1wb3J0IHtyZWNpcHJvY2FsR3JhZENvbmZpZ30gZnJvbSAnLi9ncmFkaWVudHMvUmVjaXByb2NhbF9ncmFkJztcbmltcG9ydCB7cmVsdTZHcmFkQ29uZmlnfSBmcm9tICcuL2dyYWRpZW50cy9SZWx1Nl9ncmFkJztcbmltcG9ydCB7cmVsdUdyYWRDb25maWd9IGZyb20gJy4vZ3JhZGllbnRzL1JlbHVfZ3JhZCc7XG5pbXBvcnQge3Jlc2hhcGVHcmFkQ29uZmlnfSBmcm9tICcuL2dyYWRpZW50cy9SZXNoYXBlX2dyYWQnO1xuaW1wb3J0IHtyZXNpemVCaWxpbmVhckdyYWRDb25maWd9IGZyb20gJy4vZ3JhZGllbnRzL1Jlc2l6ZUJpbGluZWFyX2dyYWQnO1xuaW1wb3J0IHtyZXNpemVOZWFyZXN0TmVpZ2hib3JHcmFkQ29uZmlnfSBmcm9tICcuL2dyYWRpZW50cy9SZXNpemVOZWFyZXN0TmVpZ2hib3JfZ3JhZCc7XG5pbXBvcnQge3JldmVyc2VHcmFkQ29uZmlnfSBmcm9tICcuL2dyYWRpZW50cy9SZXZlcnNlX2dyYWQnO1xuaW1wb3J0IHtyb3VuZEdyYWRDb25maWd9IGZyb20gJy4vZ3JhZGllbnRzL1JvdW5kX2dyYWQnO1xuaW1wb3J0IHtyc3FydEdyYWRDb25maWd9IGZyb20gJy4vZ3JhZGllbnRzL1JzcXJ0X2dyYWQnO1xuaW1wb3J0IHtzZWxlY3RWMlBvb2xHcmFkQ29uZmlnfSBmcm9tICcuL2dyYWRpZW50cy9TZWxlY3RWMl9ncmFkJztcbmltcG9ydCB7c2VsdUdyYWRDb25maWd9IGZyb20gJy4vZ3JhZGllbnRzL1NlbHVfZ3JhZCc7XG5pbXBvcnQge3NpZ21vaWRHcmFkQ29uZmlnfSBmcm9tICcuL2dyYWRpZW50cy9TaWdtb2lkX2dyYWQnO1xuaW1wb3J0IHtzaWduR3JhZENvbmZpZ30gZnJvbSAnLi9ncmFkaWVudHMvU2lnbl9ncmFkJztcbmltcG9ydCB7c2luR3JhZENvbmZpZ30gZnJvbSAnLi9ncmFkaWVudHMvU2luX2dyYWQnO1xuaW1wb3J0IHtzaW5oR3JhZENvbmZpZ30gZnJvbSAnLi9ncmFkaWVudHMvU2luaF9ncmFkJztcbmltcG9ydCB7c2xpY2VHcmFkQ29uZmlnfSBmcm9tICcuL2dyYWRpZW50cy9TbGljZV9ncmFkJztcbmltcG9ydCB7c29mdG1heEdyYWRDb25maWd9IGZyb20gJy4vZ3JhZGllbnRzL1NvZnRtYXhfZ3JhZCc7XG5pbXBvcnQge3NvZnRwbHVzR3JhZENvbmZpZ30gZnJvbSAnLi9ncmFkaWVudHMvU29mdHBsdXNfZ3JhZCc7XG5pbXBvcnQge3NwYWNlVG9CYXRjaE5ER3JhZENvbmZpZ30gZnJvbSAnLi9ncmFkaWVudHMvU3BhY2VUb0JhdGNoTkRfZ3JhZCc7XG5pbXBvcnQge3NwbGl0VkdyYWRDb25maWd9IGZyb20gJy4vZ3JhZGllbnRzL1NwbGl0Vl9ncmFkJztcbmltcG9ydCB7c3FydEdyYWRDb25maWd9IGZyb20gJy4vZ3JhZGllbnRzL1NxcnRfZ3JhZCc7XG5pbXBvcnQge3NxdWFyZUdyYWRDb25maWd9IGZyb20gJy4vZ3JhZGllbnRzL1NxdWFyZV9ncmFkJztcbmltcG9ydCB7c3F1YXJlZERpZmZlcmVuY2VHcmFkQ29uZmlnfSBmcm9tICcuL2dyYWRpZW50cy9TcXVhcmVkRGlmZmVyZW5jZV9ncmFkJztcbmltcG9ydCB7c3RlcEdyYWRDb25maWd9IGZyb20gJy4vZ3JhZGllbnRzL1N0ZXBfZ3JhZCc7XG5pbXBvcnQge3N1YkdyYWRDb25maWd9IGZyb20gJy4vZ3JhZGllbnRzL1N1Yl9ncmFkJztcbmltcG9ydCB7c3VtR3JhZENvbmZpZ30gZnJvbSAnLi9ncmFkaWVudHMvU3VtX2dyYWQnO1xuaW1wb3J0IHt0YW5HcmFkQ29uZmlnfSBmcm9tICcuL2dyYWRpZW50cy9UYW5fZ3JhZCc7XG5pbXBvcnQge3RhbmhHcmFkQ29uZmlnfSBmcm9tICcuL2dyYWRpZW50cy9UYW5oX2dyYWQnO1xuaW1wb3J0IHt0aWxlR3JhZENvbmZpZ30gZnJvbSAnLi9ncmFkaWVudHMvVGlsZV9ncmFkJztcbmltcG9ydCB7dHJhbnNwb3NlR3JhZENvbmZpZ30gZnJvbSAnLi9ncmFkaWVudHMvVHJhbnNwb3NlX2dyYWQnO1xuaW1wb3J0IHt1bnBhY2tHcmFkQ29uZmlnfSBmcm9tICcuL2dyYWRpZW50cy9VbnBhY2tfZ3JhZCc7XG5pbXBvcnQge3Vuc29ydGVkU2VnbWVudFN1bUdyYWRDb25maWd9IGZyb20gJy4vZ3JhZGllbnRzL1Vuc29ydGVkU2VnbWVudFN1bV9ncmFkJztcbmltcG9ydCB7emVyb3NMaWtlR3JhZENvbmZpZ30gZnJvbSAnLi9ncmFkaWVudHMvWmVyb3NMaWtlX2dyYWQnO1xuaW1wb3J0IHtHcmFkQ29uZmlnfSBmcm9tICcuL2tlcm5lbF9yZWdpc3RyeSc7XG5pbXBvcnQge3JlZ2lzdGVyR3JhZGllbnR9IGZyb20gJy4va2VybmVsX3JlZ2lzdHJ5JztcblxuLy8gRXhwb3J0IGFsbCBrZXJuZWwgY29uZmlncyBoZXJlIHNvIHRoYXQgdGhlIHBhY2thZ2UgY2FuIGF1dG8gcmVnaXN0ZXIgdGhlbVxuY29uc3QgZ3JhZENvbmZpZ3M6IEdyYWRDb25maWdbXSA9IFtcbiAgYWJzR3JhZENvbmZpZyxcbiAgYWNvc0dyYWRDb25maWcsXG4gIGFjb3NoR3JhZENvbmZpZyxcbiAgYWRkR3JhZENvbmZpZyxcbiAgYWRkTkdyYWRDb25maWcsXG4gIGFyZ01heEdyYWRDb25maWcsXG4gIGFyZ01pbkdyYWRDb25maWcsXG4gIGFzaW5HcmFkQ29uZmlnLFxuICBhc2luaEdyYWRDb25maWcsXG4gIGF0YW4yR3JhZENvbmZpZyxcbiAgYXRhbkdyYWRDb25maWcsXG4gIGF0YW5oR3JhZENvbmZpZyxcbiAgYXZnUG9vbDNER3JhZENvbmZpZyxcbiAgYXZnUG9vbEdyYWRDb25maWcsXG4gIGJhdGNoTWF0TXVsR3JhZENvbmZpZyxcbiAgYmF0Y2hUb1NwYWNlTkRHcmFkQ29uZmlnLFxuICBicm9hZGNhc3RUb0dyYWRDb25maWcsXG4gIGNhc3RHcmFkQ29uZmlnLFxuICBjZWlsR3JhZENvbmZpZyxcbiAgY2xpcEJ5VmFsdWVHcmFkQ29uZmlnLFxuICBjb25jYXRHcmFkQ29uZmlnLFxuICBjb252MkRCYWNrcHJvcElucHV0R3JhZENvbmZpZyxcbiAgY29udjJER3JhZENvbmZpZyxcbiAgY29udjNER3JhZENvbmZpZyxcbiAgY29zR3JhZENvbmZpZyxcbiAgY29zaEdyYWRDb25maWcsXG4gIGN1bXN1bUdyYWRDb25maWcsXG4gIGRlcHRod2lzZUNvbnYyZE5hdGl2ZUdyYWRDb25maWcsXG4gIGRpbGF0aW9uMmRHcmFkQ29uZmlnLFxuICBkaXZHcmFkQ29uZmlnLFxuICBlbHVHcmFkQ29uZmlnLFxuICBlcmZHcmFkQ29uZmlnLFxuICBleHBHcmFkQ29uZmlnLFxuICBleHBtMUdyYWRDb25maWcsXG4gIGZsb29yRGl2R3JhZENvbmZpZyxcbiAgZmxvb3JHcmFkQ29uZmlnLFxuICBmdXNlZEJhdGNoTm9ybUdyYWRDb25maWcsXG4gIGdhdGhlckdyYWRDb25maWcsXG4gIGdyZWF0ZXJFcXVhbEdyYWRDb25maWcsXG4gIGlkZW50aXR5R3JhZENvbmZpZyxcbiAgaXNGaW5pdGVHcmFkQ29uZmlnLFxuICBpc0luZkdyYWRDb25maWcsXG4gIGlzTmFuR3JhZENvbmZpZyxcbiAgbG9nMXBHcmFkQ29uZmlnLFxuICBsb2dHcmFkQ29uZmlnLFxuICBsb2dTb2Z0bWF4R3JhZENvbmZpZyxcbiAgbHJuR3JhZENvbmZpZyxcbiAgbWF4R3JhZENvbmZpZyxcbiAgbWF4R3JhZENvbmZpZyxcbiAgbWF4aW11bUdyYWRDb25maWcsXG4gIG1heFBvb2wzREdyYWRDb25maWcsXG4gIG1heFBvb2xHcmFkQ29uZmlnLFxuICBtaW5HcmFkQ29uZmlnLFxuICBtaW5pbXVtR3JhZENvbmZpZyxcbiAgbW9kR3JhZENvbmZpZyxcbiAgbXVsdGlwbHlHcmFkQ29uZmlnLFxuICBuZWdhdGVHcmFkQ29uZmlnLFxuICBvbmVIb3RHcmFkQ29uZmlnLFxuICBvbmVzTGlrZUdyYWRDb25maWcsXG4gIHBhZFYyR3JhZENvbmZpZyxcbiAgcGFkVjJHcmFkQ29uZmlnLFxuICBwb3dHcmFkQ29uZmlnLFxuICBwcmVsdUdyYWRDb25maWcsXG4gIHJlY2lwcm9jYWxHcmFkQ29uZmlnLFxuICByZWx1NkdyYWRDb25maWcsXG4gIHJlbHVHcmFkQ29uZmlnLFxuICByZXNoYXBlR3JhZENvbmZpZyxcbiAgcmVzaXplQmlsaW5lYXJHcmFkQ29uZmlnLFxuICByZXNpemVOZWFyZXN0TmVpZ2hib3JHcmFkQ29uZmlnLFxuICByZXZlcnNlR3JhZENvbmZpZyxcbiAgcm91bmRHcmFkQ29uZmlnLFxuICByc3FydEdyYWRDb25maWcsXG4gIHNlbGVjdFYyUG9vbEdyYWRDb25maWcsXG4gIHNlbHVHcmFkQ29uZmlnLFxuICBzaWdtb2lkR3JhZENvbmZpZyxcbiAgc2lnbkdyYWRDb25maWcsXG4gIHNpbkdyYWRDb25maWcsXG4gIHNpbmhHcmFkQ29uZmlnLFxuICBzbGljZUdyYWRDb25maWcsXG4gIHNvZnRtYXhHcmFkQ29uZmlnLFxuICBzb2Z0cGx1c0dyYWRDb25maWcsXG4gIHNwYWNlVG9CYXRjaE5ER3JhZENvbmZpZyxcbiAgc3BhY2VUb0JhdGNoTkRHcmFkQ29uZmlnLFxuICBzcGxpdFZHcmFkQ29uZmlnLFxuICBzcGxpdFZHcmFkQ29uZmlnLFxuICBzcXJ0R3JhZENvbmZpZyxcbiAgc3F1YXJlZERpZmZlcmVuY2VHcmFkQ29uZmlnLFxuICBzcXVhcmVHcmFkQ29uZmlnLFxuICBzdGVwR3JhZENvbmZpZyxcbiAgc3ViR3JhZENvbmZpZyxcbiAgc3VtR3JhZENvbmZpZyxcbiAgdGFuR3JhZENvbmZpZyxcbiAgdGFuaEdyYWRDb25maWcsXG4gIHRpbGVHcmFkQ29uZmlnLFxuICB0cmFuc3Bvc2VHcmFkQ29uZmlnLFxuICB1bnBhY2tHcmFkQ29uZmlnLFxuICB1bnNvcnRlZFNlZ21lbnRTdW1HcmFkQ29uZmlnLFxuICB6ZXJvc0xpa2VHcmFkQ29uZmlnXG5dO1xuXG5mb3IgKGNvbnN0IGdyYWRpZW50Q29uZmlnIG9mIGdyYWRDb25maWdzKSB7XG4gIHJlZ2lzdGVyR3JhZGllbnQoZ3JhZGllbnRDb25maWcpO1xufVxuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG5pbXBvcnQge1plcm9zTGlrZX0gZnJvbSAnLi4va2VybmVsX25hbWVzJztcbmltcG9ydCB7R3JhZENvbmZpZ30gZnJvbSAnLi4va2VybmVsX3JlZ2lzdHJ5JztcbmltcG9ydCB7emVyb3NMaWtlfSBmcm9tICcuLi9vcHMvemVyb3NfbGlrZSc7XG5pbXBvcnQge1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yJztcblxuZXhwb3J0IGNvbnN0IHplcm9zTGlrZUdyYWRDb25maWc6IEdyYWRDb25maWcgPSB7XG4gIGtlcm5lbE5hbWU6IFplcm9zTGlrZSxcbiAgZ3JhZEZ1bmM6IChkeTogVGVuc29yKSA9PiB7XG4gICAgcmV0dXJuIHt4OiAoKSA9PiB6ZXJvc0xpa2UoZHkpfTtcbiAgfVxufTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuaW1wb3J0IHtNYXhQb29sLCBNYXhQb29sQXR0cnN9IGZyb20gJy4uL2tlcm5lbF9uYW1lcyc7XG5pbXBvcnQge0dyYWRDb25maWcsIE5hbWVkQXR0ck1hcH0gZnJvbSAnLi4va2VybmVsX3JlZ2lzdHJ5JztcbmltcG9ydCB7bWF4UG9vbEJhY2twcm9wfSBmcm9tICcuLi9vcHMvbWF4X3Bvb2xfYmFja3Byb3AnO1xuaW1wb3J0IHtUZW5zb3IsIFRlbnNvcjREfSBmcm9tICcuLi90ZW5zb3InO1xuXG5leHBvcnQgY29uc3QgbWF4UG9vbEdyYWRDb25maWc6IEdyYWRDb25maWcgPSB7XG4gIGtlcm5lbE5hbWU6IE1heFBvb2wsXG4gIGlucHV0c1RvU2F2ZTogWyd4J10sXG4gIG91dHB1dHNUb1NhdmU6IFt0cnVlXSxcbiAgZ3JhZEZ1bmM6IChkeTogVGVuc29yLCBzYXZlZDogVGVuc29yW10sIGF0dHJzOiBOYW1lZEF0dHJNYXApID0+IHtcbiAgICBjb25zdCBbeCwgeV0gPSBzYXZlZCBhcyBbVGVuc29yNEQsIFRlbnNvcjREXTtcbiAgICBjb25zdCB7ZmlsdGVyU2l6ZSwgc3RyaWRlcywgcGFkfSA9IGF0dHJzIGFzIHt9IGFzIE1heFBvb2xBdHRycztcblxuICAgIHJldHVybiB7XG4gICAgICB4OiAoKSA9PiBtYXhQb29sQmFja3Byb3AoZHkgYXMgVGVuc29yNEQsIHgsIHksIGZpbHRlclNpemUsIHN0cmlkZXMsIHBhZClcbiAgICB9O1xuICB9XG59O1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG5pbXBvcnQge01pbiwgTWluQXR0cnN9IGZyb20gJy4uL2tlcm5lbF9uYW1lcyc7XG5pbXBvcnQge0dyYWRDb25maWcsIE5hbWVkQXR0ck1hcH0gZnJvbSAnLi4va2VybmVsX3JlZ2lzdHJ5JztcbmltcG9ydCAqIGFzIGF4aXNfdXRpbCBmcm9tICcuLi9vcHMvYXhpc191dGlsJztcbmltcG9ydCB7dHJhbnNwb3NlfSBmcm9tICcuLi9vcHMvdHJhbnNwb3NlJztcbmltcG9ydCB7VGVuc29yfSBmcm9tICcuLi90ZW5zb3InO1xuaW1wb3J0ICogYXMgdXRpbCBmcm9tICcuLi91dGlsJztcblxuaW1wb3J0IHtncmFkRm9yTWluQW5kTWF4fSBmcm9tICcuL21pbl9tYXhfZ3JhZF91dGlsJztcblxuZXhwb3J0IGNvbnN0IG1pbkdyYWRDb25maWc6IEdyYWRDb25maWcgPSB7XG4gIGtlcm5lbE5hbWU6IE1pbixcbiAgaW5wdXRzVG9TYXZlOiBbJ3gnXSxcbiAgb3V0cHV0c1RvU2F2ZTogW3RydWVdLFxuICBncmFkRnVuYzogKGR5OiBUZW5zb3IsIHNhdmVkOiBUZW5zb3JbXSwgYXR0cnM6IE5hbWVkQXR0ck1hcCkgPT4ge1xuICAgIGNvbnN0IG1pbkF0dHJzOiBNaW5BdHRycyA9IGF0dHJzIGFzIHt9IGFzIE1pbkF0dHJzO1xuICAgIGNvbnN0IHtheGlzfSA9IG1pbkF0dHJzO1xuICAgIGNvbnN0IFt4LCB5XSA9IHNhdmVkO1xuICAgIGNvbnN0IG9yaWdBeGVzID0gdXRpbC5wYXJzZUF4aXNQYXJhbShheGlzLCB4LnNoYXBlKTtcbiAgICBjb25zdCBwZXJtdXRlZEF4ZXMgPSBheGlzX3V0aWwuZ2V0QXhlc1Blcm11dGF0aW9uKG9yaWdBeGVzLCB4LnJhbmspO1xuICAgIGNvbnN0IG1pbkdyYWQgPSBncmFkRm9yTWluQW5kTWF4KGR5LCB5LCB4LCBvcmlnQXhlcywgcGVybXV0ZWRBeGVzKTtcbiAgICByZXR1cm4ge1xuICAgICAgeDogKCkgPT4ge1xuICAgICAgICBsZXQgb3V0ID0gbWluR3JhZFsneCddKCk7XG4gICAgICAgIGlmIChwZXJtdXRlZEF4ZXMgIT0gbnVsbCkge1xuICAgICAgICAgIG91dCA9IHRyYW5zcG9zZShvdXQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgICB9XG4gICAgfTtcbiAgfVxufTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuaW1wb3J0IHtNaW5pbXVtfSBmcm9tICcuLi9rZXJuZWxfbmFtZXMnO1xuaW1wb3J0IHtHcmFkQ29uZmlnfSBmcm9tICcuLi9rZXJuZWxfcmVnaXN0cnknO1xuaW1wb3J0IHtjYXN0fSBmcm9tICcuLi9vcHMvY2FzdCc7XG5pbXBvcnQge2dyZWF0ZXJ9IGZyb20gJy4uL29wcy9ncmVhdGVyJztcbmltcG9ydCB7bGVzc0VxdWFsfSBmcm9tICcuLi9vcHMvbGVzc19lcXVhbCc7XG5pbXBvcnQge211bH0gZnJvbSAnLi4vb3BzL211bCc7XG5pbXBvcnQge1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yJztcblxuZXhwb3J0IGNvbnN0IG1pbmltdW1HcmFkQ29uZmlnOiBHcmFkQ29uZmlnID0ge1xuICBrZXJuZWxOYW1lOiBNaW5pbXVtLFxuICBpbnB1dHNUb1NhdmU6IFsnYScsICdiJ10sXG4gIGdyYWRGdW5jOiAoZHk6IFRlbnNvciwgc2F2ZWQ6IFRlbnNvcltdKSA9PiB7XG4gICAgY29uc3QgW2EsIGJdID0gc2F2ZWQ7XG4gICAgY29uc3QgZGVyQSA9ICgpID0+IG11bChkeSwgY2FzdChsZXNzRXF1YWwoYSwgYiksICdmbG9hdDMyJykpO1xuICAgIGNvbnN0IGRlckIgPSAoKSA9PiBtdWwoZHksIGNhc3QoZ3JlYXRlcihhLCBiKSwgJ2Zsb2F0MzInKSk7XG4gICAgcmV0dXJuIHthOiBkZXJBLCBiOiBkZXJCfTtcbiAgfVxufTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuaW1wb3J0IHtNb2R9IGZyb20gJy4uL2tlcm5lbF9uYW1lcyc7XG5pbXBvcnQge0dyYWRDb25maWd9IGZyb20gJy4uL2tlcm5lbF9yZWdpc3RyeSc7XG5pbXBvcnQge2Fzc2VydEFuZEdldEJyb2FkY2FzdFNoYXBlLCBnZXRSZWR1Y3Rpb25BeGVzfSBmcm9tICcuLi9vcHMvYnJvYWRjYXN0X3V0aWwnO1xuaW1wb3J0IHtkaXZ9IGZyb20gJy4uL29wcy9kaXYnO1xuaW1wb3J0IHtmbG9vcn0gZnJvbSAnLi4vb3BzL2Zsb29yJztcbmltcG9ydCB7bXVsfSBmcm9tICcuLi9vcHMvbXVsJztcbmltcG9ydCB7bmVnfSBmcm9tICcuLi9vcHMvbmVnJztcbmltcG9ydCB7cmVzaGFwZX0gZnJvbSAnLi4vb3BzL3Jlc2hhcGUnO1xuaW1wb3J0IHtzdW19IGZyb20gJy4uL29wcy9zdW0nO1xuaW1wb3J0IHtUZW5zb3J9IGZyb20gJy4uL3RlbnNvcic7XG5cbmV4cG9ydCBjb25zdCBtb2RHcmFkQ29uZmlnOiBHcmFkQ29uZmlnID0ge1xuICBrZXJuZWxOYW1lOiBNb2QsXG4gIGlucHV0c1RvU2F2ZTogWydhJywgJ2InXSxcbiAgZ3JhZEZ1bmM6IChkeTogVGVuc29yLCBzYXZlZDogVGVuc29yW10pID0+IHtcbiAgICBjb25zdCBbYSwgYl0gPSBzYXZlZDtcbiAgICBjb25zdCBvdXRTaGFwZSA9IGFzc2VydEFuZEdldEJyb2FkY2FzdFNoYXBlKGEuc2hhcGUsIGIuc2hhcGUpO1xuXG4gICAgY29uc3QgZGVyQSA9ICgpID0+IHtcbiAgICAgIGNvbnN0IHJlZHVjZUF4ZXMgPSBnZXRSZWR1Y3Rpb25BeGVzKGEuc2hhcGUsIG91dFNoYXBlKTtcbiAgICAgIGlmIChyZWR1Y2VBeGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgcmV0dXJuIHJlc2hhcGUoc3VtKGR5LCByZWR1Y2VBeGVzKSwgYS5zaGFwZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZHk7XG4gICAgfTtcbiAgICBjb25zdCBkZXJCID0gKCkgPT4ge1xuICAgICAgY29uc3QgcmVzID0gbXVsKGR5LCBuZWcoZmxvb3IoZGl2KGEsIGIpKSkpO1xuICAgICAgY29uc3QgcmVkdWNlQXhlcyA9IGdldFJlZHVjdGlvbkF4ZXMoYi5zaGFwZSwgb3V0U2hhcGUpO1xuICAgICAgaWYgKHJlZHVjZUF4ZXMubGVuZ3RoID4gMCkge1xuICAgICAgICByZXR1cm4gcmVzaGFwZShzdW0ocmVzLCByZWR1Y2VBeGVzKSwgYi5zaGFwZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzO1xuICAgIH07XG4gICAgcmV0dXJuIHthOiBkZXJBLCBiOiBkZXJCfTtcbiAgfVxufTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuaW1wb3J0IHtNdWx0aXBseX0gZnJvbSAnLi4va2VybmVsX25hbWVzJztcbmltcG9ydCB7R3JhZENvbmZpZ30gZnJvbSAnLi4va2VybmVsX3JlZ2lzdHJ5JztcbmltcG9ydCB7YXNzZXJ0QW5kR2V0QnJvYWRjYXN0U2hhcGUsIGdldFJlZHVjdGlvbkF4ZXN9IGZyb20gJy4uL29wcy9icm9hZGNhc3RfdXRpbCc7XG5pbXBvcnQge2Nhc3R9IGZyb20gJy4uL29wcy9jYXN0JztcbmltcG9ydCB7bXVsfSBmcm9tICcuLi9vcHMvbXVsJztcbmltcG9ydCB7cmVzaGFwZX0gZnJvbSAnLi4vb3BzL3Jlc2hhcGUnO1xuaW1wb3J0IHtzdW19IGZyb20gJy4uL29wcy9zdW0nO1xuaW1wb3J0IHtUZW5zb3J9IGZyb20gJy4uL3RlbnNvcic7XG5cbmV4cG9ydCBjb25zdCBtdWx0aXBseUdyYWRDb25maWc6IEdyYWRDb25maWcgPSB7XG4gIGtlcm5lbE5hbWU6IE11bHRpcGx5LFxuICBpbnB1dHNUb1NhdmU6IFsnYScsICdiJ10sXG4gIGdyYWRGdW5jOiAoZHk6IFRlbnNvciwgc2F2ZWQ6IFRlbnNvcltdKSA9PiB7XG4gICAgY29uc3QgW2EsIGJdID0gc2F2ZWQ7XG4gICAgY29uc3Qgb3V0U2hhcGUgPSBhc3NlcnRBbmRHZXRCcm9hZGNhc3RTaGFwZShhLnNoYXBlLCBiLnNoYXBlKTtcblxuICAgIGNvbnN0IGRlckEgPSAoKSA9PiB7XG4gICAgICBjb25zdCByZXMgPSBtdWwoZHksIGNhc3QoYiwgJ2Zsb2F0MzInKSk7XG4gICAgICBjb25zdCByZWR1Y2VBeGVzID0gZ2V0UmVkdWN0aW9uQXhlcyhhLnNoYXBlLCBvdXRTaGFwZSk7XG4gICAgICBpZiAocmVkdWNlQXhlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIHJldHVybiByZXNoYXBlKHN1bShyZXMsIHJlZHVjZUF4ZXMpLCBhLnNoYXBlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXM7XG4gICAgfTtcbiAgICBjb25zdCBkZXJCID0gKCkgPT4ge1xuICAgICAgY29uc3QgcmVzID0gbXVsKGR5LCBjYXN0KGEsICdmbG9hdDMyJykpO1xuICAgICAgY29uc3QgcmVkdWNlQXhlcyA9IGdldFJlZHVjdGlvbkF4ZXMoYi5zaGFwZSwgb3V0U2hhcGUpO1xuICAgICAgaWYgKHJlZHVjZUF4ZXMubGVuZ3RoID4gMCkge1xuICAgICAgICByZXR1cm4gcmVzaGFwZShzdW0ocmVzLCByZWR1Y2VBeGVzKSwgYi5zaGFwZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzO1xuICAgIH07XG4gICAgcmV0dXJuIHthOiBkZXJBLCBiOiBkZXJCfTtcbiAgfVxufTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuaW1wb3J0IHtOZWdhdGV9IGZyb20gJy4uL2tlcm5lbF9uYW1lcyc7XG5pbXBvcnQge0dyYWRDb25maWd9IGZyb20gJy4uL2tlcm5lbF9yZWdpc3RyeSc7XG5pbXBvcnQge25lZ30gZnJvbSAnLi4vb3BzL25lZyc7XG5pbXBvcnQge1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yJztcblxuZXhwb3J0IGNvbnN0IG5lZ2F0ZUdyYWRDb25maWc6IEdyYWRDb25maWcgPSB7XG4gIGtlcm5lbE5hbWU6IE5lZ2F0ZSxcbiAgZ3JhZEZ1bmM6IChkeTogVGVuc29yKSA9PiB7XG4gICAgcmV0dXJuIHt4OiAoKSA9PiBuZWcoZHkpfTtcbiAgfVxufTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuaW1wb3J0IHtPbmVIb3R9IGZyb20gJy4uL2tlcm5lbF9uYW1lcyc7XG5pbXBvcnQge0dyYWRDb25maWd9IGZyb20gJy4uL2tlcm5lbF9yZWdpc3RyeSc7XG5pbXBvcnQge3plcm9zfSBmcm9tICcuLi9vcHMvemVyb3MnO1xuaW1wb3J0IHtUZW5zb3J9IGZyb20gJy4uL3RlbnNvcic7XG5cbmV4cG9ydCBjb25zdCBvbmVIb3RHcmFkQ29uZmlnOiBHcmFkQ29uZmlnID0ge1xuICBrZXJuZWxOYW1lOiBPbmVIb3QsXG4gIGlucHV0c1RvU2F2ZTogWydpbmRpY2VzJ10sXG4gIGdyYWRGdW5jOiAoZHk6IFRlbnNvciwgc2F2ZWQ6IFRlbnNvcltdKSA9PiB7XG4gICAgY29uc3QgaW5kaWNlcyA9IHNhdmVkWzBdO1xuICAgIHJldHVybiB7aW5kaWNlczogKCkgPT4gemVyb3MoaW5kaWNlcy5zaGFwZSwgJ2Zsb2F0MzInKX07XG4gIH1cbn07XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbmltcG9ydCB7T25lc0xpa2V9IGZyb20gJy4uL2tlcm5lbF9uYW1lcyc7XG5pbXBvcnQge0dyYWRDb25maWd9IGZyb20gJy4uL2tlcm5lbF9yZWdpc3RyeSc7XG5pbXBvcnQge3plcm9zTGlrZX0gZnJvbSAnLi4vb3BzL3plcm9zX2xpa2UnO1xuaW1wb3J0IHtUZW5zb3J9IGZyb20gJy4uL3RlbnNvcic7XG5cbmV4cG9ydCBjb25zdCBvbmVzTGlrZUdyYWRDb25maWc6IEdyYWRDb25maWcgPSB7XG4gIGtlcm5lbE5hbWU6IE9uZXNMaWtlLFxuICBncmFkRnVuYzogKGR5OiBUZW5zb3IpID0+IHtcbiAgICByZXR1cm4ge3g6ICgpID0+IHplcm9zTGlrZShkeSl9O1xuICB9XG59O1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuaW1wb3J0IHtQb3d9IGZyb20gJy4uL2tlcm5lbF9uYW1lcyc7XG5pbXBvcnQge0dyYWRDb25maWd9IGZyb20gJy4uL2tlcm5lbF9yZWdpc3RyeSc7XG5pbXBvcnQgKiBhcyBicm9hZGNhc3RfdXRpbCBmcm9tICcuLi9vcHMvYnJvYWRjYXN0X3V0aWwnO1xuaW1wb3J0IHtjYXN0fSBmcm9tICcuLi9vcHMvY2FzdCc7XG5pbXBvcnQge2dyZWF0ZXJ9IGZyb20gJy4uL29wcy9ncmVhdGVyJztcbmltcG9ydCB7bG9nfSBmcm9tICcuLi9vcHMvbG9nJztcbmltcG9ydCB7bXVsfSBmcm9tICcuLi9vcHMvbXVsJztcbmltcG9ydCB7cG93fSBmcm9tICcuLi9vcHMvcG93JztcbmltcG9ydCB7cmVzaGFwZX0gZnJvbSAnLi4vb3BzL3Jlc2hhcGUnO1xuaW1wb3J0IHtzY2FsYXJ9IGZyb20gJy4uL29wcy9zY2FsYXInO1xuaW1wb3J0IHtzdWJ9IGZyb20gJy4uL29wcy9zdWInO1xuaW1wb3J0IHtzdW19IGZyb20gJy4uL29wcy9zdW0nO1xuaW1wb3J0IHt3aGVyZX0gZnJvbSAnLi4vb3BzL3doZXJlJztcbmltcG9ydCB7emVyb3NMaWtlfSBmcm9tICcuLi9vcHMvemVyb3NfbGlrZSc7XG5pbXBvcnQge1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yJztcblxuZXhwb3J0IGNvbnN0IHBvd0dyYWRDb25maWc6IEdyYWRDb25maWcgPSB7XG4gIGtlcm5lbE5hbWU6IFBvdyxcbiAgaW5wdXRzVG9TYXZlOiBbJ2EnLCAnYiddLFxuICBvdXRwdXRzVG9TYXZlOiBbdHJ1ZV0sXG4gIGdyYWRGdW5jOiAoZHk6IFRlbnNvciwgc2F2ZWQ6IFRlbnNvcltdKSA9PiB7XG4gICAgY29uc3QgW2EsIGIsIHldID0gc2F2ZWQ7XG4gICAgY29uc3QgYmFzZSA9IGE7XG4gICAgY29uc3QgZXhwID0gYjtcbiAgICBjb25zdCBvdXRTaGFwZSA9XG4gICAgICAgIGJyb2FkY2FzdF91dGlsLmFzc2VydEFuZEdldEJyb2FkY2FzdFNoYXBlKGJhc2Uuc2hhcGUsIGV4cC5zaGFwZSk7XG5cbiAgICBjb25zdCBkZXJCYXNlID0gKCkgPT4ge1xuICAgICAgY29uc3QgZXhwRmxvYXQgPSBjYXN0KGV4cCwgJ2Zsb2F0MzInKTtcbiAgICAgIGxldCByZXMgPSBtdWwoZHksIG11bChleHBGbG9hdCwgcG93KGJhc2UsIHN1YihleHBGbG9hdCwgc2NhbGFyKDEpKSkpKTtcbiAgICAgIGNvbnN0IHJlZHVjZUF4ZXMgPSBicm9hZGNhc3RfdXRpbC5nZXRSZWR1Y3Rpb25BeGVzKGJhc2Uuc2hhcGUsIG91dFNoYXBlKTtcbiAgICAgIGlmIChyZWR1Y2VBeGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgcmVzID0gc3VtKHJlcywgcmVkdWNlQXhlcyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzaGFwZShyZXMsIGJhc2Uuc2hhcGUpO1xuICAgIH07XG4gICAgY29uc3QgZGVyRXhwID0gKCkgPT4ge1xuICAgICAgY29uc3QgY29uZGl0aW9uID0gZ3JlYXRlcihiYXNlLCAwKTtcbiAgICAgIGNvbnN0IGxvZ0Jhc2UgPSB3aGVyZShjb25kaXRpb24sIGxvZyhiYXNlKSwgemVyb3NMaWtlKGJhc2UpKTtcbiAgICAgIGxldCByZXMgPSBtdWwoZHksIG11bCh5LCBsb2dCYXNlKSk7XG4gICAgICBjb25zdCByZWR1Y2VBeGVzID0gYnJvYWRjYXN0X3V0aWwuZ2V0UmVkdWN0aW9uQXhlcyhleHAuc2hhcGUsIG91dFNoYXBlKTtcbiAgICAgIGlmIChyZWR1Y2VBeGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgcmVzID0gc3VtKHJlcywgcmVkdWNlQXhlcyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzaGFwZShyZXMsIGV4cC5zaGFwZSk7XG4gICAgfTtcbiAgICByZXR1cm4ge2E6IGRlckJhc2UsIGI6IGRlckV4cH07XG4gIH1cbn07XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5pbXBvcnQge1ByZWx1fSBmcm9tICcuLi9rZXJuZWxfbmFtZXMnO1xuaW1wb3J0IHtHcmFkQ29uZmlnfSBmcm9tICcuLi9rZXJuZWxfcmVnaXN0cnknO1xuaW1wb3J0IHtnZXRSZWR1Y3Rpb25BeGVzfSBmcm9tICcuLi9vcHMvYnJvYWRjYXN0X3V0aWwnO1xuaW1wb3J0IHtncmVhdGVyfSBmcm9tICcuLi9vcHMvZ3JlYXRlcic7XG5pbXBvcnQge211bH0gZnJvbSAnLi4vb3BzL211bCc7XG5pbXBvcnQge3Jlc2hhcGV9IGZyb20gJy4uL29wcy9yZXNoYXBlJztcbmltcG9ydCB7c3VtfSBmcm9tICcuLi9vcHMvc3VtJztcbmltcG9ydCB7d2hlcmV9IGZyb20gJy4uL29wcy93aGVyZSc7XG5pbXBvcnQge3plcm9zTGlrZX0gZnJvbSAnLi4vb3BzL3plcm9zX2xpa2UnO1xuaW1wb3J0IHtUZW5zb3J9IGZyb20gJy4uL3RlbnNvcic7XG5cbmV4cG9ydCBjb25zdCBwcmVsdUdyYWRDb25maWc6IEdyYWRDb25maWcgPSB7XG4gIGtlcm5lbE5hbWU6IFByZWx1LFxuICBpbnB1dHNUb1NhdmU6IFsneCcsICdhbHBoYSddLFxuICBncmFkRnVuYzogKGR5OiBUZW5zb3IsIHNhdmVkOiBUZW5zb3JbXSkgPT4ge1xuICAgIGNvbnN0IFt4LCBhbHBoYV0gPSBzYXZlZDtcbiAgICBjb25zdCBtYXNrID0gZ3JlYXRlcih4LCAwKTtcblxuICAgIHJldHVybiB7XG4gICAgICB4OiAoKSA9PiB3aGVyZShtYXNrLCBkeSwgbXVsKGR5LCBhbHBoYSkpLFxuICAgICAgYWxwaGE6ICgpID0+IHtcbiAgICAgICAgbGV0IHJlcyA9IHdoZXJlKG1hc2ssIHplcm9zTGlrZShkeSksIG11bChkeSwgeCkpO1xuICAgICAgICBjb25zdCByZWR1Y2VBeGVzID0gZ2V0UmVkdWN0aW9uQXhlcyhhbHBoYS5zaGFwZSwgZHkuc2hhcGUpO1xuICAgICAgICBpZiAocmVkdWNlQXhlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgcmVzID0gc3VtKHJlcywgcmVkdWNlQXhlcyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc2hhcGUocmVzLCBhbHBoYS5zaGFwZSk7XG4gICAgICB9XG4gICAgfTtcbiAgfVxufTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuaW1wb3J0IHtSZWNpcHJvY2FsfSBmcm9tICcuLi9rZXJuZWxfbmFtZXMnO1xuaW1wb3J0IHtHcmFkQ29uZmlnfSBmcm9tICcuLi9rZXJuZWxfcmVnaXN0cnknO1xuaW1wb3J0IHtkaXZ9IGZyb20gJy4uL29wcy9kaXYnO1xuaW1wb3J0IHtuZWd9IGZyb20gJy4uL29wcy9uZWcnO1xuaW1wb3J0IHtzcXVhcmV9IGZyb20gJy4uL29wcy9zcXVhcmUnO1xuaW1wb3J0IHtUZW5zb3J9IGZyb20gJy4uL3RlbnNvcic7XG5cbmV4cG9ydCBjb25zdCByZWNpcHJvY2FsR3JhZENvbmZpZzogR3JhZENvbmZpZyA9IHtcbiAga2VybmVsTmFtZTogUmVjaXByb2NhbCxcbiAgaW5wdXRzVG9TYXZlOiBbJ3gnXSxcbiAgZ3JhZEZ1bmM6IChkeTogVGVuc29yLCBzYXZlZDogVGVuc29yW10pID0+IHtcbiAgICBjb25zdCBbeF0gPSBzYXZlZDtcbiAgICByZXR1cm4ge3g6ICgpID0+IGRpdihkeSwgbmVnKHNxdWFyZSh4KSkpfTtcbiAgfVxufTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cbmltcG9ydCB7UmVsdTZ9IGZyb20gJy4uL2tlcm5lbF9uYW1lcyc7XG5pbXBvcnQge0dyYWRDb25maWd9IGZyb20gJy4uL2tlcm5lbF9yZWdpc3RyeSc7XG5pbXBvcnQge2Nhc3R9IGZyb20gJy4uL29wcy9jYXN0JztcbmltcG9ydCB7bGVzc0VxdWFsfSBmcm9tICcuLi9vcHMvbGVzc19lcXVhbCc7XG5pbXBvcnQge211bH0gZnJvbSAnLi4vb3BzL211bCc7XG5pbXBvcnQge3N0ZXB9IGZyb20gJy4uL29wcy9zdGVwJztcbmltcG9ydCB7VGVuc29yfSBmcm9tICcuLi90ZW5zb3InO1xuXG5leHBvcnQgY29uc3QgcmVsdTZHcmFkQ29uZmlnOiBHcmFkQ29uZmlnID0ge1xuICBrZXJuZWxOYW1lOiBSZWx1NixcbiAgaW5wdXRzVG9TYXZlOiBbJ3gnXSxcbiAgZ3JhZEZ1bmM6IChkeTogVGVuc29yLCBzYXZlZDogVGVuc29yW10pID0+IHtcbiAgICBjb25zdCBbeF0gPSBzYXZlZDtcbiAgICBjb25zdCBtYXNrID0gbXVsKGxlc3NFcXVhbCh4LCA2KSwgc3RlcCh4KSk7XG5cbiAgICByZXR1cm4ge3g6ICgpID0+IG11bChkeSwgY2FzdChtYXNrLCAnZmxvYXQzMicpKX07XG4gIH1cbn07XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5pbXBvcnQge1JlbHV9IGZyb20gJy4uL2tlcm5lbF9uYW1lcyc7XG5pbXBvcnQge0dyYWRDb25maWd9IGZyb20gJy4uL2tlcm5lbF9yZWdpc3RyeSc7XG5pbXBvcnQge2Nhc3R9IGZyb20gJy4uL29wcy9jYXN0JztcbmltcG9ydCB7bXVsfSBmcm9tICcuLi9vcHMvbXVsJztcbmltcG9ydCB7c3RlcH0gZnJvbSAnLi4vb3BzL3N0ZXAnO1xuaW1wb3J0IHtUZW5zb3J9IGZyb20gJy4uL3RlbnNvcic7XG5cbmV4cG9ydCBjb25zdCByZWx1R3JhZENvbmZpZzogR3JhZENvbmZpZyA9IHtcbiAga2VybmVsTmFtZTogUmVsdSxcbiAgaW5wdXRzVG9TYXZlOiBbJ3gnXSxcbiAgZ3JhZEZ1bmM6IChkeTogVGVuc29yLCBzYXZlZDogVGVuc29yW10pID0+IHtcbiAgICBjb25zdCBbeF0gPSBzYXZlZDtcbiAgICByZXR1cm4ge3g6ICgpID0+IG11bChkeSwgY2FzdChzdGVwKHgpLCAnZmxvYXQzMicpKX07XG4gIH1cbn07XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5pbXBvcnQge1Jlc2hhcGV9IGZyb20gJy4uL2tlcm5lbF9uYW1lcyc7XG5pbXBvcnQge0dyYWRDb25maWd9IGZyb20gJy4uL2tlcm5lbF9yZWdpc3RyeSc7XG5pbXBvcnQge3Jlc2hhcGV9IGZyb20gJy4uL29wcy9yZXNoYXBlJztcbmltcG9ydCB7VGVuc29yfSBmcm9tICcuLi90ZW5zb3InO1xuXG5leHBvcnQgY29uc3QgcmVzaGFwZUdyYWRDb25maWc6IEdyYWRDb25maWcgPSB7XG4gIGtlcm5lbE5hbWU6IFJlc2hhcGUsXG4gIGlucHV0c1RvU2F2ZTogWyd4J10sXG4gIGdyYWRGdW5jOiAoZHk6IFRlbnNvciwgc2F2ZWQ6IFRlbnNvcltdKSA9PiB7XG4gICAgY29uc3QgW3hdID0gc2F2ZWQ7XG4gICAgcmV0dXJuIHt4OiAoKSA9PiByZXNoYXBlKGR5LCB4LnNoYXBlKX07XG4gIH1cbn07XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5pbXBvcnQge0VOR0lORSwgRm9yd2FyZEZ1bmN9IGZyb20gJy4uL2VuZ2luZSc7XG5pbXBvcnQge1Jlc2l6ZUJpbGluZWFyLCBSZXNpemVCaWxpbmVhckF0dHJzLCBSZXNpemVCaWxpbmVhckdyYWQsIFJlc2l6ZUJpbGluZWFyR3JhZElucHV0c30gZnJvbSAnLi4va2VybmVsX25hbWVzJztcbmltcG9ydCB7R3JhZENvbmZpZ30gZnJvbSAnLi4va2VybmVsX3JlZ2lzdHJ5JztcbmltcG9ydCB7TmFtZWRBdHRyTWFwfSBmcm9tICcuLi9rZXJuZWxfcmVnaXN0cnknO1xuaW1wb3J0IHtUZW5zb3IsIFRlbnNvcjREfSBmcm9tICcuLi90ZW5zb3InO1xuaW1wb3J0IHtOYW1lZFRlbnNvck1hcH0gZnJvbSAnLi4vdGVuc29yX3R5cGVzJztcblxuZXhwb3J0IGNvbnN0IHJlc2l6ZUJpbGluZWFyR3JhZENvbmZpZzogR3JhZENvbmZpZyA9IHtcbiAga2VybmVsTmFtZTogUmVzaXplQmlsaW5lYXIsXG4gIGlucHV0c1RvU2F2ZTogWydpbWFnZXMnXSxcbiAgZ3JhZEZ1bmM6IChkeTogVGVuc29yNEQsIHNhdmVkOiBUZW5zb3JbXSwgYXR0cnM6IE5hbWVkQXR0ck1hcCkgPT4ge1xuICAgIGNvbnN0IFtpbWFnZXNdID0gc2F2ZWQ7XG5cbiAgICBjb25zdCBiYWNrUHJvcEtlcm5lbEZ1bmM6IEZvcndhcmRGdW5jPFRlbnNvcj4gPSAoYmFja2VuZCkgPT4ge1xuICAgICAgY29uc3Qge2FsaWduQ29ybmVyc30gPSBhdHRycyBhcyB7fSBhcyBSZXNpemVCaWxpbmVhckF0dHJzO1xuICAgICAgcmV0dXJuIGJhY2tlbmQucmVzaXplQmlsaW5lYXJCYWNrcHJvcChcbiAgICAgICAgICBkeSwgaW1hZ2VzIGFzIFRlbnNvcjRELCBhbGlnbkNvcm5lcnMpO1xuICAgIH07XG5cbiAgICBjb25zdCBpbnB1dHM6IFJlc2l6ZUJpbGluZWFyR3JhZElucHV0cyA9IHtpbWFnZXN9O1xuICAgIGNvbnN0IGltYWdlc0RlciA9ICgpID0+IEVOR0lORS5ydW5LZXJuZWxGdW5jKFxuICAgICAgICBiYWNrUHJvcEtlcm5lbEZ1bmMsIGlucHV0cyBhcyB7fSBhcyBOYW1lZFRlbnNvck1hcCwgbnVsbCAvKiBncmFkaWVudCAqLyxcbiAgICAgICAgUmVzaXplQmlsaW5lYXJHcmFkLCBhdHRycyk7XG5cbiAgICByZXR1cm4ge2ltYWdlczogaW1hZ2VzRGVyfTtcbiAgfVxufTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cbmltcG9ydCB7RU5HSU5FLCBGb3J3YXJkRnVuY30gZnJvbSAnLi4vZW5naW5lJztcbmltcG9ydCB7UmVzaXplTmVhcmVzdE5laWdoYm9yLCBSZXNpemVOZWFyZXN0TmVpZ2hib3JBdHRycywgUmVzaXplTmVhcmVzdE5laWdoYm9yR3JhZCwgUmVzaXplTmVhcmVzdE5laWdoYm9yR3JhZElucHV0c30gZnJvbSAnLi4va2VybmVsX25hbWVzJztcbmltcG9ydCB7R3JhZENvbmZpZ30gZnJvbSAnLi4va2VybmVsX3JlZ2lzdHJ5JztcbmltcG9ydCB7TmFtZWRBdHRyTWFwfSBmcm9tICcuLi9rZXJuZWxfcmVnaXN0cnknO1xuaW1wb3J0IHtUZW5zb3IsIFRlbnNvcjREfSBmcm9tICcuLi90ZW5zb3InO1xuaW1wb3J0IHtOYW1lZFRlbnNvck1hcH0gZnJvbSAnLi4vdGVuc29yX3R5cGVzJztcblxuZXhwb3J0IGNvbnN0IHJlc2l6ZU5lYXJlc3ROZWlnaGJvckdyYWRDb25maWc6IEdyYWRDb25maWcgPSB7XG4gIGtlcm5lbE5hbWU6IFJlc2l6ZU5lYXJlc3ROZWlnaGJvcixcbiAgaW5wdXRzVG9TYXZlOiBbJ2ltYWdlcyddLFxuICBncmFkRnVuYzogKGR5OiBUZW5zb3I0RCwgc2F2ZWQ6IFRlbnNvcltdLCBhdHRyczogTmFtZWRBdHRyTWFwKSA9PiB7XG4gICAgY29uc3QgW2ltYWdlc10gPSBzYXZlZDtcblxuICAgIGNvbnN0IGJhY2tQcm9wS2VybmVsRnVuYzogRm9yd2FyZEZ1bmM8VGVuc29yPiA9IChiYWNrZW5kKSA9PiB7XG4gICAgICBjb25zdCB7YWxpZ25Db3JuZXJzfSA9IGF0dHJzIGFzIHt9IGFzIFJlc2l6ZU5lYXJlc3ROZWlnaGJvckF0dHJzO1xuICAgICAgcmV0dXJuIGJhY2tlbmQucmVzaXplTmVhcmVzdE5laWdoYm9yQmFja3Byb3AoXG4gICAgICAgICAgZHksIGltYWdlcyBhcyBUZW5zb3I0RCwgYWxpZ25Db3JuZXJzKTtcbiAgICB9O1xuXG4gICAgY29uc3QgaW5wdXRzOiBSZXNpemVOZWFyZXN0TmVpZ2hib3JHcmFkSW5wdXRzID0ge2ltYWdlc307XG4gICAgY29uc3QgaW1hZ2VzRGVyID0gKCkgPT4gRU5HSU5FLnJ1bktlcm5lbEZ1bmMoXG4gICAgICAgIGJhY2tQcm9wS2VybmVsRnVuYywgaW5wdXRzIGFzIHt9IGFzIE5hbWVkVGVuc29yTWFwLCBudWxsIC8qIGdyYWRpZW50ICovLFxuICAgICAgICBSZXNpemVOZWFyZXN0TmVpZ2hib3JHcmFkLCBhdHRycyk7XG5cbiAgICByZXR1cm4ge2ltYWdlczogaW1hZ2VzRGVyfTtcbiAgfVxufTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cbmltcG9ydCB7UmV2ZXJzZSwgUmV2ZXJzZUF0dHJzfSBmcm9tICcuLi9rZXJuZWxfbmFtZXMnO1xuaW1wb3J0IHtHcmFkQ29uZmlnLCBOYW1lZEF0dHJNYXB9IGZyb20gJy4uL2tlcm5lbF9yZWdpc3RyeSc7XG5pbXBvcnQge3JldmVyc2V9IGZyb20gJy4uL29wcy9yZXZlcnNlJztcbmltcG9ydCB7VGVuc29yfSBmcm9tICcuLi90ZW5zb3InO1xuaW1wb3J0IHtwYXJzZUF4aXNQYXJhbX0gZnJvbSAnLi4vdXRpbCc7XG5cbmV4cG9ydCBjb25zdCByZXZlcnNlR3JhZENvbmZpZzogR3JhZENvbmZpZyA9IHtcbiAga2VybmVsTmFtZTogUmV2ZXJzZSxcbiAgZ3JhZEZ1bmM6IChkeTogVGVuc29yLCBzYXZlZDogVGVuc29yW10sIGF0dHJzOiBOYW1lZEF0dHJNYXApID0+IHtcbiAgICBjb25zdCB7ZGltc30gPSBhdHRycyBhcyB7fSBhcyBSZXZlcnNlQXR0cnM7XG4gICAgY29uc3QgYXhlcyA9IHBhcnNlQXhpc1BhcmFtKGRpbXMsIGR5LnNoYXBlKTtcbiAgICByZXR1cm4ge3g6ICgpID0+IHJldmVyc2UoZHksIGF4ZXMpfTtcbiAgfVxufTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuaW1wb3J0IHtSb3VuZH0gZnJvbSAnLi4va2VybmVsX25hbWVzJztcbmltcG9ydCB7R3JhZENvbmZpZ30gZnJvbSAnLi4va2VybmVsX3JlZ2lzdHJ5JztcbmltcG9ydCB7emVyb3NMaWtlfSBmcm9tICcuLi9vcHMvemVyb3NfbGlrZSc7XG5pbXBvcnQge1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yJztcblxuZXhwb3J0IGNvbnN0IHJvdW5kR3JhZENvbmZpZzogR3JhZENvbmZpZyA9IHtcbiAga2VybmVsTmFtZTogUm91bmQsXG4gIGdyYWRGdW5jOiAoZHk6IFRlbnNvcikgPT4ge1xuICAgIC8vIFRPRE8obnN0aG9yYXQpOiBMZXQgZ3JhZGllbnRzIGJlIG51bGwgZm9yIGNhc2VzIHdoZXJlIHdlIHdhbnQgdG8gc3RvcFxuICAgIC8vIGJhY2twcm9wZ2F0aW9uLlxuICAgIHJldHVybiB7eDogKCkgPT4gemVyb3NMaWtlKGR5KX07XG4gIH1cbn07XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbmltcG9ydCB7UnNxcnR9IGZyb20gJy4uL2tlcm5lbF9uYW1lcyc7XG5pbXBvcnQge0dyYWRDb25maWd9IGZyb20gJy4uL2tlcm5lbF9yZWdpc3RyeSc7XG5pbXBvcnQge2Rpdn0gZnJvbSAnLi4vb3BzL2Rpdic7XG5pbXBvcnQge211bH0gZnJvbSAnLi4vb3BzL211bCc7XG5pbXBvcnQge25lZ30gZnJvbSAnLi4vb3BzL25lZyc7XG5pbXBvcnQge3Bvd30gZnJvbSAnLi4vb3BzL3Bvdyc7XG5pbXBvcnQge1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yJztcblxuZXhwb3J0IGNvbnN0IHJzcXJ0R3JhZENvbmZpZzogR3JhZENvbmZpZyA9IHtcbiAga2VybmVsTmFtZTogUnNxcnQsXG4gIGlucHV0c1RvU2F2ZTogWyd4J10sXG4gIGdyYWRGdW5jOiAoZHk6IFRlbnNvciwgc2F2ZWQ6IFRlbnNvcltdKSA9PiB7XG4gICAgY29uc3QgW3hdID0gc2F2ZWQ7XG4gICAgcmV0dXJuIHt4OiAoKSA9PiBuZWcoZGl2KGR5LCBtdWwocG93KHgsIDEuNSksIDIpKSl9O1xuICB9XG59O1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG5pbXBvcnQge1NlbGVjdFYyfSBmcm9tICcuLi9rZXJuZWxfbmFtZXMnO1xuaW1wb3J0IHtHcmFkQ29uZmlnfSBmcm9tICcuLi9rZXJuZWxfcmVnaXN0cnknO1xuaW1wb3J0IHtjYXN0fSBmcm9tICcuLi9vcHMvY2FzdCc7XG5pbXBvcnQge2xvZ2ljYWxOb3R9IGZyb20gJy4uL29wcy9sb2dpY2FsX25vdCc7XG5pbXBvcnQge211bH0gZnJvbSAnLi4vb3BzL211bCc7XG5pbXBvcnQge3plcm9zTGlrZX0gZnJvbSAnLi4vb3BzL3plcm9zX2xpa2UnO1xuaW1wb3J0IHtUZW5zb3J9IGZyb20gJy4uL3RlbnNvcic7XG5cbmV4cG9ydCBjb25zdCBzZWxlY3RWMlBvb2xHcmFkQ29uZmlnOiBHcmFkQ29uZmlnID0ge1xuICBrZXJuZWxOYW1lOiBTZWxlY3RWMixcbiAgaW5wdXRzVG9TYXZlOiBbJ2NvbmRpdGlvbiddLFxuICBncmFkRnVuYzogKGR5OiBUZW5zb3IsIHNhdmVkOiBUZW5zb3JbXSkgPT4ge1xuICAgIGNvbnN0IFtjb25kaXRpb25dID0gc2F2ZWQ7XG4gICAgcmV0dXJuIHtcbiAgICAgIC8vIFRPRE8oanVsaWFub2tzKTogUmV0dXJuIG51bGwgZm9yIGNvbmRpdGlvbiBncmFkaWVudFxuICAgICAgLy8gd2hlbiBiYWNrcHJvcCBzdXBwb3J0cyBpdC5cbiAgICAgIGNvbmRpdGlvbjogKCkgPT4gY2FzdCh6ZXJvc0xpa2UoY29uZGl0aW9uKSwgJ2Zsb2F0MzInKSxcbiAgICAgIHQ6ICgpID0+IG11bChkeSwgY2FzdChjb25kaXRpb24sIGR5LmR0eXBlKSksXG4gICAgICBlOiAoKSA9PiBtdWwoZHksIGNhc3QobG9naWNhbE5vdChjb25kaXRpb24pLCBkeS5kdHlwZSkpXG4gICAgfTtcbiAgfVxufTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cbmltcG9ydCB7U2VsdX0gZnJvbSAnLi4va2VybmVsX25hbWVzJztcbmltcG9ydCB7R3JhZENvbmZpZ30gZnJvbSAnLi4va2VybmVsX3JlZ2lzdHJ5JztcbmltcG9ydCB7Y2FzdH0gZnJvbSAnLi4vb3BzL2Nhc3QnO1xuaW1wb3J0IHtleHB9IGZyb20gJy4uL29wcy9leHAnO1xuaW1wb3J0IHtncmVhdGVyfSBmcm9tICcuLi9vcHMvZ3JlYXRlcic7XG5pbXBvcnQge211bH0gZnJvbSAnLi4vb3BzL211bCc7XG5pbXBvcnQge3NjYWxhcn0gZnJvbSAnLi4vb3BzL3NjYWxhcic7XG5pbXBvcnQge1NFTFVfU0NBTEUsIFNFTFVfU0NBTEVBTFBIQX0gZnJvbSAnLi4vb3BzL3NlbHVfdXRpbCc7XG5pbXBvcnQge3doZXJlfSBmcm9tICcuLi9vcHMvd2hlcmUnO1xuaW1wb3J0IHtUZW5zb3J9IGZyb20gJy4uL3RlbnNvcic7XG5cbmV4cG9ydCBjb25zdCBzZWx1R3JhZENvbmZpZzogR3JhZENvbmZpZyA9IHtcbiAga2VybmVsTmFtZTogU2VsdSxcbiAgaW5wdXRzVG9TYXZlOiBbJ3gnXSxcbiAgZ3JhZEZ1bmM6IChkeTogVGVuc29yLCBzYXZlZDogVGVuc29yW10pID0+IHtcbiAgICBjb25zdCBbeF0gPSBzYXZlZDtcbiAgICByZXR1cm4ge1xuICAgICAgeDogKCkgPT4ge1xuICAgICAgICBjb25zdCBtYXNrID0gZ3JlYXRlcih4LCBzY2FsYXIoMCkpO1xuXG4gICAgICAgIGNvbnN0IHNjYWxlQWxwaGEgPSBzY2FsYXIoU0VMVV9TQ0FMRUFMUEhBKTtcbiAgICAgICAgY29uc3Qgc2NhbGUgPSBzY2FsYXIoU0VMVV9TQ0FMRSk7XG5cbiAgICAgICAgY29uc3QgZ3JlYXRlclRoYW5aZXJvRGVyID0gbXVsKGR5LCBzY2FsZSk7XG4gICAgICAgIGNvbnN0IGxlc3NFcXVhbFplcm9EZXIgPVxuICAgICAgICAgICAgbXVsKG11bChkeSwgc2NhbGVBbHBoYSksIGV4cChjYXN0KHgsICdmbG9hdDMyJykpKTtcblxuICAgICAgICByZXR1cm4gd2hlcmUobWFzaywgZ3JlYXRlclRoYW5aZXJvRGVyLCBsZXNzRXF1YWxaZXJvRGVyKTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG59O1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG5pbXBvcnQge1NpZ21vaWR9IGZyb20gJy4uL2tlcm5lbF9uYW1lcyc7XG5pbXBvcnQge0dyYWRDb25maWd9IGZyb20gJy4uL2tlcm5lbF9yZWdpc3RyeSc7XG5pbXBvcnQge211bH0gZnJvbSAnLi4vb3BzL211bCc7XG5pbXBvcnQge3NjYWxhcn0gZnJvbSAnLi4vb3BzL3NjYWxhcic7XG5pbXBvcnQge3N1Yn0gZnJvbSAnLi4vb3BzL3N1Yic7XG5pbXBvcnQge1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yJztcblxuZXhwb3J0IGNvbnN0IHNpZ21vaWRHcmFkQ29uZmlnOiBHcmFkQ29uZmlnID0ge1xuICBrZXJuZWxOYW1lOiBTaWdtb2lkLFxuICBvdXRwdXRzVG9TYXZlOiBbdHJ1ZV0sXG4gIGdyYWRGdW5jOiAoZHk6IFRlbnNvciwgc2F2ZWQ6IFRlbnNvcltdKSA9PiB7XG4gICAgY29uc3QgW3ldID0gc2F2ZWQ7XG5cbiAgICByZXR1cm4ge3g6ICgpID0+IG11bChkeSwgbXVsKHksIHN1YihzY2FsYXIoMSksIHkpKSl9O1xuICB9XG59O1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG5pbXBvcnQge1NpZ259IGZyb20gJy4uL2tlcm5lbF9uYW1lcyc7XG5pbXBvcnQge0dyYWRDb25maWd9IGZyb20gJy4uL2tlcm5lbF9yZWdpc3RyeSc7XG5pbXBvcnQge3plcm9zTGlrZX0gZnJvbSAnLi4vb3BzL3plcm9zX2xpa2UnO1xuaW1wb3J0IHtUZW5zb3J9IGZyb20gJy4uL3RlbnNvcic7XG5cbmV4cG9ydCBjb25zdCBzaWduR3JhZENvbmZpZzogR3JhZENvbmZpZyA9IHtcbiAga2VybmVsTmFtZTogU2lnbixcbiAgZ3JhZEZ1bmM6IChkeTogVGVuc29yKSA9PiB7XG4gICAgcmV0dXJuIHt4OiAoKSA9PiB6ZXJvc0xpa2UoZHkpfTtcbiAgfVxufTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuaW1wb3J0IHtTaW59IGZyb20gJy4uL2tlcm5lbF9uYW1lcyc7XG5pbXBvcnQge0dyYWRDb25maWd9IGZyb20gJy4uL2tlcm5lbF9yZWdpc3RyeSc7XG5pbXBvcnQge2Nhc3R9IGZyb20gJy4uL29wcy9jYXN0JztcbmltcG9ydCB7Y29zfSBmcm9tICcuLi9vcHMvY29zJztcbmltcG9ydCB7bXVsfSBmcm9tICcuLi9vcHMvbXVsJztcbmltcG9ydCB7VGVuc29yfSBmcm9tICcuLi90ZW5zb3InO1xuXG5leHBvcnQgY29uc3Qgc2luR3JhZENvbmZpZzogR3JhZENvbmZpZyA9IHtcbiAga2VybmVsTmFtZTogU2luLFxuICBpbnB1dHNUb1NhdmU6IFsneCddLFxuICBncmFkRnVuYzogKGR5OiBUZW5zb3IsIHNhdmVkOiBUZW5zb3JbXSkgPT4ge1xuICAgIGNvbnN0IFt4XSA9IHNhdmVkO1xuICAgIHJldHVybiB7eDogKCkgPT4gbXVsKGNvcyhjYXN0KHgsICdmbG9hdDMyJykpLCBkeSl9O1xuICB9XG59O1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG5pbXBvcnQge1Npbmh9IGZyb20gJy4uL2tlcm5lbF9uYW1lcyc7XG5pbXBvcnQge0dyYWRDb25maWd9IGZyb20gJy4uL2tlcm5lbF9yZWdpc3RyeSc7XG5pbXBvcnQge2Nhc3R9IGZyb20gJy4uL29wcy9jYXN0JztcbmltcG9ydCB7Y29zaH0gZnJvbSAnLi4vb3BzL2Nvc2gnO1xuaW1wb3J0IHttdWx9IGZyb20gJy4uL29wcy9tdWwnO1xuaW1wb3J0IHtUZW5zb3J9IGZyb20gJy4uL3RlbnNvcic7XG5cbmV4cG9ydCBjb25zdCBzaW5oR3JhZENvbmZpZzogR3JhZENvbmZpZyA9IHtcbiAga2VybmVsTmFtZTogU2luaCxcbiAgaW5wdXRzVG9TYXZlOiBbJ3gnXSxcbiAgZ3JhZEZ1bmM6IChkeTogVGVuc29yLCBzYXZlZDogVGVuc29yW10pID0+IHtcbiAgICBjb25zdCBbeF0gPSBzYXZlZDtcblxuICAgIHJldHVybiB7eDogKCkgPT4gbXVsKGNvc2goY2FzdCh4LCAnZmxvYXQzMicpKSwgZHkpfTtcbiAgfVxufTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuaW1wb3J0IHtTbGljZSwgU2xpY2VBdHRyc30gZnJvbSAnLi4va2VybmVsX25hbWVzJztcbmltcG9ydCB7R3JhZENvbmZpZywgTmFtZWRBdHRyTWFwfSBmcm9tICcuLi9rZXJuZWxfcmVnaXN0cnknO1xuaW1wb3J0IHtwYWR9IGZyb20gJy4uL29wcy9wYWQnO1xuaW1wb3J0IHtwYXJzZVNsaWNlUGFyYW1zfSBmcm9tICcuLi9vcHMvc2xpY2VfdXRpbCc7XG5pbXBvcnQge1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yJztcblxuZXhwb3J0IGNvbnN0IHNsaWNlR3JhZENvbmZpZzogR3JhZENvbmZpZyA9IHtcbiAga2VybmVsTmFtZTogU2xpY2UsXG4gIGlucHV0c1RvU2F2ZTogWyd4J10sXG4gIGdyYWRGdW5jOiAoZHk6IFRlbnNvciwgc2F2ZWQ6IFRlbnNvcltdLCBhdHRyczogTmFtZWRBdHRyTWFwKSA9PiB7XG4gICAgY29uc3QgW3hdID0gc2F2ZWQ7XG4gICAgY29uc3Qge2JlZ2luLCBzaXplfSA9IGF0dHJzIGFzIHt9IGFzIFNsaWNlQXR0cnM7XG5cbiAgICBjb25zdCBpbnB1dFNoYXBlID0geC5zaGFwZTtcbiAgICBjb25zdCBbYmVnaW5fLCBzaXplX10gPSBwYXJzZVNsaWNlUGFyYW1zKHgsIGJlZ2luLCBzaXplKTtcblxuICAgIC8vIENyZWF0ZSBhbiBOeDIgcGFkZGluZyB3aGVyZSB0aGUgZmlyc3QgY29sdW1uIHJlcHJlc2VudHMgaG93IG1hbnlcbiAgICAvLyB6ZXJvcyBhcmUgcHJlcGVuZGVkIChhdCBzdGFydCkgZm9yIGVhY2ggZGltZW5zaW9uLCBhbmQgdGhlIHNlY29uZFxuICAgIC8vIGNvbHVtbiBpbmRpY2F0ZXMgaG93IG1hbnkgemVyb3MgYXJlIGFwcGVuZGVkIChhdCBlbmQpLlxuXG4gICAgLy8gVGhlIG51bWJlciBvZiB6ZXJvcyB0byBhcHBlbmQgaXMgdGhlIHNoYXBlIG9mIHRoZSBpbnB1dFxuICAgIC8vIGVsZW1lbnR3aXNlLXN1YnRyYWN0ZWQgYnkgYm90aCB0aGUgYmVnaW4gdmVjdG9yIGFuZCBzaXplcyB2ZWN0b3IuXG4gICAgY29uc3QgcGFkZGluZ3M6IEFycmF5PFtudW1iZXIsIG51bWJlcl0+ID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkeS5yYW5rOyBpKyspIHtcbiAgICAgIHBhZGRpbmdzLnB1c2goW2JlZ2luX1tpXSwgaW5wdXRTaGFwZVtpXSAtIGJlZ2luX1tpXSAtIHNpemVfW2ldXSk7XG4gICAgfVxuICAgIHJldHVybiB7eDogKCkgPT4gcGFkKGR5LCBwYWRkaW5ncyl9O1xuICB9XG59O1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG5pbXBvcnQge1NvZnRtYXgsIFNvZnRtYXhBdHRyc30gZnJvbSAnLi4va2VybmVsX25hbWVzJztcbmltcG9ydCB7R3JhZENvbmZpZywgTmFtZWRBdHRyTWFwfSBmcm9tICcuLi9rZXJuZWxfcmVnaXN0cnknO1xuaW1wb3J0IHttdWx9IGZyb20gJy4uL29wcy9tdWwnO1xuaW1wb3J0IHtzdWJ9IGZyb20gJy4uL29wcy9zdWInO1xuaW1wb3J0IHtzdW19IGZyb20gJy4uL29wcy9zdW0nO1xuaW1wb3J0IHtUZW5zb3J9IGZyb20gJy4uL3RlbnNvcic7XG5cbmV4cG9ydCBjb25zdCBzb2Z0bWF4R3JhZENvbmZpZzogR3JhZENvbmZpZyA9IHtcbiAga2VybmVsTmFtZTogU29mdG1heCxcbiAgb3V0cHV0c1RvU2F2ZTogW3RydWVdLFxuICBncmFkRnVuYzogKGR5OiBUZW5zb3IsIHNhdmVkOiBUZW5zb3JbXSwgYXR0cnM6IE5hbWVkQXR0ck1hcCkgPT4ge1xuICAgIGNvbnN0IFt5XSA9IHNhdmVkO1xuICAgIGNvbnN0IHtkaW19ID0gYXR0cnMgYXMge30gYXMgU29mdG1heEF0dHJzO1xuICAgIGNvbnN0IGtlZXBEaW1zID0gdHJ1ZTtcblxuICAgIGNvbnN0IGR5VGltZXNZID0gbXVsKGR5LCB5KTtcbiAgICByZXR1cm4ge1xuICAgICAgbG9naXRzOiAoKSA9PiBzdWIoZHlUaW1lc1ksIG11bChzdW0oZHlUaW1lc1ksIFtkaW1dLCBrZWVwRGltcyksIHkpKVxuICAgIH07XG4gIH1cbn07XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbmltcG9ydCB7U29mdHBsdXN9IGZyb20gJy4uL2tlcm5lbF9uYW1lcyc7XG5pbXBvcnQge0dyYWRDb25maWd9IGZyb20gJy4uL2tlcm5lbF9yZWdpc3RyeSc7XG5pbXBvcnQge211bH0gZnJvbSAnLi4vb3BzL211bCc7XG5pbXBvcnQge3NpZ21vaWR9IGZyb20gJy4uL29wcy9zaWdtb2lkJztcbmltcG9ydCB7VGVuc29yfSBmcm9tICcuLi90ZW5zb3InO1xuXG5leHBvcnQgY29uc3Qgc29mdHBsdXNHcmFkQ29uZmlnOiBHcmFkQ29uZmlnID0ge1xuICBrZXJuZWxOYW1lOiBTb2Z0cGx1cyxcbiAgaW5wdXRzVG9TYXZlOiBbJ3gnXSxcbiAgZ3JhZEZ1bmM6IChkeTogVGVuc29yLCBzYXZlZDogVGVuc29yW10pID0+IHtcbiAgICBjb25zdCBbeF0gPSBzYXZlZDtcblxuICAgIHJldHVybiB7eDogKCkgPT4gbXVsKGR5LCBzaWdtb2lkKHgpKX07XG4gIH1cbn07XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbmltcG9ydCB7U3FydH0gZnJvbSAnLi4va2VybmVsX25hbWVzJztcbmltcG9ydCB7R3JhZENvbmZpZ30gZnJvbSAnLi4va2VybmVsX3JlZ2lzdHJ5JztcbmltcG9ydCB7Y2FzdH0gZnJvbSAnLi4vb3BzL2Nhc3QnO1xuaW1wb3J0IHtkaXZ9IGZyb20gJy4uL29wcy9kaXYnO1xuaW1wb3J0IHttdWx9IGZyb20gJy4uL29wcy9tdWwnO1xuaW1wb3J0IHtzcXJ0fSBmcm9tICcuLi9vcHMvc3FydCc7XG5pbXBvcnQge1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yJztcblxuZXhwb3J0IGNvbnN0IHNxcnRHcmFkQ29uZmlnOiBHcmFkQ29uZmlnID0ge1xuICBrZXJuZWxOYW1lOiBTcXJ0LFxuICBpbnB1dHNUb1NhdmU6IFsneCddLFxuICBncmFkRnVuYzogKGR5OiBUZW5zb3IsIHNhdmVkOiBUZW5zb3JbXSkgPT4ge1xuICAgIGNvbnN0IFt4XSA9IHNhdmVkO1xuXG4gICAgcmV0dXJuIHt4OiAoKSA9PiBkaXYoZHksIG11bChzcXJ0KGNhc3QoeCwgJ2Zsb2F0MzInKSksIDIpKX07XG4gIH1cbn07XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbmltcG9ydCB7U3F1YXJlZERpZmZlcmVuY2V9IGZyb20gJy4uL2tlcm5lbF9uYW1lcyc7XG5pbXBvcnQge0dyYWRDb25maWd9IGZyb20gJy4uL2tlcm5lbF9yZWdpc3RyeSc7XG5pbXBvcnQge211bH0gZnJvbSAnLi4vb3BzL211bCc7XG5pbXBvcnQge3NjYWxhcn0gZnJvbSAnLi4vb3BzL3NjYWxhcic7XG5pbXBvcnQge3N1Yn0gZnJvbSAnLi4vb3BzL3N1Yic7XG5pbXBvcnQge1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yJztcblxuZXhwb3J0IGNvbnN0IHNxdWFyZWREaWZmZXJlbmNlR3JhZENvbmZpZzogR3JhZENvbmZpZyA9IHtcbiAga2VybmVsTmFtZTogU3F1YXJlZERpZmZlcmVuY2UsXG4gIGlucHV0c1RvU2F2ZTogWydhJywgJ2InXSxcbiAgZ3JhZEZ1bmM6IChkeTogVGVuc29yLCBzYXZlZDogVGVuc29yW10pID0+IHtcbiAgICBjb25zdCBbYSwgYl0gPSBzYXZlZDtcbiAgICBjb25zdCB0d28gPSBzY2FsYXIoMik7XG4gICAgY29uc3QgZGVyQSA9ICgpID0+IG11bChkeSwgbXVsKHR3bywgc3ViKGEsIGIpKSk7XG4gICAgY29uc3QgZGVyQiA9ICgpID0+IG11bChkeSwgbXVsKHR3bywgc3ViKGIsIGEpKSk7XG4gICAgcmV0dXJuIHthOiBkZXJBLCBiOiBkZXJCfTtcbiAgfVxufTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuaW1wb3J0IHtTcXVhcmV9IGZyb20gJy4uL2tlcm5lbF9uYW1lcyc7XG5pbXBvcnQge0dyYWRDb25maWd9IGZyb20gJy4uL2tlcm5lbF9yZWdpc3RyeSc7XG5pbXBvcnQge2Nhc3R9IGZyb20gJy4uL29wcy9jYXN0JztcbmltcG9ydCB7bXVsfSBmcm9tICcuLi9vcHMvbXVsJztcbmltcG9ydCB7VGVuc29yfSBmcm9tICcuLi90ZW5zb3InO1xuXG5leHBvcnQgY29uc3Qgc3F1YXJlR3JhZENvbmZpZzogR3JhZENvbmZpZyA9IHtcbiAga2VybmVsTmFtZTogU3F1YXJlLFxuICBpbnB1dHNUb1NhdmU6IFsneCddLFxuICBncmFkRnVuYzogKGR5OiBUZW5zb3IsIHNhdmVkOiBUZW5zb3JbXSkgPT4ge1xuICAgIGNvbnN0IFt4XSA9IHNhdmVkO1xuICAgIHJldHVybiB7eDogKCkgPT4gbXVsKGR5LCBtdWwoY2FzdCh4LCAnZmxvYXQzMicpLCAyKSl9O1xuICB9XG59O1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG5pbXBvcnQge1N0ZXB9IGZyb20gJy4uL2tlcm5lbF9uYW1lcyc7XG5pbXBvcnQge0dyYWRDb25maWd9IGZyb20gJy4uL2tlcm5lbF9yZWdpc3RyeSc7XG5pbXBvcnQge3plcm9zTGlrZX0gZnJvbSAnLi4vb3BzL3plcm9zX2xpa2UnO1xuaW1wb3J0IHtUZW5zb3J9IGZyb20gJy4uL3RlbnNvcic7XG5cbmV4cG9ydCBjb25zdCBzdGVwR3JhZENvbmZpZzogR3JhZENvbmZpZyA9IHtcbiAga2VybmVsTmFtZTogU3RlcCxcbiAgZ3JhZEZ1bmM6IChkeTogVGVuc29yKSA9PiB7XG4gICAgLy8gVE9ETyhtYW5yYWpncm92ZXIpOiBSZXR1cm4gbnVsbCBmb3IgZ3JhZGllbnRzIHdoZW4gYmFja3Byb3Agc3VwcG9ydHNcbiAgICAvLyBpdC5cbiAgICByZXR1cm4ge3g6ICgpID0+IHplcm9zTGlrZShkeSl9O1xuICB9XG59O1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuaW1wb3J0IHtTdWJ9IGZyb20gJy4uL2tlcm5lbF9uYW1lcyc7XG5pbXBvcnQge0dyYWRDb25maWd9IGZyb20gJy4uL2tlcm5lbF9yZWdpc3RyeSc7XG5pbXBvcnQgKiBhcyBicm9hZGNhc3RfdXRpbCBmcm9tICcuLi9vcHMvYnJvYWRjYXN0X3V0aWwnO1xuaW1wb3J0IHtuZWd9IGZyb20gJy4uL29wcy9uZWcnO1xuaW1wb3J0IHtyZXNoYXBlfSBmcm9tICcuLi9vcHMvcmVzaGFwZSc7XG5pbXBvcnQge3N1bX0gZnJvbSAnLi4vb3BzL3N1bSc7XG5pbXBvcnQge1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yJztcblxuZXhwb3J0IGNvbnN0IHN1YkdyYWRDb25maWc6IEdyYWRDb25maWcgPSB7XG4gIGtlcm5lbE5hbWU6IFN1YixcbiAgaW5wdXRzVG9TYXZlOiBbJ2EnLCAnYiddLFxuICBncmFkRnVuYzogKGR5OiBUZW5zb3IsIHNhdmVkOiBUZW5zb3JbXSkgPT4ge1xuICAgIGNvbnN0IFthLCBiXSA9IHNhdmVkO1xuICAgIGNvbnN0IG91dFNoYXBlID1cbiAgICAgICAgYnJvYWRjYXN0X3V0aWwuYXNzZXJ0QW5kR2V0QnJvYWRjYXN0U2hhcGUoYS5zaGFwZSwgYi5zaGFwZSk7XG5cbiAgICBjb25zdCBkZXJBID0gKCkgPT4ge1xuICAgICAgbGV0IHJlcyA9IGR5O1xuICAgICAgY29uc3QgcmVkdWNlQXhlcyA9IGJyb2FkY2FzdF91dGlsLmdldFJlZHVjdGlvbkF4ZXMoYS5zaGFwZSwgb3V0U2hhcGUpO1xuICAgICAgaWYgKHJlZHVjZUF4ZXMubGVuZ3RoID4gMCkge1xuICAgICAgICByZXMgPSBzdW0ocmVzLCByZWR1Y2VBeGVzKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXNoYXBlKHJlcywgYS5zaGFwZSk7XG4gICAgfTtcbiAgICBjb25zdCBkZXJCID0gKCkgPT4ge1xuICAgICAgbGV0IHJlcyA9IGR5O1xuICAgICAgY29uc3QgcmVkdWNlQXhlcyA9IGJyb2FkY2FzdF91dGlsLmdldFJlZHVjdGlvbkF4ZXMoYi5zaGFwZSwgb3V0U2hhcGUpO1xuICAgICAgaWYgKHJlZHVjZUF4ZXMubGVuZ3RoID4gMCkge1xuICAgICAgICByZXMgPSBzdW0ocmVzLCByZWR1Y2VBeGVzKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXNoYXBlKG5lZyhyZXMpLCBiLnNoYXBlKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIHthOiBkZXJBLCBiOiBkZXJCfTtcbiAgfVxufTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuaW1wb3J0IHtTdW0sIFN1bUF0dHJzfSBmcm9tICcuLi9rZXJuZWxfbmFtZXMnO1xuaW1wb3J0IHtHcmFkQ29uZmlnLCBOYW1lZEF0dHJNYXB9IGZyb20gJy4uL2tlcm5lbF9yZWdpc3RyeSc7XG5pbXBvcnQge211bH0gZnJvbSAnLi4vb3BzL211bCc7XG5pbXBvcnQge29uZXN9IGZyb20gJy4uL29wcy9vbmVzJztcbmltcG9ydCB7cmVzaGFwZX0gZnJvbSAnLi4vb3BzL3Jlc2hhcGUnO1xuaW1wb3J0IHtUZW5zb3J9IGZyb20gJy4uL3RlbnNvcic7XG5pbXBvcnQge3BhcnNlQXhpc1BhcmFtfSBmcm9tICcuLi91dGlsJztcblxuZXhwb3J0IGNvbnN0IHN1bUdyYWRDb25maWc6IEdyYWRDb25maWcgPSB7XG4gIGtlcm5lbE5hbWU6IFN1bSxcbiAgaW5wdXRzVG9TYXZlOiBbJ3gnXSxcbiAgZ3JhZEZ1bmM6IChkeTogVGVuc29yLCBzYXZlZDogVGVuc29yW10sIGF0dHJzOiBOYW1lZEF0dHJNYXApID0+IHtcbiAgICBjb25zdCBbeF0gPSBzYXZlZDtcbiAgICBjb25zdCBleHBhbmRlZER5U2hhcGUgPSB4LnNoYXBlLnNsaWNlKCk7XG4gICAgY29uc3Qge2F4aXN9ID0gYXR0cnMgYXMge30gYXMgU3VtQXR0cnM7XG5cbiAgICBjb25zdCBheGVzID0gcGFyc2VBeGlzUGFyYW0oYXhpcywgeC5zaGFwZSk7XG4gICAgYXhlcy5mb3JFYWNoKGF4aXMgPT4ge1xuICAgICAgZXhwYW5kZWREeVNoYXBlW2F4aXNdID0gMTtcbiAgICB9KTtcbiAgICBjb25zdCBleHBhbmRlZER5ID0gcmVzaGFwZShkeSwgZXhwYW5kZWREeVNoYXBlKTtcbiAgICBjb25zdCBkZXJYID0gbXVsKGV4cGFuZGVkRHksIG9uZXMoeC5zaGFwZSwgJ2Zsb2F0MzInKSk7XG5cbiAgICByZXR1cm4ge3g6ICgpID0+IGRlclh9O1xuICB9XG59O1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG5pbXBvcnQge1Rhbn0gZnJvbSAnLi4va2VybmVsX25hbWVzJztcbmltcG9ydCB7R3JhZENvbmZpZ30gZnJvbSAnLi4va2VybmVsX3JlZ2lzdHJ5JztcbmltcG9ydCB7Y29zfSBmcm9tICcuLi9vcHMvY29zJztcbmltcG9ydCB7ZGl2fSBmcm9tICcuLi9vcHMvZGl2JztcbmltcG9ydCB7c3F1YXJlfSBmcm9tICcuLi9vcHMvc3F1YXJlJztcbmltcG9ydCB7VGVuc29yfSBmcm9tICcuLi90ZW5zb3InO1xuXG5leHBvcnQgY29uc3QgdGFuR3JhZENvbmZpZzogR3JhZENvbmZpZyA9IHtcbiAga2VybmVsTmFtZTogVGFuLFxuICBpbnB1dHNUb1NhdmU6IFsneCddLFxuICBncmFkRnVuYzogKGR5OiBUZW5zb3IsIHNhdmVkOiBUZW5zb3JbXSkgPT4ge1xuICAgIGNvbnN0IFt4XSA9IHNhdmVkO1xuXG4gICAgcmV0dXJuIHt4OiAoKSA9PiBkaXYoZHksIHNxdWFyZShjb3MoeCkpKX07XG4gIH1cbn07XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbmltcG9ydCB7VGFuaH0gZnJvbSAnLi4va2VybmVsX25hbWVzJztcbmltcG9ydCB7R3JhZENvbmZpZ30gZnJvbSAnLi4va2VybmVsX3JlZ2lzdHJ5JztcbmltcG9ydCB7bXVsfSBmcm9tICcuLi9vcHMvbXVsJztcbmltcG9ydCB7c2NhbGFyfSBmcm9tICcuLi9vcHMvc2NhbGFyJztcbmltcG9ydCB7c3F1YXJlfSBmcm9tICcuLi9vcHMvc3F1YXJlJztcbmltcG9ydCB7c3VifSBmcm9tICcuLi9vcHMvc3ViJztcbmltcG9ydCB7VGVuc29yfSBmcm9tICcuLi90ZW5zb3InO1xuXG5leHBvcnQgY29uc3QgdGFuaEdyYWRDb25maWc6IEdyYWRDb25maWcgPSB7XG4gIGtlcm5lbE5hbWU6IFRhbmgsXG4gIG91dHB1dHNUb1NhdmU6IFt0cnVlXSxcbiAgZ3JhZEZ1bmM6IChkeTogVGVuc29yLCBzYXZlZDogVGVuc29yW10pID0+IHtcbiAgICBjb25zdCBbeV0gPSBzYXZlZDtcblxuICAgIHJldHVybiB7eDogKCkgPT4gbXVsKHN1YihzY2FsYXIoMSksIHNxdWFyZSh5KSksIGR5KX07XG4gIH1cbn07XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbmltcG9ydCB7VGlsZSwgVGlsZUF0dHJzfSBmcm9tICcuLi9rZXJuZWxfbmFtZXMnO1xuaW1wb3J0IHtHcmFkQ29uZmlnLCBOYW1lZEF0dHJNYXB9IGZyb20gJy4uL2tlcm5lbF9yZWdpc3RyeSc7XG5pbXBvcnQge2FkZH0gZnJvbSAnLi4vb3BzL2FkZCc7XG5pbXBvcnQge3NsaWNlfSBmcm9tICcuLi9vcHMvc2xpY2UnO1xuaW1wb3J0IHt6ZXJvc0xpa2V9IGZyb20gJy4uL29wcy96ZXJvc19saWtlJztcbmltcG9ydCB7VGVuc29yfSBmcm9tICcuLi90ZW5zb3InO1xuXG5leHBvcnQgY29uc3QgdGlsZUdyYWRDb25maWc6IEdyYWRDb25maWcgPSB7XG4gIGtlcm5lbE5hbWU6IFRpbGUsXG4gIGlucHV0c1RvU2F2ZTogWyd4J10sXG4gIGdyYWRGdW5jOiAoZHk6IFRlbnNvciwgc2F2ZWQ6IFRlbnNvcltdLCBhdHRyczogTmFtZWRBdHRyTWFwKSA9PiB7XG4gICAgY29uc3QgW3hdID0gc2F2ZWQ7XG4gICAgY29uc3Qge3JlcHN9ID0gYXR0cnMgYXMgdW5rbm93biBhcyBUaWxlQXR0cnM7XG5cbiAgICBjb25zdCBkZXJYID0gKCkgPT4ge1xuICAgICAgbGV0IHhHcmFkID0gemVyb3NMaWtlKHgpO1xuICAgICAgLy8gVE9ETyhjYWlzKTogTWF5YmUgcmVkdWNlIG1lbW9yeSBmb290cHJpbnQgYnkgYXZvaWRpbmcgcmVwZWF0ZWRcbiAgICAgIC8vIHNsaWNpbmcuXG4gICAgICBpZiAoeC5yYW5rID09PSAxKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmVwc1swXTsgKytpKSB7XG4gICAgICAgICAgeEdyYWQgPSBhZGQoeEdyYWQsIHNsaWNlKGR5LCBbaSAqIHguc2hhcGVbMF1dLCBbeC5zaGFwZVswXV0pKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICh4LnJhbmsgPT09IDIpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZXBzWzBdOyArK2kpIHtcbiAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHJlcHNbMV07ICsraikge1xuICAgICAgICAgICAgeEdyYWQgPSBhZGQoeEdyYWQsIHNsaWNlKGR5LCBbaSAqIHguc2hhcGVbMF0sIGogKiB4LnNoYXBlWzFdXSwgW1xuICAgICAgICAgICAgICAgICAgICAgICAgICB4LnNoYXBlWzBdLCB4LnNoYXBlWzFdXG4gICAgICAgICAgICAgICAgICAgICAgICBdKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHgucmFuayA9PT0gMykge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJlcHNbMF07ICsraSkge1xuICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgcmVwc1sxXTsgKytqKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBrID0gMDsgayA8IHJlcHNbMl07ICsraykge1xuICAgICAgICAgICAgICB4R3JhZCA9XG4gICAgICAgICAgICAgICAgICBhZGQoeEdyYWQsXG4gICAgICAgICAgICAgICAgICAgICAgc2xpY2UoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGR5LCBbaSAqIHguc2hhcGVbMF0sIGogKiB4LnNoYXBlWzFdLCBrICogeC5zaGFwZVsyXV0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIFt4LnNoYXBlWzBdLCB4LnNoYXBlWzFdLCB4LnNoYXBlWzJdXSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICh4LnJhbmsgPT09IDQpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZXBzWzBdOyArK2kpIHtcbiAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHJlcHNbMV07ICsraikge1xuICAgICAgICAgICAgZm9yIChsZXQgayA9IDA7IGsgPCByZXBzWzJdOyArK2spIHtcbiAgICAgICAgICAgICAgZm9yIChsZXQgbCA9IDA7IGwgPCByZXBzWzNdOyArK2wpIHtcbiAgICAgICAgICAgICAgICB4R3JhZCA9XG4gICAgICAgICAgICAgICAgICAgIGFkZCh4R3JhZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNsaWNlKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGR5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkgKiB4LnNoYXBlWzBdLCBqICogeC5zaGFwZVsxXSwgayAqIHguc2hhcGVbMl0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsICogeC5zaGFwZVszXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgW3guc2hhcGVbMF0sIHguc2hhcGVbMV0sIHguc2hhcGVbMl0sIHguc2hhcGVbM11dKSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAgIGBHcmFkaWVudCBmb3IgdGlsZSBvcGVyYXRpb24gaXMgbm90IGltcGxlbWVudGVkIGZvciByYW5rLWAgK1xuICAgICAgICAgICAgYCR7eC5yYW5rfSB0ZW5zb3JzIHlldC5gKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB4R3JhZDtcbiAgICB9O1xuICAgIHJldHVybiB7eDogZGVyWH07XG4gIH0sXG59O1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG5pbXBvcnQge1RyYW5zcG9zZSwgVHJhbnNwb3NlQXR0cnN9IGZyb20gJy4uL2tlcm5lbF9uYW1lcyc7XG5pbXBvcnQge0dyYWRDb25maWcsIE5hbWVkQXR0ck1hcH0gZnJvbSAnLi4va2VybmVsX3JlZ2lzdHJ5JztcbmltcG9ydCAqIGFzIGF4aXNfdXRpbCBmcm9tICcuLi9vcHMvYXhpc191dGlsJztcbmltcG9ydCB7dHJhbnNwb3NlfSBmcm9tICcuLi9vcHMvdHJhbnNwb3NlJztcbmltcG9ydCB7VGVuc29yfSBmcm9tICcuLi90ZW5zb3InO1xuXG5leHBvcnQgY29uc3QgdHJhbnNwb3NlR3JhZENvbmZpZzogR3JhZENvbmZpZyA9IHtcbiAga2VybmVsTmFtZTogVHJhbnNwb3NlLFxuICBncmFkRnVuYzogKGR5OiBUZW5zb3IsIHNhdmVkOiBUZW5zb3JbXSwgYXR0cnM6IE5hbWVkQXR0ck1hcCkgPT4ge1xuICAgIGNvbnN0IHRyYW5zcG9zZUF0dHJzOiBUcmFuc3Bvc2VBdHRycyA9IGF0dHJzIGFzIHt9IGFzIFRyYW5zcG9zZUF0dHJzO1xuICAgIGNvbnN0IHtwZXJtfSA9IHRyYW5zcG9zZUF0dHJzO1xuICAgIGNvbnN0IHVuZG9QZXJtID0gYXhpc191dGlsLmdldFVuZG9BeGVzUGVybXV0YXRpb24ocGVybSk7XG4gICAgcmV0dXJuIHt4OiAoKSA9PiB0cmFuc3Bvc2UoZHksIHVuZG9QZXJtKX07XG4gIH1cbn07XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5pbXBvcnQge1VucGFjaywgVW5wYWNrQXR0cnN9IGZyb20gJy4uL2tlcm5lbF9uYW1lcyc7XG5pbXBvcnQge0dyYWRDb25maWcsIE5hbWVkQXR0ck1hcH0gZnJvbSAnLi4va2VybmVsX3JlZ2lzdHJ5JztcbmltcG9ydCB7c3RhY2t9IGZyb20gJy4uL29wcy9zdGFjayc7XG5pbXBvcnQge1RlbnNvcn0gZnJvbSAnLi4vdGVuc29yJztcblxuZXhwb3J0IGNvbnN0IHVucGFja0dyYWRDb25maWc6IEdyYWRDb25maWcgPSB7XG4gIGtlcm5lbE5hbWU6IFVucGFjayxcbiAgZ3JhZEZ1bmM6IChkeTogVGVuc29yW10sIHNhdmVkOiBUZW5zb3JbXSwgYXR0cnM6IE5hbWVkQXR0ck1hcCkgPT4ge1xuICAgIGNvbnN0IHVucGFja0F0dHJzOiBVbnBhY2tBdHRycyA9IGF0dHJzIGFzIHt9IGFzIFVucGFja0F0dHJzO1xuICAgIGNvbnN0IHtheGlzfSA9IHVucGFja0F0dHJzO1xuICAgIHJldHVybiB7dmFsdWU6ICgpID0+IHN0YWNrKGR5LCBheGlzKX07XG4gIH1cbn07XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbmltcG9ydCB7VW5zb3J0ZWRTZWdtZW50U3VtfSBmcm9tICcuLi9rZXJuZWxfbmFtZXMnO1xuaW1wb3J0IHtHcmFkQ29uZmlnfSBmcm9tICcuLi9rZXJuZWxfcmVnaXN0cnknO1xuaW1wb3J0IHtleHBhbmREaW1zfSBmcm9tICcuLi9vcHMvZXhwYW5kX2RpbXMnO1xuaW1wb3J0IHtnYXRoZXJ9IGZyb20gJy4uL29wcy9nYXRoZXInO1xuaW1wb3J0IHtncmVhdGVyRXF1YWx9IGZyb20gJy4uL29wcy9ncmVhdGVyX2VxdWFsJztcbmltcG9ydCB7bG9naWNhbEFuZH0gZnJvbSAnLi4vb3BzL2xvZ2ljYWxfYW5kJztcbmltcG9ydCB7bWF4aW11bX0gZnJvbSAnLi4vb3BzL21heGltdW0nO1xuaW1wb3J0IHtvbmVzfSBmcm9tICcuLi9vcHMvb25lcyc7XG5pbXBvcnQge3NjYWxhcn0gZnJvbSAnLi4vb3BzL3NjYWxhcic7XG5pbXBvcnQge3doZXJlfSBmcm9tICcuLi9vcHMvd2hlcmUnO1xuaW1wb3J0IHt6ZXJvc0xpa2V9IGZyb20gJy4uL29wcy96ZXJvc19saWtlJztcbmltcG9ydCB7VGVuc29yLCBUZW5zb3IxRH0gZnJvbSAnLi4vdGVuc29yJztcblxuZXhwb3J0IGNvbnN0IHVuc29ydGVkU2VnbWVudFN1bUdyYWRDb25maWc6IEdyYWRDb25maWcgPSB7XG4gIGtlcm5lbE5hbWU6IFVuc29ydGVkU2VnbWVudFN1bSxcbiAgaW5wdXRzVG9TYXZlOiBbJ3NlZ21lbnRJZHMnXSxcbiAgZ3JhZEZ1bmM6IChkeTogVGVuc29yLCBzYXZlZDogVGVuc29yW10pID0+IHtcbiAgICBjb25zdCBbc2VnbWVudElkc10gPSBzYXZlZDtcblxuICAgIGNvbnN0IGRlclggPSAoKSA9PiB7XG4gICAgICByZXR1cm4gZ2F0aGVyRHJvcE5lZ2F0aXZlcyhkeSwgc2VnbWVudElkcyBhcyBUZW5zb3IxRCk7XG4gICAgfTtcbiAgICByZXR1cm4ge3g6IGRlclh9O1xuICB9XG59O1xuXG5mdW5jdGlvbiBnYXRoZXJEcm9wTmVnYXRpdmVzPFQgZXh0ZW5kcyBUZW5zb3I+KHg6IFQsIGluZGljZXM6IFRlbnNvcjFEKSB7XG4gIC8vIEhlbHBlciBmdW5jdGlvbiBmb3IgdW5zb3J0ZWQgc2VnbWVudCBvcHMuIEdhdGhlcnMgcGFyYW1zIGZvclxuICAvLyBwb3NpdGl2ZSBzZWdtZW50IGlkcyBhbmQgZ2F0aGVycyAwIGZvciBpbnB1dHMgd2l0aCBuZWdhdGl2ZSBzZWdtZW50IGlkLlxuICAvLyBNaXJyb3JzIF9HYXRoZXJEcm9wTmVnYXRpdmVzIGZyb20gdGVuc29yZmxvdy9weXRob24vb3BzL21hdGhfZ3JhZC5weVxuICBjb25zdCB6ZXJvQ2xpcHBlZEluZGljZXMgPSBtYXhpbXVtKGluZGljZXMsIHplcm9zTGlrZShpbmRpY2VzKSk7XG4gIGNvbnN0IGdhdGhlcmVkID0gZ2F0aGVyKHgsIHplcm9DbGlwcGVkSW5kaWNlcyBhcyBUZW5zb3IxRCk7XG4gIGxldCBpc1Bvc2l0aXZlID0gZ3JlYXRlckVxdWFsKGluZGljZXMsIHNjYWxhcigwLCAnaW50MzInKSk7XG4gIGNvbnN0IG51bUl0ZXJzID0gZ2F0aGVyZWQucmFuayAtIGlzUG9zaXRpdmUucmFuaztcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1JdGVyczsgKytpKSB7XG4gICAgaXNQb3NpdGl2ZSA9IGV4cGFuZERpbXMoaXNQb3NpdGl2ZSwgaSArIDEpO1xuICB9XG4gIGlzUG9zaXRpdmUgPSBsb2dpY2FsQW5kKGlzUG9zaXRpdmUsIG9uZXMoZ2F0aGVyZWQuc2hhcGUsICdib29sJykpO1xuICBjb25zdCB6ZXJvU2xpY2UgPSB6ZXJvc0xpa2UoZ2F0aGVyZWQpO1xuICByZXR1cm4gd2hlcmUoaXNQb3NpdGl2ZSwgZ2F0aGVyZWQsIHplcm9TbGljZSk7XG59XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbi8vIFRPRE8gdXBkYXRlIGltcG9ydCBwYXRoIG9uY2Ugb3AgaXMgbW9kdWxhcml6ZWQuXG5pbXBvcnQge2Fic30gZnJvbSAnLi4vLi4vb3BzL29wcyc7XG5pbXBvcnQge1RlbnNvcn0gZnJvbSAnLi4vLi4vdGVuc29yJztcbmltcG9ydCB7UmFua30gZnJvbSAnLi4vLi4vdHlwZXMnO1xuXG5kZWNsYXJlIG1vZHVsZSAnLi4vLi4vdGVuc29yJyB7XG4gIGludGVyZmFjZSBUZW5zb3I8UiBleHRlbmRzIFJhbmsgPSBSYW5rPiB7XG4gICAgYWJzPFQgZXh0ZW5kcyBUZW5zb3I+KHRoaXM6IFQpOiBUO1xuICB9XG59XG5cblRlbnNvci5wcm90b3R5cGUuYWJzID0gZnVuY3Rpb248VCBleHRlbmRzIFRlbnNvcj4odGhpczogVCkge1xuICB0aGlzLnRocm93SWZEaXNwb3NlZCgpO1xuICByZXR1cm4gYWJzKHRoaXMpO1xufTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuLy8gVE9ETyB1cGRhdGUgaW1wb3J0IHBhdGggb25jZSBvcCBpcyBtb2R1bGFyaXplZC5cbmltcG9ydCB7YWNvc30gZnJvbSAnLi4vLi4vb3BzL29wcyc7XG5pbXBvcnQge1RlbnNvcn0gZnJvbSAnLi4vLi4vdGVuc29yJztcbmltcG9ydCB7UmFua30gZnJvbSAnLi4vLi4vdHlwZXMnO1xuXG5kZWNsYXJlIG1vZHVsZSAnLi4vLi4vdGVuc29yJyB7XG4gIGludGVyZmFjZSBUZW5zb3I8UiBleHRlbmRzIFJhbmsgPSBSYW5rPiB7XG4gICAgYWNvczxUIGV4dGVuZHMgVGVuc29yPih0aGlzOiBUKTogVDtcbiAgfVxufVxuXG5UZW5zb3IucHJvdG90eXBlLmFjb3MgPSBmdW5jdGlvbjxUIGV4dGVuZHMgVGVuc29yPih0aGlzOiBUKSB7XG4gIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCk7XG4gIHJldHVybiBhY29zKHRoaXMpO1xufTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuLy8gVE9ETyB1cGRhdGUgaW1wb3J0IHBhdGggb25jZSBvcCBpcyBtb2R1bGFyaXplZC5cbmltcG9ydCB7YWNvc2h9IGZyb20gJy4uLy4uL29wcy9vcHMnO1xuaW1wb3J0IHtUZW5zb3J9IGZyb20gJy4uLy4uL3RlbnNvcic7XG5pbXBvcnQge1Jhbmt9IGZyb20gJy4uLy4uL3R5cGVzJztcblxuZGVjbGFyZSBtb2R1bGUgJy4uLy4uL3RlbnNvcicge1xuICBpbnRlcmZhY2UgVGVuc29yPFIgZXh0ZW5kcyBSYW5rID0gUmFuaz4ge1xuICAgIGFjb3NoPFQgZXh0ZW5kcyBUZW5zb3I+KHRoaXM6IFQpOiBUO1xuICB9XG59XG5cblRlbnNvci5wcm90b3R5cGUuYWNvc2ggPSBmdW5jdGlvbjxUIGV4dGVuZHMgVGVuc29yPih0aGlzOiBUKSB7XG4gIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCk7XG4gIHJldHVybiBhY29zaCh0aGlzKTtcbn07XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbi8vIFRPRE8gdXBkYXRlIGltcG9ydCBwYXRoIG9uY2Ugb3AgaXMgbW9kdWxhcml6ZWQuXG5pbXBvcnQge2FkZFN0cmljdH0gZnJvbSAnLi4vLi4vb3BzL29wcyc7XG5pbXBvcnQge1RlbnNvcn0gZnJvbSAnLi4vLi4vdGVuc29yJztcbmltcG9ydCB7UmFuaywgVGVuc29yTGlrZX0gZnJvbSAnLi4vLi4vdHlwZXMnO1xuXG5kZWNsYXJlIG1vZHVsZSAnLi4vLi4vdGVuc29yJyB7XG4gIGludGVyZmFjZSBUZW5zb3I8UiBleHRlbmRzIFJhbmsgPSBSYW5rPiB7XG4gICAgYWRkU3RyaWN0PFQgZXh0ZW5kcyBUZW5zb3I+KHRoaXM6IFQsIHg6IFR8VGVuc29yTGlrZSk6IFQ7XG4gIH1cbn1cblxuLyoqXG4gKiBAZGVwcmVjYXRlZCBzdHJpY3QgdmFyaWFudHMgb2Ygb3BzIGhhdmUgYmVlbiBkZXByZWNhdGVkXG4gKi9cblRlbnNvci5wcm90b3R5cGUuYWRkU3RyaWN0ID0gZnVuY3Rpb248VCBleHRlbmRzIFRlbnNvcj4oXG4gICAgdGhpczogVCwgeDogVHxUZW5zb3JMaWtlKSB7XG4gIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCk7XG4gIHJldHVybiBhZGRTdHJpY3QodGhpcywgeCk7XG59O1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuaW1wb3J0IHthZGR9IGZyb20gJy4uLy4uL29wcy9hZGQnO1xuaW1wb3J0IHtUZW5zb3J9IGZyb20gJy4uLy4uL3RlbnNvcic7XG5pbXBvcnQge1JhbmssIFRlbnNvckxpa2V9IGZyb20gJy4uLy4uL3R5cGVzJztcblxuZGVjbGFyZSBtb2R1bGUgJy4uLy4uL3RlbnNvcicge1xuICBpbnRlcmZhY2UgVGVuc29yPFIgZXh0ZW5kcyBSYW5rID0gUmFuaz4ge1xuICAgIGFkZDxUIGV4dGVuZHMgVGVuc29yPihiOiBUZW5zb3J8VGVuc29yTGlrZSk6IFQ7XG4gIH1cbn1cblxuVGVuc29yLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbjxUIGV4dGVuZHMgVGVuc29yPihiOiBUZW5zb3J8VGVuc29yTGlrZSk6IFQge1xuICB0aGlzLnRocm93SWZEaXNwb3NlZCgpO1xuICByZXR1cm4gYWRkKHRoaXMsIGIpO1xufTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cbmltcG9ydCB7YWxsfSBmcm9tICcuLi8uLi9vcHMvYWxsJztcbmltcG9ydCB7VGVuc29yfSBmcm9tICcuLi8uLi90ZW5zb3InO1xuaW1wb3J0IHtSYW5rfSBmcm9tICcuLi8uLi90eXBlcyc7XG5cbmRlY2xhcmUgbW9kdWxlICcuLi8uLi90ZW5zb3InIHtcbiAgaW50ZXJmYWNlIFRlbnNvcjxSIGV4dGVuZHMgUmFuayA9IFJhbms+IHtcbiAgICBhbGw8VCBleHRlbmRzIFRlbnNvcj4odGhpczogVCwgYXhpcz86IG51bWJlcnxudW1iZXJbXSwga2VlcERpbXM/OiBib29sZWFuKTpcbiAgICAgICAgVDtcbiAgfVxufVxuXG5UZW5zb3IucHJvdG90eXBlLmFsbCA9IGZ1bmN0aW9uPFQgZXh0ZW5kcyBUZW5zb3I+KFxuICAgIHRoaXM6IFQsIGF4aXM/OiBudW1iZXJ8bnVtYmVyW10sIGtlZXBEaW1zPzogYm9vbGVhbik6IFQge1xuICB0aGlzLnRocm93SWZEaXNwb3NlZCgpO1xuICByZXR1cm4gYWxsKHRoaXMsIGF4aXMsIGtlZXBEaW1zKTtcbn07XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5pbXBvcnQge2FueX0gZnJvbSAnLi4vLi4vb3BzL2FueSc7XG5pbXBvcnQge1RlbnNvcn0gZnJvbSAnLi4vLi4vdGVuc29yJztcbmltcG9ydCB7UmFua30gZnJvbSAnLi4vLi4vdHlwZXMnO1xuXG5kZWNsYXJlIG1vZHVsZSAnLi4vLi4vdGVuc29yJyB7XG4gIGludGVyZmFjZSBUZW5zb3I8UiBleHRlbmRzIFJhbmsgPSBSYW5rPiB7XG4gICAgYW55PFQgZXh0ZW5kcyBUZW5zb3I+KHRoaXM6IFQsIGF4aXM/OiBudW1iZXJ8bnVtYmVyW10sIGtlZXBEaW1zPzogYm9vbGVhbik6XG4gICAgICAgIFQ7XG4gIH1cbn1cblxuVGVuc29yLnByb3RvdHlwZS5hbnkgPSBmdW5jdGlvbjxUIGV4dGVuZHMgVGVuc29yPihcbiAgICB0aGlzOiBULCBheGlzPzogbnVtYmVyfG51bWJlcltdLCBrZWVwRGltcz86IGJvb2xlYW4pOiBUIHtcbiAgdGhpcy50aHJvd0lmRGlzcG9zZWQoKTtcbiAgcmV0dXJuIGFueSh0aGlzLCBheGlzLCBrZWVwRGltcyk7XG59O1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuaW1wb3J0IHthcmdNYXh9IGZyb20gJy4uLy4uL29wcy9hcmdfbWF4JztcbmltcG9ydCB7VGVuc29yfSBmcm9tICcuLi8uLi90ZW5zb3InO1xuaW1wb3J0IHtSYW5rfSBmcm9tICcuLi8uLi90eXBlcyc7XG5cbmRlY2xhcmUgbW9kdWxlICcuLi8uLi90ZW5zb3InIHtcbiAgaW50ZXJmYWNlIFRlbnNvcjxSIGV4dGVuZHMgUmFuayA9IFJhbms+IHtcbiAgICBhcmdNYXg8VCBleHRlbmRzIFRlbnNvcj4oYXhpcz86IG51bWJlcik6IFQ7XG4gIH1cbn1cblxuVGVuc29yLnByb3RvdHlwZS5hcmdNYXggPSBmdW5jdGlvbjxUIGV4dGVuZHMgVGVuc29yPihheGlzPzogbnVtYmVyKTogVCB7XG4gIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCk7XG4gIHJldHVybiBhcmdNYXgodGhpcywgYXhpcyk7XG59O1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuaW1wb3J0IHthcmdNaW59IGZyb20gJy4uLy4uL29wcy9hcmdfbWluJztcbmltcG9ydCB7VGVuc29yfSBmcm9tICcuLi8uLi90ZW5zb3InO1xuaW1wb3J0IHtSYW5rfSBmcm9tICcuLi8uLi90eXBlcyc7XG5cbmRlY2xhcmUgbW9kdWxlICcuLi8uLi90ZW5zb3InIHtcbiAgaW50ZXJmYWNlIFRlbnNvcjxSIGV4dGVuZHMgUmFuayA9IFJhbms+IHtcbiAgICBhcmdNaW48VCBleHRlbmRzIFRlbnNvcj4oYXhpcz86IG51bWJlcik6IFQ7XG4gIH1cbn1cblxuVGVuc29yLnByb3RvdHlwZS5hcmdNaW4gPSBmdW5jdGlvbjxUIGV4dGVuZHMgVGVuc29yPihheGlzOiBudW1iZXIpOiBUIHtcbiAgdGhpcy50aHJvd0lmRGlzcG9zZWQoKTtcbiAgcmV0dXJuIGFyZ01pbih0aGlzLCBheGlzKTtcbn07XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbmltcG9ydCB7cmVzaGFwZX0gZnJvbSAnLi4vLi4vb3BzL3Jlc2hhcGUnO1xuaW1wb3J0IHtTY2FsYXIsIFRlbnNvcn0gZnJvbSAnLi4vLi4vdGVuc29yJztcbmltcG9ydCB7UmFua30gZnJvbSAnLi4vLi4vdHlwZXMnO1xuaW1wb3J0IHthc3NlcnR9IGZyb20gJy4uLy4uL3V0aWwnO1xuXG5kZWNsYXJlIG1vZHVsZSAnLi4vLi4vdGVuc29yJyB7XG4gIGludGVyZmFjZSBUZW5zb3I8UiBleHRlbmRzIFJhbmsgPSBSYW5rPiB7XG4gICAgYXNTY2FsYXI8VCBleHRlbmRzIFRlbnNvcj4oKTogU2NhbGFyO1xuICB9XG59XG5cbi8qKiBDb252ZXJ0cyBhIHNpemUtMSBgdGYuVGVuc29yYCB0byBhIGB0Zi5TY2FsYXJgLlxuICogQGRvYyB7aGVhZGluZzogJ1RlbnNvcnMnLCBzdWJoZWFkaW5nOiAnQ2xhc3Nlcyd9XG4gKi9cblRlbnNvci5wcm90b3R5cGUuYXNTY2FsYXIgPSBmdW5jdGlvbjxUIGV4dGVuZHMgVGVuc29yPih0aGlzOiBUKTogU2NhbGFyIHtcbiAgdGhpcy50aHJvd0lmRGlzcG9zZWQoKTtcbiAgYXNzZXJ0KHRoaXMuc2l6ZSA9PT0gMSwgKCkgPT4gJ1RoZSBhcnJheSBtdXN0IGhhdmUgb25seSAxIGVsZW1lbnQuJyk7XG4gIHJldHVybiByZXNoYXBlKHRoaXMsIFtdKTtcbn07XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbi8vIFRPRE8gdXBkYXRlIGltcG9ydCBwYXRoIG9uY2Ugb3AgaXMgbW9kdWxhcml6ZWQuXG5pbXBvcnQge2Nhc3R9IGZyb20gJy4uLy4uL29wcy9vcHMnO1xuaW1wb3J0IHtUZW5zb3J9IGZyb20gJy4uLy4uL3RlbnNvcic7XG5pbXBvcnQge0RhdGFUeXBlLCBSYW5rfSBmcm9tICcuLi8uLi90eXBlcyc7XG5cbmRlY2xhcmUgbW9kdWxlICcuLi8uLi90ZW5zb3InIHtcbiAgaW50ZXJmYWNlIFRlbnNvcjxSIGV4dGVuZHMgUmFuayA9IFJhbms+IHtcbiAgICBhc1R5cGU8VCBleHRlbmRzIFRlbnNvcj4odGhpczogVCwgZHR5cGU6IERhdGFUeXBlKTogVDtcbiAgfVxufVxuXG4vKipcbiAqIENhc3RzIGEgYHRmLlRlbnNvcmAgdG8gYSBzcGVjaWZpZWQgZHR5cGUuXG4gKlxuICogQHBhcmFtIGR0eXBlIERhdGEtdHlwZSB0byBjYXN0IHRoZSB0ZW5zb3IgdG8uXG4gKlxuICogQGRvYyB7aGVhZGluZzogJ1RlbnNvcnMnLCBzdWJoZWFkaW5nOiAnQ2xhc3Nlcyd9XG4gKi9cblRlbnNvci5wcm90b3R5cGUuYXNUeXBlID0gZnVuY3Rpb248VCBleHRlbmRzIFRlbnNvcj4oXG4gICAgdGhpczogVCwgZHR5cGU6IERhdGFUeXBlKTogVCB7XG4gIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCk7XG4gIHJldHVybiBjYXN0PFQ+KHRoaXMsIGR0eXBlKTtcbn07XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbmltcG9ydCB7cmVzaGFwZX0gZnJvbSAnLi4vLi4vb3BzL3Jlc2hhcGUnO1xuaW1wb3J0IHtUZW5zb3J9IGZyb20gJy4uLy4uL3RlbnNvcic7XG5pbXBvcnQge1Jhbmt9IGZyb20gJy4uLy4uL3R5cGVzJztcblxuZGVjbGFyZSBtb2R1bGUgJy4uLy4uL3RlbnNvcicge1xuICBpbnRlcmZhY2UgVGVuc29yPFIgZXh0ZW5kcyBSYW5rID0gUmFuaz4ge1xuICAgIGFzMUQ8VCBleHRlbmRzIFRlbnNvcj4oKTogVGVuc29yMUQ7XG4gIH1cbn1cblxuLyoqIENvbnZlcnRzIGEgYHRmLlRlbnNvcmAgdG8gYSBgdGYuVGVuc29yMURgLlxuICogQGRvYyB7aGVhZGluZzogJ1RlbnNvcnMnLCBzdWJoZWFkaW5nOiAnQ2xhc3Nlcyd9XG4gKi9cblRlbnNvci5wcm90b3R5cGUuYXMxRCA9IGZ1bmN0aW9uPFQgZXh0ZW5kcyBUZW5zb3I+KCk6IFQge1xuICB0aGlzLnRocm93SWZEaXNwb3NlZCgpO1xuICByZXR1cm4gcmVzaGFwZSh0aGlzLCBbdGhpcy5zaXplXSkgYXMgVDtcbn07XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbmltcG9ydCB7cmVzaGFwZX0gZnJvbSAnLi4vLi4vb3BzL3Jlc2hhcGUnO1xuaW1wb3J0IHtUZW5zb3J9IGZyb20gJy4uLy4uL3RlbnNvcic7XG5pbXBvcnQge1Jhbmt9IGZyb20gJy4uLy4uL3R5cGVzJztcblxuZGVjbGFyZSBtb2R1bGUgJy4uLy4uL3RlbnNvcicge1xuICBpbnRlcmZhY2UgVGVuc29yPFIgZXh0ZW5kcyBSYW5rID0gUmFuaz4ge1xuICAgIGFzMkQ8VCBleHRlbmRzIFRlbnNvcj4ocm93czogbnVtYmVyLCBjb2x1bW5zOiBudW1iZXIpOiBUZW5zb3IyRDtcbiAgfVxufVxuXG4vKipcbiAqIENvbnZlcnRzIGEgYHRmLlRlbnNvcmAgdG8gYSBgdGYuVGVuc29yMkRgLlxuICpcbiAqIEBwYXJhbSByb3dzIE51bWJlciBvZiByb3dzIGluIGB0Zi5UZW5zb3IyRGAuXG4gKiBAcGFyYW0gY29sdW1ucyBOdW1iZXIgb2YgY29sdW1ucyBpbiBgdGYuVGVuc29yMkRgLlxuICogQGRvYyB7aGVhZGluZzogJ1RlbnNvcnMnLCBzdWJoZWFkaW5nOiAnQ2xhc3Nlcyd9XG4gKi9cblRlbnNvci5wcm90b3R5cGUuYXMyRCA9IGZ1bmN0aW9uPFQgZXh0ZW5kcyBUZW5zb3I+KFxuICAgIHJvd3M6IG51bWJlciwgY29sdW1uczogbnVtYmVyKTogVCB7XG4gIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCk7XG4gIHJldHVybiByZXNoYXBlKHRoaXMsIFtyb3dzLCBjb2x1bW5zXSkgYXMgVDtcbn07XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbmltcG9ydCB7cmVzaGFwZX0gZnJvbSAnLi4vLi4vb3BzL3Jlc2hhcGUnO1xuaW1wb3J0IHtUZW5zb3J9IGZyb20gJy4uLy4uL3RlbnNvcic7XG5pbXBvcnQge1Jhbmt9IGZyb20gJy4uLy4uL3R5cGVzJztcblxuZGVjbGFyZSBtb2R1bGUgJy4uLy4uL3RlbnNvcicge1xuICBpbnRlcmZhY2UgVGVuc29yPFIgZXh0ZW5kcyBSYW5rID0gUmFuaz4ge1xuICAgIGFzM0Q8VCBleHRlbmRzIFRlbnNvcj4ocm93czogbnVtYmVyLCBjb2x1bW5zOiBudW1iZXIsIGRlcHRoOiBudW1iZXIpOlxuICAgICAgICBUZW5zb3IzRDtcbiAgfVxufVxuXG4vKipcbiAqIENvbnZlcnRzIGEgYHRmLlRlbnNvcmAgdG8gYSBgdGYuVGVuc29yM0RgLlxuICpcbiAqIEBwYXJhbSByb3dzIE51bWJlciBvZiByb3dzIGluIGB0Zi5UZW5zb3IzRGAuXG4gKiBAcGFyYW0gY29sdW1ucyBOdW1iZXIgb2YgY29sdW1ucyBpbiBgdGYuVGVuc29yM0RgLlxuICogQHBhcmFtIGRlcHRoIERlcHRoIG9mIGB0Zi5UZW5zb3IzRGAuXG4gKiBAZG9jIHtoZWFkaW5nOiAnVGVuc29ycycsIHN1YmhlYWRpbmc6ICdDbGFzc2VzJ31cbiAqL1xuVGVuc29yLnByb3RvdHlwZS5hczNEID0gZnVuY3Rpb248VCBleHRlbmRzIFRlbnNvcj4oXG4gICAgcm93czogbnVtYmVyLCBjb2x1bW5zOiBudW1iZXIsIGRlcHRoOiBudW1iZXIpOiBUIHtcbiAgdGhpcy50aHJvd0lmRGlzcG9zZWQoKTtcbiAgcmV0dXJuIHJlc2hhcGUodGhpcywgW3Jvd3MsIGNvbHVtbnMsIGRlcHRoXSkgYXMgVDtcbn07XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbmltcG9ydCB7cmVzaGFwZX0gZnJvbSAnLi4vLi4vb3BzL3Jlc2hhcGUnO1xuaW1wb3J0IHtUZW5zb3J9IGZyb20gJy4uLy4uL3RlbnNvcic7XG5pbXBvcnQge1Jhbmt9IGZyb20gJy4uLy4uL3R5cGVzJztcblxuZGVjbGFyZSBtb2R1bGUgJy4uLy4uL3RlbnNvcicge1xuICBpbnRlcmZhY2UgVGVuc29yPFIgZXh0ZW5kcyBSYW5rID0gUmFuaz4ge1xuICAgIGFzNEQ8VCBleHRlbmRzIFRlbnNvcj4oXG4gICAgICAgIHJvd3M6IG51bWJlciwgY29sdW1uczogbnVtYmVyLCBkZXB0aDogbnVtYmVyLCBkZXB0aDI6IG51bWJlcik6IFRlbnNvcjREO1xuICB9XG59XG5cbi8qKlxuICogQ29udmVydHMgYSBgdGYuVGVuc29yYCB0byBhIGB0Zi5UZW5zb3I0RGAuXG4gKlxuICogQHBhcmFtIHJvd3MgTnVtYmVyIG9mIHJvd3MgaW4gYHRmLlRlbnNvcjREYC5cbiAqIEBwYXJhbSBjb2x1bW5zIE51bWJlciBvZiBjb2x1bW5zIGluIGB0Zi5UZW5zb3I0RGAuXG4gKiBAcGFyYW0gZGVwdGggRGVwdGggb2YgYHRmLlRlbnNvcjREYC5cbiAqIEBwYXJhbSBkZXB0aDIgNHRoIGRpbWVuc2lvbiBvZiBgdGYuVGVuc29yNERgLlxuICogQGRvYyB7aGVhZGluZzogJ1RlbnNvcnMnLCBzdWJoZWFkaW5nOiAnQ2xhc3Nlcyd9XG4gKi9cblRlbnNvci5wcm90b3R5cGUuYXM0RCA9IGZ1bmN0aW9uPFQgZXh0ZW5kcyBUZW5zb3I+KFxuICAgIHJvd3M6IG51bWJlciwgY29sdW1uczogbnVtYmVyLCBkZXB0aDogbnVtYmVyLCBkZXB0aDI6IG51bWJlcik6IFQge1xuICB0aGlzLnRocm93SWZEaXNwb3NlZCgpO1xuICByZXR1cm4gcmVzaGFwZSh0aGlzLCBbcm93cywgY29sdW1ucywgZGVwdGgsIGRlcHRoMl0pIGFzIFQ7XG59O1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG5pbXBvcnQge3Jlc2hhcGV9IGZyb20gJy4uLy4uL29wcy9yZXNoYXBlJztcbmltcG9ydCB7VGVuc29yfSBmcm9tICcuLi8uLi90ZW5zb3InO1xuaW1wb3J0IHtSYW5rfSBmcm9tICcuLi8uLi90eXBlcyc7XG5cbmRlY2xhcmUgbW9kdWxlICcuLi8uLi90ZW5zb3InIHtcbiAgaW50ZXJmYWNlIFRlbnNvcjxSIGV4dGVuZHMgUmFuayA9IFJhbms+IHtcbiAgICBhczVEPFQgZXh0ZW5kcyBUZW5zb3I+KFxuICAgICAgICByb3dzOiBudW1iZXIsIGNvbHVtbnM6IG51bWJlciwgZGVwdGg6IG51bWJlciwgZGVwdGgyOiBudW1iZXIsXG4gICAgICAgIGRlcHRoMzogbnVtYmVyKTogVGVuc29yNUQ7XG4gIH1cbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBhIGB0Zi5UZW5zb3JgIHRvIGEgYHRmLlRlbnNvcjVEYC5cbiAqXG4gKiBAcGFyYW0gcm93cyBOdW1iZXIgb2Ygcm93cyBpbiBgdGYuVGVuc29yNURgLlxuICogQHBhcmFtIGNvbHVtbnMgTnVtYmVyIG9mIGNvbHVtbnMgaW4gYHRmLlRlbnNvcjVEYC5cbiAqIEBwYXJhbSBkZXB0aCBEZXB0aCBvZiBgdGYuVGVuc29yNURgLlxuICogQHBhcmFtIGRlcHRoMiA0dGggZGltZW5zaW9uIG9mIGB0Zi5UZW5zb3I1RGAuXG4gKiBAcGFyYW0gZGVwdGgzIDV0aCBkaW1lbnNpb24gb2YgJ3RmLlRlbnNvcjVEJ1xuICpcbiAqIEBkb2Mge2hlYWRpbmc6ICdUZW5zb3JzJywgc3ViaGVhZGluZzogJ0NsYXNzZXMnfVxuICovXG5UZW5zb3IucHJvdG90eXBlLmFzNUQgPSBmdW5jdGlvbjxUIGV4dGVuZHMgVGVuc29yPihcbiAgICByb3dzOiBudW1iZXIsIGNvbHVtbnM6IG51bWJlciwgZGVwdGg6IG51bWJlciwgZGVwdGgyOiBudW1iZXIsXG4gICAgZGVwdGgzOiBudW1iZXIpOiBUIHtcbiAgdGhpcy50aHJvd0lmRGlzcG9zZWQoKTtcbiAgcmV0dXJuIHJlc2hhcGUodGhpcywgW3Jvd3MsIGNvbHVtbnMsIGRlcHRoLCBkZXB0aDIsIGRlcHRoM10pIGFzIFQ7XG59O1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG4vLyBUT0RPIHVwZGF0ZSBpbXBvcnQgcGF0aCBvbmNlIG9wIGlzIG1vZHVsYXJpemVkLlxuaW1wb3J0IHthc2lufSBmcm9tICcuLi8uLi9vcHMvb3BzJztcbmltcG9ydCB7VGVuc29yfSBmcm9tICcuLi8uLi90ZW5zb3InO1xuaW1wb3J0IHtSYW5rfSBmcm9tICcuLi8uLi90eXBlcyc7XG5cbmRlY2xhcmUgbW9kdWxlICcuLi8uLi90ZW5zb3InIHtcbiAgaW50ZXJmYWNlIFRlbnNvcjxSIGV4dGVuZHMgUmFuayA9IFJhbms+IHtcbiAgICBhc2luPFQgZXh0ZW5kcyBUZW5zb3I+KHRoaXM6IFQpOiBUO1xuICB9XG59XG5cblRlbnNvci5wcm90b3R5cGUuYXNpbiA9IGZ1bmN0aW9uPFQgZXh0ZW5kcyBUZW5zb3I+KHRoaXM6IFQpOiBUIHtcbiAgdGhpcy50aHJvd0lmRGlzcG9zZWQoKTtcbiAgcmV0dXJuIGFzaW4odGhpcyk7XG59O1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG4vLyBUT0RPIHVwZGF0ZSBpbXBvcnQgcGF0aCBvbmNlIG9wIGlzIG1vZHVsYXJpemVkLlxuaW1wb3J0IHthc2luaH0gZnJvbSAnLi4vLi4vb3BzL29wcyc7XG5pbXBvcnQge1RlbnNvcn0gZnJvbSAnLi4vLi4vdGVuc29yJztcbmltcG9ydCB7UmFua30gZnJvbSAnLi4vLi4vdHlwZXMnO1xuXG5kZWNsYXJlIG1vZHVsZSAnLi4vLi4vdGVuc29yJyB7XG4gIGludGVyZmFjZSBUZW5zb3I8UiBleHRlbmRzIFJhbmsgPSBSYW5rPiB7XG4gICAgYXNpbmg8VCBleHRlbmRzIFRlbnNvcj4odGhpczogVCk6IFQ7XG4gIH1cbn1cblxuVGVuc29yLnByb3RvdHlwZS5hc2luaCA9IGZ1bmN0aW9uPFQgZXh0ZW5kcyBUZW5zb3I+KHRoaXM6IFQpOiBUIHtcbiAgdGhpcy50aHJvd0lmRGlzcG9zZWQoKTtcbiAgcmV0dXJuIGFzaW5oKHRoaXMpO1xufTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuLy8gVE9ETyB1cGRhdGUgaW1wb3J0IHBhdGggb25jZSBvcCBpcyBtb2R1bGFyaXplZC5cbmltcG9ydCB7YXRhbn0gZnJvbSAnLi4vLi4vb3BzL29wcyc7XG5pbXBvcnQge1RlbnNvcn0gZnJvbSAnLi4vLi4vdGVuc29yJztcbmltcG9ydCB7UmFua30gZnJvbSAnLi4vLi4vdHlwZXMnO1xuXG5kZWNsYXJlIG1vZHVsZSAnLi4vLi4vdGVuc29yJyB7XG4gIGludGVyZmFjZSBUZW5zb3I8UiBleHRlbmRzIFJhbmsgPSBSYW5rPiB7XG4gICAgYXRhbjxUIGV4dGVuZHMgVGVuc29yPih0aGlzOiBUKTogVDtcbiAgfVxufVxuXG5UZW5zb3IucHJvdG90eXBlLmF0YW4gPSBmdW5jdGlvbjxUIGV4dGVuZHMgVGVuc29yPih0aGlzOiBUKTogVCB7XG4gIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCk7XG4gIHJldHVybiBhdGFuKHRoaXMpO1xufTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cbmltcG9ydCB7YXRhbjJ9IGZyb20gJy4uLy4uL29wcy9hdGFuMic7XG5pbXBvcnQge1RlbnNvcn0gZnJvbSAnLi4vLi4vdGVuc29yJztcbmltcG9ydCB7UmFuaywgVGVuc29yTGlrZX0gZnJvbSAnLi4vLi4vdHlwZXMnO1xuXG5kZWNsYXJlIG1vZHVsZSAnLi4vLi4vdGVuc29yJyB7XG4gIGludGVyZmFjZSBUZW5zb3I8UiBleHRlbmRzIFJhbmsgPSBSYW5rPiB7XG4gICAgYXRhbjI8VCBleHRlbmRzIFRlbnNvcj4oYjogVGVuc29yfFRlbnNvckxpa2UpOiBUO1xuICB9XG59XG5cblRlbnNvci5wcm90b3R5cGUuYXRhbjIgPSBmdW5jdGlvbjxUIGV4dGVuZHMgVGVuc29yPihiOiBUZW5zb3J8VGVuc29yTGlrZSk6IFQge1xuICB0aGlzLnRocm93SWZEaXNwb3NlZCgpO1xuICByZXR1cm4gYXRhbjIodGhpcywgYik7XG59O1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG4vLyBUT0RPIHVwZGF0ZSBpbXBvcnQgcGF0aCBvbmNlIG9wIGlzIG1vZHVsYXJpemVkLlxuaW1wb3J0IHthdGFuaH0gZnJvbSAnLi4vLi4vb3BzL29wcyc7XG5pbXBvcnQge1RlbnNvcn0gZnJvbSAnLi4vLi4vdGVuc29yJztcbmltcG9ydCB7UmFua30gZnJvbSAnLi4vLi4vdHlwZXMnO1xuXG5kZWNsYXJlIG1vZHVsZSAnLi4vLi4vdGVuc29yJyB7XG4gIGludGVyZmFjZSBUZW5zb3I8UiBleHRlbmRzIFJhbmsgPSBSYW5rPiB7XG4gICAgYXRhbmg8VCBleHRlbmRzIFRlbnNvcj4odGhpczogVCk6IFQ7XG4gIH1cbn1cblxuVGVuc29yLnByb3RvdHlwZS5hdGFuaCA9IGZ1bmN0aW9uPFQgZXh0ZW5kcyBUZW5zb3I+KHRoaXM6IFQpOiBUIHtcbiAgdGhpcy50aHJvd0lmRGlzcG9zZWQoKTtcbiAgcmV0dXJuIGF0YW5oKHRoaXMpO1xufTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cbmltcG9ydCB7YXZnUG9vbH0gZnJvbSAnLi4vLi4vb3BzL2F2Z19wb29sJztcbmltcG9ydCB7VGVuc29yLCBUZW5zb3IzRCwgVGVuc29yNER9IGZyb20gJy4uLy4uL3RlbnNvcic7XG5pbXBvcnQge1Jhbmt9IGZyb20gJy4uLy4uL3R5cGVzJztcblxuZGVjbGFyZSBtb2R1bGUgJy4uLy4uL3RlbnNvcicge1xuICBpbnRlcmZhY2UgVGVuc29yPFIgZXh0ZW5kcyBSYW5rID0gUmFuaz4ge1xuICAgIGF2Z1Bvb2w8VCBleHRlbmRzIFRlbnNvcjNEfFRlbnNvcjREPihcbiAgICAgICAgZmlsdGVyU2l6ZTogW251bWJlciwgbnVtYmVyXXxudW1iZXIsIHN0cmlkZXM6IFtudW1iZXIsIG51bWJlcl18bnVtYmVyLFxuICAgICAgICBwYWQ6ICd2YWxpZCd8J3NhbWUnfG51bWJlcixcbiAgICAgICAgZGltUm91bmRpbmdNb2RlPzogJ2Zsb29yJ3wncm91bmQnfCdjZWlsJyk6IFQ7XG4gIH1cbn1cblxuVGVuc29yLnByb3RvdHlwZS5hdmdQb29sID0gZnVuY3Rpb248VCBleHRlbmRzIFRlbnNvcjNEfFRlbnNvcjREPihcbiAgICB0aGlzOiBULCBmaWx0ZXJTaXplOiBbbnVtYmVyLCBudW1iZXJdfG51bWJlcixcbiAgICBzdHJpZGVzOiBbbnVtYmVyLCBudW1iZXJdfG51bWJlciwgcGFkOiAndmFsaWQnfCdzYW1lJ3xudW1iZXIsXG4gICAgZGltUm91bmRpbmdNb2RlPzogJ2Zsb29yJ3wncm91bmQnfCdjZWlsJyk6IFQge1xuICB0aGlzLnRocm93SWZEaXNwb3NlZCgpO1xuICByZXR1cm4gYXZnUG9vbCh0aGlzLCBmaWx0ZXJTaXplLCBzdHJpZGVzLCBwYWQsIGRpbVJvdW5kaW5nTW9kZSk7XG59O1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuaW1wb3J0IHtiYXRjaFRvU3BhY2VORH0gZnJvbSAnLi4vLi4vb3BzL2JhdGNoX3RvX3NwYWNlX25kJztcbmltcG9ydCB7VGVuc29yfSBmcm9tICcuLi8uLi90ZW5zb3InO1xuaW1wb3J0IHtSYW5rfSBmcm9tICcuLi8uLi90eXBlcyc7XG5cbmRlY2xhcmUgbW9kdWxlICcuLi8uLi90ZW5zb3InIHtcbiAgaW50ZXJmYWNlIFRlbnNvcjxSIGV4dGVuZHMgUmFuayA9IFJhbms+IHtcbiAgICBiYXRjaFRvU3BhY2VORDxSIGV4dGVuZHMgUmFuaz4oYmxvY2tTaGFwZTogbnVtYmVyW10sIGNyb3BzOiBudW1iZXJbXVtdKTpcbiAgICAgICAgVGVuc29yPFI+O1xuICB9XG59XG5cblRlbnNvci5wcm90b3R5cGUuYmF0Y2hUb1NwYWNlTkQgPSBmdW5jdGlvbjxSIGV4dGVuZHMgUmFuaz4oXG4gICAgYmxvY2tTaGFwZTogbnVtYmVyW10sIGNyb3BzOiBudW1iZXJbXVtdKTogVGVuc29yPFI+IHtcbiAgdGhpcy50aHJvd0lmRGlzcG9zZWQoKTtcbiAgcmV0dXJuIGJhdGNoVG9TcGFjZU5EKHRoaXMsIGJsb2NrU2hhcGUsIGNyb3BzKTtcbn07XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5pbXBvcnQge2JhdGNoTm9ybX0gZnJvbSAnLi4vLi4vb3BzL2JhdGNobm9ybSc7XG5pbXBvcnQge1RlbnNvciwgVGVuc29yMUR9IGZyb20gJy4uLy4uL3RlbnNvcic7XG5pbXBvcnQge1JhbmssIFRlbnNvckxpa2V9IGZyb20gJy4uLy4uL3R5cGVzJztcblxuZGVjbGFyZSBtb2R1bGUgJy4uLy4uL3RlbnNvcicge1xuICBpbnRlcmZhY2UgVGVuc29yPFIgZXh0ZW5kcyBSYW5rID0gUmFuaz4ge1xuICAgIGJhdGNoTm9ybTxUIGV4dGVuZHMgVGVuc29yPihcbiAgICAgICAgbWVhbjogVGVuc29yPFI+fFRlbnNvcjFEfFRlbnNvckxpa2UsXG4gICAgICAgIHZhcmlhbmNlOiBUZW5zb3I8Uj58VGVuc29yMUR8VGVuc29yTGlrZSxcbiAgICAgICAgb2Zmc2V0PzogVGVuc29yPFI+fFRlbnNvcjFEfFRlbnNvckxpa2UsXG4gICAgICAgIHNjYWxlPzogVGVuc29yPFI+fFRlbnNvcjFEfFRlbnNvckxpa2UsXG4gICAgICAgIHZhcmlhbmNlRXBzaWxvbj86IG51bWJlcik6IFRlbnNvcjxSPjtcbiAgfVxufVxuXG5UZW5zb3IucHJvdG90eXBlLmJhdGNoTm9ybSA9IGZ1bmN0aW9uPFIgZXh0ZW5kcyBSYW5rPihcbiAgICBtZWFuOiBUZW5zb3I8Uj58VGVuc29yMUR8VGVuc29yTGlrZSxcbiAgICB2YXJpYW5jZTogVGVuc29yPFI+fFRlbnNvcjFEfFRlbnNvckxpa2UsXG4gICAgb2Zmc2V0PzogVGVuc29yPFI+fFRlbnNvcjFEfFRlbnNvckxpa2UsXG4gICAgc2NhbGU/OiBUZW5zb3I8Uj58VGVuc29yMUR8VGVuc29yTGlrZSxcbiAgICB2YXJpYW5jZUVwc2lsb24/OiBudW1iZXIpOiBUZW5zb3I8Uj4ge1xuICB0aGlzLnRocm93SWZEaXNwb3NlZCgpO1xuICByZXR1cm4gYmF0Y2hOb3JtKHRoaXMsIG1lYW4sIHZhcmlhbmNlLCBvZmZzZXQsIHNjYWxlLCB2YXJpYW5jZUVwc2lsb24pO1xufTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuaW1wb3J0IHticm9hZGNhc3RUb30gZnJvbSAnLi4vLi4vb3BzL2Jyb2FkY2FzdF90byc7XG5pbXBvcnQge1RlbnNvcn0gZnJvbSAnLi4vLi4vdGVuc29yJztcbmltcG9ydCB7UmFuaywgU2hhcGVNYXB9IGZyb20gJy4uLy4uL3R5cGVzJztcblxuZGVjbGFyZSBtb2R1bGUgJy4uLy4uL3RlbnNvcicge1xuICBpbnRlcmZhY2UgVGVuc29yPFIgZXh0ZW5kcyBSYW5rID0gUmFuaz4ge1xuICAgIGJyb2FkY2FzdFRvPFIgZXh0ZW5kcyBSYW5rPihzaGFwZTogU2hhcGVNYXBbUl0pOiBUZW5zb3I8Uj47XG4gIH1cbn1cblxuVGVuc29yLnByb3RvdHlwZS5icm9hZGNhc3RUbyA9IGZ1bmN0aW9uPFIgZXh0ZW5kcyBSYW5rPihzaGFwZTogU2hhcGVNYXBbUl0pOlxuICAgIFRlbnNvcjxSPiB7XG4gIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCk7XG4gIHJldHVybiBicm9hZGNhc3RUbyh0aGlzLCBzaGFwZSk7XG59O1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG4vLyBUT0RPIHVwZGF0ZSBpbXBvcnQgcGF0aCBvbmNlIG9wIGlzIG1vZHVsYXJpemVkLlxuaW1wb3J0IHtjYXN0fSBmcm9tICcuLi8uLi9vcHMvb3BzJztcbmltcG9ydCB7VGVuc29yfSBmcm9tICcuLi8uLi90ZW5zb3InO1xuaW1wb3J0IHtEYXRhVHlwZSwgUmFua30gZnJvbSAnLi4vLi4vdHlwZXMnO1xuXG5kZWNsYXJlIG1vZHVsZSAnLi4vLi4vdGVuc29yJyB7XG4gIGludGVyZmFjZSBUZW5zb3I8UiBleHRlbmRzIFJhbmsgPSBSYW5rPiB7XG4gICAgY2FzdDxUIGV4dGVuZHMgVGVuc29yPihkdHlwZTogRGF0YVR5cGUpOiBUO1xuICB9XG59XG5cblRlbnNvci5wcm90b3R5cGUuY2FzdCA9IGZ1bmN0aW9uPFQgZXh0ZW5kcyBUZW5zb3I+KGR0eXBlOiBEYXRhVHlwZSk6IFQge1xuICB0aGlzLnRocm93SWZEaXNwb3NlZCgpO1xuICByZXR1cm4gY2FzdCh0aGlzLCBkdHlwZSkgYXMgVDtcbn07XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbi8vIFRPRE8gdXBkYXRlIGltcG9ydCBwYXRoIG9uY2Ugb3AgaXMgbW9kdWxhcml6ZWQuXG5pbXBvcnQge2NlaWx9IGZyb20gJy4uLy4uL29wcy9vcHMnO1xuaW1wb3J0IHtUZW5zb3J9IGZyb20gJy4uLy4uL3RlbnNvcic7XG5pbXBvcnQge1Jhbmt9IGZyb20gJy4uLy4uL3R5cGVzJztcblxuZGVjbGFyZSBtb2R1bGUgJy4uLy4uL3RlbnNvcicge1xuICBpbnRlcmZhY2UgVGVuc29yPFIgZXh0ZW5kcyBSYW5rID0gUmFuaz4ge1xuICAgIGNlaWw8VCBleHRlbmRzIFRlbnNvcj4odGhpczogVCk6IFQ7XG4gIH1cbn1cblxuVGVuc29yLnByb3RvdHlwZS5jZWlsID0gZnVuY3Rpb248VCBleHRlbmRzIFRlbnNvcj4odGhpczogVCk6IFQge1xuICB0aGlzLnRocm93SWZEaXNwb3NlZCgpO1xuICByZXR1cm4gY2VpbCh0aGlzKTtcbn07XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbi8vIFRPRE8gdXBkYXRlIGltcG9ydCBwYXRoIG9uY2Ugb3AgaXMgbW9kdWxhcml6ZWQuXG5pbXBvcnQge2NsaXBCeVZhbHVlfSBmcm9tICcuLi8uLi9vcHMvb3BzJztcbmltcG9ydCB7VGVuc29yfSBmcm9tICcuLi8uLi90ZW5zb3InO1xuaW1wb3J0IHtSYW5rfSBmcm9tICcuLi8uLi90eXBlcyc7XG5cbmRlY2xhcmUgbW9kdWxlICcuLi8uLi90ZW5zb3InIHtcbiAgaW50ZXJmYWNlIFRlbnNvcjxSIGV4dGVuZHMgUmFuayA9IFJhbms+IHtcbiAgICBjbGlwQnlWYWx1ZTxUIGV4dGVuZHMgVGVuc29yPihtaW46IG51bWJlciwgbWF4OiBudW1iZXIpOiBUZW5zb3I7XG4gIH1cbn1cblxuVGVuc29yLnByb3RvdHlwZS5jbGlwQnlWYWx1ZSA9IGZ1bmN0aW9uPFQgZXh0ZW5kcyBUZW5zb3I+KFxuICAgIG1pbjogbnVtYmVyLCBtYXg6IG51bWJlcik6IFQge1xuICB0aGlzLnRocm93SWZEaXNwb3NlZCgpO1xuICByZXR1cm4gY2xpcEJ5VmFsdWUodGhpcywgbWluLCBtYXgpIGFzIFQ7XG59O1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuaW1wb3J0IHtjb25jYXR9IGZyb20gJy4uLy4uL29wcy9jb25jYXQnO1xuaW1wb3J0IHtUZW5zb3J9IGZyb20gJy4uLy4uL3RlbnNvcic7XG5pbXBvcnQge1JhbmssIFRlbnNvckxpa2V9IGZyb20gJy4uLy4uL3R5cGVzJztcblxuZGVjbGFyZSBtb2R1bGUgJy4uLy4uL3RlbnNvcicge1xuICBpbnRlcmZhY2UgVGVuc29yPFIgZXh0ZW5kcyBSYW5rID0gUmFuaz4ge1xuICAgIGNvbmNhdDxUIGV4dGVuZHMgVGVuc29yPih0ZW5zb3JzOiBUfEFycmF5PFR8VGVuc29yTGlrZT4sIGF4aXM/OiBudW1iZXIpOiBUO1xuICB9XG59XG5cblRlbnNvci5wcm90b3R5cGUuY29uY2F0ID0gZnVuY3Rpb248VCBleHRlbmRzIFRlbnNvcj4oXG4gICAgeDogVHxBcnJheTxUfFRlbnNvckxpa2U+LCBheGlzPzogbnVtYmVyKTogVCB7XG4gIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCk7XG4gIGlmICh4IGluc3RhbmNlb2YgVGVuc29yKSB7XG4gICAgeCA9IFt4XTtcbiAgfVxuICByZXR1cm4gY29uY2F0KFt0aGlzLCAuLi54XSwgYXhpcykgYXMgVDtcbn07XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5pbXBvcnQge2NvbnYxZH0gZnJvbSAnLi4vLi4vb3BzL2NvbnYxZCc7XG5pbXBvcnQge0V4cGxpY2l0UGFkZGluZ30gZnJvbSAnLi4vLi4vb3BzL2NvbnZfdXRpbCc7XG5pbXBvcnQge1RlbnNvciwgVGVuc29yMkQsIFRlbnNvcjNEfSBmcm9tICcuLi8uLi90ZW5zb3InO1xuaW1wb3J0IHtSYW5rLCBUZW5zb3JMaWtlM0R9IGZyb20gJy4uLy4uL3R5cGVzJztcblxuZGVjbGFyZSBtb2R1bGUgJy4uLy4uL3RlbnNvcicge1xuICBpbnRlcmZhY2UgVGVuc29yPFIgZXh0ZW5kcyBSYW5rID0gUmFuaz4ge1xuICAgIGNvbnYxZDxUIGV4dGVuZHMgVGVuc29yMkR8VGVuc29yM0Q+KFxuICAgICAgICBmaWx0ZXI6IFRlbnNvcjNEfFRlbnNvckxpa2UzRCwgc3RyaWRlOiBudW1iZXIsXG4gICAgICAgIHBhZDogJ3ZhbGlkJ3wnc2FtZSd8bnVtYmVyfEV4cGxpY2l0UGFkZGluZywgZGF0YUZvcm1hdD86ICdOV0MnfCdOQ1cnLFxuICAgICAgICBkaWxhdGlvbj86IG51bWJlciwgZGltUm91bmRpbmdNb2RlPzogJ2Zsb29yJ3wncm91bmQnfCdjZWlsJyk6IFQ7XG4gIH1cbn1cblxuVGVuc29yLnByb3RvdHlwZS5jb252MWQgPSBmdW5jdGlvbjxUIGV4dGVuZHMgVGVuc29yMkR8VGVuc29yM0Q+KFxuICAgIGZpbHRlcjogVGVuc29yM0R8VGVuc29yTGlrZTNELCBzdHJpZGU6IG51bWJlcixcbiAgICBwYWQ6ICd2YWxpZCd8J3NhbWUnfG51bWJlcnxFeHBsaWNpdFBhZGRpbmcsIGRhdGFGb3JtYXQ/OiAnTldDJ3wnTkNXJyxcbiAgICBkaWxhdGlvbj86IG51bWJlciwgZGltUm91bmRpbmdNb2RlPzogJ2Zsb29yJ3wncm91bmQnfCdjZWlsJyk6IFQge1xuICB0aGlzLnRocm93SWZEaXNwb3NlZCgpO1xuICByZXR1cm4gY29udjFkKFxuICAgICAgICAgICAgIHRoaXMsIGZpbHRlciwgc3RyaWRlLCBwYWQsIGRhdGFGb3JtYXQsIGRpbGF0aW9uLFxuICAgICAgICAgICAgIGRpbVJvdW5kaW5nTW9kZSkgYXMgVDtcbn07XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5pbXBvcnQge2NvbnYyZFRyYW5zcG9zZX0gZnJvbSAnLi4vLi4vb3BzL2NvbnYyZF90cmFuc3Bvc2UnO1xuaW1wb3J0IHtUZW5zb3IsIFRlbnNvcjNELCBUZW5zb3I0RH0gZnJvbSAnLi4vLi4vdGVuc29yJztcbmltcG9ydCB7UmFuaywgVGVuc29yTGlrZTREfSBmcm9tICcuLi8uLi90eXBlcyc7XG5cbmRlY2xhcmUgbW9kdWxlICcuLi8uLi90ZW5zb3InIHtcbiAgaW50ZXJmYWNlIFRlbnNvcjxSIGV4dGVuZHMgUmFuayA9IFJhbms+IHtcbiAgICBjb252MmRUcmFuc3Bvc2U8VCBleHRlbmRzIFRlbnNvcjNEfFRlbnNvcjREPihcbiAgICAgICAgZmlsdGVyOiBUZW5zb3I0RHxUZW5zb3JMaWtlNEQsXG4gICAgICAgIG91dHB1dFNoYXBlOiBbbnVtYmVyLCBudW1iZXIsIG51bWJlciwgbnVtYmVyXXxbbnVtYmVyLCBudW1iZXIsIG51bWJlcl0sXG4gICAgICAgIHN0cmlkZXM6IFtudW1iZXIsIG51bWJlcl18bnVtYmVyLCBwYWQ6ICd2YWxpZCd8J3NhbWUnfG51bWJlcixcbiAgICAgICAgZGltUm91bmRpbmdNb2RlPzogJ2Zsb29yJ3wncm91bmQnfCdjZWlsJyk6IFQ7XG4gIH1cbn1cblxuVGVuc29yLnByb3RvdHlwZS5jb252MmRUcmFuc3Bvc2UgPSBmdW5jdGlvbjxUIGV4dGVuZHMgVGVuc29yM0R8VGVuc29yNEQ+KFxuICAgIGZpbHRlcjogVGVuc29yNER8VGVuc29yTGlrZTRELFxuICAgIG91dHB1dFNoYXBlOiBbbnVtYmVyLCBudW1iZXIsIG51bWJlciwgbnVtYmVyXXxbbnVtYmVyLCBudW1iZXIsIG51bWJlcl0sXG4gICAgc3RyaWRlczogW251bWJlciwgbnVtYmVyXXxudW1iZXIsIHBhZDogJ3ZhbGlkJ3wnc2FtZSd8bnVtYmVyLFxuICAgIGRpbVJvdW5kaW5nTW9kZT86ICdmbG9vcid8J3JvdW5kJ3wnY2VpbCcpOiBUIHtcbiAgdGhpcy50aHJvd0lmRGlzcG9zZWQoKTtcbiAgcmV0dXJuIGNvbnYyZFRyYW5zcG9zZShcbiAgICAgICAgICAgICB0aGlzLCBmaWx0ZXIsIG91dHB1dFNoYXBlLCBzdHJpZGVzLCBwYWQsIGRpbVJvdW5kaW5nTW9kZSkgYXMgVDtcbn07XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5pbXBvcnQge2NvbnYyZH0gZnJvbSAnLi4vLi4vb3BzL2NvbnYyZCc7XG5pbXBvcnQge1RlbnNvciwgVGVuc29yM0QsIFRlbnNvcjREfSBmcm9tICcuLi8uLi90ZW5zb3InO1xuaW1wb3J0IHtSYW5rLCBUZW5zb3JMaWtlNER9IGZyb20gJy4uLy4uL3R5cGVzJztcblxuZGVjbGFyZSBtb2R1bGUgJy4uLy4uL3RlbnNvcicge1xuICBpbnRlcmZhY2UgVGVuc29yPFIgZXh0ZW5kcyBSYW5rID0gUmFuaz4ge1xuICAgIGNvbnYyZDxUIGV4dGVuZHMgVGVuc29yM0R8VGVuc29yNEQ+KFxuICAgICAgICBmaWx0ZXI6IFRlbnNvcjREfFRlbnNvckxpa2U0RCwgc3RyaWRlczogW251bWJlciwgbnVtYmVyXXxudW1iZXIsXG4gICAgICAgIHBhZDogJ3ZhbGlkJ3wnc2FtZSd8bnVtYmVyLCBkYXRhRm9ybWF0PzogJ05IV0MnfCdOQ0hXJyxcbiAgICAgICAgZGlsYXRpb25zPzogW251bWJlciwgbnVtYmVyXXxudW1iZXIsXG4gICAgICAgIGRpbVJvdW5kaW5nTW9kZT86ICdmbG9vcid8J3JvdW5kJ3wnY2VpbCcpOiBUO1xuICB9XG59XG5cblRlbnNvci5wcm90b3R5cGUuY29udjJkID0gZnVuY3Rpb248VCBleHRlbmRzIFRlbnNvcjNEfFRlbnNvcjREPihcbiAgICBmaWx0ZXI6IFRlbnNvcjREfFRlbnNvckxpa2U0RCwgc3RyaWRlczogW251bWJlciwgbnVtYmVyXXxudW1iZXIsXG4gICAgcGFkOiAndmFsaWQnfCdzYW1lJ3xudW1iZXIsIGRhdGFGb3JtYXQ/OiAnTkhXQyd8J05DSFcnLFxuICAgIGRpbGF0aW9ucz86IFtudW1iZXIsIG51bWJlcl18bnVtYmVyLFxuICAgIGRpbVJvdW5kaW5nTW9kZT86ICdmbG9vcid8J3JvdW5kJ3wnY2VpbCcpOiBUIHtcbiAgdGhpcy50aHJvd0lmRGlzcG9zZWQoKTtcbiAgcmV0dXJuIGNvbnYyZChcbiAgICAgICAgICAgICB0aGlzLCBmaWx0ZXIsIHN0cmlkZXMsIHBhZCwgZGF0YUZvcm1hdCwgZGlsYXRpb25zLFxuICAgICAgICAgICAgIGRpbVJvdW5kaW5nTW9kZSkgYXMgVDtcbn07XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbi8vIFRPRE8gdXBkYXRlIGltcG9ydCBwYXRoIG9uY2Ugb3AgaXMgbW9kdWxhcml6ZWQuXG5pbXBvcnQge2Nvc30gZnJvbSAnLi4vLi4vb3BzL29wcyc7XG5pbXBvcnQge1RlbnNvcn0gZnJvbSAnLi4vLi4vdGVuc29yJztcbmltcG9ydCB7UmFua30gZnJvbSAnLi4vLi4vdHlwZXMnO1xuXG5kZWNsYXJlIG1vZHVsZSAnLi4vLi4vdGVuc29yJyB7XG4gIGludGVyZmFjZSBUZW5zb3I8UiBleHRlbmRzIFJhbmsgPSBSYW5rPiB7XG4gICAgY29zPFQgZXh0ZW5kcyBUZW5zb3I+KHRoaXM6IFQpOiBUO1xuICB9XG59XG5cblRlbnNvci5wcm90b3R5cGUuY29zID0gZnVuY3Rpb248VCBleHRlbmRzIFRlbnNvcj4odGhpczogVCk6IFQge1xuICB0aGlzLnRocm93SWZEaXNwb3NlZCgpO1xuICByZXR1cm4gY29zKHRoaXMpO1xufTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuLy8gVE9ETyB1cGRhdGUgaW1wb3J0IHBhdGggb25jZSBvcCBpcyBtb2R1bGFyaXplZC5cbmltcG9ydCB7Y29zaH0gZnJvbSAnLi4vLi4vb3BzL29wcyc7XG5pbXBvcnQge1RlbnNvcn0gZnJvbSAnLi4vLi4vdGVuc29yJztcbmltcG9ydCB7UmFua30gZnJvbSAnLi4vLi4vdHlwZXMnO1xuXG5kZWNsYXJlIG1vZHVsZSAnLi4vLi4vdGVuc29yJyB7XG4gIGludGVyZmFjZSBUZW5zb3I8UiBleHRlbmRzIFJhbmsgPSBSYW5rPiB7XG4gICAgY29zaDxUIGV4dGVuZHMgVGVuc29yPih0aGlzOiBUKTogVDtcbiAgfVxufVxuXG5UZW5zb3IucHJvdG90eXBlLmNvc2ggPSBmdW5jdGlvbjxUIGV4dGVuZHMgVGVuc29yPih0aGlzOiBUKTogVCB7XG4gIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCk7XG4gIHJldHVybiBjb3NoKHRoaXMpO1xufTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cbmltcG9ydCB7Y3Vtc3VtfSBmcm9tICcuLi8uLi9vcHMvY3Vtc3VtJztcbmltcG9ydCB7VGVuc29yfSBmcm9tICcuLi8uLi90ZW5zb3InO1xuaW1wb3J0IHtSYW5rfSBmcm9tICcuLi8uLi90eXBlcyc7XG5cbmRlY2xhcmUgbW9kdWxlICcuLi8uLi90ZW5zb3InIHtcbiAgaW50ZXJmYWNlIFRlbnNvcjxSIGV4dGVuZHMgUmFuayA9IFJhbms+IHtcbiAgICBjdW1zdW08UiBleHRlbmRzIFJhbms+KFxuICAgICAgICBheGlzPzogbnVtYmVyLCBleGNsdXNpdmU/OiBib29sZWFuLCByZXZlcnNlPzogYm9vbGVhbik6IFRlbnNvcjxSPjtcbiAgfVxufVxuXG5UZW5zb3IucHJvdG90eXBlLmN1bXN1bSA9IGZ1bmN0aW9uPFIgZXh0ZW5kcyBSYW5rPihcbiAgICBheGlzPzogbnVtYmVyLCBleGNsdXNpdmU/OiBib29sZWFuLCByZXZlcnNlPzogYm9vbGVhbik6IFRlbnNvcjxSPiB7XG4gIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCk7XG4gIHJldHVybiBjdW1zdW0odGhpcywgYXhpcywgZXhjbHVzaXZlLCByZXZlcnNlKTtcbn07XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5pbXBvcnQge2RlcHRoVG9TcGFjZX0gZnJvbSAnLi4vLi4vb3BzL2RlcHRoX3RvX3NwYWNlJztcbmltcG9ydCB7VGVuc29yLCBUZW5zb3I0RH0gZnJvbSAnLi4vLi4vdGVuc29yJztcbmltcG9ydCB7UmFua30gZnJvbSAnLi4vLi4vdHlwZXMnO1xuXG5kZWNsYXJlIG1vZHVsZSAnLi4vLi4vdGVuc29yJyB7XG4gIGludGVyZmFjZSBUZW5zb3I8UiBleHRlbmRzIFJhbmsgPSBSYW5rPiB7XG4gICAgZGVwdGhUb1NwYWNlPFQgZXh0ZW5kcyBUZW5zb3I0RD4oXG4gICAgICAgIGJsb2NrU2l6ZTogbnVtYmVyLCBkYXRhRm9ybWF0OiAnTkhXQyd8J05DSFcnKTogVDtcbiAgfVxufVxuXG5UZW5zb3IucHJvdG90eXBlLmRlcHRoVG9TcGFjZSA9IGZ1bmN0aW9uPFQgZXh0ZW5kcyBUZW5zb3I0RD4oXG4gICAgYmxvY2tTaXplOiBudW1iZXIsIGRhdGFGb3JtYXQ6ICdOSFdDJ3wnTkNIVycpOiBUIHtcbiAgdGhpcy50aHJvd0lmRGlzcG9zZWQoKTtcbiAgcmV0dXJuIGRlcHRoVG9TcGFjZSh0aGlzLCBibG9ja1NpemUsIGRhdGFGb3JtYXQpIGFzIFQ7XG59O1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuaW1wb3J0IHtkZXByZWNhdGlvbldhcm59IGZyb20gJy4uLy4uL2dsb2JhbHMnO1xuaW1wb3J0IHtkZXB0aHdpc2VDb252MmR9IGZyb20gJy4uLy4uL29wcy9kZXB0aHdpc2VfY29udjJkJztcbmltcG9ydCB7VGVuc29yLCBUZW5zb3IzRCwgVGVuc29yNER9IGZyb20gJy4uLy4uL3RlbnNvcic7XG5pbXBvcnQge1JhbmssIFRlbnNvckxpa2U0RH0gZnJvbSAnLi4vLi4vdHlwZXMnO1xuXG5kZWNsYXJlIG1vZHVsZSAnLi4vLi4vdGVuc29yJyB7XG4gIGludGVyZmFjZSBUZW5zb3I8UiBleHRlbmRzIFJhbmsgPSBSYW5rPiB7XG4gICAgZGVwdGh3aXNlQ29udjJEPFQgZXh0ZW5kcyBUZW5zb3IzRHxUZW5zb3I0RD4oXG4gICAgICAgIGZpbHRlcjogVGVuc29yNER8VGVuc29yTGlrZTRELCBzdHJpZGVzOiBbbnVtYmVyLCBudW1iZXJdfG51bWJlcixcbiAgICAgICAgcGFkOiAndmFsaWQnfCdzYW1lJ3xudW1iZXIsIGRhdGFGb3JtYXQ/OiAnTkhXQyd8J05DSFcnLFxuICAgICAgICBkaWxhdGlvbnM/OiBbbnVtYmVyLCBudW1iZXJdfG51bWJlcixcbiAgICAgICAgZGltUm91bmRpbmdNb2RlPzogJ2Zsb29yJ3wncm91bmQnfCdjZWlsJyk6IFQ7XG4gIH1cbn1cblxuLyoqXG4gKiBAZGVwcmVjYXRlZCBVc2UgYGRlcHRod2lzZUNvbnYyZGAgaW5zdGVhZC5cbiAqL1xuVGVuc29yLnByb3RvdHlwZS5kZXB0aHdpc2VDb252MkQgPSBmdW5jdGlvbjxUIGV4dGVuZHMgVGVuc29yM0R8VGVuc29yNEQ+KFxuICAgIGZpbHRlcjogVGVuc29yNER8VGVuc29yTGlrZTRELCBzdHJpZGVzOiBbbnVtYmVyLCBudW1iZXJdfG51bWJlcixcbiAgICBwYWQ6ICd2YWxpZCd8J3NhbWUnfG51bWJlciwgZGF0YUZvcm1hdD86ICdOSFdDJ3wnTkNIVycsXG4gICAgZGlsYXRpb25zPzogW251bWJlciwgbnVtYmVyXXxudW1iZXIsXG4gICAgZGltUm91bmRpbmdNb2RlPzogJ2Zsb29yJ3wncm91bmQnfCdjZWlsJyk6IFQge1xuICBkZXByZWNhdGlvbldhcm4oJ2RlcHRod2lzZUNvbnYyRCBpcyBkZXByZWNhdGVkLCB1c2UgZGVwdGh3aXNlQ29udjJkIGluc3RlYWQnKTtcbiAgdGhpcy50aHJvd0lmRGlzcG9zZWQoKTtcbiAgcmV0dXJuIGRlcHRod2lzZUNvbnYyZChcbiAgICAgICAgICAgICB0aGlzLCBmaWx0ZXIsIHN0cmlkZXMsIHBhZCwgZGF0YUZvcm1hdCwgZGlsYXRpb25zLFxuICAgICAgICAgICAgIGRpbVJvdW5kaW5nTW9kZSkgYXMgVDtcbn07XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5pbXBvcnQge2RlcHRod2lzZUNvbnYyZH0gZnJvbSAnLi4vLi4vb3BzL2RlcHRod2lzZV9jb252MmQnO1xuaW1wb3J0IHtUZW5zb3IsIFRlbnNvcjNELCBUZW5zb3I0RH0gZnJvbSAnLi4vLi4vdGVuc29yJztcbmltcG9ydCB7UmFuaywgVGVuc29yTGlrZTREfSBmcm9tICcuLi8uLi90eXBlcyc7XG5cbmRlY2xhcmUgbW9kdWxlICcuLi8uLi90ZW5zb3InIHtcbiAgaW50ZXJmYWNlIFRlbnNvcjxSIGV4dGVuZHMgUmFuayA9IFJhbms+IHtcbiAgICBkZXB0aHdpc2VDb252MmQ8VCBleHRlbmRzIFRlbnNvcjNEfFRlbnNvcjREPihcbiAgICAgICAgZmlsdGVyOiBUZW5zb3I0RHxUZW5zb3JMaWtlNEQsIHN0cmlkZXM6IFtudW1iZXIsIG51bWJlcl18bnVtYmVyLFxuICAgICAgICBwYWQ6ICd2YWxpZCd8J3NhbWUnfG51bWJlciwgZGF0YUZvcm1hdD86ICdOSFdDJ3wnTkNIVycsXG4gICAgICAgIGRpbGF0aW9ucz86IFtudW1iZXIsIG51bWJlcl18bnVtYmVyLFxuICAgICAgICBkaW1Sb3VuZGluZ01vZGU/OiAnZmxvb3InfCdyb3VuZCd8J2NlaWwnKTogVDtcbiAgfVxufVxuXG5UZW5zb3IucHJvdG90eXBlLmRlcHRod2lzZUNvbnYyZCA9IGZ1bmN0aW9uPFQgZXh0ZW5kcyBUZW5zb3IzRHxUZW5zb3I0RD4oXG4gICAgZmlsdGVyOiBUZW5zb3I0RHxUZW5zb3JMaWtlNEQsIHN0cmlkZXM6IFtudW1iZXIsIG51bWJlcl18bnVtYmVyLFxuICAgIHBhZDogJ3ZhbGlkJ3wnc2FtZSd8bnVtYmVyLCBkYXRhRm9ybWF0PzogJ05IV0MnfCdOQ0hXJyxcbiAgICBkaWxhdGlvbnM/OiBbbnVtYmVyLCBudW1iZXJdfG51bWJlcixcbiAgICBkaW1Sb3VuZGluZ01vZGU/OiAnZmxvb3InfCdyb3VuZCd8J2NlaWwnKTogVCB7XG4gIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCk7XG4gIHJldHVybiBkZXB0aHdpc2VDb252MmQoXG4gICAgICAgICAgICAgdGhpcywgZmlsdGVyLCBzdHJpZGVzLCBwYWQsIGRhdGFGb3JtYXQsIGRpbGF0aW9ucyxcbiAgICAgICAgICAgICBkaW1Sb3VuZGluZ01vZGUpIGFzIFQ7XG59O1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuaW1wb3J0IHtkaWxhdGlvbjJkfSBmcm9tICcuLi8uLi9vcHMvZGlsYXRpb24yZCc7XG5pbXBvcnQge1RlbnNvciwgVGVuc29yM0QsIFRlbnNvcjREfSBmcm9tICcuLi8uLi90ZW5zb3InO1xuaW1wb3J0IHtSYW5rLCBUZW5zb3JMaWtlM0R9IGZyb20gJy4uLy4uL3R5cGVzJztcblxuZGVjbGFyZSBtb2R1bGUgJy4uLy4uL3RlbnNvcicge1xuICBpbnRlcmZhY2UgVGVuc29yPFIgZXh0ZW5kcyBSYW5rID0gUmFuaz4ge1xuICAgIGRpbGF0aW9uMmQ8VCBleHRlbmRzIFRlbnNvcjNEfFRlbnNvcjREPihcbiAgICAgICAgZmlsdGVyOiBUZW5zb3IzRHxUZW5zb3JMaWtlM0QsIHN0cmlkZXM6IFtudW1iZXIsIG51bWJlcl18bnVtYmVyLFxuICAgICAgICBwYWQ6ICd2YWxpZCd8J3NhbWUnLCBkaWxhdGlvbnM/OiBbbnVtYmVyLCBudW1iZXJdfG51bWJlcixcbiAgICAgICAgZGF0YUZvcm1hdD86ICdOSFdDJyk6IFQ7XG4gIH1cbn1cblxuVGVuc29yLnByb3RvdHlwZS5kaWxhdGlvbjJkID0gZnVuY3Rpb248VCBleHRlbmRzIFRlbnNvcjNEfFRlbnNvcjREPihcbiAgICBmaWx0ZXI6IFRlbnNvcjNEfFRlbnNvckxpa2UzRCwgc3RyaWRlczogW251bWJlciwgbnVtYmVyXXxudW1iZXIsXG4gICAgcGFkOiAndmFsaWQnfCdzYW1lJywgZGlsYXRpb25zPzogW251bWJlciwgbnVtYmVyXXxudW1iZXIsXG4gICAgZGF0YUZvcm1hdD86ICdOSFdDJyk6IFQge1xuICB0aGlzLnRocm93SWZEaXNwb3NlZCgpO1xuICByZXR1cm4gZGlsYXRpb24yZCh0aGlzLCBmaWx0ZXIsIHN0cmlkZXMsIHBhZCwgZGlsYXRpb25zLCBkYXRhRm9ybWF0KSBhcyBUO1xufTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuaW1wb3J0IHtkaXZOb05hbn0gZnJvbSAnLi4vLi4vb3BzL2Rpdl9ub19uYW4nO1xuaW1wb3J0IHtUZW5zb3J9IGZyb20gJy4uLy4uL3RlbnNvcic7XG5pbXBvcnQge1JhbmssIFRlbnNvckxpa2V9IGZyb20gJy4uLy4uL3R5cGVzJztcblxuZGVjbGFyZSBtb2R1bGUgJy4uLy4uL3RlbnNvcicge1xuICBpbnRlcmZhY2UgVGVuc29yPFIgZXh0ZW5kcyBSYW5rID0gUmFuaz4ge1xuICAgIGRpdk5vTmFuPFQgZXh0ZW5kcyBUZW5zb3I+KGI6IFRlbnNvcnxUZW5zb3JMaWtlKTogVDtcbiAgfVxufVxuXG5UZW5zb3IucHJvdG90eXBlLmRpdk5vTmFuID0gZnVuY3Rpb248VCBleHRlbmRzIFRlbnNvcj4oYjogVGVuc29yfFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRlbnNvckxpa2UpOiBUIHtcbiAgdGhpcy50aHJvd0lmRGlzcG9zZWQoKTtcbiAgcmV0dXJuIGRpdk5vTmFuKHRoaXMsIGIpO1xufTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuLy8gVE9ETyB1cGRhdGUgaW1wb3J0IHBhdGggb25jZSBvcCBpcyBtb2R1bGFyaXplZC5cbmltcG9ydCB7ZGl2U3RyaWN0fSBmcm9tICcuLi8uLi9vcHMvb3BzJztcbmltcG9ydCB7VGVuc29yfSBmcm9tICcuLi8uLi90ZW5zb3InO1xuaW1wb3J0IHtSYW5rLCBUZW5zb3JMaWtlfSBmcm9tICcuLi8uLi90eXBlcyc7XG5cbmRlY2xhcmUgbW9kdWxlICcuLi8uLi90ZW5zb3InIHtcbiAgaW50ZXJmYWNlIFRlbnNvcjxSIGV4dGVuZHMgUmFuayA9IFJhbms+IHtcbiAgICBkaXZTdHJpY3Q8VCBleHRlbmRzIFRlbnNvcj4odGhpczogVCwgeDogVHxUZW5zb3JMaWtlKTogVDtcbiAgfVxufVxuXG5UZW5zb3IucHJvdG90eXBlLmRpdlN0cmljdCA9IGZ1bmN0aW9uPFQgZXh0ZW5kcyBUZW5zb3I+KFxuICAgIHRoaXM6IFQsIHg6IFR8VGVuc29yTGlrZSk6IFQge1xuICB0aGlzLnRocm93SWZEaXNwb3NlZCgpO1xuICByZXR1cm4gZGl2U3RyaWN0KHRoaXMsIHgpO1xufTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuaW1wb3J0IHtkaXZ9IGZyb20gJy4uLy4uL29wcy9kaXYnO1xuaW1wb3J0IHtUZW5zb3J9IGZyb20gJy4uLy4uL3RlbnNvcic7XG5pbXBvcnQge1JhbmssIFRlbnNvckxpa2V9IGZyb20gJy4uLy4uL3R5cGVzJztcblxuZGVjbGFyZSBtb2R1bGUgJy4uLy4uL3RlbnNvcicge1xuICBpbnRlcmZhY2UgVGVuc29yPFIgZXh0ZW5kcyBSYW5rID0gUmFuaz4ge1xuICAgIGRpdjxUIGV4dGVuZHMgVGVuc29yPihiOiBUZW5zb3J8VGVuc29yTGlrZSk6IFQ7XG4gIH1cbn1cblxuVGVuc29yLnByb3RvdHlwZS5kaXYgPSBmdW5jdGlvbjxUIGV4dGVuZHMgVGVuc29yPihiOiBUZW5zb3J8VGVuc29yTGlrZSk6IFQge1xuICB0aGlzLnRocm93SWZEaXNwb3NlZCgpO1xuICByZXR1cm4gZGl2KHRoaXMsIGIpO1xufTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cbmltcG9ydCB7ZG90fSBmcm9tICcuLi8uLi9vcHMvZG90JztcbmltcG9ydCB7VGVuc29yfSBmcm9tICcuLi8uLi90ZW5zb3InO1xuaW1wb3J0IHtSYW5rLCBUZW5zb3JMaWtlfSBmcm9tICcuLi8uLi90eXBlcyc7XG5cbmRlY2xhcmUgbW9kdWxlICcuLi8uLi90ZW5zb3InIHtcbiAgaW50ZXJmYWNlIFRlbnNvcjxSIGV4dGVuZHMgUmFuayA9IFJhbms+IHtcbiAgICBkb3Q8VCBleHRlbmRzIFRlbnNvcj4oYjogVGVuc29yfFRlbnNvckxpa2UpOiBUZW5zb3I7XG4gIH1cbn1cblxuVGVuc29yLnByb3RvdHlwZS5kb3QgPSBmdW5jdGlvbjxUIGV4dGVuZHMgVGVuc29yPihiOiBUfFRlbnNvckxpa2UpOiBUZW5zb3Ige1xuICB0aGlzLnRocm93SWZEaXNwb3NlZCgpO1xuICByZXR1cm4gZG90KHRoaXMsIGIpO1xufTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cbmltcG9ydCB7ZWx1fSBmcm9tICcuLi8uLi9vcHMvZWx1JztcbmltcG9ydCB7VGVuc29yfSBmcm9tICcuLi8uLi90ZW5zb3InO1xuaW1wb3J0IHtSYW5rfSBmcm9tICcuLi8uLi90eXBlcyc7XG5cbmRlY2xhcmUgbW9kdWxlICcuLi8uLi90ZW5zb3InIHtcbiAgaW50ZXJmYWNlIFRlbnNvcjxSIGV4dGVuZHMgUmFuayA9IFJhbms+IHtcbiAgICBlbHU8VCBleHRlbmRzIFRlbnNvcj4oKTogVDtcbiAgfVxufVxuXG5UZW5zb3IucHJvdG90eXBlLmVsdSA9IGZ1bmN0aW9uPFQgZXh0ZW5kcyBUZW5zb3I+KHRoaXM6IFQpOiBUIHtcbiAgdGhpcy50aHJvd0lmRGlzcG9zZWQoKTtcbiAgcmV0dXJuIGVsdSh0aGlzKTtcbn07XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbi8vIFRPRE8gdXBkYXRlIGltcG9ydCBwYXRoIG9uY2Ugb3AgaXMgbW9kdWxhcml6ZWQuXG5pbXBvcnQge2VxdWFsU3RyaWN0fSBmcm9tICcuLi8uLi9vcHMvb3BzJztcbmltcG9ydCB7VGVuc29yfSBmcm9tICcuLi8uLi90ZW5zb3InO1xuaW1wb3J0IHtSYW5rLCBUZW5zb3JMaWtlfSBmcm9tICcuLi8uLi90eXBlcyc7XG5cbmRlY2xhcmUgbW9kdWxlICcuLi8uLi90ZW5zb3InIHtcbiAgaW50ZXJmYWNlIFRlbnNvcjxSIGV4dGVuZHMgUmFuayA9IFJhbms+IHtcbiAgICBlcXVhbFN0cmljdDxUIGV4dGVuZHMgVGVuc29yPih0aGlzOiBULCB4OiBUfFRlbnNvckxpa2UpOiBUO1xuICB9XG59XG5cbi8qKlxuICogQGRlcHJlY2F0ZWQgc3RyaWN0IHZhcmlhbnRzIG9mIG9wcyBoYXZlIGJlZW4gZGVwcmVjYXRlZFxuICovXG5UZW5zb3IucHJvdG90eXBlLmVxdWFsU3RyaWN0ID0gZnVuY3Rpb248VCBleHRlbmRzIFRlbnNvcj4oXG4gICAgdGhpczogVCwgeDogVHxUZW5zb3JMaWtlKTogVCB7XG4gIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCk7XG4gIHJldHVybiBlcXVhbFN0cmljdCh0aGlzLCB4KTtcbn07XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5pbXBvcnQge2VxdWFsfSBmcm9tICcuLi8uLi9vcHMvZXF1YWwnO1xuaW1wb3J0IHtUZW5zb3J9IGZyb20gJy4uLy4uL3RlbnNvcic7XG5pbXBvcnQge1JhbmssIFRlbnNvckxpa2V9IGZyb20gJy4uLy4uL3R5cGVzJztcblxuZGVjbGFyZSBtb2R1bGUgJy4uLy4uL3RlbnNvcicge1xuICBpbnRlcmZhY2UgVGVuc29yPFIgZXh0ZW5kcyBSYW5rID0gUmFuaz4ge1xuICAgIGVxdWFsPFQgZXh0ZW5kcyBUZW5zb3I+KGI6IFRlbnNvcnxUZW5zb3JMaWtlKTogVDtcbiAgfVxufVxuXG5UZW5zb3IucHJvdG90eXBlLmVxdWFsID0gZnVuY3Rpb248VCBleHRlbmRzIFRlbnNvcj4oYjogVGVuc29yfFRlbnNvckxpa2UpOiBUIHtcbiAgdGhpcy50aHJvd0lmRGlzcG9zZWQoKTtcbiAgcmV0dXJuIGVxdWFsKHRoaXMsIGIpO1xufTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuLy8gVE9ETyB1cGRhdGUgaW1wb3J0IHBhdGggb25jZSBvcCBpcyBtb2R1bGFyaXplZC5cbmltcG9ydCB7ZXJmfSBmcm9tICcuLi8uLi9vcHMvb3BzJztcbmltcG9ydCB7VGVuc29yfSBmcm9tICcuLi8uLi90ZW5zb3InO1xuaW1wb3J0IHtSYW5rfSBmcm9tICcuLi8uLi90eXBlcyc7XG5cbmRlY2xhcmUgbW9kdWxlICcuLi8uLi90ZW5zb3InIHtcbiAgaW50ZXJmYWNlIFRlbnNvcjxSIGV4dGVuZHMgUmFuayA9IFJhbms+IHtcbiAgICBlcmY8VCBleHRlbmRzIFRlbnNvcj4odGhpczogVCk6IFQ7XG4gIH1cbn1cblxuVGVuc29yLnByb3RvdHlwZS5lcmYgPSBmdW5jdGlvbjxUIGV4dGVuZHMgVGVuc29yPih0aGlzOiBUKTogVCB7XG4gIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCk7XG4gIHJldHVybiBlcmYodGhpcyk7XG59O1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG4vLyBUT0RPIHVwZGF0ZSBpbXBvcnQgcGF0aCBvbmNlIG9wIGlzIG1vZHVsYXJpemVkLlxuaW1wb3J0IHtleHB9IGZyb20gJy4uLy4uL29wcy9vcHMnO1xuaW1wb3J0IHtUZW5zb3J9IGZyb20gJy4uLy4uL3RlbnNvcic7XG5pbXBvcnQge1Jhbmt9IGZyb20gJy4uLy4uL3R5cGVzJztcblxuZGVjbGFyZSBtb2R1bGUgJy4uLy4uL3RlbnNvcicge1xuICBpbnRlcmZhY2UgVGVuc29yPFIgZXh0ZW5kcyBSYW5rID0gUmFuaz4ge1xuICAgIGV4cDxUIGV4dGVuZHMgVGVuc29yPih0aGlzOiBUKTogVDtcbiAgfVxufVxuXG5UZW5zb3IucHJvdG90eXBlLmV4cCA9IGZ1bmN0aW9uPFQgZXh0ZW5kcyBUZW5zb3I+KHRoaXM6IFQpOiBUIHtcbiAgdGhpcy50aHJvd0lmRGlzcG9zZWQoKTtcbiAgcmV0dXJuIGV4cCh0aGlzKTtcbn07XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5pbXBvcnQge2V4cGFuZERpbXN9IGZyb20gJy4uLy4uL29wcy9leHBhbmRfZGltcyc7XG5pbXBvcnQge1RlbnNvcn0gZnJvbSAnLi4vLi4vdGVuc29yJztcbmltcG9ydCB7UmFua30gZnJvbSAnLi4vLi4vdHlwZXMnO1xuXG5kZWNsYXJlIG1vZHVsZSAnLi4vLi4vdGVuc29yJyB7XG4gIGludGVyZmFjZSBUZW5zb3I8UiBleHRlbmRzIFJhbmsgPSBSYW5rPiB7XG4gICAgZXhwYW5kRGltczxUIGV4dGVuZHMgVGVuc29yPihheGlzPzogbnVtYmVyKTogVDtcbiAgfVxufVxuXG5UZW5zb3IucHJvdG90eXBlLmV4cGFuZERpbXMgPSBmdW5jdGlvbjxUIGV4dGVuZHMgVGVuc29yPihheGlzPzogbnVtYmVyKTogVCB7XG4gIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCk7XG4gIHJldHVybiBleHBhbmREaW1zKHRoaXMsIGF4aXMpO1xufTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuLy8gVE9ETyB1cGRhdGUgaW1wb3J0IHBhdGggb25jZSBvcCBpcyBtb2R1bGFyaXplZC5cbmltcG9ydCB7ZXhwbTF9IGZyb20gJy4uLy4uL29wcy9vcHMnO1xuaW1wb3J0IHtUZW5zb3J9IGZyb20gJy4uLy4uL3RlbnNvcic7XG5pbXBvcnQge1Jhbmt9IGZyb20gJy4uLy4uL3R5cGVzJztcblxuZGVjbGFyZSBtb2R1bGUgJy4uLy4uL3RlbnNvcicge1xuICBpbnRlcmZhY2UgVGVuc29yPFIgZXh0ZW5kcyBSYW5rID0gUmFuaz4ge1xuICAgIGV4cG0xPFQgZXh0ZW5kcyBUZW5zb3I+KHRoaXM6IFQpOiBUO1xuICB9XG59XG5cblRlbnNvci5wcm90b3R5cGUuZXhwbTEgPSBmdW5jdGlvbjxUIGV4dGVuZHMgVGVuc29yPih0aGlzOiBUKTogVCB7XG4gIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCk7XG4gIHJldHVybiBleHBtMSh0aGlzKTtcbn07XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbi8vIFRPRE8gdXBkYXRlIGltcG9ydCBwYXRoIG9uY2Ugb3AgaXMgbW9kdWxhcml6ZWQuXG5pbXBvcnQge2ZmdH0gZnJvbSAnLi4vLi4vb3BzL29wcyc7XG5pbXBvcnQge1RlbnNvcn0gZnJvbSAnLi4vLi4vdGVuc29yJztcbmltcG9ydCB7UmFua30gZnJvbSAnLi4vLi4vdHlwZXMnO1xuXG5kZWNsYXJlIG1vZHVsZSAnLi4vLi4vdGVuc29yJyB7XG4gIGludGVyZmFjZSBUZW5zb3I8UiBleHRlbmRzIFJhbmsgPSBSYW5rPiB7XG4gICAgZmZ0PFQgZXh0ZW5kcyBUZW5zb3I+KHRoaXM6IFRlbnNvcik6IFRlbnNvcjtcbiAgfVxufVxuXG5UZW5zb3IucHJvdG90eXBlLmZmdCA9IGZ1bmN0aW9uPFQgZXh0ZW5kcyBUZW5zb3I+KHRoaXM6IFRlbnNvcik6IFQge1xuICB0aGlzLnRocm93SWZEaXNwb3NlZCgpO1xuICByZXR1cm4gZmZ0KHRoaXMpIGFzIFQ7XG59O1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG5pbXBvcnQge3Jlc2hhcGV9IGZyb20gJy4uLy4uL29wcy9yZXNoYXBlJztcbmltcG9ydCB7VGVuc29yfSBmcm9tICcuLi8uLi90ZW5zb3InO1xuaW1wb3J0IHtSYW5rfSBmcm9tICcuLi8uLi90eXBlcyc7XG5cbmRlY2xhcmUgbW9kdWxlICcuLi8uLi90ZW5zb3InIHtcbiAgaW50ZXJmYWNlIFRlbnNvcjxSIGV4dGVuZHMgUmFuayA9IFJhbms+IHtcbiAgICBmbGF0dGVuPFQgZXh0ZW5kcyBUZW5zb3I+KCk6IFRlbnNvcjFEO1xuICB9XG59XG5cbi8qKiBGbGF0dGVuIGEgVGVuc29yIHRvIGEgMUQgYXJyYXkuXG4gKiBAZG9jIHtoZWFkaW5nOiAnVGVuc29ycycsIHN1YmhlYWRpbmc6ICdDbGFzc2VzJ31cbiAqL1xuVGVuc29yLnByb3RvdHlwZS5mbGF0dGVuID0gZnVuY3Rpb248VCBleHRlbmRzIFRlbnNvcj4oKTogVCB7XG4gIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCk7XG4gIHJldHVybiByZXNoYXBlKHRoaXMsIFt0aGlzLnNpemVdKSBhcyBUO1xufTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuLy8gVE9ETyB1cGRhdGUgaW1wb3J0IHBhdGggb25jZSBvcCBpcyBtb2R1bGFyaXplZC5cbmltcG9ydCB7Zmxvb3J9IGZyb20gJy4uLy4uL29wcy9vcHMnO1xuaW1wb3J0IHtUZW5zb3J9IGZyb20gJy4uLy4uL3RlbnNvcic7XG5pbXBvcnQge1Jhbmt9IGZyb20gJy4uLy4uL3R5cGVzJztcblxuZGVjbGFyZSBtb2R1bGUgJy4uLy4uL3RlbnNvcicge1xuICBpbnRlcmZhY2UgVGVuc29yPFIgZXh0ZW5kcyBSYW5rID0gUmFuaz4ge1xuICAgIGZsb29yPFQgZXh0ZW5kcyBUZW5zb3I+KHRoaXM6IFQpOiBUO1xuICB9XG59XG5cblRlbnNvci5wcm90b3R5cGUuZmxvb3IgPSBmdW5jdGlvbjxUIGV4dGVuZHMgVGVuc29yPih0aGlzOiBUKTogVCB7XG4gIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCk7XG4gIHJldHVybiBmbG9vcih0aGlzKTtcbn07XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5pbXBvcnQge2Zsb29yRGl2fSBmcm9tICcuLi8uLi9vcHMvZmxvb3JEaXYnO1xuaW1wb3J0IHtUZW5zb3J9IGZyb20gJy4uLy4uL3RlbnNvcic7XG5pbXBvcnQge1JhbmssIFRlbnNvckxpa2V9IGZyb20gJy4uLy4uL3R5cGVzJztcblxuZGVjbGFyZSBtb2R1bGUgJy4uLy4uL3RlbnNvcicge1xuICBpbnRlcmZhY2UgVGVuc29yPFIgZXh0ZW5kcyBSYW5rID0gUmFuaz4ge1xuICAgIGZsb29yRGl2PFQgZXh0ZW5kcyBUZW5zb3I+KGI6IFRlbnNvcnxUZW5zb3JMaWtlKTogVDtcbiAgfVxufVxuXG5UZW5zb3IucHJvdG90eXBlLmZsb29yRGl2ID0gZnVuY3Rpb248VCBleHRlbmRzIFRlbnNvcj4oYjogVGVuc29yfFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRlbnNvckxpa2UpOiBUIHtcbiAgdGhpcy50aHJvd0lmRGlzcG9zZWQoKTtcbiAgcmV0dXJuIGZsb29yRGl2KHRoaXMsIGIpO1xufTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuaW1wb3J0IHtnYXRoZXJ9IGZyb20gJy4uLy4uL29wcy9nYXRoZXInO1xuaW1wb3J0IHtUZW5zb3J9IGZyb20gJy4uLy4uL3RlbnNvcic7XG5pbXBvcnQge1JhbmssIFRlbnNvckxpa2V9IGZyb20gJy4uLy4uL3R5cGVzJztcblxuZGVjbGFyZSBtb2R1bGUgJy4uLy4uL3RlbnNvcicge1xuICBpbnRlcmZhY2UgVGVuc29yPFIgZXh0ZW5kcyBSYW5rID0gUmFuaz4ge1xuICAgIGdhdGhlcjxUIGV4dGVuZHMgVGVuc29yPihcbiAgICAgICAgdGhpczogVCwgaW5kaWNlczogVGVuc29yfFRlbnNvckxpa2UsIGF4aXM/OiBudW1iZXIpOiBUO1xuICB9XG59XG5cblRlbnNvci5wcm90b3R5cGUuZ2F0aGVyID0gZnVuY3Rpb248VCBleHRlbmRzIFRlbnNvcj4oXG4gICAgdGhpczogVCwgaW5kaWNlczogVGVuc29yfFRlbnNvckxpa2UsIGF4aXM/OiBudW1iZXIpOiBUIHtcbiAgdGhpcy50aHJvd0lmRGlzcG9zZWQoKTtcbiAgcmV0dXJuIGdhdGhlcih0aGlzLCBpbmRpY2VzLCBheGlzKTtcbn07XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbi8vIFRPRE8gdXBkYXRlIGltcG9ydCBwYXRoIG9uY2Ugb3AgaXMgbW9kdWxhcml6ZWQuXG5pbXBvcnQge2dyZWF0ZXJFcXVhbFN0cmljdH0gZnJvbSAnLi4vLi4vb3BzL29wcyc7XG5pbXBvcnQge1RlbnNvcn0gZnJvbSAnLi4vLi4vdGVuc29yJztcbmltcG9ydCB7UmFuaywgVGVuc29yTGlrZX0gZnJvbSAnLi4vLi4vdHlwZXMnO1xuXG5kZWNsYXJlIG1vZHVsZSAnLi4vLi4vdGVuc29yJyB7XG4gIGludGVyZmFjZSBUZW5zb3I8UiBleHRlbmRzIFJhbmsgPSBSYW5rPiB7XG4gICAgZ3JlYXRlckVxdWFsU3RyaWN0PFQgZXh0ZW5kcyBUZW5zb3I+KHRoaXM6IFQsIHg6IFR8VGVuc29yTGlrZSk6IFQ7XG4gIH1cbn1cblxuLyoqXG4gKiBAZGVwcmVjYXRlZCBzdHJpY3QgdmFyaWFudHMgb2Ygb3BzIGhhdmUgYmVlbiBkZXByZWNhdGVkXG4gKi9cblRlbnNvci5wcm90b3R5cGUuZ3JlYXRlckVxdWFsU3RyaWN0ID0gZnVuY3Rpb248VCBleHRlbmRzIFRlbnNvcj4oXG4gICAgdGhpczogVCwgeDogVHxUZW5zb3JMaWtlKSB7XG4gIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCk7XG4gIHJldHVybiBncmVhdGVyRXF1YWxTdHJpY3QodGhpcywgeCk7XG59O1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuaW1wb3J0IHtncmVhdGVyRXF1YWx9IGZyb20gJy4uLy4uL29wcy9ncmVhdGVyX2VxdWFsJztcbmltcG9ydCB7VGVuc29yfSBmcm9tICcuLi8uLi90ZW5zb3InO1xuaW1wb3J0IHtSYW5rLCBUZW5zb3JMaWtlfSBmcm9tICcuLi8uLi90eXBlcyc7XG5cbmRlY2xhcmUgbW9kdWxlICcuLi8uLi90ZW5zb3InIHtcbiAgaW50ZXJmYWNlIFRlbnNvcjxSIGV4dGVuZHMgUmFuayA9IFJhbms+IHtcbiAgICBncmVhdGVyRXF1YWw8VCBleHRlbmRzIFRlbnNvcj4oYjogVGVuc29yfFRlbnNvckxpa2UpOiBUO1xuICB9XG59XG5cblRlbnNvci5wcm90b3R5cGUuZ3JlYXRlckVxdWFsID0gZnVuY3Rpb248VCBleHRlbmRzIFRlbnNvcj4oYjogVGVuc29yfFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUZW5zb3JMaWtlKTogVCB7XG4gIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCk7XG4gIHJldHVybiBncmVhdGVyRXF1YWwodGhpcywgYik7XG59O1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG4vLyBUT0RPIHVwZGF0ZSBpbXBvcnQgcGF0aCBvbmNlIG9wIGlzIG1vZHVsYXJpemVkLlxuaW1wb3J0IHtncmVhdGVyU3RyaWN0fSBmcm9tICcuLi8uLi9vcHMvb3BzJztcbmltcG9ydCB7VGVuc29yfSBmcm9tICcuLi8uLi90ZW5zb3InO1xuaW1wb3J0IHtSYW5rLCBUZW5zb3JMaWtlfSBmcm9tICcuLi8uLi90eXBlcyc7XG5cbmRlY2xhcmUgbW9kdWxlICcuLi8uLi90ZW5zb3InIHtcbiAgaW50ZXJmYWNlIFRlbnNvcjxSIGV4dGVuZHMgUmFuayA9IFJhbms+IHtcbiAgICBncmVhdGVyU3RyaWN0PFQgZXh0ZW5kcyBUZW5zb3I+KHRoaXM6IFQsIHg6IFR8VGVuc29yTGlrZSk6IFQ7XG4gIH1cbn1cblxuLyoqXG4gKiBAZGVwcmVjYXRlZCBzdHJpY3QgdmFyaWFudHMgb2Ygb3BzIGhhdmUgYmVlbiBkZXByZWNhdGVkXG4gKi9cblRlbnNvci5wcm90b3R5cGUuZ3JlYXRlclN0cmljdCA9IGZ1bmN0aW9uPFQgZXh0ZW5kcyBUZW5zb3I+KFxuICAgIHRoaXM6IFQsIHg6IFR8VGVuc29yTGlrZSk6IFQge1xuICB0aGlzLnRocm93SWZEaXNwb3NlZCgpO1xuICByZXR1cm4gZ3JlYXRlclN0cmljdCh0aGlzLCB4KTtcbn07XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5pbXBvcnQge2dyZWF0ZXJ9IGZyb20gJy4uLy4uL29wcy9ncmVhdGVyJztcbmltcG9ydCB7VGVuc29yfSBmcm9tICcuLi8uLi90ZW5zb3InO1xuaW1wb3J0IHtSYW5rLCBUZW5zb3JMaWtlfSBmcm9tICcuLi8uLi90eXBlcyc7XG5cbmRlY2xhcmUgbW9kdWxlICcuLi8uLi90ZW5zb3InIHtcbiAgaW50ZXJmYWNlIFRlbnNvcjxSIGV4dGVuZHMgUmFuayA9IFJhbms+IHtcbiAgICBncmVhdGVyPFQgZXh0ZW5kcyBUZW5zb3I+KGI6IFRlbnNvcnxUZW5zb3JMaWtlKTogVDtcbiAgfVxufVxuXG5UZW5zb3IucHJvdG90eXBlLmdyZWF0ZXIgPSBmdW5jdGlvbjxUIGV4dGVuZHMgVGVuc29yPihiOiBUZW5zb3J8VGVuc29yTGlrZSk6IFQge1xuICB0aGlzLnRocm93SWZEaXNwb3NlZCgpO1xuICByZXR1cm4gZ3JlYXRlcih0aGlzLCBiKTtcbn07XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbi8vIFRPRE8gdXBkYXRlIGltcG9ydCBwYXRoIG9uY2Ugb3AgaXMgbW9kdWxhcml6ZWQuXG5pbXBvcnQge2lmZnR9IGZyb20gJy4uLy4uL29wcy9vcHMnO1xuaW1wb3J0IHtUZW5zb3J9IGZyb20gJy4uLy4uL3RlbnNvcic7XG5pbXBvcnQge1Jhbmt9IGZyb20gJy4uLy4uL3R5cGVzJztcblxuZGVjbGFyZSBtb2R1bGUgJy4uLy4uL3RlbnNvcicge1xuICBpbnRlcmZhY2UgVGVuc29yPFIgZXh0ZW5kcyBSYW5rID0gUmFuaz4ge1xuICAgIGlmZnQ8VCBleHRlbmRzIFRlbnNvcj4odGhpczogVGVuc29yKTogVGVuc29yO1xuICB9XG59XG5cblRlbnNvci5wcm90b3R5cGUuaWZmdCA9IGZ1bmN0aW9uPFQgZXh0ZW5kcyBUZW5zb3I+KHRoaXM6IFRlbnNvcik6IFQge1xuICB0aGlzLnRocm93SWZEaXNwb3NlZCgpO1xuICByZXR1cm4gaWZmdCh0aGlzKSBhcyBUO1xufTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuLy8gVE9ETyB1cGRhdGUgaW1wb3J0IHBhdGggb25jZSBvcCBpcyBtb2R1bGFyaXplZC5cbmltcG9ydCB7aXJmZnR9IGZyb20gJy4uLy4uL29wcy9vcHMnO1xuaW1wb3J0IHtUZW5zb3J9IGZyb20gJy4uLy4uL3RlbnNvcic7XG5pbXBvcnQge1Jhbmt9IGZyb20gJy4uLy4uL3R5cGVzJztcblxuZGVjbGFyZSBtb2R1bGUgJy4uLy4uL3RlbnNvcicge1xuICBpbnRlcmZhY2UgVGVuc29yPFIgZXh0ZW5kcyBSYW5rID0gUmFuaz4ge1xuICAgIGlyZmZ0PFQgZXh0ZW5kcyBUZW5zb3I+KHRoaXM6IFRlbnNvcik6IFRlbnNvcjtcbiAgfVxufVxuXG5UZW5zb3IucHJvdG90eXBlLmlyZmZ0ID0gZnVuY3Rpb248VCBleHRlbmRzIFRlbnNvcj4odGhpczogVGVuc29yKTogVCB7XG4gIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCk7XG4gIHJldHVybiBpcmZmdCh0aGlzKSBhcyBUO1xufTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuLy8gVE9ETyB1cGRhdGUgaW1wb3J0IHBhdGggb25jZSBvcCBpcyBtb2R1bGFyaXplZC5cbmltcG9ydCB7aXNGaW5pdGV9IGZyb20gJy4uLy4uL29wcy9vcHMnO1xuaW1wb3J0IHtUZW5zb3J9IGZyb20gJy4uLy4uL3RlbnNvcic7XG5pbXBvcnQge1Jhbmt9IGZyb20gJy4uLy4uL3R5cGVzJztcblxuZGVjbGFyZSBtb2R1bGUgJy4uLy4uL3RlbnNvcicge1xuICBpbnRlcmZhY2UgVGVuc29yPFIgZXh0ZW5kcyBSYW5rID0gUmFuaz4ge1xuICAgIGlzRmluaXRlPFQgZXh0ZW5kcyBUZW5zb3I+KHRoaXM6IFQpOiBUO1xuICB9XG59XG5cblRlbnNvci5wcm90b3R5cGUuaXNGaW5pdGUgPSBmdW5jdGlvbjxUIGV4dGVuZHMgVGVuc29yPih0aGlzOiBUKTogVCB7XG4gIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCk7XG4gIHJldHVybiBpc0Zpbml0ZSh0aGlzKTtcbn07XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbi8vIFRPRE8gdXBkYXRlIGltcG9ydCBwYXRoIG9uY2Ugb3AgaXMgbW9kdWxhcml6ZWQuXG5pbXBvcnQge2lzSW5mfSBmcm9tICcuLi8uLi9vcHMvb3BzJztcbmltcG9ydCB7VGVuc29yfSBmcm9tICcuLi8uLi90ZW5zb3InO1xuaW1wb3J0IHtSYW5rfSBmcm9tICcuLi8uLi90eXBlcyc7XG5cbmRlY2xhcmUgbW9kdWxlICcuLi8uLi90ZW5zb3InIHtcbiAgaW50ZXJmYWNlIFRlbnNvcjxSIGV4dGVuZHMgUmFuayA9IFJhbms+IHtcbiAgICBpc0luZjxUIGV4dGVuZHMgVGVuc29yPih0aGlzOiBUKTogVDtcbiAgfVxufVxuXG5UZW5zb3IucHJvdG90eXBlLmlzSW5mID0gZnVuY3Rpb248VCBleHRlbmRzIFRlbnNvcj4odGhpczogVCk6IFQge1xuICB0aGlzLnRocm93SWZEaXNwb3NlZCgpO1xuICByZXR1cm4gaXNJbmYodGhpcyk7XG59O1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG4vLyBUT0RPIHVwZGF0ZSBpbXBvcnQgcGF0aCBvbmNlIG9wIGlzIG1vZHVsYXJpemVkLlxuaW1wb3J0IHtpc05hTn0gZnJvbSAnLi4vLi4vb3BzL29wcyc7XG5pbXBvcnQge1RlbnNvcn0gZnJvbSAnLi4vLi4vdGVuc29yJztcbmltcG9ydCB7UmFua30gZnJvbSAnLi4vLi4vdHlwZXMnO1xuXG5kZWNsYXJlIG1vZHVsZSAnLi4vLi4vdGVuc29yJyB7XG4gIGludGVyZmFjZSBUZW5zb3I8UiBleHRlbmRzIFJhbmsgPSBSYW5rPiB7XG4gICAgaXNOYU48VCBleHRlbmRzIFRlbnNvcj4odGhpczogVCk6IFQ7XG4gIH1cbn1cblxuVGVuc29yLnByb3RvdHlwZS5pc05hTiA9IGZ1bmN0aW9uPFQgZXh0ZW5kcyBUZW5zb3I+KHRoaXM6IFQpOiBUIHtcbiAgdGhpcy50aHJvd0lmRGlzcG9zZWQoKTtcbiAgcmV0dXJuIGlzTmFOKHRoaXMpO1xufTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cbmltcG9ydCB7bGVha3lSZWx1fSBmcm9tICcuLi8uLi9vcHMvbGVha3lfcmVsdSc7XG5pbXBvcnQge1RlbnNvcn0gZnJvbSAnLi4vLi4vdGVuc29yJztcbmltcG9ydCB7UmFua30gZnJvbSAnLi4vLi4vdHlwZXMnO1xuXG5kZWNsYXJlIG1vZHVsZSAnLi4vLi4vdGVuc29yJyB7XG4gIGludGVyZmFjZSBUZW5zb3I8UiBleHRlbmRzIFJhbmsgPSBSYW5rPiB7XG4gICAgbGVha3lSZWx1PFQgZXh0ZW5kcyBUZW5zb3I+KGFscGhhOiBudW1iZXIpOiBUO1xuICB9XG59XG5cblRlbnNvci5wcm90b3R5cGUubGVha3lSZWx1ID0gZnVuY3Rpb248VCBleHRlbmRzIFRlbnNvcj4oXG4gICAgdGhpczogVCwgYWxwaGE6IG51bWJlcik6IFQge1xuICB0aGlzLnRocm93SWZEaXNwb3NlZCgpO1xuICByZXR1cm4gbGVha3lSZWx1KHRoaXMsIGFscGhhKTtcbn07XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbi8vIFRPRE8gdXBkYXRlIGltcG9ydCBwYXRoIG9uY2Ugb3AgaXMgbW9kdWxhcml6ZWQuXG5pbXBvcnQge2xlc3NFcXVhbFN0cmljdH0gZnJvbSAnLi4vLi4vb3BzL29wcyc7XG5pbXBvcnQge1RlbnNvcn0gZnJvbSAnLi4vLi4vdGVuc29yJztcbmltcG9ydCB7UmFuaywgVGVuc29yTGlrZX0gZnJvbSAnLi4vLi4vdHlwZXMnO1xuXG5kZWNsYXJlIG1vZHVsZSAnLi4vLi4vdGVuc29yJyB7XG4gIGludGVyZmFjZSBUZW5zb3I8UiBleHRlbmRzIFJhbmsgPSBSYW5rPiB7XG4gICAgbGVzc0VxdWFsU3RyaWN0PFQgZXh0ZW5kcyBUZW5zb3I+KHRoaXM6IFQsIHg6IFR8VGVuc29yTGlrZSk6IFQ7XG4gIH1cbn1cblxuLyoqXG4gKiBAZGVwcmVjYXRlZCBzdHJpY3QgdmFyaWFudHMgb2Ygb3BzIGhhdmUgYmVlbiBkZXByZWNhdGVkXG4gKi9cblRlbnNvci5wcm90b3R5cGUubGVzc0VxdWFsU3RyaWN0ID0gZnVuY3Rpb248VCBleHRlbmRzIFRlbnNvcj4oXG4gICAgdGhpczogVCwgeDogVHxUZW5zb3JMaWtlKSB7XG4gIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCk7XG4gIHJldHVybiBsZXNzRXF1YWxTdHJpY3QodGhpcywgeCk7XG59O1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuaW1wb3J0IHtsZXNzRXF1YWx9IGZyb20gJy4uLy4uL29wcy9sZXNzX2VxdWFsJztcbmltcG9ydCB7VGVuc29yfSBmcm9tICcuLi8uLi90ZW5zb3InO1xuaW1wb3J0IHtSYW5rLCBUZW5zb3JMaWtlfSBmcm9tICcuLi8uLi90eXBlcyc7XG5cbmRlY2xhcmUgbW9kdWxlICcuLi8uLi90ZW5zb3InIHtcbiAgaW50ZXJmYWNlIFRlbnNvcjxSIGV4dGVuZHMgUmFuayA9IFJhbms+IHtcbiAgICBsZXNzRXF1YWw8VCBleHRlbmRzIFRlbnNvcj4oYjogVGVuc29yfFRlbnNvckxpa2UpOiBUO1xuICB9XG59XG5cblRlbnNvci5wcm90b3R5cGUubGVzc0VxdWFsID0gZnVuY3Rpb248VCBleHRlbmRzIFRlbnNvcj4oYjogVGVuc29yfFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUZW5zb3JMaWtlKTogVCB7XG4gIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCk7XG4gIHJldHVybiBsZXNzRXF1YWwodGhpcywgYik7XG59O1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG4vLyBUT0RPIHVwZGF0ZSBpbXBvcnQgcGF0aCBvbmNlIG9wIGlzIG1vZHVsYXJpemVkLlxuaW1wb3J0IHtsZXNzU3RyaWN0fSBmcm9tICcuLi8uLi9vcHMvb3BzJztcbmltcG9ydCB7VGVuc29yfSBmcm9tICcuLi8uLi90ZW5zb3InO1xuaW1wb3J0IHtSYW5rLCBUZW5zb3JMaWtlfSBmcm9tICcuLi8uLi90eXBlcyc7XG5cbmRlY2xhcmUgbW9kdWxlICcuLi8uLi90ZW5zb3InIHtcbiAgaW50ZXJmYWNlIFRlbnNvcjxSIGV4dGVuZHMgUmFuayA9IFJhbms+IHtcbiAgICBsZXNzU3RyaWN0PFQgZXh0ZW5kcyBUZW5zb3I+KHRoaXM6IFQsIHg6IFR8VGVuc29yTGlrZSk6IFQ7XG4gIH1cbn1cblxuVGVuc29yLnByb3RvdHlwZS5sZXNzU3RyaWN0ID0gZnVuY3Rpb248VCBleHRlbmRzIFRlbnNvcj4oXG4gICAgdGhpczogVCwgeDogVHxUZW5zb3JMaWtlKSB7XG4gIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCk7XG4gIHJldHVybiBsZXNzU3RyaWN0KHRoaXMsIHgpO1xufTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cbmltcG9ydCB7bGVzc30gZnJvbSAnLi4vLi4vb3BzL2xlc3MnO1xuaW1wb3J0IHtUZW5zb3J9IGZyb20gJy4uLy4uL3RlbnNvcic7XG5pbXBvcnQge1JhbmssIFRlbnNvckxpa2V9IGZyb20gJy4uLy4uL3R5cGVzJztcblxuZGVjbGFyZSBtb2R1bGUgJy4uLy4uL3RlbnNvcicge1xuICBpbnRlcmZhY2UgVGVuc29yPFIgZXh0ZW5kcyBSYW5rID0gUmFuaz4ge1xuICAgIGxlc3M8VCBleHRlbmRzIFRlbnNvcj4oYjogVGVuc29yfFRlbnNvckxpa2UpOiBUO1xuICB9XG59XG5cblRlbnNvci5wcm90b3R5cGUubGVzcyA9IGZ1bmN0aW9uPFQgZXh0ZW5kcyBUZW5zb3I+KGI6IFRlbnNvcnxUZW5zb3JMaWtlKTogVCB7XG4gIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCk7XG4gIHJldHVybiBsZXNzKHRoaXMsIGIpO1xufTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cbmltcG9ydCB7bG9jYWxSZXNwb25zZU5vcm1hbGl6YXRpb259IGZyb20gJy4uLy4uL29wcy9sb2NhbF9yZXNwb25zZV9ub3JtYWxpemF0aW9uJztcbmltcG9ydCB7VGVuc29yfSBmcm9tICcuLi8uLi90ZW5zb3InO1xuaW1wb3J0IHtSYW5rfSBmcm9tICcuLi8uLi90eXBlcyc7XG5cbmRlY2xhcmUgbW9kdWxlICcuLi8uLi90ZW5zb3InIHtcbiAgaW50ZXJmYWNlIFRlbnNvcjxSIGV4dGVuZHMgUmFuayA9IFJhbms+IHtcbiAgICBsb2NhbFJlc3BvbnNlTm9ybWFsaXphdGlvbjxUIGV4dGVuZHMgVGVuc29yPihcbiAgICAgICAgZGVwdGhSYWRpdXM/OiBudW1iZXIsIGJpYXM/OiBudW1iZXIsIGFscGhhPzogbnVtYmVyLCBiZXRhPzogbnVtYmVyKTogVDtcbiAgfVxufVxuXG5UZW5zb3IucHJvdG90eXBlLmxvY2FsUmVzcG9uc2VOb3JtYWxpemF0aW9uID0gZnVuY3Rpb248VCBleHRlbmRzIFRlbnNvcj4oXG4gICAgZGVwdGhSYWRpdXM/OiBudW1iZXIsIGJpYXM/OiBudW1iZXIsIGFscGhhPzogbnVtYmVyLCBiZXRhPzogbnVtYmVyKTogVCB7XG4gIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCk7XG4gIHJldHVybiBsb2NhbFJlc3BvbnNlTm9ybWFsaXphdGlvbih0aGlzLCBkZXB0aFJhZGl1cywgYmlhcywgYWxwaGEsIGJldGEpIGFzIFQ7XG59O1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG4vLyBUT0RPIHVwZGF0ZSBpbXBvcnQgcGF0aCBvbmNlIG9wIGlzIG1vZHVsYXJpemVkLlxuaW1wb3J0IHtsb2dTaWdtb2lkfSBmcm9tICcuLi8uLi9vcHMvb3BzJztcbmltcG9ydCB7VGVuc29yfSBmcm9tICcuLi8uLi90ZW5zb3InO1xuaW1wb3J0IHtSYW5rfSBmcm9tICcuLi8uLi90eXBlcyc7XG5cbmRlY2xhcmUgbW9kdWxlICcuLi8uLi90ZW5zb3InIHtcbiAgaW50ZXJmYWNlIFRlbnNvcjxSIGV4dGVuZHMgUmFuayA9IFJhbms+IHtcbiAgICBsb2dTaWdtb2lkPFQgZXh0ZW5kcyBUZW5zb3I+KHRoaXM6IFQpOiBUO1xuICB9XG59XG5cblRlbnNvci5wcm90b3R5cGUubG9nU2lnbW9pZCA9IGZ1bmN0aW9uPFQgZXh0ZW5kcyBUZW5zb3I+KHRoaXM6IFQpOiBUIHtcbiAgdGhpcy50aHJvd0lmRGlzcG9zZWQoKTtcbiAgcmV0dXJuIGxvZ1NpZ21vaWQodGhpcyk7XG59O1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG4vLyBUT0RPIHVwZGF0ZSBpbXBvcnQgcGF0aCBvbmNlIG9wIGlzIG1vZHVsYXJpemVkLlxuaW1wb3J0IHtsb2dTb2Z0bWF4fSBmcm9tICcuLi8uLi9vcHMvb3BzJztcbmltcG9ydCB7VGVuc29yfSBmcm9tICcuLi8uLi90ZW5zb3InO1xuaW1wb3J0IHtSYW5rfSBmcm9tICcuLi8uLi90eXBlcyc7XG5cbmRlY2xhcmUgbW9kdWxlICcuLi8uLi90ZW5zb3InIHtcbiAgaW50ZXJmYWNlIFRlbnNvcjxSIGV4dGVuZHMgUmFuayA9IFJhbms+IHtcbiAgICBsb2dTb2Z0bWF4PFQgZXh0ZW5kcyBUZW5zb3I+KHRoaXM6IFQsIGF4aXM/OiBudW1iZXIpOiBUO1xuICB9XG59XG5cblRlbnNvci5wcm90b3R5cGUubG9nU29mdG1heCA9IGZ1bmN0aW9uPFQgZXh0ZW5kcyBUZW5zb3I+KFxuICAgIHRoaXM6IFQsIGF4aXM/OiBudW1iZXIpOiBUIHtcbiAgdGhpcy50aHJvd0lmRGlzcG9zZWQoKTtcbiAgcmV0dXJuIGxvZ1NvZnRtYXgodGhpcywgYXhpcyk7XG59O1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuaW1wb3J0IHtsb2dTdW1FeHB9IGZyb20gJy4uLy4uL29wcy9sb2dfc3VtX2V4cCc7XG5pbXBvcnQge1RlbnNvcn0gZnJvbSAnLi4vLi4vdGVuc29yJztcbmltcG9ydCB7UmFua30gZnJvbSAnLi4vLi4vdHlwZXMnO1xuXG5kZWNsYXJlIG1vZHVsZSAnLi4vLi4vdGVuc29yJyB7XG4gIGludGVyZmFjZSBUZW5zb3I8UiBleHRlbmRzIFJhbmsgPSBSYW5rPiB7XG4gICAgbG9nU3VtRXhwPFQgZXh0ZW5kcyBUZW5zb3I+KFxuICAgICAgICB0aGlzOiBULCBheGlzPzogbnVtYmVyfG51bWJlcltdLCBrZWVwRGltcz86IGJvb2xlYW4pOiBUO1xuICB9XG59XG5cblRlbnNvci5wcm90b3R5cGUubG9nU3VtRXhwID0gZnVuY3Rpb248VCBleHRlbmRzIFRlbnNvcj4oXG4gICAgdGhpczogVCwgYXhpcz86IG51bWJlcnxudW1iZXJbXSwga2VlcERpbXM/OiBib29sZWFuKTogVCB7XG4gIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCk7XG4gIHJldHVybiBsb2dTdW1FeHAodGhpcywgYXhpcywga2VlcERpbXMpO1xufTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuLy8gVE9ETyB1cGRhdGUgaW1wb3J0IHBhdGggb25jZSBvcCBpcyBtb2R1bGFyaXplZC5cbmltcG9ydCB7bG9nfSBmcm9tICcuLi8uLi9vcHMvb3BzJztcbmltcG9ydCB7VGVuc29yfSBmcm9tICcuLi8uLi90ZW5zb3InO1xuaW1wb3J0IHtSYW5rfSBmcm9tICcuLi8uLi90eXBlcyc7XG5cbmRlY2xhcmUgbW9kdWxlICcuLi8uLi90ZW5zb3InIHtcbiAgaW50ZXJmYWNlIFRlbnNvcjxSIGV4dGVuZHMgUmFuayA9IFJhbms+IHtcbiAgICBsb2c8VCBleHRlbmRzIFRlbnNvcj4odGhpczogVCk6IFQ7XG4gIH1cbn1cblxuVGVuc29yLnByb3RvdHlwZS5sb2cgPSBmdW5jdGlvbjxUIGV4dGVuZHMgVGVuc29yPih0aGlzOiBUKTogVCB7XG4gIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCk7XG4gIHJldHVybiBsb2codGhpcyk7XG59O1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG4vLyBUT0RPIHVwZGF0ZSBpbXBvcnQgcGF0aCBvbmNlIG9wIGlzIG1vZHVsYXJpemVkLlxuaW1wb3J0IHtsb2cxcH0gZnJvbSAnLi4vLi4vb3BzL29wcyc7XG5pbXBvcnQge1RlbnNvcn0gZnJvbSAnLi4vLi4vdGVuc29yJztcbmltcG9ydCB7UmFua30gZnJvbSAnLi4vLi4vdHlwZXMnO1xuXG5kZWNsYXJlIG1vZHVsZSAnLi4vLi4vdGVuc29yJyB7XG4gIGludGVyZmFjZSBUZW5zb3I8UiBleHRlbmRzIFJhbmsgPSBSYW5rPiB7XG4gICAgbG9nMXA8VCBleHRlbmRzIFRlbnNvcj4odGhpczogVCk6IFQ7XG4gIH1cbn1cblxuVGVuc29yLnByb3RvdHlwZS5sb2cxcCA9IGZ1bmN0aW9uPFQgZXh0ZW5kcyBUZW5zb3I+KHRoaXM6IFQpOiBUIHtcbiAgdGhpcy50aHJvd0lmRGlzcG9zZWQoKTtcbiAgcmV0dXJuIGxvZzFwKHRoaXMpO1xufTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cbmltcG9ydCB7bG9naWNhbEFuZH0gZnJvbSAnLi4vLi4vb3BzL2xvZ2ljYWxfYW5kJztcbmltcG9ydCB7VGVuc29yfSBmcm9tICcuLi8uLi90ZW5zb3InO1xuaW1wb3J0IHtSYW5rLCBUZW5zb3JMaWtlfSBmcm9tICcuLi8uLi90eXBlcyc7XG5cbmRlY2xhcmUgbW9kdWxlICcuLi8uLi90ZW5zb3InIHtcbiAgaW50ZXJmYWNlIFRlbnNvcjxSIGV4dGVuZHMgUmFuayA9IFJhbms+IHtcbiAgICBsb2dpY2FsQW5kPFQgZXh0ZW5kcyBUZW5zb3I+KGI6IFRlbnNvcnxUZW5zb3JMaWtlKTogVDtcbiAgfVxufVxuXG5UZW5zb3IucHJvdG90eXBlLmxvZ2ljYWxBbmQgPSBmdW5jdGlvbjxUIGV4dGVuZHMgVGVuc29yPihiOiBUZW5zb3J8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUZW5zb3JMaWtlKTogVCB7XG4gIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCk7XG4gIHJldHVybiBsb2dpY2FsQW5kKHRoaXMsIGIpO1xufTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cbmltcG9ydCB7bG9naWNhbE5vdH0gZnJvbSAnLi4vLi4vb3BzL2xvZ2ljYWxfbm90JztcbmltcG9ydCB7VGVuc29yfSBmcm9tICcuLi8uLi90ZW5zb3InO1xuaW1wb3J0IHtSYW5rfSBmcm9tICcuLi8uLi90eXBlcyc7XG5cbmRlY2xhcmUgbW9kdWxlICcuLi8uLi90ZW5zb3InIHtcbiAgaW50ZXJmYWNlIFRlbnNvcjxSIGV4dGVuZHMgUmFuayA9IFJhbms+IHtcbiAgICBsb2dpY2FsTm90PFQgZXh0ZW5kcyBUZW5zb3I+KCk6IFQ7XG4gIH1cbn1cblxuVGVuc29yLnByb3RvdHlwZS5sb2dpY2FsTm90ID0gZnVuY3Rpb248VCBleHRlbmRzIFRlbnNvcj4oKTogVCB7XG4gIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCk7XG4gIHJldHVybiBsb2dpY2FsTm90KHRoaXMpIGFzIFQ7XG59O1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuaW1wb3J0IHtsb2dpY2FsT3J9IGZyb20gJy4uLy4uL29wcy9sb2dpY2FsX29yJztcbmltcG9ydCB7VGVuc29yfSBmcm9tICcuLi8uLi90ZW5zb3InO1xuaW1wb3J0IHtSYW5rLCBUZW5zb3JMaWtlfSBmcm9tICcuLi8uLi90eXBlcyc7XG5cbmRlY2xhcmUgbW9kdWxlICcuLi8uLi90ZW5zb3InIHtcbiAgaW50ZXJmYWNlIFRlbnNvcjxSIGV4dGVuZHMgUmFuayA9IFJhbms+IHtcbiAgICBsb2dpY2FsT3I8VCBleHRlbmRzIFRlbnNvcj4oYjogVGVuc29yfFRlbnNvckxpa2UpOiBUO1xuICB9XG59XG5cblRlbnNvci5wcm90b3R5cGUubG9naWNhbE9yID0gZnVuY3Rpb248VCBleHRlbmRzIFRlbnNvcj4oYjogVGVuc29yfFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUZW5zb3JMaWtlKTogVCB7XG4gIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCk7XG4gIHJldHVybiBsb2dpY2FsT3IodGhpcywgYik7XG59O1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuaW1wb3J0IHtsb2dpY2FsWG9yfSBmcm9tICcuLi8uLi9vcHMvbG9naWNhbF94b3InO1xuaW1wb3J0IHtUZW5zb3J9IGZyb20gJy4uLy4uL3RlbnNvcic7XG5pbXBvcnQge1JhbmssIFRlbnNvckxpa2V9IGZyb20gJy4uLy4uL3R5cGVzJztcblxuZGVjbGFyZSBtb2R1bGUgJy4uLy4uL3RlbnNvcicge1xuICBpbnRlcmZhY2UgVGVuc29yPFIgZXh0ZW5kcyBSYW5rID0gUmFuaz4ge1xuICAgIGxvZ2ljYWxYb3I8VCBleHRlbmRzIFRlbnNvcj4oYjogVGVuc29yfFRlbnNvckxpa2UpOiBUO1xuICB9XG59XG5cblRlbnNvci5wcm90b3R5cGUubG9naWNhbFhvciA9IGZ1bmN0aW9uPFQgZXh0ZW5kcyBUZW5zb3I+KGI6IFRlbnNvcnxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRlbnNvckxpa2UpOiBUIHtcbiAgdGhpcy50aHJvd0lmRGlzcG9zZWQoKTtcbiAgcmV0dXJuIGxvZ2ljYWxYb3IodGhpcywgYik7XG59O1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuaW1wb3J0IHttYXRNdWx9IGZyb20gJy4uLy4uL29wcy9tYXRfbXVsJztcbmltcG9ydCB7VGVuc29yfSBmcm9tICcuLi8uLi90ZW5zb3InO1xuaW1wb3J0IHtSYW5rLCBUZW5zb3JMaWtlfSBmcm9tICcuLi8uLi90eXBlcyc7XG5cbmRlY2xhcmUgbW9kdWxlICcuLi8uLi90ZW5zb3InIHtcbiAgaW50ZXJmYWNlIFRlbnNvcjxSIGV4dGVuZHMgUmFuayA9IFJhbms+IHtcbiAgICBtYXRNdWw8VCBleHRlbmRzIFRlbnNvcj4oXG4gICAgICAgIGI6IFR8VGVuc29yTGlrZSwgdHJhbnNwb3NlQT86IGJvb2xlYW4sIHRyYW5zcG9zZUI/OiBib29sZWFuKTogVDtcbiAgfVxufVxuXG5UZW5zb3IucHJvdG90eXBlLm1hdE11bCA9IGZ1bmN0aW9uPFQgZXh0ZW5kcyBUZW5zb3I+KFxuICAgIHRoaXM6IFQsIGI6IFR8VGVuc29yTGlrZSwgdHJhbnNwb3NlQT86IGJvb2xlYW4sIHRyYW5zcG9zZUI/OiBib29sZWFuKTogVCB7XG4gIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCk7XG4gIHJldHVybiBtYXRNdWwodGhpcywgYiwgdHJhbnNwb3NlQSwgdHJhbnNwb3NlQik7XG59O1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuaW1wb3J0IHttYXhQb29sfSBmcm9tICcuLi8uLi9vcHMvbWF4X3Bvb2wnO1xuaW1wb3J0IHtUZW5zb3IsIFRlbnNvcjNELCBUZW5zb3I0RH0gZnJvbSAnLi4vLi4vdGVuc29yJztcbmltcG9ydCB7UmFua30gZnJvbSAnLi4vLi4vdHlwZXMnO1xuXG5kZWNsYXJlIG1vZHVsZSAnLi4vLi4vdGVuc29yJyB7XG4gIGludGVyZmFjZSBUZW5zb3I8UiBleHRlbmRzIFJhbmsgPSBSYW5rPiB7XG4gICAgbWF4UG9vbDxUIGV4dGVuZHMgVGVuc29yM0R8VGVuc29yNEQ+KFxuICAgICAgICBmaWx0ZXJTaXplOiBbbnVtYmVyLCBudW1iZXJdfG51bWJlciwgc3RyaWRlczogW251bWJlciwgbnVtYmVyXXxudW1iZXIsXG4gICAgICAgIHBhZDogJ3ZhbGlkJ3wnc2FtZSd8bnVtYmVyLFxuICAgICAgICBkaW1Sb3VuZGluZ01vZGU/OiAnZmxvb3InfCdyb3VuZCd8J2NlaWwnKTogVDtcbiAgfVxufVxuXG5UZW5zb3IucHJvdG90eXBlLm1heFBvb2wgPSBmdW5jdGlvbjxUIGV4dGVuZHMgVGVuc29yM0R8VGVuc29yNEQ+KFxuICAgIHRoaXM6IFQsIGZpbHRlclNpemU6IFtudW1iZXIsIG51bWJlcl18bnVtYmVyLFxuICAgIHN0cmlkZXM6IFtudW1iZXIsIG51bWJlcl18bnVtYmVyLCBwYWQ6ICd2YWxpZCd8J3NhbWUnfG51bWJlcixcbiAgICBkaW1Sb3VuZGluZ01vZGU/OiAnZmxvb3InfCdyb3VuZCd8J2NlaWwnKTogVCB7XG4gIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCk7XG4gIHJldHVybiBtYXhQb29sKHRoaXMsIGZpbHRlclNpemUsIHN0cmlkZXMsIHBhZCwgZGltUm91bmRpbmdNb2RlKTtcbn07XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbmltcG9ydCB7bWF4fSBmcm9tICcuLi8uLi9vcHMvbWF4JztcbmltcG9ydCB7VGVuc29yfSBmcm9tICcuLi8uLi90ZW5zb3InO1xuaW1wb3J0IHtSYW5rfSBmcm9tICcuLi8uLi90eXBlcyc7XG5cbmRlY2xhcmUgbW9kdWxlICcuLi8uLi90ZW5zb3InIHtcbiAgaW50ZXJmYWNlIFRlbnNvcjxSIGV4dGVuZHMgUmFuayA9IFJhbms+IHtcbiAgICBtYXg8VCBleHRlbmRzIFRlbnNvcj4oYXhpcz86IG51bWJlcnxudW1iZXJbXSwga2VlcERpbXM/OiBib29sZWFuKTogVDtcbiAgfVxufVxuXG5UZW5zb3IucHJvdG90eXBlLm1heCA9IGZ1bmN0aW9uPFQgZXh0ZW5kcyBUZW5zb3I+KFxuICAgIGF4aXM/OiBudW1iZXJ8bnVtYmVyW10sIGtlZXBEaW1zPzogYm9vbGVhbik6IFQge1xuICB0aGlzLnRocm93SWZEaXNwb3NlZCgpO1xuICByZXR1cm4gbWF4KHRoaXMsIGF4aXMsIGtlZXBEaW1zKTtcbn07XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbi8vIFRPRE8gdXBkYXRlIGltcG9ydCBwYXRoIG9uY2Ugb3AgaXMgbW9kdWxhcml6ZWQuXG5pbXBvcnQge21heGltdW1TdHJpY3R9IGZyb20gJy4uLy4uL29wcy9vcHMnO1xuaW1wb3J0IHtUZW5zb3J9IGZyb20gJy4uLy4uL3RlbnNvcic7XG5pbXBvcnQge1JhbmssIFRlbnNvckxpa2V9IGZyb20gJy4uLy4uL3R5cGVzJztcblxuZGVjbGFyZSBtb2R1bGUgJy4uLy4uL3RlbnNvcicge1xuICBpbnRlcmZhY2UgVGVuc29yPFIgZXh0ZW5kcyBSYW5rID0gUmFuaz4ge1xuICAgIG1heGltdW1TdHJpY3Q8VCBleHRlbmRzIFRlbnNvcj4odGhpczogVCwgeDogVHxUZW5zb3JMaWtlKTogVDtcbiAgfVxufVxuXG4vKipcbiAqIEBkZXByZWNhdGVkIHN0cmljdCB2YXJpYW50cyBvZiBvcHMgaGF2ZSBiZWVuIGRlcHJlY2F0ZWRcbiAqL1xuVGVuc29yLnByb3RvdHlwZS5tYXhpbXVtU3RyaWN0ID0gZnVuY3Rpb248VCBleHRlbmRzIFRlbnNvcj4oXG4gICAgdGhpczogVCwgeDogVHxUZW5zb3JMaWtlKTogVCB7XG4gIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCk7XG4gIHJldHVybiBtYXhpbXVtU3RyaWN0KHRoaXMsIHgpO1xufTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cbmltcG9ydCB7bWF4aW11bX0gZnJvbSAnLi4vLi4vb3BzL21heGltdW0nO1xuaW1wb3J0IHtUZW5zb3J9IGZyb20gJy4uLy4uL3RlbnNvcic7XG5pbXBvcnQge1JhbmssIFRlbnNvckxpa2V9IGZyb20gJy4uLy4uL3R5cGVzJztcblxuZGVjbGFyZSBtb2R1bGUgJy4uLy4uL3RlbnNvcicge1xuICBpbnRlcmZhY2UgVGVuc29yPFIgZXh0ZW5kcyBSYW5rID0gUmFuaz4ge1xuICAgIG1heGltdW08VCBleHRlbmRzIFRlbnNvcj4oYjogVGVuc29yfFRlbnNvckxpa2UpOiBUO1xuICB9XG59XG5cblRlbnNvci5wcm90b3R5cGUubWF4aW11bSA9IGZ1bmN0aW9uPFQgZXh0ZW5kcyBUZW5zb3I+KGI6IFRlbnNvcnxUZW5zb3JMaWtlKTogVCB7XG4gIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCk7XG4gIHJldHVybiBtYXhpbXVtKHRoaXMsIGIpO1xufTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cbmltcG9ydCB7bWVhbn0gZnJvbSAnLi4vLi4vb3BzL21lYW4nO1xuaW1wb3J0IHtUZW5zb3J9IGZyb20gJy4uLy4uL3RlbnNvcic7XG5pbXBvcnQge1Jhbmt9IGZyb20gJy4uLy4uL3R5cGVzJztcblxuZGVjbGFyZSBtb2R1bGUgJy4uLy4uL3RlbnNvcicge1xuICBpbnRlcmZhY2UgVGVuc29yPFIgZXh0ZW5kcyBSYW5rID0gUmFuaz4ge1xuICAgIG1lYW48VCBleHRlbmRzIFRlbnNvcj4oYXhpcz86IG51bWJlcnxudW1iZXJbXSwga2VlcERpbXM/OiBib29sZWFuKTogVDtcbiAgfVxufVxuXG5UZW5zb3IucHJvdG90eXBlLm1lYW4gPSBmdW5jdGlvbjxUIGV4dGVuZHMgVGVuc29yPihcbiAgICBheGlzPzogbnVtYmVyfG51bWJlcltdLCBrZWVwRGltcz86IGJvb2xlYW4pOiBUIHtcbiAgdGhpcy50aHJvd0lmRGlzcG9zZWQoKTtcbiAgcmV0dXJuIG1lYW4odGhpcywgYXhpcywga2VlcERpbXMpO1xufTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuaW1wb3J0IHttaW59IGZyb20gJy4uLy4uL29wcy9taW4nO1xuaW1wb3J0IHtUZW5zb3J9IGZyb20gJy4uLy4uL3RlbnNvcic7XG5pbXBvcnQge1Jhbmt9IGZyb20gJy4uLy4uL3R5cGVzJztcblxuZGVjbGFyZSBtb2R1bGUgJy4uLy4uL3RlbnNvcicge1xuICBpbnRlcmZhY2UgVGVuc29yPFIgZXh0ZW5kcyBSYW5rID0gUmFuaz4ge1xuICAgIG1pbjxUIGV4dGVuZHMgVGVuc29yPihheGlzPzogbnVtYmVyfG51bWJlcltdLCBrZWVwRGltcz86IGJvb2xlYW4pOiBUO1xuICB9XG59XG5cblRlbnNvci5wcm90b3R5cGUubWluID0gZnVuY3Rpb248VCBleHRlbmRzIFRlbnNvcj4oXG4gICAgYXhpcz86IG51bWJlcnxudW1iZXJbXSwga2VlcERpbXM/OiBib29sZWFuKTogVCB7XG4gIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCk7XG4gIHJldHVybiBtaW4odGhpcywgYXhpcywga2VlcERpbXMpO1xufTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuLy8gVE9ETyB1cGRhdGUgaW1wb3J0IHBhdGggb25jZSBvcCBpcyBtb2R1bGFyaXplZC5cbmltcG9ydCB7bWluaW11bVN0cmljdH0gZnJvbSAnLi4vLi4vb3BzL29wcyc7XG5pbXBvcnQge1RlbnNvcn0gZnJvbSAnLi4vLi4vdGVuc29yJztcbmltcG9ydCB7UmFuaywgVGVuc29yTGlrZX0gZnJvbSAnLi4vLi4vdHlwZXMnO1xuXG5kZWNsYXJlIG1vZHVsZSAnLi4vLi4vdGVuc29yJyB7XG4gIGludGVyZmFjZSBUZW5zb3I8UiBleHRlbmRzIFJhbmsgPSBSYW5rPiB7XG4gICAgbWluaW11bVN0cmljdDxUIGV4dGVuZHMgVGVuc29yPih0aGlzOiBULCB4OiBUfFRlbnNvckxpa2UpOiBUO1xuICB9XG59XG5cbi8qKlxuICogQGRlcHJlY2F0ZWQgc3RyaWN0IHZhcmlhbnRzIG9mIG9wcyBoYXZlIGJlZW4gZGVwcmVjYXRlZFxuICovXG5UZW5zb3IucHJvdG90eXBlLm1pbmltdW1TdHJpY3QgPSBmdW5jdGlvbjxUIGV4dGVuZHMgVGVuc29yPihcbiAgICB0aGlzOiBULCB4OiBUfFRlbnNvckxpa2UpOiBUIHtcbiAgdGhpcy50aHJvd0lmRGlzcG9zZWQoKTtcbiAgcmV0dXJuIG1pbmltdW1TdHJpY3QodGhpcywgeCk7XG59O1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuaW1wb3J0IHttaW5pbXVtfSBmcm9tICcuLi8uLi9vcHMvbWluaW11bSc7XG5pbXBvcnQge1RlbnNvcn0gZnJvbSAnLi4vLi4vdGVuc29yJztcbmltcG9ydCB7UmFuaywgVGVuc29yTGlrZX0gZnJvbSAnLi4vLi4vdHlwZXMnO1xuXG5kZWNsYXJlIG1vZHVsZSAnLi4vLi4vdGVuc29yJyB7XG4gIGludGVyZmFjZSBUZW5zb3I8UiBleHRlbmRzIFJhbmsgPSBSYW5rPiB7XG4gICAgbWluaW11bTxUIGV4dGVuZHMgVGVuc29yPihiOiBUZW5zb3J8VGVuc29yTGlrZSk6IFQ7XG4gIH1cbn1cblxuVGVuc29yLnByb3RvdHlwZS5taW5pbXVtID0gZnVuY3Rpb248VCBleHRlbmRzIFRlbnNvcj4oYjogVGVuc29yfFRlbnNvckxpa2UpOiBUIHtcbiAgdGhpcy50aHJvd0lmRGlzcG9zZWQoKTtcbiAgcmV0dXJuIG1pbmltdW0odGhpcywgYik7XG59O1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG4vLyBUT0RPIHVwZGF0ZSBpbXBvcnQgcGF0aCBvbmNlIG9wIGlzIG1vZHVsYXJpemVkLlxuaW1wb3J0IHttb2RTdHJpY3R9IGZyb20gJy4uLy4uL29wcy9vcHMnO1xuaW1wb3J0IHtUZW5zb3J9IGZyb20gJy4uLy4uL3RlbnNvcic7XG5pbXBvcnQge1JhbmssIFRlbnNvckxpa2V9IGZyb20gJy4uLy4uL3R5cGVzJztcblxuZGVjbGFyZSBtb2R1bGUgJy4uLy4uL3RlbnNvcicge1xuICBpbnRlcmZhY2UgVGVuc29yPFIgZXh0ZW5kcyBSYW5rID0gUmFuaz4ge1xuICAgIG1vZFN0cmljdDxUIGV4dGVuZHMgVGVuc29yPih0aGlzOiBULCB4OiBUfFRlbnNvckxpa2UpOiBUO1xuICB9XG59XG5cbi8qKlxuICogQGRlcHJlY2F0ZWQgc3RyaWN0IHZhcmlhbnRzIG9mIG9wcyBoYXZlIGJlZW4gZGVwcmVjYXRlZFxuICovXG5UZW5zb3IucHJvdG90eXBlLm1vZFN0cmljdCA9IGZ1bmN0aW9uPFQgZXh0ZW5kcyBUZW5zb3I+KFxuICAgIHRoaXM6IFQsIHg6IFR8VGVuc29yTGlrZSk6IFQge1xuICB0aGlzLnRocm93SWZEaXNwb3NlZCgpO1xuICByZXR1cm4gbW9kU3RyaWN0KHRoaXMsIHgpO1xufTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cbmltcG9ydCB7bW9kfSBmcm9tICcuLi8uLi9vcHMvbW9kJztcbmltcG9ydCB7VGVuc29yfSBmcm9tICcuLi8uLi90ZW5zb3InO1xuaW1wb3J0IHtSYW5rLCBUZW5zb3JMaWtlfSBmcm9tICcuLi8uLi90eXBlcyc7XG5cbmRlY2xhcmUgbW9kdWxlICcuLi8uLi90ZW5zb3InIHtcbiAgaW50ZXJmYWNlIFRlbnNvcjxSIGV4dGVuZHMgUmFuayA9IFJhbms+IHtcbiAgICBtb2Q8VCBleHRlbmRzIFRlbnNvcj4oYjogVGVuc29yfFRlbnNvckxpa2UpOiBUO1xuICB9XG59XG5cblRlbnNvci5wcm90b3R5cGUubW9kID0gZnVuY3Rpb248VCBleHRlbmRzIFRlbnNvcj4oYjogVGVuc29yfFRlbnNvckxpa2UpOiBUIHtcbiAgdGhpcy50aHJvd0lmRGlzcG9zZWQoKTtcbiAgcmV0dXJuIG1vZCh0aGlzLCBiKTtcbn07XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbi8vIFRPRE8gdXBkYXRlIGltcG9ydCBwYXRoIG9uY2Ugb3AgaXMgbW9kdWxhcml6ZWQuXG5pbXBvcnQge211bFN0cmljdH0gZnJvbSAnLi4vLi4vb3BzL29wcyc7XG5pbXBvcnQge1RlbnNvcn0gZnJvbSAnLi4vLi4vdGVuc29yJztcbmltcG9ydCB7UmFuaywgVGVuc29yTGlrZX0gZnJvbSAnLi4vLi4vdHlwZXMnO1xuXG5kZWNsYXJlIG1vZHVsZSAnLi4vLi4vdGVuc29yJyB7XG4gIGludGVyZmFjZSBUZW5zb3I8UiBleHRlbmRzIFJhbmsgPSBSYW5rPiB7XG4gICAgbXVsU3RyaWN0PFQgZXh0ZW5kcyBUZW5zb3I+KHRoaXM6IFQsIHg6IFR8VGVuc29yTGlrZSk6IFQ7XG4gIH1cbn1cblxuLyoqXG4gKiBAZGVwcmVjYXRlZCBzdHJpY3QgdmFyaWFudHMgb2Ygb3BzIGhhdmUgYmVlbiBkZXByZWNhdGVkXG4gKi9cblRlbnNvci5wcm90b3R5cGUubXVsU3RyaWN0ID0gZnVuY3Rpb248VCBleHRlbmRzIFRlbnNvcj4oXG4gICAgdGhpczogVCwgeDogVHxUZW5zb3JMaWtlKTogVCB7XG4gIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCk7XG4gIHJldHVybiBtdWxTdHJpY3QodGhpcywgeCk7XG59O1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuaW1wb3J0IHttdWx9IGZyb20gJy4uLy4uL29wcy9tdWwnO1xuaW1wb3J0IHtUZW5zb3J9IGZyb20gJy4uLy4uL3RlbnNvcic7XG5pbXBvcnQge1JhbmssIFRlbnNvckxpa2V9IGZyb20gJy4uLy4uL3R5cGVzJztcblxuZGVjbGFyZSBtb2R1bGUgJy4uLy4uL3RlbnNvcicge1xuICBpbnRlcmZhY2UgVGVuc29yPFIgZXh0ZW5kcyBSYW5rID0gUmFuaz4ge1xuICAgIG11bDxUIGV4dGVuZHMgVGVuc29yPihiOiBUZW5zb3J8VGVuc29yTGlrZSk6IFQ7XG4gIH1cbn1cblxuVGVuc29yLnByb3RvdHlwZS5tdWwgPSBmdW5jdGlvbjxUIGV4dGVuZHMgVGVuc29yPihiOiBUZW5zb3J8VGVuc29yTGlrZSk6IFQge1xuICB0aGlzLnRocm93SWZEaXNwb3NlZCgpO1xuICByZXR1cm4gbXVsKHRoaXMsIGIpO1xufTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuLy8gVE9ETyB1cGRhdGUgaW1wb3J0IHBhdGggb25jZSBvcCBpcyBtb2R1bGFyaXplZC5cbmltcG9ydCB7bmVnfSBmcm9tICcuLi8uLi9vcHMvb3BzJztcbmltcG9ydCB7VGVuc29yfSBmcm9tICcuLi8uLi90ZW5zb3InO1xuaW1wb3J0IHtSYW5rfSBmcm9tICcuLi8uLi90eXBlcyc7XG5cbmRlY2xhcmUgbW9kdWxlICcuLi8uLi90ZW5zb3InIHtcbiAgaW50ZXJmYWNlIFRlbnNvcjxSIGV4dGVuZHMgUmFuayA9IFJhbms+IHtcbiAgICBuZWc8VCBleHRlbmRzIFRlbnNvcj4odGhpczogVCk6IFQ7XG4gIH1cbn1cblxuVGVuc29yLnByb3RvdHlwZS5uZWcgPSBmdW5jdGlvbjxUIGV4dGVuZHMgVGVuc29yPih0aGlzOiBUKTogVCB7XG4gIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCk7XG4gIHJldHVybiBuZWcodGhpcyk7XG59O1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG4vLyBUT0RPIHVwZGF0ZSBpbXBvcnQgcGF0aCBvbmNlIG9wIGlzIG1vZHVsYXJpemVkLlxuaW1wb3J0IHtub3JtfSBmcm9tICcuLi8uLi9vcHMvb3BzJztcbmltcG9ydCB7VGVuc29yfSBmcm9tICcuLi8uLi90ZW5zb3InO1xuaW1wb3J0IHtSYW5rfSBmcm9tICcuLi8uLi90eXBlcyc7XG5cbmRlY2xhcmUgbW9kdWxlICcuLi8uLi90ZW5zb3InIHtcbiAgaW50ZXJmYWNlIFRlbnNvcjxSIGV4dGVuZHMgUmFuayA9IFJhbms+IHtcbiAgICBub3JtPFQgZXh0ZW5kcyBUZW5zb3I+KFxuICAgICAgICBvcmQ/OiBudW1iZXJ8J2V1Y2xpZGVhbid8J2ZybycsIGF4aXM/OiBudW1iZXJ8bnVtYmVyW10sXG4gICAgICAgIGtlZXBEaW1zPzogYm9vbGVhbik6IFRlbnNvcjtcbiAgfVxufVxuXG5UZW5zb3IucHJvdG90eXBlLm5vcm0gPSBmdW5jdGlvbjxUIGV4dGVuZHMgVGVuc29yPihcbiAgICBvcmQ/OiBudW1iZXJ8J2V1Y2xpZGVhbid8J2ZybycsIGF4aXM/OiBudW1iZXJ8bnVtYmVyW10sXG4gICAga2VlcERpbXM/OiBib29sZWFuKSB7XG4gIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCk7XG4gIHJldHVybiBub3JtKHRoaXMsIG9yZCwgYXhpcywga2VlcERpbXMpIGFzIFQ7XG59O1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG4vLyBUT0RPIHVwZGF0ZSBpbXBvcnQgcGF0aCBvbmNlIG9wIGlzIG1vZHVsYXJpemVkLlxuaW1wb3J0IHtub3RFcXVhbFN0cmljdH0gZnJvbSAnLi4vLi4vb3BzL29wcyc7XG5pbXBvcnQge1RlbnNvcn0gZnJvbSAnLi4vLi4vdGVuc29yJztcbmltcG9ydCB7UmFuaywgVGVuc29yTGlrZX0gZnJvbSAnLi4vLi4vdHlwZXMnO1xuXG5kZWNsYXJlIG1vZHVsZSAnLi4vLi4vdGVuc29yJyB7XG4gIGludGVyZmFjZSBUZW5zb3I8UiBleHRlbmRzIFJhbmsgPSBSYW5rPiB7XG4gICAgbm90RXF1YWxTdHJpY3Q8VCBleHRlbmRzIFRlbnNvcj4odGhpczogVCwgeDogVHxUZW5zb3JMaWtlKTogVDtcbiAgfVxufVxuXG4vKipcbiAqIEBkZXByZWNhdGVkIHN0cmljdCB2YXJpYW50cyBvZiBvcHMgaGF2ZSBiZWVuIGRlcHJlY2F0ZWRcbiAqL1xuVGVuc29yLnByb3RvdHlwZS5ub3RFcXVhbFN0cmljdCA9IGZ1bmN0aW9uPFQgZXh0ZW5kcyBUZW5zb3I+KFxuICAgIHRoaXM6IFQsIHg6IFR8VGVuc29yTGlrZSk6IFQge1xuICB0aGlzLnRocm93SWZEaXNwb3NlZCgpO1xuICByZXR1cm4gbm90RXF1YWxTdHJpY3QodGhpcywgeCk7XG59O1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuaW1wb3J0IHtub3RFcXVhbH0gZnJvbSAnLi4vLi4vb3BzL25vdF9lcXVhbCc7XG5pbXBvcnQge1RlbnNvcn0gZnJvbSAnLi4vLi4vdGVuc29yJztcbmltcG9ydCB7UmFuaywgVGVuc29yTGlrZX0gZnJvbSAnLi4vLi4vdHlwZXMnO1xuXG5kZWNsYXJlIG1vZHVsZSAnLi4vLi4vdGVuc29yJyB7XG4gIGludGVyZmFjZSBUZW5zb3I8UiBleHRlbmRzIFJhbmsgPSBSYW5rPiB7XG4gICAgbm90RXF1YWw8VCBleHRlbmRzIFRlbnNvcj4oYjogVGVuc29yfFRlbnNvckxpa2UpOiBUO1xuICB9XG59XG5cblRlbnNvci5wcm90b3R5cGUubm90RXF1YWwgPSBmdW5jdGlvbjxUIGV4dGVuZHMgVGVuc29yPihiOiBUZW5zb3J8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVGVuc29yTGlrZSk6IFQge1xuICB0aGlzLnRocm93SWZEaXNwb3NlZCgpO1xuICByZXR1cm4gbm90RXF1YWwodGhpcywgYik7XG59O1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG5pbXBvcnQge29uZUhvdH0gZnJvbSAnLi4vLi4vb3BzL29uZV9ob3QnO1xuaW1wb3J0IHtUZW5zb3J9IGZyb20gJy4uLy4uL3RlbnNvcic7XG5pbXBvcnQge1Jhbmt9IGZyb20gJy4uLy4uL3R5cGVzJztcblxuZGVjbGFyZSBtb2R1bGUgJy4uLy4uL3RlbnNvcicge1xuICBpbnRlcmZhY2UgVGVuc29yPFIgZXh0ZW5kcyBSYW5rID0gUmFuaz4ge1xuICAgIG9uZUhvdChkZXB0aDogbnVtYmVyLCBvblZhbHVlOiBudW1iZXIsIG9mZlZhbHVlOiBudW1iZXIpOiBUZW5zb3I7XG4gIH1cbn1cblxuVGVuc29yLnByb3RvdHlwZS5vbmVIb3QgPSBmdW5jdGlvbihcbiAgICBkZXB0aDogbnVtYmVyLCBvblZhbHVlID0gMSwgb2ZmVmFsdWUgPSAwKTogVGVuc29yIHtcbiAgdGhpcy50aHJvd0lmRGlzcG9zZWQoKTtcbiAgcmV0dXJuIG9uZUhvdCh0aGlzLCBkZXB0aCwgb25WYWx1ZSwgb2ZmVmFsdWUpO1xufTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuLy8gVE9ETyB1cGRhdGUgaW1wb3J0IHBhdGggb25jZSBvcCBpcyBtb2R1bGFyaXplZC5cbmltcG9ydCB7b25lc0xpa2V9IGZyb20gJy4uLy4uL29wcy9vcHMnO1xuaW1wb3J0IHtUZW5zb3J9IGZyb20gJy4uLy4uL3RlbnNvcic7XG5pbXBvcnQge1Jhbmt9IGZyb20gJy4uLy4uL3R5cGVzJztcblxuZGVjbGFyZSBtb2R1bGUgJy4uLy4uL3RlbnNvcicge1xuICBpbnRlcmZhY2UgVGVuc29yPFIgZXh0ZW5kcyBSYW5rID0gUmFuaz4ge1xuICAgIG9uZXNMaWtlPFQgZXh0ZW5kcyBUZW5zb3I+KHRoaXM6IFQpOiBUO1xuICB9XG59XG5cblRlbnNvci5wcm90b3R5cGUub25lc0xpa2UgPSBmdW5jdGlvbjxUIGV4dGVuZHMgVGVuc29yPih0aGlzOiBUKTogVCB7XG4gIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCk7XG4gIHJldHVybiBvbmVzTGlrZSh0aGlzKTtcbn07XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbmltcG9ydCB7cGFkfSBmcm9tICcuLi8uLi9vcHMvcGFkJztcbmltcG9ydCB7VGVuc29yfSBmcm9tICcuLi8uLi90ZW5zb3InO1xuaW1wb3J0IHtSYW5rfSBmcm9tICcuLi8uLi90eXBlcyc7XG5cbmRlY2xhcmUgbW9kdWxlICcuLi8uLi90ZW5zb3InIHtcbiAgaW50ZXJmYWNlIFRlbnNvcjxSIGV4dGVuZHMgUmFuayA9IFJhbms+IHtcbiAgICBwYWQ8VCBleHRlbmRzIFRlbnNvcj4oXG4gICAgICAgIHBhZGRpbmdzOiBBcnJheTxbbnVtYmVyLCBudW1iZXJdPiwgY29uc3RhbnRWYWx1ZT86IG51bWJlcik6IFQ7XG4gIH1cbn1cblxuVGVuc29yLnByb3RvdHlwZS5wYWQgPSBmdW5jdGlvbjxUIGV4dGVuZHMgVGVuc29yPihcbiAgICB0aGlzOiBULCBwYWRkaW5nczogQXJyYXk8W251bWJlciwgbnVtYmVyXT4sIGNvbnN0YW50VmFsdWU6IG51bWJlcik6IFQge1xuICB0aGlzLnRocm93SWZEaXNwb3NlZCgpO1xuICByZXR1cm4gcGFkKHRoaXMsIHBhZGRpbmdzLCBjb25zdGFudFZhbHVlKTtcbn07XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5pbXBvcnQge3Bvb2x9IGZyb20gJy4uLy4uL29wcy9wb29sJztcbmltcG9ydCB7VGVuc29yLCBUZW5zb3IzRCwgVGVuc29yNER9IGZyb20gJy4uLy4uL3RlbnNvcic7XG5pbXBvcnQge1Jhbmt9IGZyb20gJy4uLy4uL3R5cGVzJztcblxuZGVjbGFyZSBtb2R1bGUgJy4uLy4uL3RlbnNvcicge1xuICBpbnRlcmZhY2UgVGVuc29yPFIgZXh0ZW5kcyBSYW5rID0gUmFuaz4ge1xuICAgIHBvb2w8VCBleHRlbmRzIFRlbnNvcjNEfFRlbnNvcjREPihcbiAgICAgICAgd2luZG93U2hhcGU6IFtudW1iZXIsIG51bWJlcl18bnVtYmVyLCBwb29saW5nVHlwZTogJ2F2Zyd8J21heCcsXG4gICAgICAgIHBhZGRpbmc6ICd2YWxpZCd8J3NhbWUnfG51bWJlciwgZGlhdGlvblJhdGU/OiBbbnVtYmVyLCBudW1iZXJdfG51bWJlcixcbiAgICAgICAgc3RyaWRlcz86IFtudW1iZXIsIG51bWJlcl18bnVtYmVyKTogVDtcbiAgfVxufVxuXG5UZW5zb3IucHJvdG90eXBlLnBvb2wgPSBmdW5jdGlvbjxUIGV4dGVuZHMgVGVuc29yM0R8VGVuc29yNEQ+KFxuICAgIHRoaXM6IFQsIHdpbmRvd1NoYXBlOiBbbnVtYmVyLCBudW1iZXJdfG51bWJlciwgcG9vbGluZ1R5cGU6ICdtYXgnfCdhdmcnLFxuICAgIHBhZGRpbmc6ICd2YWxpZCd8J3NhbWUnfG51bWJlciwgZGlsYXRpb25SYXRlPzogW251bWJlciwgbnVtYmVyXXxudW1iZXIsXG4gICAgc3RyaWRlcz86IFtudW1iZXIsIG51bWJlcl18bnVtYmVyKTogVCB7XG4gIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCk7XG4gIHJldHVybiBwb29sKHRoaXMsIHdpbmRvd1NoYXBlLCBwb29saW5nVHlwZSwgcGFkZGluZywgZGlsYXRpb25SYXRlLCBzdHJpZGVzKTtcbn07XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbi8vIFRPRE8gdXBkYXRlIGltcG9ydCBwYXRoIG9uY2Ugb3AgaXMgbW9kdWxhcml6ZWQuXG5pbXBvcnQge3Bvd1N0cmljdH0gZnJvbSAnLi4vLi4vb3BzL29wcyc7XG5pbXBvcnQge1RlbnNvcn0gZnJvbSAnLi4vLi4vdGVuc29yJztcbmltcG9ydCB7UmFua30gZnJvbSAnLi4vLi4vdHlwZXMnO1xuXG5kZWNsYXJlIG1vZHVsZSAnLi4vLi4vdGVuc29yJyB7XG4gIGludGVyZmFjZSBUZW5zb3I8UiBleHRlbmRzIFJhbmsgPSBSYW5rPiB7XG4gICAgcG93U3RyaWN0PFQgZXh0ZW5kcyBUZW5zb3I+KGV4cDogVGVuc29yKTogVGVuc29yO1xuICB9XG59XG5cbi8qKlxuICogQGRlcHJlY2F0ZWQgc3RyaWN0IHZhcmlhbnRzIG9mIG9wcyBoYXZlIGJlZW4gZGVwcmVjYXRlZFxuICovXG5UZW5zb3IucHJvdG90eXBlLnBvd1N0cmljdCA9IGZ1bmN0aW9uPFQgZXh0ZW5kcyBUZW5zb3I+KGV4cDogVGVuc29yKTogVCB7XG4gIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCk7XG4gIHJldHVybiBwb3dTdHJpY3QodGhpcywgZXhwKSBhcyBUO1xufTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cbmltcG9ydCB7cG93fSBmcm9tICcuLi8uLi9vcHMvcG93JztcbmltcG9ydCB7VGVuc29yfSBmcm9tICcuLi8uLi90ZW5zb3InO1xuaW1wb3J0IHtSYW5rLCBUZW5zb3JMaWtlfSBmcm9tICcuLi8uLi90eXBlcyc7XG5cbmRlY2xhcmUgbW9kdWxlICcuLi8uLi90ZW5zb3InIHtcbiAgaW50ZXJmYWNlIFRlbnNvcjxSIGV4dGVuZHMgUmFuayA9IFJhbms+IHtcbiAgICBwb3c8VCBleHRlbmRzIFRlbnNvcj4oZXhwOiBUZW5zb3J8VGVuc29yTGlrZSk6IFQ7XG4gIH1cbn1cblxuVGVuc29yLnByb3RvdHlwZS5wb3cgPSBmdW5jdGlvbjxUIGV4dGVuZHMgVGVuc29yPihleHA6IFRlbnNvcnxUZW5zb3JMaWtlKTogVCB7XG4gIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCk7XG4gIHJldHVybiBwb3codGhpcywgZXhwKTtcbn07XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5pbXBvcnQge3ByZWx1fSBmcm9tICcuLi8uLi9vcHMvcHJlbHUnO1xuaW1wb3J0IHtUZW5zb3J9IGZyb20gJy4uLy4uL3RlbnNvcic7XG5pbXBvcnQge1JhbmssIFRlbnNvckxpa2V9IGZyb20gJy4uLy4uL3R5cGVzJztcblxuZGVjbGFyZSBtb2R1bGUgJy4uLy4uL3RlbnNvcicge1xuICBpbnRlcmZhY2UgVGVuc29yPFIgZXh0ZW5kcyBSYW5rID0gUmFuaz4ge1xuICAgIHByZWx1PFQgZXh0ZW5kcyBUZW5zb3I+KGFscGhhOiBUfFRlbnNvckxpa2UpOiBUO1xuICB9XG59XG5cblRlbnNvci5wcm90b3R5cGUucHJlbHUgPSBmdW5jdGlvbjxUIGV4dGVuZHMgVGVuc29yPihcbiAgICB0aGlzOiBULCBhbHBoYTogVHxUZW5zb3JMaWtlKTogVCB7XG4gIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCk7XG4gIHJldHVybiBwcmVsdSh0aGlzLCBhbHBoYSk7XG59O1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuaW1wb3J0IHtwcm9kfSBmcm9tICcuLi8uLi9vcHMvcHJvZCc7XG5pbXBvcnQge1RlbnNvcn0gZnJvbSAnLi4vLi4vdGVuc29yJztcbmltcG9ydCB7UmFua30gZnJvbSAnLi4vLi4vdHlwZXMnO1xuXG5kZWNsYXJlIG1vZHVsZSAnLi4vLi4vdGVuc29yJyB7XG4gIGludGVyZmFjZSBUZW5zb3I8UiBleHRlbmRzIFJhbmsgPSBSYW5rPiB7XG4gICAgcHJvZDxUIGV4dGVuZHMgVGVuc29yPih0aGlzOiBULCBheGlzPzogbnVtYmVyfG51bWJlcltdLCBrZWVwRGltcz86IGJvb2xlYW4pOlxuICAgICAgICBUO1xuICB9XG59XG5cblRlbnNvci5wcm90b3R5cGUucHJvZCA9IGZ1bmN0aW9uPFQgZXh0ZW5kcyBUZW5zb3I+KFxuICAgIHRoaXM6IFQsIGF4aXM/OiBudW1iZXJ8bnVtYmVyW10sIGtlZXBEaW1zPzogYm9vbGVhbik6IFQge1xuICB0aGlzLnRocm93SWZEaXNwb3NlZCgpO1xuICByZXR1cm4gcHJvZCh0aGlzLCBheGlzLCBrZWVwRGltcyk7XG59O1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG4vLyBUT0RPIHVwZGF0ZSBpbXBvcnQgcGF0aCBvbmNlIG9wIGlzIG1vZHVsYXJpemVkLlxuaW1wb3J0IHtyZWNpcHJvY2FsfSBmcm9tICcuLi8uLi9vcHMvb3BzJztcbmltcG9ydCB7VGVuc29yfSBmcm9tICcuLi8uLi90ZW5zb3InO1xuaW1wb3J0IHtSYW5rfSBmcm9tICcuLi8uLi90eXBlcyc7XG5cbmRlY2xhcmUgbW9kdWxlICcuLi8uLi90ZW5zb3InIHtcbiAgaW50ZXJmYWNlIFRlbnNvcjxSIGV4dGVuZHMgUmFuayA9IFJhbms+IHtcbiAgICByZWNpcHJvY2FsPFQgZXh0ZW5kcyBUZW5zb3I+KHRoaXM6IFQpOiBUO1xuICB9XG59XG5cblRlbnNvci5wcm90b3R5cGUucmVjaXByb2NhbCA9IGZ1bmN0aW9uPFQgZXh0ZW5kcyBUZW5zb3I+KHRoaXM6IFQpOiBUIHtcbiAgdGhpcy50aHJvd0lmRGlzcG9zZWQoKTtcbiAgcmV0dXJuIHJlY2lwcm9jYWwodGhpcyk7XG59O1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuaW1wb3J0IHtyZWx1fSBmcm9tICcuLi8uLi9vcHMvcmVsdSc7XG5pbXBvcnQge1RlbnNvcn0gZnJvbSAnLi4vLi4vdGVuc29yJztcbmltcG9ydCB7UmFua30gZnJvbSAnLi4vLi4vdHlwZXMnO1xuXG5kZWNsYXJlIG1vZHVsZSAnLi4vLi4vdGVuc29yJyB7XG4gIGludGVyZmFjZSBUZW5zb3I8UiBleHRlbmRzIFJhbmsgPSBSYW5rPiB7XG4gICAgcmVsdTxUIGV4dGVuZHMgVGVuc29yPigpOiBUO1xuICB9XG59XG5cblRlbnNvci5wcm90b3R5cGUucmVsdSA9IGZ1bmN0aW9uPFQgZXh0ZW5kcyBUZW5zb3I+KHRoaXM6IFQpOiBUIHtcbiAgdGhpcy50aHJvd0lmRGlzcG9zZWQoKTtcbiAgcmV0dXJuIHJlbHUodGhpcyk7XG59O1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuaW1wb3J0IHtyZWx1Nn0gZnJvbSAnLi4vLi4vb3BzL3JlbHU2JztcbmltcG9ydCB7VGVuc29yfSBmcm9tICcuLi8uLi90ZW5zb3InO1xuaW1wb3J0IHtSYW5rfSBmcm9tICcuLi8uLi90eXBlcyc7XG5cbmRlY2xhcmUgbW9kdWxlICcuLi8uLi90ZW5zb3InIHtcbiAgaW50ZXJmYWNlIFRlbnNvcjxSIGV4dGVuZHMgUmFuayA9IFJhbms+IHtcbiAgICByZWx1NjxUIGV4dGVuZHMgVGVuc29yPigpOiBUO1xuICB9XG59XG5cblRlbnNvci5wcm90b3R5cGUucmVsdTYgPSBmdW5jdGlvbjxUIGV4dGVuZHMgVGVuc29yPih0aGlzOiBUKTogVCB7XG4gIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCk7XG4gIHJldHVybiByZWx1Nih0aGlzKTtcbn07XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbmltcG9ydCB7cmVzaGFwZX0gZnJvbSAnLi4vLi4vb3BzL3Jlc2hhcGUnO1xuaW1wb3J0IHtUZW5zb3J9IGZyb20gJy4uLy4uL3RlbnNvcic7XG5pbXBvcnQge1Jhbmt9IGZyb20gJy4uLy4uL3R5cGVzJztcblxuZGVjbGFyZSBtb2R1bGUgJy4uLy4uL3RlbnNvcicge1xuICBpbnRlcmZhY2UgVGVuc29yPFIgZXh0ZW5kcyBSYW5rID0gUmFuaz4ge1xuICAgIHJlc2hhcGVBczxUIGV4dGVuZHMgVGVuc29yPih4OiBUKTogVDtcbiAgfVxufVxuXG4vKipcbiAqIFJlc2hhcGVzIHRoZSB0ZW5zb3IgaW50byB0aGUgc2hhcGUgb2YgdGhlIHByb3ZpZGVkIHRlbnNvci5cbiAqXG4gKiBAcGFyYW0geCBUaGUgdGVuc29yIG9mIHJlcXVpcmVkIHNoYXBlLlxuICpcbiAqIEBkb2Mge2hlYWRpbmc6ICdUZW5zb3JzJywgc3ViaGVhZGluZzogJ0NsYXNzZXMnfVxuICovXG5UZW5zb3IucHJvdG90eXBlLnJlc2hhcGVBcyA9IGZ1bmN0aW9uPFQgZXh0ZW5kcyBUZW5zb3I+KHg6IFQpOiBUIHtcbiAgdGhpcy50aHJvd0lmRGlzcG9zZWQoKTtcbiAgcmV0dXJuIHJlc2hhcGUodGhpcywgeC5zaGFwZSkgYXMgVDtcbn07XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5pbXBvcnQge3Jlc2hhcGV9IGZyb20gJy4uLy4uL29wcy9yZXNoYXBlJztcbmltcG9ydCB7VGVuc29yfSBmcm9tICcuLi8uLi90ZW5zb3InO1xuaW1wb3J0IHtSYW5rfSBmcm9tICcuLi8uLi90eXBlcyc7XG5cbmRlY2xhcmUgbW9kdWxlICcuLi8uLi90ZW5zb3InIHtcbiAgaW50ZXJmYWNlIFRlbnNvcjxSIGV4dGVuZHMgUmFuayA9IFJhbms+IHtcbiAgICByZXNoYXBlPFQgZXh0ZW5kcyBUZW5zb3I+KHNoYXBlOiBudW1iZXJbXSk6IFQ7XG4gIH1cbn1cblxuVGVuc29yLnByb3RvdHlwZS5yZXNoYXBlID0gZnVuY3Rpb248VCBleHRlbmRzIFRlbnNvcj4oc2hhcGU6IG51bWJlcltdKTogVCB7XG4gIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCk7XG4gIHJldHVybiByZXNoYXBlKHRoaXMsIHNoYXBlKSBhcyBUO1xufTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cbmltcG9ydCB7cmVzaXplQmlsaW5lYXJ9IGZyb20gJy4uLy4uL29wcy9pbWFnZS9yZXNpemVfYmlsaW5lYXInO1xuaW1wb3J0IHtUZW5zb3IsIFRlbnNvcjNELCBUZW5zb3I0RH0gZnJvbSAnLi4vLi4vdGVuc29yJztcbmltcG9ydCB7UmFua30gZnJvbSAnLi4vLi4vdHlwZXMnO1xuXG5kZWNsYXJlIG1vZHVsZSAnLi4vLi4vdGVuc29yJyB7XG4gIGludGVyZmFjZSBUZW5zb3I8UiBleHRlbmRzIFJhbmsgPSBSYW5rPiB7XG4gICAgcmVzaXplQmlsaW5lYXI8VCBleHRlbmRzIFRlbnNvcjNEfFRlbnNvcjREPihcbiAgICAgICAgbmV3U2hhcGUyRDogW251bWJlciwgbnVtYmVyXSwgYWxpZ25Db3JuZXJzPzogYm9vbGVhbik6IFQ7XG4gIH1cbn1cblxuVGVuc29yLnByb3RvdHlwZS5yZXNpemVCaWxpbmVhciA9IGZ1bmN0aW9uPFQgZXh0ZW5kcyBUZW5zb3IzRHxUZW5zb3I0RD4oXG4gICAgdGhpczogVCwgbmV3U2hhcGUyRDogW251bWJlciwgbnVtYmVyXSwgYWxpZ25Db3JuZXJzPzogYm9vbGVhbik6IFQge1xuICB0aGlzLnRocm93SWZEaXNwb3NlZCgpO1xuICByZXR1cm4gcmVzaXplQmlsaW5lYXIodGhpcywgbmV3U2hhcGUyRCwgYWxpZ25Db3JuZXJzKTtcbn07XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5pbXBvcnQge3Jlc2l6ZU5lYXJlc3ROZWlnaGJvcn0gZnJvbSAnLi4vLi4vb3BzL2ltYWdlL3Jlc2l6ZV9uZWFyZXN0X25laWdoYm9yJztcbmltcG9ydCB7VGVuc29yLCBUZW5zb3IzRCwgVGVuc29yNER9IGZyb20gJy4uLy4uL3RlbnNvcic7XG5pbXBvcnQge1Jhbmt9IGZyb20gJy4uLy4uL3R5cGVzJztcblxuZGVjbGFyZSBtb2R1bGUgJy4uLy4uL3RlbnNvcicge1xuICBpbnRlcmZhY2UgVGVuc29yPFIgZXh0ZW5kcyBSYW5rID0gUmFuaz4ge1xuICAgIHJlc2l6ZU5lYXJlc3ROZWlnaGJvcjxUIGV4dGVuZHMgVGVuc29yM0R8VGVuc29yNEQ+KFxuICAgICAgICBuZXdTaGFwZTJEOiBbbnVtYmVyLCBudW1iZXJdLCBhbGlnbkNvcm5lcnM/OiBib29sZWFuKTogVDtcbiAgfVxufVxuXG5UZW5zb3IucHJvdG90eXBlLnJlc2l6ZU5lYXJlc3ROZWlnaGJvciA9IGZ1bmN0aW9uPFQgZXh0ZW5kcyBUZW5zb3IzRHxUZW5zb3I0RD4oXG4gICAgdGhpczogVCwgbmV3U2hhcGUyRDogW251bWJlciwgbnVtYmVyXSwgYWxpZ25Db3JuZXJzPzogYm9vbGVhbik6IFQge1xuICB0aGlzLnRocm93SWZEaXNwb3NlZCgpO1xuICByZXR1cm4gcmVzaXplTmVhcmVzdE5laWdoYm9yKHRoaXMsIG5ld1NoYXBlMkQsIGFsaWduQ29ybmVycyk7XG59O1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuaW1wb3J0IHtyZXZlcnNlfSBmcm9tICcuLi8uLi9vcHMvcmV2ZXJzZSc7XG5pbXBvcnQge1RlbnNvcn0gZnJvbSAnLi4vLi4vdGVuc29yJztcbmltcG9ydCB7UmFua30gZnJvbSAnLi4vLi4vdHlwZXMnO1xuXG5kZWNsYXJlIG1vZHVsZSAnLi4vLi4vdGVuc29yJyB7XG4gIGludGVyZmFjZSBUZW5zb3I8UiBleHRlbmRzIFJhbmsgPSBSYW5rPiB7XG4gICAgcmV2ZXJzZTxUIGV4dGVuZHMgVGVuc29yPih0aGlzOiBULCBheGlzPzogbnVtYmVyfG51bWJlcltdKTogVDtcbiAgfVxufVxuXG5UZW5zb3IucHJvdG90eXBlLnJldmVyc2UgPSBmdW5jdGlvbjxUIGV4dGVuZHMgVGVuc29yPihcbiAgICB0aGlzOiBULCBheGlzPzogbnVtYmVyfG51bWJlcltdKTogVCB7XG4gIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCk7XG4gIHJldHVybiByZXZlcnNlKHRoaXMsIGF4aXMpO1xufTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuLy8gVE9ETyB1cGRhdGUgaW1wb3J0IHBhdGggb25jZSBvcCBpcyBtb2R1bGFyaXplZC5cbmltcG9ydCB7cmZmdH0gZnJvbSAnLi4vLi4vb3BzL29wcyc7XG5pbXBvcnQge1RlbnNvcn0gZnJvbSAnLi4vLi4vdGVuc29yJztcbmltcG9ydCB7UmFua30gZnJvbSAnLi4vLi4vdHlwZXMnO1xuXG5kZWNsYXJlIG1vZHVsZSAnLi4vLi4vdGVuc29yJyB7XG4gIGludGVyZmFjZSBUZW5zb3I8UiBleHRlbmRzIFJhbmsgPSBSYW5rPiB7XG4gICAgcmZmdDxUIGV4dGVuZHMgVGVuc29yPih0aGlzOiBUZW5zb3IpOiBUZW5zb3I7XG4gIH1cbn1cblxuVGVuc29yLnByb3RvdHlwZS5yZmZ0ID0gZnVuY3Rpb248VCBleHRlbmRzIFRlbnNvcj4odGhpczogVGVuc29yKTogVCB7XG4gIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCk7XG4gIHJldHVybiByZmZ0KHRoaXMpIGFzIFQ7XG59O1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG4vLyBUT0RPIHVwZGF0ZSBpbXBvcnQgcGF0aCBvbmNlIG9wIGlzIG1vZHVsYXJpemVkLlxuaW1wb3J0IHtyb3VuZH0gZnJvbSAnLi4vLi4vb3BzL29wcyc7XG5pbXBvcnQge1RlbnNvcn0gZnJvbSAnLi4vLi4vdGVuc29yJztcbmltcG9ydCB7UmFua30gZnJvbSAnLi4vLi4vdHlwZXMnO1xuXG5kZWNsYXJlIG1vZHVsZSAnLi4vLi4vdGVuc29yJyB7XG4gIGludGVyZmFjZSBUZW5zb3I8UiBleHRlbmRzIFJhbmsgPSBSYW5rPiB7XG4gICAgcm91bmQ8VCBleHRlbmRzIFRlbnNvcj4odGhpczogVCk6IFQ7XG4gIH1cbn1cblxuVGVuc29yLnByb3RvdHlwZS5yb3VuZCA9IGZ1bmN0aW9uPFQgZXh0ZW5kcyBUZW5zb3I+KHRoaXM6IFQpOiBUIHtcbiAgdGhpcy50aHJvd0lmRGlzcG9zZWQoKTtcbiAgcmV0dXJuIHJvdW5kKHRoaXMpO1xufTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuLy8gVE9ETyB1cGRhdGUgaW1wb3J0IHBhdGggb25jZSBvcCBpcyBtb2R1bGFyaXplZC5cbmltcG9ydCB7cnNxcnR9IGZyb20gJy4uLy4uL29wcy9vcHMnO1xuaW1wb3J0IHtUZW5zb3J9IGZyb20gJy4uLy4uL3RlbnNvcic7XG5pbXBvcnQge1Jhbmt9IGZyb20gJy4uLy4uL3R5cGVzJztcblxuZGVjbGFyZSBtb2R1bGUgJy4uLy4uL3RlbnNvcicge1xuICBpbnRlcmZhY2UgVGVuc29yPFIgZXh0ZW5kcyBSYW5rID0gUmFuaz4ge1xuICAgIHJzcXJ0PFQgZXh0ZW5kcyBUZW5zb3I+KHRoaXM6IFQpOiBUO1xuICB9XG59XG5cblRlbnNvci5wcm90b3R5cGUucnNxcnQgPSBmdW5jdGlvbjxUIGV4dGVuZHMgVGVuc29yPih0aGlzOiBUKTogVCB7XG4gIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCk7XG4gIHJldHVybiByc3FydCh0aGlzKTtcbn07XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5pbXBvcnQge3NlbHV9IGZyb20gJy4uLy4uL29wcy9zZWx1JztcbmltcG9ydCB7VGVuc29yfSBmcm9tICcuLi8uLi90ZW5zb3InO1xuaW1wb3J0IHtSYW5rfSBmcm9tICcuLi8uLi90eXBlcyc7XG5cbmRlY2xhcmUgbW9kdWxlICcuLi8uLi90ZW5zb3InIHtcbiAgaW50ZXJmYWNlIFRlbnNvcjxSIGV4dGVuZHMgUmFuayA9IFJhbms+IHtcbiAgICBzZWx1PFQgZXh0ZW5kcyBUZW5zb3I+KCk6IFQ7XG4gIH1cbn1cblxuVGVuc29yLnByb3RvdHlwZS5zZWx1ID0gZnVuY3Rpb248VCBleHRlbmRzIFRlbnNvcj4odGhpczogVCk6IFQge1xuICB0aGlzLnRocm93SWZEaXNwb3NlZCgpO1xuICByZXR1cm4gc2VsdSh0aGlzKTtcbn07XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5pbXBvcnQge3NlcGFyYWJsZUNvbnYyZH0gZnJvbSAnLi4vLi4vb3BzL3NlcGFyYWJsZV9jb252MmQnO1xuaW1wb3J0IHtUZW5zb3IsIFRlbnNvcjNELCBUZW5zb3I0RH0gZnJvbSAnLi4vLi4vdGVuc29yJztcbmltcG9ydCB7UmFuaywgVGVuc29yTGlrZSwgVGVuc29yTGlrZTREfSBmcm9tICcuLi8uLi90eXBlcyc7XG5cbmRlY2xhcmUgbW9kdWxlICcuLi8uLi90ZW5zb3InIHtcbiAgaW50ZXJmYWNlIFRlbnNvcjxSIGV4dGVuZHMgUmFuayA9IFJhbms+IHtcbiAgICBzZXBhcmFibGVDb252MmQ8VCBleHRlbmRzIFRlbnNvcjNEfFRlbnNvcjREPihcbiAgICAgICAgZGVwdGh3aXNlRmlsdGVyOiBUZW5zb3I0RHxUZW5zb3JMaWtlNEQsXG4gICAgICAgIHBvaW50d2lzZUZpbHRlcjogVGVuc29yNER8VGVuc29yTGlrZSwgc3RyaWRlczogW251bWJlciwgbnVtYmVyXXxudW1iZXIsXG4gICAgICAgIHBhZDogJ3ZhbGlkJ3wnc2FtZScsIGRpbGF0aW9uPzogW251bWJlciwgbnVtYmVyXXxudW1iZXIsXG4gICAgICAgIGRhdGFGb3JtYXQ/OiAnTkhXQyd8J05DSFcnKTogVDtcbiAgfVxufVxuXG5UZW5zb3IucHJvdG90eXBlLnNlcGFyYWJsZUNvbnYyZCA9IGZ1bmN0aW9uPFQgZXh0ZW5kcyBUZW5zb3IzRHxUZW5zb3I0RD4oXG4gICAgZGVwdGh3aXNlRmlsdGVyOiBUZW5zb3I0RHxUZW5zb3JMaWtlNEQsXG4gICAgcG9pbnR3aXNlRmlsdGVyOiBUZW5zb3I0RHxUZW5zb3JMaWtlLCBzdHJpZGVzOiBbbnVtYmVyLCBudW1iZXJdfG51bWJlcixcbiAgICBwYWQ6ICd2YWxpZCd8J3NhbWUnLCBkaWxhdGlvbj86IFtudW1iZXIsIG51bWJlcl18bnVtYmVyLFxuICAgIGRhdGFGb3JtYXQ/OiAnTkhXQyd8J05DSFcnKTogVCB7XG4gIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCk7XG4gIHJldHVybiBzZXBhcmFibGVDb252MmQoXG4gICAgICAgICAgICAgdGhpcywgZGVwdGh3aXNlRmlsdGVyLCBwb2ludHdpc2VGaWx0ZXIsIHN0cmlkZXMsIHBhZCwgZGlsYXRpb24sXG4gICAgICAgICAgICAgZGF0YUZvcm1hdCkgYXMgVDtcbn07XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbi8vIFRPRE8gdXBkYXRlIGltcG9ydCBwYXRoIG9uY2Ugb3AgaXMgbW9kdWxhcml6ZWQuXG5pbXBvcnQge3NpZ21vaWR9IGZyb20gJy4uLy4uL29wcy9vcHMnO1xuaW1wb3J0IHtUZW5zb3J9IGZyb20gJy4uLy4uL3RlbnNvcic7XG5pbXBvcnQge1Jhbmt9IGZyb20gJy4uLy4uL3R5cGVzJztcblxuZGVjbGFyZSBtb2R1bGUgJy4uLy4uL3RlbnNvcicge1xuICBpbnRlcmZhY2UgVGVuc29yPFIgZXh0ZW5kcyBSYW5rID0gUmFuaz4ge1xuICAgIHNpZ21vaWQ8VCBleHRlbmRzIFRlbnNvcj4odGhpczogVCk6IFQ7XG4gIH1cbn1cblxuVGVuc29yLnByb3RvdHlwZS5zaWdtb2lkID0gZnVuY3Rpb248VCBleHRlbmRzIFRlbnNvcj4odGhpczogVCk6IFQge1xuICB0aGlzLnRocm93SWZEaXNwb3NlZCgpO1xuICByZXR1cm4gc2lnbW9pZCh0aGlzKTtcbn07XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbi8vIFRPRE8gdXBkYXRlIGltcG9ydCBwYXRoIG9uY2Ugb3AgaXMgbW9kdWxhcml6ZWQuXG5pbXBvcnQge3NpZ259IGZyb20gJy4uLy4uL29wcy9vcHMnO1xuaW1wb3J0IHtUZW5zb3J9IGZyb20gJy4uLy4uL3RlbnNvcic7XG5pbXBvcnQge1Jhbmt9IGZyb20gJy4uLy4uL3R5cGVzJztcblxuZGVjbGFyZSBtb2R1bGUgJy4uLy4uL3RlbnNvcicge1xuICBpbnRlcmZhY2UgVGVuc29yPFIgZXh0ZW5kcyBSYW5rID0gUmFuaz4ge1xuICAgIHNpZ248VCBleHRlbmRzIFRlbnNvcj4odGhpczogVCk6IFQ7XG4gIH1cbn1cblxuVGVuc29yLnByb3RvdHlwZS5zaWduID0gZnVuY3Rpb248VCBleHRlbmRzIFRlbnNvcj4odGhpczogVCk6IFQge1xuICB0aGlzLnRocm93SWZEaXNwb3NlZCgpO1xuICByZXR1cm4gc2lnbih0aGlzKTtcbn07XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbi8vIFRPRE8gdXBkYXRlIGltcG9ydCBwYXRoIG9uY2Ugb3AgaXMgbW9kdWxhcml6ZWQuXG5pbXBvcnQge3Npbn0gZnJvbSAnLi4vLi4vb3BzL29wcyc7XG5pbXBvcnQge1RlbnNvcn0gZnJvbSAnLi4vLi4vdGVuc29yJztcbmltcG9ydCB7UmFua30gZnJvbSAnLi4vLi4vdHlwZXMnO1xuXG5kZWNsYXJlIG1vZHVsZSAnLi4vLi4vdGVuc29yJyB7XG4gIGludGVyZmFjZSBUZW5zb3I8UiBleHRlbmRzIFJhbmsgPSBSYW5rPiB7XG4gICAgc2luPFQgZXh0ZW5kcyBUZW5zb3I+KHRoaXM6IFQpOiBUO1xuICB9XG59XG5cblRlbnNvci5wcm90b3R5cGUuc2luID0gZnVuY3Rpb248VCBleHRlbmRzIFRlbnNvcj4odGhpczogVCk6IFQge1xuICB0aGlzLnRocm93SWZEaXNwb3NlZCgpO1xuICByZXR1cm4gc2luKHRoaXMpO1xufTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuLy8gVE9ETyB1cGRhdGUgaW1wb3J0IHBhdGggb25jZSBvcCBpcyBtb2R1bGFyaXplZC5cbmltcG9ydCB7c2luaH0gZnJvbSAnLi4vLi4vb3BzL29wcyc7XG5pbXBvcnQge1RlbnNvcn0gZnJvbSAnLi4vLi4vdGVuc29yJztcbmltcG9ydCB7UmFua30gZnJvbSAnLi4vLi4vdHlwZXMnO1xuXG5kZWNsYXJlIG1vZHVsZSAnLi4vLi4vdGVuc29yJyB7XG4gIGludGVyZmFjZSBUZW5zb3I8UiBleHRlbmRzIFJhbmsgPSBSYW5rPiB7XG4gICAgc2luaDxUIGV4dGVuZHMgVGVuc29yPih0aGlzOiBUKTogVDtcbiAgfVxufVxuXG5UZW5zb3IucHJvdG90eXBlLnNpbmggPSBmdW5jdGlvbjxUIGV4dGVuZHMgVGVuc29yPih0aGlzOiBUKTogVCB7XG4gIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCk7XG4gIHJldHVybiBzaW5oKHRoaXMpO1xufTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuLy8gVE9ETyB1cGRhdGUgaW1wb3J0IHBhdGggb25jZSBvcCBpcyBtb2R1bGFyaXplZC5cbmltcG9ydCB7c2xpY2V9IGZyb20gJy4uLy4uL29wcy9vcHMnO1xuaW1wb3J0IHtUZW5zb3J9IGZyb20gJy4uLy4uL3RlbnNvcic7XG5pbXBvcnQge1Jhbmt9IGZyb20gJy4uLy4uL3R5cGVzJztcblxuZGVjbGFyZSBtb2R1bGUgJy4uLy4uL3RlbnNvcicge1xuICBpbnRlcmZhY2UgVGVuc29yPFIgZXh0ZW5kcyBSYW5rID0gUmFuaz4ge1xuICAgIHNsaWNlPFQgZXh0ZW5kcyBUZW5zb3I+KFxuICAgICAgICB0aGlzOiBULCBiZWdpbjogbnVtYmVyfG51bWJlcltdLCBzaXplPzogbnVtYmVyfG51bWJlcltdKTogVDtcbiAgfVxufVxuXG5UZW5zb3IucHJvdG90eXBlLnNsaWNlID0gZnVuY3Rpb248VCBleHRlbmRzIFRlbnNvcj4oXG4gICAgdGhpczogVCwgYmVnaW46IG51bWJlcnxudW1iZXJbXSwgc2l6ZT86IG51bWJlcnxudW1iZXJbXSk6IFQge1xuICB0aGlzLnRocm93SWZEaXNwb3NlZCgpO1xuICByZXR1cm4gc2xpY2UodGhpcywgYmVnaW4sIHNpemUpO1xufTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuLy8gVE9ETyB1cGRhdGUgaW1wb3J0IHBhdGggb25jZSBvcCBpcyBtb2R1bGFyaXplZC5cbmltcG9ydCB7c29mdG1heH0gZnJvbSAnLi4vLi4vb3BzL29wcyc7XG5pbXBvcnQge1RlbnNvcn0gZnJvbSAnLi4vLi4vdGVuc29yJztcbmltcG9ydCB7UmFua30gZnJvbSAnLi4vLi4vdHlwZXMnO1xuXG5kZWNsYXJlIG1vZHVsZSAnLi4vLi4vdGVuc29yJyB7XG4gIGludGVyZmFjZSBUZW5zb3I8UiBleHRlbmRzIFJhbmsgPSBSYW5rPiB7XG4gICAgc29mdG1heDxUIGV4dGVuZHMgVGVuc29yPih0aGlzOiBULCBkaW0/OiBudW1iZXIpOiBUO1xuICB9XG59XG5cblRlbnNvci5wcm90b3R5cGUuc29mdG1heCA9IGZ1bmN0aW9uPFQgZXh0ZW5kcyBUZW5zb3I+KHRoaXM6IFQsIGRpbTogbnVtYmVyKTogVCB7XG4gIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCk7XG4gIHJldHVybiBzb2Z0bWF4KHRoaXMsIGRpbSk7XG59O1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG4vLyBUT0RPIHVwZGF0ZSBpbXBvcnQgcGF0aCBvbmNlIG9wIGlzIG1vZHVsYXJpemVkLlxuaW1wb3J0IHtzb2Z0cGx1c30gZnJvbSAnLi4vLi4vb3BzL29wcyc7XG5pbXBvcnQge1RlbnNvcn0gZnJvbSAnLi4vLi4vdGVuc29yJztcbmltcG9ydCB7UmFua30gZnJvbSAnLi4vLi4vdHlwZXMnO1xuXG5kZWNsYXJlIG1vZHVsZSAnLi4vLi4vdGVuc29yJyB7XG4gIGludGVyZmFjZSBUZW5zb3I8UiBleHRlbmRzIFJhbmsgPSBSYW5rPiB7XG4gICAgc29mdHBsdXM8VCBleHRlbmRzIFRlbnNvcj4odGhpczogVCk6IFQ7XG4gIH1cbn1cblxuVGVuc29yLnByb3RvdHlwZS5zb2Z0cGx1cyA9IGZ1bmN0aW9uPFQgZXh0ZW5kcyBUZW5zb3I+KHRoaXM6IFQpOiBUIHtcbiAgdGhpcy50aHJvd0lmRGlzcG9zZWQoKTtcbiAgcmV0dXJuIHNvZnRwbHVzKHRoaXMpO1xufTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cbmltcG9ydCB7c3BhY2VUb0JhdGNoTkR9IGZyb20gJy4uLy4uL29wcy9zcGFjZV90b19iYXRjaF9uZCc7XG5pbXBvcnQge1RlbnNvcn0gZnJvbSAnLi4vLi4vdGVuc29yJztcbmltcG9ydCB7UmFua30gZnJvbSAnLi4vLi4vdHlwZXMnO1xuXG5kZWNsYXJlIG1vZHVsZSAnLi4vLi4vdGVuc29yJyB7XG4gIGludGVyZmFjZSBUZW5zb3I8UiBleHRlbmRzIFJhbmsgPSBSYW5rPiB7XG4gICAgc3BhY2VUb0JhdGNoTkQ8UiBleHRlbmRzIFJhbms+KGJsb2NrU2hhcGU6IG51bWJlcltdLCBwYWRkaW5nczogbnVtYmVyW11bXSk6XG4gICAgICAgIFRlbnNvcjxSPjtcbiAgfVxufVxuXG5UZW5zb3IucHJvdG90eXBlLnNwYWNlVG9CYXRjaE5EID0gZnVuY3Rpb248UiBleHRlbmRzIFJhbms+KFxuICAgIGJsb2NrU2hhcGU6IG51bWJlcltdLCBwYWRkaW5nczogbnVtYmVyW11bXSk6IFRlbnNvcjxSPiB7XG4gIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCk7XG4gIHJldHVybiBzcGFjZVRvQmF0Y2hORCh0aGlzLCBibG9ja1NoYXBlLCBwYWRkaW5ncyk7XG59O1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuaW1wb3J0IHtzcGxpdH0gZnJvbSAnLi4vLi4vb3BzL3NwbGl0JztcbmltcG9ydCB7VGVuc29yfSBmcm9tICcuLi8uLi90ZW5zb3InO1xuaW1wb3J0IHtSYW5rfSBmcm9tICcuLi8uLi90eXBlcyc7XG5cbmRlY2xhcmUgbW9kdWxlICcuLi8uLi90ZW5zb3InIHtcbiAgaW50ZXJmYWNlIFRlbnNvcjxSIGV4dGVuZHMgUmFuayA9IFJhbms+IHtcbiAgICBzcGxpdDxUIGV4dGVuZHMgVGVuc29yPihudW1PclNpemVTcGxpdHM6IG51bWJlcltdfG51bWJlciwgYXhpcz86IG51bWJlcik6XG4gICAgICAgIFRbXTtcbiAgfVxufVxuXG5UZW5zb3IucHJvdG90eXBlLnNwbGl0ID0gZnVuY3Rpb248VCBleHRlbmRzIFRlbnNvcj4oXG4gICAgbnVtT3JTaXplU3BsaXRzOiBudW1iZXJbXXxudW1iZXIsIGF4aXM/OiBudW1iZXIpOiBUW10ge1xuICB0aGlzLnRocm93SWZEaXNwb3NlZCgpO1xuICByZXR1cm4gc3BsaXQodGhpcywgbnVtT3JTaXplU3BsaXRzLCBheGlzKTtcbn07XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbi8vIFRPRE8gdXBkYXRlIGltcG9ydCBwYXRoIG9uY2Ugb3AgaXMgbW9kdWxhcml6ZWQuXG5pbXBvcnQge3NxcnR9IGZyb20gJy4uLy4uL29wcy9vcHMnO1xuaW1wb3J0IHtUZW5zb3J9IGZyb20gJy4uLy4uL3RlbnNvcic7XG5pbXBvcnQge1Jhbmt9IGZyb20gJy4uLy4uL3R5cGVzJztcblxuZGVjbGFyZSBtb2R1bGUgJy4uLy4uL3RlbnNvcicge1xuICBpbnRlcmZhY2UgVGVuc29yPFIgZXh0ZW5kcyBSYW5rID0gUmFuaz4ge1xuICAgIHNxcnQ8VCBleHRlbmRzIFRlbnNvcj4odGhpczogVCk6IFQ7XG4gIH1cbn1cblxuVGVuc29yLnByb3RvdHlwZS5zcXJ0ID0gZnVuY3Rpb248VCBleHRlbmRzIFRlbnNvcj4odGhpczogVCk6IFQge1xuICB0aGlzLnRocm93SWZEaXNwb3NlZCgpO1xuICByZXR1cm4gc3FydCh0aGlzKTtcbn07XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbi8vIFRPRE8gdXBkYXRlIGltcG9ydCBwYXRoIG9uY2Ugb3AgaXMgbW9kdWxhcml6ZWQuXG5pbXBvcnQge3NxdWFyZX0gZnJvbSAnLi4vLi4vb3BzL29wcyc7XG5pbXBvcnQge1RlbnNvcn0gZnJvbSAnLi4vLi4vdGVuc29yJztcbmltcG9ydCB7UmFua30gZnJvbSAnLi4vLi4vdHlwZXMnO1xuXG5kZWNsYXJlIG1vZHVsZSAnLi4vLi4vdGVuc29yJyB7XG4gIGludGVyZmFjZSBUZW5zb3I8UiBleHRlbmRzIFJhbmsgPSBSYW5rPiB7XG4gICAgc3F1YXJlPFQgZXh0ZW5kcyBUZW5zb3I+KHRoaXM6IFQpOiBUO1xuICB9XG59XG5cblRlbnNvci5wcm90b3R5cGUuc3F1YXJlID0gZnVuY3Rpb248VCBleHRlbmRzIFRlbnNvcj4odGhpczogVCk6IFQge1xuICB0aGlzLnRocm93SWZEaXNwb3NlZCgpO1xuICByZXR1cm4gc3F1YXJlKHRoaXMpO1xufTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuaW1wb3J0IHtzcXVhcmVkRGlmZmVyZW5jZX0gZnJvbSAnLi4vLi4vb3BzL3NxdWFyZWRfZGlmZmVyZW5jZSc7XG5pbXBvcnQge1RlbnNvcn0gZnJvbSAnLi4vLi4vdGVuc29yJztcbmltcG9ydCB7UmFuaywgVGVuc29yTGlrZX0gZnJvbSAnLi4vLi4vdHlwZXMnO1xuXG5kZWNsYXJlIG1vZHVsZSAnLi4vLi4vdGVuc29yJyB7XG4gIGludGVyZmFjZSBUZW5zb3I8UiBleHRlbmRzIFJhbmsgPSBSYW5rPiB7XG4gICAgc3F1YXJlZERpZmZlcmVuY2U8VCBleHRlbmRzIFRlbnNvcj4oYjogVGVuc29yfFRlbnNvckxpa2UpOiBUO1xuICB9XG59XG5cblRlbnNvci5wcm90b3R5cGUuc3F1YXJlZERpZmZlcmVuY2UgPSBmdW5jdGlvbjxUIGV4dGVuZHMgVGVuc29yPihiOiBUZW5zb3J8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVGVuc29yTGlrZSk6IFQge1xuICB0aGlzLnRocm93SWZEaXNwb3NlZCgpO1xuICByZXR1cm4gc3F1YXJlZERpZmZlcmVuY2UodGhpcywgYik7XG59O1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG4vLyBUT0RPIHVwZGF0ZSBpbXBvcnQgcGF0aCBvbmNlIG9wIGlzIG1vZHVsYXJpemVkLlxuaW1wb3J0IHtzcXVhcmVkRGlmZmVyZW5jZVN0cmljdH0gZnJvbSAnLi4vLi4vb3BzL29wcyc7XG5pbXBvcnQge1RlbnNvcn0gZnJvbSAnLi4vLi4vdGVuc29yJztcbmltcG9ydCB7UmFuaywgVGVuc29yTGlrZX0gZnJvbSAnLi4vLi4vdHlwZXMnO1xuXG5kZWNsYXJlIG1vZHVsZSAnLi4vLi4vdGVuc29yJyB7XG4gIGludGVyZmFjZSBUZW5zb3I8UiBleHRlbmRzIFJhbmsgPSBSYW5rPiB7XG4gICAgc3F1YXJlZERpZmZlcmVuY2VTdHJpY3Q8VCBleHRlbmRzIFRlbnNvcj4odGhpczogVCwgeDogVHxUZW5zb3JMaWtlKTogVDtcbiAgfVxufVxuXG4vKipcbiAqIEBkZXByZWNhdGVkIHN0cmljdCB2YXJpYW50cyBvZiBvcHMgaGF2ZSBiZWVuIGRlcHJlY2F0ZWRcbiAqL1xuVGVuc29yLnByb3RvdHlwZS5zcXVhcmVkRGlmZmVyZW5jZVN0cmljdCA9IGZ1bmN0aW9uPFQgZXh0ZW5kcyBUZW5zb3I+KFxuICAgIHRoaXM6IFQsIHg6IFR8VGVuc29yTGlrZSk6IFQge1xuICB0aGlzLnRocm93SWZEaXNwb3NlZCgpO1xuICByZXR1cm4gc3F1YXJlZERpZmZlcmVuY2VTdHJpY3QodGhpcywgeCk7XG59O1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuaW1wb3J0IHtzcXVlZXplfSBmcm9tICcuLi8uLi9vcHMvc3F1ZWV6ZSc7XG5pbXBvcnQge1RlbnNvcn0gZnJvbSAnLi4vLi4vdGVuc29yJztcbmltcG9ydCB7UmFua30gZnJvbSAnLi4vLi4vdHlwZXMnO1xuXG5kZWNsYXJlIG1vZHVsZSAnLi4vLi4vdGVuc29yJyB7XG4gIGludGVyZmFjZSBUZW5zb3I8UiBleHRlbmRzIFJhbmsgPSBSYW5rPiB7XG4gICAgc3F1ZWV6ZTxUIGV4dGVuZHMgVGVuc29yPihheGlzPzogbnVtYmVyW10pOiBUO1xuICB9XG59XG5cblRlbnNvci5wcm90b3R5cGUuc3F1ZWV6ZSA9IGZ1bmN0aW9uPFQgZXh0ZW5kcyBUZW5zb3I+KGF4aXM/OiBudW1iZXJbXSk6IFQge1xuICB0aGlzLnRocm93SWZEaXNwb3NlZCgpO1xuICByZXR1cm4gc3F1ZWV6ZSh0aGlzLCBheGlzKTtcbn07XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5pbXBvcnQge3N0YWNrfSBmcm9tICcuLi8uLi9vcHMvc3RhY2snO1xuaW1wb3J0IHtUZW5zb3J9IGZyb20gJy4uLy4uL3RlbnNvcic7XG5pbXBvcnQge1Jhbmt9IGZyb20gJy4uLy4uL3R5cGVzJztcblxuZGVjbGFyZSBtb2R1bGUgJy4uLy4uL3RlbnNvcicge1xuICBpbnRlcmZhY2UgVGVuc29yPFIgZXh0ZW5kcyBSYW5rID0gUmFuaz4ge1xuICAgIHN0YWNrPFQgZXh0ZW5kcyBUZW5zb3I+KHg6IFRlbnNvcnxUZW5zb3JbXSwgYXhpcz86IG51bWJlcik6IFQ7XG4gIH1cbn1cblxuVGVuc29yLnByb3RvdHlwZS5zdGFjayA9IGZ1bmN0aW9uPFQgZXh0ZW5kcyBUZW5zb3I+KFxuICAgIHg6IFRlbnNvcnxUZW5zb3JbXSwgYXhpcz86IG51bWJlcik6IFQge1xuICB0aGlzLnRocm93SWZEaXNwb3NlZCgpO1xuICBjb25zdCB0ZW5zb3JzVG9CZVN0YWNrZWQgPSB4IGluc3RhbmNlb2YgVGVuc29yID8gW3RoaXMsIHhdIDogW3RoaXMsIC4uLnhdO1xuICByZXR1cm4gc3RhY2sodGVuc29yc1RvQmVTdGFja2VkLCBheGlzKSBhcyBUO1xufTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuLy8gVE9ETyB1cGRhdGUgaW1wb3J0IHBhdGggb25jZSBvcCBpcyBtb2R1bGFyaXplZC5cbmltcG9ydCB7c3RlcH0gZnJvbSAnLi4vLi4vb3BzL29wcyc7XG5pbXBvcnQge1RlbnNvcn0gZnJvbSAnLi4vLi4vdGVuc29yJztcbmltcG9ydCB7UmFua30gZnJvbSAnLi4vLi4vdHlwZXMnO1xuXG5kZWNsYXJlIG1vZHVsZSAnLi4vLi4vdGVuc29yJyB7XG4gIGludGVyZmFjZSBUZW5zb3I8UiBleHRlbmRzIFJhbmsgPSBSYW5rPiB7XG4gICAgc3RlcDxUIGV4dGVuZHMgVGVuc29yPih0aGlzOiBULCBhbHBoYT86IG51bWJlcik6IFQ7XG4gIH1cbn1cblxuVGVuc29yLnByb3RvdHlwZS5zdGVwID0gZnVuY3Rpb248VCBleHRlbmRzIFRlbnNvcj4odGhpczogVCwgYWxwaGE/OiBudW1iZXIpIHtcbiAgdGhpcy50aHJvd0lmRGlzcG9zZWQoKTtcbiAgcmV0dXJuIHN0ZXAodGhpcywgYWxwaGEpO1xufTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuLy8gVE9ETyB1cGRhdGUgaW1wb3J0IHBhdGggb25jZSBvcCBpcyBtb2R1bGFyaXplZC5cbmltcG9ydCB7c3RyaWRlZFNsaWNlfSBmcm9tICcuLi8uLi9vcHMvb3BzJztcbmltcG9ydCB7VGVuc29yfSBmcm9tICcuLi8uLi90ZW5zb3InO1xuaW1wb3J0IHtSYW5rfSBmcm9tICcuLi8uLi90eXBlcyc7XG5cbmRlY2xhcmUgbW9kdWxlICcuLi8uLi90ZW5zb3InIHtcbiAgaW50ZXJmYWNlIFRlbnNvcjxSIGV4dGVuZHMgUmFuayA9IFJhbms+IHtcbiAgICBzdHJpZGVkU2xpY2U8VCBleHRlbmRzIFRlbnNvcj4oXG4gICAgICAgIHRoaXM6IFRlbnNvciwgYmVnaW46IG51bWJlcltdLCBlbmQ6IG51bWJlcltdLCBzdHJpZGVzOiBudW1iZXJbXSxcbiAgICAgICAgYmVnaW5NYXNrPzogbnVtYmVyLCBlbmRNYXNrPzogbnVtYmVyLCBlbGxpcHNpc01hc2s/OiBudW1iZXIsXG4gICAgICAgIG5ld0F4aXNNYXNrPzogbnVtYmVyLCBzaHJpbmtBeGlzTWFzaz86IG51bWJlcik6IFRlbnNvcjtcbiAgfVxufVxuXG5UZW5zb3IucHJvdG90eXBlLnN0cmlkZWRTbGljZSA9IGZ1bmN0aW9uPFQgZXh0ZW5kcyBUZW5zb3I+KFxuICAgIHRoaXM6IFRlbnNvciwgYmVnaW46IG51bWJlcltdLCBlbmQ6IG51bWJlcltdLCBzdHJpZGVzOiBudW1iZXJbXSxcbiAgICBiZWdpbk1hc2s/OiBudW1iZXIsIGVuZE1hc2s/OiBudW1iZXIsIGVsbGlwc2lzTWFzaz86IG51bWJlcixcbiAgICBuZXdBeGlzTWFzaz86IG51bWJlciwgc2hyaW5rQXhpc01hc2s/OiBudW1iZXIpOiBUIHtcbiAgdGhpcy50aHJvd0lmRGlzcG9zZWQoKTtcbiAgcmV0dXJuIHN0cmlkZWRTbGljZShcbiAgICAgICAgICAgICB0aGlzLCBiZWdpbiwgZW5kLCBzdHJpZGVzLCBiZWdpbk1hc2ssIGVuZE1hc2ssIGVsbGlwc2lzTWFzayxcbiAgICAgICAgICAgICBuZXdBeGlzTWFzaywgc2hyaW5rQXhpc01hc2spIGFzIFQ7XG59O1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG4vLyBUT0RPIHVwZGF0ZSBpbXBvcnQgcGF0aCBvbmNlIG9wIGlzIG1vZHVsYXJpemVkLlxuaW1wb3J0IHtzdWJTdHJpY3R9IGZyb20gJy4uLy4uL29wcy9vcHMnO1xuaW1wb3J0IHtUZW5zb3J9IGZyb20gJy4uLy4uL3RlbnNvcic7XG5pbXBvcnQge1JhbmssIFRlbnNvckxpa2V9IGZyb20gJy4uLy4uL3R5cGVzJztcblxuZGVjbGFyZSBtb2R1bGUgJy4uLy4uL3RlbnNvcicge1xuICBpbnRlcmZhY2UgVGVuc29yPFIgZXh0ZW5kcyBSYW5rID0gUmFuaz4ge1xuICAgIHN1YlN0cmljdDxUIGV4dGVuZHMgVGVuc29yPih0aGlzOiBULCB4OiBUfFRlbnNvckxpa2UpOiBUO1xuICB9XG59XG5cbi8qKlxuICogQGRlcHJlY2F0ZWQgc3RyaWN0IHZhcmlhbnRzIG9mIG9wcyBoYXZlIGJlZW4gZGVwcmVjYXRlZFxuICovXG5UZW5zb3IucHJvdG90eXBlLnN1YlN0cmljdCA9IGZ1bmN0aW9uPFQgZXh0ZW5kcyBUZW5zb3I+KFxuICAgIHRoaXM6IFQsIHg6IFR8VGVuc29yTGlrZSk6IFQge1xuICB0aGlzLnRocm93SWZEaXNwb3NlZCgpO1xuICByZXR1cm4gc3ViU3RyaWN0KHRoaXMsIHgpO1xufTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cbmltcG9ydCB7c3VifSBmcm9tICcuLi8uLi9vcHMvc3ViJztcbmltcG9ydCB7VGVuc29yfSBmcm9tICcuLi8uLi90ZW5zb3InO1xuaW1wb3J0IHtSYW5rLCBUZW5zb3JMaWtlfSBmcm9tICcuLi8uLi90eXBlcyc7XG5cbmRlY2xhcmUgbW9kdWxlICcuLi8uLi90ZW5zb3InIHtcbiAgaW50ZXJmYWNlIFRlbnNvcjxSIGV4dGVuZHMgUmFuayA9IFJhbms+IHtcbiAgICBzdWI8VCBleHRlbmRzIFRlbnNvcj4oYjogVGVuc29yfFRlbnNvckxpa2UpOiBUO1xuICB9XG59XG5cblRlbnNvci5wcm90b3R5cGUuc3ViID0gZnVuY3Rpb248VCBleHRlbmRzIFRlbnNvcj4oYjogVGVuc29yfFRlbnNvckxpa2UpOiBUIHtcbiAgdGhpcy50aHJvd0lmRGlzcG9zZWQoKTtcbiAgcmV0dXJuIHN1Yih0aGlzLCBiKTtcbn07XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5pbXBvcnQge3N1bX0gZnJvbSAnLi4vLi4vb3BzL3N1bSc7XG5pbXBvcnQge1RlbnNvcn0gZnJvbSAnLi4vLi4vdGVuc29yJztcbmltcG9ydCB7UmFua30gZnJvbSAnLi4vLi4vdHlwZXMnO1xuXG5kZWNsYXJlIG1vZHVsZSAnLi4vLi4vdGVuc29yJyB7XG4gIGludGVyZmFjZSBUZW5zb3I8UiBleHRlbmRzIFJhbmsgPSBSYW5rPiB7XG4gICAgc3VtPFQgZXh0ZW5kcyBUZW5zb3I+KGF4aXM/OiBudW1iZXJ8bnVtYmVyW10sIGtlZXBEaW1zPzogYm9vbGVhbik6IFQ7XG4gIH1cbn1cblxuVGVuc29yLnByb3RvdHlwZS5zdW0gPSBmdW5jdGlvbjxUIGV4dGVuZHMgVGVuc29yPihcbiAgICBheGlzPzogbnVtYmVyfG51bWJlcltdLCBrZWVwRGltcz86IGJvb2xlYW4pOiBUIHtcbiAgdGhpcy50aHJvd0lmRGlzcG9zZWQoKTtcbiAgcmV0dXJuIHN1bSh0aGlzLCBheGlzLCBrZWVwRGltcyk7XG59O1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG4vLyBUT0RPIHVwZGF0ZSBpbXBvcnQgcGF0aCBvbmNlIG9wIGlzIG1vZHVsYXJpemVkLlxuaW1wb3J0IHt0YW59IGZyb20gJy4uLy4uL29wcy9vcHMnO1xuaW1wb3J0IHtUZW5zb3J9IGZyb20gJy4uLy4uL3RlbnNvcic7XG5pbXBvcnQge1Jhbmt9IGZyb20gJy4uLy4uL3R5cGVzJztcblxuZGVjbGFyZSBtb2R1bGUgJy4uLy4uL3RlbnNvcicge1xuICBpbnRlcmZhY2UgVGVuc29yPFIgZXh0ZW5kcyBSYW5rID0gUmFuaz4ge1xuICAgIHRhbjxUIGV4dGVuZHMgVGVuc29yPih0aGlzOiBUKTogVDtcbiAgfVxufVxuXG5UZW5zb3IucHJvdG90eXBlLnRhbiA9IGZ1bmN0aW9uPFQgZXh0ZW5kcyBUZW5zb3I+KHRoaXM6IFQpOiBUIHtcbiAgdGhpcy50aHJvd0lmRGlzcG9zZWQoKTtcbiAgcmV0dXJuIHRhbih0aGlzKTtcbn07XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbi8vIFRPRE8gdXBkYXRlIGltcG9ydCBwYXRoIG9uY2Ugb3AgaXMgbW9kdWxhcml6ZWQuXG5pbXBvcnQge3Rhbmh9IGZyb20gJy4uLy4uL29wcy9vcHMnO1xuaW1wb3J0IHtUZW5zb3J9IGZyb20gJy4uLy4uL3RlbnNvcic7XG5pbXBvcnQge1Jhbmt9IGZyb20gJy4uLy4uL3R5cGVzJztcblxuZGVjbGFyZSBtb2R1bGUgJy4uLy4uL3RlbnNvcicge1xuICBpbnRlcmZhY2UgVGVuc29yPFIgZXh0ZW5kcyBSYW5rID0gUmFuaz4ge1xuICAgIHRhbmg8VCBleHRlbmRzIFRlbnNvcj4odGhpczogVCk6IFQ7XG4gIH1cbn1cblxuVGVuc29yLnByb3RvdHlwZS50YW5oID0gZnVuY3Rpb248VCBleHRlbmRzIFRlbnNvcj4odGhpczogVCk6IFQge1xuICB0aGlzLnRocm93SWZEaXNwb3NlZCgpO1xuICByZXR1cm4gdGFuaCh0aGlzKTtcbn07XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbmltcG9ydCB7dGlsZX0gZnJvbSAnLi4vLi4vb3BzL3RpbGUnO1xuaW1wb3J0IHtUZW5zb3J9IGZyb20gJy4uLy4uL3RlbnNvcic7XG5pbXBvcnQge1Jhbmt9IGZyb20gJy4uLy4uL3R5cGVzJztcblxuZGVjbGFyZSBtb2R1bGUgJy4uLy4uL3RlbnNvcicge1xuICBpbnRlcmZhY2UgVGVuc29yPFIgZXh0ZW5kcyBSYW5rID0gUmFuaz4ge1xuICAgIHRpbGU8VCBleHRlbmRzIFRlbnNvcj4oYjogbnVtYmVyW10pOiBUO1xuICB9XG59XG5cblRlbnNvci5wcm90b3R5cGUudGlsZSA9IGZ1bmN0aW9uPFQgZXh0ZW5kcyBUZW5zb3I+KHJlcHM6IG51bWJlcltdKTogVCB7XG4gIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCk7XG4gIHJldHVybiB0aWxlKHRoaXMsIHJlcHMpIGFzIFQ7XG59O1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG4vLyBUT0RPIHVwZGF0ZSBpbXBvcnQgcGF0aCBvbmNlIG9wIGlzIG1vZHVsYXJpemVkLlxuaW1wb3J0IHtjYXN0fSBmcm9tICcuLi8uLi9vcHMvb3BzJztcbmltcG9ydCB7VGVuc29yfSBmcm9tICcuLi8uLi90ZW5zb3InO1xuaW1wb3J0IHtSYW5rfSBmcm9tICcuLi8uLi90eXBlcyc7XG5cbmRlY2xhcmUgbW9kdWxlICcuLi8uLi90ZW5zb3InIHtcbiAgaW50ZXJmYWNlIFRlbnNvcjxSIGV4dGVuZHMgUmFuayA9IFJhbms+IHtcbiAgICB0b0Jvb2w8VCBleHRlbmRzIFRlbnNvcj4odGhpczogVCk6IFQ7XG4gIH1cbn1cblxuLyoqIENhc3RzIHRoZSBhcnJheSB0byB0eXBlIGBib29sYFxuICpcbiAqIEBkb2Mge2hlYWRpbmc6ICdUZW5zb3JzJywgc3ViaGVhZGluZzogJ0NsYXNzZXMnfVxuICovXG5UZW5zb3IucHJvdG90eXBlLnRvQm9vbCA9IGZ1bmN0aW9uPFQgZXh0ZW5kcyBUZW5zb3I+KHRoaXM6IFQpOiBUIHtcbiAgdGhpcy50aHJvd0lmRGlzcG9zZWQoKTtcbiAgcmV0dXJuIGNhc3Q8VD4odGhpcywgJ2Jvb2wnKTtcbn07XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbi8vIFRPRE8gdXBkYXRlIGltcG9ydCBwYXRoIG9uY2Ugb3AgaXMgbW9kdWxhcml6ZWQuXG5pbXBvcnQge2Nhc3R9IGZyb20gJy4uLy4uL29wcy9vcHMnO1xuaW1wb3J0IHtUZW5zb3J9IGZyb20gJy4uLy4uL3RlbnNvcic7XG5pbXBvcnQge1Jhbmt9IGZyb20gJy4uLy4uL3R5cGVzJztcblxuZGVjbGFyZSBtb2R1bGUgJy4uLy4uL3RlbnNvcicge1xuICBpbnRlcmZhY2UgVGVuc29yPFIgZXh0ZW5kcyBSYW5rID0gUmFuaz4ge1xuICAgIHRvRmxvYXQ8VCBleHRlbmRzIFRlbnNvcj4odGhpczogVCk6IFQ7XG4gIH1cbn1cblxuLyoqIENhc3RzIHRoZSBhcnJheSB0byB0eXBlIGBmbG9hdDMyYFxuICpcbiAqIEBkb2Mge2hlYWRpbmc6ICdUZW5zb3JzJywgc3ViaGVhZGluZzogJ0NsYXNzZXMnfVxuICovXG5UZW5zb3IucHJvdG90eXBlLnRvRmxvYXQgPSBmdW5jdGlvbjxUIGV4dGVuZHMgVGVuc29yPih0aGlzOiBUKTogVCB7XG4gIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCk7XG4gIHJldHVybiBjYXN0PFQ+KHRoaXMsICdmbG9hdDMyJyk7XG59O1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG4vLyBUT0RPIHVwZGF0ZSBpbXBvcnQgcGF0aCBvbmNlIG9wIGlzIG1vZHVsYXJpemVkLlxuaW1wb3J0IHtjYXN0fSBmcm9tICcuLi8uLi9vcHMvb3BzJztcbmltcG9ydCB7VGVuc29yfSBmcm9tICcuLi8uLi90ZW5zb3InO1xuaW1wb3J0IHtSYW5rfSBmcm9tICcuLi8uLi90eXBlcyc7XG5cbmRlY2xhcmUgbW9kdWxlICcuLi8uLi90ZW5zb3InIHtcbiAgaW50ZXJmYWNlIFRlbnNvcjxSIGV4dGVuZHMgUmFuayA9IFJhbms+IHtcbiAgICB0b0ludDxUIGV4dGVuZHMgVGVuc29yPih0aGlzOiBUKTogVDtcbiAgfVxufVxuXG4vKiogQ2FzdHMgdGhlIGFycmF5IHRvIHR5cGUgYGludDMyYFxuICpcbiAqIEBkb2Mge2hlYWRpbmc6ICdUZW5zb3JzJywgc3ViaGVhZGluZzogJ0NsYXNzZXMnfVxuICovXG5UZW5zb3IucHJvdG90eXBlLnRvSW50ID0gZnVuY3Rpb248VCBleHRlbmRzIFRlbnNvcj4odGhpczogVCk6IFQge1xuICB0aGlzLnRocm93SWZEaXNwb3NlZCgpO1xuICByZXR1cm4gY2FzdDxUPih0aGlzLCAnaW50MzInKTtcbn07XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbmltcG9ydCB7dG9wa30gZnJvbSAnLi4vLi4vb3BzL3RvcGsnO1xuaW1wb3J0IHtUZW5zb3J9IGZyb20gJy4uLy4uL3RlbnNvcic7XG5pbXBvcnQge1Jhbmt9IGZyb20gJy4uLy4uL3R5cGVzJztcblxuZGVjbGFyZSBtb2R1bGUgJy4uLy4uL3RlbnNvcicge1xuICBpbnRlcmZhY2UgVGVuc29yPFIgZXh0ZW5kcyBSYW5rID0gUmFuaz4ge1xuICAgIHRvcGs8VCBleHRlbmRzIFRlbnNvcj4odGhpczogVCwgaz86IG51bWJlciwgc29ydGVkPzogYm9vbGVhbik6XG4gICAgICAgIHt2YWx1ZXM6IFQsIGluZGljZXM6IFR9O1xuICB9XG59XG5cblRlbnNvci5wcm90b3R5cGUudG9wayA9IGZ1bmN0aW9uPFQgZXh0ZW5kcyBUZW5zb3I+KFxuICAgIHRoaXM6IFQsIGs/OiBudW1iZXIsIHNvcnRlZD86IGJvb2xlYW4pOiB7dmFsdWVzOiBULCBpbmRpY2VzOiBUfSB7XG4gIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCk7XG4gIHJldHVybiB0b3BrKHRoaXMsIGssIHNvcnRlZCkgYXMge3ZhbHVlczogVCwgaW5kaWNlczogVH07XG59O1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG5pbXBvcnQge3RyYW5zcG9zZX0gZnJvbSAnLi4vLi4vb3BzL3RyYW5zcG9zZSc7XG5pbXBvcnQge1RlbnNvcn0gZnJvbSAnLi4vLi4vdGVuc29yJztcbmltcG9ydCB7UmFua30gZnJvbSAnLi4vLi4vdHlwZXMnO1xuXG5kZWNsYXJlIG1vZHVsZSAnLi4vLi4vdGVuc29yJyB7XG4gIGludGVyZmFjZSBUZW5zb3I8UiBleHRlbmRzIFJhbmsgPSBSYW5rPiB7XG4gICAgdHJhbnNwb3NlPFQgZXh0ZW5kcyBUZW5zb3I+KHBlcm0/OiBudW1iZXJbXSk6IFQ7XG4gIH1cbn1cblxuVGVuc29yLnByb3RvdHlwZS50cmFuc3Bvc2UgPSBmdW5jdGlvbjxUIGV4dGVuZHMgVGVuc29yPihcbiAgICB0aGlzOiBULCBwZXJtPzogbnVtYmVyW10pOiBUIHtcbiAgdGhpcy50aHJvd0lmRGlzcG9zZWQoKTtcbiAgcmV0dXJuIHRyYW5zcG9zZSh0aGlzLCBwZXJtKTtcbn07XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbmltcG9ydCB7dW5pcXVlfSBmcm9tICcuLi8uLi9vcHMvdW5pcXVlJztcbmltcG9ydCB7VGVuc29yfSBmcm9tICcuLi8uLi90ZW5zb3InO1xuaW1wb3J0IHtSYW5rfSBmcm9tICcuLi8uLi90eXBlcyc7XG5cbmRlY2xhcmUgbW9kdWxlICcuLi8uLi90ZW5zb3InIHtcbiAgaW50ZXJmYWNlIFRlbnNvcjxSIGV4dGVuZHMgUmFuayA9IFJhbms+IHtcbiAgICB1bmlxdWU8VCBleHRlbmRzIFRlbnNvcj4odGhpczogVCwgYXhpcz86IG51bWJlcik6IHt2YWx1ZXM6IFQsIGluZGljZXM6IFR9O1xuICB9XG59XG5cblRlbnNvci5wcm90b3R5cGUudW5pcXVlID0gZnVuY3Rpb248VCBleHRlbmRzIFRlbnNvcj4oXG4gICAgdGhpczogVCwgYXhpcz86IG51bWJlcik6IHt2YWx1ZXM6IFQsIGluZGljZXM6IFR9IHtcbiAgdGhpcy50aHJvd0lmRGlzcG9zZWQoKTtcbiAgcmV0dXJuIHVuaXF1ZSh0aGlzLCBheGlzKSBhcyB7dmFsdWVzOiBULCBpbmRpY2VzOiBUfTtcbn07XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbmltcG9ydCB7dW5zb3J0ZWRTZWdtZW50U3VtfSBmcm9tICcuLi8uLi9vcHMvdW5zb3J0ZWRfc2VnbWVudF9zdW0nO1xuaW1wb3J0IHtUZW5zb3IsIFRlbnNvcjFEfSBmcm9tICcuLi8uLi90ZW5zb3InO1xuaW1wb3J0IHtSYW5rLCBUZW5zb3JMaWtlMUR9IGZyb20gJy4uLy4uL3R5cGVzJztcblxuZGVjbGFyZSBtb2R1bGUgJy4uLy4uL3RlbnNvcicge1xuICBpbnRlcmZhY2UgVGVuc29yPFIgZXh0ZW5kcyBSYW5rID0gUmFuaz4ge1xuICAgIHVuc29ydGVkU2VnbWVudFN1bTxUIGV4dGVuZHMgVGVuc29yPihcbiAgICAgICAgdGhpczogVCwgc2VnbWVudElkczogVGVuc29yMUR8VGVuc29yTGlrZTFELCBudW1TZWdtZW50czogbnVtYmVyKTogVDtcbiAgfVxufVxuXG5UZW5zb3IucHJvdG90eXBlLnVuc29ydGVkU2VnbWVudFN1bSA9IGZ1bmN0aW9uPFQgZXh0ZW5kcyBUZW5zb3I+KFxuICAgIHRoaXM6IFQsIHNlZ21lbnRJZHM6IFRlbnNvcjFEfFRlbnNvckxpa2UxRCwgbnVtU2VnbWVudHM6IG51bWJlcik6IFQge1xuICB0aGlzLnRocm93SWZEaXNwb3NlZCgpO1xuICByZXR1cm4gdW5zb3J0ZWRTZWdtZW50U3VtKHRoaXMsIHNlZ21lbnRJZHMsIG51bVNlZ21lbnRzKTtcbn07XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5pbXBvcnQge3Vuc3RhY2t9IGZyb20gJy4uLy4uL29wcy91bnN0YWNrJztcbmltcG9ydCB7VGVuc29yfSBmcm9tICcuLi8uLi90ZW5zb3InO1xuaW1wb3J0IHtSYW5rfSBmcm9tICcuLi8uLi90eXBlcyc7XG5cbmRlY2xhcmUgbW9kdWxlICcuLi8uLi90ZW5zb3InIHtcbiAgaW50ZXJmYWNlIFRlbnNvcjxSIGV4dGVuZHMgUmFuayA9IFJhbms+IHtcbiAgICB1bnN0YWNrPFQgZXh0ZW5kcyBUZW5zb3I+KGF4aXM/OiBudW1iZXIpOiBUW107XG4gIH1cbn1cblxuVGVuc29yLnByb3RvdHlwZS51bnN0YWNrID0gZnVuY3Rpb248VCBleHRlbmRzIFRlbnNvcj4oYXhpcz86IG51bWJlcik6IFRbXSB7XG4gIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCk7XG4gIHJldHVybiB1bnN0YWNrKHRoaXMsIGF4aXMpIGFzIFRbXTtcbn07XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbmltcG9ydCB7d2hlcmV9IGZyb20gJy4uLy4uL29wcy93aGVyZSc7XG5pbXBvcnQge1RlbnNvcn0gZnJvbSAnLi4vLi4vdGVuc29yJztcbmltcG9ydCB7UmFuaywgVGVuc29yTGlrZX0gZnJvbSAnLi4vLi4vdHlwZXMnO1xuXG5kZWNsYXJlIG1vZHVsZSAnLi4vLi4vdGVuc29yJyB7XG4gIGludGVyZmFjZSBUZW5zb3I8UiBleHRlbmRzIFJhbmsgPSBSYW5rPiB7XG4gICAgd2hlcmU8VCBleHRlbmRzIFRlbnNvcj4oY29uZGl0aW9uOiBUZW5zb3J8VGVuc29yTGlrZSwgeDogVGVuc29yfFRlbnNvckxpa2UpOlxuICAgICAgICBUO1xuICB9XG59XG5cblRlbnNvci5wcm90b3R5cGUud2hlcmUgPSBmdW5jdGlvbjxUIGV4dGVuZHMgVGVuc29yPihcbiAgICBjb25kaXRpb246IFRlbnNvcnxUZW5zb3JMaWtlLCB4OiBUZW5zb3J8VGVuc29yTGlrZSk6IFQge1xuICB0aGlzLnRocm93SWZEaXNwb3NlZCgpO1xuICByZXR1cm4gd2hlcmUoY29uZGl0aW9uLCB0aGlzLCB4KSBhcyBUO1xufTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuLy8gVE9ETyB1cGRhdGUgaW1wb3J0IHBhdGggb25jZSBvcCBpcyBtb2R1bGFyaXplZC5cbmltcG9ydCB7emVyb3NMaWtlfSBmcm9tICcuLi8uLi9vcHMvb3BzJztcbmltcG9ydCB7VGVuc29yfSBmcm9tICcuLi8uLi90ZW5zb3InO1xuaW1wb3J0IHtSYW5rfSBmcm9tICcuLi8uLi90eXBlcyc7XG5cbmRlY2xhcmUgbW9kdWxlICcuLi8uLi90ZW5zb3InIHtcbiAgaW50ZXJmYWNlIFRlbnNvcjxSIGV4dGVuZHMgUmFuayA9IFJhbms+IHtcbiAgICB6ZXJvc0xpa2U8VCBleHRlbmRzIFRlbnNvcj4odGhpczogVCk6IFQ7XG4gIH1cbn1cblxuVGVuc29yLnByb3RvdHlwZS56ZXJvc0xpa2UgPSBmdW5jdGlvbjxUIGV4dGVuZHMgVGVuc29yPih0aGlzOiBUKTogVCB7XG4gIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCk7XG4gIHJldHVybiB6ZXJvc0xpa2UodGhpcyk7XG59O1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTggR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG5pbXBvcnQge0VOR0lORX0gZnJvbSAnLi4vZW5naW5lJztcbmltcG9ydCB7TGluU3BhY2UsIExpblNwYWNlQXR0cnN9IGZyb20gJy4uL2tlcm5lbF9uYW1lcyc7XG5pbXBvcnQge05hbWVkQXR0ck1hcH0gZnJvbSAnLi4va2VybmVsX3JlZ2lzdHJ5JztcbmltcG9ydCB7VGVuc29yMUR9IGZyb20gJy4uL3RlbnNvcic7XG5cbi8qKlxuICogUmV0dXJuIGFuIGV2ZW5seSBzcGFjZWQgc2VxdWVuY2Ugb2YgbnVtYmVycyBvdmVyIHRoZSBnaXZlbiBpbnRlcnZhbC5cbiAqXG4gKiBgYGBqc1xuICogdGYubGluc3BhY2UoMCwgOSwgMTApLnByaW50KCk7XG4gKiBgYGBcbiAqIEBwYXJhbSBzdGFydCBUaGUgc3RhcnQgdmFsdWUgb2YgdGhlIHNlcXVlbmNlLlxuICogQHBhcmFtIHN0b3AgVGhlIGVuZCB2YWx1ZSBvZiB0aGUgc2VxdWVuY2UuXG4gKiBAcGFyYW0gbnVtIFRoZSBudW1iZXIgb2YgdmFsdWVzIHRvIGdlbmVyYXRlLlxuICpcbiAqIEBkb2Mge2hlYWRpbmc6ICdUZW5zb3JzJywgc3ViaGVhZGluZzogJ0NyZWF0aW9uJ31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxpbnNwYWNlKHN0YXJ0OiBudW1iZXIsIHN0b3A6IG51bWJlciwgbnVtOiBudW1iZXIpOiBUZW5zb3IxRCB7XG4gIGlmIChudW0gPD0gMCkge1xuICAgIHRocm93IG5ldyBFcnJvcignVGhlIG51bWJlciBvZiB2YWx1ZXMgc2hvdWxkIGJlIHBvc2l0aXZlLicpO1xuICB9XG5cbiAgY29uc3QgYXR0cnM6IExpblNwYWNlQXR0cnMgPSB7c3RhcnQsIHN0b3AsIG51bX07XG4gIHJldHVybiBFTkdJTkUucnVuS2VybmVsRnVuYyhcbiAgICAgIGJhY2tlbmQgPT4gYmFja2VuZC5saW5zcGFjZShzdGFydCwgc3RvcCwgbnVtKSwge30gLyogaW5wdXRzICovLFxuICAgICAgbnVsbCAvKiBncmFkICovLCBMaW5TcGFjZSwgYXR0cnMgYXMge30gYXMgTmFtZWRBdHRyTWFwKTtcbn1cbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE4IEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuaW1wb3J0IHtUZW5zb3I0RH0gZnJvbSAnLi4vdGVuc29yJztcbmltcG9ydCB7aW5mZXJTaGFwZX0gZnJvbSAnLi4vdGVuc29yX3V0aWxfZW52JztcbmltcG9ydCB7VGVuc29yTGlrZTREfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQge0RhdGFUeXBlfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQge2Fzc2VydE5vbk51bGx9IGZyb20gJy4uL3V0aWwnO1xuaW1wb3J0IHttYWtlVGVuc29yfSBmcm9tICcuL3RlbnNvcl9vcHNfdXRpbCc7XG5cbi8qKlxuICogQ3JlYXRlcyByYW5rLTQgYHRmLlRlbnNvcmAgd2l0aCB0aGUgcHJvdmlkZWQgdmFsdWVzLCBzaGFwZSBhbmQgZHR5cGUuXG4gKlxuICogVGhlIHNhbWUgZnVuY3Rpb25hbGl0eSBjYW4gYmUgYWNoaWV2ZWQgd2l0aCBgdGYudGVuc29yYCwgYnV0IGluIGdlbmVyYWxcbiAqIHdlIHJlY29tbWVuZCB1c2luZyBgdGYudGVuc29yNGRgIGFzIGl0IG1ha2VzIHRoZSBjb2RlIG1vcmUgcmVhZGFibGUuXG4gKlxuICogIGBgYGpzXG4gKiAvLyBQYXNzIGEgbmVzdGVkIGFycmF5LlxuICogdGYudGVuc29yNGQoW1tbWzFdLCBbMl1dLCBbWzNdLCBbNF1dXV0pLnByaW50KCk7XG4gKiBgYGBcbiAqIGBgYGpzXG4gKiAvLyBQYXNzIGEgZmxhdCBhcnJheSBhbmQgc3BlY2lmeSBhIHNoYXBlLlxuICogdGYudGVuc29yNGQoWzEsIDIsIDMsIDRdLCBbMSwgMiwgMiwgMV0pLnByaW50KCk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gdmFsdWVzIFRoZSB2YWx1ZXMgb2YgdGhlIHRlbnNvci4gQ2FuIGJlIG5lc3RlZCBhcnJheSBvZiBudW1iZXJzLFxuICogICAgIG9yIGEgZmxhdCBhcnJheSwgb3IgYSBgVHlwZWRBcnJheWAuXG4gKiBAcGFyYW0gc2hhcGUgVGhlIHNoYXBlIG9mIHRoZSB0ZW5zb3IuIE9wdGlvbmFsLiBJZiBub3QgcHJvdmlkZWQsXG4gKiAgIGl0IGlzIGluZmVycmVkIGZyb20gYHZhbHVlc2AuXG4gKiBAcGFyYW0gZHR5cGUgVGhlIGRhdGEgdHlwZS5cbiAqXG4gKiBAZG9jIHtoZWFkaW5nOiAnVGVuc29ycycsIHN1YmhlYWRpbmc6ICdDcmVhdGlvbid9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0ZW5zb3I0ZChcbiAgICB2YWx1ZXM6IFRlbnNvckxpa2U0RCwgc2hhcGU/OiBbbnVtYmVyLCBudW1iZXIsIG51bWJlciwgbnVtYmVyXSxcbiAgICBkdHlwZT86IERhdGFUeXBlKTogVGVuc29yNEQge1xuICBhc3NlcnROb25OdWxsKHZhbHVlcyk7XG4gIGlmIChzaGFwZSAhPSBudWxsICYmIHNoYXBlLmxlbmd0aCAhPT0gNCkge1xuICAgIHRocm93IG5ldyBFcnJvcigndGVuc29yNGQoKSByZXF1aXJlcyBzaGFwZSB0byBoYXZlIGZvdXIgbnVtYmVycycpO1xuICB9XG4gIGNvbnN0IGluZmVycmVkU2hhcGUgPSBpbmZlclNoYXBlKHZhbHVlcywgZHR5cGUpO1xuICBpZiAoaW5mZXJyZWRTaGFwZS5sZW5ndGggIT09IDQgJiYgaW5mZXJyZWRTaGFwZS5sZW5ndGggIT09IDEpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICd0ZW5zb3I0ZCgpIHJlcXVpcmVzIHZhbHVlcyB0byBiZSBudW1iZXJbXVtdW11bXSBvciBmbGF0L1R5cGVkQXJyYXknKTtcbiAgfVxuICBpZiAoaW5mZXJyZWRTaGFwZS5sZW5ndGggPT09IDEgJiYgc2hhcGUgPT0gbnVsbCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ3RlbnNvcjRkKCkgcmVxdWlyZXMgc2hhcGUgdG8gYmUgcHJvdmlkZWQgd2hlbiBgdmFsdWVzYCAnICtcbiAgICAgICAgJ2FyZSBhIGZsYXQgYXJyYXknKTtcbiAgfVxuICByZXR1cm4gbWFrZVRlbnNvcih2YWx1ZXMsIHNoYXBlLCBpbmZlcnJlZFNoYXBlLCBkdHlwZSkgYXMgVGVuc29yNEQ7XG59XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbmltcG9ydCB7VGVuc29yNUR9IGZyb20gJy4uL3RlbnNvcic7XG5pbXBvcnQge2luZmVyU2hhcGV9IGZyb20gJy4uL3RlbnNvcl91dGlsX2Vudic7XG5pbXBvcnQge1RlbnNvckxpa2U1RH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHtEYXRhVHlwZX0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHthc3NlcnROb25OdWxsfSBmcm9tICcuLi91dGlsJztcbmltcG9ydCB7bWFrZVRlbnNvcn0gZnJvbSAnLi90ZW5zb3Jfb3BzX3V0aWwnO1xuXG4vKipcbiAqIENyZWF0ZXMgcmFuay01IGB0Zi5UZW5zb3JgIHdpdGggdGhlIHByb3ZpZGVkIHZhbHVlcywgc2hhcGUgYW5kIGR0eXBlLlxuICpcbiAqIFRoZSBzYW1lIGZ1bmN0aW9uYWxpdHkgY2FuIGJlIGFjaGlldmVkIHdpdGggYHRmLnRlbnNvcmAsIGJ1dCBpbiBnZW5lcmFsXG4gKiB3ZSByZWNvbW1lbmQgdXNpbmcgYHRmLnRlbnNvcjVkYCBhcyBpdCBtYWtlcyB0aGUgY29kZSBtb3JlIHJlYWRhYmxlLlxuICpcbiAqICBgYGBqc1xuICogLy8gUGFzcyBhIG5lc3RlZCBhcnJheS5cbiAqIHRmLnRlbnNvcjVkKFtbW1tbMV0sIFsyXV0sIFtbM10sIFs0XV1dXV0pLnByaW50KCk7XG4gKiBgYGBcbiAqIGBgYGpzXG4gKiAvLyBQYXNzIGEgZmxhdCBhcnJheSBhbmQgc3BlY2lmeSBhIHNoYXBlLlxuICogdGYudGVuc29yNWQoWzEsIDIsIDMsIDQsIDUsIDYsIDcsIDhdLCBbMSwgMiwgMiwgMiwgMV0pLnByaW50KCk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gdmFsdWVzIFRoZSB2YWx1ZXMgb2YgdGhlIHRlbnNvci4gQ2FuIGJlIG5lc3RlZCBhcnJheSBvZiBudW1iZXJzLFxuICogICAgIG9yIGEgZmxhdCBhcnJheSwgb3IgYSBgVHlwZWRBcnJheWAuXG4gKiBAcGFyYW0gc2hhcGUgVGhlIHNoYXBlIG9mIHRoZSB0ZW5zb3IuIE9wdGlvbmFsLiBJZiBub3QgcHJvdmlkZWQsXG4gKiAgIGl0IGlzIGluZmVycmVkIGZyb20gYHZhbHVlc2AuXG4gKiBAcGFyYW0gZHR5cGUgVGhlIGRhdGEgdHlwZS5cbiAqXG4gKiBAZG9jIHtoZWFkaW5nOiAnVGVuc29ycycsIHN1YmhlYWRpbmc6ICdDcmVhdGlvbid9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0ZW5zb3I1ZChcbiAgICB2YWx1ZXM6IFRlbnNvckxpa2U1RCwgc2hhcGU/OiBbbnVtYmVyLCBudW1iZXIsIG51bWJlciwgbnVtYmVyLCBudW1iZXJdLFxuICAgIGR0eXBlPzogRGF0YVR5cGUpOiBUZW5zb3I1RCB7XG4gIGFzc2VydE5vbk51bGwodmFsdWVzKTtcbiAgaWYgKHNoYXBlICE9IG51bGwgJiYgc2hhcGUubGVuZ3RoICE9PSA1KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCd0ZW5zb3I1ZCgpIHJlcXVpcmVzIHNoYXBlIHRvIGhhdmUgZml2ZSBudW1iZXJzJyk7XG4gIH1cbiAgY29uc3QgaW5mZXJyZWRTaGFwZSA9IGluZmVyU2hhcGUodmFsdWVzLCBkdHlwZSk7XG4gIGlmIChpbmZlcnJlZFNoYXBlLmxlbmd0aCAhPT0gNSAmJiBpbmZlcnJlZFNoYXBlLmxlbmd0aCAhPT0gMSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ3RlbnNvcjVkKCkgcmVxdWlyZXMgdmFsdWVzIHRvIGJlICcgK1xuICAgICAgICAnbnVtYmVyW11bXVtdW11bXSBvciBmbGF0L1R5cGVkQXJyYXknKTtcbiAgfVxuICBpZiAoaW5mZXJyZWRTaGFwZS5sZW5ndGggPT09IDEgJiYgc2hhcGUgPT0gbnVsbCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ3RlbnNvcjVkKCkgcmVxdWlyZXMgc2hhcGUgdG8gYmUgcHJvdmlkZWQgd2hlbiBgdmFsdWVzYCAnICtcbiAgICAgICAgJ2FyZSBhIGZsYXQgYXJyYXknKTtcbiAgfVxuICByZXR1cm4gbWFrZVRlbnNvcih2YWx1ZXMsIHNoYXBlLCBpbmZlcnJlZFNoYXBlLCBkdHlwZSkgYXMgVGVuc29yNUQ7XG59XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbmltcG9ydCB7VGVuc29yNkR9IGZyb20gJy4uL3RlbnNvcic7XG5pbXBvcnQge2luZmVyU2hhcGV9IGZyb20gJy4uL3RlbnNvcl91dGlsX2Vudic7XG5pbXBvcnQge1RlbnNvckxpa2U2RH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHtEYXRhVHlwZX0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHthc3NlcnROb25OdWxsfSBmcm9tICcuLi91dGlsJztcbmltcG9ydCB7bWFrZVRlbnNvcn0gZnJvbSAnLi90ZW5zb3Jfb3BzX3V0aWwnO1xuXG4vKipcbiAqIENyZWF0ZXMgcmFuay02IGB0Zi5UZW5zb3JgIHdpdGggdGhlIHByb3ZpZGVkIHZhbHVlcywgc2hhcGUgYW5kIGR0eXBlLlxuICpcbiAqIFRoZSBzYW1lIGZ1bmN0aW9uYWxpdHkgY2FuIGJlIGFjaGlldmVkIHdpdGggYHRmLnRlbnNvcmAsIGJ1dCBpbiBnZW5lcmFsXG4gKiB3ZSByZWNvbW1lbmQgdXNpbmcgYHRmLnRlbnNvcjZkYCBhcyBpdCBtYWtlcyB0aGUgY29kZSBtb3JlIHJlYWRhYmxlLlxuICpcbiAqICBgYGBqc1xuICogLy8gUGFzcyBhIG5lc3RlZCBhcnJheS5cbiAqIHRmLnRlbnNvcjZkKFtbW1tbWzFdLFsyXV0sW1szXSxbNF1dXSxbW1s1XSxbNl1dLFtbN10sWzhdXV1dXV0pLnByaW50KCk7XG4gKiBgYGBcbiAqIGBgYGpzXG4gKiAvLyBQYXNzIGEgZmxhdCBhcnJheSBhbmQgc3BlY2lmeSBhIHNoYXBlLlxuICogdGYudGVuc29yNmQoWzEsIDIsIDMsIDQsIDUsIDYsIDcsIDhdLCBbMSwgMSwgMiwgMiwgMiwgMV0pLnByaW50KCk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gdmFsdWVzIFRoZSB2YWx1ZXMgb2YgdGhlIHRlbnNvci4gQ2FuIGJlIG5lc3RlZCBhcnJheSBvZiBudW1iZXJzLFxuICogICAgIG9yIGEgZmxhdCBhcnJheSwgb3IgYSBgVHlwZWRBcnJheWAuXG4gKiBAcGFyYW0gc2hhcGUgVGhlIHNoYXBlIG9mIHRoZSB0ZW5zb3IuIE9wdGlvbmFsLiBJZiBub3QgcHJvdmlkZWQsXG4gKiAgIGl0IGlzIGluZmVycmVkIGZyb20gYHZhbHVlc2AuXG4gKiBAcGFyYW0gZHR5cGUgVGhlIGRhdGEgdHlwZS5cbiAqXG4gKiBAZG9jIHtoZWFkaW5nOiAnVGVuc29ycycsIHN1YmhlYWRpbmc6ICdDcmVhdGlvbid9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0ZW5zb3I2ZChcbiAgICB2YWx1ZXM6IFRlbnNvckxpa2U2RCxcbiAgICBzaGFwZT86IFtudW1iZXIsIG51bWJlciwgbnVtYmVyLCBudW1iZXIsIG51bWJlciwgbnVtYmVyXSxcbiAgICBkdHlwZT86IERhdGFUeXBlKTogVGVuc29yNkQge1xuICBhc3NlcnROb25OdWxsKHZhbHVlcyk7XG4gIGlmIChzaGFwZSAhPSBudWxsICYmIHNoYXBlLmxlbmd0aCAhPT0gNikge1xuICAgIHRocm93IG5ldyBFcnJvcigndGVuc29yNmQoKSByZXF1aXJlcyBzaGFwZSB0byBoYXZlIHNpeCBudW1iZXJzJyk7XG4gIH1cbiAgY29uc3QgaW5mZXJyZWRTaGFwZSA9IGluZmVyU2hhcGUodmFsdWVzLCBkdHlwZSk7XG4gIGlmIChpbmZlcnJlZFNoYXBlLmxlbmd0aCAhPT0gNiAmJiBpbmZlcnJlZFNoYXBlLmxlbmd0aCAhPT0gMSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ3RlbnNvcjZkKCkgcmVxdWlyZXMgdmFsdWVzIHRvIGJlIG51bWJlcltdW11bXVtdW11bXSBvciAnICtcbiAgICAgICAgJ2ZsYXQvVHlwZWRBcnJheScpO1xuICB9XG4gIGlmIChpbmZlcnJlZFNoYXBlLmxlbmd0aCA9PT0gMSAmJiBzaGFwZSA9PSBudWxsKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAndGVuc29yNmQoKSByZXF1aXJlcyBzaGFwZSB0byBiZSBwcm92aWRlZCB3aGVuIGB2YWx1ZXNgICcgK1xuICAgICAgICAnYXJlIGEgZmxhdCBhcnJheScpO1xuICB9XG4gIHNoYXBlID0gc2hhcGUgfHxcbiAgICAgIGluZmVycmVkU2hhcGUgYXMgW251bWJlciwgbnVtYmVyLCBudW1iZXIsIG51bWJlciwgbnVtYmVyLCBudW1iZXJdO1xuICByZXR1cm4gbWFrZVRlbnNvcih2YWx1ZXMsIHNoYXBlLCBpbmZlcnJlZFNoYXBlLCBkdHlwZSkgYXMgVGVuc29yNkQ7XG59XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbmltcG9ydCB7RU5HSU5FfSBmcm9tICcuLi9lbmdpbmUnO1xuaW1wb3J0IHtUZW5zb3IsIFZhcmlhYmxlfSBmcm9tICcuLi90ZW5zb3InO1xuaW1wb3J0IHtEYXRhVHlwZSwgUmFua30gZnJvbSAnLi4vdHlwZXMnO1xuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgdmFyaWFibGUgd2l0aCB0aGUgcHJvdmlkZWQgaW5pdGlhbCB2YWx1ZS5cbiAqIGBgYGpzXG4gKiBjb25zdCB4ID0gdGYudmFyaWFibGUodGYudGVuc29yKFsxLCAyLCAzXSkpO1xuICogeC5hc3NpZ24odGYudGVuc29yKFs0LCA1LCA2XSkpO1xuICpcbiAqIHgucHJpbnQoKTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBpbml0aWFsVmFsdWUgSW5pdGlhbCB2YWx1ZSBmb3IgdGhlIHRlbnNvci5cbiAqIEBwYXJhbSB0cmFpbmFibGUgSWYgdHJ1ZSwgb3B0aW1pemVycyBhcmUgYWxsb3dlZCB0byB1cGRhdGUgaXQuXG4gKiBAcGFyYW0gbmFtZSBOYW1lIG9mIHRoZSB2YXJpYWJsZS4gRGVmYXVsdHMgdG8gYSB1bmlxdWUgaWQuXG4gKiBAcGFyYW0gZHR5cGUgSWYgc2V0LCBpbml0aWFsVmFsdWUgd2lsbCBiZSBjb252ZXJ0ZWQgdG8gdGhlIGdpdmVuIHR5cGUuXG4gKlxuICogQGRvYyB7aGVhZGluZzogJ1RlbnNvcnMnLCBzdWJoZWFkaW5nOiAnQ3JlYXRpb24nfVxuICovXG5leHBvcnQgZnVuY3Rpb24gdmFyaWFibGU8UiBleHRlbmRzIFJhbms+KFxuICAgIGluaXRpYWxWYWx1ZTogVGVuc29yPFI+LCB0cmFpbmFibGUgPSB0cnVlLCBuYW1lPzogc3RyaW5nLFxuICAgIGR0eXBlPzogRGF0YVR5cGUpOiBWYXJpYWJsZTxSPiB7XG4gIHJldHVybiBFTkdJTkUubWFrZVZhcmlhYmxlKGluaXRpYWxWYWx1ZSwgdHJhaW5hYmxlLCBuYW1lLCBkdHlwZSkgYXNcbiAgICAgIFZhcmlhYmxlPFI+O1xufVxuIiwiLyoqIEBsaWNlbnNlIFNlZSB0aGUgTElDRU5TRSBmaWxlLiAqL1xuXG4vLyBUaGlzIGNvZGUgaXMgYXV0by1nZW5lcmF0ZWQsIGRvIG5vdCBtb2RpZnkgdGhpcyBmaWxlIVxuY29uc3QgdmVyc2lvbiA9ICcyLjYuMCc7XG5leHBvcnQge3ZlcnNpb259O1xuIl0sIm5hbWVzIjpbImJhY2tlbmQiLCJkYXRhTW92ZXIiLCJ0aGlzIiwiV2Vha01hcCIsIkRhdGFTdG9yYWdlIiwiZGF0YUlkIiwiZGF0YSIsImhhcyIsIm1vdmVEYXRhIiwiZ2V0IiwidmFsdWUiLCJkYXRhSWRzQ291bnQiLCJzZXQiLCJkZWxldGUiLCJLZXJuZWxCYWNrZW5kIiwiZiIsIm5vdFlldEltcGxlbWVudGVkIiwidmFsdWVzIiwic2hhcGUiLCJkdHlwZSIsImZsb2F0UHJlY2lzaW9uIiwiYSIsImIiLCJ0cmFuc3Bvc2VBIiwidHJhbnNwb3NlQiIsIl9hIiwieCIsImJlZ2luIiwic2l6ZSIsImVuZCIsInN0cmlkZXMiLCJheGlzIiwidGVuc29ycyIsImF4ZXMiLCJzZWdtZW50SWRzIiwibnVtU2VnbWVudHMiLCJjb25kaXRpb24iLCJrIiwic29ydGVkIiwiZGltIiwiZHkiLCJ5IiwibWluIiwibWF4IiwiYWxwaGEiLCJmaWx0ZXIiLCJjb252SW5mbyIsImRZIiwiaW5wdXQiLCJyZXBzIiwicGFkZGluZ3MiLCJjb25zdGFudFZhbHVlIiwicGVybSIsImluZGljZXMiLCJ1cGRhdGVzIiwiYmxvY2tTaGFwZSIsImNyb3BzIiwibmV3SGVpZ2h0IiwibmV3V2lkdGgiLCJhbGlnbkNvcm5lcnMiLCJuZXdIRWlnaHQiLCJtZWFuIiwidmFyaWFuY2UiLCJvZmZzZXQiLCJzY2FsZSIsInZhcmlhbmNlRXBzaWxvbiIsInJhZGl1cyIsImJpYXMiLCJiZXRhIiwiaW5wdXRJbWFnZSIsIm91dHB1dEltYWdlIiwibG9naXRzIiwibm9ybWFsaXplZCIsIm51bVNhbXBsZXMiLCJzZWVkIiwiZGVwdGgiLCJvblZhbHVlIiwib2ZmVmFsdWUiLCJleGNsdXNpdmUiLCJyZXZlcnNlIiwiYm94ZXMiLCJzY29yZXMiLCJtYXhPdXRwdXRTaXplIiwiaW91VGhyZXNob2xkIiwic2NvcmVUaHJlc2hvbGQiLCJyZWFsIiwiaW1hZyIsImltYWdlIiwiYm94SW5kZXgiLCJjcm9wU2l6ZSIsIm1ldGhvZCIsImV4dHJhcG9sYXRpb25WYWx1ZSIsImJsb2NrU2l6ZSIsImRhdGFGb3JtYXQiLCJzaXplU3BsaXRzIiwic3BhcnNlSW5kaWNlcyIsInNwYXJzZVZhbHVlcyIsIm91dHB1dFNoYXBlIiwiZGVmYXVsdFZhbHVlIiwic3RhcnQiLCJzdG9wIiwibnVtIiwia2VybmVsTmFtZSIsIkVycm9yIiwiZ2xvYmFsTmFtZVNwYWNlIiwiZ2xvYmFsIiwicG9wdWxhdGVVUkxGbGFncyIsIkVudmlyb25tZW50IiwicGxhdGZvcm1OYW1lIiwicGxhdGZvcm0iLCJjb25zb2xlIiwid2FybiIsImZsYWdOYW1lIiwiZXZhbHVhdGlvbkZuIiwic2V0SG9vayIsImZsYWdSZWdpc3RyeSIsInVybEZsYWdzIiwiZmxhZ1ZhbHVlIiwiZmxhZ3MiLCJfYiIsImV2YWx1YXRlRmxhZyIsIl9jIiwiUHJvbWlzZSIsIk9iamVjdCIsImFzc2lnbiIsImxvY2F0aW9uIiwic2VhcmNoIiwicXVlcnlTdHJpbmciLCJwYXJhbXMiLCJ1cmxQYXJhbXMiLCJyZXBsYWNlIiwicyIsIl9pIiwidCIsImRlY29kZVBhcmFtIiwiam9pbiIsInNwbGl0IiwiZm9yRWFjaCIsImtleVZhbHVlIiwia2V5IiwiX3RoaXMiLCJ0b0xvd2VyQ2FzZSIsInBhcnNlVmFsdWUiLCJuYW1lIiwiZGVjb2RlVVJJQ29tcG9uZW50IiwiZW52IiwiRU5WIiwiZ2V0R2xvYmFsTmFtZXNwYWNlIiwibnMiLCJ3aW5kb3ciLCJwcm9jZXNzIiwic2VsZiIsImdldEdsb2JhbCIsImluaXQiLCJnbG9iYWxNYXAiLCJfdGZHbG9iYWxzIiwiTWFwIiwic2luZ2xldG9uIiwia2VybmVsUmVnaXN0cnkiLCJncmFkUmVnaXN0cnkiLCJnZXRLZXJuZWwiLCJiYWNrZW5kTmFtZSIsIm1ha2VLZXkiLCJnZXRHcmFkaWVudCIsImdldEtlcm5lbHNGb3JCYWNrZW5kIiwiaXQiLCJlbnRyaWVzIiwicmVzdWx0IiwiZG9uZSIsImNvbmZpZyIsInB1c2giLCJyZWdpc3Rlcktlcm5lbCIsInJlZ2lzdGVyR3JhZGllbnQiLCJnZXRCb29sIiwic2h1ZmZsZSIsImFycmF5IiwiY291bnRlciIsImxlbmd0aCIsInRlbXAiLCJpbmRleCIsIk1hdGgiLCJyYW5kb20iLCJjbGFtcCIsImFzc2VydCIsImV4cHIiLCJtc2ciLCJhc3NlcnRTaGFwZXNNYXRjaCIsInNoYXBlQSIsInNoYXBlQiIsImVycm9yTWVzc2FnZVByZWZpeCIsImFycmF5c0VxdWFsIiwiYXNzZXJ0Tm9uTnVsbCIsImZsYXR0ZW4iLCJhcnIiLCJza2lwVHlwZWRBcnJheSIsIkFycmF5IiwiaXNBcnJheSIsImlzVHlwZWRBcnJheSIsImkiLCJzaXplRnJvbVNoYXBlIiwibjEiLCJuMiIsImlzSW50IiwicmlnaHRQYWQiLCJyZXBlYXQiLCJpbmZlckZyb21JbXBsaWNpdFNoYXBlIiwic2hhcGVQcm9kIiwiaW1wbGljaXRJZHgiLCJuZXdTaGFwZSIsInNsaWNlIiwicGFyc2VBeGlzUGFyYW0iLCJyYW5rIiwibWFwIiwiY29uY2F0IiwiZXZlcnkiLCJheCIsInNxdWVlemVTaGFwZSIsImtlcHREaW1zIiwiaXNFbXB0eUFycmF5Iiwic29ydCIsImoiLCJnZXRUeXBlZEFycmF5RnJvbURUeXBlIiwiRmxvYXQzMkFycmF5IiwiSW50MzJBcnJheSIsIlVpbnQ4QXJyYXkiLCJnZXRBcnJheUZyb21EVHlwZSIsImNoZWNrQ29udmVyc2lvbkZvckVycm9ycyIsInZhbHMiLCJpc05hTiIsImlzRmluaXRlIiwiaXNWYWxpZER0eXBlIiwiaGFzRW5jb2RpbmdMb3NzIiwib2xkVHlwZSIsIm5ld1R5cGUiLCJieXRlc1BlckVsZW1lbnQiLCJieXRlc0Zyb21TdHJpbmdBcnJheSIsImJ5dGVzIiwiaXNTdHJpbmciLCJTdHJpbmciLCJpc0Jvb2xlYW4iLCJpc051bWJlciIsImluZmVyRHR5cGUiLCJpc0Z1bmN0aW9uIiwiY29uc3RydWN0b3IiLCJjYWxsIiwiYXBwbHkiLCJuZWFyZXN0RGl2aXNvciIsImNvbXB1dGVTdHJpZGVzIiwidG9UeXBlZEFycmF5Iiwibm9Db252ZXJzaW9uTmVlZGVkIiwiYm9vbCIsInJvdW5kIiwidG9OZXN0ZWRBcnJheSIsInJlZHVjZSIsImFjYyIsImMiLCJjcmVhdGVOZXN0ZWRBcnJheSIsInJldCIsImQiLCJyZXN0IiwibGVuIiwibWFrZU9uZXNUeXBlZEFycmF5IiwibWFrZVplcm9zVHlwZWRBcnJheSIsIm5vdyIsImFzc2VydE5vbk5lZ2F0aXZlSW50ZWdlckRpbWVuc2lvbnMiLCJkaW1TaXplIiwiTnVtYmVyIiwiaXNJbnRlZ2VyIiwiZW5jb2RlU3RyaW5nIiwiZW5jb2RpbmciLCJlbmNvZGUiLCJkZWNvZGVTdHJpbmciLCJkZWNvZGUiLCJ2YWwiLCJzdW0iLCJyIiwiZGlmZiIsInRhbmgiLCJJbmZpbml0eSIsImUyeCIsImV4cCIsIndpZHRoIiwiY2VpbCIsInNxcnQiLCJuIiwic2h1ZmZsZWRJbmRpY2VzIiwiVWludDMyQXJyYXkiLCJjaGVja0ZuIiwiZGVsYXlGbiIsIm1heENvdW50ZXIiLCJyZXNvbHZlIiwicmVqZWN0IiwidHJ5Q291bnQiLCJ0cnlGbiIsIm5leHRCYWNrb2ZmIiwic2V0VGltZW91dCIsInByZXYiLCJjdXJyIiwicGF0aCIsInJlcXVlc3RJbml0cyIsImZldGNoIiwibG9jcyIsImZsb29yIiwiYmFja2VuZFRpbWVyIiwibG9nZ2VyIiwiTG9nZ2VyIiwiUHJvZmlsZXIiLCJpbnB1dHMiLCJvdXRwdXRzIiwidGltZXIiLCJ0aW1lIiwib3V0cHV0IiwidGhlbiIsInRlbnNvclZhbHMiLCJjaGVja0NvbXB1dGF0aW9uRm9yRXJyb3JzIiwidGltZU1zIiwidGltaW5nIiwia2VybmVsTXMiLCJleHRyYUluZm8iLCJnZXRFeHRyYVByb2ZpbGVJbmZvIiwia2VybmVsUHJvZmlsZSIsImFsbCIsInZhbHVlQ29udGFpbmVyIiwibG9nS2VybmVsUHJvZmlsZSIsInV0aWwucmlnaHRQYWQiLCJwYWRkZWROYW1lIiwidG9TdHJpbmciLCJpbnB1dFNoYXBlc0Rlc2NyaXB0aW9uIiwibmFtZV8xIiwiaW5wdXRTaGFwZSIsImlucHV0UmFuayIsImxvZyIsInRlbnNvclRvU3RyaW5nIiwidmVyYm9zZSIsInBhZFBlckNvbCIsIm51bUNvbHMiLCJmaWxsIiwidmFsdWVzT3JUdXBsZXMiLCJjcmVhdGVDb21wbGV4VHVwbGVzIiwicm93IiwidmFsVG9TdHJpbmciLCJjb21wdXRlTWF4U2l6ZVBlckNvbHVtbiIsInZhbHNMaW5lcyIsInN1YlRlbnNvclRvU3RyaW5nIiwiaXNMYXN0Iiwic3RvcmFnZVBlckVsZW1lbnQiLCJib29sTnVtVG9TdHJpbmciLCJmaXJzdFZhbHNTaXplIiwiZmlyc3RWYWxzIiwiZnJvbSIsImxhc3RWYWxzIiwic3Vic2hhcGUiLCJzdWJzdHJpZGVzIiwic3RyaWRlIiwibGluZXMiLCJzZXAiLCJuZXdMaW5lU2VwIiwibCIsInBhZCIsInBhcnNlRmxvYXQiLCJ0b0ZpeGVkIiwidiIsImNvbXBsZXhUdXBsZXMiLCJ1dGlsLnNpemVGcm9tU2hhcGUiLCJuXzEiLCJ1dGlsLmFzc2VydCIsInV0aWwuZ2V0QXJyYXlGcm9tRFR5cGUiLCJUZW5zb3JCdWZmZXIiLCJsb2NUb0luZGV4IiwibG9jc18xIiwibG9jIiwiaV8xIiwidHJhY2tlckZuIiwibWFrZVRlbnNvciIsIm9wSGFuZGxlciIsImlkIiwicmFua1R5cGUiLCJUZW5zb3IiLCJidWZmZXIiLCJkYXRhU3luYyIsInRocm93SWZEaXNwb3NlZCIsInJlYWQiLCJ1dGlsLmRlY29kZVN0cmluZyIsInJlYWRTeW5jIiwiaXNEaXNwb3NlZCIsImRpc3Bvc2VUZW5zb3IiLCJpc0Rpc3Bvc2VkSW50ZXJuYWwiLCJwcmludCIsImNsb25lIiwiY2FzdCIsInRyYWluYWJsZSIsIm1ha2VWYXJpYWJsZSIsImRlZmluZVByb3BlcnR5IiwiU3ltYm9sIiwiaGFzSW5zdGFuY2UiLCJpbnN0YW5jZSIsIlJhbmsiLCJVcGNhc3RJbnQzMkFuZE1hcCIsIlVwY2FzdEJvb2xBbmRNYXAiLCJVcGNhc3RGbG9hdDMyQW5kTWFwIiwiVXBjYXN0Q29tcGxleDY0QW5kTWFwIiwiaW5pdGlhbFZhbHVlIiwidGVuc29ySWQiLCJfc3VwZXIiLCJ0c2xpYl8xLl9fZXh0ZW5kcyIsIlZhcmlhYmxlIiwibmV3VmFsdWUiLCJ1dGlsLmFycmF5c0VxdWFsIiwiaW5jUmVmIiwiZGlzcG9zZVZhcmlhYmxlIiwiRnVuY3Rpb24iLCJ1cGNhc3RUeXBlTWFwIiwiZmxvYXQzMiIsImludDMyIiwiY29tcGxleDY0IiwidXBjYXN0VHlwZSIsInR5cGVBIiwidHlwZUIiLCJtYWtlVHlwZXNNYXRjaCIsImFzc2VydFR5cGVzTWF0Y2giLCJnZXRUZW5zb3JzSW5Db250YWluZXIiLCJsaXN0Iiwid2Fsa1RlbnNvckNvbnRhaW5lciIsImNvbnRhaW5lciIsInNlZW4iLCJvYmoiLCJpdGVyYWJsZSIsImFkZCIsIlNldCIsInRlbnNvciIsInRlbnNvckxpc3QiLCJzb21lIiwibmV3Qnl0ZXMiLCJuZXdUZW5zb3JzIiwicGVha0J5dGVzIiwia2VybmVscyIsIkVuZ2luZVN0YXRlIiwidmFyaWFibGVOYW1lIiwicmVnaXN0ZXJlZFZhcmlhYmxlcyIsImRpc3Bvc2UiLCJzdGF0ZSIsIkVuZ2luZSIsInBlbmRpbmdCYWNrZW5kSW5pdCIsImJhY2tlbmRJbnN0YW5jZSIsInNvcnRlZEJhY2tlbmRzIiwiZ2V0U29ydGVkQmFja2VuZHMiLCJpbml0aWFsaXplQmFja2VuZCIsInN1Y2Nlc3MiLCJzZXRCYWNrZW5kIiwia2V5cyIsInJlZ2lzdHJ5RmFjdG9yeSIsInJlZ2lzdHJ5IiwiZmFjdG9yeSIsInByaW9yaXR5Iiwic2V0dXBSZWdpc3RlcmVkS2VybmVscyIsInByb2ZpbGVyIiwia2VybmVsIiwic2V0dXBGdW5jIiwiZGlzcG9zZUZ1bmMiLCJyZWdpc3RyeUZhY3RvcnlFbnRyeSIsImFzeW5jSW5pdCIsInByb21pc2VJZF8xIiwicGVuZGluZ0JhY2tlbmRJbml0SWQiLCJjYXRjaCIsImVyciIsInN0YWNrIiwibWVzc2FnZSIsImRpc3Bvc2VSZWdpc3RlcmVkS2VybmVscyIsImluZm8iLCJ0ZW5zb3JJbmZvIiwic3JjQmFja2VuZCIsImRpc3Bvc2VEYXRhIiwibW92ZSIsInNob3VsZENoZWNrRm9yTWVtTGVha3MiLCJudW1EYXRhTW92ZXNTdGFjayIsIm5hbWVPckZuIiwiZm4iLCJzY29wZWRSdW4iLCJzdGFydFNjb3BlIiwiZW5kU2NvcGUiLCJlcnJvciIsInJlcyIsImV4IiwibmV4dFRlbnNvcklkIiwibmV4dFZhcmlhYmxlSWQiLCJtYWtlVGVuc29yRnJvbURhdGFJZCIsImFkZFRhcGVOb2RlIiwiYWN0aXZlU2NvcGUiLCJncmFkSW5wdXRzIiwiYXR0cnMiLCJFTkdJTkUiLCJydW5LZXJuZWxGdW5jIiwiaW5wdXRzVG9TYXZlIiwib3V0cHV0c1RvU2F2ZSIsIm51bURhdGFJZHNCZWZvcmUiLCJvdXRJbmZvcyIsIm51bURhdGFJZHNBZnRlciIsIm51bURhdGFJZHMiLCJudW1PdXRwdXREYXRhSWRzIiwibnVtTW92ZXMiLCJkYXRhSWRzTGVha2VkIiwiZm9yd2FyZEZ1bmMiLCJiYWNrd2FyZHNGdW5jIiwic2F2ZWQiLCJpc1RhcGVPbiIsImtlcm5lbEZ1bmMiLCJzdGFydGluZ0J5dGVjb3VudCIsIm51bUJ5dGVzIiwic3RhcnRpbmdOdW1UZW5zb3JzIiwibnVtVGVuc29ycyIsIm91dCIsImNoZWNrS2VybmVsRm9yTWVtTGVhayIsIm91dFRlbnNvcnMiLCJ0ZW5zb3JzVG9TYXZlIiwiZ2V0VGVuc29yc0ZvckdyYWRpZW50Iiwib3V0c1RvU2F2ZSIsIl8iLCJzYXZlVGVuc29yc0ZvckJhY2t3YXJkTW9kZSIsInNhdmVGdW5jXzEiLCJrZWVwIiwidGlkeSIsIm91dHMiLCJrZXJuZWxEZXB0aCIsInByb2ZpbGluZyIsInByb2ZpbGVLZXJuZWwiLCJhY3RpdmVQcm9maWxlIiwiYnl0ZXNBZGRlZCIsInRvdGFsQnl0ZXNTbmFwc2hvdCIsInRlbnNvcnNBZGRlZCIsInRvdGFsVGVuc29yc1NuYXBzaG90IiwiaW5wdXRTaGFwZXMiLCJvdXRwdXRTaGFwZXMiLCJpdGVtIiwia2VybmVsVGltZU1zIiwiZ3JhZENvbmZpZyIsIm91dHB1dHNUb1NhdmVfMSIsImlucHV0VGVuc29yc1RvU2F2ZSIsInNhdmVBbGxJbnB1dHMiLCJpbnB1dE5hbWUiLCJvdXRwdXRUZW5zb3JzVG9TYXZlIiwiYmFja2VuZFZhbHMiLCJ1dGlsLmlzU3RyaW5nIiwidXRpbC5lbmNvZGVTdHJpbmciLCJ3cml0ZSIsInJlZkNvdW50IiwibnVtU3RyaW5nVGVuc29ycyIsIm51bURhdGFCdWZmZXJzIiwidXRpbC5ieXRlc1BlckVsZW1lbnQiLCJ0cmFjayIsInZhck5hbWUiLCJtZW1vcnkiLCJ1bnJlbGlhYmxlIiwicmVhc29ucyIsInF1ZXJ5Iiwic3RhcnRCeXRlcyIsInN0YXJ0TnVtVGVuc29ycyIsIl9lIiwiX2QiLCJncmFkaWVudERlcHRoIiwiZ3JhZGllbnRzRnVuYyIsInRhcGVOb2RlIiwibmV4dFRhcGVOb2RlSWQiLCJncmFkRnVuYyIsImdyYWRpZW50IiwiZHlzIiwidXRpbC5tYWtlWmVyb3NUeXBlZEFycmF5IiwiYWN0aXZlVGFwZSIsImtlcHQiLCJzY29wZUluZm8iLCJuZXh0U2NvcGVJZCIsInNjb3BlU3RhY2siLCJ0ZW5zb3JzVG9UcmFja0luUGFyZW50IiwidGVuc29yc1RvVHJhY2tJblBhcmVudFNldCIsIm9sZFNjb3BlIiwicG9wIiwic2NvcGVJZCIsInhzIiwiYWxsb3dOb0dyYWRpZW50cyIsInN0YXJ0VGFwZSIsImVuZFRhcGUiLCJmaWx0ZXJlZFRhcGUiLCJ0YXBlIiwidGVuc29yc0Zyb21YIiwibm9kZXNGcm9tWCIsIm5vZGVJbnB1dHMiLCJub2RlIiwiYW55SW5wdXRGcm9tWCIsInRlbnNvcnNMZWFkVG9ZIiwibm9kZXNUb1kiLCJwcnVuZWRJbnB1dHMiLCJub2RlSW5wdXQiLCJwcnVuZWROb2RlIiwiZ2V0RmlsdGVyZWROb2Rlc1hUb1kiLCJhY2N1bXVsYXRlZEdyYWRpZW50TWFwIiwidGVuc29yQWNjdW11bGF0ZWRHcmFkaWVudE1hcCIsIm8iLCJncmFkVGVuc29yIiwiaW5wdXRHcmFkaWVudHMiLCJkeCIsImN1ckdyYWRpZW50IiwiYmFja3Byb3BhZ2F0ZUdyYWRpZW50cyIsImdyYWRzIiwidXRpbC5pc0Z1bmN0aW9uIiwiaW5wdXRNYXAiLCJzYXZlIiwiZ3JhZFJlcyIsImdyYWRNYXAiLCJncmFkIiwidGltaW5nSW5mbyIsIndhbGxNcyIsInJlc2V0IiwiZ2V0T3JNYWtlRW5naW5lIiwiX3RmZW5naW5lIiwiZW52aXJvbm1lbnQiLCJzZXRFbnZpcm9ubWVudEdsb2JhbCIsImlzQnJvd3NlciIsImRvY3VtZW50IiwiV29ya2VyR2xvYmFsU2NvcGUiLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJ2ZW5kb3IiLCJvcGVyYSIsInRlc3QiLCJzdWJzdHIiLCJpbmZlclNoYXBlIiwiZmlyc3RFbGVtIiwiZGVlcEFzc2VydFNoYXBlQ29uc2lzdGVuY3kiLCJzdWJTaGFwZSIsImFzc2VydER0eXBlIiwiZXhwZWN0ZWREdHlwZSIsImFjdHVhbERUeXBlIiwiYXJnTmFtZSIsImZ1bmN0aW9uTmFtZSIsImNvbnZlcnRUb1RlbnNvciIsInBhcnNlQXNEdHlwZSIsImluZmVycmVkRHR5cGUiLCJpbmRleE9mIiwidHlwZSIsImluZmVycmVkU2hhcGUiLCJjb252ZXJ0VG9UZW5zb3JBcnJheSIsImFyZyIsInJlZ2lzdGVyRmxhZyIsImRlYnVnVmFsdWUiLCJkZXZpY2VfdXRpbC5pc0Jyb3dzZXIiLCJ2ZXJzaW9ucyIsIm9wIiwib3BOYW1lIiwiZW5kc1dpdGgiLCJzdWJzdHJpbmciLCJmMiIsImFyZ3MiLCJjb25maWd1cmFibGUiLCJjb21wbGV4IiwiY29tcGxleF8iLCIkcmVhbCIsIiRpbWFnIiwidXRpbC5hc3NlcnRTaGFwZXNNYXRjaCIsInByb3ZpZGVkU2l6ZV8xIiwiaW5mZXJyZWRTaXplXzEiLCJpbmZlcnJlZCIsImZsYXREaW1zRG9udE1hdGNoIiwiRFRZUEVfVkFMVUVfU0laRV9NQVAiLCJmbG9hdDE2IiwidWludDE2IiwidWludDgiLCJkZWNvZGVXZWlnaHRzIiwic3BlY3MiLCJmbG9hdDE2RGVjb2RlIiwic3BlY3NfMSIsInNwZWMiLCJuYW1lXzIiLCJxdWFudGl6YXRpb24iLCJxdWFudGl6YXRpb25TaXplRmFjdG9yIiwiYnl0ZUJ1ZmZlciIsInF1YW50aXplZEFycmF5IiwiVWludDE2QXJyYXkiLCJ1bmRlZmluZWQiLCJnZXRGbG9hdDE2RGVjb2RlciIsInNpemVfMSIsImJ5dGVMZW5ndGgiLCJkdHlwZUZhY3RvciIsInJlYWxUZW5zb3IiLCJpbWFnZVRlbnNvciIsImNvbmNhdGVuYXRlVHlwZWRBcnJheXMiLCJKU09OIiwic3RyaW5naWZ5IiwidG90YWxCeXRlTGVuZ3RoIiwibm9ybWFsaXplZFhzIiwidXNlTm9kZUJ1ZmZlciIsIkJ1ZmZlciIsIkJsb2IiLCJhdG9iIiwiYnRvYSIsInN0cmluZ0J5dGVMZW5ndGgiLCJzdHIiLCJjb25jYXRlbmF0ZUFycmF5QnVmZmVycyIsImJ1ZmZlcnMiLCJiYXNlbmFtZSIsInRyaW0iLCJpdGVtcyIsImdldE1vZGVsQXJ0aWZhY3RzSW5mb0ZvckpTT04iLCJtb2RlbEFydGlmYWN0cyIsIm1vZGVsVG9wb2xvZ3kiLCJBcnJheUJ1ZmZlciIsImRhdGVTYXZlZCIsIkRhdGUiLCJtb2RlbFRvcG9sb2d5VHlwZSIsIm1vZGVsVG9wb2xvZ3lCeXRlcyIsIndlaWdodFNwZWNzQnl0ZXMiLCJ3ZWlnaHRTcGVjcyIsIndlaWdodERhdGFCeXRlcyIsIndlaWdodERhdGEiLCJtYW50aXNhVGFibGUiLCJjb252ZXJ0TWFudGlzc2EiLCJtIiwiZSIsImNvbXB1dGVGbG9hdDE2TWFudGlzYVRhYmxlIiwiZXhwb25lbnRUYWJsZSIsImNvbXB1dGVGbG9hdDE2RXhwb25lbnRUYWJsZSIsIm9mZnNldFRhYmxlIiwiY29tcHV0ZUZsb2F0MTZPZmZzZXRUYWJsZSIsImJ1ZmZlclVpbnQzMlZpZXciLCJmbG9hdDE2Qml0cyIsImZsb2F0MzJCaXRzIiwic2F2ZVJvdXRlcnMiLCJsb2FkUm91dGVycyIsIklPUm91dGVyUmVnaXN0cnkiLCJzYXZlUm91dGVyIiwiZ2V0SW5zdGFuY2UiLCJsb2FkUm91dGVyIiwidXJsIiwiZ2V0SGFuZGxlcnMiLCJsb2FkT3B0aW9ucyIsImhhbmRsZXJUeXBlIiwidmFsaWRIYW5kbGVycyIsInJvdXRlciIsImhhbmRsZXIiLCJnZXRJbmRleGVkREJGYWN0b3J5IiwidGhlV2luZG93IiwiaW5kZXhlZERCIiwibW96SW5kZXhlZERCIiwid2Via2l0SW5kZXhlZERCIiwibXNJbmRleGVkREIiLCJzaGltSW5kZXhlZERCIiwic2V0VXBEYXRhYmFzZSIsIm9wZW5SZXF1ZXN0IiwiZGIiLCJjcmVhdGVPYmplY3RTdG9yZSIsImtleVBhdGgiLCJtb2RlbFBhdGgiLCJCcm93c2VySW5kZXhlZERCIiwiZGF0YWJhc2VBY3Rpb24iLCJvcGVuIiwib251cGdyYWRlbmVlZGVkIiwib25zdWNjZXNzIiwibW9kZWxUeCIsInRyYW5zYWN0aW9uIiwiZ2V0UmVxdWVzdF8xIiwib2JqZWN0U3RvcmUiLCJjbG9zZSIsIm9uZXJyb3IiLCJvbmNvbXBsZXRlIiwibW9kZWxUeF8xIiwibW9kZWxBcnRpZmFjdHNJbmZvXzEiLCJpbmZvVHhfMSIsImluZm9TdG9yZV8xIiwicHV0SW5mb1JlcXVlc3RfMSIsInB1dCIsIm1vZGVsQXJ0aWZhY3RzSW5mbyIsInB1dE1vZGVsUmVxdWVzdCIsImRlbGV0ZUluZm9SZXF1ZXN0IiwiaW5kZXhlZERCUm91dGVyIiwic3RhcnRzV2l0aCIsIlVSTF9TQ0hFTUUiLCJyZWdpc3RlclNhdmVSb3V0ZXIiLCJyZWdpc3RlckxvYWRSb3V0ZXIiLCJCcm93c2VySW5kZXhlZERCTWFuYWdlciIsInR4IiwiZ2V0QWxsSW5mb1JlcXVlc3QiLCJnZXRBbGwiLCJpbmZvVHgiLCJpbmZvU3RvcmUiLCJnZXRJbmZvUmVxdWVzdCIsImRlbGV0ZU1vZGVsRGF0YV8xIiwiZGVsZXRlTW9kZWxSZXF1ZXN0IiwiUEFUSF9QUkVGSVgiLCJJTkZPX1NVRkZJWCIsIk1PREVMX1RPUE9MT0dZX1NVRkZJWCIsIldFSUdIVF9TUEVDU19TVUZGSVgiLCJXRUlHSFRfREFUQV9TVUZGSVgiLCJNT0RFTF9NRVRBREFUQV9TVUZGSVgiLCJnZXRNb2RlbEtleXMiLCJ0b3BvbG9neSIsIm1vZGVsTWV0YWRhdGEiLCJnZXRNb2RlbFBhdGhGcm9tS2V5IiwibG9jYWxTdG9yYWdlIiwiTFMiLCJCcm93c2VyTG9jYWxTdG9yYWdlIiwic2V0SXRlbSIsImJ1ZiIsImZyb21DaGFyQ29kZSIsImFycmF5QnVmZmVyVG9CYXNlNjRTdHJpbmciLCJmb3JtYXQiLCJnZW5lcmF0ZWRCeSIsImNvbnZlcnRlZEJ5IiwidXNlckRlZmluZWRNZXRhZGF0YSIsInJlbW92ZUl0ZW0iLCJwYXJzZSIsImdldEl0ZW0iLCJtZXRhZGF0YVN0cmluZyIsIm1ldGFkYXRhIiwid2VpZ2h0RGF0YUJhc2U2NCIsImJ5dGVPZmZzZXQiLCJjaGFyQ29kZUF0IiwiYmFzZTY0U3RyaW5nVG9BcnJheUJ1ZmZlciIsImxvY2FsU3RvcmFnZVJvdXRlciIsIkJyb3dzZXJMb2NhbFN0b3JhZ2VNYW5hZ2VyIiwicHJlZml4Iiwic3VmZml4IiwibWFuYWdlcnMiLCJNb2RlbFN0b3JlTWFuYWdlclJlZ2lzdHJ5Iiwic2NoZW1lIiwibWFuYWdlciIsInBhcnNlVVJMIiwiZ2V0U2NoZW1lcyIsImNsb25lTW9kZWxJbnRlcm5hbCIsInNvdXJjZVVSTCIsImRlc3RVUkwiLCJkZWxldGVTb3VyY2UiLCJsb2FkSGFuZGxlcnMiLCJnZXRMb2FkSGFuZGxlcnMiLCJsb2FkSGFuZGxlciIsInNhdmVIYW5kbGVycyIsImdldFNhdmVIYW5kbGVycyIsInNhdmVIYW5kbGVyIiwic291cmNlU2NoZW1lIiwic291cmNlUGF0aCIsInNhbWVNZWRpdW0iLCJsb2FkIiwiZ2V0TWFuYWdlciIsInJlbW92ZU1vZGVsIiwic2F2ZVJlc3VsdCIsIlBsYXRmb3JtQnJvd3NlciIsInBlcmZvcm1hbmNlIiwidGV4dCIsInRleHRFbmNvZGVyIiwiVGV4dEVuY29kZXIiLCJUZXh0RGVjb2RlciIsInNldFBsYXRmb3JtIiwicmVnaXN0ZXJNYW5hZ2VyIiwic3lzdGVtRmV0Y2giLCJnZXROb2RlRmV0Y2giLCJyZXF1aXJlIiwidXRpbCIsIlBsYXRmb3JtTm9kZSIsImhydGltZSIsInV0aWwuYXNzZXJ0Tm9uTmVnYXRpdmVJbnRlZ2VyRGltZW5zaW9ucyIsImNhc3RfIiwiJHgiLCJ1dGlsLmlzVmFsaWREdHlwZSIsImNsb25lXyIsImRlZmVyIiwiZmlsZU5hbWVQcmVmaXgiLCJCcm93c2VyRG93bmxvYWRzIiwibW9kZWxUb3BvbG9neUZpbGVOYW1lIiwid2VpZ2h0RGF0YUZpbGVOYW1lIiwid2VpZ2h0c1VSTCIsIlVSTCIsImNyZWF0ZU9iamVjdFVSTCIsIndlaWdodHNNYW5pZmVzdCIsInBhdGhzIiwid2VpZ2h0cyIsIm1vZGVsVG9wb2xvZ3lBbmRXZWlnaHRNYW5pZmVzdCIsIm1vZGVsVG9wb2xvZ3lBbmRXZWlnaHRNYW5pZmVzdFVSTCIsImpzb25BbmNob3JfMSIsImpzb25BbmNob3IiLCJjcmVhdGVFbGVtZW50IiwiZG93bmxvYWQiLCJocmVmIiwiZGlzcGF0Y2hFdmVudCIsIk1vdXNlRXZlbnQiLCJ3ZWlnaHREYXRhQW5jaG9yXzEiLCJ3ZWlnaHREYXRhQW5jaG9yIiwiZmlsZXMiLCJCcm93c2VyRmlsZXMiLCJqc29uRmlsZSIsIndlaWdodEZpbGVzIiwianNvblJlYWRlciIsIkZpbGVSZWFkZXIiLCJvbmxvYWQiLCJldmVudCIsIm1vZGVsSlNPTiIsInRhcmdldCIsInBhdGhUb0ZpbGUiLCJjaGVja01hbmlmZXN0QW5kV2VpZ2h0RmlsZXMiLCJwZXJGaWxlQnVmZmVycyIsIndlaWdodHNHcm91cCIsIndlaWdodEZpbGVSZWFkZXIiLCJyZWFkQXNBcnJheUJ1ZmZlciIsInJlYWRBc1RleHQiLCJtYW5pZmVzdCIsImJhc2VuYW1lcyIsImZpbGVOYW1lcyIsImZpbGUiLCJtYW5pZmVzdF8xIiwicGF0aEJhc2VuYW1lIiwibW9uaXRvclByb21pc2VzUHJvZ3Jlc3MiLCJwcm9taXNlcyIsIm9uUHJvZ3Jlc3MiLCJzdGFydEZyYWN0aW9uIiwiZW5kRnJhY3Rpb24iLCJjaGVja1Byb21pc2VzIiwiY2hlY2tGcmFjdGlvbiIsInJlc29sdmVkUHJvbWlzZSIsInByb21pc2UiLCJmcmFjdGlvbiIsImxvYWRXZWlnaHRzQXNBcnJheUJ1ZmZlciIsImZldGNoVVJMcyIsImZldGNoRnVuYyIsInJlcXVlc3RzIiwiZmV0Y2hVUkwiLCJyZXF1ZXN0SW5pdCIsImlzQmluYXJ5IiwiZmV0Y2hTdGFydEZyYWN0aW9uIiwiZmV0Y2hFbmRGcmFjdGlvbiIsImJ1ZmZlclByb21pc2VzIiwicmVzcG9uc2UiLCJhcnJheUJ1ZmZlciIsImJ1ZmZlclN0YXJ0RnJhY3Rpb24iLCJidWZmZXJFbmRGcmFjdGlvbiIsIndlaWdodHNMb2FkZXJGYWN0b3J5IiwiZmV0Y2hXZWlnaHRzRnVuY3Rpb24iLCJmaWxlUGF0aFByZWZpeCIsIndlaWdodE5hbWVzIiwiZ3JvdXBJbmRpY2VzVG9GZXRjaE1hcCIsImdyb3VwV2VpZ2h0c1RvRmV0Y2giLCJ3ZWlnaHRzRm91bmQiLCJhbGxNYW5pZmVzdFdlaWdodE5hbWVzIiwibWFuaWZlc3RHcm91cENvbmZpZyIsImdyb3VwSW5kZXgiLCJncm91cE9mZnNldCIsIndlaWdodHNFbnRyeSIsInJhd0R0eXBlIiwid2VpZ2h0c0J5dGVzIiwiZW5xdWV1ZVdlaWdodHNGb3JGZXRjaGluZ0ZuIiwibWFuaWZlc3RFbnRyeSIsInNpemVCeXRlcyIsIndlaWdodE5hbWUiLCJ3ZWlnaHRJbmRleCIsImZvdW5kIiwid2VpZ2h0c05vdEZvdW5kIiwiZ3JvdXBJbmRpY2VzVG9GZXRjaCIsImFjY3VtdWxhdG9yIiwic2hvdWxkRmV0Y2giLCJmZXRjaFVybHMiLCJmaWxlcGF0aCIsImZldGNoVXJsIiwid2VpZ2h0c1RlbnNvck1hcCIsImJ1ZmZlckluZGV4T2Zmc2V0IiwibnVtQnVmZmVycyIsImdyb3VwQnl0ZXMiLCJncm91cEJ1ZmZlciIsImdyb3VwQnl0ZUJ1ZmZlciIsImdyb3VwQnVmZmVyT2Zmc2V0IiwiaV8yIiwibmFtZVRvVGVuc29yTWFwIiwiYnJvd3NlckRvd25sb2FkcyIsIndlaWdodFBhdGhQcmVmaXgiLCJ3ZWlnaHRVcmxDb252ZXJ0ZXIiLCJib2R5IiwiSFRUUFJlcXVlc3QiLCJERUZBVUxUX01FVEhPRCIsIkZvcm1EYXRhIiwiYXBwZW5kIiwib2siLCJyZXNwb25zZXMiLCJzdGF0dXMiLCJtb2RlbENvbmZpZ1JlcXVlc3QiLCJqc29uIiwibW9kZWxDb25maWciLCJsb2FkV2VpZ2h0cyIsInJlc3VsdHMiLCJhcnRpZmFjdHMiLCJpbml0aWFsaXplciIsIm1vZGVsSW5pdGlhbGl6ZXIiLCJ3ZWlnaHRQYXRoIiwibGFzdFNsYXNoIiwibGFzdEluZGV4T2YiLCJsYXN0U2VhcmNoUGFyYW0iLCJwYXJzZVVybCIsInBhdGhQcmVmaXgiLCJ3ZWlnaHRzTWFuaWZlc3RfMSIsImVudHJ5IiwidXJsUHJvbWlzZXMiLCJ3ZWlnaHRzTWFuaWZlc3RfMiIsIl9mIiwiX2giLCJpc0hUVFBTY2hlbWUiLCJtYXRjaCIsIlVSTF9TQ0hFTUVfUkVHRVgiLCJodHRwUm91dGVyIiwidXJsSXRlbSIsImh0dHAiLCJQYXNzdGhyb3VnaExvYWRlciIsIlBhc3N0aHJvdWdoU2F2ZXIiLCJncm91cCIsImRhdGFQcm9taXNlcyIsIm5hbWVzIiwidXRmOGJ5dGVzIiwidG90YWxOdW1CeXRlcyIsInAiLCJieXRlc09mTGVuZ3RoIiwidHJhaW5pbmdDb25maWciLCJhcmd1bWVudHMiLCJpc01vZGVsQXJ0aWZhY3RzIiwibG91ZFJvdXRlciIsInNjaGVtZXMiLCJzY2hlbWVzXzEiLCJsaXN0TW9kZWxzIiwic2NoZW1lT3V0Iiwic2NoZW1lQW5kUGF0aCIsInJlc2hhcGUiLCJyZXNoYXBlXyIsInV0aWwuaW5mZXJGcm9tSW1wbGljaXRTaGFwZSIsIm1hdE11bCIsIm1hdE11bF8iLCIkYSIsIiRiIiwiaW5uZXJTaGFwZUEiLCJpbm5lclNoYXBlQiIsIm91dGVyU2hhcGVBIiwib3V0ZXJTaGFwZUIiLCJvdXRlckRpbXNBIiwib3V0ZXJEaW1zQiIsImJhdGNoRGltQSIsImJhdGNoRGltQiIsIm91dFNoYXBlIiwiYTNEIiwiYjNEIiwiYmF0Y2hNYXRNdWwiLCJvbmVIb3QiLCJvbmVIb3RfIiwiJGluZGljZXMiLCJ0cmFuc3Bvc2UiLCJ0cmFuc3Bvc2VfIiwiZnJvbVBpeGVsczJEQ29udGV4dCIsImNvbmZ1c2lvbk1hdHJpeF8iLCJsYWJlbHMiLCJwcmVkaWN0aW9ucyIsIm51bUNsYXNzZXMiLCIkbGFiZWxzIiwiJHByZWRpY3Rpb25zIiwib25lSG90TGFiZWxzIiwib25lSG90UHJlZGljdGlvbnMiLCJvbmVIb3RMYWJlbHNUIiwidGVuc29yM2QiLCJpbWciLCJjYW52YXMiLCIkaW1nIiwib3JpZ2luYWxJbWdUZW5zb3IiLCJoZWlnaHQiLCJtdWx0aXBsaWVyIiwiVWludDhDbGFtcGVkQXJyYXkiLCJyZ2JhIiwiY3R4IiwiZ2V0Q29udGV4dCIsImltYWdlRGF0YSIsIkltYWdlRGF0YSIsInB1dEltYWdlRGF0YSIsImZyb21QaXhlbHNfIiwicGl4ZWxzIiwibnVtQ2hhbm5lbHMiLCJpc1BpeGVsRGF0YSIsImlzSW1hZ2VEYXRhIiwiaXNWaWRlbyIsImlzSW1hZ2UiLCJpc0NhbnZhc0xpa2UiLCJIVE1MVmlkZW9FbGVtZW50IiwiSFRNTEltYWdlRWxlbWVudCIsInJlYWR5U3RhdGUiLCJydW5LZXJuZWwiLCJnZXRJbWFnZURhdGEiLCJkcmF3SW1hZ2UiLCJudW1QaXhlbHMiLCJjaGFubmVsIiwicHJlcGFyZUFuZFZhbGlkYXRlIiwiaW5kaWNlc1NoYXBlIiwic2xpY2VSYW5rIiwiblJlc3VsdCIsInJlc3VsdFNoYXBlIiwic2xpY2VTaXplIiwidmFsaWRhdGVVcGRhdGVTaGFwZSIsInNsaWNlRGltIiwiYmF0Y2hEaW0iLCJzaGFwZUVycm9yIiwidmFsaWRhdGVJbnB1dCIsImNhbGN1bGF0ZVNoYXBlcyIsImluZGljZXNSYW5rIiwidG90YWxOZCIsInNhZmVTbGljZURpbSIsIm51bVVwZGF0ZXMiLCJvdXRwdXRTaXplIiwiYXNzZXJ0UGFyYW1zVmFsaWQiLCJtYXNrVG9BeGVzIiwibWFzayIsImNvbXB1dGVPdXRTaGFwZSIsInN0cmlkZXNXaXRoRWxpZGVkRGltcyIsImVsbGlwc2lzSW5zZXJ0aW9uSW5kZXgiLCJudW1FbGlkZWRBeGVzIiwibmV3U3RyaWRlcyIsInNwbGljZSIsInVubm9ybWFsaXplQXhpcyIsIm5vcm1hbGl6ZWRBeGlzIiwiZ2V0RWxpZGVkQXhlcyIsImVsaWRlZEF4ZXMiLCJnZXROb3JtYWxpemVkQXhlcyIsImVsbGlwc2lzQXhlcyIsIm51bUludGVycG9sYXRlZEF4ZXMiLCJiZWdpbk1hc2siLCJlbmRNYXNrIiwiZWxsaXBzaXNNYXNrIiwibm9ybWFsaXplZEJlZ2luIiwibm9ybWFsaXplZEVuZCIsIm5vcm1hbGl6ZWRTdHJpZGVzIiwiZnVsbEluZGV4Iiwic3RhcnRJbmRpY2VzV2l0aEVsaWRlZERpbXMiLCJzdG9wSW5kaWNlc1dpdGhFbGlkZWREaW1zIiwic3RhcnRGb3JBeGlzIiwic3RvcEZvckF4aXMiLCJzdHJpZGVzRm9yQXhpcyIsIm9yaWdpbmFsQmVnaW4iLCJuZXdJbmRpY2VzIiwib3JpZ2luYWxBeGlzIiwib3JpZ2luYWxWYWx1ZSIsIm9yaWdpbmFsRW5kIiwiTUFYX1NBRkVfSU5URUdFUiIsImF4aXNTaXplIiwidXRpbC5jbGFtcCIsInN0YXJ0SW5kaWNlcyIsIk1JTl9TQUZFX0lOVEVHRVIiLCJzdG9wSW5kaWNlcyIsInBhcnNlU2xpY2VQYXJhbXMiLCJiZWdpbl8iLCJzaXplXyIsInhSYW5rIiwiZmlyc3ROb25PbmVBeGlzIiwiZmxhdE9mZnNldCIsIlNlcmlhbGl6YWJsZSIsImNsYXNzTmFtZSIsImNscyIsImNsYXNzTmFtZU1hcCIsIlNlcmlhbGl6YXRpb25NYXAiLCJnZXRNYXAiLCJmcm9tQ29uZmlnIiwicmVnaXN0ZXJDbGFzcyIsInJlZ2lzdGVyIiwidGVzdEVwc2lsb24iLCJleHBlY3RBcnJheXNQcmVkaWNhdGUiLCJhY3R1YWwiLCJleHBlY3RlZCIsInByZWRpY2F0ZSIsImNoZWNrQ2xhc3NUeXBlIiwiYVR5cGUiLCJiVHlwZSIsImFjdHVhbFNoYXBlIiwiZXhwZWN0ZWRTaGFwZSIsImFjdHVhbEZsYXQiLCJleHBlY3RlZEZsYXQiLCJhcmVDbG9zZSIsImVwc2lsb24iLCJhYnMiLCJmYWlsIiwibG93IiwiaGlnaCIsImV4cGVjdCIsInRvRXF1YWwiLCJkZXByZWNhdGlvbldhcm4iLCJhZGRfIiwiZmxvb3JEaXYiLCJmbG9vckRpdl8iLCJkaXYiLCJkaXZfIiwicmVhbERpdmlkZSIsIm11bCIsIm11bF8iLCJtdWx0aXBseSIsImFic18iLCJjb21wbGV4QWJzIiwiYWNvcyIsImFjb3NfIiwiYWNvc2giLCJhY29zaF8iLCJhZGROIiwiYWRkTl8iLCIkdGVuc29ycyIsImZpcnN0VGVuc29yIiwiYXhlc0FyZUlubmVyTW9zdERpbXMiLCJjb21iaW5lTG9jYXRpb25zIiwib3V0cHV0TG9jIiwicmVkdWNlTG9jIiwib3V0SWR4IiwicmVkdWNlSWR4IiwiY29tcHV0ZU91dEFuZFJlZHVjZVNoYXBlcyIsImFTaGFwZSIsImV4cGFuZFNoYXBlVG9LZWVwRGltIiwiZ2V0QXhlc1Blcm11dGF0aW9uIiwiZ2V0VW5kb0F4ZXNQZXJtdXRhdGlvbiIsImdldElubmVyTW9zdEF4ZXMiLCJudW1BeGVzIiwiYWxsXyIsImtlZXBEaW1zIiwib3JpZ0F4ZXMiLCJwZXJtdXRlZEF4ZXMiLCJhbnkiLCJhbnlfIiwiYXJnTWF4IiwiYXJnTWF4XyIsInV0aWwucGFyc2VBeGlzUGFyYW0iLCJheGlzX3V0aWwuZ2V0QXhlc1Blcm11dGF0aW9uIiwiYXhpc191dGlsLmdldElubmVyTW9zdEF4ZXMiLCJhcmdNaW4iLCJhcmdNaW5fIiwiYXNpbiIsImFzaW5fIiwiYXNpbmgiLCJhc2luaF8iLCJhdGFuIiwiYXRhbl8iLCJhdGFuMiIsImF0YW4yXyIsImF0YW5oIiwiYXRhbmhfIiwiY29tcHV0ZVBvb2wyREluZm8iLCJpblNoYXBlIiwiZmlsdGVyU2l6ZSIsImRpbGF0aW9ucyIsInJvdW5kaW5nTW9kZSIsImZpbHRlclNoYXBlIiwiZmlsdGVySGVpZ2h0IiwiZmlsdGVyV2lkdGgiLCJjb21wdXRlQ29udjJESW5mbyIsImNvbXB1dGVQb29sM0RJbmZvIiwiJGRhdGFGb3JtYXQiLCJmaWx0ZXJEZXB0aCIsImNvbXB1dGVDb252M0RJbmZvIiwiZGVwdGh3aXNlIiwiYmF0Y2hTaXplIiwiaW5IZWlnaHQiLCJpbldpZHRoIiwiaW5DaGFubmVscyIsImZpbHRlckNoYW5uZWxzIiwic3RyaWRlSGVpZ2h0Iiwic3RyaWRlV2lkdGgiLCJkaWxhdGlvbkhlaWdodCIsImRpbGF0aW9uV2lkdGgiLCJlZmZlY3RpdmVGaWx0ZXJIZWlnaHQiLCJnZXRFZmZlY3RpdmVGaWx0ZXJTaXplIiwiZWZmZWN0aXZlRmlsdGVyV2lkdGgiLCJwYWRJbmZvIiwib3V0SGVpZ2h0Iiwib3V0V2lkdGgiLCJ0b3AiLCJib3R0b20iLCJsZWZ0IiwicmlnaHQiLCJmaWVsZFNpemUiLCJ6ZXJvUGFkIiwiY29tcHV0ZURlZmF1bHRQYWQiLCJpbnB1dFJvd3MiLCJpbnB1dENvbHMiLCJvdXRwdXRSb3dzIiwiY29uZGl0aW9uYWxSb3VuZCIsInV0aWwuaXNJbnQiLCJvdXRwdXRDb2xzIiwiY29tcHV0ZU91dHB1dFNoYXBlMkQiLCJwYWRBbG9uZ0hlaWdodCIsInBhZEFsb25nV2lkdGgiLCJ0b3BfMSIsInRvcF8yIiwib3V0Q2hhbm5lbHMiLCJpbkRlcHRoIiwic3RyaWRlRGVwdGgiLCJkaWxhdGlvbkRlcHRoIiwiZWZmZWN0aXZlRmlsdGVyRGVwdGgiLCJvdXREZXB0aCIsImZyb250IiwiYmFjayIsImlucHV0RGVwdGgiLCJvdXRwdXREZXB0aHMiLCJjb21wdXRlT3V0cHV0U2hhcGU0RCIsInBhZEFsb25nRGVwdGgiLCJ0b3BfMyIsImRpbGF0aW9uIiwiZWZmZWN0aXZlRmllbGRTaXplIiwicGFyc2VUdXBsZVBhcmFtIiwicGFyYW0iLCJwYXJzZTNUdXBsZVBhcmFtIiwidHVwbGVWYWx1ZXNBcmVPbmUiLCJkaW1BIiwiZGltQiIsImRpbUMiLCJlaXRoZXJTdHJpZGVzT3JEaWxhdGlvbnNBcmVPbmUiLCJjb252ZXJ0Q29udjJERGF0YUZvcm1hdCIsImF2Z1Bvb2wiLCJhdmdQb29sXyIsImRpbVJvdW5kaW5nTW9kZSIsImNvbnZfdXRpbC5laXRoZXJTdHJpZGVzT3JEaWxhdGlvbnNBcmVPbmUiLCJ4NEQiLCJyZXNoYXBlZFRvNEQiLCJjb252X3V0aWwuY29tcHV0ZVBvb2wyREluZm8iLCJhdmdQb29sM2QiLCJhdmdQb29sM2RfIiwieDVEIiwicmVzaGFwZWRUbzVEIiwiY29udl91dGlsLmNvbXB1dGVQb29sM0RJbmZvIiwiYXNzZXJ0UGFyYW1zQ29uc2lzdGVudCIsInNoYXBlcyIsImZpcnN0U2hhcGUiLCJjb25jYXRfIiwiYXR0ciIsIiRheGlzIiwic2lnbW9pZCIsInNpZ21vaWRfIiwic2xpY2VfIiwic2xpY2VfdXRpbC5hc3NlcnRQYXJhbXNWYWxpZCIsInRhbmhfIiwiYmFzaWNMU1RNQ2VsbCIsImJhc2ljTFNUTUNlbGxfIiwiZm9yZ2V0QmlhcyIsImxzdG1LZXJuZWwiLCJsc3RtQmlhcyIsImgiLCIkZm9yZ2V0QmlhcyIsIiRsc3RtS2VybmVsIiwiJGxzdG1CaWFzIiwiJGRhdGEiLCIkYyIsIiRoIiwiY29tYmluZWQiLCJ3ZWlnaHRlZCIsInNsaWNlQ29scyIsIm5ld0MiLCJiYXRjaFRvU3BhY2VORCIsImJhdGNoVG9TcGFjZU5EXyIsInByb2QiLCJhczFET3I0RCIsImJhdGNoTm9ybSIsImJhdGNoTm9ybV8iLCIkc2NhbGUiLCIkb2Zmc2V0IiwiJG1lYW4iLCIkdmFyaWFuY2UiLCJ4QXM0RCIsImJhdGNoTm9ybTJkIiwiYmF0Y2hOb3JtMmRfIiwiYmF0Y2hOb3JtM2QiLCJiYXRjaE5vcm0zZF8iLCJiYXRjaE5vcm00ZCIsImJhdGNoTm9ybTRkXyIsImJyb2FkY2FzdFRvIiwiYnJvYWRjYXN0VG9fIiwieFNoYXBlIiwidW5zaGlmdCIsInRpbGUiLCJjZWlsXyIsImNsaXBCeVZhbHVlIiwiY2xpcEJ5VmFsdWVfIiwiY2xpcFZhbHVlTWluIiwiY2xpcFZhbHVlTWF4IiwiY2xpcCIsImNvbmNhdDFkIiwiY29uY2F0MWRfIiwiY29uY2F0MmQiLCJjb25jYXQyZF8iLCJjb25jYXQzZCIsImNvbmNhdDNkXyIsImNvbmNhdDRkIiwiY29uY2F0NGRfIiwiY29udjJkIiwiY29udjJkXyIsIiRmaWx0ZXIiLCJjb252X3V0aWwuY29udmVydENvbnYyRERhdGFGb3JtYXQiLCJjb252X3V0aWwuY29tcHV0ZUNvbnYyREluZm8iLCJjb252MWQiLCJjb252MWRfIiwieDNEIiwicmVzaGFwZWRUbzNEIiwiZmlsdGVyNEQiLCJpbnB1dDREIiwiY29udjJEQmFja3Byb3BJbnB1dCIsImNvbnYyREJhY2twcm9wSW5wdXRfIiwieFNoYXBlNEQiLCJkeTREIiwiY29udjJkRGVySW5wdXQiLCJjb252MmRUcmFuc3Bvc2UiLCJjb252MmRUcmFuc3Bvc2VfIiwiY29udjNkIiwiY29udjNkXyIsImNvbnZfdXRpbC5jb21wdXRlQ29udjNESW5mbyIsImNvbnYzREJhY2twcm9wSW5wdXQiLCJjb252M0RCYWNrcHJvcElucHV0XyIsInhTaGFwZTVEIiwiZHk1RCIsImNvbnYzZERlcklucHV0IiwiY29udjNkVHJhbnNwb3NlIiwiY29udjNkVHJhbnNwb3NlXyIsImNvcyIsImNvc18iLCJjb3NoIiwiY29zaF8iLCJjdW1zdW0iLCJjdW1zdW1fIiwicGVybXV0YXRpb24iLCJwZXJtdXRlZFgiLCJwZXJtdXRlZEF4aXMiLCJyZXZlcnNlUGVybXV0YXRpb24iLCJkZXB0aFRvU3BhY2UiLCJkZXB0aFRvU3BhY2VfIiwiaW5wdXRIZWlnaHQiLCJpbnB1dFdpZHRoIiwiZGVwdGh3aXNlQ29udjJkIiwiZGVwdGh3aXNlQ29udjJkXyIsImRlcHRod2lzZUNvbnYyRCIsImRpYWciLCJkaWFnXyIsImZsYXQiLCJkaWxhdGlvbjJkIiwiZGlsYXRpb24yZF8iLCJnZXRSZWR1Y3Rpb25BeGVzIiwiaW5EaW0iLCJvdXRBeGlzIiwib3V0RGltIiwiYXNzZXJ0QW5kR2V0QnJvYWRjYXN0U2hhcGUiLCJlcXVhbCIsImVxdWFsXyIsIndoZXJlIiwid2hlcmVfIiwiJGNvbmRpdGlvbiIsImJyb2FkY2FzdFNoYXBlIiwiJGJyb2FkY2FzdGVkQSIsIiRicm9hZGNhc3RlZEIiLCJzZWxlY3QiLCJ6ZXJvc0xpa2UiLCJ6ZXJvc0xpa2VfIiwiZGl2Tm9OYW4iLCJkaXZOb05hbl8iLCJkaXZSZXN1bHQiLCJ6ZXJvcyIsImJFcXVhbHNaZXJvIiwiZG90IiwiZG90XyIsInQxIiwidDIiLCIkdDEiLCIkdDIiLCJ0MUlubmVyIiwidDJJbm5lciIsInQxMkQiLCJ0MjJEIiwidDF0MiIsImVsdSIsImVsdV8iLCJlcmYiLCJlcmZfIiwiZXhwXyIsImV4cGFuZERpbXMiLCJleHBhbmREaW1zXyIsImV4cG0xIiwiZXhwbTFfIiwidGlsZV8iLCJleWUiLCJleWVfIiwibnVtUm93cyIsIm51bUNvbHVtbnMiLCJiYXRjaFNoYXBlIiwiYnVmZiIsInRvVGVuc29yIiwiZmxvb3JfIiwiY29sbGVjdEdhdGhlck9wU2hhcGVJbmZvIiwiaW5TaXplIiwiZ2F0aGVyIiwiZ2F0aGVyXyIsInBhcnNlZEF4aXMiLCJzaGFwZUluZm8iLCJncmVhdGVyIiwiZ3JlYXRlcl8iLCJncmVhdGVyRXF1YWwiLCJncmVhdGVyRXF1YWxfIiwiaW1hZ18iLCIkaW5wdXQiLCJpc0Zpbml0ZV8iLCJpc0luZiIsImlzSW5mXyIsImlzTmFOXyIsIm1heGltdW0iLCJtYXhpbXVtXyIsInNjYWxhciIsImxlYWt5UmVsdSIsImxlYWt5UmVsdV8iLCJsZXNzIiwibGVzc18iLCJsZXNzRXF1YWwiLCJsZXNzRXF1YWxfIiwibG9jYWxSZXNwb25zZU5vcm1hbGl6YXRpb24iLCJsb2NhbFJlc3BvbnNlTm9ybWFsaXphdGlvbl8iLCJkZXB0aFJhZGl1cyIsImxvY2FsUmVzcG9uc2VOb3JtYWxpemF0aW9uNEQiLCJsb2dfIiwibG9nMXAiLCJsb2cxcF8iLCJ2YXJpYWJsZUdyYWRzIiwidmFyTGlzdCIsInNwZWNpZmllZFZhckxpc3QiLCJzcGVjaWZpZWROb25UcmFpbmFibGUiLCJ2YXJpYWJsZSIsIm9yaWdpbmFsVmFyQ291bnQiLCJnIiwibmFtZWRHcmFkcyIsImN1c3RvbUdyYWQiLCJjaGVja0dyYWRzIiwibmVnIiwibmVnXyIsInNvZnRwbHVzIiwic29mdHBsdXNfIiwibG9nU2lnbW9pZCIsImxvZ1NpZ21vaWRfIiwiY3VzdG9tT3AiLCJtYXhfIiwicmVkdWN0aW9uSW5kaWNlcyIsIm1heElucHV0IiwiZXhwYW5kZWRTaGFwZSIsImF4aXNfdXRpbC5leHBhbmRTaGFwZVRvS2VlcERpbSIsInN1YiIsInN1Yl8iLCJzdWJ0cmFjdCIsInN1bV8iLCJyZWR1Y3Rpb25BeGVzIiwibG9nU29mdG1heCIsImxvZ1NvZnRtYXhfIiwiJGxvZ2l0cyIsInhNYXgiLCJzaGlmdGVkIiwibG9nU3VtRXhwIiwibG9nU3VtRXhwXyIsImxvZ2ljYWxBbmQiLCJsb2dpY2FsQW5kXyIsImxvZ2ljYWxOb3QiLCJsb2dpY2FsTm90XyIsImxvZ2ljYWxPciIsImxvZ2ljYWxPcl8iLCJsb2dpY2FsWG9yIiwibG9naWNhbFhvcl8iLCJtYXhQb29sIiwibWF4UG9vbF8iLCJtYXhQb29sM2QiLCJtYXhQb29sM2RfIiwibWF4UG9vbFdpdGhBcmdtYXgiLCJtYXhQb29sV2l0aEFyZ21heF8iLCJpbmNsdWRlQmF0Y2hJbkluZGV4IiwiaW5kZXhlcyIsIm9uZXMiLCJtZWFuXyIsInJlZHVjZVNpemUiLCJyZWR1Y2VTaXplU2NhbGFyIiwieFJlZHVjZSIsImV4cGFuZGVkRHlTaGFwZSIsImV4cGFuZGVkRHkiLCJtaW5fIiwibWluSW5wdXQiLCJtaW5pbXVtIiwibWluaW11bV8iLCJtb2QiLCJtb2RfIiwic3F1YXJlIiwic3F1YXJlXyIsIm1vbWVudHMiLCJtb21lbnRzXyIsInhNZWFuIiwia2VlcERpbXNTaGFwZSIsImRldlNxdWFyZWQiLCJtdWx0aVJOTkNlbGwiLCJtdWx0aVJOTkNlbGxfIiwibHN0bUNlbGxzIiwibmV3U3RhdGVzIiwibmV3SCIsIm11bHRpbm9taWFsIiwibXVsdGlub21pYWxfIiwibnVtT3V0Y29tZXMiLCJvcmlnUmFuayIsImxvZ2l0czJEIiwibm90RXF1YWwiLCJub3RFcXVhbF8iLCJyZWFsXyIsIm9uZXNMaWtlIiwib25lc0xpa2VfIiwib3V0ZXJQcm9kdWN0Iiwib3V0ZXJQcm9kdWN0XyIsInYxIiwidjIiLCIkdjEiLCIkdjIiLCJ2MTJEIiwidjIyRCIsInBhZF8iLCJwYWQxZCIsInBhZDFkXyIsInBhZDJkIiwicGFkMmRfIiwicGFkM2QiLCJwYWQzZF8iLCJwYWQ0ZCIsInBhZDRkXyIsInNwYWNlVG9CYXRjaE5EIiwic3BhY2VUb0JhdGNoTkRfIiwicG9vbCIsInBvb2xfIiwid2luZG93U2hhcGUiLCJwb29saW5nVHlwZSIsImJhc2VQYWRkaW5nIiwicGFkRXh0cmFTaGFwZSIsInBhZEV4dHJhU3RhcnQiLCJwYWRFeHRyYUVuZCIsIndpdGhTcGFjZVRvQmF0Y2hCYXNlUGFkZGluZ3MiLCJpc0RpbGF0aW9uT25lIiwicGFkU3RhcnQiLCJvcmlnUGFkRW5kIiwiZnVsbElucHV0U2hhcGUiLCJwYWRFbmRFeHRyYSIsInBhZEVuZCIsImFkanVzdGVkUGFkZGluZyIsImFkanVzdGVkQ3JvcHMiLCJjb252ZXJ0ZWRQYWQiLCJjb252ZXJ0ZWRYIiwicG93IiwicG93XyIsImJhc2UiLCIkYmFzZSIsIiRleHAiLCJwcmVsdSIsInByZWx1XyIsIiRhbHBoYSIsInByb2RfIiwicmFuZCIsInJhbmRfIiwicmFuZEZ1bmN0aW9uIiwibW9kdWxlIiwiZGVmaW5lIiwiQWxlYSIsIm1lIiwibWFzaCIsIm5leHQiLCJzMCIsInMxIiwiczIiLCJjb3B5IiwiaW1wbCIsIm9wdHMiLCJ4ZyIsInBybmciLCJkb3VibGUiLCJxdWljayIsImV4cG9ydHMiLCJhbWQiLCJhbGVhIiwiWG9yR2VuIiwic3Ryc2VlZCIsInoiLCJ3IiwieG9yMTI4IiwieG9yd293IiwiWCIsInhvcnNoaWZ0NyIsImxpbWl0IiwieG9yNDA5NiIsInR5Y2hlaSIsIm1hdGgiLCJub2RlY3J5cHRvIiwic3RhcnRkZW5vbSIsInNpZ25pZmljYW5jZSIsIm92ZXJmbG93Iiwic2VlZHJhbmRvbSIsIm9wdGlvbnMiLCJjYWxsYmFjayIsInNob3J0c2VlZCIsIm1peGtleSIsInByb3AiLCJ0eXAiLCJlbnRyb3B5IiwidG9zdHJpbmciLCJyYW5kb21CeXRlcyIsImNyeXB0byIsIm1zQ3J5cHRvIiwiZ2V0UmFuZG9tVmFsdWVzIiwiYnJvd3NlciIsInBsdWdpbnMiLCJzY3JlZW4iLCJhdXRvc2VlZCIsImFyYzQiLCJBUkM0IiwiUyIsInBhc3MiLCJpc19tYXRoX2NhbGwiLCJrZXlsZW4iLCJjb3VudCIsInNtZWFyIiwic3RyaW5nc2VlZCIsInNyIiwic3RkRGV2aWF0aW9uIiwidHJ1bmNhdGVkIiwic3RkRGV2IiwibmV4dFZhbCIsIk5hTiIsInVwcGVyIiwibG93ZXIiLCJzZWVkVmFsdWUiLCJzZWVkcmFuZG9tLmFsZWEiLCJNUFJhbmRHYXVzcyIsInJlc3VsdFgiLCJyZXN1bHRZIiwiaXNWYWxpZCIsImlzVmFsaWRUcnVuY2F0ZWQiLCJjb252ZXJ0VmFsdWUiLCJyYW5kdSIsInJhbmRuIiwiUmFuZEdhbW1hIiwieDIiLCJ2MCIsInUiLCJuZXh0VmFsdWUiLCJyYW5nZSIsImNhblJldHVybkZsb2F0IiwiVW5pZm9ybVJhbmRvbSIsInJhbmRvbUdhbW1hIiwicmFuZG9tR2FtbWFfIiwicmdhbW1hIiwicmFuZG9tTm9ybWFsIiwicmFuZG9tTm9ybWFsXyIsInJhbmRHYXVzcyIsInJhbmRvbVVuaWZvcm0iLCJyYW5kb21Vbmlmb3JtXyIsIm1pbnZhbCIsIm1heHZhbCIsInRlbnNvcjFkIiwic3RlcCIsInJlY2lwcm9jYWwiLCJyZWNpcHJvY2FsXyIsInJlbHUiLCJyZWx1XyIsInJlbHU2IiwicmVsdTZfIiwicmV2ZXJzZV8iLCJkaW1zIiwicmV2ZXJzZTFkIiwicmV2ZXJzZTFkXyIsInJldmVyc2UyZCIsInJldmVyc2UyZF8iLCJyZXZlcnNlM2QiLCJyZXZlcnNlM2RfIiwicmV2ZXJzZTRkIiwicmV2ZXJzZTRkXyIsInJvdW5kXyIsInJzcXJ0IiwicnNxcnRfIiwic2VsdSIsInNlbHVfIiwic2VwYXJhYmxlQ29udjJkIiwic2VwYXJhYmxlQ29udjJkXyIsImRlcHRod2lzZUZpbHRlciIsInBvaW50d2lzZUZpbHRlciIsIiRkZXB0aHdpc2VGaWx0ZXIiLCIkcG9pbnR3aXNlRmlsdGVyIiwiY2hhbm5lbE11bHRpcGxpZXIiLCJzZXRkaWZmMWRBc3luYyIsIiR5IiwieFZhbHMiLCJ5VmFscyIsInlTZXQiLCJzaWduIiwic2lnbl8iLCJzaW4iLCJzaW5fIiwic2luaCIsInNpbmhfIiwic2xpY2UxZCIsInNsaWNlMWRfIiwic2xpY2UyZCIsInNsaWNlMmRfIiwic2xpY2UzZCIsInNsaWNlM2RfIiwic2xpY2U0ZCIsInNsaWNlNGRfIiwic29mdG1heCIsInNvZnRtYXhfIiwiZmZ0IiwiZmZ0XyIsImlubmVyRGltZW5zaW9uU2l6ZSIsImJhdGNoIiwiaW5wdXQyRCIsImFzMkQiLCJpZmZ0IiwiaWZmdF8iLCJpcmZmdCIsImlyZmZ0XyIsImNvbXBsZXhJbnB1dCIsInJlYWxJbnB1dCIsImltYWdJbnB1dCIsInJlYWxDb25qdWdhdGUiLCJpbWFnQ29uanVnYXRlIiwiYmF0Y2hfMSIsInByZXBhcmVTcGxpdFNpemUiLCJudW1PclNpemVTcGxpdHMiLCJzcGxpdFNpemVzIiwibmVnSW5kZXgiLCJ0b3RhbCIsInNwbGl0XyIsInJmZnQiLCJyZmZ0XyIsImZmdExlbmd0aCIsImFkanVzdGVkSW5wdXQiLCJ6ZXJvc1NoYXBlIiwiemVyb3NJbnB1dCIsImhhbGYiLCJyZWFsVmFsdWVzIiwiaW1hZ1ZhbHVlcyIsInJlYWxDb21wbGV4Q29uanVnYXRlIiwiaW1hZ0NvbXBsZXhDb25qdWdhdGUiLCJzcXJ0XyIsInNxdWFyZWREaWZmZXJlbmNlIiwic3F1YXJlZERpZmZlcmVuY2VfIiwic3F1ZWV6ZSIsInNxdWVlemVfIiwic3RhY2tfIiwiZXhwYW5kZWRUZW5zb3JzIiwic3RlcF8iLCJzdHJpZGVkU2xpY2UiLCJzdHJpZGVkU2xpY2VfIiwibmV3QXhpc01hc2siLCJzaHJpbmtBeGlzTWFzayIsImV4cGFuZEF4ZXMiLCJzaHJpbmtBeGVzIiwidGFuIiwidGFuXyIsInRlbnNvcjJkIiwidG9wayIsInRvcGtfIiwibGFzdERpbSIsInRydW5jYXRlZE5vcm1hbCIsInRydW5jYXRlZE5vcm1hbF8iLCJ1bmlxdWUiLCJ1bmlxdWVfIiwidW5zb3J0ZWRTZWdtZW50U3VtIiwidW5zb3J0ZWRTZWdtZW50U3VtXyIsIiRzZWdtZW50SWRzIiwidW5zdGFjayIsInVuc3RhY2tfIiwid2hlcmVJbXBsIiwiY29uZFNoYXBlIiwiY29uZFZhbHMiLCJpbkJ1ZmZlciIsImluZGV4VG9Mb2MiLCJ3aGVyZUFzeW5jIiwiYm9vbGVhbk1hc2tBc3luYyIsIiR0ZW5zb3IiLCIkbWFzayIsImF4aXNGcm9tIiwibWFza0RpbSIsInRlbnNvclNoYXBlIiwibGVhZGluZ1NpemUiLCJ0YXJnZXRUZW5zb3JTaGFwZSIsInJlc2hhcGVkVGVuc29yIiwicmVzaGFwZWRNYXNrIiwicG9zaXRpdmVQb3NpdGlvbnMiLCJlcXVhbFN0cmljdCIsImVxdWFsU3RyaWN0XyIsImdyZWF0ZXJFcXVhbFN0cmljdCIsImdyZWF0ZXJFcXVhbFN0cmljdF8iLCJncmVhdGVyU3RyaWN0IiwiZ3JlYXRlclN0cmljdF8iLCJsZXNzRXF1YWxTdHJpY3QiLCJsZXNzRXF1YWxTdHJpY3RfIiwibGVzc1N0cmljdCIsImxlc3NTdHJpY3RfIiwibm90RXF1YWxTdHJpY3QiLCJub3RFcXVhbFN0cmljdF8iLCJhZGRTdHJpY3QiLCJhZGRTdHJpY3RfIiwiZGl2U3RyaWN0IiwiZGl2U3RyaWN0XyIsIm1heGltdW1TdHJpY3QiLCJtYXhpbXVtU3RyaWN0XyIsIm1pbmltdW1TdHJpY3QiLCJtaW5pbXVtU3RyaWN0XyIsIm1vZFN0cmljdCIsIm1vZFN0cmljdF8iLCJtdWxTdHJpY3QiLCJtdWxTdHJpY3RfIiwicG93U3RyaWN0IiwicG93U3RyaWN0XyIsInNxdWFyZWREaWZmZXJlbmNlU3RyaWN0Iiwic3F1YXJlZERpZmZlcmVuY2VTdHJpY3RfIiwic3ViU3RyaWN0Iiwic3ViU3RyaWN0XyIsIm5vcm0iLCJub3JtXyIsIm9yZCIsIm5vcm1JbXBsIiwibW92aW5nQXZlcmFnZSIsIm1vdmluZ0F2ZXJhZ2VfIiwiZGVjYXkiLCJ6ZXJvRGViaWFzIiwiJHYiLCIkZGVjYXkiLCJvbmUiLCJvbmVNaW51c0RlY2F5IiwidXBkYXRlIiwiJHN0ZXAiLCJzY2F0dGVyTkQiLCJzY2F0dGVyTkRfIiwiJHVwZGF0ZXMiLCJzY2F0dGVyX25kX3V0aWwudmFsaWRhdGVJbnB1dCIsInNwYXJzZVRvRGVuc2UiLCJzcGFyc2VUb0RlbnNlXyIsIiRzcGFyc2VJbmRpY2VzIiwiJHNwYXJzZVZhbHVlcyIsIiRkZWZhdWx0VmFsdWUiLCJkZWZhdWx0VmFsdWVzIiwibnVtRWxlbXMiLCJudW1EaW1zIiwibnVtVmFsdWVzIiwic3BhcnNlX3RvX2RlbnNlLnZhbGlkYXRlSW5wdXQiLCJnYXRoZXJORCIsImdhdGhlck5EXyIsImRyb3BvdXQiLCJkcm9wb3V0XyIsInJhdGUiLCJub2lzZVNoYXBlIiwiJG5vaXNlU2hhcGUiLCJuZXdEaW1lbnNpb24iLCJnZXROb2lzZVNoYXBlIiwia2VlcFByb2IiLCJlbmNsb3NpbmdQb3dlck9mVHdvIiwiY29zaW5lV2luZG93Iiwid2luZG93TGVuZ3RoIiwiZXZlbiIsIm5ld1ZhbHVlcyIsImNvc0FyZyIsIlBJIiwiaW5Ub3BLQXN5bmMiLCJ0YXJnZXRzIiwiJHRhcmdldHMiLCJwcmVkaWN0aW9uc1ZhbHMiLCJ0YXJnZXRzVmFscyIsInByZWNpc2lvbiIsInN1YmFycmF5IiwidmFsQW5kSW5kIiwiY29udjJEQmFja3Byb3BGaWx0ZXIiLCJjb252MkRCYWNrcHJvcEZpbHRlcl8iLCJjb252MmREZXJGaWx0ZXIiLCJnZXRGdXNlZER5QWN0aXZhdGlvbiIsImFjdGl2YXRpb24iLCJnZXRGdXNlZEJpYXNHcmFkaWVudCIsImR5QWN0aXZhdGlvbiIsInJlZHVjZUF4ZXMiLCJicm9hZGNhc3RfdXRpbC5nZXRSZWR1Y3Rpb25BeGVzIiwiYXBwbHlBY3RpdmF0aW9uIiwicHJlbHVBY3RpdmF0aW9uV2VpZ2h0cyIsInNob3VsZEZ1c2UiLCJmdXNlZENvbnYyZF8iLCJ1bmZ1c2VkQ29udjJkIiwiJGJpYXMiLCIkcHJlbHVBY3RpdmF0aW9uV2VpZ2h0cyIsImJyb2FkY2FzdF91dGlsLmFzc2VydEFuZEdldEJyb2FkY2FzdFNoYXBlIiwiY29udl91dGlsLnR1cGxlVmFsdWVzQXJlT25lIiwiZGVyIiwiYmlhc0RlciIsImZvcndhcmQiLCJmdXNlZENvbnYyZCIsImN1c3RvbU9wV2l0aEJpYXMiLCJkZXB0aHdpc2VDb252MmROYXRpdmVCYWNrcHJvcEZpbHRlciIsImRlcHRod2lzZUNvbnYyZE5hdGl2ZUJhY2twcm9wRmlsdGVyXyIsImRlcHRod2lzZUNvbnYyRERlckZpbHRlciIsImRlcHRod2lzZUNvbnYyZE5hdGl2ZUJhY2twcm9wSW5wdXQiLCJkZXB0aHdpc2VDb252MmROYXRpdmVCYWNrcHJvcElucHV0XyIsImRlcHRod2lzZUNvbnYyRERlcklucHV0IiwiZnVzZWREZXB0aHdpc2VDb252MmRfIiwidW5mdXNlZERlcHRod2lzZUNvbnYyZCIsInhEZXIiLCJmaWx0ZXJEZXIiLCJmdXNlZERlcHRod2lzZUNvbnYyRCIsImZ1c2VkTWF0TXVsXyIsInVuZnVzZWRNYXRNdWwiLCJhRGVyIiwiYkRlciIsImZ1c2VkQmF0Y2hNYXRNdWwiLCJoYW1taW5nV2luZG93IiwiaGFtbWluZ1dpbmRvd18iLCJoYW5uV2luZG93IiwiaGFubldpbmRvd18iLCJmcmFtZSIsImZyYW1lXyIsInNpZ25hbCIsImZyYW1lTGVuZ3RoIiwiZnJhbWVTdGVwIiwicGFkVmFsdWUiLCJwYWRMZW4iLCJzdGZ0Iiwic3RmdF8iLCJ3aW5kb3dGbiIsImZyYW1lZFNpZ25hbCIsIndpbmRvd2VkU2lnbmFsIiwiY3JvcEFuZFJlc2l6ZSIsImNyb3BBbmRSZXNpemVfIiwiYm94SW5kIiwiJGltYWdlIiwiJGJveGVzIiwiJGJveEluZCIsIm51bUJveGVzIiwiZmxpcExlZnRSaWdodCIsImZsaXBMZWZ0UmlnaHRfIiwicm90YXRlV2l0aE9mZnNldCIsInJvdGF0ZVdpdGhPZmZzZXRfIiwicmFkaWFucyIsImZpbGxWYWx1ZSIsImNlbnRlciIsIm5vbk1heFN1cHBTYW5pdHlDaGVjayIsInNvZnRObXNTaWdtYSIsIk5FR0FUSVZFX0lORklOSVRZIiwibm9uTWF4U3VwcHJlc3Npb24iLCJub25NYXhTdXBwcmVzc2lvbl8iLCIkc2NvcmVzIiwiYmluYXJ5SW5zZXJ0IiwiZWxlbWVudCIsImNvbXBhcmF0b3IiLCJtaWRkbGUiLCJjb21wYXJlUmVzdWx0IiwiYmluYXJ5U2VhcmNoXyIsImRlZmF1bHRDb21wYXJhdG9yIiwiYmluYXJ5U2VhcmNoIiwiaW5zZXJ0aW9uUG9pbnQiLCJub25NYXhTdXBwcmVzc2lvblYzSW1wbCIsIm5vbk1heFN1cHByZXNzaW9uSW1wbF8iLCJzZWxlY3RlZEluZGljZXMiLCJub25NYXhTdXBwcmVzc2lvblY0SW1wbCIsInBhZFRvTWF4T3V0cHV0U2l6ZSIsIm5vbk1heFN1cHByZXNzaW9uVjVJbXBsIiwicmV0dXJuU2NvcmVzVGVuc29yIiwicmV0dXJuVmFsaWRPdXRwdXRzIiwiY2FuZGlkYXRlcyIsInNjb3JlIiwic3VwcHJlc3NCZWdpbkluZGV4IiwiYXNjZW5kaW5nQ29tcGFyYXRvciIsInNlbGVjdGVkU2NvcmVzIiwiY2FuZGlkYXRlIiwib3JpZ2luYWxTY29yZSIsImlnbm9yZUNhbmRpZGF0ZSIsImlvdSIsImludGVyc2VjdGlvbk92ZXJVbmlvbiIsInN1cHByZXNzV2VpZ2h0IiwidmFsaWRPdXRwdXRzIiwiZWxlbXNUb1BhZCIsImlDb29yZCIsImpDb29yZCIsInltaW5JIiwieG1pbkkiLCJ5bWF4SSIsInhtYXhJIiwieW1pbkoiLCJ4bWluSiIsInltYXhKIiwieG1heEoiLCJhcmVhSSIsImFyZWFKIiwiaW50ZXJzZWN0aW9uWW1pbiIsImludGVyc2VjdGlvblhtaW4iLCJpbnRlcnNlY3Rpb25ZbWF4IiwiaW50ZXJzZWN0aW9uWG1heCIsImludGVyc2VjdGlvbkFyZWEiLCJ3ZWlnaHQiLCJjMSIsImMyIiwibm9uTWF4U3VwcHJlc3Npb25Bc3luYyIsImJveGVzQW5kU2NvcmVzIiwiYm94ZXNWYWxzIiwic2NvcmVzVmFscyIsIm5vbk1heFN1cHByZXNzaW9uV2l0aFNjb3JlIiwibm9uTWF4U3VwcHJlc3Npb25XaXRoU2NvcmVfIiwibm9uTWF4U3VwcHJlc3Npb25XaXRoU2NvcmVBc3luYyIsIm5vbk1heFN1cHByZXNzaW9uUGFkZGVkIiwibm9uTWF4U3VwcHJlc3Npb25QYWRkZWRfIiwibm9uTWF4U3VwcHJlc3Npb25QYWRkZWRBc3luYyIsIiRtYXhPdXRwdXRTaXplIiwiJGlvdVRocmVzaG9sZCIsIiRzY29yZVRocmVzaG9sZCIsInJlc2l6ZUJpbGluZWFyIiwicmVzaXplQmlsaW5lYXJfIiwiaW1hZ2VzIiwiJGltYWdlcyIsImJhdGNoSW1hZ2VzIiwicmVzaXplTmVhcmVzdE5laWdoYm9yIiwicmVzaXplTmVhcmVzdE5laWdoYm9yXyIsImJhbmRQYXJ0IiwiYmFuZFBhcnRfIiwibnVtTG93ZXIiLCJudW1VcHBlciIsIk0iLCJOIiwiaWoiLCJpbkJhbmQiLCJ6ZXJvIiwibWF0IiwiZ3JhbVNjaG1pZHQiLCJncmFtU2NobWlkdF8iLCJpbnB1dElzVGVuc29yMkQiLCJkaW1fMSIsInlzIiwieHMxZCIsInByb2oiLCJxcjJkIiwiZnVsbE1hdHJpY2VzIiwicSIsIm9uZTJEIiwiaXRlcnMiLCJyVGVtcCIsIndUZW1wIiwicVRlbXAiLCJSZWR1Y3Rpb24iLCJxciIsInFyXyIsIm91dGVyRGltc1Byb2QiLCJ4MmRzIiwicTJkc18xIiwicjJkc18xIiwieDJkIiwicTJkIiwicjJkIiwiY29tcHV0ZVdlaWdodGVkTG9zcyIsImNvbXB1dGVXZWlnaHRlZExvc3NfIiwibG9zc2VzIiwicmVkdWN0aW9uIiwiU1VNX0JZX05PTlpFUk9fV0VJR0hUUyIsIiRsb3NzZXMiLCIkd2VpZ2h0cyIsIndlaWdodGVkTG9zcyIsIk5PTkUiLCJTVU0iLCJNRUFOIiwiYnJvYWRjYXN0RmFjdG9yIiwiYnJvYWRjYXN0ZWRXZWlnaHRzIiwibnVtTm9uWmVyb3MiLCJhYnNvbHV0ZURpZmZlcmVuY2UiLCJhYnNvbHV0ZURpZmZlcmVuY2VfIiwiY29zaW5lRGlzdGFuY2UiLCJjb3NpbmVEaXN0YW5jZV8iLCJoaW5nZUxvc3MiLCJoaW5nZUxvc3NfIiwiaHViZXJMb3NzIiwiaHViZXJMb3NzXyIsImRlbHRhIiwiZGVsdGFTY2FsYXIiLCJxdWFkcmF0aWMiLCJsaW5lYXIiLCJsb2dMb3NzIiwibG9nTG9zc18iLCJlcHNpbG9uU2NhbGFyIiwibDEiLCJsMiIsIm1lYW5TcXVhcmVkRXJyb3IiLCJtZWFuU3F1YXJlZEVycm9yXyIsInNpZ21vaWRDcm9zc0VudHJvcHkiLCJzaWdtb2lkQ3Jvc3NFbnRyb3B5XyIsIm11bHRpQ2xhc3NMYWJlbHMiLCJsYWJlbFNtb290aGluZyIsIiRtdWx0aUNsYXNzTGFiZWxzIiwibGFiZWxTbW9vdGhpbmdTY2FsYXIiLCJtYXhPdXRwdXQiLCJvdXRwdXRYVGFyZ2V0Iiwic2lnbW9pZE91dHB1dCIsInNpZ21vaWRDcm9zc0VudHJvcHlXaXRoTG9naXRzXyIsInNvZnRtYXhDcm9zc0VudHJvcHkiLCJzb2Z0bWF4Q3Jvc3NFbnRyb3B5XyIsIm9uZWhvdExhYmVscyIsIiRvbmVob3RMYWJlbHMiLCJsc2UiLCJsb2dSZXN1bHQiLCJjb3N0VmVjdG9yIiwiZHlTaGFwZSIsInNvZnRtYXhDcm9zc0VudHJvcHlXaXRoTG9naXRzXyIsInNwZWN0cmFsIiwibGluYWxnIiwiT3B0aW1pemVyIiwicmV0dXJuQ29zdCIsImdyYWRBcnJheSIsImFwcGx5R3JhZGllbnRzIiwiaXRlcmF0aW9uc18iLCJpdGVyYXRpb25zIiwid2VpZ2h0VmFsdWVzIiwiZ2V0Q2xhc3NOYW1lIiwibWluaW1pemUiLCJjb21wdXRlR3JhZGllbnRzIiwibGVhcm5pbmdSYXRlIiwicmhvIiwiQWRhZGVsdGFPcHRpbWl6ZXIiLCJ2YXJpYWJsZUdyYWRpZW50cyIsImFjY3VtdWxhdGVkR3JhZHMiLCJvcmlnaW5hbE5hbWUiLCJhY2N1bXVsYXRlZFVwZGF0ZXMiLCJhY2N1bXVsYXRlZEdyYWQiLCJhY2N1bXVsYXRlZFVwZGF0ZSIsIm5ld0FjY3VtdWxhdGVkR3JhZCIsIm5ld0FjY3VtdWxhdGVkVXBkYXRlIiwiaW5jcmVtZW50SXRlcmF0aW9ucyIsInZhcmlhYmxlcyIsInNhdmVJdGVyYXRpb25zIiwiZXh0cmFjdEl0ZXJhdGlvbnMiLCJ2YXJpYWJsZUNvdW50IiwiaW5pdGlhbEFjY3VtdWxhdG9yVmFsdWUiLCJBZGFncmFkT3B0aW1pemVyIiwiYmV0YTEiLCJiZXRhMiIsImFjY0JldGExIiwiYWNjQmV0YTIiLCJBZGFtT3B0aW1pemVyIiwidmFyTmFtZXMiLCJvbmVNaW51c0FjY0JldGExIiwib25lTWludXNBY2NCZXRhMiIsImFjY3VtdWxhdGVkRmlyc3RNb21lbnQiLCJhY2N1bXVsYXRlZFNlY29uZE1vbWVudCIsImZpcnN0TW9tZW50Iiwic2Vjb25kTW9tZW50IiwibmV3Rmlyc3RNb21lbnQiLCJuZXdTZWNvbmRNb21lbnQiLCJiaWFzQ29ycmVjdGVkRmlyc3RNb21lbnQiLCJiaWFzQ29ycmVjdGVkU2Vjb25kTW9tZW50IiwiaXRlcmF0aW9uIiwiQWRhbWF4T3B0aW1pemVyIiwidmFyaWFibGVOYW1lcyIsImxyIiwiYWNjdW11bGF0ZWRXZWlnaHRlZEluZk5vcm0iLCJ3ZWlnaHRlZEluZk5vcm0iLCJ1dDAiLCJ1dDEiLCJuZXdXZWlnaHRlZEluZk5vcm0iLCJzZXRMZWFybmluZ1JhdGUiLCJTR0RPcHRpbWl6ZXIiLCJtb21lbnR1bSIsInVzZU5lc3Rlcm92IiwiTW9tZW50dW1PcHRpbWl6ZXIiLCJhY2N1bXVsYXRpb25zIiwiYWNjdW11bGF0aW9uIiwibmV3QWNjdW11bGF0aW9uIiwiY2VudGVyZWQiLCJSTVNQcm9wT3B0aW1pemVyIiwiYWNjdW11bGF0ZWRNZWFuU3F1YXJlcyIsImFjY3VtdWxhdGVkTW9tZW50cyIsImFjY3VtdWxhdGVkTWVhbkdyYWRzIiwiYWNjdW11bGF0ZWRNZWFuU3F1YXJlIiwibmV3QWNjdW11bGF0ZWRNZWFuU3F1YXJlIiwiYWNjdW11bGF0ZWRNZWFuR3JhZCIsIm5ld0FjY3VtdWxhdGVkTWVhbkdyYWQiLCJncmFkQ29udHJpYnV0aW9uIiwibmV3QWNjdW11bGF0ZWRNb21lbnRzIiwibmV3QWNjdW11bGF0ZWRNZWFuU3F1YXJlXzEiLCJPcHRpbWl6ZXJDb25zdHJ1Y3RvcnMiLCJ0cmFpbiIsInNnZCIsImFkYWRlbHRhIiwiYWRhZ3JhZCIsInJtc3Byb3AiLCJhZGFtYXgiLCJhZGFtIiwiZGVsYXlDYWxsYmFjayIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsInNldEltbWVkaWF0ZSIsInplcm9zVGVuc29yIiwiZmxvYXRYIiwiaW50IiwiaW5SYW5rIiwiaW5wdXRDaGFubmVscyIsImltYWdlSGVpZ2h0IiwiaW1hZ2VXaWR0aCIsImJhdGNoVG9TcGFjZSIsInJlc2hhcGVkIiwic3BhdGlhbExlbmd0aCIsInJlc2hhcGVkUmFuayIsImJsb2NrU2hhcGVSYW5rIiwicGVybXV0ZWQiLCJwZXJtdXRlZEJlZm9yZUJhdGNoIiwicGVybXV0ZWRBZnRlckJhdGNoIiwicmVzaGFwZWRQZXJtdXRlZCIsInNsaWNlQmVnaW5Db29yZHMiLCJ1bmNyb3BwZWRTaGFwZSIsImludmVyc2UiLCJzbGljZVQiLCJ4QnVmIiwibmV3TG9jIiwib3JpZ2luYWxMb2MiLCJvcmlnaW5hbEluZGV4IiwieER0eXBlIiwiYWxsVG9wS1ZhbHMiLCJhbGxUb3BLSW5kaWNlcyIsIm91dE9mZnNldCIsInRvcEtWYWxzIiwidG9wS0luZGljZXMiLCJhYnNHcmFkQ29uZmlnIiwiYWNvc0dyYWRDb25maWciLCJhY29zaEdyYWRDb25maWciLCJhZGRHcmFkQ29uZmlnIiwiYWRkTkdyYWRDb25maWciLCJkZXJzIiwiYXJnTWF4R3JhZENvbmZpZyIsImFyZ01pbkdyYWRDb25maWciLCJhc2luR3JhZENvbmZpZyIsImFzaW5oR3JhZENvbmZpZyIsImF0YW4yR3JhZENvbmZpZyIsImF0YW5HcmFkQ29uZmlnIiwiYXRhbmhHcmFkQ29uZmlnIiwiYXZnUG9vbDNkQmFja3Byb3AiLCJhdmdQb29sM2RCYWNrcHJvcF8iLCIkZHkiLCJpbnB1dDVEIiwiYXZnUG9vbDNER3JhZENvbmZpZyIsIiRkaWxhdGlvbnMiLCJhdmdQb29sQmFja3Byb3AiLCJhdmdQb29sQmFja3Byb3BfIiwiYXZnUG9vbEdyYWRDb25maWciLCJiYXRjaE1hdE11bEdyYWRDb25maWciLCJiYXRjaFRvU3BhY2VOREdyYWRDb25maWciLCJicm9hZGNhc3RUb0dyYWRDb25maWciLCJicm9hZENhc3RUb0F0dHJzIiwiY2FzdEdyYWRDb25maWciLCJjZWlsR3JhZENvbmZpZyIsImNsaXBCeVZhbHVlR3JhZENvbmZpZyIsImNvbmNhdEdyYWRDb25maWciLCJjb252MkRHcmFkQ29uZmlnIiwiY29udjJEQmFja3Byb3BJbnB1dEdyYWRDb25maWciLCJkZHgiLCJjb252M0RCYWNrcHJvcEZpbHRlciIsImNvbnYzREJhY2twcm9wRmlsdGVyXyIsImNvbnYzZERlckZpbHRlciIsImNvbnYzREdyYWRDb25maWciLCJjb3NHcmFkQ29uZmlnIiwiY29zaEdyYWRDb25maWciLCJjdW1zdW1HcmFkQ29uZmlnIiwiZGVwdGh3aXNlQ29udjJkTmF0aXZlR3JhZENvbmZpZyIsImRpbGF0aW9uMmRHcmFkQ29uZmlnIiwiaW5wdXRJbnB1dHMiLCJmaWx0ZXJJbnB1dHMiLCJkaXZHcmFkQ29uZmlnIiwidG1wIiwiZWx1R3JhZENvbmZpZyIsImJhY2tQcm9wS2VybmVsRnVuYyIsImVsdURlciIsImVyZkdyYWRDb25maWciLCJleHBHcmFkQ29uZmlnIiwiZXhwbTFHcmFkQ29uZmlnIiwiZmxvb3JHcmFkQ29uZmlnIiwiZmxvb3JEaXZHcmFkQ29uZmlnIiwiZnVzZWRCYXRjaE5vcm1HcmFkQ29uZmlnIiwic2NhbGVWYWx1ZSIsInRpbGVTaGFwZSIsInhNaW51c01lYW4iLCJkeVRpbWVzU2NhbGVWYWx1ZSIsIm9uZU92ZXJTcXJ0VmFyaWFuY2UiLCJtaW51c0hhbGZSQ3ViZSIsIm1lYW5EZXIiLCJ2YXJpYW5jZURlciIsInhNaW51c01lYW4yVGltZXNSc3FydCIsInNjYWxlRGVyIiwib2Zmc2V0RGVyIiwiZ2F0aGVyR3JhZENvbmZpZyIsInBhcmFtc1NoYXBlIiwiaW5kaWNlc1NpemUiLCJvdXRlclNoYXBlIiwib3V0ZXJEaW1zIiwiaW5uZXJTaGFwZSIsImlubmVyRGltcyIsIm91dGVyQXhlc0luZGljZXMiLCJhcnJheVJhbmdlIiwiaW5uZXJBeGVzSW5kaWNlcyIsInZhbHVlc1NoYXBlIiwiYXJyYXlDb25jYXQiLCJyZXNoYXBlZEluZGljZXMiLCJ0cmFuc3Bvc2VEaW1zIiwidmFsdWVzVHJhbnNwb3NlIiwicGFyYW1zR3JhZCIsImludmVydFRyYW5zcG9zZURpbXMiLCJhcnJheXMiLCJncmVhdGVyRXF1YWxHcmFkQ29uZmlnIiwiaWRlbnRpdHlHcmFkQ29uZmlnIiwiaXNGaW5pdGVHcmFkQ29uZmlnIiwiaXNJbmZHcmFkQ29uZmlnIiwiaXNOYW5HcmFkQ29uZmlnIiwibG9nMXBHcmFkQ29uZmlnIiwibG9nR3JhZENvbmZpZyIsImxvZ1NvZnRtYXhHcmFkQ29uZmlnIiwibG9jYWxSZXNwb25zZU5vcm1hbGl6YXRpb25CYWNrcHJvcCIsImxvY2FsUmVzcG9uc2VOb3JtYWxpemF0aW9uQmFja3Byb3BfIiwiTFJOR3JhZCIsImxybkdyYWRDb25maWciLCJncmFkRm9yTWluQW5kTWF4IiwieE9yaWciLCJtYXhHcmFkQ29uZmlnIiwibWF4R3JhZCIsIm1heGltdW1HcmFkQ29uZmlnIiwibWF4UG9vbDNkQmFja3Byb3AiLCJtYXhQb29sM2RCYWNrcHJvcF8iLCIkb3V0cHV0Iiwib3V0cHV0NUQiLCJtYXhQb29sM0RHcmFkQ29uZmlnIiwibWF4UG9vbEJhY2twcm9wIiwibWF4UG9vbEJhY2twcm9wXyIsInBhZFYyR3JhZENvbmZpZyIsInNwYWNlVG9CYXRjaE5ER3JhZENvbmZpZyIsInNwbGl0VkdyYWRDb25maWciLCJncmFkQ29uZmlnc18xIiwibWluR3JhZCIsImV4cEZsb2F0IiwibG9nQmFzZSIsInJlc2l6ZUJpbGluZWFyQmFja3Byb3AiLCJyZXNpemVOZWFyZXN0TmVpZ2hib3JCYWNrcHJvcCIsInNjYWxlQWxwaGEiLCJncmVhdGVyVGhhblplcm9EZXIiLCJsZXNzRXF1YWxaZXJvRGVyIiwiZHlUaW1lc1kiLCJ0d28iLCJkZXJYIiwieEdyYWQiLCJ1bmRvUGVybSIsImF4aXNfdXRpbC5nZXRVbmRvQXhlc1Blcm11dGF0aW9uIiwiemVyb0NsaXBwZWRJbmRpY2VzIiwiZ2F0aGVyZWQiLCJpc1Bvc2l0aXZlIiwibnVtSXRlcnMiLCJ6ZXJvU2xpY2UiLCJnYXRoZXJEcm9wTmVnYXRpdmVzIiwicHJvdG90eXBlIiwiYXNTY2FsYXIiLCJhc1R5cGUiLCJhczFEIiwicm93cyIsImNvbHVtbnMiLCJhczNEIiwiYXM0RCIsImRlcHRoMiIsImFzNUQiLCJkZXB0aDMiLCJwYWRkaW5nIiwiZGlsYXRpb25SYXRlIiwicmVzaGFwZUFzIiwibmV3U2hhcGUyRCIsInRlbnNvcnNUb0JlU3RhY2tlZCIsInRvQm9vbCIsInRvRmxvYXQiLCJ0b0ludCIsInJlZ2lzdGVyZWRCYWNrZW5kTmFtZSIsIm5ld0JhY2tlbmROYW1lIiwia2VybmVsQ29uZmlnIiwiZGlzcG9zZVZhcmlhYmxlcyIsImZpbmRCYWNrZW5kIiwiZmluZEJhY2tlbmRGYWN0b3J5IiwiJGFyZ3MiLCJsaW5zcGFjZSIsInByb2ZpbGUiLCJyZWFkeSIsInJlZ2lzdGVyQmFja2VuZCIsInJlbW92ZUJhY2tlbmQiLCJncmFkaWVudHMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7eXlEQXNCTyxpQkEyQkwsV0FBb0JBLEVBQWdDQyxHQUFoQ0MsYUFBQUYsRUFBZ0NFLGVBQUFELEVBSDVDQyxVQUFPLElBQUlDLFFBQ1hELGtCQUFlLEVBNEJ6QixPQXhCRUUsZ0JBQUEsU0FBSUMsR0FJRixPQUhLSCxLQUFLSSxLQUFLQyxJQUFJRixJQUNqQkgsS0FBS0QsVUFBVU8sU0FBU04sS0FBS0YsUUFBU0ssR0FFakNILEtBQUtJ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
